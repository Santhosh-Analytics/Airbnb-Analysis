"use strict";var marker;this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5],{412154:function(ze,K,r){r.d(K,{JO:function(){return e},LN:function(){return T},OI:function(){return o},VA:function(){return v},hN:function(){return N},lr:function(){return B},ms:function(){return h},ty:function(){return c},yE:function(){return R}});var t=r(778186),c="contentPackDirty",v=-1,e="#loading#",h="#error#",o="CannotDeleteModelPublishedToOrganizationalApp",T=!1,R="/"+(0,t.Xr)()+"/images/modelPlaceholder.png",B="1.6",N="No visual type"},948261:function(ze,K,r){r.d(K,{O:function(){return c},u:function(){return t}});var t={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function c(){var i;return(i={}).Light={name:"Light",foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},i.Dark={name:"Dark",foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},i["Color-blind friendly"]={name:"Color-blind friendly",background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},i}},419509:function(ze,K,r){r.d(K,{G7:function(){return i},YU:function(){return t},pF:function(){return c}});var t=function(s){return s[s.composite=0]="composite",s[s.iframe=1]="iframe",s[s.image=2]="image",s[s.model=3]="model",s[s.ssrs=4]="ssrs",s[s.workbook=5]="workbook",s[s.report=6]="report",s[s.realTime=8]="realTime",s}({}),c=function(s){return s[s.NamedRange=0]="NamedRange",s[s.Parameter=1]="Parameter",s[s.Table=2]="Table",s[s.PivotTable=3]="PivotTable",s[s.Chart=4]="Chart",s[s.WebExtension=5]="WebExtension",s}({}),i=function(s){return s[s.PowerBIServiceException=0]="PowerBIServiceException",s[s.DSRException=1]="DSRException",s}({})},922339:function(ze,K,r){r.d(K,{NQ:function(){return t},a7:function(){return c}});var t={name:"syncServiceDashboardEdited",type:4},c={name:"syncServiceDashboardDeepEdited",type:4}},130740:function(ze,K,r){r.d(K,{_p:function(){return i}});var i={color:"#374649",fontColor:"#FFF"}},913719:function(ze,K,r){r.d(K,{m:function(){return t}});var t=function(c){return c[c.Dashboard=0]="Dashboard",c[c.Report=1]="Report",c[c.Model=2]="Model",c[c.Workbook=3]="Workbook",c}({})},519375:function(ze,K,r){r.d(K,{A:function(){return p}});var t=r(497610),c=r(166851),i=r(572417),p=function(){function V(m){this.contract=m,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=m&&null!=m.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId="".concat(t.ty.Dashboard,"_").concat(this.contract.id)}return V.prototype.getPermissions=function(){var m;return this.getPermissionsCallback&&null!=(m=this.getPermissionsCallback())?m:this.contract&&this.contract.permissions},V.prototype.increaseHitCount=function(){this.hitCount++},Object.defineProperty(V.prototype,"tiles",{get:function(){return this.lazyTiles||(this.lazyTiles=new c.o(function(){return[]})),this.lazyTiles.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"id",{get:function(){return this.contract.id},set:function(v){this.contract.id=v},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"folderId",{get:function(){return this.contract.folderId},set:function(v){this.contract.folderId=v},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"canEdit",{get:function(){return(0,i.cl)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"contentTileType",{get:function(){return t.ty.Dashboard},enumerable:!1,configurable:!0}),V.prototype.isFilled=function(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length},V.prototype.calculateLayout=function(){this.layoutRequired=!1;var m=this.tiles;if(!_.isEmpty(m))for(var v=0,e=m;v<e.length;v++)e[v].calculateLayout()},V.prototype.applyLayout=function(){var m=this.tiles;if(!_.isEmpty(m))for(var v=0,e=m;v<e.length;v++)e[v].applyLayout()},V.prototype.runLayoutIfRequired=function(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},V.prototype.scheduleDelayedLayout=function(m){var v=this;void 0===m&&(m=!1),this.layoutRequired||(this.layoutRequired=!0,m||setTimeout(function(){v.layoutRequired&&(v.calculateLayout(),v.applyLayout())},100))},V.prototype.findTile=function(m){return _.find(this.tiles,function(v){return v.id===m})},V.prototype.findTileByObjectIdOrOriginalObjectId=function(m,v){if(m||v)return _.find(this.tiles,function(e){return!_.isEmpty(m)&&e.contract.objectId===m||!_.isEmpty(v)&&e.contract.originalTileObjectId===v})},V.prototype.getTileIndex=function(m){return _.findIndex(this.tiles,function(v){return v.id===m})},V.prototype.getTileContractIndex=function(m){return _.findIndex(this.contract.tiles,function(v){return v.id===m})},V.prototype.getUniquePackageId=function(){var m=this.contract;return m.originalPackageId?m.originalPackageId:m.packageIds&&1===m.packageIds.length?m.packageIds[0]:void 0},V.prototype.hasModel=function(m){return _.some(this.tiles,function(v){return v.contract.modelId===m})},V.prototype.hasOwnerInfo=function(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)},V}()},166122:function(ze,K,r){r.d(K,{o:function(){return V}});var t=r(37743),c=r(787941),i=r(690016),s=r(211070),p=window,V=function(){function m(v,e){c.fF.assertAnyValue(v,"datasetInfo"),c.fF.assertAnyValue(e,"definition"),this.datasetInfo=v,this.definition=e}return Object.defineProperty(m.prototype,"databaseName",{get:function(){return this.datasetInfo.databaseName},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"primaryKey",{get:function(){return this.datasetInfo.resourceKey},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"secondaryKey",{get:function(){return this.datasetInfo.resourceKeySecondary},enumerable:!1,configurable:!0}),m.prototype.getPushUrl=function(){var v=window.tenantId,e=window.apiUri;"https://wabi-staging-us-east-redirect.analysis.windows.net"===p.clusterUri&&(e="https://powerbistagingapi.analysis.windows.net"),c.fF.assertValue(e,"apiURI"),c.fF.assertValue(v,"tenantId");var o=i.b$.urlCombine(e,"/beta/"+v+"/datasets/"+this.databaseName+"/rows"),u={};return u.key=this.primaryKey,t.s.addOrUpdateQueryStringToUrl(o,u)},m.createRealTimeDatasetDefinition=function(v,e,h){c.fF.assertValue(v,"modelName"),c.fF.assertValue(h,"schema");var n=h.schema(s.db).entities;c.fF.assert(function(){return n&&1===n.length},"Exactly 1 entity is expected");var o=_.head(n),u=[];return _.map(o.properties,function(a){u.push({name:a.displayName,dataType:m.convertToRealTimeDataType(a.type)})}),{name:v,columns:u,mode:e,tableName:o.name}},m.convertToRealTimeDataType=function(v){switch(c.fF.assertValue(v,"type"),v.primitiveType){case 3:case 4:return 1;case 7:return 2;case 1:return 0;case 5:return 3;default:c.fF.assertFail("Unsupported data type")}},m}()},148886:function(ze,K,r){r.d(K,{b:function(){return s}});var t=r(419509),c=r(243877),i=r(922820);function s(p,V){if(p&&p.type===t.YU.realTime){var m=V.tileModelConverter.convertTileConfig(p);V.tileModelConverter.convertTileLayoutConfig(p);var v=new i.V(p,V.visualPlugin,V.visualPluginOps,V.featureSwitchService,V.geolocationService,V.geocoder,V.promiseFactory,V.moduleLoader,V.telemetryService,V.themeService,V.authenticationService,V.localizationService,V.visualHostTooltipService,V.azureMapTokenCache,V.azureMapsEndpoint,V.geocoderIndexedDB);m&&m.realTimeVisual&&(v.config=m.realTimeVisual),v.displayText=p.displayText,v.subDisplayText=p.subDisplayText;var e=(0,c.gq)(p);return v.size={rowSpan:e.height,colSpan:e.width},v}}},889377:function(ze,K,r){r.d(K,{Gj:function(){return w},NP:function(){return R},O4:function(){return E},qX:function(){return T},r5:function(){return M},r_:function(){return P}});var t=r(415859),c=r(95788),i=r(160046),s=r(749559),p=r(613181),V=r(320569),m=r(318220),v=r(787941),e=r(690016),h=r(668268),n=r(796899),o=r(412154),u=r(419509),a=r(243877),l=r(935326),d=r(456535),b=100;function E(F,O,L){v.fF.assertValue(F,"pinData");var W=function(F,O){var L,W,U,j,z=function(F,O){var L={$visualContainer:F.visualContainer,$modelExtensions:F.modelExtensions,themeCollection:n.P.cloneThemeCollection(F.themeCollection),dataSourceVariables:F.dataSourceVariables};return function(F,O,L,W,U,j,z,G,te){W&&(F.layoutType=W),L&&(F.elements=L),U&&(F.queryMetadata=U),z&&(F.heading1=z),j&&(F.heading2=j),G&&(F.heading3=G),O&&(F.transform=c.F.serializeTransformActions(c.F.serializeDataViewTransformActions(O,te&&te.objects)))}(L,F.dataTransforms,F.elements,F.tileLayoutType,F.queryMetadata,F.tileFilterDetails,F.tileHeading,F.tileSubDisplay,O),L}(F,O),G={version:o.lr},te=null===(W=null===(L=F.visualContainer.config.singleVisual.vcObjects)||void 0===L?void 0:L.title)||void 0===W?void 0:W.find(function(H){return!H.selector});if(G.hideTitle=!1===(null===(j=null===(U=null==te?void 0:te.properties)||void 0===U?void 0:U.show)||void 0===j?void 0:j.value),null!=F.realTimeDataWindow){var Q=z;Q.dataWindow=F.realTimeDataWindow,G.realTimeVisual=Q}else G.visualContainer=z;return G}(F,O);F.tileDataType&&(W.tileDataType=F.tileDataType);var U=function(F,O,L,W,U){v.fF.assert(function(){return O===u.YU.composite||O===u.YU.realTime},"Invalid type"),v.fF.assertValue(F,"tileConfig");var j=V.a9,z=V.lZ;(0,l.s)(F)===m.L.card.name&&(j=V.gY,z=V.eg);var G=L?{modelQuery:{sq:JSON.stringify(L)}}:null,te=(0,a.Pl)({width:j,height:z}),Q={id:++b,type:O,query:G,$config:F,tileData:W?N(W.data):null,tileDataSet:W,layoutConfig:JSON.stringify(te),$layoutConfig:te},H=F.visualContainer;return H&&(Q.displayText=H.heading1,Q.subDisplayText=H.heading3),U&&(Q.modelId=U.id),Q}(W,null!=F.realTimeDataWindow?u.YU.realTime:u.YU.composite,F.query,F.dataViewSource,L);return U.publishState=2,F.action&&(U.action=JSON.stringify(F.action)),null!=F.utterance&&(U.query.modelQuery.utterance=F.utterance),F.name&&(U.name=F.name),U.reportId=F.reportId,F.modelId&&(U.modelId=F.modelId),F.packageId&&(U.packageId=F.packageId),U.resourcePackageIds=F.resourcePackageIds,U}function P(F,O,L,W,U,j,z,G,te,Q,H,de){var se,Y={version:o.lr};(G||te)&&(Y.reportTile={pod:G,filters:te}),Q&&(se={modelQuery:{utterance:Q}});var ve=H?H/(2*p.A4):2,De=de?de/(2*p.lT):2;0===Math.round(ve)&&(ve=2),0===Math.round(De)&&(ve=2);var We=Math.round(V.a9*ve),je=Math.round(V.lZ*De);We=We>(0,s.bq)()?(0,s.bq)():We,je=je>(0,s.be)()?(0,s.be)():je;var Ae=(0,a.Pl)({width:We,height:je});return{id:++b,type:u.YU.report,displayText:U,subDisplayText:j,action:JSON.stringify(z),reportId:F,sectionId:W,modelId:O,packageId:L,publishState:2,query:se,config:Y?JSON.stringify(Y):void 0,$config:Y,layoutConfig:JSON.stringify(Ae),$layoutConfig:Ae}}function M(F){return 1===F.publishState}function T(F){return 20===F.errorCode}function R(F,O){var L=[],W=function(F,O){var L=[{id:1,title:O.get("AddWidgetModal_IframeOption_Title"),description:O.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:u.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:1,name:"webContent"}},$layoutConfig:(0,a.Pl)()},disabled:!F,tooltip:F?void 0:O.get("Dashboard_WebContentTiles_Disabled")},{id:2,title:O.get("Image"),description:O.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:u.YU.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:2,name:"image"}},$layoutConfig:(0,a.Pl)()}},{id:3,title:O.get("Textbox"),description:O.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:u.YU.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:0,$visualContainer:{name:e.b$.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:3,name:"textbox"}},$layoutConfig:(0,a.Pl)()}},{id:4,title:O.get("AddWidgetModal_VideoOption_Title"),description:O.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:u.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:4,name:"video"}},$layoutConfig:(0,a.Pl)()},disabled:!F,tooltip:F?void 0:O.get("Dashboard_WebContentTiles_Disabled")}];return{title:O.get("Add_Widgets_Section_Title"),tiles:L}}(F,O);W&&!_.isEmpty(W.tiles)&&L.push(W);var U=function(F){var O=[];return O.push({id:6,title:F.get("Realtime_TileTitle"),description:F.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:u.YU.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:0,$visualContainer:{name:e.b$.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,a.Pl)({width:V.gY,height:V.eg})}}),{title:F.get("Add_Realtime_Section_Title"),tiles:O}}(O);return U&&!_.isEmpty(U.tiles)&&L.push(U),_.cloneDeep(L)}function N(F){if(void 0!==F)return JSON.stringify(F,function(O,L){return O&&O.charAt&&"$"===O.charAt(0)?void 0:L})}function w(F,O,L,W){if(F){var U=_.cloneDeep(F),j=U.realTimeVisual||U.visualContainer;if(j){if(v.fF.assertValue(O,"Exploration serializer is required when serializing a composite tile"),W)j.visualContainer=O.serializeVisualContainer((te=F.realTimeVisual||F.visualContainer).$visualContainer);else{var z=j.$visualContainer.config.singleVisual,G=(0,h.NA)(z.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);G&&(0,d.VC)(G)&&G.value&&(j.stylePresetName=G.value),j.visual=z.visualType,j.columnProperties=z.columnProperties;var te,Q=(te=F.realTimeVisual||F.visualContainer).$visualContainer.config.singleVisual.objects;if(Q){var H=L.capabilities(z.visualType);H&&H.objects&&(j.objects=(0,t.xF)(Q,H.objects,void 0,!0))}var de=F.visualContainer&&te.$visualContainer.config.singleVisual.vcObjects;de&&(j.vcObjects=(0,t.xF)(de,i.XW,void 0,!0)),U.visualContainer&&(U.visual=j,delete U.visualContainer),U.version="0.1"}j.$modelExtensions&&(j.modelExtensions=O.serializeModelExtensions(j.$modelExtensions)),delete j.$visualContainer,delete j.$modelExtensions}return JSON.stringify(U)}}},504159:function(ze,K,r){r.d(K,{N:function(){return o}});var t=r(159803),c=r(787941),i=r(725182),s=r(261374),p=r(690016),V=r(419509),m=r(373542),v=r(243877),e=r(395519),h=r(889377),n=r(32309);function o(a,l,d,b,f,g,S,y,C,E,D,P,M,T,R,B,N,x){return new u(a,l,d,b,f,g,S,y,C,E,D,P,M,T,R,B,N,x)}var u=function(){function a(l,d,b,f,g,S,y,C,E,D,P,M,T,R,B,N,x,A){this.geolocationService=l,this.telemetryService=d,this.visualPlugins=b,this.visualPluginOps=f,this.featureSwitchService=g,this.geocoder=S,this.promiseFactory=y,this.moduleLoader=C,this.tileConfigUpgraderService=E,this.explorationSerializer=D,this.themeService=P,this.authenticationService=M,this.localizationService=T,this.visualHostTooltipService=R,this.licenseUIManagerFactory=B,this.azureMapTokenCache=N,this.azureMapsEndpoint=x,this.geocoderIndexedDB=A}return a.prototype.convertCompositeTile=function(l){if(!l||l.type!==V.YU.composite)return null;var b,d=this.convertTileConfig(l);if(this.convertTileLayoutConfig(l),!d||!d.visualContainer)return c.fF.assertFail("Invalid composite tile type"),null;(b=new n.iI(l,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=d.visualContainer,b.displayText=l.displayText,b.subDisplayText=l.subDisplayText;var f=(0,v.gq)(l);if(b.size={rowSpan:f.height,colSpan:f.width},b.isLoading=(0,h.r5)(l),l.queryResultError){b.isError=!0;var g=l.queryResultError;this.telemetryService.logEvent(m.UH,{tileType:V.YU[V.YU.composite],message:(0,s.W)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,i.BB)(V.G7,g.type),g.errorDetail,g.rootActivityId,l.modelId.toString(),l.id.toString())});var S=(0,e.X7)(g,this.localizationService);S?(b.errorDetails=S,b.errorText=S.message):b.errorText=this.localizationService.get("Tile_ErrorText")}return b},a.prototype.convertTileData=function(l){if(l.tileDataSet)return l.tileDataSet;var d=this.convertTileConfig(l);try{l.tileDataSet=this.parseTileData(l,d.tileDataType)}catch(b){throw this.telemetryService.logEvent(m.UH,{tileType:V.YU[V.YU.composite],message:(0,s.W)("DsrParseError:{0} with modelId:{1} and tileId:{2}",b.message,l.modelId.toString(),l.id.toString())}),p.b$.ensureError(b)}return l.tileDataSet},a.prototype.convertTileConfig=function(l){c.fF.assertValue(l,"contract");var d=l.$config;if(!d){var b=(0,p.BL)("Parse tile config");try{var f=(d=l.$config=(0,e.M8)(l.config)).visualContainer||d.realTimeVisual;this.deserializeVisualContainer(f),this.deserializeModelExtensions(f||d.visual),this.tileConfigUpgraderService.upgrade(l.id,d,l.query)}catch(S){c.fF.assertFail("Unable to parse tile config")}finally{b()}}return d},a.prototype.convertTileLayoutConfig=function(l){if(c.fF.assertValue(l,"contract"),!l.$layoutConfig){var d=(0,e.mf)(l);l.$layoutConfig=d,l.layoutConfig=JSON.stringify(d)}return l.$layoutConfig},a.prototype.deserializeVisualContainer=function(l){l&&l.visualContainer&&!l.$visualContainer&&(l.$visualContainer=this.explorationSerializer.deserializeCanvasItem(l.visualContainer))},a.prototype.deserializeModelExtensions=function(l){l&&l.modelExtensions&&!l.$modelExtensions&&(l.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(l.modelExtensions))},a.prototype.parseTileData=function(l,d){var f,b=(0,p.BL)("Parse tile data");try{if(l.tileDataBinaryBase64Encoded){var g=(0,t.Wh)(l.tileDataBinaryBase64Encoded);f=JSON.parse(g)}else l.tileData&&(f=JSON.parse(l.tileData));return{type:d,data:f}}finally{b()}},a}()},32309:function(ze,K,r){r.d(K,{iI:function(){return S}});var t=r(226514),c=r(95788),i=r(85091),s=r(809395),p=r(251177),V=r(776791),m=r(49404),v=r(749559),e=r(320569),h=r(787941),n=r(145315),o=r(698129),u=r(668268),a=r(373542),l=r(395519),d=r(376705),b=r(456535),S=function(y){function C(E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,U){var j=y.call(this,E,D,P)||this;j.featureSwitchService=M,j.geolocationService=T,j.geocoder=R,j.promiseFactory=B,j.moduleLoader=N,j.telemetryService=x,j.themeService=A,j.authenticationService=I,j.localizationService=w,j.visualHostTooltipService=F,j.azureMapTokenCache=O,j.azureMapsEndpoint=L,j.geocoderIndexedDB=W,j.requiresResize=!1,h.fF.assertAnyValue(T,"geolocationService"),U&&(j.licenseUIManager=U.create());var z={onNotifyLicense:function(te){return j.onNotifyLicense(te)},onClearLicenseNotification:function(){return j.onClearLicenseNotification()},onNotifyFeatureBlocked:function(te){return j.onNotifyFeatureBlocked(te)}};return j._visual={hostServices:j.createHostServices(U?z:void 0),themeCollection:{}},j}return(0,t.__extends)(C,y),Object.defineProperty(C.prototype,"type",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"themeCollection",{get:function(){return this._visual&&this._visual.themeCollection},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"heading1",{get:function(){var D=this.config.heading1||"";if(!this.visual)return D;var P,M,T=this.visual.dataTransforms;T&&(P=T.selects);var R=this.visual.data;if(R&&(M=R.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var B=(0,s.VH)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,M,P);if(B.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,o.NA)(B.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var N=(0,o.NA)(B.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==N?this.cachedHeading=N:_.isEmpty(D)&&(D=" ")}}return this.cachedHeading||D},enumerable:!1,configurable:!0}),C.prototype.setThemeName=function(E){this.ensureVisual();var D=this._visual.themeCollection;D.customTheme=D.customTheme||(0,i.Mi)(E,1),D.customTheme.name=E},C.prototype.isDataStale=function(E){if(!E)return!1;var P=(0,m.ee)(this.contract.tileDataUpdatedTime),M=P&&P.getTime();return!!M&&E-M>36e5},C.prototype.setData=function(E,D,P){try{this.ensureVisual(),this._visual.data=E,this._visual.dataTransforms=D,this._visual.type=P,this.clearCache()}catch(M){this.telemetryService.logEvent(a.gc,{visualType:P,source:M.fileName,lineNumber:M.lineNumber,columnNumber:M.columnNumber,stack:M.stack,message:M.message})}},C.prototype.createHostServices=function(E){var D=this;return(0,p.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:function(){return D.azureMapTokenCache.getAzureMapToken()},azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:function(){return!0},onNotifyLicense:E&&E.onNotifyLicense,onClearLicenseNotification:E&&E.onClearLicenseNotification,onNotifyFeatureBlocked:E&&E.onNotifyFeatureBlocked})},C.prototype.ensureVisual=function(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())},Object.defineProperty(C.prototype,"config",{get:function(){return this._config},set:function(D){if(h.fF.assertValue(D,"The tile config must exist while setting it in a composite tile"),this._config=D,this._visual){var P=D.$visualContainer.config.singleVisual,M=P.visualType;this._visual.type=M;var T=(0,u.NA)(P.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=T&&(0,b.VC)(T)&&T.value,this._visual.themeCollection=_.cloneDeep(D.themeCollection);var R,B,N=this.visualPluginService.capabilities(M);N&&(R=N.objects,B=P.objects);var x=(0,V.K)(D.transform);this._visual.dataTransforms=x?c.F.deserializeDataViewTransformActions(x,N):c.F.createTransformActions(D.queryMetadata,D.elements,R,B)}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tileData",{get:function(){return this._tileData},set:function(D){this._tileData=D,this.readDataView(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tileDataIsVolatile",{get:function(){return this.contract.tileDataIsVolatile},enumerable:!1,configurable:!0}),C.prototype.refreshData=function(){this.readDataView(!1)},C.prototype.setDependencies=function(E){var D=!this.dataProxy&&this._tileData&&!this.isLoading;y.prototype.setDependencies.call(this,E),D&&this.refreshData()},C.prototype.readDataView=function(E){return(0,t.__awaiter)(this,void 0,void 0,function(){var D,P,M,T,R,B,N,A;return(0,t.__generator)(this,function(w){switch(w.label){case 0:if(D=this._visual.type,this.visual&&!this.requiresData())return this._visual.data={dataView:null},[2];if(h.fF.assertValue(this._tileData,"tileData should be defined."),!(P=this.dataProxy))return[2];if(this.contract.queryResultError&&((M=(0,l.X7)(this.contract.queryResultError,this.localizationService))?(this.isError=!0,this.errorDetails=M,this.errorText=M.message):this.errorText=this.localizationService.get("Tile_ErrorText")),!this._tileData||!this._tileData.data)return this.isLoading=!this.isError,[2];R={type:(T=this._tileData).type,query:{dataSources:null,command:T.data},allowResultFromClientCache:E,perfId:D,kinds:this.pluginOps.dataViewKinds(D)},B=null,this.dataLoadEventDelegate&&(B=this.dataLoadEventDelegate(),this.dataLoadEventDelegate=null),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,P.execute(R)];case 2:return N=w.sent(),A=N.dataReaderResult.error,this._visual.data={dataView:N&&N.dataReaderResult?N.dataReaderResult.dataView:null,dataViewSource:N&&N.dataViewSource?N.dataViewSource:null},this.isError=this.isError||null!=A,B&&(this.isError?B.reject():B.resolve()),[3,4];case 3:return w.sent(),this.isError=!0,B&&B.reject(),[3,4];case 4:return[2]}})})},C.prototype.applyLayout=function(E,D){if(this.requiresResize){if(!D){var P=this.visual;P&&P.visual&&P.visual.update({viewport:P.viewport,dataViews:P.dataViews,suppressAnimations:!0,type:n.EP.Resize,resizeMode:E===v.XM.resized?2:E===v.XM.resizing?1:void 0})}this.requiresResize=!1}},C.prototype.calculateLayout=function(E,D,P){if(void 0===P&&(P=1),E&&((!this.viewport||this.viewport.height!==E.height||this.viewport.width!==E.width)&&(this.requiresResize=!0),this.viewport=E),null!=D&&this.useSmallPlotArea!==D&&(this.useSmallPlotArea=D,this.requiresResize=!0),this.viewport){var M=this.viewport.height,T=this.viewport.width;1===(this._config&&this._config.layoutType)||(M-=this.useSmallPlotArea?d.n:d.Un,T-=d.ho),this._visual&&(this._visual.viewport={height:M,width:T,scale:P})}},C.prototype.canResizeTo=function(E){var D=this._visual&&this._visual.visual;return!!D&&(!D.canResizeTo||D.canResizeTo((0,e.p2)(E)))},C.prototype.getErrorLocId=function(E,D){return""},C.prototype.requiresData=function(){var E=this.visual,D=this.pluginOps;if(E){if(E&&E.type){if(!D)return!0;if(!D.isQueryVisual(E.type))return!1}return!0}},C.prototype.updateVisualInteractivityOptions=function(E){var D=this.visualPluginService.getInteractivityOptions(this._visual.type);void 0!==D.isInteractiveLegend&&(D.isInteractiveLegend=D.isInteractiveLegend&&E),this._visual.interactivityOptions=D},C.prototype.clearCache=function(){this.cachedHeading=void 0},C.prototype.onNotifyLicense=function(E){0!==E&&this.licenseUIManager.displayNotification(E)},C.prototype.onNotifyFeatureBlocked=function(E){this.licenseUIManager.displayFeatureBlockedBanner(E)},C.prototype.onClearLicenseNotification=function(){this.licenseUIManager.clearNotification()},C}(function(){function y(C,E,D){this.useSmallPlotArea=!1,h.fF.assertValue(C,"contract"),h.fF.assertValue(E,"visualPlugins"),h.fF.assertValue(D,"visualPluginOps"),this.contract=C,this.visualPluginService=E,this.pluginOps=D}return Object.defineProperty(y.prototype,"type",{get:function(){return h.fF.assertFail("this is an abstract property!"),null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"tileData",{get:function(){return h.fF.assertFail("this is an abstract property!"),null},set:function(E){h.fF.assertFail("this is an abstract property!")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"tileDataIsVolatile",{get:function(){return h.fF.assertFail("this is an abstract function!"),!1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isError",{get:function(){return this._isError},set:function(E){this._isError=E,this.onErrorDelegate&&this.onErrorDelegate()},enumerable:!1,configurable:!0}),y.prototype.isDataStale=function(C){return h.fF.assertFail("this is an abstract function!"),!1},Object.defineProperty(y.prototype,"heading1",{get:function(){return this.config.heading1||""},enumerable:!1,configurable:!0}),y.prototype.setDependencies=function(C){this.dataProxy=C},y.prototype.setDataLoadEventDelegate=function(C){this.dataLoadEventDelegate=C},y.prototype.copyDependencies=function(C){C.dataProxy&&this.setDependencies(C.dataProxy)},y}())},480429:function(ze,K,r){r.d(K,{h:function(){return c}});var t=r(320569),c=function(){function i(s){this.contract=s}return i.prototype.canResizeTo=function(s){return s.rowSpan===t.lZ||s.colSpan===t.gY},i.prototype.getErrorLocId=function(s,p){return""},i}()},809942:function(ze,K,r){r.d(K,{n:function(){return i}});var t=r(320569),c=r(690016),i=function(){function s(p){this.contract=p}return Object.defineProperty(s.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(V){this._imageUrl=V,V&&!this.isStatic&&0!==V.indexOf("data:")&&(this._imageUrl=c.b$.getAbsoluteUri(V))},enumerable:!1,configurable:!0}),s.prototype.canResizeTo=function(p){return p.rowSpan===t.lZ||p.colSpan===t.gY},s.prototype.getErrorLocId=function(p,V){return""},s}()},597314:function(ze,K,r){r.d(K,{U:function(){return c}});var t=r(320569),c=function(){function i(s){this.contract=s}return i.prototype.canResizeTo=function(s){return s.rowSpan===t.eg},i.prototype.getErrorLocId=function(s,p){return""},i}()},922820:function(ze,K,r){r.d(K,{V:function(){return h}});var t=r(226514),c=r(982958),i=r(787941),s=r(725182),p=r(592042),V=r(211070),m=r(243877),v=r(32309),e=r(602756),h=function(n){function o(u,a,l,d,b,f,g,S,y,C,E,D,P,M,T,R){var B=n.call(this,u,a,l,d,b,f,g,S,y,C,E,D,P,M,T,R)||this;return B._visual=null,B._localizationService=D,B}return(0,t.__extends)(o,n),o.prototype.setModelId=function(u){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(a){switch(a.label){case 0:return i.fF.assertAnyValue(u,"id"),this.contract.modelId=u,[4,this.initialize()];case 1:return a.sent(),[2]}})})},o.prototype.getRealTimeModelId=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var u,a=this;return(0,t.__generator)(this,function(l){return this.datasetStore?[2,this.datasetStore.findAll((u=this.contract).modelId,!0).then(function(d){if(!_.isEmpty(d)){var b=_.find(d,function(g){return null==u.packageId||g.packageId===u.packageId});return b||(b=_.find(d,function(g){return(0,s.yE)(g.permissions,7)})),b||(b=_.first(d)),{id:b.id,originalModelId:b.originalModelId,tableName:a.getSchemaTableName(),schema:a.getRealTimeConceptualSchema(),packageId:u.packageId}}})]:[2,void 0]})})},o.prototype.setRealTimeModelDependencies=function(u,a,l,d,b){n.prototype.setDependencies.call(this,u),i.fF.assertValue(a,"visualQueryGenerator"),i.fF.assertValue(l,"conceptualSchemaProxy"),i.fF.assertValue(d,"realTimeDataService"),this.visualQueryGenerator=a,this.conceptualSchemaProxy=l,this.realTimeDataService=d,this.datasetStore=b},o.prototype.copyRealTimeModelDependencies=function(u){return(0,t.__awaiter)(this,void 0,void 0,function(){var a;return(0,t.__generator)(this,function(l){switch(l.label){case 0:return i.fF.assertValue(u,"other"),u.schema&&(this.schema=u.schema),u.dataProxy&&u.realTimeDataService&&u.visualQueryGenerator&&u.conceptualSchemaProxy?(this.setRealTimeModelDependencies(u.dataProxy,u.visualQueryGenerator,u.conceptualSchemaProxy,u.realTimeDataService,u.datasetStore),u.onErrorDelegate&&!this.onErrorDelegate&&(this.onErrorDelegate=u.onErrorDelegate),[4,u.getRealTimeModelId()]):[2];case 1:return a=l.sent(),this.realTimeDataService.replaceListener(a,u,this),[2]}})})},o.prototype.onDataChanged=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var u,a,l,d,b,f=this;return(0,t.__generator)(this,function(g){switch(g.label){case 0:return i.fF.assertValue(this.visualQueryGenerator,"visualQueryGenerator"),i.fF.assertValue(this.dataProxy,"dataProxy"),this.singleVisualConfig?(u=V.PB,(a=this.config)&&a.dataWindow&&(u=a.dataWindow),[4,this.getDatasources()]):[2];case 1:return l=g.sent(),!(d=this.visualQueryGenerator.execute({dataSources:l,schema:this.schema,config:this.singleVisualConfig,additionalFilters:null,dataWindow:u}))||d.error?(b=void 0,d&&d.error&&(b=d.error.getDetails(this._localizationService)),this.onError(b)):this.dataProxy.execute(d.options).then(function(S){f.isError=!1;var y={dataView:S&&S.dataReaderResult?S.dataReaderResult.dataView:null},C=f.lastCategoryValue;try{var E=(0,e.kQ)(y.dataView);if(null!=C&&null!=E&&C.valueOf()>=E.valueOf())return;f.lastCategoryValue=E}catch(D){}f.setData(y,d.transforms,f.config.$visualContainer.config.singleVisual.visualType),f.isLoading=!1},function(S){if(!(S instanceof c.C6)){var y=S&&S.getDetails(f._localizationService);f.onError(y)}}),[2]}})})},o.prototype.onError=function(u){u||(u=(new c.Kd).getDetails(this._localizationService)),this.setErrorDetails(u)},o.prototype.getDatasources=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var u;return(0,t.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getRealTimeModelId()];case 1:return(u=a.sent())?[2,(0,e.bk)(u.id,u.originalModelId)]:[2,void 0]}})})},Object.defineProperty(o.prototype,"singleVisualConfig",{get:function(){return this.config.$visualContainer.config.singleVisual},set:function(a){i.fF.assertValue(a,"config"),this.config.$visualContainer.config.singleVisual=a,this.onDataChanged()},enumerable:!1,configurable:!0}),o.prototype.isDataStale=function(){return!1},o.prototype.initialize=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var u,a=this;return(0,t.__generator)(this,function(l){return u=(0,m.gq)(this.contract),this.size={rowSpan:u.height,colSpan:u.width},[2,this.getDatasources().then(function(d){if(d)return a.conceptualSchemaProxy.get(d).then(function(b){return a.fixUpSchema(b),a.schema=b,a.getRealTimeModelId().then(function(f){a.realTimeDataService.subscribe(f,a)})})})]})})},o.prototype.unsubscribe=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var u=this;return(0,t.__generator)(this,function(a){return[2,this.getRealTimeModelId().then(function(l){if(l&&l.tableName)return u.realTimeDataService.unsubscribe(l,u)})]})})},o.prototype.fixUpSchema=function(u){var a=u.schema(V.db).entities;i.fF.assert(function(){return a&&1===a.length},"Exactly 1 entity is expected.");for(var d=0,b=a[0].properties;d<b.length;d++){var f=b[d];(f.type===p.Ge.fromDescriptor({numeric:!0})||f.type===p.Ge.fromDescriptor({integer:!0}))&&(f.kind=1)}},o.prototype.getSchemaTableName=function(){var u=this.getRealTimeConceptualSchema();if(u){var a=u.entities;return i.fF.assert(function(){return 1===a.length},"Expecting only one entity"),_.head(a).name}},o.prototype.getRealTimeConceptualSchema=function(){if(this.schema)return this.schema.schema(V.db)},o.prototype.setErrorDetails=function(u){i.fF.assertValue(u,"errorDetails should be set"),this.errorDetails=u,this.errorText=u.message,this.isError=!0},o}(v.iI)},257960:function(ze,K,r){r.d(K,{I:function(){return c}});var t=r(320569),c=function(){function i(s){this.contract=s,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}return i.prototype.canResizeTo=function(s){return s.rowSpan===t.lZ||s.colSpan===t.gY},i.prototype.getErrorLocId=function(s,p){return""},i}()},672808:function(ze,K,r){r.d(K,{L:function(){return i}});var t=r(320569),c=r(690016),i=function(){function s(p){this.contract=p}return Object.defineProperty(s.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(V){V&&(this._imageUrl=0!==V.indexOf("data:")?c.b$.getAbsoluteUri(V):V)},enumerable:!1,configurable:!0}),s.prototype.canResizeTo=function(p){return p.rowSpan===t.av||p.colSpan===t.CJ},s.prototype.getErrorLocId=function(p,V){return""},s}()},376705:function(ze,K,r){r.d(K,{$V:function(){return P},Un:function(){return N},X8:function(){return h},_:function(){return a},aN:function(){return M},ho:function(){return x},je:function(){return u},n:function(){return A},n9:function(){return I},ng:function(){return d},xg:function(){return o}});var t=r(338780),c=r(23082),i=r(49404),s=r(883863),p=r(787941),V=r(565146),m=r(419509),v=r(243877),e=r(395519),h=function(j){return j[j.Dashboard=0]="Dashboard",j[j.Report=1]="Report",j[j.RdlReport=2]="RdlReport",j}({});function o(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(b)}function u(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(f)}function a(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(g)}function d(j){return o(j)||u(j)||a(j)||function(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(S)}(j)}var b="/dashboards/",f="/reports/",g="/rdlreports/",S="/workbooks/",P=65,M=55,N=20,x=20,A=8,I=function(){function j(z,G,te){this.forceOpenCustomLinksInNewTab=te,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=z,this.tileHeaderSize=1,this.layoutPosition={},this.localizationService=G,this.themeName="Light",this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}return Object.defineProperty(j.prototype,"gridLayouts",{get:function(){return this.contract.$layoutConfig.layouts},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"id",{get:function(){return this.contract.id},set:function(G){this.contract.id=G},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"details",{get:function(){switch(this.type){case m.YU.composite:return this.composite;case m.YU.iframe:return this.iframe;case m.YU.image:return this.image;case m.YU.model:return this.model;case m.YU.ssrs:return this.ssrs;case m.YU.workbook:return this.workbook;case m.YU.report:return this.reportTile;case m.YU.realTime:return this.realTime;default:return p.fF.assertFail("Invalid tile type"),null}},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"shouldBeIncludedInTelemetryMeasurement",{get:function(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isTemporary",{get:function(){return this.id<=0},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isTileLoading",{get:function(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading},enumerable:!1,configurable:!0}),j.prototype.calculateLayout=function(z,G){var te=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(z)&&!_.isNil(G)&&(z=this.currentViewPort),this.compositeTile&&z){var Q=z,H=2===this.tileHeaderSize;if(_.isNil(G)||_.isNil(this.currentViewPort))H?this.hasTitle()?Q.height-=te:1!==(this.composite&&this.composite.config&&this.composite.config.layoutType)&&(Q.height-=10):this.hasTitle()&&(this.hasSubtitle()?Q.height-=te:Q.height-=te-10),this.currentViewPort=Q;else if(G>0){var de={width:this.currentViewPort.width,height:this.currentViewPort.height};de.height-=G,de.height<=0?p.fF.assert(function(){return de.height>0},"ViewPort height is zero or negative"):Q=de}this.compositeTile.calculateLayout(Q,H)}},j.prototype.getTileHeight=function(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0},j.prototype.applyLayout=function(z,G){this.compositeTile&&this.compositeTile.applyLayout(z,G)},j.prototype.invalidateLayout=function(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()},j.prototype.tryPopulateLayoutPositionValues=function(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var z=this.gridLayoutContext.getActiveLayout(),te=(0,s.Br)(this.contract.$layoutConfig.layouts).withId(z);return te&&te.position&&(this.layoutPosition=_.cloneDeep(te.position)),!0},j.prototype.applyChanges=function(){if(this.contract&&this.gridLayoutContext){var z=_.cloneDeep(this.layoutPosition);(0,e.bQ)(this.contract.$layoutConfig,z,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}},j.isValidUrl=function(z,G){return!_.isEmpty(z)&&((0,V.HH)(z,!1)||G&&d(z))},j.prototype.getDisplayText=function(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""},j.prototype.getSubDisplayText=function(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var z=this.compositeTile.config;if(!this.displayText&&z&&!_.isEmpty(z.heading3))return z.heading3}return""},j.prototype.shouldPlaceBulletSeperator=function(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled},Object.defineProperty(j.prototype,"hrefTarget",{get:function(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"lastRefreshTimeInLocaleString",{get:function(){var G=(0,i.ee)(this.contract.tileDataUpdatedTime),te="";return G?te=G.toLocaleString():this.datasetModel&&(te=this.datasetModel.lastRefreshTimeInLocaleString),te||""},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"formattedTime",{get:function(){var G;if(this.workbook){var te=this.contract.tilePackage;G=te?(0,i.ee)(te.lastRefreshTime):null}else G=(0,i.ee)(this.contract.tileDataUpdatedTime);return G?this.cachedRefreshTime&&G.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=G,this.cachedRefreshString=this.getFormattedDateString(G)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0},enumerable:!1,configurable:!0}),j.prototype.getFormattedDateString=function(z){var G=t.IH,te=(0,t.ih)();return te&&G(z,w,O,!1)?(0,c.WQ)(z,this.localizationService):te&&G(z,F,L,!0)?(0,t.nK)(this.localizationService.currentLanguageLocale,z):te&&G(z,F,W,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,t.nK)(this.localizationService.currentLanguageLocale,z)]):te&&G(z,F,U,!0)?(0,t.u5)(this.localizationService.currentLanguageLocale,z):(0,t.nY)(this.localizationService.currentLanguageLocale,z)},j.prototype.setDatasetModelAndPackageInfo=function(z,G){z&&(this.datasetModel=z,G&&(this.datasetModel.packagePublishStatus=G.publishOrRefreshStatus))},j.prototype.hasTitle=function(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))},j.prototype.hasSubtitle=function(){var z=this.config;return(!z||!z.hideTitle)&&(!_.isEmpty(this.subDisplayText)||z&&z.lastRefreshTimeEnabled)},j.prototype.lastRefreshTimeInLocaleWithLabel=function(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])},j.prototype.setTileHeaderSize=function(z){this.tileHeaderSize!==z&&(this.tileHeaderSize=z,this.invalidateLayout())},Object.defineProperty(j.prototype,"compositeTile",{get:function(){return this.composite||this.realTime},enumerable:!1,configurable:!0}),j.prototype.hasLayoutDefinition=function(z){return!!(0,s.Br)(this.contract.$layoutConfig.layouts).withId(z)},j.prototype.hasLayoutPosition=function(z){return!!(0,v.zS)(this.contract,z)},j.prototype.removeLayoutPosition=function(z){return void 0===z&&(z=1),p.fF.assert(function(){return 0!==z},"Cannot remove position for Master position"),this.hasLayoutDefinition(z)&&(this.addLayout({id:z,position:null},z),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},j.prototype.resetTileLayoutSizeAndPosition=function(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null},j.prototype.removeLayoutDefinition=function(z,G){return void 0===z&&(z=1),void 0===G&&(G=!0),p.fF.assert(function(){return 0!==z},"Cannot remove layout for Master position"),this.hasLayoutDefinition(z)&&(_.remove(this.contract.$layoutConfig.layouts,function(te){return te.id===z}),G&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},j.prototype.applyLayoutSize=function(z,G,te){p.fF.assertValue(z,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:z.colSpan,rowSpan:z.rowSpan}),this.applyLayout(G,te)},j.prototype.getCurrentTileLayoutDescriptor=function(z,G,te){return(0,e._z)(this.contract,z||this.contract.$layoutConfig,G,te)},j.prototype.buildLayoutDescriptor=function(){var z=_.cloneDeep(this.layoutPosition),G=_.cloneDeep(this.contract.$layoutConfig);(0,e.bQ)(G,z,this.gridLayoutContext.getActiveLayout());var te=this.composite&&this.composite.contract&&this.composite.contract.query,Q=te&&(0,e.HL)(te,z),H=null;return te&&Q&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(Q),H=JSON.stringify(this.composite.contract.query)),(0,e._z)(this.contract,G,te,H)},j.prototype.addLayout=function(z,G){return p.fF.assert(function(){return 0!==G},"Cannot remove position for Master position"),p.fF.assertValue(z,"Cannot update with undefined"),this.removeLayoutDefinition(G),this.contract.$layoutConfig.layouts.push(z),this.getCurrentTileLayoutDescriptor()},j.prototype.getHeaderSizeByType=function(z){switch(z){case 0:return P;case 2:return 42;default:return 50}},j}(),w="minute",F="day",O=15,L=0,W=1,U=6},749458:function(ze,K,r){r.d(K,{V:function(){return c}});var t=r(320569),c=function(){function i(s,p){this.contract=s,this.tileModel=p}return i.prototype.canResizeTo=function(s){return s.rowSpan===t.lZ||s.colSpan===t.gY},i.prototype.getErrorLocId=function(s,p){var V,m=[];switch(s){case 10:V="WorkbookTile_GeneralError";break;case 11:V="WorkbookTile_FileNotFound";break;case 12:V="WorkbookTile_ObjectNotFound",m=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case 13:V="WorkbookTile_Unauthorized";break;default:return""}return p.format(V,m)},i.prototype.hasImages=function(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0},Object.defineProperty(i.prototype,"images",{get:function(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasWorkbookTileConfig",{get:function(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile},enumerable:!1,configurable:!0}),i}()},922321:function(ze,K,r){r.d(K,{I:function(){return V}});var t=r(226514),c=r(422255),i=r(497610),s=r(10660),p=r(725182),V=function(m){function v(e){var h=m.call(this,void 0===e?0:e.id,1,void 0===e?0:e.packageId)||this;return h.contract=e,h}return(0,t.__extends)(v,m),v.prototype.getPermissions=function(){var e;return this.getPermissionsCallback&&(e=this.getPermissionsCallback()),e||this.contract&&this.contract.permissions},Object.defineProperty(v.prototype,"contentTileType",{get:function(){return i.ty.Workbook},enumerable:!1,configurable:!0}),v.prototype.isOwner=function(){return(0,p.yE)(this.getPermissions(),7)},v.prototype.isPersonalized=function(){var e=this.getPermissions();return(0,p.yE)(e,11)&&!(0,p.yE)(e,7)},v.prototype.isEditable=function(){var e=this.editUrl;return this.isOwner()&&null!=e&&""!==e},Object.defineProperty(v.prototype,"displayNameWithExtension",{get:function(){var h=(0,s.m)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(h)},enumerable:!1,configurable:!0}),v}(c.H)},373542:function(ze,K,r){r.d(K,{UH:function(){return p},gc:function(){return i}});var t=r(853811),c="PBI.TileDataUpdateException",i=t.cx[c]=(0,t.b1)(c),s="PBI.Dashboard.TileError",p=t.cx[s]=(0,t.b1)(s)},386341:function(ze,K,r){r.d(K,{$O:function(){return m},J0:function(){return n},RC:function(){return e},Xk:function(){return o},aI:function(){return a},ir:function(){return h},jg:function(){return u},tp:function(){return p}});var t=r(177497),c=r(787941),i=r(690016),s=r(466252);function p(l){return l&&5===l.category}function m(l){return l.originalPackageId?l.originalPackageId:l.packageIds&&1===l.packageIds.length?l.packageIds[0]:void 0}function e(l,d){var b=(0,s.N)(l);return b&&b.toLocaleDateString(d.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function h(l){return c.fF.assertValue(l,"AppUtils hasAppLogoImage appModel"),!(l.icon||_.isEmpty(l.iconUrl)&&_.isEmpty(l.localAppLogoImageData))}function n(l,d){if(c.fF.assertValue(l,"AppUtils getAppLogoImageUrl appModel"),c.fF.assertValue(d,"AppUtils getAppLogoImageUrl backendUri"),h(l)){if(l.localAppLogoImageData)return l.localAppLogoImageData;if(l.iconUrl)return i.b$.urlCombine(d,l.iconUrl)}}function o(l,d){if(h(l))return"url(".concat(n(l,d),")")}function u(l){if(!l)return"inherit";var d=(0,t.WV)(l);return.299*d.R+.587*d.G+.144*d.B>125?"#000":"#FFF"}function a(l){if(l)return(0,t.jd)((0,t.WV)(l),.8,.2)}},243877:function(ze,K,r){r.d(K,{As:function(){return e},Pl:function(){return V},V3:function(){return p},gq:function(){return m},jD:function(){return s},zS:function(){return v}});var t=r(883863),c=r(787941);function s(u){var a=p(u);if(a&&a.Commands&&a.Commands.length>0){var l=a.Commands[0].SemanticQueryDataShapeCommand;return{defn:l.Query,shape:l.Binding}}return null}function p(u){if(u&&u.modelQuery&&u.modelQuery.sq){var a;try{a=JSON.parse(u.modelQuery.sq)}catch(d){}if(!a)return;var l=null;return function(u){return u.dataQuery&&u.dataQuery.Commands&&u.dataQuery.Commands.length>0}(a)?l=a.dataQuery:function(u){return u.Commands&&u.Commands.length>0}(a)?l=a:function(u){return u.defn}(a)&&(l={Commands:[{SemanticQueryDataShapeCommand:{Query:a.defn,Binding:a.shape}}]}),l}}function V(u){return void 0===u&&(u={}),{layouts:[{id:0,position:u}]}}function m(u){var a=v(u,0);return c.fF.assertValue(a,"masterLayout should always exist on tile"),a}function v(u,a){c.fF.assertValue(u,"tile"),c.fF.assertValue(u.$layoutConfig,"tile.$layoutConfig"),c.fF.assertValue(u.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var d=(0,t.Br)(u.$layoutConfig.layouts).withId(a);return d?d.position:null}function e(u){switch(u){case 0:return"pbix";case 1:return"rdl";default:return"unknown"}}},572417:function(ze,K,r){r.d(K,{$b:function(){return m},cl:function(){return s},nf:function(){return V},xT:function(){return v}});var t=r(49404),c=r(787941);function s(l){return 2==(2&l.permissions)}function V(l){return!!l&&(0,t.KZ)(l)}function m(l,d){var b=[];if(!l)return b;var f=[],g=l.modelIds;if(_.isEmpty(g)||(f=g.slice(0)),_.map(l.tiles,function(D){null!=D.modelId&&f.push(D.modelId)}),_.isEmpty(f))return b;f=_.uniq(f);for(var y=0,C=f.length;y<C;y++){var E=_.filter(d,function(D){return D.id===f[y]});_.isEmpty(E)||b.push(E[0])}return b}function v(l,d){c.fF.assertValue(l,"items");for(var b=_.filter(l,function(Y){var se,ce;return(null===(se=Y.pos)||void 0===se?void 0:se.x)>0&&(null===(ce=Y.pos)||void 0===ce?void 0:ce.y)>0}),f=[],S=_.sortBy(b,function(Y){var se=Y.pos;return 1e3*se.y+se.x}),y=0,C=S;y<C.length;y++)e(f,(D=C[y].pos).y,D.height);for(var P=[],T=_.sortBy(b,function(Y){var se=Y.pos;return 1e3*se.x+se.y}),R=0,B=T;R<B.length;R++){var D;e(P,(D=B[R].pos).x,D.width)}for(var N=function(l,d){c.fF.assertValue(l,"rowContexts"),c.fF.assertValue(d,"columnContexts");var f=_.isEmpty(l)?-1/0:_.maxBy(l,function(C){return C.size}).size,g=_.isEmpty(d)?-1/0:_.maxBy(d,function(C){return C.size}).size,S=_.every(l,function(C){return C.size===l[0].size}),y=_.every(d,function(C){return C.size===d[0].size});return n(l,f,S)?0:n(d,g,y)?1:f<=g?0:1}(f,P),x=0===N?f:P,A=0===N?T:S,I=[],w=0,F=0,O=x;F<O.length;F++){for(var L=O[F],W=w+1;W<L.startPosition;W++)I.push(void 0);for(var U=L.startPosition;U<L.startPosition+L.size;U++)I.push(L.startPosition),w=U}for(var j=_.groupBy(A,function(Y){return I[(0===N?Y.pos.y:Y.pos.x)-1]}),z=[],G=0,te=x;G<te.length;G++)z=z.concat(j[(L=te[G]).startPosition]);var Q=_.map(z,function(Y){return Y.item});if(d){var H=_.filter(l,function(Y){var se,ce;return!((null===(se=Y.pos)||void 0===se?void 0:se.x)>0&&(null===(ce=Y.pos)||void 0===ce?void 0:ce.y)>0)}),de=_.map(H,function(Y){return Y.item});Q.push.apply(Q,de)}return Q}function e(l,d,b){c.fF.assertValue(l,"contexts");var g=l[l.length-1];!_.isEmpty(l)&&d>=g.startPosition&&d<g.startPosition+g.size?d+b>g.startPosition+g.size&&(g.size=d+b-g.startPosition):l.push({startPosition:d,size:b})}function n(l,d,b){return l.length>1&&b&&d<=3}},466252:function(ze,K,r){r.d(K,{N:function(){return s}});var t=r(338780),c=r(787941),i=r(690016);function s(p){var V=i.b$.getDateFromWcfJsonString(p,!0);return V||(V=(0,t.Kk)(p)),c.fF.assertValue(V,"could not parse dateTime"),V}},174002:function(ze,K,r){r.d(K,{pg:function(){return s},qC:function(){return i}});var t=r(497610),c=r(725182);function i(V){return!(!V||V.packageType!==t.yR.AppInstance||!V.contentProviderId&&!V.serviceContentProviderId)}function s(V){return(0,c.yE)(V,6)}},935326:function(ze,K,r){function t(c){if(c){var i=c.visualContainer||c.realTimeVisual;if(i&&i.$visualContainer)return i.$visualContainer.config.singleVisual.visualType}}r.d(K,{s:function(){return t}})},395519:function(ze,K,r){r.d(K,{HL:function(){return E},M8:function(){return D},Us:function(){return n},X7:function(){return g},_z:function(){return C},bQ:function(){return y},mf:function(){return S},zy:function(){return o}});var t=r(63931),c=r(160046),i=r(776791),s=r(693825),p=r(613181),V=r(883863),m=r(787941),v=r(889377),e=r(243877),n=function(){function P(){this.rScriptCount=0,this.pythonScriptCount=0}return Object.defineProperty(P.prototype,"hasScriptVisuals",{get:function(){return this.rScriptCount>0||this.pythonScriptCount>0},enumerable:!1,configurable:!0}),P}();function o(P,M,T,R,B,N,x,A){m.fF.assertValue(M,"singleVisualConfig"),m.fF.assertValue(T,"dataWindow"),m.fF.assertValue(R,"dataModel"),m.fF.assertValue(B,"schema"),m.fF.assertValue(N,"pinVisualService"),m.fF.assertValue(x,"visualPluginService");var I=A.execute({dataSources:P,schema:B,config:M,additionalFilters:null,dataWindow:T}),w=N.getPinData({name:"tile",config:{singleVisual:M},layouts:void 0},0,P,{},null,null,I,B);w.realTimeDataWindow=T;var F=x.capabilities((0,c.s_)(w));return(0,v.O4)(w,F,R)}function g(P,M){m.fF.assertValue(P,"getTileErrorDetailsFromQueryResultError: queryResultError");var T=(0,i.K)(P.errorDetail);if(T&&!_.isEmpty(T.DataShapes)){var R=T.DataShapes[0]["odata.error"];if(R)return new t.Ow(R).getDetails(M)}}function S(P){if(m.fF.assertValue(P,"contract"),P.$layoutConfig)return P.$layoutConfig;var M={x:P.col,y:P.row,width:P.colSpan,height:P.rowSpan},T=void 0;if(P.layoutConfig)try{T=JSON.parse(P.layoutConfig),(0,V.Br)(T.layouts).withId(0).position=M}catch(N){m.fF.assertFail("Unable to parse tile layout config")}else T={layouts:[{id:0,position:M}]};return T}function y(P,M,T){var R=(0,V.Br)(P.layouts),B=R.withId(T);B||R.push(B={id:T,position:{}}),B.position=M}function C(P,M,T,R){return{id:P.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(M),query:R?T:null,updatedQuery:R,modelId:P.modelId,objectId:P.objectId}}function E(P,M){var T=(0,e.V3)(P);if(T){for(var R=M.width*p.A4,B=M.height*p.lT,N=!1,x=0,A=T.Commands;x<A.length;x++){var I=A[x],w=I.ScriptVisualCommand;w&&(w.ViewportWidthPx!==R||w.ViewportHeightPx!==B)&&(w.ViewportWidthPx=R,w.ViewportHeightPx=B,I.ScriptVisualCommand=w,N=!0)}if(N)return T}}function D(P){var M=(0,i.K)(P);return null==M&&(M={version:s.aD}),M}},350841:function(ze,K,r){r.d(K,{$J:function(){return i},$Q:function(){return l},Ce:function(){return F},Iy:function(){return u},NJ:function(){return b},Ym:function(){return U},bL:function(){return I},hf:function(){return p},jn:function(){return g},kA:function(){return B},oM:function(){return P},qy:function(){return x},rd:function(){return e},s$:function(){return n},vF:function(){return E},v_:function(){return L},wc:function(){return T},yp:function(){return y}});var t=r(853811),c="PBI.Dashboard.RenameReport",i=t.cx[c]=(0,t.b1)(c),s="PBI.Dashboard.DeleteReport",p=t.cx[s]=(0,t.b1)(s),V="PBI.Dashboard.InitializeNavigationPaneModels",v=(t.cx[V]=(0,t.b1)(V),"PBI.Dashboard.RenameDataset"),e=t.cx[v]=(0,t.b1)(v),h="PBI.Dashboard.UpdateModelQnaFeatures",n=t.cx[h]=(0,t.b1)(h),o="PBI.Dashboard.UpdateFeaturedQuestions",u=t.cx[o]=(0,t.b1)(o),a="PBI.Dashboard.DeleteDataset",l=t.cx[a]=(0,t.b1)(a),d="PBI.Dashboard.AddUpdateDashboard",b=t.cx[d]=(0,t.b1)(d),f="PBI.Dashboard.RenameWorkbook",g=t.cx[f]=(0,t.b1)(f),S="PBI.Dashboard.RemoveWorkbook",y=t.cx[S]=(0,t.b1)(S),C="PBI.Dashboard.GetWorkbookWopiAccessInformation",E=t.cx[C]=(0,t.b1)(C),D="PBI.Dashboard.ImportResourcePackagesOnLoad",P=t.cx[D]=(0,t.b1)(D),M="PBI.Dashboard.GetNavigationPanePackage",T=t.cx[M]=(0,t.b1)(M),R="PBI.TileConfig.UpgradeTileConfig",B=t.cx[R]=(0,t.b1)(R),N="PBI.Permissions.UpdateArtifactVisibility",x=t.cx[N]=(0,t.b1)(N),A="PBI.Datapool.UpdateProperties",I=t.cx[A]=(0,t.b1)(A),w="PBI.Http.RequestThrottled",F=t.cx[w]=(0,t.b1)(w),O="PBI.Dataset.GetSharedDatasets",L=t.cx[O]=(0,t.b1)(O),W="PBI.Dataset.GetReadonlySharedDatasets",U=t.cx[W]=(0,t.b1)(W)},655795:function(ze,K,r){function t(c,i,s,p,V,m){var v={filtersNamesAndRestatements:[]};if(!i||_.isEmpty(i.dataFiltersUnmerged))return v;for(var e=p.capabilities(s.visualType),h=0,n=i.dataFiltersUnmerged;h<n.length;h++){var o=n[h];if(!o.isHidden){var u=V.getFilterRestatementForOverlay(o,c,e,null,s);if(!_.isEmpty(u))for(var a=0,l=u;a<l.length;a++){var d=l[a];v.filtersNamesAndRestatements.push({displayName:d.fieldName,qualifiedDisplayName:d.fieldNameToolTip,restatement:d.restatements.join(m.get("ListJoin_Separator"))})}}}return v}r.d(K,{A:function(){return t}})},479199:function(ze,K,r){function t(c){switch(c){case"Binary":return 11;case"Boolean":return 5;case"Currency":return 2;case"Number":return 3;case"Date":return 6;case"DateTime":return 7;case"Time":return 9;case"WholeNumber":return 4;case"Text":return 1}}r.d(K,{F:function(){return t}})},912126:function(ze,K,r){r.d(K,{GM:function(){return V},S8:function(){return h},W5:function(){return p},fV:function(){return v},k2:function(){return i},wx:function(){return m}});var t=r(787941),c=r(324356);function i(u,a){return new s(u,a)}var s=function(){function u(a,l){if(t.fF.assertValue(a,"plugins"),l){var d=function(g){t.fF.assert(function(){return!!_.find(a,function(S){return S.name===l[g].extends})},"plugin extension type '".concat(g,"' extends a plugin '").concat(l[g].extends,"' which doesn't exist")),t.fF.assert(function(){return!_.some(a,function(S){return S.name===l[g].name})},"Cannot register plugin extension type '".concat(g,"'. A plugin with that name already exists."))};for(var b in l)d(b)}this.plugins=a,this.extensions=l||{}}return u.prototype.getPlugin=function(a){return this.plugins[o(a)]},u.prototype.getExtension=function(a){return this.extensions[a]},u}();function p(u,a){return e(u,v(a))}function V(u,a){if(_.isEmpty(u))return[];var l;if(!_.isEmpty(a)){l=[];for(var d=0,b=a;d<b.length;d++){var f=b[d];if(f instanceof c.Wh){var g=f.getTargetEntity();l.push(g.schema)}}l=_.uniq(l)}return e(u,l)}function m(u){return t.fF.assertValue(u,"reference"),o(u.type)}function v(u){if(t.fF.assertAnyValue(u,"query"),u){var a=[];return new n(a).run(u),a}}function e(u,a){for(var l=[],d=0,b=u;d<b.length;d++){var f=b[d];if(_.isEmpty(a)||_.includes(a,f.name)){var g=m(f);_.includes(l,g)||l.push(g)}}return l}function h(u){return _.chain(u).map(function(a){return m(a)}).uniq().value()}var n=function(){function u(a){this.schemas=a}return u.prototype.run=function(a){for(var l=a.from(),d=0,b=l.keys();d<b.length;d++)l.source(b[d]).accept(this,void 0)},u.prototype.visitEntity=function(a){this.visitEntityOrPod(a)},u.prototype.visitPod=function(a){this.visitEntityOrPod(a)},u.prototype.visitSubquery=function(a){this.run(a.subquery)},u.prototype.visitExpr=function(a){},u.prototype.visitEntityOrPod=function(a){t.fF.assertValue(a,"source");var l=a.schema,d=this.schemas;_.includes(d,l)||d.push(l)},u}();function o(u){return u||"dsr"}},454869:function(ze,K,r){r.d(K,{I:function(){return s}});var t=r(883863),c=r(787941),i=r(912126);function s(v,e){return new p(v,e)}var p=function(){function v(e,h){c.fF.assertValue(e,"factory"),c.fF.assertValue(h,"hostServices"),this.factory=e,this.hostServices=h,this.readers={},this.queryGen={},this.schemaReaders={}}return v.prototype.reader=function(e){var h=this;return c.fF.assertAnyValue(e,"typeOrTypes"),this.findSinglePropertyDefinition((0,t.rY)(e),function(n){return n.reader(h.hostServices)},_.noop,this.readers)},v.prototype.readerType=function(e){var h=this;c.fF.assertAnyValue(e,"typeOrTypes");var n=this.resolvePluginProperty((0,t.rY)(e),function(o){return o.reader(h.hostServices)},_.noop,this.readers);return n&&n.type},v.prototype.queryGenerator=function(e){return c.fF.assertAnyValue(e,"typeOrTypes"),this.findSinglePropertyDefinition((0,t.rY)(e),function(h){return h.queryGenerator&&h.queryGenerator()},_.noop,this.queryGen)},v.prototype.queryExtensionLookup=function(e){c.fF.assertAnyValue(e,"referenceOrReferences");var h=(0,t.rY)(e),n=_.chain(h).map(function(a){return(0,i.wx)(a)}).uniq().value(),o=this.findSingleBasePropertyDefinition(n,function(a){return a.queryExtensionProvider&&V(a.name,h,a.queryExtensionProvider)});return function(v,e){if(v||e)return v?function(h,n){return v(h,n,e)}:e}(this.findSingleExtensionPropertyDefinition(n,function(a){return a.queryExtensionProvider&&V(a.name,h,a.queryExtensionProvider)}),o)},v.prototype.schemaReader=function(e){var h=this;return c.fF.assertAnyValue(e,"type"),this.findSinglePropertyDefinition([e],function(n){return n.schemaReader&&n.schemaReader(h.hostServices)},function(n){return n.schemaReader&&n.schemaReader(h.hostServices)},this.schemaReaders)},v.prototype.getCacheKey=function(e){var h=(0,t.rY)(e);return h.length<2?h[0]:"["+h.join(",")+"]"},v.prototype.findSinglePropertyDefinition=function(e,h,n,o){var u=this.getCacheKey(e),a=o[u];if(a)return a;var l=this.resolvePluginProperty(e,h,n,o);return l?o[u]=l.property:void 0},v.prototype.findSingleExtensionPropertyDefinition=function(e,h){for(var n,o,u=0,a=e;u<a.length;u++){var l=a[u],d=this.factory.getPlugin(l);if(d){if(o&&o!==d.name)return;o=d.name}else{var b=this.factory.getExtension(l);if(!b||o&&o!==b.extends)return;o=b.extends;var f=h(b);if(f){if(n&&f!==n)return;n=f}}}return n},v.prototype.findSingleBasePropertyDefinition=function(e,h){for(var n,o,u=0,a=e;u<a.length;u++){var d=this.factory.getPlugin(a[u]);if(d){if(o&&o!==d.name)return;o=d.name;var b=h(d);if(b){if(n&&b!==n)return;n=b}}}return n},v.prototype.resolvePluginProperty=function(e,h,n,o){for(var u,a=0,l=e;a<l.length;a++){var b=this.resolveProperty(l[a],h,n,o);if(!b||u&&b.property!==u.property)return;u=b}return u},v.prototype.resolveProperty=function(e,h,n,o){var u,a;if(o&&(a=o[u=this.getCacheKey(e)]))return{type:e,property:a};var l=this.factory.getPlugin(e);if(l)return(a=h(l))?(o&&(o[u]=a),{type:e,property:a}):void 0;var d=this.factory.getExtension(e);return d?(a=n(d))?(o&&(o[u]=a),{type:e,property:a}):this.resolveProperty(d.extends,h,n,o):void 0},v}();function V(v,e,h){for(var n=[],o=0,u=e;o<u.length;o++){var a=u[o],l=(0,i.wx)(a);l===v&&n.push(a[l])}return h(n)}},159190:function(ze,K,r){r.d(K,{dj:function(){return C},sw:function(){return S},Z7:function(){return y}});var t=r(226514),c=r(474147),i=r(787941),s=r(690016),p=r(324356),V=r(116170),m=r(883863),v=r(292042);function l(A,I){i.fF.assertValue(A,"collection"),i.fF.assertValue(I,"toRemove");var w=A.indexOf(I);i.fF.assert(function(){return w>=0},"the metadata column to be removed should exist in the collection before the removal"),w>=0&&A.splice(w,1)}function d(A,I){i.fF.assertValue(I,"dataViewCategorical");var w=I.categories;if(w)for(var F=0,O=w;F<O.length;F++){var L=O[F];L.values.splice(0),L.identity.splice(0)}var W=I.values;if(W){var U=W.grouped();if(!_.isEmpty(U)){for(var j=U[0],z=A.columns,G=function(le){var Z=le.source;if(Z.groupName){var ie=_.find(z,function(me){return!me.groupName&&me.index===Z.index&&me.isMeasure===Z.isMeasure});ie?(le.source=ie,l(z,Z)):delete Z.groupName}},te=0,Q=j.values;te<Q.length;te++)G(Q[te]);var de=[{values:j.values,objects:j.objects}];if(W.grouped=function(){return de},U.length>=2){var Y=j.values.length;if(Y>0){for(var ce=Y*(U.length-1),pe=Y,ve=Y+ce;pe<ve;pe++)l(z,W[pe].source);W.splice(Y,ce)}}}for(var We=0,je=W;We<je.length;We++){var Ae=je[We];Ae.values.splice(0),delete Ae.identity}}i.fF.assert(function(){return!w||_.every(w,function(_e){return _.isEmpty(_e.values)&&_.isEmpty(_e.identity)})},"values and identity should be cleared in all category columns"),i.fF.assert(function(){return!W||_.every(W.grouped(),function(_e){return!_e.name&&!_e.identity})},"name and identity should be cleared in all series instances"),i.fF.assert(function(){return!W||_.every(W,function(_e){return _.isEmpty(_e.values)})},"All values in measure columns should be removed")}function f(A,I){if(i.fF.assertValue(A,"values"),i.fF.assertValue(I,"indicesToRemove"),i.fF.assert(function(){return(0,m.JN)(I,!0)},"indicesToRemove is expected to be in descending order"),i.fF.assert(function(){return _.uniq(I).length===I.length},"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(I)){if(i.fF.assert(function(){return 0<=_.last(I)&&_.head(I)<A.length},"elements in indicesToRemove must be valid indices to the values array."),A.length===I.length)return void A.splice(0);for(var w,F=0,O=0,L=I;O<L.length;O++){var W=L[O];void 0===w||w===W+1?(w=W,F++):(A.splice(w,F),w=W,F=1)}i.fF.assertValue(w,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),A.splice(w,F)}}var g=r(450802);function S(A,I){if(i.fF.assertValue(A,"restrictiveFilter"),i.fF.assertValue(I,"baseFilter"),!(0,c.FK)(A,I))return!1;var w=A.condition,F=I.condition;if(w instanceof p.ev&&F instanceof p.ev){var O=x(w),L=x(F);if(O&&L&&(0,c.fS)(O.otherSide,L.otherSide))return(0,s.r3)(B(O.constantValue),B(L.constantValue))}return!1}function y(A,I){i.fF.assertNonEmpty(A,"selects"),i.fF.assertNonEmpty(I,"filters");var w=_.some(I,function(U){return!function(A){return i.fF.assertValue(A,"filter"),!A.target}(U)});if(!w){for(var F=new N(A),O=0,L=I;O<L.length;O++)L[O].condition.accept(F);return F.getClientSideFiltersIfAllSupported()}}function C(A,I){if(i.fF.assertValue(A,"queryDataView"),i.fF.assertAnyValue(I,"clientSideFilters"),!_.isEmpty(I)&&!_.isEmpty(A.metadata.columns)){i.fF.assert(function(){return _.every(I,function(L){return _.some(A.metadata.columns,function(W){return!W.isMeasure&&W.index===D(L)})})},"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var w=A.categorical;if(w){var F=function(A,I){if(i.fF.assertAnyValue(A,"seriesMetadataColumn"),i.fF.assertValue(I,"clientSideFilters"),A){var w=P(I,[A]);if(!_.isEmpty(w))return function(L){if(L.identity)for(var U=L.name,j=0,z=w;j<z.length;j++)if(R(z[j],U))return!0;return!1}}}(w.values&&w.values.source,I),O=function(A,I){i.fF.assertValue(A,"categories"),i.fF.assertValue(I,"clientSideFilters");var w=P(I,_.map(A,function(O){return O.source}));if(!_.isEmpty(w))return function(L,W){for(var U=function(H){if(_.every(W,function(Y){return R(H,Y.values[L])}))return{value:!0}},j=0,z=w;j<z.length;j++){var te=U(z[j]);if("object"==typeof te)return te.value}return!1}}(w.categories,I);!function(A,I,w,F){i.fF.assertValue(I,"dataViewCategorical"),i.fF.assertAnyValue(w,"categoryRemovalPredicate"),i.fF.assertAnyValue(F,"seriesRemovalPredicate"),F&&function(A,I,w){i.fF.assertValue(I,"dataViewCategorical"),i.fF.assertValue(w,"removalPredicate");var F=I.values&&I.values.grouped();if(!_.isEmpty(F)){var L=function(A,I,w){i.fF.assertAnyValue(A,"seriesMetadataColumn"),i.fF.assertValue(I,"seriesInstances"),i.fF.assertValue(w,"removalPredicate");for(var F=[],O=I.length-1;O>=0;O--)w(I[O],A)&&F.push(O);return F}(I.values&&I.values.source,F,w);!function(A,I,w){if(i.fF.assertValue(I&&I.values&&!_.isEmpty(I.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),i.fF.assertValue(w,"seriesIndicesToRemove"),i.fF.assert(function(){return(0,m.JN)(w,!0)},"seriesIndicesToRemove is expected to be in descending order"),i.fF.assert(function(){return _.uniq(w).length===w.length},"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(w)){var F=I.values,O=F.grouped();if(O.length===w.length)return void d(A,I);var L=O[0].values.length;if(i.fF.assert(function(){return _.every(O,function(te){return te.values.length===L})},"all series instances returned by grouped() are expected to have the same number of measure columns"),L>0)for(var W=A.columns,U=function(Q){var H=Q*L;i.fF.assert(function(){return H+L-1<F.length},"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var de=H,Y=H+L;de<Y;de++)l(W,F[de].source);F.splice(H,L)},j=0,z=w;j<z.length;j++)U(z[j]);f(O,w),F.grouped=function(){return O}}}(A,I,L)}}(A,I,F),w&&function(A,I,w){i.fF.assertValue(I,"dataViewCategorical"),i.fF.assertValue(w,"removalPredicate");var F=I.categories;if(!_.isEmpty(F)){var O=function(A,I){i.fF.assertNonEmpty(A,"categories"),i.fF.assertValue(I,"removalPredicate");var w=A[0].values.length;i.fF.assert(function(){return _.every(A,function(L){return L.values.length===w})},"Expecting all category columns to have the same number of values.");for(var F=[],O=w-1;O>=0;O--)I(O,A)&&F.push(O);return F}(F,w);!function(A,I,w){if(i.fF.assertValue(I,"dataViewCategorical"),i.fF.assertValue(w,"rowIndicesToRemove"),i.fF.assert(function(){return(0,m.JN)(w,!0)},"rowIndicesToRemove is expected to be in descending order"),i.fF.assert(function(){return _.uniq(w).length===w.length},"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(w)){if((0,v.Ed)(I)===w.length)return void d(A,I);i.fF.assert(function(){return(0,v.Ed)(I)>0},"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var F=I.categories;if(!_.isEmpty(F))for(var O=0,L=F;O<L.length;O++){var W=L[O];f(W.values,w),f(W.identity,w)}var U=I.values;if(!_.isEmpty(U))for(var j=0,z=U;j<z.length;j++)f(z[j].values,w)}}(A,I,O)}}(A,I,w)}(A.metadata,w,O,F)}return A}}function D(A){i.fF.assertValue(A,"clientSideFilter");var I=A.Condition;if(I.Contains)return I.Contains.SelectIndex;i.fF.assertFail("Unknown filter condition type: "+JSON.stringify(I))}function P(A,I){if(i.fF.assertValue(A,"clientSideFilters"),i.fF.assertValue(I,"metadataColumns"),_.isEmpty(A)||_.isEmpty(I))return[];for(var w={},F=0,O=I;F<O.length;F++)w[O[F].index]=!0;return _.filter(A,function(W){var U=D(W);return!!w[U]})}function R(A,I){i.fF.assertValue(A,"filter");var w=!1,F=A.Condition;if(F.Contains)if(i.fF.assert(function(){return F.Contains.LiteralValue===B(F.Contains.LiteralValue)},"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(I)){var O=B(I);w=!(0,s.r3)(O,F.Contains.LiteralValue)}else w=!0;else i.fF.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(F));return w}function B(A){return A&&(0,s.m5)(A)}var N=function(A){function I(w){var F=A.call(this)||this;return i.fF.assertNonEmpty(w,"selects"),F.clientSideFilters=[],F.selects=w,F}return(0,t.__extends)(I,A),I.prototype.visitContains=function(w){if(!this.hasUnsupportedFilter()){var F=!1,O=x(w);if(O){var L=O.constantValue,W=(0,g.p)(this.selects,O.otherSide);if(W>=0&&L){var U={Condition:{Contains:{SelectIndex:W,LiteralValue:B(L)}}};this.clientSideFilters.push(U),F=!0}}F||this.setUnsupportedFilter()}},I.prototype.visitAnd=function(w){this.hasUnsupportedFilter()||(w.left.accept(this),w.right.accept(this))},I.prototype.visitDefault=function(w){this.setUnsupportedFilter()},I.prototype.getClientSideFiltersIfAllSupported=function(){if(!this.hasUnsupportedFilter())return this.clientSideFilters},I.prototype.hasUnsupportedFilter=function(){return void 0===this.clientSideFilters},I.prototype.setUnsupportedFilter=function(){this.clientSideFilters=void 0},I}(V.vq);function x(A){if(A){var I=(0,p.Ls)(A.left);return I?{constantValue:I,otherSide:A.right}:{constantValue:I=(0,p.Ls)(A.right),otherSide:A.left}}}},154369:function(ze,K,r){r.d(K,{DG:function(){return P},P6:function(){return z},Sk:function(){return T},l7:function(){return M},mx:function(){return U}});var t=r(226514),c=r(883863),i=r(787941),s=r(261374),p=r(989516),V=r(726672),m=r(283427),v=r(668268),e=r(499995),h=r(19632),n=r(45696),o=r(734287),u=r(601139),a=r(13106),l=r(880787),d=r(324356),b=r(334048),f=r(983172),g=r(620006),S=r(939141),y=r(592042),C=r(456535),E=r(474147),D=r(158519),P=function(){function Q(H,de,Y,se,ce,pe,ve){this.warningType=H,this.propertyId=de,this.valueExpr=Y,this.selector=se,this.objectDiplayName=ce,this.propertyDisplayName=pe,this.expectedValueType=ve}return Q.prototype.columnNameFromIndex=function(H){},Object.defineProperty(Q.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundObjectQueryExtensionWarningInvalidType";case 2:return"DataBoundObjectQueryExtensionWarningMissingReference";case 0:return void i.fF.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value type.");default:i.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),Q.prototype.getDetails=function(H,de){if(de){var Y=[],se=H.get("NamePattern_Colon"),ce=1===this.warningType,ve=ce?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";Y.push((0,s.W)(H.get(ce?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,o.G)(this.propertyDisplayName,H))),Y.push((0,s.W)(se,H.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,o.G)(this.objectDiplayName,H)));var De=de(this.valueExpr);return Y.push((0,s.W)(se,H.get("Field_Source"),De)),ce&&this.expectedValueType&&Y.push((0,s.W)(se,H.get("DataBoundExprWarning_ExpectedDataType"),V.L.getPrimitiveValueType(this.expectedValueType,H))),Y.push(H.get(ve)),{message:Y.join("\n"),displayableErrorInfo:[]}}i.fF.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")},Q}();function M(Q,H,de,Y,se,ce,pe,ve){return i.fF.assertValue(Q,"queryDefn"),i.fF.assertValue(H,"schema"),i.fF.assertAnyValue(de,"objectDescs"),i.fF.assertAnyValue(Y,"queryRefsByRole"),i.fF.assertAnyValue(se,"projections"),i.fF.assertAnyValue(ce,"roleKindByQueryRef"),i.fF.assertAnyValue(pe,"additionalFilters"),R(Q,H,de,Y,se,ce,pe,ve)}function T(Q,H){return!!R(Q,null,H,{},{},{},void 0,void 0)}function R(Q,H,de,Y,se,ce,pe,ve){if(!_.isEmpty(de)){for(var De=Q.select(),We=[],je=[],Ae=[],_e=[],Z=0,ie=de;Z<ie.length;Z++){var me=ie[Z];me.objects&&me.descriptors&&(0,v.rQ)(me.objects,me.descriptors,le)}for(var ye=0,oe=Ae;ye<oe.length;ye++)for(var X=oe[ye],ue=0,Se=_e;ue<Se.length;ue++)if((0,p.fS)(X.selector,Se[ue])){B(je,X,De,Y);break}for(var Ke=[],Ze=[],qe=0,it=je;qe<it.length;qe++){var be=it[qe],Fe=be.selector,ee=N(be,Q,pe,ve);Q=ee.queryDefn,ee.objectDefinitionRewrite&&Ze.push(ee.objectDefinitionRewrite);var k={queryName:ee.queryName,selector:Fe};if(_.isEmpty(be.targetsQueryName)||(k.relatedProjectionsQueryName=be.targetsQueryName),be.aggregates&&(k.aggregates=be.aggregates),be.relatedObjects&&(k.relatedObjects=be.relatedObjects),Fe&&!_.isEmpty(Fe.data)&&(k.joinPredicate=0),H){var Ce=f.m.buildExprEvaluationContext(Q.from()),J=be.expr.getMetadata(H,Ce);null!=J&&J.format&&(k.format=J.format)}Ke.push(k)}return _.isEmpty(Ke)&&_.isEmpty(We)?void 0:{queryDefn:Q,warnings:We,additionalProjections:Ke,objectDefinitionRewrites:Ze}}function le(re,Ie,ot,we,he){var Te,Oe,et,Je=he&&he.properties[Ie],fe=re[Ie],ne=Je.type,Ne=null==ot?ot:(0,p.d9)(ot);if(Je.rule){if(i.fF.assertValue(Je.type.fillRule&&(0,S.gO)(fe),"Property rule descriptor is valid only for FillRule properties"),!U(Je.rule.conditions,se,ce))return;var tt=function(Q,H,de){var Y=Q.inputRole;if(Y){var se=de[Y];if(!_.isEmpty(se)){var ce=_.chain(H.select()).filter(function(pe){return _.includes(se,pe.name)}).map(function(pe){return pe.expr}).value();return ce}}}(Je.rule,Q,Y);if(_.isEmpty(tt))return;i.fF.assert(function(){return 1===_.size(tt)},"Property Rules supports only one input Expr"),ot={data:_.map(tt,function(ct){return(0,h.TZ)(ct)})},et=(0,e.oA)(fe,ot,De,tt[0])}else if(ne&&ne.dataBars)ot&&ot.metadata&&De.withName(ot.metadata)&&(_.isEmpty(ot.data)&&((ot=_.cloneDeep(ot)).data=[(0,n.Ue)()]),et=(0,e.oA)(fe,ot,De,De.withName(ot.metadata).expr));else{var Ve=(0,e.Sz)(re[Ie],ot,De);Je.ignoreUnreferenced?(i.fF.assert(function(){return _.isEmpty(Ve.references)},"References should be empty"),Ae.push.apply(Ae,Ve.expressions)):(et=Ve.expressions,_e.push.apply(_e,Ve.references.map(function(ct){return ct.selector})))}if(!_.isEmpty(et)&&(!ot||function(Q,H){i.fF.assertValue(Q,"selector");var de=Q.metadata;if(!de)return!0;i.fF.assertNonEmpty(H,"querySelects");for(var Y=0,se=H;Y<se.length;Y++)if(se[Y].name===de)return!0}(ot,De))&&void 0!==z(null==ot?void 0:ot.data,De,Y))for(var at=0,ft=et;at<ft.length;at++){var ht=ft[at];if(ht.expr){if(H){var Ge=f.m.buildExprEvaluationContext(Q.from()),Re=ht.expr.getMetadata(H,Ge);if(null==Re||!y.Ge.isCompatibleFromAny(ne,Re.type)){var Xe=Re?1:2,Me=Re?y.Ge.fromDescriptor(ne):null,He=new P(Xe,{objectName:we,propertyName:Ie},ht.expr,ot,he.displayName,Je.displayName,Me);We.push(He);continue}}ht.relatedObjects=((Te={})[we]=((Oe={})[Ie]=[Ne],Oe),Te),B(je,ht,De,Y)}}}}function B(Q,H,de,Y){i.fF.assertValue(H,"source");var ce=_.find(Q,function(Be){return function(Ke,Ze){var qe,it;if(!(0,E.fS)(Ke.expr,Ze.expr))return!1;var be=z(null===(qe=Ke.selector)||void 0===qe?void 0:qe.data,de,Y),Fe=z(null===(it=Ze.selector)||void 0===it?void 0:it.data,de,Y);return _.isEmpty(_.xor(be,Fe))}(Be,H)});if(ce){var pe=H.targetsQueryName;if(!_.isEmpty(pe)){var ve=ce.targetsQueryName;_.isEmpty(ve)&&(ve=ce.targetsQueryName=[]),ve.push.apply(ve,pe)}var De=H.aggregates;if(null!=De){var We=ce.aggregates;if(We){if(De.min&&(We.min=!0),De.max&&(We.max=!0),De.average&&(We.average=!0),De.median&&(We.median=!0),De.percentiles)if(We.percentiles)for(var je=function(Ke){_.find(We.percentiles,function(Ze){return _.isEqual(Ke,Ze)})||We.percentiles.push(Ke)},Ae=0,_e=De.percentiles;Ae<_e.length;Ae++)je(_e[Ae]);else We.percentiles=De.percentiles}else ce.aggregates=De}var Z=H.relatedObjects;if(null!=Z){var ie=ce.relatedObjects;if(ie){var oe,me=void 0,ye=void 0,X=void 0;for(me in Z){if(X)break;for(ye in Z[me]){oe=_.first(Z[me][ye]),X=!0;break}}if(null!=me&&null!=ye){var ue=ie[me]=ie[me]||{},Se=ue[ye]=ue[ye]||[];_.some(Se,function(Be){return(0,p.fS)(Be,oe)})||Se.push(oe)}}else ce.relatedObjects=Z}}else Q.push(H)}function N(Q,H,de,Y){var We,je,se=Q.aggregates,ce=Q.selector,ve=Q.expr,De=function(Q,H,de){if(!(0,C.iV)(Q)||!(0,C.t3)(Q.arg)||!(0,C.jv)(Q.arg.source))return Q;var Y=Q.arg.source.query;if(!Y)return Q;var ve,se=H&&H.filterContext;if(_.isEmpty(se)&&!de)return Q;if(de){var ce=de.conditions(),pe=_.some(ce,function(je){return 1===(0,u._)(je)});i.fF.assert(function(){return!pe},"additional filters should not contain measure filters")}if(_.isEmpty(se))ve=[de];else{var De=_.map(se,function(je){return je.filter});ve=F(De,de,!0,!1)}var We=I(Y,ve);return Q.accept(new W(We))}(Q.expr,Q.context,de);if(se||ce&&!_.isEmpty(ce.data))return(je=H.selectNameOf(De))?{queryName:je,queryDefn:H,objectDefinitionRewrite:void 0}:{queryName:(H=H.addSelect(De)).selectNameOf(De),queryDefn:H,objectDefinitionRewrite:void 0};H=H.addSelect(De);var Ae=_.last(H.select());if(i.fF.assert(function(){return(0,E.fS)(Ae.expr,De)},"Incorrect queryName"),Y){var _e=new l.F(H);H=_e.rewrite(),_e.didRewrite&&(We={from:ve,to:(0,d.xA)(Ae.name),selector:Q.selector})}return{queryName:Ae.name,queryDefn:H,objectDefinitionRewrite:We}}function I(Q,H){if(function(De){var We=!1,je=De.from().sources();for(var Ae in je)if((0,g.$r)(je[Ae])){We=!0;break}return We}(Q))return function(Q,H){if(!a.vQ.willFiltersAffectQuery(Q))return Q;var Y,de=a.yl.unmerge(a.yl.fromSQFromAndSQFilters(Q.from(),Q.where()));Y=_.isEmpty(de)?H:F(de,a.yl.merge(H),!1,!0);var se=a.yl.merge(Y);return Q.where(se.where(),se.from())}(Q,H);var Y=Q.from().sources();for(var se in Y){var ce=Y[se];if((0,D.y)(ce)){var pe=I(ce.subquery,H);return Y[se]=new g.vd(pe),Q.from(new g.cL(Y))}}}function F(Q,H,de,Y){i.fF.assertNonEmpty(Q,"filters should not be empty"),i.fF.assertAnyValue(H,"additionalFilters");for(var se=[],ce=function(Q,H){i.fF.assertNonEmpty(Q,"filters should not be empty"),i.fF.assertAnyValue(H,"additionalFilters");var de=[];H&&de.push({filters:[H],kind:void 0});var Y=function(Q){return i.fF.assertNonEmpty(Q,"filters should not be empty"),_.groupBy(Q,function(H){var de=H.conditions();return i.fF.assert(function(){return 1===_.size(de)},"expecting only 1 condition in filter"),(0,u._)(de[0])})}(Q);return Y[0]&&de.push({filters:Y[0],kind:0}),Y[3]&&de.push({filters:Y[3],kind:3}),Y[2]&&de.push({filters:Y[2],kind:2}),Y[1]&&de.push({filters:Y[1],kind:1}),de}(Q,H),pe=0,ve=ce;pe<ve.length;pe++){var De=ve[pe],We=De.filters;3===De.kind||1===De.kind?(1===De.kind&&de&&(We=[L(De.filters)]),Y?(i.fF.assertValue(H,"additionalFilters"),We=_.map(We,function(je){return(0,a.RD)(je,[H])})):_.isEmpty(se)||(We=_.map(We,function(je){return(0,a.RD)(je,se)})),se.push.apply(se,We)):se.push.apply(se,We)}return se}function L(Q){for(var de,H=a.vQ.create(),Y=function(De){H=H.addSemanticFilter(De);var We=De.where()[0].target;_.isEmpty(de)||i.fF.assert(function(){return(0,c.s_)(We,de,function(je,Ae){return(0,E.fS)(je,Ae)})},"targets should be same between all measure filters"),de=de||We||[]},se=0,ce=Q;se<ce.length;se++)Y(ce[se]);return i.fF.assert(function(){return!_.isEmpty(de)},"targets should not be empty for measure filters"),_.forEach(de,function(ve){H=H.addSelect(ve)}),a.yl.fromMeasuresQuery(H,de)}var W=function(Q){function H(de){var Y=Q.call(this)||this;return Y.query=de,Y}return(0,t.__extends)(H,Q),H.prototype.visitSubqueryRef=function(de){return(0,d.v5)(this.query,de.getAnnotations())},H}(b.b);function U(Q,H,de){if(!Q)return!0;for(var Y=0,se=Q;Y<se.length;Y++){var pe=(0,m.fs)(H,se[Y],de);if(_.isEmpty(pe))return!0}return!1}function z(Q,H,de){if(i.fF.assertValue(H,"querySelects"),i.fF.assertValue(de,"queryRefsByRole"),_.isEmpty(Q))return null;for(var Y=[],se=0,ce=Q;se<ce.length;se++){var pe=ce[se];if((0,p.j9)(pe)){var ve=G(de,pe.roles,H);Y.push.apply(Y,ve||[])}else(0,p.qm)(pe)?(ve=G(de,Object.keys(de),H),Y.push.apply(Y,ve||[])):(0,p.QV)(pe)||(0,p.tQ)(pe)?Y.push.apply(Y,pe.exprs||[]):(0,p.yN)(pe)?Y.push(pe.expr):i.fF.assertNever(pe)}if(0!==Y.length){for(var De=[],We=0,je=H;We<je.length;We++){var Ae=je[We],_e=f.m.indexOfExpr(Y,Ae.expr);if(!(_e<0)&&(Y.splice(_e,1),De.push(Ae.name),0===Y.length))break}if(!(Y.length>0||0===De.length))return De}}function G(Q,H,de){for(var Y=[],se=0,ce=H;se<ce.length;se++)Y.push.apply(Y,Q[ce[se]]||[]);var ve=_.filter(de,function(De){return _.includes(Y,De.name)});return _.map(ve,function(De){return De.expr})}},886740:function(ze,K,r){r.d(K,{y:function(){return l}});var t=r(456535),c=r(474147),i=r(883863),s=r(787941),p=r(750311),V=function(){function b(f,g){this.strategy=f,this.roles=g}return b.prototype.compileMapping=function(f){s.fF.assertValue(f,"mapping");var g=this.compileMetadata(),S={metadata:g};return f.categorical&&(S.categorical=this.compileCategorical(f.categorical)),f.table&&(S.table=this.compileTable(f.table)),f.single&&(S.single=this.compileSingle(f.single)),f.tree&&(S.tree=this.compileTree(f.tree)),f.matrix&&(S.matrix=this.compileMatrix(f.matrix)),f.scriptResult&&(S.scriptResult=this.compileScriptResult(f.scriptResult,g)),f.usage&&(S.usage=this.compileUsage(f.usage)),S},b.prototype.compileMetadata=function(){return this.strategy.compileMetadata()},b.prototype.compileCategorical=function(f){s.fF.assertValue(f,"mapping");var g={};f.categories&&(g.categories=this.compileRoleMappingWithReduction(f.categories));var S=f.values;if(S){var y=this.compileGrouped(S),C=this.compileList(S),E=this.compileRoleMapping(S);g.values=m(y,C,E)}return f.includeEmptyGroups&&(g.includeEmptyGroups=f.includeEmptyGroups),null!=f.dataVolume&&(g.dataVolume=f.dataVolume),f.dataReductionAlgorithm&&(g.dataReductionAlgorithm=this.compileReduction(f.dataReductionAlgorithm)),g},b.prototype.compileTable=function(f){s.fF.assertValue(f,"mapping");var C={rows:m(this.compileRoleMappingWithReduction(f.rows),this.compileListWithReduction(f.rows))};return null!=f.dataVolume&&(C.dataVolume=f.dataVolume),C},b.prototype.compileSingle=function(f){return s.fF.assertValue(f,"mapping"),{role:this.compileRole(f.role)}},b.prototype.compileScriptResult=function(f,g){return s.fF.assertValue(f,"mapping"),{dataInput:this.compileMapping(f.dataInput),script:this.compileScriptDefinition(f.script,g)}},b.prototype.compileScriptDefinition=function(f,g){return this.strategy.compileScriptDefinition(f,g)},b.prototype.compileTree=function(f){s.fF.assertValue(f,"mapping");var g={};return f.nodes&&(g.nodes=this.compileForWithReduction(f.nodes)),f.values&&(g.values=this.compileFor(f.values)),null!=f.dataVolume&&(g.dataVolume=f.dataVolume),g},b.prototype.compileMatrix=function(f){s.fF.assertValue(f,"mapping");var g={};if(f.rows){var S=this.compileForWithReduction(f.rows),y=this.compileListWithCompositeWithReduction(f.rows);g.rows=m(S,y)}return f.columns&&(g.columns=this.compileForWithReduction(f.columns)),f.values&&(S=this.compileRoleMapping(f.values),y=this.compileList(f.values),g.values=m(S,y)),null!=f.dataVolume&&(g.dataVolume=f.dataVolume),f.includeEmptyGroups&&(g.includeEmptyGroups=f.includeEmptyGroups),g},b.prototype.compileUsage=function(f){if(s.fF.assertValue(f,"usage"),f.regression||f.forecast||f.anomalyDetection)return f},b.prototype.compileListWithReduction=function(f){s.fF.assertValue(f,"mapping");var g=this.compileList(f);if(g)return f.dataReductionAlgorithm&&(g.dataReductionAlgorithm=this.compileReduction(f.dataReductionAlgorithm)),g},b.prototype.compileList=function(f){var g=this;if(s.fF.assertValue(f,"mapping"),f.select)return{select:_.map(f.select,function(y){return g.compileRoleMapping(y)})}},b.prototype.compileListWithCompositeWithReduction=function(f){s.fF.assertValue(f,"mapping");var g=this.compileListWithComposite(f);if(g){if(f.dataReductionAlgorithm&&(g.dataReductionAlgorithm=this.compileReduction(f.dataReductionAlgorithm)),f.values){var S=this.compileRoleMapping(f.values),y=this.compileList(f.values);g.values=m(S,y)}return g}},b.prototype.compileListWithComposite=function(f){var g=this;if(s.fF.assertValue(f,"mapping"),f.select)return{select:_.map(f.select,function(y,C){return g.compileRoleMappingWithComposite(y,0===C)})}},b.prototype.compileGrouped=function(f){var g=this;if(s.fF.assertValue(f,"mapping"),f.group){var C={group:{by:this.compileRole(f.group.by),select:_.map(f.group.select,function(E){return g.compileRoleMapping(E)})}};return f.group.dataReductionAlgorithm&&(C.group.dataReductionAlgorithm=this.compileReduction(f.group.dataReductionAlgorithm)),C}},b.prototype.compileRoleMapping=function(f){return s.fF.assertValue(f,"mapping"),m(this.compileBind(f),this.compileFor(f))},b.prototype.compileRoleMappingWithComposite=function(f,g){return s.fF.assertValue(f,"mapping"),m(this.compileBind(f),this.compileFor(f),this.compileComposite(f,g))},b.prototype.compileRoleMappingWithReduction=function(f){s.fF.assertValue(f,"mapping");var g=this.compileRoleMapping(f),S=this.compileList(f);if(g||S){var y=m(g,S);return y&&f.dataReductionAlgorithm&&(y.dataReductionAlgorithm=this.compileReduction(f.dataReductionAlgorithm)),y}},b.prototype.compileBind=function(f){if(s.fF.assertValue(f,"mapping"),f.bind)return{bind:{to:this.compileRole(f.bind.to,f.bind.aggregates)}}},b.prototype.compileForWithReduction=function(f){s.fF.assertValue(f,"mapping");var g=this.compileFor(f);if(g)return f.dataReductionAlgorithm&&(g.dataReductionAlgorithm=this.compileReduction(f.dataReductionAlgorithm)),g},b.prototype.compileFor=function(f){if(s.fF.assertValue(f,"mapping"),f.for)return{for:{in:this.compileRole(f.for.in)}}},b.prototype.compileComposite=function(f,g){var S=this;if(s.fF.assertValue(f,"mapping"),f.composite){var C={composite:_.map(f.composite,function(E){return S.compileRoleMapping(E)})};return s.fF.assert(function(){return g||!(f.dataReductionAlgorithm&&f.dataReductionAlgorithm.window)||f.synchronized},"window data reduction requires synchronization except in the first mapping"),f.synchronized&&(C.synchronized=f.synchronized),f.dataReductionAlgorithm&&(C.dataReductionAlgorithm=this.compileReduction(f.dataReductionAlgorithm)),C}},b.prototype.compileRole=function(f,g){return this.strategy.compileRole(f,g)},b.prototype.compileReduction=function(f){if(s.fF.assertAnyValue(f,"algorithm"),f){var g={};if(f.top&&(g.top={},f.top.count&&(g.top.count=f.top.count)),f.bottom&&(g.bottom={},f.bottom.count&&(g.bottom.count=f.bottom.count)),f.sample&&(g.sample={},f.sample.count&&(g.sample.count=f.sample.count)),f.window&&(g.window={},f.window.count&&(g.window.count=f.window.count)),f.binnedLineSample&&(g.binnedLineSample={},f.binnedLineSample.count&&(g.binnedLineSample.count=f.binnedLineSample.count),f.binnedLineSample.warningCount&&(g.binnedLineSample.warningCount=f.binnedLineSample.warningCount)),f.overlappingPointsSample){var S=f.overlappingPointsSample;g.overlappingPointsSample={},S.count&&(g.overlappingPointsSample.count=S.count);var y=this.getCompiledRoleForCartesianRoleKind(0);y&&(g.overlappingPointsSample.x={role:y});var C=this.getCompiledRoleForCartesianRoleKind(1);C&&(g.overlappingPointsSample.y={role:C})}return f.topNPerLevel&&(g.topNPerLevel={count:f.topNPerLevel.count,fallbackTopCount:f.topNPerLevel.fallbackTopCount}),g}},b.prototype.getCompiledRoleForCartesianRoleKind=function(f){var g=_.filter(this.roles,function(S){return S.cartesianKind===f});if(s.fF.assert(function(){return _.size(g)<=1},"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(g))return this.compileRole(g[0].name)},b}();function m(b,f,g){if(b||f||g)return!b||f||g?b||!f||g?b||f||!g?$.extend(b,f,g):g:f:b}var v=r(698129),e=r(98196),h=r(682324),n=r(351025),o=r(454262),u=r(411916),a=r(983172);function l(b){s.fF.assertValue(b,"options");var f=b.mappings;if(!f)return[];var g=b.roles||[],S=new d(b.queryDefn,b.queryProjections,b.schema,b.objectDescriptors,b.objectDefinitions,b.roles||[],b.featureSwitches,b.transformPluginService),y=new V(S,g);return _.map(f,function(C){return y.compileMapping(C)})}var d=function(){function b(f,g,S,y,C,E,D,P){this.featureSwitches=D,this.transformPluginService=P,s.fF.assertValue(f,"queryDefn"),s.fF.assertValue(g,"queryProjections"),s.fF.assertValue(S,"schema"),s.fF.assertAnyValue(y,"objectDescriptors"),s.fF.assertAnyValue(C,"objectDefinitions"),s.fF.assertValue(E,"roles"),s.fF.assertValue(P,"transformPluginService"),this.queryDefn=f,this.queryProjections=g,this.schema=S,this.objectDescriptors=y,this.objectDefinitions=C,this.roles=E,this.exprEvaluationContext=a.m.buildExprEvaluationContext(this.queryDefn.from())}return b.prototype.compileRole=function(f,g){var S=this;s.fF.assertValue(f,"role");var y,C=this.queryDefn.select(),E=this.queryProjections[f],D=(0,i.rC)(this.roles,f);if(E&&E.all().length>0){var P=!1;D&&(P=(0,u._T)(this.schema,this.queryDefn,this.queryProjections,D.name));var M=this.getScalarKeyRoleItemQueryRef(E);y=_.map(E.all(),function(B){var N=B.queryRef===M,x=C.withName(B.queryRef);return x&&S.createDataViewRoleItem(x,D,P,N,B.hidden)}),_.some(y,function(B){return null==B})&&(s.fF.assertFail("Some projections aren't in the query select"),y=_.filter(y,function(B){return null!=B})),s.fF.assert(function(){return y.filter(function(B){return B.scalarKeyInfo&&B.scalarKeyInfo.hasScalarKey}).length<=1},"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var T={role:f,items:y},R=this.queryProjections[f];return R&&(R.showAll&&(T.showAll=!0),R.activeProjectionRefs&&(T.activeItems=R.activeProjectionRefs)),g&&(T.aggregates=_.cloneDeep(g)),T},b.prototype.getScalarKeyRoleItemQueryRef=function(f){s.fF.assertValue(f,"projections"),s.fF.assertValue(!_.isEmpty(f.all()),"projections.all");var g=f.activeProjectionRefs;return _.isEmpty(g)?f.all()[0].queryRef:_.last(g)},b.prototype.createDataViewRoleItem=function(f,g,S,y,C){var E;s.fF.assertValue(f,"select");var D={queryName:f.name},P=this.tryGetExprType(f.expr);if(P&&(D.type=P),g&&null!=g.joinPredicate)D.joinPredicate=g.joinPredicate;else if((0,t.Im)(f.expr)){var M=this.queryDefn.transforms();if(!_.isEmpty(M))for(var T=!1,R=0,B=M;R<B.length;R++){var x=null===(E=this.transformPluginService.getTransformPlugin(B[R].algorithm))||void 0===E?void 0:E.outputRoles;if(!_.isEmpty(x))for(var A=0,I=x;A<I.length;A++){var w=I[A];if(w.algorithmRole===f.expr.role&&null!=w.joinPredicateBehavior){D.joinPredicate=w.joinPredicateBehavior,T=!0;break}}if(T)break}}return D.scalarKeyInfo={hasScalarKey:S&&y},D.hidden=C,D},b.prototype.tryGetExprType=function(f){s.fF.assertValue(f,"expr");var g=f.getMetadata(this.schema,this.exprEvaluationContext);if(g)return g.type},b.prototype.compileMetadata=function(){for(var f={columns:[]},g=this.queryDefn.orderBy(),S=function(F){var O=_.find(g,function(W){return(0,c.fS)(W.expr,F.expr)}),L=a.m.getParameterMetadata(F.expr,y.schema);f.columns.push({displayName:void 0,queryName:F.name,type:y.tryGetExprType(F.expr),sort:O&&O.direction,parameter:L})},y=this,C=0,E=this.queryDefn.select();C<E.length;C++)S(E[C]);var M=this.objectDefinitions;if(!M||!this.objectDescriptors)return f;var T=(0,e.Me)(M),R=(0,n.X)(),B=(0,p.Ue)();if(_.isEmpty(T.metadataOnce)||(N=this.evaluateMetadataOnceObjects(T.metadataOnce,R,B))&&(f.objects=N),!_.isEmpty(T.metadata))for(var x=0,A=f.columns;x<A.length;x++){var N,I=A[x];(N=this.evaluateMetadataObjects(I,T.metadata,R,B))&&(I.objects=N)}return f},b.prototype.evaluateMetadataOnceObjects=function(f,g,S){for(var y,C,E=new h.Q(this.featureSwitches,S),D=0,P=f;D<P.length;D++){var M=P[D],T=M.selector&&M.selector.id,R=null===(y=M.selector)||void 0===y?void 0:y.order,B=(0,e.PJ)(E,g,this.objectDescriptors,M.objects);B&&(C||(C={}),(0,v.PM)(C,B,T,R))}return C},b.prototype.evaluateMetadataObjects=function(f,g,S,y){for(var C,E=new h.Q(this.featureSwitches,y),D=0,P=g;D<P.length;D++){var M=P[D],T=M.selector;if(T.metadata&&T.metadata===f.queryName){var R=(0,e.PJ)(E,S,this.objectDescriptors,M.objects);R&&(C||(C={}),(0,v.PM)(C,R,T.id,T.order))}}return C},b.prototype.compileScriptDefinition=function(f,g){s.fF.assertValue(f,"mapping");var S=(0,o.Uo)(this.queryProjections,this.queryDefn.select(),this.schema,f,g.objects);return{source:f.source,provider:f.provider,scriptInput:S,scriptSourceDefault:f.scriptSourceDefault,scriptProviderDefault:f.scriptProviderDefault,scriptOutputType:f.scriptOutputType}},b}()},460564:function(ze,K,r){r.d(K,{Az:function(){return V},Ho:function(){return h},KB:function(){return m},fg:function(){return s},p5:function(){return i}});var t=r(693825),c=r(787941),i="*";function s(n,o,u,a,l){return c.fF.assertValue(l,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),p(l[n],o,u,a)||p(l[i],o,u,a)||{objectName:o,propertyName:u}}function p(n,o,u,a){var l=n&&n[o]&&n[o][u];if(l){for(var d=l.currentId;l&&(0,t.lt)(a,l.version);)d=l.previousId,l=l.previous;return d}}function V(n,o,u,a,l,d){return m(n,o,null,u,a,l,d,function(){return!1})===t.aD}function m(n,o,u,a,l,d,b,f){return c.fF.assertValue(n,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,t.Fp)(v(n[i],l,d,o,u,b,f),v(n[a],l,d,o,u,b,f))}function v(n,o,u,a,l,d,b){var f=n&&n[o];return f?(0,t.Fp)(e(f[i],a,l,d,b),e(f[u],a,l,d,b)):t.aD}function e(n,o,u,a,l){if(!n)return t.aD;for(var d=function(S){var y=n[S];if(c.fF.assert(function(){return!S||!(0,t.lt)(y.version,n[S-1].version)},"We iterate through the visual object property versions in decreasing order of version, \n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,t.lt)(a,y.version))return"break";var C=y.property.matchByContents;return C&&!C(o,u)||y.property.isExprBound&&!l()?void 0:{value:y.version}},b=n.length-1;b>=0;b--){var f=d(b);if("object"==typeof f)return f.value;if("break"===f)break}return t.aD}function h(n,o,u){var a,l,d=n[u];if(d){var b=d[o.objectName];if(b)return _.reduce(b[o.propertyName],function(g,S){return S.property.matchByContents||S.property.isExprBound?g:(0,t.Fp)(g,S.version)},null!==(l=null===(a=b["*"])||void 0===a?void 0:a[0].version)&&void 0!==l?l:t.aD)}return t.aD}},722972:function(ze,K,r){r.d(K,{lr:function(){return i}});var t=r(787941),c=r(238435);function i(o,u){t.fF.assertValue(o,"mappings"),t.fF.assertValue(u,"indicesByName");var a=o.length;if(1===a)return{mapping:o[0]};for(var l,d=[],b=o[0].updateType,f=0;f<a;f++){var g=o[f];if(b=s(g.updateType,b),!g.categorical)return;0===f&&(l={metadata:g.metadata,categorical:{}}),p(l.categorical,g.categorical),d.push(h(u,g.categorical))}return l.updateType=b,{mapping:l,splits:d}}function s(o,u){return null===o||0===o||null===u||0===u?0:o===u?o:1===o||1===u?1:2}function p(o,u){if(u.categories)if(o.categories){var a=function(o,u){if(t.fF.assertValue(o,"target"),t.fF.assertValue(u,"source"),!o&&!u)return!0;if(o&&u){if(!o.categories&&!u.categories)return!0;if(o.categories&&u.categories){var a=o.categories,l=u.categories;return!!m(a.dataReductionAlgorithm,l.dataReductionAlgorithm)&&(a.bind||l.bind?_.isEqual(a.bind,l.bind):a.for||l.for?_.isEqual(a.for,l.for):!a.select&&!l.select||_.isEqual(a.select,l.select))}}return!1}(o,u);t.fF.assert(function(){return a},"target.categories & source.categories must match when multiple mappings are used.")}else o.categories=u.categories;if(null!=u.dataVolume||null!=o.dataVolume){var l=Math.max(u.dataVolume||0,o.dataVolume||0);u.dataVolume=o.dataVolume=l}if(u.dataReductionAlgorithm)if(o.dataReductionAlgorithm){var d=m(u.dataReductionAlgorithm,o.dataReductionAlgorithm);t.fF.assert(function(){return d},"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else o.dataReductionAlgorithm=u.dataReductionAlgorithm;if(u.values){var b=o.values;b||(b=o.values={});var f=u.values,g=f.group;if(function(o,u){(u.bind||u.for)&&(o.select||(o.select=[]),o.select.push(u))}(b,f),e(b,f.select),g){var S=o.values.group;S?e(S,g.select):o.values.group={select:g.select.concat([]),by:g.by,dataReductionAlgorithm:g.dataReductionAlgorithm}}}}function m(o,u){return!o||!u||_.isEqual(o,u)}function e(o,u){var a;u&&(o.select||(o.select=[]),(a=o.select).push.apply(a,u||[]))}function h(o,u){var a={selects:{}},l={visitRole:function(b){return function(o,u,a){t.fF.assertValue(o,"split"),t.fF.assertValue(u,"indicesByName"),t.fF.assertValue(a,"role");var l=a.items;if(!_.isEmpty(a.items))for(var d=[],b=0,f=l;b<f.length;b++){var y=u[f[b].queryName];d[y]||(o.selects[y]=!0,d[y]=!0)}}(a,o,b)}};return(0,c.Sr)(u.categories,l),(0,c.vS)(u.values,l),(0,c.fl)(u.values,l),a}},934068:function(ze,K,r){r.d(K,{fz:function(){return v},v4:function(){return e}});var t=r(883863),c=r(787941),i=r(261374),s=r(690016),p=r(524878),V=r(592042),m=r(516469);function v(A){return c.fF.assertValue(A,"loc"),{kpiGoalFmt:A.get("KpiGoalDisplayName"),kpiStatusFmt:A.get("KpiStatusDisplayName"),kpiTrendFmt:A.get("KpiTrendDisplayName")}}function e(A,I,w,F){var O=new p.ud;O.name=I,O.cubeName=F,O.entities=(0,t.bv)(),A.canEdit&&(A.Capabilities||(A.Capabilities={}),A.Capabilities.CanEdit=A.canEdit),O.capabilities=function(A){return{canEdit:A&&A.CanEdit||!1,discourageQueryAggregateUsage:A&&A.DiscourageQueryAggregateUsage||!1,isExtendable:A&&A.IsExtendable||!1,isQnaEnabled:A&&A.IsQnaEnabled||!1,normalizedFiveStateKpiRange:A&&A.NormalizedFiveStateKpiRange||!1,supportsMedian:A&&A.SupportsMedian||!1,supportsPercentile:A&&A.SupportsPercentile||!1,supportsScopedEval:A&&A.SupportsScopedEval||!1,supportsStringMinMax:A&&A.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:A&&A.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:A&&A.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:A&&!1!==A.SupportsCalculatedColumns||!1,supportsGrouping:A&&!1!==A.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:A&&A.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:A&&A.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:A&&A.SupportsOverlappingPointsSample||!1,supportsQna:A&&A.SupportsQna||!1,supportsInstanceFilters:A&&A.SupportsInstanceFilters||!1,supportsDataSourceVariables:A&&A.SupportsDataSourceVariables||!1,insights:A?N(A.Insights):{},supportsFastRefresh:A&&A.SupportsFastRefresh||!1,supportsSubqueryRegrouping:A&&A.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:A&&A.SupportsTopNPerLevel||!1,supportsExtensionColumns:A&&A.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:A&&A.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:A&&A.SupportsGroupSynchronization||!1,supportsScopedDataReduction:A&&A.SupportsScopedDataReduction||!1,transformCapabilities:x(A&&A.TransformCapabilities),supportChangeDetectionMeasureRefresh:A&&A.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:A&&A.SupportsSparklineData||!1,supportsVisualCalculations:A&&A.SupportsVisualCalculations||!1}}(A.Capabilities);for(var L=0,W=A.Entities;L<W.length;L++)O.entities.push(h(W[L],O.capabilities,w));for(var j=0,z=A.Entities.length;j<z;++j)P(O.entities[j],A.Entities[j],O.entities);return O}function h(A,I,w){for(var F=A.Capabilities,O=A.Source,L={name:A.Name,displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,visibility:D(A.Hidden,A.ShowAsVariationsOnly,A.Private),calculated:A.Calculated,queryable:A.Queryable,properties:(0,t.bv)(),hierarchies:(0,t.bv)(),displayFolders:(0,t.bv)(),navigationProperties:(0,t.bv)(),errorMessage:A.ErrorMessage,isDateTable:!0===A.IsDateTable,isCalculationGroup:A.IsCalculationGroup,source:{mode:O&&O.Mode,refreshedTime:O&&O.RefreshedTime,directQuerySourceType:O&&O.DirectQuerySourceType,directQuerySourceName:O&&O.DirectQuerySourceName},capabilities:{canRefresh:!F||!1!==F.CanRefresh,canHaveMeasures:!F||!1!==F.CanHaveMeasures,canEditSource:I.canEdit&&(!F||!1!==F.CanEditSource),canRename:I.canEdit&&(!F||!1!==F.CanRename),canDelete:I.canEdit&&(!F||!1!==F.CanDelete),canEditStorageMode:I.canEdit&&(!F||!1!==F.CanEditStorageMode),supportsClustering:I.canEdit&&(!F||!1!==F.SupportsClustering),supportsBinByCount:I.canEdit&&(!F||!1!==F.SupportsBinByCount),limitOnNumberOfGroups:F&&F.LimitOnNumberOfGroups||null,dataView:F&&F.DataView||null}},W=0,U=A.Properties;W<U.length;W++)L.properties.push(b(U[W]));c.fF.assert(function(){return L.properties.length===A.Properties.length},"Converted schema properties array is not the expected length.");for(var z=0,G=A.Properties.length;z<G;++z){var te=L.properties[z],Q=A.Properties[z];c.fF.assertValue(te,"no result property for contract property"),te.canDelete=I.canEdit&&!1!==Q.CanDelete;var H=Q.Column;if(H){var de=te.column=te.column||{};H.Keys&&(de.keys=a(H.Keys,L.properties)),H.OrderBy&&(de.orderBy=a(H.OrderBy,L.properties))}var Y=Q.Measure;if(Y){var se=te.measure=te.measure||{};if(se.canEdit=!1!==Y.canEdit,Y.FormatBy&&(se.formatBy=Y.FormatBy),Y.Kpi){var ce=se.kpi=l(Y.Kpi,L.properties,I);d(ce.goal,te,1,w),d(ce.status,te,0,w),d(ce.trend,te,3,w)}Y.Template&&(se.template={name:Y.Template.DaxTemplateName}),Y.ChangeDetectionMetadata&&(se.changeDetectionMetadata={refreshInterval:Y.ChangeDetectionMetadata.RefreshInterval}),null!=Y.DistributiveAggregate&&(se.distributiveAggregate=Y.DistributiveAggregate)}}if(A.Hierarchies)for(var pe=0,ve=A.Hierarchies;pe<ve.length;pe++)L.hierarchies.push(o(ve[pe],L.properties));if(A.DisplayFolders)for(var We=0,je=A.DisplayFolders;We<je.length;We++)L.displayFolders.push(n(je[We],L.properties,L.hierarchies));return A.DefaultLabelColumnRef&&(L.defaultLabel=L.properties.withName(A.DefaultLabelColumnRef)),A.DefaultFieldPropertyRefs&&(L.defaultFields=_.map(A.DefaultFieldPropertyRefs,function(_e){return L.properties.withName(_e)})),L}function n(A,I,w){var F={name:A.Name,displayName:A.DisplayName||A.Name,description:A.Description,properties:(0,t.bv)(),hierarchies:(0,t.bv)(),displayFolders:(0,t.bv)()};if(A.DisplayItems)for(var O=0,L=A.DisplayItems;O<L.length;O++){var W=L[O];W.PropertyRef&&I?F.properties.push(I.withName(W.PropertyRef)):W.HierarchyRef&&w?F.hierarchies.push(w.withName(W.HierarchyRef)):W.DisplayFolder&&F.displayFolders.push(n(W.DisplayFolder,I,w))}return F}function o(A,I){for(var w={name:A.Name,displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,hidden:A.Hidden,levels:(0,t.bv)(),canDelete:!1!==A.CanDelete},F=0,O=A.Levels;F<O.length;F++)w.levels.push(u(O[F],I));return w}function u(A,I){return{name:A.Name,displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,column:I.withName(A.Column),canDelete:!1!==A.CanDelete}}function a(A,I){c.fF.assertValue(A,"names"),c.fF.assertValue(I,"properties");for(var w=(0,t.bv)(),F=0,O=A;F<O.length;F++)w.push(I.withName(O[F]));return w}function l(A,I,w){var F=w.normalizedFiveStateKpiRange,O={statusMetadata:{graphic:A.StatusGraphic,normalizedFiveStateKpiRange:F},status:I.withName(A.Status),goal:I.withName(A.Goal),trend:I.withName(A.Trend)};return A.TrendGraphic&&(O.trendMetadata={graphic:A.TrendGraphic,normalizedFiveStateKpiRange:F}),O}function d(A,I,w,F){if(A){var O=I.displayName;switch(w){case 1:O=(0,i.W)(F.kpiGoalFmt,O);break;case 0:O=(0,i.W)(F.kpiStatusFmt,O);break;case 3:O=(0,i.W)(F.kpiTrendFmt,O);break;default:c.fF.assertFail("Unsupported Kpi Type")}A.displayName=O,A.hidden=!1,A.kpiValue=I}}function b(A){return c.fF.assertValue(A,"contract"),{displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,name:A.Name,type:V.Ge.fromPrimitiveTypeAndCategory(A.DataType,A.DataCategory),column:A.Column?f(A.Column):null,kind:E(A),format:A.FormatString,hidden:A.Hidden,isPrivate:A.Private,queryable:A.Queryable,errorMessage:A.ErrorMessage}}function f(A){c.fF.assertValue(A,"contract");var I={defaultAggregate:A.DefaultAggregate,idOnEntityKey:A.IdOnEntityKey,calculated:A.Calculated,variations:(0,t.bv)(),aggregateBehavior:A.AggregateBehavior};return void 0!==A.DefaultValue&&(I.defaultValue=(0,m.bE)(A.DefaultValue)),I}function g(A,I){return c.fF.assertValue(A,"contract"),c.fF.assertValue(I,"entity"),{kind:null!=A.Kind?A.Kind:0,mappedMParameterNames:A.MappedMParameterNames,supportsMultipleValues:A.SupportsMultipleValues,supportsSelectAll:A.SupportsSelectAll}}function S(A,I){c.fF.assertValue(A,"contract"),c.fF.assertValue(I,"entity");var w={groupedColumns:_.map(A.GroupedColumns,function(F){return F.ColumnRef&&!F.LevelRef?I.properties.withName(F.ColumnRef):F.LevelRef&&!F.ColumnRef?I.hierarchies.withName(F.LevelRef.Hierarchy).levels.withName(F.LevelRef.Level):void c.fF.assertFail("unknown ClientConceptualGroupedColumnContainer")})};return A.BinningMetadata&&(w.binningMetadata=function(A){c.fF.assertValue(A,"contract");var I={};return A.BinSize&&(I.binSize=function(A){return c.fF.assertValue(A,"contract"),{value:A.Value,unit:A.Unit}}(A.BinSize)),I}(A.BinningMetadata)),w}function E(A){return A.Measure?1:0}function D(A,I,w){var F=0;return A&&(F|=1),I&&(F|=2),w&&(F|=4),F}function P(A,I,w){var F,O,L;if(c.fF.assertValue(A,"entity"),c.fF.assertValue(I,"contract"),c.fF.assertValue(w,"entities"),I.NavigationProperties)for(var W=0,U=I.NavigationProperties;W<U.length;W++)A.navigationProperties.push(M(U[W],A,w));if(I.Properties)for(var z=0,G=I.Properties.length;z<G;++z){var te=I.Properties[z],Q=te.Column;if(Q&&Q.Variations&&T(A.properties[z].column,Q,A),Q&&Q.GroupingMetadata&&(A.properties[z].column.groupingMetadata=S(Q.GroupingMetadata,A)),Q&&Q.ParameterMetadata){var H=g(Q.ParameterMetadata,A);if(A.properties[z].column.parameterMetadata=H,2===H.kind)for(var de=0,Y=A.properties;de<Y.length;de++){var se=Y[de];if(null!==(F=null==se?void 0:se.column)&&void 0!==F&&F.keys&&1===se.column.keys.length&&null!=(null===(L=null===(O=se.column.keys[0].column)||void 0===O?void 0:O.parameterMetadata)||void 0===L?void 0:L.kind)&&2===se.column.keys[0].column.parameterMetadata.kind){se.column.parameterMetadata=H;break}}}var ce=te.Measure;ce&&!_.isEmpty(ce.DistributiveBy)&&(A.properties[z].measure.distributiveBy=_.map(ce.DistributiveBy,function(pe){return w.withName(pe)}))}}function M(A,I,w){c.fF.assertValue(A,"contract");var F={name:A.Name,isActive:A.Active,sourceColumn:null,targetEntity:w.withName(A.TargetEntity),sourceMultiplicity:A.SourceMultiplicity,targetMultiplicity:A.TargetMultiplicity,behavior:A.Behavior||0,crossFilterDirection:s.b$.valueOrDefault(A.CrossFilterDirection,0)};if(A.SourceColumn){var O=I.properties.withName(A.SourceColumn);O&&(F.sourceColumn=O.column)}return F}function T(A,I,w){c.fF.assertValue(A,"column"),c.fF.assertValue(I,"contract");for(var F=0,O=I.Variations;F<O.length;F++)A.variations.push(R(O[F],w))}function R(A,I){c.fF.assertValue(A,"contract");var w={name:A.Name,isDefault:A.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},F=I;return A.NavigationProperty&&(w.navigationProperty=I.navigationProperties.withName(A.NavigationProperty),F=w.navigationProperty.targetEntity),A.DefaultHierarchy&&(w.defaultHierarchy=F.hierarchies.withName(A.DefaultHierarchy)),A.DefaultProperty&&(w.defaultProperty=F.properties.withName(A.DefaultProperty)),w}function N(A){return A?{supportsDistributionFactors:A.SupportsDistributionFactors||!1,supportsExplainChange:A.SupportsExplainChange||!1,supportsExplore:A.SupportsExplore||!1,supportsKeyDrivers:A.SupportsKeyDrivers||!1,supportsRelatedInsights:A.SupportsRelatedInsights||!1,supportsDecomposition:A.SupportsDecomposition||!1,supportsExplainAnomalies:A.SupportsExplainAnomalies||!1,supportsCompatibleFields:A.SupportsCompatibleFields||!1,supportsQuerySuggestions:A.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:A.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:A.SupportsGenerateSummaries||!1}:{}}function x(A){return A?{supportedTransforms:A.SupportedTransforms}:{supportedTransforms:[]}}},641324:function(ze,K,r){r.d(K,{No:function(){return o},U6:function(){return u}});var t=r(226514),c=r(795120),i=r(160557),s=r(853811),p=r(249484),V=r(787941),m=r(327260),v=r(572643),e=r(419644),h=r(934068);function o(d,b,f,g,S,y,C){return new l(d,b,f,g,S,y,C)}function u(d,b,f,g,S){return new a(d,b,f,g,S)}var a=function(){function d(b,f,g,S,y){this.httpService=b,this.promiseFactory=f,this.uri=g,this.featureSwitches=S,this.preloadConceptualSchemaService=y}return d.prototype.execute=function(b,f){var C,E,D,g=this,S=this.featureSwitches&&this.featureSwitches().telemetryV2,y=this.promiseFactory.defer(S);return f.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(C=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),E=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),D=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(b)===D&&this.uri===E&&C?(C.then(function(P){1!==P.schemas.length||P.schemas[0].modelId!==b.modelIds[0]||P.error?g.httpExecute(b,f,y):((0,p.bF)(g.uri,f.event.info),y.resolve({requestId:g.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:P.schemas}))},function(P){g.httpExecute(b,f,y)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(b,f,y),y.promise},d.prototype.httpExecute=function(b,f,g){var S=this;this.httpService.post(this.uri,b,this.httpService.powerbiRequestOptions(f.event,"GetConceptualSchema")).then(function(y){S.setTelemetryEventInfo(f.event,y),g.resolve({requestId:y.responseRequestId||y.requestId,schemas:y.data.schemas})},function(y){var C=y||{};S.setTelemetryEventInfo(f.event,C),g.reject({requestId:C.responseRequestId||C.requestId,error:C.error,status:C.status,schemas:void 0})})},d.prototype.setTelemetryEventInfo=function(b,f){b.info.clientAndServerRequestIdMatch=(0,p.Cx)(f),b.info.responseRequestId=(0,p.yC)(f),b.info.requestId=f.requestId,(0,p.bF)(this.uri,b.info)},d}(),l=function(){function d(b,f,g,S,y,C,E){this.promiseFactory=b,this.telemetryService=f,this.localeProvider=g,this.conceptualSchemaProxyCommunication=S,this.locOptions=y,this.featureSwitches=C,this.embedModeService=E,V.fF.assertValue(b,"promiseFactory"),V.fF.assertValue(S,"conceptualSchemaProxyCommunication"),V.fF.assertValue(y,"locOptions")}return d.prototype.execute=function(b){var f=this;V.fF.assertValue(b,"options");var g=b.dataSources;V.fF.assertNonEmpty(g,"dataSources");var S=this.featureSwitches&&this.featureSwitches().telemetryV2;if(!g||g.length>1)return this.promiseFactory.reject({},S);var y=this.promiseFactory.defer(S),C=_.map(g,function(T){return T.name}),E={modelIds:_.map(g,function(T){return T.id}),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};g.some(function(T){return T.perspectiveId})&&(E.perspectiveIds=_.map(g,function(T){return T.perspectiveId}));var P=JSON.stringify(E.modelIds);S&&(0,s.Hi)(e.sS,{datasetIds:P});var M=this.telemetryService.startEvent(e.oj,{endPoint:"",datasetIds:P,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription()});return this.conceptualSchemaProxyCommunication.execute(E,M).then(function(T){return f.onSuccess(T,C,y,M)},function(T){return f.onError(T,y,M)}),y.promise},d.prototype.transform=function(b){var f=b;if(!f.data)return{schema:null,error:f.error};var g=f.data;V.fF.assertValue(g,"schemaResponse");var S=g.schemas;V.fF.assertNonEmpty(S,"schemaResponses");var y=f.schemaNames;V.fF.assert(function(){return y.length===S.length},"schemaNames.length === schemaResponsess.length");for(var C={},E=0,D=S.length;E<D;E++){var P=y[E];C[P]=(0,h.v4)(S[E].schema,P,this.locOptions,S[E].cubeName)}return{schema:new v.l({schemas:C})}},d.prototype.onSuccess=function(b,f,g,S){if(_.isEmpty(b.schemas))this.onError(b,g,S);else{for(var y=0,C=b.schemas;y<C.length;y++){var D=C[y].error;if(D){g.reject({data:null,error:{requestId:b.requestId,serviceError:D,clientError:null,ignorable:!0}});var P=(0,i.W2)(D);return P.asErrorCode=D.parameters&&D.parameters.ASErrorCode,void S.reject(P)}}g.resolve({data:b,schemaNames:f,error:null}),S.resolve()}},d.prototype.onError=function(b,f,g){var S=b.error;f.reject({data:null,error:{requestId:b.requestId,clientError:new m.n8(b.error)}}),g.reject((0,i.GB)(S,b.status))},(0,t.__decorate)([(0,c.U)(e.sS),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",Object)],d.prototype,"execute",null),d}()},987513:function(ze,K,r){r.d(K,{g:function(){return c},y:function(){return i}});var t=r(787941);function c(s){return t.fF.assertValue(s,"dataQuery"),t.fF.assertNonEmpty(s.Commands,"dataQuery.Commands must not be empty"),t.fF.assertValue(s.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),t.fF.assertValue(s.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),t.fF.assertValue(1===s.Commands.length||2===s.Commands.length&&(s.Commands[1].ScriptVisualCommand||s.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),s.Commands[0].SemanticQueryDataShapeCommand}function i(s){return t.fF.assert(function(){return s&&s.Commands&&s.Commands.length>0},"data query should not be empty"),s.Commands.length>1}},902360:function(ze,K,r){r.d(K,{p:function(){return M}});var t=r(641324),c=r(46997),i=r(226514),s=r(787941),p=r(690016),V=r(324356),m=r(334048),v=r(249679);function h(R){return function(B,N,x){var A={query:B,extensions:void 0,queryRewrites:N},I=new l(N,x);return A.query=B.rewrite(I),A.extensions=I.extensionSchema,A.queryRewrites=I.queryRewrites,A}}var l=function(R){function B(N,x){var A=R.call(this)||this;return A.queryRewrites=N,A.extensionSchema=x,A.existingEntityNames={},A.existingExtensionFieldNames={},s.fF.assertAnyValue(N,"queryRewrites"),s.fF.assertAnyValue(x,"extensionSchema"),A}return(0,i.__extends)(B,R),B.prototype.visitNativeMeasure=function(N){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,p.zE)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:1,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var x=_.find(this.nativeMeasuresTargetEntity.Measures,function(w){return w.DataType===N.dataType&&w.Expression===N.expression});if(x)return(0,V.mv)((0,V.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),x.Name);var A=(0,p.zE)(this.existingExtensionFieldNames,N.proposedName||"NativeMeasure");this.existingExtensionFieldNames[A]=!0;var I=(0,V.mv)((0,V.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),A);return this.nativeMeasuresTargetEntity.Measures.push({Name:A,DataType:N.dataType,Expression:N.expression}),I},B.prototype.visitNativeColumn=function(N){this.ensureSchemaInitialized();var A=N.source.getTargetEntity(),I=_.find(this.extensionSchema.Entities,function(L){return L.Name===A.entity});I||this.extensionSchema.Entities.push(I={Name:A.entity,Extends:A.entity,Columns:[]}),I.Columns||(I.Columns=[]);var w=_.find(I.Columns,function(L){return L.DataType===N.dataType&&L.Expression===N.expression});if(w)return(0,V.Oh)((0,V.nw)(this.extensionSchema.Name,I.Name),w.Name);var F=(0,p.zE)(this.existingExtensionFieldNames,N.proposedName||"NativeColumn");this.existingExtensionFieldNames[F]=!0;var O=(0,V.Oh)((0,V.nw)(this.extensionSchema.Name,I.Name),F);return I.Columns.push({Name:F,DataType:N.dataType,Expression:N.expression,NamingBehavior:1}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:N,replacedExpr:O}}),O},B.prototype.ensureSchemaInitialized=function(){if(!this.schemaInitialized){this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:1,Extends:v.N8},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={};for(var N=0,x=this.extensionSchema.Entities;N<x.length;N++){var A=x[N];if(this.existingEntityNames[A.Name]=!0,A.Measures)for(var I=0,w=A.Measures;I<w.length;I++)this.existingExtensionFieldNames[w[I].Name]=!0;if(A.Columns)for(var O=0,L=A.Columns;O<L.length;O++)this.existingExtensionFieldNames[L[O].Name]=!0}this.schemaInitialized=!0}},B}(m.b),d=r(662950),b=r(820919),f=r(795120),g=r(419644),S=r(509775),y=r(565146),C=r(160557),E=r(249484),D=function(){function R(B,N,x,A,I,w,F,O,L){void 0===L&&(L=!1),this.useSynchronous=!1,s.fF.assertValue(B,"httpService"),s.fF.assertValue(x,"localeProvider"),s.fF.assertValue(N,"telemetryService"),s.fF.assertValue(A,"promiseFactory"),s.fF.assertValue(I,"uri"),this.httpService=B,this.impersonationStateProvider=w,this.promiseFactory=A,this.telemetryService=N,this.localeProvider=x,this.uri=I,this.featureSwitches=F,this.directToMwcConnectionInfoService=O,this.useSynchronous=L}return R.prototype.execute=function(B){for(var N,x,A,I,w,F=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),O=(0,b.u5)(B,this.localeProvider,this.impersonationStateProvider),L=0,W=B.enqueueActivities;L<W.length;L++)W[L].resolve();var j=this.featureSwitches&&this.featureSwitches().telemetryV2,z=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,G=this.promiseFactory.defer(j),te=B.cacheOptions,Q=B.useSynchronous||this.useSynchronous,H=B.dataSources[0].dbName,de=!1;(!H||B.dataSources.length>1)&&(this.telemetryService.logEvent(S.jj,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),de=!0);var Y=this.uri;if(Q||z){var se={};if(Q&&(se.synchronous="true"),z){var ce=null===(w=null===(I=null===(A=null===(x=null===(N=B.queryOptions)||void 0===N?void 0:N[0])||void 0===x?void 0:x.applicationContext)||void 0===A?void 0:A.Sources)||void 0===I?void 0:I[0])||void 0===w?void 0:w.VisualId;ce&&(se.$httpBodyId=ce)}Y=(0,y.fS)(Y,se,!0)}var pe=Y,ve=F.authorizationHeaderOverride,De=O.modelId;if(this.directToMwcConnectionInfoService){var We=this.directToMwcConnectionInfoService.checkModelConnectionInfo(De);!We||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||de?this.sendHttpRequest(Y,O,F,G,te,B.queryActivities,Q):this.sendDirectToMwcRequestWithFallbackOnFailure(We,Y,O,F,G,De,pe,ve,te,H,B.queryActivities,Q)}else this.sendHttpRequest(Y,O,F,G,te,B.queryActivities,Q);return G.promise},R.prototype.sendDirectToMwcRequestWithFallbackOnFailure=function(B,N,x,A,I,w,F,O,L,W,U,j){var z=this;N=B.capacityUri+"query",A.useMwcTokenAuthorization=!0,A.authorizationHeaderOverride=B.mwcToken;var G=this.telemetryService.startEvent(g.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:j,cacheOptions:L});A.headers["x-ms-root-activity-id"]=A.headers.RequestId,A.headers["x-ms-parent-activity-id"]=A.headers.RequestId,A.headers["x-ms-workload-resource-moniker"]=W;for(var te=[],Q=0,H=U;Q<H.length;Q++){var Y=H[Q].createChildActivity({name:"Query Executing"});Y&&te.push(Y)}this.httpService.post(N,x,A).then(function(se){z.attachHttpMetadataToTelemetry(G.event.info,se,N),z.attachCacheMetadataToTelemetryDirectToMwc(G.event,se);var ce=se.headers("x-ms-mwc-throttling-delay");_.isEmpty(ce)||z.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar();for(var pe=0,ve=te;pe<ve.length;pe++){var De=ve[pe];z.attachHttpMetadataToContextActivity(De,se),De.resolve()}G.resolve(),I.resolve(z.attachHttpMetadataToResult(se))},function(se){z.attachHttpMetadataToTelemetry(G.event.info,se,N),z.attachCacheMetadataToTelemetryDirectToMwc(G.event,se);for(var ce=0,pe=te;ce<pe.length;ce++){var ve=pe[ce];z.attachHttpMetadataToContextActivity(ve,se),ve.reject()}G.reject((0,C.GB)(se.error,se.status)),z.directToMwcConnectionInfoService.removeModelConnectionInfo(w),A.authorizationHeaderOverride=O,A.useMwcTokenAuthorization=null,z.sendHttpRequest(F,x,A,I,L,U,j)})},R.prototype.sendHttpRequest=function(B,N,x,A,I,w,F){for(var O=this,L=this.telemetryService.startEvent(g.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:F,cacheOptions:I}),W=[],U=0,j=w;U<j.length;U++){var G=j[U].createChildActivity({name:"Query Executing"});G&&W.push(G)}this.httpService.post(B,N,x).then(function(te){O.attachHttpMetadataToTelemetry(L.event.info,te,B);for(var Q=0,H=W;Q<H.length;Q++){var de=H[Q];O.attachHttpMetadataToContextActivity(de,te),de.resolve()}L.resolve(),A.resolve(O.attachHttpMetadataToResult(te))},function(te){O.attachHttpMetadataToTelemetry(L.event.info,te,B);for(var Q=0,H=W;Q<H.length;Q++){var de=H[Q];O.attachHttpMetadataToContextActivity(de,te),de.reject()}L.reject((0,C.GB)(te.error,te.status)),A.reject(O.attachHttpMetadataToResult(te))})},R.prototype.attachHttpMetadataToContextActivity=function(B,N){var x,A,I;B.isRunning()&&N.performanceTimings&&(B.setProperty("transferSize",null===(x=N.performanceTimings)||void 0===x?void 0:x.transferSize),B.setProperty("contentType",N.headers("content-type")),B.setProperty("httpStatus",N.status.toString()),B.setProperty("requestId",N.requestId),B.setProperty("requestStart",null===(A=N.performanceTimings)||void 0===A?void 0:A.requestStart),B.setProperty("responseStart",null===(I=N.performanceTimings)||void 0===I?void 0:I.responseStart),B.setProperty("start",N.performanceTimings.startTime),B.setProperty("end",N.performanceTimings.responseEnd))},R.prototype.attachHttpMetadataToTelemetry=function(B,N,x){B.endPoint=x,B.clientAndServerRequestIdMatch=(0,E.Cx)(N),B.responseRequestId=(0,E.yC)(N),B.requestId=N.requestId,B.status=N.status,N.performanceTimings&&(0,E.eQ)(N.performanceTimings,B)},R.prototype.attachCacheMetadataToTelemetryDirectToMwc=function(B,N){N.data.results&&(B.info.fromCache=_.reduce(N.data.results,function(x,A){return A.fromCache?++x:x},0),B.info.resultCount=N.data.results.length)},R.prototype.attachHttpMetadataToResult=function(B){if(B&&B.data){var N=B.data;return N.requestId=B.responseRequestId||B.requestId,N.httpStatusCode=B.status,N}return{jobIds:null,results:null,requestId:B.responseRequestId||B.requestId,httpStatusCode:B.status}},(0,i.__decorate)([(0,f.U)(g.Zq),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],R.prototype,"execute",null),R}();function M(R,B){var N=T(B.reader.communication)?function(R,B,N,x,A,I,w,F,O,L){return void 0===L&&(L=!1),new D(R,B,N,x,A,I,w,F,L)}(B.reader.communication.httpService,B.telemetryService,B.localeProvider,B.promiseFactory,B.reader.communication.uri,B.reader.communication.impersinationStateProvider,B.reader.featureSwitches,B.reader.directToMwcConnectionInfoService,0,B.useSynchronous):B.reader.communication,x=T(B.schemaReader.communication)?(0,t.U6)(B.schemaReader.communication.httpService,B.promiseFactory,B.schemaReader.communication.uri,B.reader.featureSwitches,B.schemaReader.preloadConceptualSchemaService):B.schemaReader.communication;R.dsr={name:"dsr",reader:function(w){return new c.i(w,N,B.telemetryService,B.reader.featureSwitches(),B.reader.timeoutService,B.reader.delayedQueryResultResolver,B.reader.preferredMaxConnections,B.queryContextProvider,B.appContextHostDataProvider)},queryGenerator:function(){return(0,d.Zl)(B.reader.featureSwitches())},schemaReader:function(){return(0,t.No)(B.promiseFactory,B.telemetryService,B.localeProvider,x,B.schemaReader.localizationOptions,B.reader.featureSwitches,B.embedModeService)},queryExtensionProvider:h}}function T(R){return _.isPlainObject(R)}},169170:function(ze,K,r){r.d(K,{A1:function(){return s},_8:function(){return p},nc:function(){return V}});var t=r(787941),c=r(592042),i=r(516469),s=function(){function m(){}return m.findAndParseCalculation=function(v,e){var h=this.findCalculation(v,e);if(h)return(0,i.H2)(h.Value)},m.findAndParseCalculationToSQExpr=function(v,e){var h=this.findCalculation(v,e);if(h)return(0,i.bE)(h.Value)},m.findCalculation=function(v,e){t.fF.assertValue(v,"calcs");for(var h=0,n=v.length;h<n;h++){var o=v[h];if(o.Id===e)return o}},m.describeDataType=function(v,e){var h=0;switch(v=v||0){case 2048:h=1;break;case 1:h=3;break;case 3:h=4;break;case 4096:h=5;break;case 20:h=6;break;case 4:h=7;break;case 8:h=9;break;case 67:h=4,t.fF.assert(function(){return!e||"Years"===e},"Unexpected category for Year type."),e="Years";break;case 35:h=4,t.fF.assert(function(){return!e||"Months"===e},"Unexpected category for Month type."),e="Months"}return c.Ge.fromPrimitiveTypeAndCategory(h,e)},m.getTopLevelSecondaryDynamicMember=function(v,e){t.fF.assertValue(v,"DsrV1.DataShape");var h=v.SecondaryHierarchy;return h?e&&e.Secondary?m.getDynamicMember(h,e.Secondary.Groupings,0):m.getDynamicMemberFallback(h):null},m.getTopLevelPrimaryDynamicMember=function(v,e,h){t.fF.assertValue(v,"DsrV1.DataShape");var o,n=v.PrimaryHierarchy;return n?(h&&(o=void 0!==v.Calculations),e&&e.Primary?m.getDynamicMember(n,e.Primary.Groupings,0,o):m.getDynamicMemberFallback(n,o)):null},m.getDynamicMember=function(v,e,h,n){if(t.fF.assertValue(v,"dataShapeMembers"),0===v.length)return null;if(!e||0===e.length)return m.getDynamicMemberFallback(v,n);var o=e[h].Member;if(!o)return m.getDynamicMemberFallback(v,n);for(var u=0,a=v;u<a.length;u++){var l=a[u];if(l.Id===o)return l}return null},m.getDynamicMemberFallback=function(v,e){return 2===v.length?v[1]:void 0===e||!0===e?v[0]:null},m.fillMetadataColumnAggregate=function(v,e,h){void 0===h&&(h=!0),t.fF.assertValue(e,"aggregateMetdata");var n=e.source.aggregates;switch(n||(e.source.aggregates=n={}),e.aggregateKind){case 1:return void(n.subtotal=v);case 2:return void(n.max=v);case 3:return void(n.min=v);case 4:return void(h||(n.single=v));case 5:return t.fF.assert(function(){return"number"==typeof v},"unexpected count calc value"),void(n.count=v);case 6:return void(n.average=v);case 8:return void(n.median=v);case 7:var o=e.aggregate.Percentile,u=n.percentiles;u||(u=n.percentiles=[]);var a={k:o.K,value:v};return null!=o.Exclusive&&(a.exclusive=o.Exclusive),void u.push(a);default:t.fF.assertFail("unknown AggregateKind")}},m.copyAggregates=function(v,e){t.fF.assertValue(v,"source Aggregates"),t.fF.assertValue(e,"target Aggregates"),void 0!==v.subtotal&&(e.subtotal=v.subtotal),void 0!==v.min&&(e.min=v.min),void 0!==v.max&&(e.max=v.max),void 0!==v.minLocal&&(e.minLocal=v.minLocal),void 0!==v.maxLocal&&(e.maxLocal=v.maxLocal),void 0!==v.count&&(e.count=v.count)},m.computeAggIdx=function(v,e,h,n){return v+(n-e)*(h+1)},m}(),p=function(){function m(){}return Object.defineProperty(m.prototype,"name",{get:function(){return"maxLocal"},enumerable:!1,configurable:!0}),m.prototype.update=function(v){if("number"==typeof v&&!isNaN(v)){var e=this.current;this.current=void 0===e?v:Math.max(e,v)}},m.prototype.value=function(){return this.current},m}(),V=function(){function m(){}return Object.defineProperty(m.prototype,"name",{get:function(){return"minLocal"},enumerable:!1,configurable:!0}),m.prototype.update=function(v){if("number"==typeof v&&!isNaN(v)){var e=this.current;this.current=void 0===e?v:Math.min(e||0,v)}},m.prototype.value=function(){return this.current},m}()},63931:function(ze,K,r){r.d(K,{$n:function(){return n},A:function(){return C},Af:function(){return o},HO:function(){return j},KO:function(){return x},Kb:function(){return l},LO:function(){return I},Lp:function(){return f},Lr:function(){return F},Ow:function(){return Y},Tw:function(){return W},Z:function(){return z},Z4:function(){return D},ZO:function(){return g},_V:function(){return N},av:function(){return P},bD:function(){return R},bJ:function(){return G},d3:function(){return S},dN:function(){return u},dd:function(){return H},de:function(){return T},dw:function(){return B},fD:function(){return d},hh:function(){return h},jK:function(){return b},jO:function(){return a},lR:function(){return U},qF:function(){return A},qf:function(){return O},vP:function(){return M},vc:function(){return e},wf:function(){return te},wy:function(){return L},yB:function(){return y},yC:function(){return w},yz:function(){return E}});var v,t=r(641484),c=r(325333),i=r(787941),s=r(261374),p=r(690016),V=r(326621),m=r(358724),e="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",h="DMTS_DatasourceHasNoCredentialError",n="DMTS_OAuthTokenRefreshFailedError",o="DM_GWPipeline_Client_GatewayUnreachable",u="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",a="DMTS_UserLostPermissionToDatasourceError",l="DMTS_UserNotFoundInADGraphError",d="DM_GWPipeline_Gateway_DataSourceAccessError",b="DM_GWPipeline_Gateway_ImpersonationError",f="DM_GWPipeline_Gateway_InvalidMashupConnectionString",g="DM_GWPipeline_Gateway_DatabaseLoginError",S="DM_GWPipeline_Gateway_SqlTimeoutException",y="DM_GWPipeline_Gateway_AdomdTimeoutException",C="DM_GWPipeline_Gateway_InvalidObjectNameException",E="DM_GWPipeline_Gateway_InvalidConnectionCredentials",D="DM_GWPipeline_Gateway_ConnectionBrokenException",P="DM_GWPipeline_Gateway_MemoryError",M="DM_GWPipeline_Gateway_MissingStructureError",T="DM_GWPipeline_Gateway_UnprocessedStructureError",R="DM_GWPipeline_Gateway_ModelLoadError",B="DM_GWPipeline_Gateway_CancellationError",N="DM_GWPipeline_Gateway_CancellationOrTimeoutError",x="DM_GWPipeline_Gateway_QueryExecutionError",A="DM_GWPipeline_Gateway_RecalculationRequiredError",I="DM_GWPipeline_Gateway_TimeoutError",w="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",F="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",O="DM_GWPipeline_Gateway_AdomdConnectError",L="DM_GWPipeline_Gateway_GatewayOverloadedMemory",W="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",U="DM_GWPipeline_Gateway_MashupDataAccessError",j="DM_GWPipeline_Gateway_DatabaseConnectError",z="DM_GWPipeline_Gateway_ServerUnreachable",G="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",te="rsAccessDenied",Q="azure:values",H=function(se){return se.ComplexSlicerNotAllowedWithMeasures="ComplexSlicerNotAllowedWithMeasures",se.ComplexHighlightsNotAllowed="ComplexHighlightsNotAllowed",se.ExclusivePercentileOutOfRange="ExclusivePercentileOutOfRange",se.InvalidDataShapeNoOutputData="InvalidDataShapeNoOutputData",se.InvalidFilterComparisonIncompatibleExpressions="InvalidFilterComparisonIncompatibleExpressions",se.InvalidFilterConditionIncompatibleDataType="InvalidFilterConditionIncompatibleDataType",se.InvalidUnconstrainedJoin="InvalidUnconstrainedJoin",se.ModelUnavailable="ModelUnavailable",se.OverlappingKeysOnOppositeHierarchies="OverlappingKeysOnOppositeHierarchies",se.rsQueryMemoryLimitExceeded="rsQueryMemoryLimitExceeded",se.rsQueryTimeoutExceeded="rsQueryTimeoutExceeded",se.CouldNotResolveModelReferencesInSemanticQuery="CouldNotResolveModelReferencesInSemanticQuery",se.QueryExtensionMeasureUnexpectedEndOfUserInput="QueryExtensionMeasureUnexpectedEndOfUserInput",se.NativeVisualCalculationUnexpectedEndOfUserInput="NativeVisualCalculationUnexpectedEndOfUserInput",se.rsAccessDenied="rsAccessDenied",se.NoUniqueKeyForDetailTable="NoUniqueKeyForDetailTable",se.IsRelatedToManyNotSupportedForDetailTable="IsRelatedToManyNotSupportedForDetailTable",se.ModelMeasuresNotSupportedForDetailTable="ModelMeasuresNotSupportedForDetailTable",se.UnsupportedDateTimeLiteral="UnsupportedDateTimeLiteral",se.InvalidExtensionDax_UnclosedBracketIdentifier="InvalidExtensionDax_UnclosedBracketIdentifier",se.InvalidExtensionDax_UnexpectedCloseParenthesis="InvalidExtensionDax_UnexpectedCloseParenthesis",se.ExtensionMeasureEmptyExpression="ExtensionMeasureEmptyExpression",se.ExtensionMeasureNameNotUniqueModel="ExtensionMeasureNameNotUniqueModel",se.ExtensionMeasureNameNotUnique="ExtensionMeasureNameNotUnique",se.CouldNotResolveModelReferencesInQueryExtensionSchema="CouldNotResolveModelReferencesInQueryExtensionSchema",se.QueryExtensionMeasureError="QueryExtensionMeasureError",se.NativeVisualCalculationError="NativeVisualCalculationError",se.UnsupportedDataSourceVariables="UnsupportedDataSourceVariables",se.DataExtensionMissingResultSet="DataExtensionMissingResultSet",se.ProxyModelChainLimitExceeded="ProxyModelChainLimitExceeded",se.FabricThrottled="FabricThrottled",se.AA_PowerBIScriptPayloadTooLargeError="AA_PowerBIScriptPayloadTooLargeError",se.AA_PowerBIScriptResultTooLargeError="AA_PowerBIScriptResultTooLargeError",se.AA_PowerBIScriptReturnedNoImageError="AA_PowerBIScriptReturnedNoImageError",se.AA_PowerBIScriptRuntimeErrorError="AA_PowerBIScriptRuntimeErrorError",se.AA_PowerBIScriptTimeoutError="AA_PowerBIScriptTimeoutError",se.AA_PowerBIRequestsQueueOverflowError="AA_PowerBIRequestsQueueOverflowError",se.AA_PowerBIScriptRuntimeMaxMemoryError="AA_PowerBIScriptRuntimeMaxMemoryError",se.AA_PowerBIScriptRuntimeMaxDiskIOError="AA_PowerBIScriptRuntimeMaxDiskIOError",se.AA_PowerBIScriptMissingDependencyError="AA_PowerBIScriptMissingDependencyError",se.AA_PowerBIScriptSpecificPackageWithMissingDependencyError="AA_PowerBIScriptSpecificPackageWithMissingDependencyError",se.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError="AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError",se.AA_PowerBIScriptMissingSpecificPackageError="AA_PowerBIScriptMissingSpecificPackageError",se.InvalidExtensionDax_UnclosedMultiLineComment="InvalidExtensionDax_UnclosedMultiLineComment",se.InvalidExtensionDax_UnclosedParenthesis="InvalidExtensionDax_UnclosedParenthesis",se.InvalidExtensionDax_UnclosedQuoteIdentifier="InvalidExtensionDax_UnclosedQuoteIdentifier",se.InvalidExtensionDax_UnclosedStringLiteral="InvalidExtensionDax_UnclosedStringLiteral",se.CannotUseMultiColumnFilteringWithMappedColumns="CannotUseMultiColumnFilteringWithMappedColumns",se.DifferentMappingsWithinSubqueries="DifferentMappingsWithinSubqueries",se.FilterIncompatibleWithParameter="FilterIncompatibleWithParameter",se.FoundMultipleTargetsWithAtLeastOneMapping="FoundMultipleTargetsWithAtLeastOneMapping",se.FoundParameterMappingOnUnsupportedFilter="FoundParameterMappingOnUnsupportedFilter",se.InTableConditionNotSupportedWithMappedParameters="InTableConditionNotSupportedWithMappedParameters",se.InvalidMappedParameterValueExpression="InvalidMappedParameterValueExpression",se.MappedTargetMustMatchMappedCondition="MappedTargetMustMatchMappedCondition",se.MixOfAssignedAndUnassignedColumnsWithinORExpression="MixOfAssignedAndUnassignedColumnsWithinORExpression",se.MultipleParameterAssignmentsWithinORUnsupported="MultipleParameterAssignmentsWithinORUnsupported",se.MultipleParameterMappingsUnsupported="MultipleParameterMappingsUnsupported",se.ParameterMappingFilterConflict="ParameterMappingFilterConflict",se.ParameterMappingsFoundWithinFilteredEvalExpressionFilter="ParameterMappingsFoundWithinFilteredEvalExpressionFilter",se.ParameterMappingsNotSupportedOnHighlights="ParameterMappingsNotSupportedOnHighlights",se.SingleValueParameterWithMultipleValues="SingleValueParameterWithMultipleValues",se}({}),de=((v={})[H.ComplexSlicerNotAllowedWithMeasures]={localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},v[H.ComplexHighlightsNotAllowed]={localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},v[H.CouldNotResolveModelReferencesInSemanticQuery]={localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},v[H.ExclusivePercentileOutOfRange]={localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},v[H.InvalidDataShapeNoOutputData]={localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},v[H.InvalidUnconstrainedJoin]={localizedMessage:"DsrError_InvalidUnconstrainedJoinKey",localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},v[H.IsRelatedToManyNotSupportedForDetailTable]={localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},v[H.AA_PowerBIScriptPayloadTooLargeError]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},v[H.AA_PowerBIScriptResultTooLargeError]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},v[H.AA_PowerBIScriptReturnedNoImageError]={localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},v[H.AA_PowerBIScriptRuntimeErrorError]={localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},v[H.AA_PowerBIScriptTimeoutError]={localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},v[H.AA_PowerBIRequestsQueueOverflowError]={localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},v[H.AA_PowerBIScriptRuntimeMaxMemoryError]={localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},v[H.AA_PowerBIScriptRuntimeMaxDiskIOError]={localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},v[H.AA_PowerBIScriptMissingDependencyError]={localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},v[H.AA_PowerBIScriptSpecificPackageWithMissingDependencyError]={localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},v[H.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError]={localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},v[H.AA_PowerBIScriptMissingSpecificPackageError]={localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},v[H.ModelMeasuresNotSupportedForDetailTable]={localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},v[H.ModelUnavailable]={localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},v[H.NoUniqueKeyForDetailTable]={localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},v[H.OverlappingKeysOnOppositeHierarchies]={localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},v[H.rsQueryMemoryLimitExceeded]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},v[H.rsQueryTimeoutExceeded]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},v[H.rsAccessDenied]={localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},v[H.UnsupportedDateTimeLiteral]={localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},v[H.InvalidExtensionDax_UnclosedBracketIdentifier]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},v[H.InvalidExtensionDax_UnexpectedCloseParenthesis]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},v[H.InvalidExtensionDax_UnclosedParenthesis]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedParenthesis"},v[H.InvalidExtensionDax_UnclosedQuoteIdentifier]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedQuoteIdentifier"},v[H.InvalidExtensionDax_UnclosedStringLiteral]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedStringLiteral"},v[H.InvalidExtensionDax_UnclosedMultiLineComment]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedMultiLineComment"},v[H.InvalidFilterComparisonIncompatibleExpressions]={localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},v[H.InvalidFilterConditionIncompatibleDataType]={localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},v[H.ExtensionMeasureEmptyExpression]={localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},v[H.ExtensionMeasureNameNotUniqueModel]={localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},v[H.ExtensionMeasureNameNotUnique]={localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},v[H.CouldNotResolveModelReferencesInQueryExtensionSchema]={localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},v[H.QueryExtensionMeasureError]={localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},v[H.QueryExtensionMeasureUnexpectedEndOfUserInput]={localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},v[H.NativeVisualCalculationError]={localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},v[H.NativeVisualCalculationUnexpectedEndOfUserInput]={localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},v[H.UnsupportedDataSourceVariables]={localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},v[H.DataExtensionMissingResultSet]={localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},v[H.ProxyModelChainLimitExceeded]={localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},v[H.CannotUseMultiColumnFilteringWithMappedColumns]={localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.DifferentMappingsWithinSubqueries]={localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.FilterIncompatibleWithParameter]={localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.FoundMultipleTargetsWithAtLeastOneMapping]={localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.FoundParameterMappingOnUnsupportedFilter]={localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.InTableConditionNotSupportedWithMappedParameters]={localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.InvalidMappedParameterValueExpression]={localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.MappedTargetMustMatchMappedCondition]={localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.MixOfAssignedAndUnassignedColumnsWithinORExpression]={localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.MultipleParameterAssignmentsWithinORUnsupported]={localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.MultipleParameterMappingsUnsupported]={localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.ParameterMappingFilterConflict]={localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.ParameterMappingsFoundWithinFilteredEvalExpressionFilter]={localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.ParameterMappingsNotSupportedOnHighlights]={localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.SingleValueParameterWithMultipleValues]={localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},v[H.FabricThrottled]={localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"},v[m.ykK]={localizedMessage:"DsrError_OnPremiseServiceExceptionMessage"},v),Y=function(){function se(ce){this.oDataError=ce,this.oDataCode=this.parseCode()}return Object.defineProperty(se,"maxNumberOfCommaValues",{get:function(){return 9},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"code",{get:function(){return this.oDataCode},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"oDataErrorMessage",{get:function(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"source",{get:function(){switch(this.oDataError.source){case"PowerBI":return"PowerBI";case"External":return"External";case"Unknown":return;case"User":return se.isCodeKnown(this.code)?"User":void 0}i.fF.assertFail("unknown DsrClientError source: ".concat(this.oDataError.source))},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"AdditionalErrorMessages",{get:function(){if(this.oDataError){var pe=this.oDataError[Q];if(!_.isEmpty(pe))for(var ve=0,De=pe;ve<De.length;ve++){var We=De[ve];if(!_.isEmpty(We.additionalMessages))return We.additionalMessages}}},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"powerBiErrorDetails",{get:function(){if(this.oDataError){var pe=this.oDataError[Q];if(!_.isEmpty(pe))for(var ve=0,De=pe;ve<De.length;ve++){var We=De[ve];if(!_.isEmpty(We.powerBiErrorDetails))return We.powerBiErrorDetails}}},enumerable:!1,configurable:!0}),se.prototype.getDetails=function(ce){var pe=this.oDataError[Q],ve=null;if(pe)for(var De=0,We=pe;De<We.length;De++){var je=We[De];if(je.details){ve=je.details;break}}var Ae=se.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,ve,this.AdditionalErrorMessages,ce),_e=Ae.displayableErrorInfo[0].errorInfoKey;if(!se.isCodeKnown(this.code)&&ve&&(Ae.displayableErrorInfo=[]),ve){var le=0===Ae.displayableErrorInfo.length?_e:ce.get("DsrError_MoreInfo");Ae.displayableErrorInfo.push({errorInfoKey:le,errorInfoValue:ve})}return se.isDynamicQueryParameterErrorCode(this.code)&&(Ae.hideDebugInfo=!0),Ae},se.getErrorDetailsFromStatusCode=function(ce,pe,ve,De,We){var je=We.get("DsrError_Key"),Ae=We.get("DsrError_UnknownErrorValue"),_e=We.get("DsrError_Key"),le=t.MF,Z=de[ce];Z&&(je=Z.localizedTitle?We.get(Z.localizedTitle):je,Ae=se.getContent(ce,ve,De,Z,We)||Ae,_e=Z.localizedMessage?We.get(Z.localizedMessage):_e,le=Z.helpLink||le,Z.useODataErrorMessageAsContent&&(Ae=pe||_e));var me={message:_e,displayableErrorInfo:[{errorInfoKey:je,errorInfoValue:Ae}],helpLink:le,debugErrorInfo:[]};return!Z&&ce&&me.debugErrorInfo.push({errorInfoKey:c.jK,errorInfoValue:ce}),(!Z||!Z.useODataErrorMessageAsContent)&&pe&&me.debugErrorInfo.push({errorInfoKey:c.N6,errorInfoValue:pe}),me},se.getContent=function(ce,pe,ve,De,We){if(De.localizedContentWithAffectedItemsAndPosition||De.localizedContentWithAffectedItemsAndPositionAndDetails){var je=se.findAdditionalMessageWithAffectedItemsAndPosition(ce,ve);if(De.localizedContentWithAffectedItemsAndPositionAndDetails&&pe&&je)return(0,s.W)(We.get(De.localizedContentWithAffectedItemsAndPositionAndDetails),(0,p.yQ)(je.AffectedItems,We,se.maxNumberOfCommaValues),V.dx.formatValue(je.Line),V.dx.formatValue(je.Position),pe);if(De.localizedContentWithAffectedItemsAndPosition&&je)return(0,s.W)(We.get(De.localizedContentWithAffectedItemsAndPosition),(0,p.yQ)(je.AffectedItems,We,se.maxNumberOfCommaValues),V.dx.formatValue(je.Line),V.dx.formatValue(je.Position))}if(De.localizedContentWithAffectedItems){var Ae=se.getAffectedItemsFromStatusCode(ce,ve);if(Ae.length>0)return(0,s.W)(We.get(De.localizedContentWithAffectedItems),(0,p.yQ)(Ae,We,se.maxNumberOfCommaValues))}if(De.localizedContent)return We.get(De.localizedContent)},se.findAdditionalMessageWithAffectedItemsAndPosition=function(ce,pe){return _.find(pe,function(ve){return ve.Code===ce&&!_.isEmpty(ve.AffectedItems)&&null!=ve.Position&&null!=ve.Line})},se.getAffectedItemsFromStatusCode=function(ce,pe){for(var ve=0,De=pe;ve<De.length;ve++){var We=De[ve];if(We.Code===ce)return We.AffectedItems||[]}return[]},se.prototype.parseCode=function(){var ce=this.oDataError.code,pe=this.oDataError[Q],ve=[];if(pe)for(var De=0,We=pe;De<We.length;De++){var je=We[De];je.additionalMessages&&(ve=je.additionalMessages)}if(ve.length>0)for(var Ae=0,_e=ve;Ae<_e.length;Ae++){var le=_e[Ae];if(se.isCodeKnown(le.Code)){ce=le.Code;break}}return ce},se.isCodeKnown=function(ce){return se.isGeneralKnownErrorCode(ce)||se.isDynamicQueryParameterErrorCode(ce)},se.isGeneralKnownErrorCode=function(ce){switch(ce){case H.ComplexSlicerNotAllowedWithMeasures:case H.ComplexHighlightsNotAllowed:case H.ExclusivePercentileOutOfRange:case H.InvalidDataShapeNoOutputData:case H.InvalidFilterComparisonIncompatibleExpressions:case H.InvalidFilterConditionIncompatibleDataType:case H.InvalidUnconstrainedJoin:case H.ModelUnavailable:case H.OverlappingKeysOnOppositeHierarchies:case H.rsQueryMemoryLimitExceeded:case H.rsQueryTimeoutExceeded:case H.CouldNotResolveModelReferencesInSemanticQuery:case H.QueryExtensionMeasureUnexpectedEndOfUserInput:case H.NativeVisualCalculationUnexpectedEndOfUserInput:case H.rsAccessDenied:case H.NoUniqueKeyForDetailTable:case H.IsRelatedToManyNotSupportedForDetailTable:case H.ModelMeasuresNotSupportedForDetailTable:case H.UnsupportedDateTimeLiteral:case H.InvalidExtensionDax_UnclosedBracketIdentifier:case H.InvalidExtensionDax_UnexpectedCloseParenthesis:case H.InvalidExtensionDax_UnclosedQuoteIdentifier:case H.InvalidExtensionDax_UnclosedParenthesis:case H.InvalidExtensionDax_UnclosedStringLiteral:case H.InvalidExtensionDax_UnclosedMultiLineComment:case H.ExtensionMeasureEmptyExpression:case H.ExtensionMeasureNameNotUniqueModel:case H.ExtensionMeasureNameNotUnique:case H.CouldNotResolveModelReferencesInQueryExtensionSchema:case H.QueryExtensionMeasureError:case H.NativeVisualCalculationError:case H.UnsupportedDataSourceVariables:case H.DataExtensionMissingResultSet:case H.ProxyModelChainLimitExceeded:case H.FabricThrottled:return!0;default:return!1}},se.isDynamicQueryParameterErrorCode=function(ce){switch(ce){case H.CannotUseMultiColumnFilteringWithMappedColumns:case H.DifferentMappingsWithinSubqueries:case H.FilterIncompatibleWithParameter:case H.FoundMultipleTargetsWithAtLeastOneMapping:case H.FoundParameterMappingOnUnsupportedFilter:case H.InTableConditionNotSupportedWithMappedParameters:case H.InvalidMappedParameterValueExpression:case H.MappedTargetMustMatchMappedCondition:case H.MixOfAssignedAndUnassignedColumnsWithinORExpression:case H.MultipleParameterAssignmentsWithinORUnsupported:case H.MultipleParameterMappingsUnsupported:case H.ParameterMappingFilterConflict:case H.ParameterMappingsFoundWithinFilteredEvalExpressionFilter:case H.ParameterMappingsNotSupportedOnHighlights:case H.SingleValueParameterWithMultipleValues:return!0;default:return!1}},se}()},46997:function(ze,K,r){r.d(K,{i:function(){return oe}});var t=r(787941),c=r(782504),i=r(226514),s=r(235635),p=r(160557),V=r(325333),m=r(327260),v=r(419644),e=r(179582),h=function(){function X(ue,Se){this.requestId=ue,this.errorCode=Se}return Object.defineProperty(X.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),X.prototype.getDetails=function(ue){return{message:ue.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:ue.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:ue.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:ue.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:V.zd,errorInfoValue:this.code}]}},X}(),n=function(){function X(){this._head=new o,this._tail=new o,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}return X.prototype.insertToHead=function(ue){ue.next=this._head.next,ue.prev=this._head,this._head.next=ue,ue.next.prev=ue,this._length++},X.prototype.head=function(){if(this._length>0)return this._head.next},X.prototype.tail=function(){if(this._length>0)return this._tail.prev},X.prototype.removeFromTail=function(){this._length>0&&this.remove(this._tail.prev)},X.prototype.remove=function(ue){this._length<=0||void 0===ue.prev||void 0===ue.next||(ue.prev.next=ue.next,ue.next.prev=ue.prev,this._length--)},X.prototype.length=function(){return this._length},X}(),o=function(){return function(ue){void 0===ue&&(ue=void 0),this.value=ue}}(),u=function(){function X(ue){this.cache={},this.capacity=ue,this.linkedList=new n}return X.prototype.get=function(ue){if(ue in this.cache){var Se=this.cache[ue].value;return null==Se?void 0:Se.value}},X.prototype.remove=function(ue){this.cache[ue]&&(this.linkedList.remove(this.cache[ue]),delete this.cache[ue])},X.prototype.put=function(ue,Se){var Be=this;ue in this.cache&&this.remove(ue);var Ke=new l(ue,Se),Ze=new o(Ke);if(this.cache[ue]=Ze,this.linkedList.insertToHead(Ze),this.size()>this.capacity){t.fF.assert(function(){return Be.size()===Be.capacity+1},"cache has exceeded expected maximum capacity");var qe=this.linkedList.tail();delete this.cache[qe.value.key],this.linkedList.removeFromTail()}},X.prototype.containsKey=function(ue){return ue in this.cache},X.prototype.size=function(){return this.keys().length},X.prototype.keys=function(){return Object.keys(this.cache)},X.prototype.isFull=function(){return this.size()===this.capacity},X}(),a=function(){function X(ue){this.cache={},this.capacity=ue,this.linkedList=new n}return X.prototype.get=function(ue){if(ue in this.cache){var Se=this.cache[ue];return this.linkedList.remove(Se),this.linkedList.insertToHead(Se),Se.value.value}},X.prototype.remove=function(ue){ue in this.cache&&(this.linkedList.remove(this.cache[ue]),delete this.cache[ue])},X.prototype.put=function(ue,Se){var Be=this;ue in this.cache&&this.remove(ue);var Ke=new l(ue,Se),Ze=new o(Ke);if(this.cache[ue]=Ze,this.linkedList.insertToHead(Ze),this.size()>this.capacity){t.fF.assert(function(){return Be.size()===Be.capacity+1},"cache has exceeded expected maximum capacity");var qe=this.linkedList.tail();delete this.cache[qe.value.key],this.linkedList.removeFromTail()}},X.prototype.containsKey=function(ue){return ue in this.cache},X.prototype.size=function(){return this.keys().length},X.prototype.keys=function(){return Object.keys(this.cache)},X.prototype.isFull=function(){return this.size()===this.capacity},X}(),l=function(){return function(ue,Se){this.key=ue,this.value=Se}}(),b=function(){function X(ue,Se,Be){this.cache=1===(Be||(Be=500),Se)?new a(Be):new u(Be),this.promiseFactory=ue}return X.prototype.getEntryCount=function(){return this.cache.size()},X.prototype.hasCacheEntry=function(ue){return t.fF.assertValue(ue,"cacheKey"),!!this.getCacheEntry(ue)},X.prototype.createCacheEntry=function(ue,Se,Be,Ke,Ze){var qe=this;t.fF.assertValue(ue,"cacheKey");var it=this.getCacheEntry(ue);if(ue&&!it){var be=this.promiseFactory,Fe=this.cache,ee=be.defer(Ze),k=(0,s.w)(ee),Ce=be.defer(Ze),J=(0,s.U)(Ce);return this.appendCacheEntryInternal(ue,it={promise:J,refCount:0,context:Se}),k.then(function(re){it.updateResult&&(re=it.updateResult(re)),re&&Be&&(re=Be(re)),it.result=Ke?Ke(re):re,Ce.resolve(re)},function(re){return Ce.reject(re)}).finally(function(){delete it.updateResult}),J.finally(function(){Fe.containsKey(ue)&&(delete Fe.get(ue).promise,J.rejected()&&qe.removeCacheEntryInternal(ue))}).catch(function(re){return k.reject(re)}),{deferred:ee,promise:k}}},X.prototype.clearEntry=function(ue,Se){var Be=this.getCacheEntry(ue);if(Be){var Ke=Be.promise;return Se&&Ke?Ke.reject():this.removeCacheEntryInternal(ue),!0}return!1},X.prototype.clearAllEntries=function(ue){for(var Se=0,Be=this.cache.keys();Se<Be.length;Se++)this.clearEntry(Be[Se],ue)},X.prototype.bindCacheEntry=function(ue,Se,Be){t.fF.assertValue(ue,"cacheKey");var Ke=this.getCacheEntry(ue);if(void 0!==Ke){var Ze=this.promiseFactory.defer(Be),qe=(0,s.U)(Ze);if(Ke.result){var it=Se?Se(Ke.result):Ke.result;return Ze.resolve(it),qe}var be=Ke.promise;if(!be)return Ze.reject(void 0),qe;Ke.refCount++;var Fe=function(k){Ke.refCount--,0===Ke.refCount&&be.pending()&&be.reject(k)};return qe.then(function(){return Fe()},function(ee){return Fe(ee)}),be.then(function(ee){var k=Se?Se(ee):ee;Ze.resolve(k)},function(ee){return Ze.reject(ee)}),qe}},X.prototype.getEntryContext=function(ue){t.fF.assertValue(ue,"cacheKey");var Se=this.getCacheEntry(ue);if(Se)return Se.context},X.prototype.keys=function(){return this.cache.keys()},X.prototype.isFull=function(){return this.cache.isFull()},X.prototype.rewriteAllEntries=function(ue){for(var Se=[],Be=!!ue.rewriteKey,Ke=!!ue.rewriteResult,Ze=this.cache,qe=function(J){if(Be){var re=ue.rewriteKey(J);re!==J&&Se.push({oldKey:J,newKey:re})}if(Ke){var Ie=Ze.get(J);Ie&&(Ie.result&&ue.rewriteResult?Ie.result=ue.rewriteResult(Ie.result,J):Ie.updateResult=function(ot){return ue.rewriteResult&&ue.rewriteResult(ot,J)||ot})}},it=0,be=Ze.keys();it<be.length;it++)qe(be[it]);for(var ee=0,k=Se.length;ee<k;ee++)this.changeCacheKey(Se[ee].oldKey,Se[ee].newKey)},X.prototype.putCacheResult=function(ue,Se,Be){t.fF.assertValue(ue,"cacheKey");var Ke=this.getCacheEntry(ue);Ke?Ke.result?Ke.result=Be?Be(Se):Se:Ke.updateResult=function(){return Se}:t.fF.assertFail("cannot update no-existing cacheEntry for key '".concat(ue,"' with result '").concat(Se,"'"))},X.prototype.appendCacheEntryInternal=function(ue,Se){this.cache.containsKey(ue)&&this.removeCacheEntryInternal(ue),this.cache.put(ue,Se)},X.prototype.removeCacheEntryInternal=function(ue){this.cache.remove(ue)},X.prototype.changeCacheKey=function(ue,Se){if(!Se)return this.clearEntry(ue,!0);if(this.hasCacheEntry(Se)||!this.hasCacheEntry(ue))return!1;var Be=this.getCacheEntry(ue);return this.removeCacheEntryInternal(ue),this.appendCacheEntryInternal(Se,Be),!0},X.prototype.getCacheEntry=function(ue){var Se;if(t.fF.assertValue(ue,"cacheKey"),ue&&(Se=this.cache.get(ue))&&(Se.promise||Se.result))return Se},X}(),f=r(826691),g=r(690016),S=r(159190),y=r(322487),C=r(987513);function E(X){return t.fF.assert(function(){return X&&X.Commands&&X.Commands.length>0},"data query should not be empty"),(0,C.y)(X)?D(X):P(X.Commands[0].SemanticQueryDataShapeCommand)}function D(X){if(t.fF.assert(function(){return!X||(0,C.y)(X)},"!dataQuery || isCompositeDataQuery(dataQuery)"),X)return JSON.stringify(X)}function P(X){if(X)return JSON.stringify(X)}var M=r(288115),T=r(474147),B=g.b$.generateGuid,x=function(){function X(ue,Se,Be,Ke,Ze){this.featureSwitches=Ze,t.fF.assertValue(ue,"promiseFactory"),t.fF.assertValue(Be,"createQuery"),this.createQuery=Be,this.createCancelQuery=Ke,this.promiseFactory=ue,this.cacheByModel={},this.telemetryService=Se}return X.prototype.ensure=function(ue){var Be,Se=this;t.fF.assertValue(ue,"options"),t.fF.assertValue(ue.command,"options.command");var Ke=ue.command;t.fF.assert(function(){return Ke&&Ke.Commands&&Ke.Commands.length>0},"data query should not be empty");var Ze=Ke.Commands[0].SemanticQueryDataShapeCommand,qe=this.ensureCache(ue.dataSources),it=E(Ke);if(qe.hasCacheEntry(it)){if(X.allowResultFromClientCacheOrDefault(ue))return this.telemetryService.logEvent(v.s7,{cacheHit:!0,isCacheFull:qe.isFull(),entryCount:qe.getEntryCount()}),qe.bindCacheEntry(it,void 0,ue.telemetryV2Enabled);qe.clearEntry(it)}this.telemetryService.logEvent(v.s7,{cacheHit:!1,isCacheFull:qe.isFull(),entryCount:qe.getEntryCount()});var be=A(Ke,this.featureSwitches,it),Fe=this.findEquivalentCache(ue,qe,be);if(Fe)return Fe;var k,ee=(0,i.__assign)({},ue);ee.queryId=be.queryId,ee.executionType=0,null!==(Be=this.featureSwitches)&&void 0!==Be&&Be.queryContext&&(k=function(Ie){var ot=Se.findQueryContext(ee);if(!ot)return Ie;var we=(0,i.__assign)({},Ie);return we.queryContext=ot,we});var Ce=qe.createCacheEntry(it,be,k,X.rewriteCachedResult,ue.telemetryV2Enabled);if(Ce.promise.catch(function(re){(0,V.Hx)(re)||Se.featureSwitches&&Se.featureSwitches.queryCancellation&&Se.createCancelQuery({dataSources:ee.dataSources,command:ee.command,allowResultFromClientCache:ee.allowResultFromClientCache,allowClientSideFilters:ee.allowClientSideFilters,cacheResponseOnServer:ee.cacheResponseOnServer,ignoreViewportForCache:ee.ignoreViewportForCache,cacheOptions:ee.cacheOptions,queryId:ee.queryId,executionType:1},re&&re.queryCancellationSource)}),ee.clientCacheOnly)return Ce.promise.reject(new V.xs),Ce.promise;this.createQuery(ee,Ce);var J=qe.bindCacheEntry(it,void 0,ue.telemetryV2Enabled);return!1===ue.cacheResponseOnClient&&qe.clearEntry(it),Ze.Binding&&Ze.Binding.DataReduction&&(ve(Ze.Binding.DataReduction.Primary)||ve(Ze.Binding.DataReduction.Secondary))||J.then(function(re){re&&re.dsr&&function(X,ue){if(t.fF.assertValue(X,"dsr"),(0,c.nZ)(X)){if(!ue)return!1;for(var Se=(0,M.KI)(X,void 0).dataShapes(),Be=(0,c.kc)(X);Se.next();)if(Be&&Be>=1){if(!0!==Se.hasAllData())return!1}else if(!Se.complete()||Se.limitsExceeded()||Se.hasRestartTokens())return!1;return!0}return _.every(X.DataShapes,function(Ke){return Ke&&Ke.IsComplete&&_.isEmpty(Ke.DataLimitsExceeded)&&!Ke.RestartTokens})}(re.dsr,Se.featureSwitches&&Se.featureSwitches.dsrV2)&&(be.hasAllData=!0)},function(){}),J},X.prototype.findQueryContext=function(ue){var Se=ue.applicationContext;if(Se)return t.fF.assert(function(){return 1===_.size(Se.Sources)},"Expected to have 1 ApplicationContextSource"),Se.Sources[0].CustomProperties},X.prototype.clear=function(ue){var Se=this.getCache(ue);Se&&Se.clearAllEntries()},X.prototype.rewrite=function(ue,Se){var Be=this,Ke=this.getCache(ue);if(Ke){var Ze={};Se.rewriteCacheKey&&Se.rewriteDataQueryCacheKey&&(Ze.rewriteKey=function(qe){var it=JSON.parse(qe),be=Ke.getEntryContext(qe);if(be.compositeDataQuery){var Fe=it,ee=Se.rewriteDataQueryCacheKey(Fe);if(ee&&ee!==Fe){var k=I(ee,Be.featureSwitches);_.assign(be,k)}}else{var Ce=it,J=Se.rewriteCacheKey(Ce);J&&J!==Ce&&(k=w(J,Be.featureSwitches),_.assign(be,k))}return be.key}),Se.rewriteCacheResult&&(Ze.rewriteResult=function(qe){var it=qe,be=Se.rewriteCacheResult({descriptor:it.descriptor,dsr:it.dsr});return be?{descriptor:be.descriptor,dsr:be.dsr}:{descriptor:it.descriptor,dsr:it.dsr}}),Ke.rewriteAllEntries(Ze)}},X.prototype.put=function(ue,Se,Be){var Ke=this.ensureCache(ue),Ze=Se,qe=E(Ze);if(Ke.hasCacheEntry(qe))Ke.putCacheResult(qe,Be,X.rewriteCachedResult);else{var it=A(Ze,this.featureSwitches,qe);Ke.createCacheEntry(qe,it,void 0,X.rewriteCachedResult).deferred.resolve(Be)}},X.allowResultFromClientCacheOrDefault=function(ue){return t.fF.assertValue(ue,"options"),!1!==ue.allowResultFromClientCache},X.prototype.findEquivalentCache=function(ue,Se,Be){if(t.fF.assertValue(ue,"options"),t.fF.assertValue(Se,"cache"),t.fF.assertValue(Be,"entryContext"),X.allowResultFromClientCacheOrDefault(ue))if(Be.compositeDataQuery){if(ue.ignoreViewportForCache)for(var J=0,re=Se.keys();J<re.length;J++)if((k=Se.getEntryContext(re[J]))&&k.keyWithoutViewport&&k.keyWithoutViewport===Be.keyWithoutViewport)return Se.bindCacheEntry(k.key,void 0,ue.telemetryV2Enabled)}else{var Ke=ue.command;t.fF.assert(function(){return Ke&&!_.isEmpty(Ke.Commands)},"data query should not be empty");for(var Ze=Ke.Commands[0].SemanticQueryDataShapeCommand.Binding,qe=!!(Ze&&Ze.DataReduction&&Ze.DataReduction.Primary&&Ze.DataReduction.Primary.TopNPerLevel),it=!1,be=0,Fe=Se.keys();be<Fe.length;be++){var k;if(k=Se.getEntryContext(Fe[be])){if(!qe&&k.hasAllData&&k.keyWithoutReduction===Be.keyWithoutReduction)return Se.bindCacheEntry(k.key,void 0,ue.telemetryV2Enabled);if(H(Se,k,ue,Be,ue.telemetryV2Enabled)){it=!0;break}}}it&&f.f.information("Reused cache with client side filters")}},X.prototype.getCache=function(ue){return this.cacheByModel[this.generateModelKey(ue)]},X.prototype.ensureCache=function(ue){var Se,Be=this.generateModelKey(ue),Ke=this.cacheByModel,Ze=Ke[Be];return void 0===Ze&&(Ze=Ke[Be]=null!==(Se=this.featureSwitches)&&void 0!==Se&&Se.lruCacheEvictionPolicy?new b(this.promiseFactory,1):new b(this.promiseFactory,0)),Ze},X.prototype.generateModelKey=function(ue){if(!_.isEmpty(ue))return JSON.stringify(_.map(ue,function(Se){return{dbName:Se.dbName,vsName:Se.vsName,schemaName:Se.schemaName}}))},X.rewriteCachedResult=function(ue){if(!ue)return ue;var Se=(0,i.__assign)({},ue);return delete Se.metrics,Se.fromClientCache=!0,Se},X}();function A(X,ue,Se){return t.fF.assertValue(X,"dataQuery"),t.fF.assert(function(){return X&&X.Commands&&X.Commands.length>0},"data query should not be empty"),t.fF.assertAnyValue(Se,"cacheKey"),(0,C.y)(X)?I(X,ue,Se):(t.fF.assert(function(){return 1===X.Commands.length},"Expecting a non-empty, non-composite query to have exactly 1 command."),w(X.Commands[0].SemanticQueryDataShapeCommand,ue,Se))}function I(X,ue,Se){return t.fF.assertValue(X,"dataQuery"),t.fF.assert(function(){return(0,C.y)(X)},"data query should be composite"),t.fF.assertAnyValue(Se,"cacheKey"),t.fF.assert(function(){return!Se||Se===D(X)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:Se||D(X),keyWithoutReduction:z(X),keyWithoutViewport:G(X),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:F(ue)}}function w(X,ue,Se){t.fF.assertAnyValue(X,"dataShapeCommand"),t.fF.assertAnyValue(Se,"cacheKey"),t.fF.assert(function(){return!Se||Se===P(X)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var Be=function(X){if(t.fF.assertAnyValue(X,"command"),!X)return!1;var ue=X.Binding&&X.Binding.DataReduction,Se=ue&&ue.Primary,Be=ue&&ue.Secondary;return!(!De(Se)||!De(Be)||ve(Se)||ve(Be))}(X);return{key:Se||P(X),keyWithoutReduction:U(X),keyWithoutViewport:void 0,keyWithoutFilter:Be?j(X):void 0,queryFilters:Be?te(X):void 0,compositeDataQuery:!1,queryId:F(ue)}}function F(X){return X&&X.queryCancellation?B():""}function O(X){X&&X.Binding&&"object"==typeof X.Binding&&(X.Binding.DataReduction=void 0,X.Binding.Limits=void 0)}function U(X){if(X){var ue=_.cloneDeep(X);return O(ue),JSON.stringify(ue)}}function j(X){if(X){var ue=_.cloneDeep(X);return function(X){X&&X.Query&&X.Query.Where&&(X.Query.Where=void 0)}(ue),JSON.stringify(ue)}}function z(X){if(t.fF.assert(function(){return!X||(0,C.y)(X)},"!dataQuery || isCompositeDataQuery(dataQuery)"),X){var ue=_.cloneDeep(X);return O(ue.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(ue)}}function G(X){if(t.fF.assert(function(){return!X||(0,C.y)(X)},"!dataQuery || isCompositeDataQuery(dataQuery)"),X){t.fF.assertValue(X.Commands,"dataQuery.Commands"),t.fF.assert(function(){return 2===X.Commands.length},"dataQuery.Commands must have two commands"),t.fF.assertValue(X.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var ue=_.cloneDeep(X);return function(X){X&&(X.ViewportHeightPx=void 0,X.ViewportWidthPx=void 0)}(ue.Commands[1].ScriptVisualCommand),JSON.stringify(ue)}}function te(X){t.fF.assertAnyValue(X,"command");var ue=X&&X.Query;if(ue&&!_.isEmpty(ue.Where)){var Se=je(ue),Be=Se&&Se.where();if(!_.isEmpty(Be))return Be}}function H(X,ue,Se,Be,Ke){if(void 0===Ke&&(Ke=!1),t.fF.assert(function(){return x.allowResultFromClientCacheOrDefault(Se)},"QueryCache.allowResultFromClientCacheOrDefault(options)"),t.fF.assertValue(X,"cache"),t.fF.assertValue(ue,"oldItemContext"),t.fF.assertValue(Se,"newQueryOptions"),t.fF.assertValue(Be,"newItemContext"),Se.allowClientSideFilters){var Ze=function(X,ue){if(t.fF.assertValue(X,"oldItemContext"),t.fF.assertValue(ue,"newItemContext"),!ue.compositeDataQuery&&ue.keyWithoutFilter&&!X.compositeDataQuery&&X.keyWithoutFilter&&X.hasAllData&&X.keyWithoutFilter===ue.keyWithoutFilter&&function(X,ue){return t.fF.assertAnyValue(X,"filters"),t.fF.assertAnyValue(ue,"counterparts"),_.every(X,function(Se){return _.some(ue,function(Be){return(0,S.sw)(Be,Se)})})}(Y(X.queryFilters,ue.queryFilters),ue.queryFilters)){var Ze=Y(ue.queryFilters,X.queryFilters);if(!_.isEmpty(Ze))return function(X,ue){t.fF.assert(function(){return X&&!X.compositeDataQuery},"itemContext && !itemContext.compositeDataQuery"),t.fF.assertNonEmpty(ue,"filtersToConvert");var Se=JSON.parse(X.key),Be=je(Se&&Se.Query);if(Be)return t.fF.assert(function(){return _.every(ue,function(Ze){return(0,T.qV)(Be.where(),Ze)})},"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,S.Z7)(Be.select(),ue)}(ue,Ze)}}(ue,Be);if(!_.isEmpty(Ze))return X.bindCacheEntry(ue.key,function(qe){return function(X,ue){t.fF.assertValue(X,"data"),t.fF.assertNonEmpty(ue,"clientSideFilters");var Se=(0,i.__assign)({},X);return Se.clientSideFilters=ue,Se}(qe,Ze)},Ke)}}function Y(X,ue){return t.fF.assertAnyValue(X,"filters"),t.fF.assertAnyValue(ue,"comparants"),_.isEmpty(ue)?X:_.filter(X,function(Se){return!(0,T.qV)(ue,Se)})}function ve(X){return t.fF.assertAnyValue(X,"algorithm"),X&&X.Window&&null!=X.Window.RestartTokens}function De(X){return t.fF.assertAnyValue(X,"algorithm"),!X||!!X.Window}function je(X){if(t.fF.assertAnyValue(X,"queryDefinition"),X&&X.From&&X.Select)return y.ib.deserializeQuery(X)}var Ae=r(820919),_e=function(X){function ue(Se){var Be=this;return t.fF.assertValue(Se,"jobId"),(Be=X.call(this,"DelayedQueryTimeoutError")||this).jobId=Se,Be}return(0,i.__extends)(ue,X),ue.prototype.getDetails=function(Se){var Be=X.prototype.getDetails.call(this,Se);return Be.debugErrorInfo=Be.debugErrorInfo||[],Be.debugErrorInfo.push({errorInfoKey:V.nE,errorInfoValue:this.jobId}),Be},ue}(V.mB),le=function(){function X(){}return X.prototype.resolveDelayedQuery=function(ue,Se,Be){t.fF.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),Be.reject(new _e(ue))},X}(),Z=function(X){function ue(Se){var Be=this;return t.fF.assertValue(Se,"requestId"),(Be=X.call(this,"ExecuteSemanticQueryUnknownError")||this).httpRequestId=Se,Be}return(0,i.__extends)(ue,X),Object.defineProperty(ue.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),ue.prototype.getDetails=function(Se){var Be=X.prototype.getDetails.call(this,Se);return Be.debugErrorInfo=Be.debugErrorInfo||[],Be.debugErrorInfo.push({errorInfoKey:V.j,errorInfoValue:this.httpRequestId}),Be},ue}(V.mB),ie=function(){function X(ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=this;this.communication=Se,this.telemetryService=Ke,this.featureSwitches=it,this.queryContextProvider=be,this.appContextHostDataProvider=Fe,t.fF.assertValue(ue,"host"),t.fF.assertValue(Ke,"telemetryService"),this.promiseFactory=ue.promiseFactory(),this.delayedQueryResultResolver=Ze||new le,this.batcher=new e.PE(null==qe?0:qe,function(k){for(var Ce=0,J=k.length;Ce<J;++Ce)ee.executeBatch(k[Ce])},Be,it&&it.telemetryV2,it&&it.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(X,ue,Se,Be,Ke){return t.fF.assertValue(X,"promiseFactory"),t.fF.assertValue(Se,"createQuery"),new x(X,ue,Se,function(k,Ce){ee.telemetryService.logEvent(v.hh,{source:Ce}),ee.enqueueExecution({options:k,enqueueActivity:k.performanceActivity&&k.performanceActivity.isRunning()&&k.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:k.performanceActivity})},Ke)}(this.promiseFactory,this.telemetryService,function(k,Ce){var J,re={options:k,deferred:Ce.deferred,execution:Ce.promise,enqueueActivity:k.performanceActivity&&k.performanceActivity.isRunning()&&k.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:k.performanceActivity};ee.setAppContextHostData(re),null!==(J=ee.featureSwitches)&&void 0!==J&&J.queryContext?ee.setQueryContext(re).then(function(){ee.enqueueExecution(re)}):ee.enqueueExecution(re)},0,it)}return X.prototype.setAppContextHostData=function(ue){var Se;if(this.appContextHostDataProvider&&ue.options.applicationContext&&null!==(Se=this.featureSwitches)&&void 0!==Se&&Se.useEnrichedApplicationContext){var Be=ue.options.applicationContext,Ke=this.appContextHostDataProvider.getApplicationContextHostData();Be.Sources[0]=(0,i.__assign)((0,i.__assign)({},Be.Sources[0]),Ke)}},X.prototype.setQueryContext=function(ue){var Se;return(0,i.__awaiter)(this,void 0,void 0,function(){var Be,Ke;return(0,i.__generator)(this,function(qe){switch(qe.label){case 0:if(null===(Se=this.featureSwitches)||void 0===Se||!Se.queryContext)return[2];if(!this.queryContextProvider||!ue.options.applicationContext)return[2];t.fF.assert(function(){return 1===_.size(ue.options.applicationContext.Sources)},"Expected to have 1 ApplicationContextSource"),Be=ue.options.applicationContext.Sources[0],qe.label=1;case 1:return qe.trys.push([1,3,,4]),[4,this.queryContextProvider.generateQueryContext()];case 2:return(Ke=qe.sent())?(Be.CustomProperties=(0,i.__assign)((0,i.__assign)({},Be.CustomProperties),Ke),[3,4]):[2];case 3:return qe.sent(),[2];case 4:return[2]}})})},X.prototype.enqueueExecution=function(ue){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(ue)):this.batcher.enqueue(ue)},X.prototype.execute=function(ue){if(!_.isEmpty(ue.dataSources))return this.queryCache.ensure(ue);var Se=this.promiseFactory.defer(ue.telemetryV2Enabled),Be=(0,s.U)(Se);return Se.resolve(ue.command),Be},X.prototype.stopCommunication=function(){this.isCommunicationStopped=!0},X.prototype.resumeCommunication=function(){this.isCommunicationStopped=!1;var ue=this.pausedQueries;if(ue){for(var Se=0,Be=ue.length;Se<Be;Se++){var Ke=ue[Se];me(Ke)&&this.batcher.enqueue(Ke)}this.pausedQueries=void 0}},X.prototype.cache=function(){return this.queryCache},X.prototype.setLocalCacheResult=function(ue,Se){this.queryCache.put(ue.dataSources,ue.command,Se)},X.prototype.setPreferredMaxConnections=function(ue){this.batcher.setMaxBatches(ue)},X.prototype.executeBatch=function(ue){var Se=this;t.fF.assertValue(ue,"batch"),t.fF.assert(function(){return ue.queryOptions.length===ue.promises.length},"Queries & promises sizes must match.");var Be=ue.promises;this.communication.execute(ue).then(function(Ke){return Se.onSuccess(Ke,Be)},function(Ke){return Se.onError(Ke,Be)})},X.prototype.onSuccess=function(ue,Se){t.fF.assertValue(ue,"result"),t.fF.assertValue(Se,"executions"),this.rejectExecutionsForMissingJobs(ue,Se);for(var Be=ue.jobIds,Ke={},Ze=0,qe=Se.length;Ze<qe;++Ze)Ke[Be[Ze]]=Se[Ze];var it=ue.results;for(Ze=0,qe=it.length;Ze<qe;++Ze){var be=it[Ze],Fe=be.result,k=Ke[ee=be.jobId];delete Ke[ee];var Ce=Fe.data,J=Fe.error;if(Ce)k.resolve({descriptor:Ce.descriptor,dsr:Ce.dsr,metrics:Ce.metrics,requestId:ue.requestId,timestamp:Ce.timestamp,fromCache:Ce.fromCache});else if(J){var Ie=new m.sI(J);Ie.requestId=ue.requestId,k.reject(Ie)}else Fe.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(be.jobId,ue.requestId,k)}if(!_.isEmpty(Object.keys(Ke)))for(var ee in J=new h(ue.requestId,"MissingJobResult"),Ke)Ke[ee].reject(J)},X.prototype.rejectExecutionsForMissingJobs=function(ue,Se){var Be=ue.jobIds.length,Ke=Se.length;if(Ke>Be)for(var Ze=new h(ue.requestId,"MissingJobId"),qe=Be;qe<Ke;qe++)Se[qe].reject(Ze)},X.prototype.onError=function(ue,Se){var Be;if(t.fF.assertValue(Se,"executions"),ue&&ue.requestError&&(Be=new m.sI(ue.requestError)),Be)Be.requestId=ue.requestId;else{var Ke=ue.error,Ze=void 0,qe=void 0,it=void 0;if(Ke){Ze=Ke.message,qe=Ke.code;var be=Ke["pbi.error"]&&Ke["pbi.error"].exceptionCulprit;null!=be&&(it=(0,p.Qf)(be))}Be=ue&&null!=ue.httpStatusCode&&ue.requestId?new V.Gx(ue.httpStatusCode,ue.requestId,qe,Ze,it):new Z(ue.requestId)}for(var Fe=0,ee=Se.length;Fe<ee;Fe++)Se[Fe].reject(Be)},X}();function me(X){return!!(0,Ae.I3)(X)&&X.execution.pending()}var oe=function(){function X(ue,Se,Be,Ke,Ze,qe,it,be,Fe){t.fF.assertValue(ue,"host"),this.proxy=new ie(ue,Se,Ze,Be,qe,it,Ke,be,Fe),this.featureSwitches=Ke,this.telemetryService=Be}return X.prototype.execute=function(ue){return this.proxy.execute(ue)},X.prototype.transform=function(ue,Se,Be,Ke){return void 0===ue?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,c.ij)(Se,ue,this.featureSwitches,this.telemetryService,Be,Ke)},X.prototype.stopCommunication=function(){this.proxy.stopCommunication()},X.prototype.resumeCommunication=function(){this.proxy.resumeCommunication()},Object.defineProperty(X.prototype,"cache",{get:function(){return this.proxy.cache()},enumerable:!1,configurable:!0}),X.prototype.setLocalCacheResult=function(ue,Se){this.proxy.setLocalCacheResult(ue,Se)},X.prototype.setPreferredMaxConnections=function(ue){this.proxy.setPreferredMaxConnections(ue)},X}()},848625:function(ze,K,r){r.d(K,{x:function(){return V}});var t=r(787941),c=r(261374),i=r(516469),s=r(169170),V=function(){function m(v,e,h){t.fF.assertValue(v,"queryBindingDescriptor"),t.fF.assert(function(){return e&&e.length>0},"Expected a non-empty array of exceeded limits."),this.computeMetadata(v,h,e)}return Object.defineProperty(m.prototype,"code",{get:function(){return"DsrLimitsWarning"},enumerable:!1,configurable:!0}),m.prototype.computeMetadata=function(v,e,h){if(this.limits={},v.Limits){var n=m.getExceededLimitsDetails(v,h),o=v.Limits,u=!!n.Primary,a=!!n.Secondary,l=!!n.Intersection;if(v.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var d=v.Expressions&&v.Expressions.Primary&&v.Expressions.Primary.Groupings?v.Expressions.Primary.Groupings:[],b=v.Expressions&&v.Expressions.Secondary&&v.Expressions.Secondary.Groupings?v.Expressions.Secondary.Groupings:[];u&&a?(this.groupings=d.concat(b),this.limits.Primary=m.getLimitMetadata(o.Primary,e),this.limits.Secondary=m.getLimitMetadata(o.Secondary,e)):u?(this.groupings=d,this.limits.Primary=m.getLimitMetadata(o.Primary,e)):a&&(this.groupings=b,this.limits.Secondary=m.getLimitMetadata(o.Secondary,e)),l&&(this.limits.Intersection=m.getLimitMetadata(o.Intersection,e))}},m.prototype.getDetails=function(v){var e=!!this.limits.Primary,h=!!this.limits.Secondary,n=null,o=-1;return this.hasScriptVisualBinding?n=v.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):e||h?e&&h?(o=this.limits.Primary.Type,n=this.getErrorInfoValue(this.groupings,v.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),v)):n=this.getErrorInfoValue(this.groupings,m.getDetailedMessageFormatForOneColumn(o=e?this.limits.Primary.Type:this.limits.Secondary.Type,v),v):this.limits.Intersection&&(n=m.getDetailedMessageFormatForOneColumn(o=this.limits.Intersection.Type,v)),n||(n=v.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:m.getMessage(o,v),displayableErrorInfo:[{errorInfoKey:m.getKey(o,v),errorInfoValue:n}],helpLink:m.getHelpLink(o)}},m.getExceededLimitsDetails=function(v,e){for(var h=v.Limits,n={},o=0,u=e;o<u.length;o++){var a=u[o];h.Primary&&a.Id===h.Primary.Id?n.Primary=h.Primary:h.Secondary&&a.Id===h.Secondary.Id?n.Secondary=h.Secondary:h.Intersection&&a.Id===h.Intersection.Id&&(n.Intersection=h.Intersection)}return n},m.prototype.getErrorInfoValue=function(v,e,h){if(!v||0===v.length)return null;for(var n=[],o=0,u=v.length;o<u;o++){var l=this.getGroupingNameFromGroupingKeys(v[o]);l&&n.push(l)}var d,b=n.length;return 0===b?null:(d=1===b?n[0]:n.join(h.get("ListJoin_Separator")),(0,c.W)(e,d))},m.prototype.getGroupingNameFromGroupingKeys=function(v){for(var e=v.Keys,h=0,n=e.length;h<n;h++){var o=e[h];if(null!=o.Select)return this.columnNameFromIndex?this.columnNameFromIndex(o.Select):void 0}},m.getMessage=function(v,e){switch(v){case 2:return e.get("DsrLimitWarning_RepresentativeSampleMessage");case 3:case 4:return e.get("DsrLimitWarning_HighDensitySampleMessage");default:return e.get("DsrLimitWarning_TooMuchDataMessage")}},m.getKey=function(v,e){switch(v){case 2:return e.get("DsrLimitWarning_RepresentativeSampleKey");case 3:case 4:return e.get("DsrLimitWarning_HighDensitySampleKey");default:return e.get("DsrLimitWarning_TooMuchDataKey")}},m.getDetailedMessageFormatForOneColumn=function(v,e){switch(v){case 2:return e.get("DsrLimitWarning_RepresentativeSampleVal");case 3:return e.get("DsrLimitWarning_HighDensitySampleVal");case 4:return e.get("DsrLimitWarning_OverlappingPointsDetails");default:return e.get("DsrLimitWarning_TooMuchDataVal")}},m.getHelpLink=function(v){switch(v){case 3:return"https://go.microsoft.com/fwlink/?linkid=848757";case 4:return"https://go.microsoft.com/fwlink/?linkid=853820"}},m.getLimitMetadata=function(v,e){return v.Top?{Type:0,Count:m.getLimitCount(v.Top,e)}:v.Bottom?{Type:1,Count:m.getLimitCount(v.Bottom,e)}:v.Sample?{Type:2,Count:m.getLimitCount(v.Sample,e)}:v.BinnedLineSample?{Type:3,Count:m.getBinnedLineSampleCount(v.BinnedLineSample)}:v.OverlappingPointsSample?{Type:4,Count:m.getLimitCount(v.OverlappingPointsSample,e)}:{Type:-1,Count:null}},m.getLimitCount=function(v,e){if(v.Calc&&e){var h=s.A1.findCalculation(e,v.Calc);if(h){var n=(0,i.H2)(h.Value);if(_.isNumber(n))return n}}return v.Count},m.getBinnedLineSampleCount=function(v){return v.MaxTargetPointCount},m}()},25026:function(ze,K,r){r.d(K,{lp:function(){return p},py:function(){return s},sK:function(){return i}});var t=r(787941);function i(V){if(0===V)return"Warning"}var s={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}},p=function(){function V(m){this.dataShapeMessage=m}return Object.defineProperty(V.prototype,"code",{get:function(){return this.dataShapeMessage.Code},enumerable:!1,configurable:!0}),V.prototype.getDetails=function(m){var v=s[this.dataShapeMessage.Code];return t.fF.assertValue(v,"message to show should be a known message"),{message:m.get(v.localizedMessage),displayableErrorInfo:[{errorInfoKey:m.get(v.localizedTitle),errorInfoValue:m.get(v.localizedContent)}]}},V.prototype.isTransformMessage=function(){var m=s[this.code];return m&&m.isTransformMessage},V}()},786219:function(ze,K,r){r.d(K,{cd:function(){return m},U1:function(){return o},Ei:function(){return v}});var t=r(787941),c=r(324356),i=r(516469),s=r(249679),p=function(){function u(a){t.fF.assertValue(a,"Null RestartIdentities list"),t.fF.assertNonEmpty(a,"Empty RestartIdentities list"),this.restartValuesCount=a.length,this.calcIdToRestartIdentityIndex={};for(var l=0;l<this.restartValuesCount;l++)this.calcIdToRestartIdentityIndex[a[l]]=l}return u.prototype.getRestartValues=function(a){t.fF.assertValue(a,"getRestartValues called with undefined instanceParser");var l=new Array(this.restartValuesCount);for(a.restartCalcs();a.nextCalc();){var d=this.calcIdToRestartIdentityIndex[a.calcId()];void 0!==d&&(l[d]=a.calcValueAsExpr())}return t.fF.assert(function(){return _.every(l,function(b){return!!b})},"Missing calcs for RestartValues"),l},u}(),V=function(){function u(a){this.values=a,this.parsedValues=new Array(a.length),this.parsedValueExprs=new Array(a.length)}return u.prototype.getCalcValue=function(a,l){if(!(a>=this.parsedValues.length)){var d=this.parsedValues[a];return void 0===d&&(d=(0,i.Yt)(this.values[a],l),this.parsedValues[a]=d),d}},u.prototype.getCalcValueExpr=function(a,l,d){if(!(l>=this.parsedValues.length)){var b=this.parsedValueExprs[l];return void 0===b&&(b=(0,i.HL)(a,this.values[l],d),this.parsedValueExprs[l]=b),b}},u}(),m=function(){function u(a){if(a)for(var l in this.resolvedValueDictionaries={},a)this.resolvedValueDictionaries[l]=new V(a[l])}return u.prototype.getCalcValue=function(a,l,d){if(l&&"number"==typeof a){t.fF.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var b=this.resolvedValueDictionaries[l];return t.fF.assertValue(b,"dictionary"),b.getCalcValue(a,d)}},u.prototype.getCalcValueExpr=function(a,l,d,b){if(d&&"number"==typeof l){t.fF.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var f=this.resolvedValueDictionaries[d];return t.fF.assertValue(f,"dictionary"),f.getCalcValueExpr(a,l,b)}},u}();function v(u){var a=u.Select,l=u.Expressions,d=l&&l.Primary,b=d&&d.Groupings,f=d&&d.Synchronization,g=l&&l.Secondary&&l.Secondary.Groupings,S={},y=b&&[],C=g&&[];if(b)for(var E=0,D=b.length;E<D;E++)h(S,b[E],E,y,a);if(g)for(E=0,D=g.length;E<D;E++)C[E]=[],h(S,g[E],E,C,a);var P=0,M=[];if(a&&g)for(E=0;E<a.length;E++){var T=a[E];T&&T.Kind===s.hk.Measure&&null==T.Depth&&null==T.SecondaryDepth&&(M[P++]=E)}var R={intersectionMeasureToSelectIndex:M,secondaryLeafDataMemberId:g&&[],dataMemberIdToMetadata:S,selects:a,maxPrimaryDepth:_.size(b),maxSecondaryDepth:_.size(g),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:y,secondaryDataMemberIdCache:C,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(f){var B=f.length;for(R.primarySynchronizedGroups=new Array(B),E=0;E<B;E++){var N=f[E],x=_.last(N.Groupings);R.primarySynchronizedGroups[E]={groupings:N.Groupings,dataShapeId:N.DataShape,synchronizationIndexCalcId:b[x].SynchronizationIndex,context:e(u,N)}}}return R}function e(u,a){t.fF.assertValue(u.Expressions.Primary,"No primary groupings."),t.fF.assertValue(u,"synchronizedGroup");for(var l=u.Expressions.Primary.Groupings,d=u.Select,b={},f=[],g=a.Groupings,S=0;S<g.length;S++)h(b,l[g[S]].SynchronizedGroup,S,f,d,!0);return{dataMemberIdToMetadata:b,selects:d,maxPrimaryDepth:_.size(g),primaryDataMemberIdCache:f,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function h(u,a,l,d,b,f){var g=d[l]=[],S=function(u,a){for(var l=u.length,d=new Array(l),b=0;b<l;b++)d[b]=o(u[b],u[b].Select,a);return d}(a.Keys,b),y=a.Member;if(y){g.push(y);var C=u[y]={identityFields:S,axisGrouping:a,kind:1,depth:l+1};f?C.forSynchronization=!0:a.SynchronizedGroup&&(C.isSynchronized=!0),a.RestartIdentities&&(C.restartValuesBuilder=new p(a.RestartIdentities))}var E=a.SubtotalMember;E&&(g.push(E),C={identityFields:S,kind:2,depth:l},f?C.forSynchronization=!0:a.SynchronizedGroup&&(C.isSynchronized=!0),u[E]=C)}function o(u,a,l){t.fF.assertValue(u,"key"),t.fF.assertAnyValue(a,"selectIndex"),t.fF.assertValue(l,"selectBindings");var d=u.Source;if(!d){t.fF.assert(function(){return a>=0&&a<_.size(l)},"selectIndex should be within range");var b=l[a].Name;return b?(0,c.xA)(b):void t.fF.assertFail("selectName should be defined")}return(0,c.Oh)((0,c.nw)((0,s._H)(d),d.Entity||d.EntitySet),d.Property)}},782504:function(ze,K,r){r.d(K,{o3:function(){return Ce},kc:function(){return Fe},nZ:function(){return be},ij:function(){return ee}});var t=r(776791),c=r(787941),i=r(16062),s=r(690016),p=r(159190),V=r(419644),m=r(926720),v=r(169170),e=function(){function we(he){this.context=he,this.measureValueAggregatorsBySelectIdx=[]}return we.prototype.read=function(he,Te){void 0===Te&&(Te=!0);for(var Oe=this.context,Je=Oe.selects,fe=new Array(Je.length),ne=new Array(Je.length);he.nextCalc();){var Ne=Oe.aggregateCalcMetadata[he.calcId()];Ne&&Ne.aggregateKind&&(v.A1.fillMetadataColumnAggregate(he.calcValue(),Ne,!1),3===Ne.aggregateKind&&(fe[Ne.selectIdx]=!0),2===Ne.aggregateKind&&(ne[Ne.selectIdx]=!0))}Te&&this.addLocalAggregators(fe,ne)},we.prototype.addLocalAggregators=function(he,Te){for(var Oe=this.measureValueAggregatorsBySelectIdx,Je=this.context.measureSelectIndices,fe=Je.length,ne=!1,Ne=0;Ne<fe;Ne++){var et=Je[Ne];he[et]||(ne=!0,Oe[et]||(Oe[et]=[]),Oe[et].push(new v.nc)),Te[et]||(ne=!0,Oe[et]||(Oe[et]=[]),Oe[et].push(new v._8))}this.hasLocalAggregators=ne},we.prototype.update=function(he,Te){if(this.hasLocalAggregators){var Oe=this.measureValueAggregatorsBySelectIdx[Te];if(Oe)for(var Je=0,fe=Oe;Je<fe.length;Je++)fe[Je].update(he)}},we.prototype.copyToColumns=function(){for(var he=this.context.measureSelectIndices,Te=he.length,Oe=0;Oe<Te;Oe++){var Je=he[Oe],fe=this.context.selectIndexToColumn[Je],ne=this.measureValueAggregatorsBySelectIdx[Je];if(ne&&ne)for(var Ne=0,et=ne;Ne<et.length;Ne++){var tt=et[Ne],xe=tt.value();void 0!==xe&&(fe.aggregates||(fe.aggregates={}),fe.aggregates[tt.name]=xe)}}},we}(),h=r(19632),n=r(324356),o=function(){function we(he,Te){this.context=he,this.calcIdToGroupingKeysIndex={},this.initialize(Te)}return we.prototype.initialize=function(he){var Oe,Te=this,Je=this.context,fe=Je.selects,ne=Je.dataMemberIdToMetadata[he];this.identityFields=ne.identityFields,this.identityFieldsCount=this.identityFields.length;var et=ne.axisGrouping.Keys;c.fF.assert(function(){return et.length===Te.identityFieldsCount},"Mismatch in Identity Keys count");for(var tt=0;tt<this.identityFieldsCount;tt++){var xe=et[tt],Ve=void 0;xe.Calc?Ve=xe.Calc:null!=xe.Select&&xe.Select>=0?Ve=ne.forSynchronization?null===(Oe=fe[xe.Select].Synchronized)||void 0===Oe?void 0:Oe.Value:fe[xe.Select].Value:c.fF.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[Ve]=tt}},we.prototype.reset=function(){this.identityParts=new Array(this.identityFieldsCount)},we.prototype.addExpr=function(he,Te){var Oe=this.calcIdToGroupingKeysIndex[he],Je=this.identityFields[Oe];Je&&(this.identityParts[Oe]=(0,n.Dg)(Je,Te))},we.prototype.getIdentity=function(){for(var Oe,he=this.identityParts,Te=this.identityFieldsCount,Je=0;Je<Te;Je++)Oe=(0,n.xD)(Oe,he[Je]);var fe=(0,h.TZ)(Oe);return c.fF.assertValue(fe,"identity"),fe},we.prototype.getIdentityFields=function(){return this.identityFields},we}(),u=r(249679),l=function(){function we(){}return we.prototype.run=function(he,Te,Oe){this.metadata=Oe,this.context=he,this.dsrParser=Te,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],Te.reset(),this.aggregator=new e(he);var Je=this.dsrParser.dataShapes();Je.next();var fe={};if(0===he.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var ne=fe.values=(0,m.Yv)();this.readMeasuresWithNoGrouping(Je,ne)}else{var Ne=[],et=[];fe.categories=Ne,this.readSelectsAndCreateCategoryColumns(Ne,et),ne=void 0,(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(fe.values=ne=(0,m.Yv)()),this.readSecondaryAndCreateValueColumns(ne);var tt={};this.readData(Je,ne,et,tt),void 0!==tt.value&&(fe.lastMergeIndex=tt.value)}return fe},we.isCompatible=function(he){return he.maxPrimaryDepth<=1&&he.maxSecondaryDepth<=1&&!(0===he.maxPrimaryDepth&&he.maxSecondaryDepth>0)&&_.size(he.selects)>0},we.prototype.readSelectsAndCreateCategoryColumns=function(he,Te){var Oe=this.context,Je=Oe.selectIndexToColumn,fe=Oe.selects,ne=fe.length,Ne=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(fe.length),this.intersectionMeasuresSelectIndexMap=new Array(fe.length);for(var et=!!Ne,tt=0;tt<ne;tt++){var xe=fe[tt];if(xe&&xe.Value)if(xe.Kind===u.hk.Group){if(null!=xe.SecondaryDepth){this.seriesSelectIndex=tt;continue}if(null!=xe.Depth){c.fF.assert(function(){return null!=Te},"Expected truthy value for identities"),c.fF.assert(function(){return null!=he},"Expected truthy value for categories");var Le={source:Je[tt],values:[],identity:Te};he.push(Le),this.selectIndexToCategoryColumn[tt]=Le}}else xe.Kind===u.hk.Measure&&(et&&null==xe.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=tt:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=tt)}},we.prototype.readSecondaryAndCreateValueColumns=function(he){var Te=this.dsrParser.dataShapes().secondaryHierarchy();Te?(this.addIntersectionValueColumns(he,Te),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(he)):this.addPrimaryValueColumns(he,!0)},we.prototype.addIntersectionValueColumns=function(he,Te){for(var Je,Oe=new Array,fe=this.context,ne=function(){var tt=Te.id(),xe=Te.instances();if(2===fe.dataMemberIdToMetadata[tt].kind){for(;xe.next(););return"continue"}var Ve=fe.dataMemberIdToIdentityBuilder[tt];Ve||(Ve=new o(fe,tt),fe.dataMemberIdToIdentityBuilder[tt]=Ve),Je=Ve.getIdentityFields();for(var Le=-1;xe.next();){Le++,Ve.reset();for(var at=void 0,ft=void 0;xe.nextCalc();){ft=xe.calcId();var ht=Ne.context.calcInfo[ft];ht.isGroupKeyButNotSelect||(at=xe.calcValue()),ht.forIdentity&&Ve.addExpr(ft,xe.calcValueAsExpr())}Ne.addIntersectionValueColumnsCore(he,Oe,ft,at,Le,Ve.getIdentity()),c.fF.assert(function(){return null==xe.intersections()},"unexpected secondary intersections"),c.fF.assert(function(){return null==xe.members()},"unexpected secondary nested members")}0===he.length&&0===Oe.length&&Ne.addIntersectionValueColumnsCore(he,Oe,void 0,void 0,0,void 0),he.grouped=function(){return Oe},he.source=Ne.context.selectIndexToColumn[Ne.seriesSelectIndex],he.identityFields=Je},Ne=this;Te.next();)ne()},we.prototype.addIntersectionValueColumnsCore=function(he,Te,Oe,Je,fe,ne){for(var Ne,et,tt,xe=this.context,Ve=xe.selects,Le=this.intersectionMeasureCount,at=new Array(Le),ft=this.metadata.columns,ht=function(He){var ct=void 0,Mt=Ge.intersectionMeasuresSelectIndexMap[He];void 0!==Je?((ct=xe.createColumns(ft,Mt).column).groupName=Je,ct.rootSource=xe.selectIndexToColumn[Mt]):ct=_.find(ft,function(_r){return _r.index===Mt});var It=Ge.createValueColumn(ct,ne,Mt,!!Ve[Mt].Highlight,!1);he.push(It),at[He]=It;var Bt=Ve[Mt],jt=Ge.intersectionValueColumnsMap[fe];jt||(jt=Ge.intersectionValueColumnsMap[fe]={}),jt[Bt.Value]=It;var Kt=Bt.Highlight&&Bt.Highlight.Value;if(Kt&&(jt[Kt]=It),ct.formatSource&&ct.formatSource.formatString){c.fF.assertValue(null===(Ne=Bt.DynamicFormat)||void 0===Ne?void 0:Ne.Format,"select.DynamicFormat.Format");var Yt=Ge.createValueColumn(ct.formatSource.formatString,void 0,Mt,!!Ve[Mt].Highlight,!0),Zt=Ge.intersectionDynamicFormatColumnsMap[fe];Zt||(Zt=Ge.intersectionDynamicFormatColumnsMap[fe]={}),Zt[Bt.DynamicFormat.Format]=Yt,he.push(Yt);var or=null===(tt=null===(et=Bt.Highlight)||void 0===et?void 0:et.DynamicFormat)||void 0===tt?void 0:tt.Format;or&&(Zt[or]=Yt)}},Ge=this,Re=0;Re<Le;Re++)ht(Re);var Xe={values:at};void 0!==Je&&(Xe.name=Je),void 0!==ne&&(Xe.identity=ne),Te.push(Xe)},we.prototype.addPrimaryValueColumns=function(he,Te){for(var Oe=new Array,Je=this.context,fe=Je.selects,ne=0;ne<this.primaryMeasureCount;ne++){var Ne=this.primaryMeasureSelectIndexMap[ne],et=Je.selectIndexToColumn[Ne],tt=this.createValueColumn(et,void 0,Ne,!!fe[Ne].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[Ne]=tt,Oe.push(tt),he.push(tt),et.formatSource&&et.formatSource.formatString){var xe=this.createValueColumn(et.formatSource.formatString,void 0,Ne,!!fe[Ne].Highlight,!0);this.selectIndexToDynamicFormatColumn[Ne]=xe,he.push(xe),Oe.push(xe)}}if(Te&&he){var Ve=[{values:Oe}];he.grouped=function(){return Ve}}},we.prototype.createValueColumn=function(he,Te,Oe,Je,fe){var ne={source:he,values:[]};if(Je&&(ne.highlights=[]),Te&&(ne.identity=Te),!fe){var Ne=this.selectIndexToValueColumnsMap[Oe];Ne||(Ne=this.selectIndexToValueColumnsMap[Oe]=[]),Ne.push(ne)}return ne},we.prototype.readData=function(he,Te,Oe,Je){var fe=this.context,ne=he.primaryHierarchy();this.aggregator.read(he,0===this.intersectionMeasureCount);for(var Ne=function(){var xe=ne.id(),Ve=fe.dataMemberIdToMetadata[xe];if(Ve){var Le=1===Ve.kind,at=fe.dataMemberIdToIdentityBuilder[xe];!at&&Le&&(at=new o(fe,xe),fe.dataMemberIdToIdentityBuilder[xe]=at);for(var ft=ne.instances();ft.next();){for(at&&at.reset(),1===ft.restartFlagKind()&&(Je.value=ft.currentIndex());ft.nextCalc();)et.readPrimaryHierarchyCalc(ft,at);at&&Oe.push(at.getIdentity()),et.parseIntersections(ft),c.fF.assert(function(){return null==ft.members()},"unexpected nested members to parse")}if(Le)for(var ht=at.getIdentityFields(),Ge=0;Ge<fe.selects.length;Ge++){var Re=et.selectIndexToCategoryColumn[Ge];Re&&(Re.identityFields=ht)}}},et=this;ne.next();)Ne();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()},we.prototype.copyAggregatesToValueColumns=function(){for(var he=this.context.measureSelectIndices,Te=this.context.selectIndexToColumn,Oe=he.length,Je=0;Je<Oe;Je++){var fe=he[Je],ne=Te[fe].aggregates;if(ne){var Ne=this.selectIndexToPrimaryValueColumn[fe];Ne&&v.A1.copyAggregates(ne,Ne);var et=this.selectIndexToValueColumnsMap[fe];if(et)for(var tt=0,xe=et;tt<xe.length;tt++)v.A1.copyAggregates(ne,xe[tt])}}},we.prototype.readPrimaryHierarchyCalc=function(he,Te){var Oe=he.calcId(),Je=this.context.aggregateCalcMetadata[Oe];if(Je&&1===Je.aggregateKind)v.A1.fillMetadataColumnAggregate(he.calcValue(),Je);else{var fe=this.context.calcInfo[Oe];if(fe){var ne=he.calcValue();if(fe.kind===u.hk.Group)c.fF.assert(function(){return!!Te},"Must have an identity builder when parsing grouping values"),fe.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[fe.selectIdx].values.push(ne),fe.forIdentity&&Te.addExpr(Oe,he.calcValueAsExpr());else if(fe.kind===u.hk.Measure){var Ne=fe.calcKind;1===Ne?(this.selectIndexToPrimaryValueColumn[fe.selectIdx].values.push(ne),this.aggregator.update(ne,fe.selectIdx)):4===Ne?this.selectIndexToDynamicFormatColumn[fe.selectIdx].values.push(ne):3===Ne?this.selectIndexToPrimaryValueColumn[fe.selectIdx].highlights.push(ne):6===Ne&&this.selectIndexToDynamicFormatColumn[fe.selectIdx].highlights.push(ne)}}}},we.prototype.parseIntersections=function(he){var Te=he.intersections();if(Te)for(var Oe=this.context.calcInfo,Je=0;Te.next();){var fe=this.intersectionValueColumnsMap[Je],ne=this.intersectionDynamicFormatColumnsMap[Je];if(Te.nextCalc()){if(!this.parseIntersectionCalc(Te,fe,ne,Oe))continue;for(Je++;Te.nextCalc();)this.parseIntersectionCalc(Te,fe,ne,Oe)}}},we.prototype.parseIntersectionCalc=function(he,Te,Oe,Je){var fe=he.calcId(),ne=Je[fe];if(ne)switch(c.fF.assert(function(){return ne.kind===u.hk.Measure},"unexpected select kind found in intersection"),ne.calcKind){case 1:return Te[fe].values.push(he.calcValue()),!0;case 3:return Te[fe].highlights.push(he.calcValue()),!0;case 4:return Oe[fe].values.push(he.calcValue()),!0;case 6:return Oe[fe].highlights.push(he.calcValue()),!0;case 2:case 5:return!1}},we.prototype.readMeasuresWithNoGrouping=function(he,Te){this.aggregator.read(he),this.aggregator.copyToColumns();var Oe=he.primaryHierarchy();if(Oe.next()){this.addPrimaryValueColumns(Te,!0);for(var Je=this.context.calcInfo,fe=Oe.instances();fe.next();)for(var ne=function(){var tt=fe.calcId(),xe=Je[tt];xe&&(c.fF.assert(function(){return null!=xe.selectIdx},"expect a selectIdx for all measures when there is no grouping"),1===xe.calcKind?Ne.selectIndexToPrimaryValueColumn[xe.selectIdx].values.push(fe.calcValue()):3===xe.calcKind?Ne.selectIndexToPrimaryValueColumn[xe.selectIdx].highlights.push(fe.calcValue()):4===xe.calcKind?Ne.selectIndexToDynamicFormatColumn[xe.selectIdx].values.push(fe.calcValue()):6===xe.calcKind&&Ne.selectIndexToDynamicFormatColumn[xe.selectIdx].highlights.push(fe.calcValue()))},Ne=this;fe.nextCalc();)ne()}},we}(),d=r(299747),b=r(725182),f=r(786219),g=function(){function we(he,Te,Oe,Je,fe){c.fF.assertValue(he,"targets"),c.fF.assert(function(){return null!=Te.Select||null!=Te.ScriptVisualBinding},"descriptor"),this.targets=he,this.descriptor=Te,this.selects=Te.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var ne=Te.Expressions;this._primaryAxisGroupings=ne&&ne.Primary&&ne.Primary.Groupings,this._secondaryAxisGroupings=ne&&ne.Secondary&&ne.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=Oe.dataMemberIdToMetadata,this.maxPrimaryDepth=Oe.maxPrimaryDepth,this.maxSecondaryDepth=Oe.maxSecondaryDepth,this.primarySynchronizedGroups=Oe.primarySynchronizedGroups,this.scopedAggregatesEnabled=Je,this.dataShapeParser=fe}return Object.defineProperty(we.prototype,"primaryAxisGroupings",{get:function(){return this._primaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"secondaryAxisGroupings",{get:function(){return this._secondaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"calcInfo",{get:function(){return this._calcInfo},enumerable:!1,configurable:!0}),we.prototype.createContextForPrimarySynchronizedGroup=function(he,Te){var Oe=this,Je=new we(this.targets,this.descriptor,he.context,this.scopedAggregatesEnabled,Te);return Je._primaryAxisGroupings=_.map(he.groupings,function(fe){return Oe.primaryAxisGroupings[fe].SynchronizedGroup}),Je._secondaryAxisGroupings=void 0,Je._calcInfo=this._calcInfo,Je},we.prototype.includes=function(he){return c.fF.assertValue(he,"kind"),(0,b.yE)(this.targets,he)},we.prototype.createDataViewMetadataColumns=function(){var he=this,Te=this.selects;if(!_.isEmpty(Te)){var Oe=[],Je=Te.length;this.selectIndexToColumnIndex=new Array(Je);for(var fe=function(at,ft){var ht=Te[at];if(!ht)return"continue";c.fF.assert(function(){return ht.Kind!==u.hk.None},"Expecting every select never to be of SelectKind.None");var Ge=ne.createColumns(Oe,at),Re=Ge.column,Xe=Ge.columnIdx,Me=Ge.dynamicFormatColumn;ne.selectIndexToColumn[at]=Re,ne.selectIndexToColumnIndex[at]=Xe,ht.Kind===u.hk.Measure&&ne.measureSelectIndices.push(at);var He=ht.Aggregates;if(He)for(var ct=0,Mt=He;ct<Mt.length;ct++){var It=Mt[ct],Bt=ne.getAggregateKind(It.Aggregate);ne.createAggregateCalcMetadata(It.Ids,Bt,Re,at,It.Aggregate)}var jt=ht.Value;jt&&(ne.calcIdToColumnIndices[jt]||(ne.calcIdToColumnIndices[jt]=[]),ne.calcIdToColumnIndices[jt].push(Xe),(null==ht.Depth||null==ht.SecondaryDepth)&&(ne.aggregateCalcMetadata[jt]={source:Re,aggregateKind:4,selectIdx:at})),ht.Kind===u.hk.Measure&&(ht.Subtotal&&ne.createAggregateCalcMetadata(ht.Subtotal,1,Re,at),ht.SubtotalDynamicFormat&&ne.createAggregateCalcMetadata(_.map(ht.SubtotalDynamicFormat,function(Kt){return Kt&&Kt.Format}),1,Me,at),ht.Count&&(c.fF.assert(function(){return _.size(ht.Count)<=1},"dataView cannot represent aggregates other than subtotal at different scopes yet"),ne.createAggregateCalcMetadata(ht.Count,5,Re,at)),ht.Max&&ne.createAggregateCalcMetadata(ht.Max,2,Re,at),ht.Min&&ne.createAggregateCalcMetadata(ht.Min,3,Re,at))},ne=this,Ne=0,et=Je;Ne<et;Ne++)fe(Ne);this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var tt=function(at){_.size(xe.calcIdToColumnIndices[at])>1&&(xe.calcInfo[at].hasDuplicateColumnIndices=!0,c.fF.assert(function(){return!he.calcInfo[at].isGroupKeyButNotSelect},"calcs which represent group keys cannot have duplicate column indices"))},xe=this;for(var Ve in this.calcIdToColumnIndices)tt(Ve);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),Oe}},we.prototype.parseAxisGroupings=function(he){if(he)for(var Te=0,Oe=he;Te<Oe.length;Te++){var Je=Oe[Te],fe=Je.SynchronizedGroup;if(fe){this.parseGroupingKeys(fe.Keys,!0);var ne=Je.SynchronizationIndex;ne&&(this.calcInfo[ne]={kind:u.hk.Measure,calcKind:10})}this.parseGroupingKeys(Je.Keys,!1)}},we.prototype.parseGroupingKeys=function(he,Te){for(var Oe,Je,fe=this.calcInfo,ne=this.selects,Ne=0,et=he;Ne<et.length;Ne++){var tt=et[Ne],xe=ne[tt.Select];null!=xe?Te?(c.fF.assertValue(null===(Oe=xe.Synchronized)||void 0===Oe?void 0:Oe.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),fe[null===(Je=xe.Synchronized)||void 0===Je?void 0:Je.Value].forIdentity=!0):fe[xe.Value].forIdentity=!0:tt.Calc?fe[tt.Calc]={kind:u.hk.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:c.fF.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}},we.prototype.createAggregateCalcMetadata=function(he,Te,Oe,Je,fe){for(var ne=0,Ne=he;ne<Ne.length;ne++){var tt=this.aggregateCalcMetadata[Ne[ne]]={source:Oe,aggregateKind:Te,selectIdx:Je};fe&&(tt.aggregate=fe)}},we.prototype.getAggregateKind=function(he){return he.Average?6:he.Max?2:he.Min?3:he.Median?8:he.Percentile?7:void 0},we.prototype.createColumns=function(he,Te){var Oe=he.length,Je=this.createMetadataColumn(Te);he.push(Je);var fe=this.selects[Te],ne=fe.Kind,Ne=this.calcInfo;Ne[fe.Value]={kind:ne,columnIndex:Oe,selectIdx:Te,calcKind:1};var et=fe.Synchronized;if(et&&(c.fF.assert(function(){return ne===u.hk.Group},"Synchronization Auxiliary Select is expected only for Grouping Selects"),c.fF.assertValue(et.Value,"Synchronization Auxiliary Select must have a Value"),c.fF.assertValue(et.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),Ne[et.Value]={kind:ne,columnIndex:Oe,selectIdx:Te,calcKind:1},Ne[fe.Value].isSynchronized=!0),fe.Subtotal){c.fF.assert(function(){return ne===u.hk.Measure},"Subtotal SelectKind");for(var tt=0,xe=fe.Subtotal;tt<xe.length;tt++)Ne[Ve=xe[tt]]={columnIndex:Oe,kind:ne,selectIdx:Te,calcKind:2}}if(fe.Highlight){c.fF.assert(function(){return ne===u.hk.Measure},"Highlight SelectKind");var Le=fe.Highlight.Value;Le&&(Ne[Le]={columnIndex:Oe,kind:ne,selectIdx:Te,calcKind:3});var at=fe.Highlight.Subtotal;if(at)for(var ft=0,ht=at;ft<ht.length;ft++)Ne[Ve=ht[ft]]={columnIndex:Oe,kind:ne,selectIdx:Te,calcKind:9}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(fe.Aggregates))for(var Ge=0,Re=fe.Aggregates;Ge<Re.length;Ge++)if((Xe=Re[Ge]).Aggregate.Scope)for(var Me=0,He=Xe.Ids;Me<He.length;Me++)Ne[He[Me]]={columnIndex:Oe,kind:ne,selectIdx:Te,calcKind:7};var Mt=fe.Highlight;if(Mt&&!_.isEmpty(Mt.Aggregates))for(var Bt=0,jt=Mt.Aggregates;Bt<jt.length;Bt++){var Xe;if((Xe=jt[Bt]).Aggregate.Scope)for(var Kt=0,Yt=Xe.Ids;Kt<Yt.length;Kt++)Ne[Yt[Kt]]={columnIndex:Oe,kind:ne,selectIdx:Te,calcKind:8}}}var Zt=this.tryCreateDynamicFormatColumnMetadata(Te,Je);if(Zt){c.fF.assert(function(){return ne===u.hk.Measure},"Dynamic Format SelectKind");var or=Oe+1;if(he.push(Zt),Ne[fe.DynamicFormat.Format]={columnIndex:or,kind:u.hk.Measure,selectIdx:Te,calcKind:4},fe.SubtotalDynamicFormat)for(var _r=0,Pr=fe.SubtotalDynamicFormat;_r<Pr.length;_r++){var Ve,mt=(Ve=Pr[_r])&&Ve.Format;mt&&(Ne[mt]={columnIndex:or,kind:u.hk.Measure,selectIdx:Te,calcKind:5})}var Rt=fe.Highlight&&fe.Highlight.DynamicFormat&&fe.Highlight.DynamicFormat.Format;Rt&&(Ne[Rt]={columnIndex:or,kind:u.hk.Measure,selectIdx:Te,calcKind:6})}return{column:Je,columnIdx:Oe,dynamicFormatColumn:Zt}},we.prototype.createMetadataColumn=function(he){var Te=this.selects[he],Oe={displayName:"",index:he};Te.Format&&(Oe.format=Te.Format),Oe.type=v.A1.describeDataType(Te.Type,Te.DataCategory),Te.Kind===u.hk.Measure&&(Oe.isMeasure=!0);var Je=Te.GroupKeys;if(Je)for(var fe=Oe.identityExprs=new Array(Je.length),ne=0;ne<Je.length;ne++)fe[ne]=(0,f.U1)(Je[ne],he,this.selects);return Oe},we.prototype.tryCreateDynamicFormatColumnMetadata=function(he,Te){var Oe=this.selects[he];if(Oe.DynamicFormat&&Oe.DynamicFormat.Format){var Je={displayName:"",isMeasure:!0};return Te.formatSource={formatString:Je},Je}},we.prototype.createScopedAggregateMetadata=function(){for(var he=this.selects,Oe=this.selectIndexToColumn,Je=0,fe=he.length;Je<fe;Je++){var ne=he[Je];if(ne){var Ne=ne.Aggregates,et=Oe[Je];if(!_.isEmpty(Ne))for(var tt=0,xe=Ne;tt<xe.length;tt++)this.createScopedAggregateCalcMetadata(xe[tt],et);var Le=ne.Highlight;if(Le&&!_.isEmpty(Le.Aggregates))for(var ft=0,ht=Le.Aggregates;ft<ht.length;ft++)this.createScopedAggregateCalcMetadata(ht[ft],et)}}},we.prototype.createScopedAggregateCalcMetadata=function(he,Te){var Oe=he.Aggregate,Je=Oe.Scope;if(Je){var fe=this.selectIndexToColumn,ne=Je.PrimaryDepth;c.fF.assert(function(){return void 0===Je.SecondaryDepth},"Scoped Aggregates not supports secondary depth for now.");for(var Ne=new Array(ne),et=this.primaryAxisGroupings,tt=0,xe=0;xe<ne;xe++)for(var Le=0,at=et[xe].Keys;Le<at.length;Le++){var ht=at[Le].Select;c.fF.assertValue(ht,"select");var Ge=fe[ht];c.fF.assertValue(Ge,"inputScopeColumn"),Ne[tt++]=Ge}for(var Re={column:Te,inputScope:Ne,respectInstanceFilters:Oe.RespectInstanceFilters},Me=this.calcInfo,He=0,ct=he.Ids;He<ct.length;He++){var It=Me[ct[He]];c.fF.assertValue(It,"aggregateCalcInfo"),It.scopedAggregateCalcMetadata={metadata:Re,aggregateKind:this.getAggregateKind(Oe)}}}},we.prototype.fillDataShapeScopeAggregateValues=function(){var he=this.dataShapeParser;if(he){var Te=this.calcInfo;he.reset();var Oe=he.next();c.fF.assert(function(){return Oe},"There must be a DataShape");for(var Je=function(){var ne=Te[he.calcId()];if(!ne||!ne.scopedAggregateCalcMetadata)return"continue";var Ne=ne.scopedAggregateCalcMetadata,et=Ne.metadata,tt=et.column,xe=et.inputScope,Ve=et.respectInstanceFilters,Le={inputScope:xe,respectInstanceFilters:Ve,values:{},highlight:{}};if(tt.scopedAggregates){var at=_.find(tt.scopedAggregates,function(Ge){return we.sameScopedAggregatesInputScope(Ge.inputScope,xe)&&Ge.respectInstanceFilters===Ve});at?Le=at:tt.scopedAggregates.push(Le)}else tt.scopedAggregates=[Le];var ft=void 0;switch(ne.calcKind){case 7:ft=Le.values;break;case 8:ft=Le.highlight;break;default:c.fF.assertFail("Invalid CalcKind.")}var ht=he.calcValue();switch(Ne.aggregateKind){case 3:ft.min=ht;break;case 2:ft.max=ht;break;case 6:ft.avg=ht;break;default:c.fF.assertFail("Invalid scoped aggregate function.")}};he.nextCalc();)Je()}},we.sameScopedAggregatesInputScope=function(he,Te){if(he===Te)return!0;if(he.length!==Te.length)return!1;for(var Oe=0;Oe<he.length;Oe++)if(he[Oe]!==Te[Oe])return!1;return!0},we}(),y=function(){function we(he,Te,Oe,Je){this.context=he,this.dsrParser=Te,this.metadata=Oe,c.fF.assertValue(he,"context"),c.fF.assertValue(Te,"dsrParser"),c.fF.assertValue(Oe,"metadata"),c.fF.assertNonEmpty(Oe.columns,"metadata.columns"),this.aggregator=new e(he),this.scopedAggregatesEnabled=Je}return we.prototype.run=function(){var he=this,Te=this.aggregator,Oe=this.dsrParser;Oe.reset();var Je=Oe.dataShapes();this.calcInfoCache={};var fe=Je.next();c.fF.assert(function(){return fe},"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(Je),c.fF.assert(function(){return he.context.maxPrimaryDepth>0||!_.isEmpty(he.context.measureSelectIndices)},"DSR is not compatible with Matrix"),Te.read(Je,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var ne=Je.secondaryHierarchy(),Ne=this.readHierarchy(1,ne,Je),et=Je.primaryHierarchy(),tt=this.readHierarchy(0,et,Je);return Te.copyToColumns(),{rows:tt,columns:Ne,valueSources:this.valueSources}},we.prototype.createHierarchiesLevels=function(){var he=this.context.selects,Te=this.context.maxPrimaryDepth,Oe=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(Te),this.secondaryHierarchyLevels=new Array(Oe);for(var Je=0;Je<Te;Je++)this.primaryHierarchyLevels[Je]={sources:[]};for(Je=0;Je<Oe;Je++)this.secondaryHierarchyLevels[Je]={sources:[]};var fe=this.metadata.columns,ne=fe.length,Ne=this.columnIndexToZoneIndex=new Array(ne);for(Je=0;Je<ne;Je++){var et=fe[Je],tt=et.index;if(null!=tt){var xe=he[tt],Ve=void 0;xe.Kind===u.hk.Group&&(null!=xe.Depth?Ve=this.primaryHierarchyLevels[xe.Depth].sources:null!=xe.SecondaryDepth&&(Ve=this.secondaryHierarchyLevels[xe.SecondaryDepth].sources),c.fF.assertValue(Ve,"Grouping Select not belonging to either Hierarchy"),Ne[Je]=Ve.length,Ve.push(et))}}},we.prototype.readHierarchy=function(he,Te,Oe){var Je,fe,ne=this.valueSources.length;switch(he){case 0:if(fe=this.context.maxPrimaryDepth,!(Je=this.context.primaryAxisGroupings))return c.fF.assert(function(){return 0===fe},"No primary groupings"),c.fF.assert(function(){return ne>0},"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(Te);break;case 1:if(fe=this.context.maxSecondaryDepth,!(Je=this.context.secondaryAxisGroupings))return c.fF.assert(function(){return 0===fe},"No secondary groupings"),0===ne?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:c.fF.assertFail("Unexpected DataShapeHierarchy")}c.fF.assert(function(){return fe===_.size(Je)},"Groupings-Hierarchy mismatch");var Ne={levels:0===he?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};1===he&&ne>1&&Ne.levels.push(this.createColumnHierarchyMeasuresLevel());var et=this.context.primarySynchronizedGroups;0===he&&et&&this.readRowsSynchronizedGroups(et,Ne,Oe);var tt=this.context;return this.readNodeChildren(tt,tt.calcInfo,this.columnIndexToZoneIndex,tt.dataMemberIdToIdentityBuilder,tt.dataMemberIdToMetadata,Ne.root,Te,0,he,ne,this.context.maxSecondaryDepth,Ne.levels),!_.isEmpty(Ne.root.children)&&!_.isEmpty(Ne.synchronizedGroups)&&this.ensureRowNodeSynchronization(Ne.root,0),Ne},we.prototype.readRowsSynchronizedGroups=function(he,Te,Oe){c.fF.assertNonEmpty(he,"No Primary Synchronized Groups"),c.fF.assertValue(Te,"hierarchy");var Je=he.length;Te.synchronizedGroups=new Array(Je),this.primarySynchronizedGroupByLevel=new Array(Te.levels.length);for(var fe=Oe.nestedDataShapes(),ne=function(xe){var Ve=he[xe],Le=Ve.groupings;c.fF.assert(function(){return!_.isEmpty(Le)},"Empty synchronized group");var at=fe[Ve.dataShapeId];c.fF.assertValue(at,"no dataShapeParser for a SynchronizedGroup");var ft=at.next();c.fF.assert(function(){return ft},"Nested DataShape not found");var ht=at.primaryHierarchy();c.fF.assertValue(ht,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var Ge=Te.synchronizedGroups[xe]={levels:new Array,root:{}},Re=0;Re<Le.length;Re++){var Xe=Le[Re],Me=Ge.levels[Re]=Te.levels[Xe];Me.valueSources&&((Te.levels[Xe]=(0,d.ED)(Me)).valueSources=Me.valueSources,delete Me.valueSources)}Ne.primarySynchronizedGroupByLevel[Le[0]]=Ge;for(var ct=Ne.metadata.columns,Mt=new Array(ct.length),It=function(Yt){for(var Zt=ct[Yt],or=0,_r=Ge.levels;or<_r.length;or++){var mt=_.findIndex(_r[or].sources,function(Rt){return Rt===Zt});if(mt>-1){Mt[Yt]=mt;break}}},Bt=0;Bt<ct.length;Bt++)It(Bt);var jt=Ne.context.createContextForPrimarySynchronizedGroup(Ve,at);Ne.readNodeChildren(jt,jt.calcInfo,Mt,jt.dataMemberIdToIdentityBuilder,jt.dataMemberIdToMetadata,Ge.root,ht,0,0,0,jt.maxSecondaryDepth,Ge.levels,{currentIndex:0})},Ne=this,et=0;et<Je;et++)ne(et)},we.prototype.readNodeChildren=function(he,Te,Oe,Je,fe,ne,Ne,et,tt,xe,Ve,Le,at){if(Ne&&0!==Ne.count())for(var ft;Ne.next();){var ht=Ne.id(),Ge=fe[ht];if(Ge){var Re=2===Ge.kind,Xe=Re&&0===et,Me=void 0,He=void 0;Re||((Me=Je[ht])||(Me=Je[ht]=new o(he,ht)),He=Me.getIdentityFields());var ct=Ne.instances();if(!ct||0===ct.count())continue;He&&(ne.childIdentityFields=He),ft||(ft=ne.children=[]);var Mt=this.calcInfoCache[ht];for(null==Mt&&(Mt=this.calcInfoCache[ht]=[]);ct.next();){var It=this.readNode(he,Ge,Je,fe,Te,Oe,ct,et,Re,Xe,Mt,tt,xe,Ve,Me,Ge.restartValuesBuilder,Le,at);ft.push(It),at&&at.currentIndex++}}}},we.prototype.readNode=function(he,Te,Oe,Je,fe,ne,Ne,et,tt,xe,Ve,Le,at,ft,ht,Ge,Re,Xe){c.fF.assert(function(){return!!ht==!tt},"Unexpected IdentityBuilder"),c.fF.assert(function(){return!(tt&&Ge)},"Subtotal nodes should not have RestartValues");var Me=he.aggregateCalcMetadata,He={level:et};Te.forSynchronization&&(c.fF.assertValue(Xe,"undefined synchronizedGroupLeafIndex while parsing Master List"),He.synchronizationIndex=Xe.currentIndex),1===Ne.restartFlagKind()&&(He.isMerge=!0),tt?He.isSubtotal=!0:ht.reset();for(var ct=[],Mt=Te.isSynchronized,It=function(Pr){var mt=Ne.calcId(),Rt=Ve[Pr];if(!Rt){if(!(Rt=fe[mt]))return"continue";Ve[Pr]=Rt}if(10===Rt.calcKind){var Xt=Ne.calcValue();return c.fF.assert(function(){return"number"==typeof Xt},"Synchronization Index is expected to be a number"),He.synchronizationIndex=Xt,"continue"}var dr=Rt.columnIndex;c.fF.assert(function(){return!0===Rt.isGroupKeyButNotSelect==(null==dr)},"Unexpected columnIndex");var ar=ne[dr];c.fF.assert(function(){return!0===Rt.isGroupKeyButNotSelect==(null==ar)},"Unexpected zoneIndex");var gr=Rt.kind,Cr=void 0;if(gr===u.hk.Group){if(!Mt){var pr=Ne.calcValueAsExpr();Cr=pr.value,Rt.isGroupKeyButNotSelect||(ct[ar]={value:Cr,levelSourceIndex:ar}),ht.addExpr(mt,pr)}}else if(gr===u.hk.Measure){c.fF.assertValue(Rt.selectIdx,"Measure Calc ".concat(mt," on DataMember instances must be related to a Select"));var Br=Bt.measuresGroupingScopeBySelectIndex[Rt.selectIdx];c.fF.assertValue(Br,"Calc ".concat(mt," has an undefined grouping scope")),c.fF.assert(function(){return 0===Br.secondary},"Calc ".concat(mt," is grouped by Secondary while appearing on DataMember")),c.fF.assert(function(){return 0===Le},"Measure Calcs cannot appear on Secondary Hierarchy DataMembers");var Ir,Or=void 0;0===ft&&Br.primary===Re.length?(Ir=at,null==He.values&&(Or=He.values={}),Or=He.values):(Ir=Re[et].valueSources[0].length,He.nodeValues||(He.nodeValues={0:{}}),Or=He.nodeValues[0]),c.fF.assert(function(){return ar<Ir},"Measure index out-of-bound");var zr=Or[ar];zr||(zr=Or[ar]={},ar>0&&(zr.valueSourceIndex=ar)),Cr=Ne.calcValue(),Bt.readNodeValueCalc(zr,Cr,Rt),Bt.scopedAggregatesEnabled&&Rt.scopedAggregateCalcMetadata&&Bt.setScopeAggregateValue(He,Cr,Rt,Re[et-1]),xe&&(2===Rt.calcKind||5===Rt.calcKind)&&(c.fF.assertValue(he.aggregateCalcMetadata[mt],"Grand Total AggregateMetadata is undefined"),v.A1.fillMetadataColumnAggregate(Cr,Me[mt]))}else c.fF.assertFail("Unexpected SelectKind");if(!Mt&&Rt.hasDuplicateColumnIndices)for(var Ur=0,hr=he.calcIdToColumnIndices[mt];Ur<hr.length;Ur++){var Tt=ne[hr[Ur]];ct[Tt]||(ct[Tt]={value:Cr,levelSourceIndex:Tt})}},Bt=this,jt=0;Ne.nextCalc();jt++)It(jt);if(!tt&&!Mt){He.levelValues=ct,He.value=ct[0].value,He.identity=ht.getIdentity();var Kt=Ne.restartKind();Kt&&(1===Kt?He.restartKind=1:2===Kt?He.restartKind=2:3===Kt&&(He.restartKind=3),He.restartKind&&(c.fF.assertValue(Ge,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),He.restartValues=Ge.getRestartValues(Ne)))}var Yt=Ne.intersections(),Zt=Ne.members();if(Yt)c.fF.assert(function(){return null==Zt},"non-leaf node with intersections"),this.readIntersectionsValues(fe,ne,at,He,Yt);else if(Zt){if(c.fF.assert(function(){return null==Yt},"non-leaf node with intersections"),this.readNodeChildren(he,fe,ne,Oe,Je,He,Zt,et+1,Le,at,ft,Re,Xe),Te.isSynchronized&&!_.isEmpty(He.children)){var or=He.children[0].synchronizationIndex;void 0!==or&&(He.synchronizationIndex=or)}}else 1===Le&&at>1&&(et===ft-1||He.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(He);return He},we.prototype.setScopeAggregateValue=function(he,Te,Oe,Je){c.fF.assertValue(he,"node"),c.fF.assert(function(){return void 0!==Te},"calcValue"),c.fF.assertValue(Oe,"calcInfo");var Ne,fe=Oe.scopedAggregateCalcMetadata,ne=this.findDataViewNodeAggregates(he,fe.metadata);switch(Oe.calcKind){case 7:Ne=ne.values;break;case 8:Ne=ne.highlight;break;default:c.fF.assertFail("Invalid Aggregate CalcInfo.")}switch(fe.aggregateKind){case 2:Ne.max=Te;break;case 3:Ne.min=Te;break;case 6:Ne.avg=Te;break;default:c.fF.assertFail("Unexpected DataViewAggregateKind.")}var et=fe.metadata,tt=Je.aggregates;tt?_.some(tt,function(Ve){return Ve.column===et.column&&g.sameScopedAggregatesInputScope(Ve.inputScope,et.inputScope)&&Ve.respectInstanceFilters===et.respectInstanceFilters})||tt.push(et):Je.aggregates=[et]},we.prototype.findDataViewNodeAggregates=function(he,Te){var Je,Oe=he.aggregateValues;return Oe?(Je=_.find(Oe,function(fe){var ne=fe.metadata;return ne.column===Te.column&&g.sameScopedAggregatesInputScope(ne.inputScope,Te.inputScope)&&ne.respectInstanceFilters===Te.respectInstanceFilters}))||Oe.push(Je={metadata:Te,values:{},highlight:{}}):he.aggregateValues=[Je={metadata:Te,values:{},highlight:{}}],Je},we.prototype.readIntersectionsValues=function(he,Te,Oe,Je,fe){if(0!==Oe)for(var ne=Je.values={},Ne=0;fe.next();){for(var et=0;et<Oe;et++){var tt=ne[Oe*Ne+et]={};et>0&&(tt.valueSourceIndex=et)}for(;fe.nextCalc();){var xe=he[fe.calcId()];if(xe){var Ve=Te[xe.columnIndex];c.fF.assertValue(Ve,"Intersection calculation has no matching column index"),c.fF.assertValue(tt=ne[Oe*Ne+Ve],"nodeValue not found"),this.readNodeValueCalc(tt,fe.calcValue(),xe)}}Ne++}},we.prototype.readNodeValueCalc=function(he,Te,Oe){switch(c.fF.assertValue(he,"nodeValue"),c.fF.assert(function(){return void 0!==Te},"calcValue"),c.fF.assertValue(Oe,"calcInfo"),Oe.calcKind){case 1:case 4:he.value=Te,this.aggregator.update(Te,Oe.selectIdx);break;case 2:case 5:he.value=Te;break;case 3:case 6:case 9:he.highlight=Te;break;case 7:case 8:case 10:break;default:c.fF.assertNever(Oe.calcKind)}},we.prototype.createRowHierarchyForNoGroupings=function(he){var Te={level:0,values:{}},Oe={levels:[],root:{children:[Te]}};c.fF.assert(function(){return 1===he.count()},"DSR with no groupings should have one DataMember"),he.next();var Je=he.instances();return c.fF.assertValue(Je,"instancesParser"),this.readNodeForNoGroupings(Te,Je),Oe},we.prototype.readNodeForNoGroupings=function(he,Te){c.fF.assert(function(){return 1===Te.count()},"DSR with no groupings should have one Instance");var Oe=this.context.calcInfo,Je=this.columnIndexToZoneIndex;Te.next();for(var fe=he.values={};Te.nextCalc();){var Ne=Oe[Te.calcId()];if(Ne){var et=Je[Ne.columnIndex],tt=fe[et];tt||(tt=fe[et]={},et>0&&(tt.valueSourceIndex=et)),this.readNodeValueCalc(tt,Te.calcValue(),Ne)}}},we.prototype.createColumnHierarchyForNoGroupings=function(){var he=[],Te={};return this.valueSources.length>0&&(he=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(Te)),{levels:he,root:Te}},we.prototype.createColumnHierarchyMeasuresLevel=function(){for(var he=this.valueSources.length,Te=new Array(he),Oe=0;Oe<he;Oe++)Te[Oe]=this.valueSources[Oe];return{sources:Te}},we.prototype.createColumnHierarchyMeasuresNodes=function(he){for(var Te=null==he.level?0:this.context.maxSecondaryDepth,Oe=this.valueSources.length,Je=he.children=new Array(Oe),fe=he.isSubtotal,ne=0;ne<Oe;ne++){var Ne=Je[ne]={level:Te};ne>0&&(Ne.levelSourceIndex=ne),fe&&(Ne.isSubtotal=!0)}},we.prototype.readValueSources=function(he){var Te=this,Oe=this.context,Je=Oe.selects,fe=Oe.measureSelectIndices,ne=fe.length,Ne=Oe.selectIndexToColumn,et=Oe.selectIndexToColumnIndex,tt=this.columnIndexToZoneIndex;c.fF.assertValue(fe,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var xe={};if(he.calcCount()>0){for(;he.nextCalc();)xe[he.calcId()]=!0;he.restartCalcs()}for(var Ve=function(ht){var Ge=fe[ht],Re=Je[Ge];c.fF.assert(function(){return Re.Kind===u.hk.Measure},"Expected a Measure Select"),c.fF.assertValue(Re.Value,"Every Measure Select must have a Calc Id");var Xe=et[Ge],Me=Le.measuresGroupingScopeBySelectIndex[Ge]=Le.getMeasureGroupingScope(Re,xe[Re.Value]);if(!Me)return"continue";var He=Me.primary,ct=Me.secondary,Mt=void 0;if(He===Le.context.maxPrimaryDepth&&ct===Le.context.maxSecondaryDepth)Mt=Le.valueSources;else{c.fF.assert(function(){return 0===ct},"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),c.fF.assert(function(){return He<=Te.primaryHierarchyLevels.length},"Arbitrary-scope cannot be more specific than inner-most scope");var It=Le.primaryHierarchyLevels[He-1];It.valueSources||(It.valueSources={0:[]}),Mt=It.valueSources[0]}var Bt=Ne[Ge];if(c.fF.assertValue(Bt,"Measure column not found"),tt[Xe]=Mt.length,Mt.push(Bt),Re.DynamicFormat&&Re.DynamicFormat.Format){var jt=Bt.formatSource&&Bt.formatSource.formatString;c.fF.assertValue(jt,"DynamicFormat column not found"),tt[Xe+1]=Mt.length,Mt.push(jt)}},Le=this,at=0;at<ne;at++)Ve(at)},we.prototype.getMeasureGroupingScope=function(he,Te){return null==he.Depth&&null==he.SecondaryDepth?Te?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=he.Depth?he.Depth+1:0,secondary:null!=he.SecondaryDepth?he.SecondaryDepth+1:0}},we.prototype.ensureRowNodeSynchronization=function(he,Te){var Oe=this;if(c.fF.assert(function(){return!Oe.isRowLeaf(he)},"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(he)){var Je=this.primarySynchronizedGroupByLevel[Te];if(Je)return void this.synchronizeNodeChildren(he,Je.root);var fe=he.children;c.fF.assertNonEmpty(fe,"Jagged hierarcy found!");for(var ne=Te+1,Ne=0,et=fe;Ne<et.length;Ne++)this.ensureRowNodeSynchronization(et[Ne],ne)}},we.prototype.synchronizeNodeChildren=function(he,Te){if(!this.isRowLeaf(he)){var Oe=he.level+1,Je=Te.children;if(_.isEmpty(Je))return void this.ensureRowNodeSynchronization(he,Oe);var fe=Je.length,ne=he.children||[],Ne=new Array(fe);he.children=Ne;var tt,xe,et=0;xe=null==(tt=et<ne.length?ne[et]:void 0)?void 0:tt.synchronizationIndex;for(var Ve=0;Ve<fe;Ve++){var Le=Je[Ve],at=Le.synchronizationIndex,ft=this.copyFromMasterNode(Le);ft.level=Oe,Ne[Ve]=ft,tt&&xe===at?(c.fF.assert(function(){return tt.level===Oe},"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(tt,ft),this.synchronizeNodeChildren(ft,Le),et++,xe=null==(tt=et<ne.length?ne[et]:void 0)?void 0:tt.synchronizationIndex):void 0===xe||at<xe?this.isRowLeaf(ft)||(ft.children=[],this.synchronizeNodeChildren(ft,Le)):c.fF.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}},we.prototype.copyFromMasterNode=function(he){var Te={};if(Te.synchronizationIndex=he.synchronizationIndex,he.identity&&(Te.identity=he.identity),void 0!==he.value&&(Te.value=he.value),void 0!==he.isSubtotal&&(Te.isSubtotal=he.isSubtotal),he.levelValues){var Oe=he.levelValues.length;Te.levelValues=new Array(Oe);for(var Je=0;Je<Oe;Je++){var fe=he.levelValues[Je];Te.levelValues[Je]={value:fe.value,levelSourceIndex:fe.levelSourceIndex}}}return void 0!==he.restartKind&&(Te.restartKind=he.restartKind),void 0!==he.restartValues&&(Te.restartValues=he.restartValues),Te},we.prototype.copyFromExistingNode=function(he,Te){he.aggregateValues&&(Te.aggregateValues=he.aggregateValues),he.values&&(Te.values=he.values),he.nodeValues&&(Te.nodeValues=he.nodeValues),c.fF.assert(function(){return!(_.isEmpty(he.children)&&!_.isEmpty(Te.children))},"A non-leaf master node matches a leaf node"),he.children&&(Te.children=he.children),he.childIdentityFields&&!Te.childIdentityFields&&(Te.childIdentityFields=he.childIdentityFields)},we.prototype.isRowLeaf=function(he){return!(he.level!==this.context.maxPrimaryDepth-1&&!he.isSubtotal||(c.fF.assert(function(){return _.isEmpty(he.children)},"A leaf node should not have children"),0))},we}(),E=function(){function we(he,Te){this.context=he,this.dsrParser=Te,this.aggregator=new e(he)}return we.prototype.run=function(){return this.parseSingle()},we.prototype.parseSingle=function(){var he=this.dsrParser;he.reset();var Te=he.dataShapes(),Oe=Te.next();return c.fF.assert(function(){return Oe},"There must be a DataShape"),this.aggregator.read(Te,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(Te.primaryHierarchy()):this.parseSubtotal(Te.primaryHierarchy())},we.prototype.parseMeasureValue=function(he){for(c.fF.assert(function(){return 1===he.count()},"call parseMeasureValue only when there's one datamember with no grouping");he.next();)return this.parseInstance(he.instances())},we.prototype.parseSubtotal=function(he){for(;he.next();)if(2===this.context.dataMemberIdToMetadata[he.id()].kind)return this.parseInstance(he.instances())},we.prototype.parseInstance=function(he){for(var Je,fe,Te=this.context,Oe=Te.calcInfo;he.next();)for(;he.nextCalc();){var ne=he.calcId(),Ne=Oe[ne];if(Ne){var et=Ne.calcKind,tt=2===et;(1===et||tt)&&(Je=he.calcValue(),fe=Ne.selectIdx,tt&&(c.fF.assertValue(Te.aggregateCalcMetadata[ne],"AggregateCalcMetadata for calc must exist."),v.A1.fillMetadataColumnAggregate(Je,Te.aggregateCalcMetadata[ne])))}}if(void 0!==Je)return{column:Te.selectIndexToColumn[fe],value:Je}},we.isCompatible=function(he){return 0===he.maxSecondaryDepth&&1===he.measureSelectIndices.length},we}(),P=function(){function we(he,Te,Oe){this.context=he,this.dsrParser=Te,this.metadata=Oe,c.fF.assertValue(he,"context"),c.fF.assertValue(Te,"dsrParser"),c.fF.assertValue(Oe,"metadata"),this.aggregator=new e(he)}return we.prototype.run=function(){if(this.isCompatible()){var Te={columns:this.metadata.columns},Oe=this.dsrParser;Oe.reset();var Je=Oe.dataShapes(),fe=Je.next();c.fF.assert(function(){return fe},"There must be a DataShape");var ne=this.aggregator;ne.read(Je);var Ne=Je.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(Te,Ne):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(Te,Ne):c.fF.assert(function(){return!1},"Upsupported maxPrimaryDepth value"),ne.copyToColumns(),Te}},we.prototype.readRows=function(he,Te){var Je,ne,Oe=this.context,fe=this.getRowCellsCount(Te);for(Te.reset();Te.next();){var Ne=Te.id(),et=Oe.dataMemberIdToMetadata[Ne];if(et){var tt=et.kind,xe=Te.instances(),Ve=[];if(1===tt){var Le=Oe.dataMemberIdToIdentityBuilder[Ne];Le||(Le=Oe.dataMemberIdToIdentityBuilder[Ne]=new o(Oe,Ne));var at=et.axisGrouping,ft=xe.count();Je=new Array(ft);for(var ht=new Array(ft),Ge=0;xe.next();Ge++)1===xe.restartFlagKind()&&(ne=Ge),Le.reset(),Je[Ge]=this.readRow(xe,at,Ve,fe,Le,!1),ht[Ge]=Le.getIdentity();_.isEmpty(ht)||(he.identity=ht),he.identityFields=Le.getIdentityFields()}else if(2===tt){if(0===fe)continue;for(;xe.next();){c.fF.assert(function(){return null==he.totals},"Totals can only be assigned once.");var Re=this.readRow(xe,null,Ve,fe,null,!0),Xe=Re.length;for(Ge=0;Ge<Xe;Ge++)void 0===Re[Ge]&&(Re[Ge]=null);he.totals=Re}}else c.fF.assert(function(){return!1},"Unsupported DataMemberKind");he.rows=Je,void 0!==ne&&(he.lastMergeIndex=ne)}}},we.prototype.readRow=function(he,Te,Oe,Je,fe,ne){var tt,Ne=this.aggregator,et=new Array(Je),xe=0===Oe.length;xe&&Te&&(c.fF.assert(function(){return he.calcCount()>0},"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),tt=this.createCalcIdToGroupingIdentityIndexMap(Te),Oe.length=he.calcCount());for(var Ve=this.context,Le=Ve.aggregateCalcMetadata,at=0;he.nextCalc();at++){var ft=he.calcId();if(xe){var ht=tt&&tt[ft],Ge=Ve.calcInfo[ft],Re=Ge&&Ge.columnIndex;Ge&&(3===Ge.calcKind||6===Ge.calcKind||9===Ge.calcKind)&&(Re=null),Oe[at]={axisGroupingIndex:ht,columnIndex:Re,hasDuplicateColumnIndices:Ge&&Ge.hasDuplicateColumnIndices,isGroupKeyOnly:null!=ht&&null==Re,selectIndex:Ge&&Ge.selectIdx,aggregateMetadata:Le[ft]}}var Me=Oe[at];if(null!=Me.columnIndex){var He=he.calcValue();if(et[Me.columnIndex]=He,ne?v.A1.fillMetadataColumnAggregate(He,Me.aggregateMetadata):Ne.update(He,Me.selectIndex),Me.hasDuplicateColumnIndices)for(var ct=0,Mt=Ve.calcIdToColumnIndices[ft];ct<Mt.length;ct++){var It=Mt[ct];void 0===et[It]&&(et[It]=He)}}fe&&fe.addExpr(ft,he.calcValueAsExpr())}return et},we.prototype.readRowWithoutGrouping=function(he,Te){if(c.fF.assert(function(){return Te.count()<=1},"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),Te.next()){var Oe=Te.instances(),Je=[];if(c.fF.assert(function(){return Oe.count()<=1},"There must be maximum one DataMemberInstance since there is no grouping."),Oe.next()){for(var fe=[];Oe.nextCalc();){var ne=Oe.calcId(),Ne=this.context.calcInfo[ne];Ne&&3!==Ne.calcKind&&(fe[Ne.columnIndex]=Oe.calcValue())}Je.push(fe)}he.rows=Je}},we.prototype.getRowCellsCount=function(he){for(he.reset();he.next();){var Te=he.id(),Oe=this.context.dataMemberIdToMetadata[Te];if(Oe&&1===Oe.kind){var Je=he.instances();if(Je.next()){for(var fe=0;Je.nextCalc();){var ne=Je.calcId(),Ne=this.context.calcInfo[ne];Ne&&(1===Ne.calcKind||2===Ne.calcKind)&&(Ne.hasDuplicateColumnIndices?fe+=_.size(this.context.calcIdToColumnIndices[ne]):fe++)}return fe}}}return 0},we.prototype.createCalcIdToGroupingIdentityIndexMap=function(he){for(var Te={},Oe=he.Keys,Je=this.context.selects,fe=Oe.length,ne=0;ne<fe;ne++){var Ne=Oe[ne];Te[Ne.Calc||Je[Ne.Select].Value]=ne}return Te},we.prototype.isCompatible=function(){var he=this.context;return 0===he.maxSecondaryDepth&&he.maxPrimaryDepth<=1},we}(),T=function(){function we(he,Te){this.context=he,this.dsrParser=Te,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new e(he)}return we.prototype.run=function(){if(this.isCompatible()){var he={};return this.parseTree(he),{root:he}}},we.prototype.parseTree=function(he){var Te=this.dsrParser;Te.reset();var Oe=Te.dataShapes(),Je=Oe.next();c.fF.assert(function(){return Je},"There must be a DataShape");var fe=this.context.maxPrimaryDepth;this.aggregator.read(Oe,1===fe),0===fe?this.parseDataMembersWithNoGrouping(he,Oe.primaryHierarchy()):this.parseDataMembers(he,Oe.primaryHierarchy(),0),this.parseAggregates(he)},we.prototype.parseDataMembers=function(he,Te,Oe){for(;Te.next();){var Je=this.context,fe=Te.id(),ne=Je.dataMemberIdToMetadata[fe];if(ne){var Ne=Te.instances(),et=this.calcIndexToCalcMetadataDictionary[fe];switch(et||(this.calcIndexToCalcMetadataDictionary[fe]=et=[]),ne.kind){case 1:var tt=Je.dataMemberIdToIdentityBuilder[fe];tt||(tt=new o(Je,fe),Je.dataMemberIdToIdentityBuilder[fe]=tt);var xe=tt.getIdentityFields();xe&&(he.childIdentityFields=xe),this.parseInstances(he,Ne,et,tt,!1,Oe);break;case 2:this.parseInstances(he,Ne,et,null,!0,Oe);break;default:c.fF.assert(function(){return!1},"Unsupported DataMemberKind")}}}},we.prototype.parseInstances=function(he,Te,Oe,Je,fe,ne){var Ne=this.context,et=this.aggregator,tt=Ne.aggregateCalcMetadata,xe=he.children;for(fe||(c.fF.assertValue(Je,"identityBuilder"),!xe&&Te.count()>0&&(xe=he.children=new Array(Te.count())));Te.next();){var Ve=void 0,Le=void 0,at=void 0;fe||Je.reset();var ft=0===Oe.length;ft&&(Oe.length=Te.calcCount());for(var ht=function(ct){fe&&(Ve=he.values),Ve||(Ve={});var Mt=Te.calcId();ft&&(Oe[ct]=Ne.calcInfo[Mt]);var Bt=Oe[ct];if(!Bt)return"continue";var jt=Te.calcValue(),Kt=Bt.calcKind,Yt=Bt.kind,Zt=Bt.selectIdx;if(fe)c.fF.assert(function(){return Yt!==u.hk.Group},"subtotal cannot be of grouping kind."),Ge.addTreeNodeMeasureValues(Ve,Zt,Kt,jt),0===ne&&v.A1.fillMetadataColumnAggregate(jt,tt[Mt]);else{var or=Bt.isGroupKeyButNotSelect;or||Ge.addTreeNodeMeasureValues(Ve,Zt,Kt,jt),Yt===u.hk.Group?(or||(at=jt),Je.addExpr(Mt,Te.calcValueAsExpr())):Yt===u.hk.Measure&&1===Kt&&(Le=jt,c.fF.assertValue(Zt,"selectIndex"),et.update(jt,Zt))}},Ge=this,Re=0;Te.nextCalc();Re++)ht(Re);if(fe)he.values=Ve,1===Te.restartFlagKind()&&(he.isMerge=!0);else{var Xe={values:Ve,identity:Je.getIdentity()};void 0!==at&&(Xe.name=at),void 0!==Le&&(Xe.value=Le),1===Te.restartFlagKind()&&(Xe.isMerge=!0);var Me=Te.members();Me&&this.parseDataMembers(Xe,Me,ne+1),xe[Te.currentIndex()]=Xe}}},we.prototype.addTreeNodeMeasureValues=function(he,Te,Oe,Je){c.fF.assertValue(Te,"selectIndex");var fe=he[Te];switch(!fe&&this.isSupportedMeasureType(Oe)&&(fe=he[Te]={}),Oe){case 1:fe.value=Je;break;case 2:fe.subtotal=Je;break;case 3:fe.highlight=Je}},we.prototype.isSupportedMeasureType=function(he){return 1===he||2===he||3===he},we.prototype.parseDataMembersWithNoGrouping=function(he,Te){c.fF.assert(function(){return 1===Te.count()},"There can only be one datamember with no grouping"),Te.next();var Oe=Te.instances();c.fF.assert(function(){return 1===Oe.count()},"There can only be one instance for datamember with no grouping"),Oe.next();for(var Je,fe=this.context.calcInfo;Oe.nextCalc();){he.values||(he.values=Je={});var ne=fe[Oe.calcId()];if(ne){var Ne=ne.calcKind,et=Oe.calcValue();this.addTreeNodeMeasureValues(Je,ne.selectIdx,Ne,et),1===Ne&&(he.value=et)}}},we.prototype.isCompatible=function(){return 0===_.size(this.context.secondaryAxisGroupings)},we.prototype.parseAggregates=function(he){var Te=this.context;this.aggregator.copyToColumns();for(var Oe=Te.measureSelectIndices,Je=Oe.length,fe=0;fe<Je;fe++){var ne=Oe[fe],Ne=Te.selectIndexToColumn[ne].aggregates,et=he.values;if(Ne){et||(et=he.values={});var tt=et[ne];tt||(tt=et[ne]={}),v.A1.copyAggregates(Ne,tt)}}},we}(),R=r(848625),B=r(25026),A=r(338780);function I(we,he){for(var Te=[],Oe={},Je=0,fe=we;Je<fe.length;Je++){var ne=fe[Je],Ne={id:ne.Id,name:ne.Name,component:ne.Component,pageHidden:void 0,start:(0,A.Kk)(ne.Start).valueOf(),end:ne.End?(0,A.Kk)(ne.End).valueOf():void 0,metrics:ne.Metrics,status:1,rootId:he,parentId:ne.ParentId};ne.ParentId?(Oe[ne.ParentId]||(Oe[ne.ParentId]=[]),Oe[ne.ParentId].push(Ne)):Te.push(Ne)}return w(Te,Oe),Te}function w(we,he){for(var Te=0,Oe=we;Te<Oe.length;Te++){var Je=Oe[Te];he[Je.id]&&(Je.children=he[Je.id],w(Je.children,he))}}var F=r(288115),O=r(226514),L=r(283427),W=r(516469),U=r(63931);function z(we,he){if(we.metadata.dataReduction={},we.categorical){var Te=we.metadata.dataReduction.categorical={};he.Primary&&(Te.categories=G(he.Primary)),he.Secondary&&(Te.values=G(he.Secondary)),he.Intersection&&(Te.metadata=G(he.Intersection))}we.matrix&&(Te=we.metadata.dataReduction.matrix={},he.Primary&&(Te.rows=G(he.Primary)))}function G(we){switch(we.Type){case 3:return{binnedLineSample:{}};case 4:return{overlappingPointsSample:{}};default:return{}}}function Q(we,he){c.fF.assertValue(we,"node");var Te=we.values;Te||(Te=we.values={});var Oe=Te[he];return Oe||(Oe=Te[he]={}),Oe}function de(we,he,Te,Oe){c.fF.assertValue(we,"context"),c.fF.assertValue(Te,"dataShape"),c.fF.assertValue(Oe,"metadata"),c.fF.assert(function(){return we.includes(2)},"context.includes(StandardDataViewKinds.Matrix)");var Je=(0,s.BL)("DSR.matrix(".concat(we.perfId,")")),fe=[],ne=[],Ne=[];!function(we,he,Te,Oe,Je){c.fF.assertValue(Je,"metadataColumns");for(var fe=we.selects,ne=0,Ne=fe.length;ne<Ne;ne++){var et=fe[ne];if(et){var tt=se(we,Je,ne);if(et.Kind===u.hk.Measure)Oe.push(tt);else if(null!=et.Depth){var xe=he[et.Depth];null!=xe?xe.sources.push(tt):he[et.Depth]=Y([tt])}else if(null!=et.SecondaryDepth){var Ve=Te[et.SecondaryDepth];null!=Ve?Ve.sources.push(tt):Te[et.SecondaryDepth]=Y([tt])}et.DynamicFormat&&et.DynamicFormat.Format&&(c.fF.assertValue(tt.formatSource&&tt.formatSource.formatString,"metadataColumn.formatSource.formatString"),Oe.push(tt.formatSource.formatString))}}var Le=Oe.length;(Le>1||Le>0&&(0===he.length||0===Te.length))&&Te.push(Y(Oe))}(we,fe,ne,Ne,Oe.columns);var et=[],tt=function(we,he,Te,Oe,Je,fe){if(!Je.SecondaryHierarchy||0===Je.SecondaryHierarchy.length){var ne={};return je(ne,Te,0,!1),ne}var Ne;Oe&&Oe.Secondary&&(Ne=Oe.Secondary.Groupings);var et=Ae(we,he,Je.SecondaryHierarchy,Ne,function(tt,xe,Ve,Le,at){if(at<he.length)if(Le.isSubtotal){var ft=he.length-1,ht=he[ft].sources.length;ht>1&&je(Le,ht,ft,!0)}else c.fF.assert(function(){return at===he.length-1},"We only support one extra level in the column hierarchy (for measures)"),je(Le,he[at].sources.length,at,!1);fe.push(De(Le)),we.stats.secondary++});return et}(we,ne,Ne.length,he,Te,et),xe=function(we,he,Te,Oe,Je){if(Oe.PrimaryHierarchy&&0!==Oe.PrimaryHierarchy.length){var fe;Te&&Te.Primary&&(fe=Te.Primary.Groupings);var ne=0,Ne=0;Te&&(ne=We(Te.Primary),Ne=We(Te.Secondary));var et=_.filter(we.selects,function(xe){return xe&&xe.Kind===u.hk.Measure}),tt=Ae(we,he,Oe.PrimaryHierarchy,fe,function(xe,Ve,Le,at,ft){(function(we,he,Te,Oe,Je,fe,ne){c.fF.assertValue(Te,"instance"),c.fF.assertValue(Oe,"node"),c.fF.assertValue(Je,"intersectionToSecondaryAggIdx");var Ne=Te.Intersections,et={index:0};if(Ne)for(var tt=0,xe=Ne.length;tt<xe;tt++)Ne[tt].Calculations&&me(we,he,Ne[tt].Calculations,Oe,et,Je[tt],fe,ne);else me(we,he,Te.Calculations,Oe,et,0,fe,ne)})(Ve,et,Le,at,Je,ne,Ne),xe.stats.primary++});return tt}}(we,fe,he,Te,et),at={rows:{root:xe,levels:fe},columns:{root:tt,levels:ne},valueSources:Ne};return Je(),at}function Y(we){c.fF.assertValue(we,"metadataColumns");for(var he={sources:[]},Te=0,Oe=we.length;Te<Oe;Te++)he.sources.push(we[Te]);return he}function se(we,he,Te){c.fF.assertValue(he,"metadataColumns");for(var Oe=0,Je=he.length;Oe<Je;Oe++){var fe=he[Oe];if(fe&&fe.index===Te&&void 0===fe.groupName)return fe}return we.createColumns(he,Te)}function De(we){return c.fF.assertValue(we,"node"),we.isSubtotal?we.level:we.level+1}function We(we){return c.fF.assertAnyValue(we,"axis"),we&&we.Groupings?we.Groupings.length:0}function je(we,he,Te,Oe){we.children=[];for(var Je=0;Je<he;Je++){var fe={level:Te};Je>0&&(fe.levelSourceIndex=Je),we.children.push(fe),Oe&&(fe.isSubtotal=!0)}}function Ae(we,he,Te,Oe,Je){c.fF.assertValue(we,"context");var fe={};return _e(we,he,fe,Te,Oe,0,Je),fe}function _e(we,he,Te,Oe,Je,fe,ne){if(c.fF.assertValue(we,"context"),c.fF.assertValue(Te,"node"),c.fF.assertValue(fe,"depth"),Oe)for(var Ne=we.selects,et=function(we,he){c.fF.assertAnyValue(we,"levelSources"),c.fF.assertValue(he,"depth");var Te=[],Oe=we&&we[he]&&we[he].sources;if(!_.isEmpty(Oe))for(var Je=0,fe=Oe.length;Je<fe;Je++){var ne=Oe[Je];c.fF.assertValue(ne.index,"pre-condition: sourceMetadataColumn.index is defined"),Te[ne.index]=Je}return Te}(he,fe),tt=0,xe=Oe.length;tt<xe;tt++)for(var Ve=Oe[tt],Le=0,at=0,ft=Ve.Instances.length;at<ft;at++){var ht=Ve.Instances[at];if(0===Le&&4===(Le=ie(Ne,Je,fe,Ve,ht)))break;var Ge={level:fe};if(Te.children||(Te.children=[]),Te.children.push(Ge),1===Le){var Re=Z(Ne,ht.Calculations,et);if(!_.isEmpty(Re)){Ge.levelValues=Re;var Xe=_.last(Re);Ge.value=Xe.value,Xe.levelSourceIndex>0&&(Ge.levelSourceIndex=Xe.levelSourceIndex)}}else 3===Le&&(Ge.isSubtotal=!0);ht.RestartFlag&&1===ht.RestartFlag&&(Ge.isMerge=!0),Je&&1===Le&&(Te.childIdentityFields=we.readKeys(Je,fe),Ge.identity=we.readIdentity(Je,ht,fe));var Me=ht.Members;Me&&Me.length>0?_e(we,he,Ge,Me,Je,fe+1,ne):ne&&ne(we,Le,ht,Ge,fe+1)}}function Z(we,he,Te){c.fF.assertValue(we,"selects"),c.fF.assertValue(he,"calculations"),c.fF.assertNonEmpty(Te,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var Oe,Je=0,fe=we.length;Je<fe;Je++){var ne=we[Je];if(ne&&ne.Value&&ne.Kind===u.hk.Group){var Ne=v.A1.findAndParseCalculation(he,ne.Value);void 0!==Ne&&(Oe||(Oe=[]),Oe.push({levelSourceIndex:Te[Je],value:Ne}))}}return Oe}function ie(we,he,Te,Oe,Je){if(c.fF.assertValue(we,"selects"),c.fF.assertValue(Oe,"member"),he&&he.length>Te&&null!=Oe.Id){var fe=he[Te];if(Oe.Id===fe.Member)return 1;if(Oe.Id===fe.SubtotalMember)return 3}var ne=Je.Calculations;if(ne){for(var Ne=!1,et=0,tt=we.length;et<tt;et++){var xe=we[et];if(xe&&v.A1.findCalculation(ne,xe.Value)){if(xe.Kind===u.hk.Group)return 1;!Ne&&xe.Kind===u.hk.Measure&&(Ne=!0)}}if(Ne)return 2}return 4}function me(we,he,Te,Oe,Je,fe,ne,Ne){if(c.fF.assertValue(he,"selects"),c.fF.assertValue(Oe,"node"),Te)for(var et={index:0},tt=function(at,ft){var ht=he[at];c.fF.assert(function(){return ht.Kind===u.hk.Measure},"measureSelects is expected to have measure select bindings only");var Ge=ht.Highlight,Xe=Ge&&Ge.DynamicFormat&&Ge.DynamicFormat.Format;if(ye(we,Te,Oe,Je,et,fe,ne,Ne,0,ht.Value,Ge&&Ge.Value,ht.Subtotal),ht.DynamicFormat&&ht.DynamicFormat.Format){var Me=_.map(ht.SubtotalDynamicFormat,function(He){return He&&He.Format});ye(we,Te,Oe,Je,et,fe,ne,Ne,0,ht.DynamicFormat.Format,Xe,Me)}},xe=0,Ve=he.length;xe<Ve;xe++)tt(xe)}function ye(we,he,Te,Oe,Je,fe,ne,Ne,et,tt,xe,Ve){c.fF.assertValue(Je,"measureIndex");var Le=Q(Te,Oe.index),at=null;if(3!==we&&(at=v.A1.findAndParseCalculation(he,tt)),null==at){var ht=function(we,he,Te,Oe,Je,fe){if(he){var ne=v.A1.computeAggIdx(Te,Oe,Je,fe);if(ne<he.length)return v.A1.findAndParseCalculation(we,he[ne])}}(he,Ve,De(Te),fe,ne,Ne);void 0!==ht&&(at=ht)}xe&&(Le.highlight=v.A1.findAndParseCalculation(he,xe)),Le.value=at,Je.index>0&&(Le.valueSourceIndex=Je.index),Oe.index++,Je.index++}var ue=function(){function we(he){c.fF.assertValue(he,"context"),this._context=he}return we.prototype.read=function(he,Te,Oe){var Je=this;c.fF.assertValue(Te,"dataShape");var fe={metadata:{columns:[]}};return Oe.script=(0,s.zb)(function(){if(Te.PrimaryHierarchy&&Te.PrimaryHierarchy.length>0){var ne=Te.PrimaryHierarchy[0];if(ne&&ne.Instances.length>0){var xe=v.A1.findCalculation(ne.Instances[0].Calculations,Je._context.scriptVisualBinding.PayloadCalculationId||Je._context.scriptVisualBinding.ImageCalculationId);if(xe){var Le=(0,W.K0)(xe.Value);Le&&(fe.scriptResult={payloadBase64:Le})}}}}),fe},we}(),Se=function(){function we(he){c.fF.assertValue(he,"context"),this.context=he}return we.prototype.read=function(he,Te,Oe){var Je=this;c.fF.assertValue(Te,"dataShape");var fe=this.context,ne=this.readMetadata(Te.IsComplete),Ne={metadata:ne},et=fe.includes(16),tt=fe.includes(1),xe=fe.includes(4),Ve=fe.includes(8);if(et||tt||xe||Ve){var Le,at=(0,s.zb)(function(){Le=Je.parseTree(ne.columns,he,Te),c.fF.assertValue(Le,"root")});et&&(Oe.tree=at+(0,s.zb)(function(){var ft=Je.createTree(ne,Le);ft&&(Ne.tree=ft)})),tt&&(Oe.categorical=at+(0,s.zb)(function(){var ft=Je.categorize(ne,Le);ft&&(Ne.categorical=ft)})),xe&&(Oe.single=at+(0,s.zb)(function(){var ft=Je.createSingleValue(ne,Le);ft&&(Ne.single=ft)})),Ve&&(Oe.table=at+(0,s.zb)(function(){var ft=Je.createTable(ne,Le);ft&&(Ne.table=ft)}))}return fe.includes(2)&&(Oe.matrix=(0,s.zb)(function(){var ft=de(Je.context,he,Te,Ne.metadata);ft&&(Ne.matrix=ft)})),Ne},we.prototype.readMetadata=function(he){for(var Te={columns:[]},Oe=this.context,Je=Oe.selects,fe=0,ne=Je.length;fe<ne;fe++)Je[fe]?Oe.createColumns(Te.columns,fe):Oe.actionHistory|=1;return he||(Te.segment={}),Te},we.prototype.parseTree=function(he,Te,Oe){var Je=(0,s.BL)("DSR.tree(".concat(this.context.perfId,")")),fe={},ne=this.context.selects;this.parseRootAggregates(he,fe);var Ne=v.A1.getTopLevelPrimaryDynamicMember(Oe,Te,!0);if(Ne){var et=Oe.PrimaryHierarchy[0];Ne!==et&&this.parseValues(ne,fe,we.getFirstInstanceCalcs(et));var tt=void 0;Te&&Te.Primary&&(tt=Te.Primary.Groupings),this.parseRecursive(fe,Ne,tt,0,he)}else _.isEmpty(Oe.PrimaryHierarchy)||this.parseValues(ne,fe,we.getFirstInstanceCalcs(Oe.PrimaryHierarchy[0]));return Je(),fe},we.prototype.parseRecursive=function(he,Te,Oe,Je,fe){c.fF.assertValue(he,"node"),c.fF.assertValue(Te,"dynamicMember"),c.fF.assertValue(Je,"depth"),c.fF.assertAnyValue(fe,"columns");var tt,ne=this.context,Ne=Te.Instances,et=Ne.length;et&&(he.children=[],0===Je&&(tt=it.create(he,ne))),Oe&&(he.childIdentityFields=ne.readKeys(Oe,Je));for(var xe=0;xe<et;xe++){var Ve=Ne[xe],Le={};he.children.push(Le),Ve.RestartFlag&&1===Ve.RestartFlag&&(Le.isMerge=!0),this.parseValues(ne.selects,Le,Ve.Calculations,tt),Oe&&(Le.identity=ne.readIdentity(Oe,Ve,Je));var at=Ve.Members;if(this.parseAggregates(ne.selects,Le,Ve.Calculations,at,Je+1),!_.isEmpty(at)){var ft=v.A1.getDynamicMember(at,Oe,Je+1);ft&&this.parseRecursive(Le,ft,Oe,Je+1)}}tt&&tt.complete(fe)},we.getFirstInstanceCalcs=function(he){c.fF.assertValue(he,"member");var Te=he.Instances;return Te.length>0?Te[0].Calculations:null},we.prototype.parseRootAggregates=function(he,Te){c.fF.assertValue(he,"columns"),c.fF.assertValue(Te,"node");for(var Oe=0,Je=he.length;Oe<Je;Oe++){var ne=he[Oe].aggregates;ne&&v.A1.copyAggregates(ne,Q(Te,Oe))}},we.prototype.parseAggregates=function(he,Te,Oe,Je,fe){c.fF.assertValue(he,"selects"),c.fF.assertValue(Te,"node"),c.fF.assertAnyValue(Oe,"calculations"),c.fF.assertAnyValue(Je,"allMembers");for(var ne=0,Ne=he.length;ne<Ne;ne++){var et=he[ne];if(et){var tt=qe(et,Oe,Je,fe);tt&&v.A1.copyAggregates(tt,Q(Te,this.context.selectIndexToColumnIndexMap[ne]))}}},we.prototype.parseValues=function(he,Te,Oe,Je){if(c.fF.assertValue(he,"selects"),c.fF.assertValue(Te,"node"),c.fF.assertAnyValue(Oe,"calculations"),!_.isEmpty(Oe))for(var fe=0,ne=0,Ne=he.length;fe<Ne;fe++){var et=he[fe];if(et){if(et.Value&&void 0!==(tt=v.A1.findAndParseCalculation(Oe,et.Value))&&(et.Kind===u.hk.Group?Te.name=tt:(Te.value=tt,Je&&Je.add(ne,tt)),Q(Te,ne).value=tt),et.Highlight){var xe=v.A1.findAndParseCalculation(Oe,et.Highlight.Value);void 0!==xe&&(Q(Te,ne).highlight=xe)}if(ne++,et.DynamicFormat&&et.DynamicFormat.Format){var tt=v.A1.findAndParseCalculation(Oe,et.DynamicFormat.Format);Q(Te,ne).value=tt,ne++}}}},we.prototype.categorize=function(he,Te){if(c.fF.assertValue(he,"metadata"),!this.canCategorize())return null;for(var fe,Oe=(0,s.BL)("DSR.categorical(".concat(this.context.perfId,")")),Je={},ne=0,Ne=he.columns.length;ne<Ne;ne++){var et=he.columns[ne];if(void 0!==et.index){if(!et.isMeasure){fe||(fe=[]),fe.push({columnIndex:ne,metadataColumn:et});continue}var tt={source:et,values:[]},xe=et.aggregates;xe&&v.A1.copyAggregates(xe,tt),Je.values||(Je.values=(0,m.Yv)()),Je.values.push(tt)}}if(fe){Je.categories=[];for(var Ve=void 0,Le=0,at=fe.length;Le<at;Le++){var ft=fe[Le],ht=Te.children,Ge={source:ft.metadataColumn,values:[]};if(ht)for(var Re=0,Xe=ht.length;Re<Xe;Re++){var Me=ht[Re];Ge.values.push(Me.values[ft.columnIndex].value),0===Le&&(this.writeCategoricalValues(he,Me,Je.values),Me.identity&&(Ve||(Ve=[]),Ve.push(Me.identity))),Me.isMerge&&(Je.lastMergeIndex=Re)}Ve&&(Ge.identity=Ve),Te.childIdentityFields&&(Ge.identityFields=Te.childIdentityFields),Je.categories.push(Ge)}}else this.writeCategoricalValues(he,Te,Je.values);return Oe(),Je},we.prototype.canCategorize=function(){for(var Te=this.context.selects,Oe=0,Je=Te.length;Oe<Je;Oe++){var fe=Te[Oe];if(fe&&fe.Depth>0)return!1}return!0},we.prototype.createTree=function(he,Te){var Oe=this.context;if(!(2&Oe.actionHistory||1&Oe.actionHistory))return{root:Te};var Je=(0,d.ED)(Te),fe=he.columns,ne=Te.values;if(ne){for(var Ne={},et=0;et<fe.length;et++){var tt=fe[et];void 0!==tt.index&&void 0!==ne[et]&&(Ne[tt.index]=ne[et])}Je.values=Ne}var xe=Te.children;return xe&&(Je.children=this.removeFormatSourceFromTreeChildren(fe,xe)),{root:Je}},we.prototype.removeFormatSourceFromTreeChildren=function(he,Te){for(var Oe=Te.length,Je=_.map(Te,function(Ve){return Ve}),fe=0;fe<Oe;fe++){var ne=(0,d.ED)(Je[fe]);Je[fe]=ne;for(var Ne={},et=0;et<he.length;et++){var tt=he[et];void 0!==tt.index&&void 0!==Je[fe].values[et]&&(Ne[tt.index]=Je[fe].values[et])}Je[fe].values=Ne;var xe=Je[fe].children;xe&&(Je[fe].children=this.removeFormatSourceFromTreeChildren(he,xe))}return Je},we.prototype.createTable=function(he,Te){c.fF.assertValue(he,"metadata");for(var Oe,Je=this.context.selects,fe=0,ne=Je.length;fe<ne;fe++)if(Je[fe]){var et=Je[fe].Depth;et>=0&&(Oe=Math.max(et,Oe||0))}if(Oe>0)return null;var xe,at,tt=(0,s.BL)("DSR.table(".concat(this.context.perfId,")")),Ve=[],Le=he.columns.length;if(Oe>=0){var ft=Te.children;if(ft){fe=0;for(var ht=ft.length;fe<ht;fe++){var Ge=ft[fe];this.toTableRow(Ge,Le,Ve),Ge.isMerge&&(xe=fe),Ge.identity&&(at||(at=[]),at.push(Ge.identity))}}}else c.fF.assert(function(){return 0===(0,L.Hy)(he.columns)},"groups.length=0"),this.toTableRow(Te,Le,Ve);var Re=this.toTotals(Te,Le),Xe={rows:Ve,columns:he.columns};return at&&(Xe.identity=at),Te.childIdentityFields&&(Xe.identityFields=Te.childIdentityFields),Re&&(Xe.totals=Re),xe>=0&&(Xe.lastMergeIndex=xe),tt(),Xe},we.prototype.toTableRow=function(he,Te,Oe){for(var Je=[],fe=0;fe<Te;fe++){var ne=he.values[fe];ne&&Je.push(ne.value)}Oe.push(Je)},we.prototype.toTotals=function(he,Te){var Oe=[],Je=he.values,fe=!1;if(Je)for(var ne=0;ne<Te;ne++){var Ne=Je[ne],et=Ne?Ne.subtotal:null;fe=fe||null!=et,Oe.push(et)}return fe?Oe:null},we.prototype.writeCategoricalValues=function(he,Te,Oe){for(var Je=he.columns,fe=0,ne=0,Ne=Je.length;ne<Ne;ne++){var et=Je[ne];if(et.isMeasure&&void 0!==et.index){var tt=Te.values[ne];if(tt){var xe=Oe[fe++];xe.values.push(tt.value),void 0!==tt.highlight&&(xe.highlights||(xe.highlights=[]),xe.highlights.push(tt.highlight))}}}},we.prototype.createSingleValue=function(he,Te){if(c.fF.assertValue(he,"metadata"),c.fF.assertValue(Te,"root"),Te.values){for(var Oe=he.columns,Je=null,fe=void 0,ne=0,Ne=Oe.length;ne<Ne;ne++)if(Oe[ne].isMeasure&&null!=Oe[ne].index){if(Je)return null;Je=Oe[ne],fe=ne}if(!Je)return null;var et=Te.values[fe];if(!et)return null;var tt=0===(0,L.Hy)(he.columns)?et.value:et.subtotal;return void 0===tt?null:{column:Je,value:tt}}return null},we}(),Be=function(){function we(he){c.fF.assertValue(he,"context"),this._context=he,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}return we.prototype.read=function(he,Te,Oe){var Je=this;c.fF.assertValue(Te,"dataShape");var fe=this._context,ne={metadata:this.readMetadata(Te.IsComplete)};return fe.includes(1)&&(Oe.categorical=(0,s.zb)(function(){var Ne=Je.categorize(Te,ne.metadata,he);Ne&&(ne.categorical=Ne)})),fe.includes(2)&&(Oe.matrix=(0,s.zb)(function(){var Ne=de(Je._context,he,Te,ne.metadata);Ne&&(ne.matrix=Ne)})),ne},we.prototype.readMetadata=function(he){for(var Te={columns:[]},Oe=this._context,Je=Oe.selects,fe=function(xe,Ve){var Le=Je[xe];if(!Le)return"continue";if(Le.Kind===u.hk.Measure)return 0===Le.Depth?ne._primaryMeasureSelects.push(Le):ne._measureSelects.push(Le),"continue";c.fF.assert(function(){return Le.Kind===u.hk.Group},"Unexpected Select.Kind");var at=Oe.createColumns(Te.columns,xe);Le.SecondaryDepth>=0?(ne._secondarySelects.push(Le),ne._secondaryDepth=Math.max(ne._secondaryDepth||0,Le.SecondaryDepth),ne._seriesColumn=at):0===Le.Depth&&ne._categoriesMetadata.push({select:Le,column:at})},ne=this,Ne=0,et=Je.length;Ne<et;Ne++)fe(Ne);return he||(Te.segment={}),Te},we.prototype.categorize=function(he,Te,Oe){if(c.fF.assertValue(he,"dataShape"),c.fF.assertValue(Te,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var fe,ne,Je=(0,s.BL)("DSR.categorical(".concat(this._context.perfId,", secondary)"));Oe&&(Oe.Primary&&(fe=Oe.Primary.Groupings),Oe.Secondary&&(ne=Oe.Secondary.Groupings));var Ne=v.A1.getTopLevelSecondaryDynamicMember(he,Oe),et=this.readColumnsFromSecondary(Ne,Te,ne,he.Calculations),tt=v.A1.getTopLevelPrimaryDynamicMember(he,Oe),xe=this.readCategoriesAndValues(tt,Te,et,fe),Ve={categories:xe.categories,values:et};return void 0!==xe.lastMergeIndex&&(Ve.lastMergeIndex=xe.lastMergeIndex),Je(),Ve},we.prototype.readColumnsFromSecondary=function(he,Te,Oe,Je){c.fF.assertValue(he,"secondaryMember"),c.fF.assertValue(Te,"metadata");var fe,ne=this._context;Oe&&(fe=ne.readKeys(Oe,0));var Ne=[],et=ne.selects,tt=this._measureSelects.length,xe=[],Ve=he.Instances,Le=Ve.length;if(Le)for(var at=0;at<Le;at++){var ft=Ve[at],ht=ft.Calculations,Ge=void 0;Oe&&(Ge=ne.readIdentity(Oe,ft,0));for(var Re=0,Xe=this._secondarySelects.length;Re<Xe;Re++){for(var He=v.A1.findAndParseCalculation(ht,this._secondarySelects[Re].Value),ct=[],Mt=0;Mt<tt;Mt++){var Bt=et.indexOf(It=this._measureSelects[Mt]),jt=ne.createColumns(Te.columns,Bt,!0);void 0!==He&&(jt.groupName=He);var Kt={source:jt,values:[]};Ge&&(Kt.identity=Ge),this.addColumnAggregates(Je,It,Kt),Ne.push(Kt),ct.push(Kt)}xe.push({identity:Ge,name:He,values:ct})}}else{for(Mt=0;Mt<tt;Mt++){var It;Bt=et.indexOf(It=this._measureSelects[Mt]),jt=ne.createColumns(Te.columns,Bt),this.addColumnAggregates(Je,It,Kt={source:jt,values:[]}),Ne.push(Kt)}xe.push({values:(0,O.__spreadArray)([],Ne||[],!0)})}Mt=0;for(var Yt=this._primaryMeasureSelects.length;Mt<Yt;Mt++)Bt=et.indexOf(this._primaryMeasureSelects[Mt]),jt=ne.createColumns(Te.columns,Bt),Ne.push(Kt={source:jt,values:[]});fe&&(Ne.identityFields=fe);var or=this._seriesColumn;return or&&(Ne.source=or),Ne.grouped=function(){return xe},Ne},we.prototype.addColumnAggregates=function(he,Te,Oe){he&&(Te.Max&&(Oe.max=v.A1.findAndParseCalculation(he,Te.Max[0])),Te.Min&&(Oe.min=v.A1.findAndParseCalculation(he,Te.Min[0])))},we.prototype.readCategoriesAndValues=function(he,Te,Oe,Je){c.fF.assertValue(he,"primaryMember"),c.fF.assertValue(Oe,"values");for(var et,fe=[],ne=this._categoriesMetadata,Ne=ne.length,tt=this._context,xe=0;xe<Ne;xe++)fe.push(Ve={source:ne[xe].column,values:[]}),Je&&(et||(et=[]),Ve.identity=et,Ve.identityFields=tt.readKeys(Je,0));for(var ft,Le=he.Instances,at=this._primaryMeasureSelects,ht=(xe=0,Le.length);xe<ht;xe++){var Ge=Le[xe];1===Ge.RestartFlag&&(ft=xe);for(var Re=0;Re<Ne;Re++){var Ve;(Ve=fe[Re]).values.push(v.A1.findAndParseCalculation(Ge.Calculations,ne[Re].select.Value))}et&&et.push(tt.readIdentity(Je,Ge,0));for(var Xe=Ge.Intersections,Me=0,He=0,ct=Xe.length;He<ct;He++)for(var Mt=Xe[He].Calculations,It=0,Bt=this._measureSelects.length;It<Bt;It++)if(void 0!==(Kt=v.A1.findAndParseCalculation(Mt,(jt=this._measureSelects[It]).Value))&&((Yt=Oe[Me++]).values.push(Kt),jt.Highlight)){Yt.highlights||(Yt.highlights=[]);var Zt=v.A1.findAndParseCalculation(Mt,jt.Highlight.Value);Yt.highlights.push(Zt)}for(He=0,ct=at.length;He<ct;He++){var jt,Yt,Kt=v.A1.findAndParseCalculation(Mt=Ge.Calculations,(jt=at[He]).Value);if((Yt=Oe[Me++]).values.push(Kt),jt.Highlight){Yt.highlights||(Yt.highlights=[]);var or=v.A1.findAndParseCalculation(Mt,jt.Highlight.Value);Yt.highlights.push(or)}}}return{categories:fe,lastMergeIndex:ft}},we}(),Ke=function(){function we(he,Te,Oe,Je){c.fF.assertValue(he,"targets"),c.fF.assert(function(){return null!=Te.Select||null!=Te.ScriptVisualBinding},"descriptor"),c.fF.assertAnyValue(Oe,"perfId"),c.fF.assertValue(Je,"aggregateReader"),this.targets=he,this.selects=Te.Select,this.scriptVisualBinding=Te.ScriptVisualBinding,this.perfId=Oe||"",this.stats={id:Oe||void 0,primary:0,secondary:0},this.aggregateReader=Je,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}return we.prototype.createColumns=function(he,Te,Oe){var fe=this.columnMetadata(Te,he.length,Oe);he.push(fe);var Ne=this.tryCreatingDynamicFormatColumnMetadata(Te,he.length,fe);return Ne&&he.push(Ne),fe},we.prototype.columnMetadata=function(he,Te,Oe){c.fF.assertValue(he,"selectIndex"),c.fF.assertAnyValue(Oe,"suppressAggregates");var Je=this.selects[he];c.fF.assertValue(Je,"select");var fe={displayName:"",index:he};if(Je.Format&&(fe.format=Je.Format),fe.type=v.A1.describeDataType(Je.Type,Je.DataCategory),Je.Kind===u.hk.Measure&&(fe.isMeasure=!0),!Oe){var ne=this.aggregateReader.compute(Je,Te);ne&&(fe.aggregates=ne)}var Ne=Je.GroupKeys;if(Ne)for(var et=fe.identityExprs=[],tt=0,xe=Ne;tt<xe.length;tt++){var Le=this.convertKey(xe[tt]);et.push(Le)}return this.selectIndexToColumnIndexMap[he]=Te,fe},we.prototype.tryCreatingDynamicFormatColumnMetadata=function(he,Te,Oe,Je){var fe=this.selects[he];if(fe.DynamicFormat&&fe.DynamicFormat.Format){var ne={displayName:"",isMeasure:!0};Oe.formatSource={formatString:ne};var Ne={Kind:u.hk.Measure,Subtotal:_.map(fe.SubtotalDynamicFormat,function(tt){return tt&&tt.Format})};if(!Je){var et=this.aggregateReader.compute(Ne,Te);et&&(ne.aggregates=et)}return this.actionHistory|=2,ne}},we.prototype.readIdentity=function(he,Te,Oe){c.fF.assertValue(he,"axisGroupings"),c.fF.assertValue(Oe,"depth");for(var fe,Je=this.readKeys(he,Oe),ne=he[Oe].Keys,Ne=0,et=ne.length;Ne<et;Ne++){var tt=ne[Ne],Ve=v.A1.findAndParseCalculationToSQExpr(Te.Calculations,tt.Calc||this.selects[tt.Select].Value),Le=(0,n.Dg)(Je[Ne],Ve);fe=(0,n.xD)(fe,Le)}return(0,h.TZ)(fe)},we.prototype.readKeys=function(he,Te){c.fF.assertValue(he,"axisGroupings"),c.fF.assertValue(Te,"depth");var Oe=this.getAxisCache(he),Je=Oe.exprs[Te];if(void 0===Je){Je=Oe.exprs[Te]=[];for(var fe=he[Te].Keys,ne=0,Ne=fe.length;ne<Ne;ne++)Je.push(this.convertKey(fe[ne]))}return Je},we.prototype.includes=function(he){return c.fF.assertValue(he,"kind"),(0,b.yE)(this.targets,he)},we.prototype.getAxisCache=function(he){c.fF.assertValue(he,"axisGroupings");for(var Te=this.cacheItems,Oe=0,Je=Te.length;Oe<Je;Oe++){var fe=Te[Oe];if(fe.axisGroupings===he)return fe}var ne={axisGroupings:he,exprs:[]};return Te.push(ne),ne},we.prototype.convertKey=function(he){c.fF.assertValue(he,"key");var Te=he.Source;return(0,n.Oh)((0,n.nw)((0,u._H)(Te),Te.Entity||Te.EntitySet),Te.Property)},we}(),Ze=function(){function we(he,Te){c.fF.assert(function(){return null!=he.Select||null!=he.ScriptVisualBinding},"descriptor"),c.fF.assertValue(Te,"dataShape"),this.dataShape=Te}return we.prototype.compute=function(he,Te,Oe){c.fF.assertValue(Te,"columnIndex");var Je=this.cache;if(Je){var fe=Je[Te];if(fe)return fe}if(he){Je||(this.cache=Je={});var ne=this.dataShape,Ne=qe(he,ne.Calculations,ne.PrimaryHierarchy,0);return Oe&&!Ne&&(Ne={}),Je[Te]=Ne,Ne}},we.prototype.updateAggregates=function(he,Te,Oe,Je){c.fF.assertValue(he,"select"),c.fF.assertValue(Te,"columnIndex"),c.fF.assertValue(Oe,"name"),c.fF.assertAnyValue(Je,"value");var fe=this.compute(he,Te,!0);if(fe)return fe[Oe]=Je,fe},we}();function qe(we,he,Te,Oe){c.fF.assertValue(we,"select"),c.fF.assertAnyValue(he,"calculations"),c.fF.assertAnyValue(Te,"allMembers"),c.fF.assertValue(Oe,"depth");var Je=!_.isEmpty(Te)&&Se.getFirstInstanceCalcs(Te[0]);if(!_.isEmpty(he)||!_.isEmpty(Je)){var fe;if(!_.isEmpty(Je)&&we.Subtotal&&(ne=we.Subtotal[Oe])&&void 0!==(Ne=v.A1.findAndParseCalculation(Je,ne))&&(fe||(fe={}),fe.subtotal=Ne),!_.isEmpty(he)){we.Max&&(ne=we.Max[Oe])&&void 0!==(Ne=v.A1.findAndParseCalculation(he,ne))&&(fe||(fe={}),fe.max=Ne),we.Min&&(ne=we.Min[Oe])&&void 0!==(Ne=v.A1.findAndParseCalculation(he,ne))&&(fe||(fe={}),fe.min=Ne),we.Count&&(ne=we.Count[Oe])&&void 0!==(Ne=v.A1.findAndParseCalculation(he,ne))&&(fe||(fe={}),fe.count=Ne);var et=we.Aggregates;if(et)for(var tt=0,xe=et;tt<xe.length;tt++){var ne,Ne,Ve=xe[tt],Le=Ve.Aggregate;if((ne=Ve.Ids[Oe])&&void 0!==(Ne=v.A1.findAndParseCalculation(he,ne))){var at=Le.Percentile;if(at){var ft={k:at.K,value:Ne};at.Exclusive&&(ft.exclusive=at.Exclusive),fe||(fe={});var ht=fe.percentiles;ht||(ht=fe.percentiles=[]),ht.push(ft)}else Le.Average?(fe||(fe={}),fe.average=Ne):Le.Median&&(fe||(fe={}),fe.median=Ne)}}0===Oe&&(ne=we.Value)&&void 0!==(Ne=v.A1.findAndParseCalculation(he,ne))&&(fe||(fe={}),fe.single=Ne)}return fe}}var it=function(){function we(he,Te,Oe,Je){c.fF.assertValue(he,"node"),c.fF.assertValue(Te,"aggregateReader"),c.fF.assertValue(Je,"aggregators"),this.node=he,this.aggregateReader=Te,this.selects=Oe,this.aggregators=Je}return we.create=function(he,Te){for(var Oe=he.values,Je=Te.selects,fe=!1,ne={},Ne=0,et=0,tt=Je.length;Ne<tt;Ne++){var xe=Je[Ne];if(xe){if(xe.Kind!==u.hk.Measure){et++;continue}var Le=void 0,at=void 0;if(Oe&&(at=Oe[et])){if(Le=[],void 0===at.min&&Le.push(new v.nc),void 0===at.max&&Le.push(new v._8),0===Le.length){et++;continue}}else Le=[new v.nc,new v._8];ne[et]=Le,fe=!0,et++,xe.DynamicFormat&&xe.DynamicFormat.Format&&et++}}if(fe)return new we(he,Te.aggregateReader,Te.selects,ne)},we.prototype.add=function(he,Te){var Oe=this.aggregators[he];if(Oe)for(var Je=0,fe=Oe.length;Je<fe;Je++)Oe[Je].update(Te)},we.prototype.complete=function(he){c.fF.assertValue(he,"columns");for(var Te=this.aggregators,Oe=this.node,Je=this.aggregateReader,fe=0,ne=0,Ne=this.selects.length;fe<Ne;fe++){var et=this.selects[fe];if(et){var tt=Te[ne];if(!tt){ne++;continue}for(var xe=0,Ve=tt.length;xe<Ve;xe++){var Le=tt[xe],at=Le.value();if(void 0!==at){var ft=Le.name;Q(Oe,ne)[ft]=at,he[ne].aggregates=Je.updateAggregates(et,ne,ft,at)}}ne++,et&&et.DynamicFormat&&et.DynamicFormat.Format&&ne++}}},we}();function be(we){if(c.fF.assertAnyValue(we,"dsr"),2===we.Version)return!0}function Fe(we){return c.fF.assertAnyValue(we,"dsr"),we.MinorVersion}function ee(we,he,Te,Oe,Je,fe){if(c.fF.assertValue(he,"arg"),!he)return null;var ne;he.data&&(he=he.data),fe&&fe.isRunning()&&(ne=fe.createChildActivity({name:"Parse Query Result"}));var Ne={},et=he,tt=(0,i.z)();_.isString(he)&&(Ne.dsrLength=he.length,Ne.jsonParse=(0,s.zb)(function(){et=JSON.parse(he)}),ne&&ne.setProperty("metrics",{jsonParse:Ne.jsonParse}));var xe=function(we,he,Te,Oe,Je,fe,ne,Ne,et,tt,xe,Ve,Le,at,ft){if(!Te)return null;var ht,Ge;if(Ne||(Ne={}),4&we&&(we|=8),be(Te)){if(Ge="dsr2-read",performance&&performance.mark&&performance.mark(Ge+"-start"),Ne.mode="V2",1!==_.size(Te.DS))return null;var Re=(0,f.Ei)(he),Xe=(0,F.KI)(Te,Re);ht=function(we,he,Te,Oe,Je){var fe={columns:we.createDataViewMetadataColumns()},ne={dataView:{metadata:fe}};if(function(we,he){we.reset();var Te=we.dataShapes();c.fF.assert(function(){return 1===Te.count()},"DSR has multiple DataShapes"),Te.next(),Te.complete()||(he.dataView.metadata.segment={},he.restartToken=Te.restartTokens())}(he,ne),we.includes(2)){var Ne,et=(0,s.zb)(function(){Ne=function(we,he,Te,Oe){return new y(we,he,Te,Oe).run()}(we,he,fe,Je),Ne&&(ne.dataView.matrix=Ne,he.lockCache())});Ne&&(Te.matrix=et)}if(we.includes(1)){var tt,xe=(0,s.zb)(function(){tt=function(we,he,Te,Oe){if(l.isCompatible(we))return(new l).run(we,he,Te)}(we,he,fe),tt&&(ne.dataView.categorical=tt,he.lockCache())});tt&&(Te.categorical=xe)}if(we.includes(8)){var Ve,Le=(0,s.zb)(function(){Ve=function(we,he,Te){return new P(we,he,Te).run()}(we,he,fe),Ve&&(ne.dataView.table=Ve,he.lockCache())});Ve&&(Te.table=Le)}if(we.includes(16)){var at,ft=(0,s.zb)(function(){at=function(we,he){return new T(we,he).run()}(we,he),at&&(ne.dataView.tree=at,he.lockCache())});at&&(Te.tree=ft)}if(we.includes(4)){var ht,Ge=(0,s.zb)(function(){ht=function(we,he){if(E.isCompatible(we))return new E(we,he).run()}(we,he),ht&&(ne.dataView.single=ht)});ht&&(Te.single=Ge)}return ne}(new g(we,he,Re,at,Xe.dataShapes()),Xe,Ne,0,at),Xe.reset();var He=Xe.dataShapes(),ct=He.next();if(c.fF.assert(function(){return ct},"There must be a DataShape"),He.limitsExceeded()){ht.warnings||(ht.warnings=[]);var Mt=new R.x(he,function(we){for(var he=we.limits(),Te=he.count(),Oe=new Array(Te),Je=0;Je<Te;Je++)he.next(),Oe[Je]={Id:he.id()};return Oe}(He),function(we){for(var he=new Array(we.calcCount()),Te=0;we.nextCalc();Te++)he[Te]={Id:we.calcId(),Value:we.calcValue()};return he}(He));ht.warnings.push(Mt),z(ht.dataView,Mt.limits)}(function(we,he){var Te=we.messages();if(Te)for(;Te.next();)B.py[Te.code()]&&Te.severity()===(0,B.sK)(0)&&(he.warnings||(he.warnings=[]),he.warnings.push(Te.dsrMessage()))})(He,ht),ht.dataView&&!_.isEmpty(fe)&&((0,p.dj)(ht.dataView,fe),ht.disallowPersisting=!0)}else Ge="dsr1-read",performance&&performance.mark&&performance.mark(Ge+"-start"),Ne.mode="V1Old",ht=function(we,he,Te,Oe,Je,fe,ne){if(c.fF.assertValue(we,"targets"),c.fF.assertAnyValue(he,"descriptor"),c.fF.assertValue(Te,"dsr"),c.fF.assertAnyValue(fe,"clientSideFilters"),!function(we){return we&&1===_.size(we.DataShapes)}(Te))return null;var Ne=Te.DataShapes[0];if(Ne["odata.error"]){var tt=new U.Ow(Ne["odata.error"]);return Je&&(tt.requestId=Je),{error:tt}}var Ve=new Ke(we,he,ne,new Ze(he,Ne)),Le=function(we){if(c.fF.assertValue(we,"context"),null!=we.scriptVisualBinding)return new ue(we);for(var he=0,Te=0,Oe=we.selects,Je=0,fe=Oe.length;Je<fe;Je++){var ne=Oe[Je];ne&&(null!=ne.Depth&&(he=Math.max(he,ne.Depth+1)),null!=ne.SecondaryDepth&&(Te=Math.max(Te,ne.SecondaryDepth+1)))}return Te>=1&&1===he?new Be(we):new Se(we)}(Ve).read(he.Expressions,Ne,Oe),at={dataView:Le};if(Ne.RestartTokens&&(at.restartToken=Ne.RestartTokens),Ne.DataLimitsExceeded&&Ne.DataLimitsExceeded.length>0){at.warnings||(at.warnings=[]);var ft=new R.x(he,Ne.DataLimitsExceeded,Ne.Calculations);at.warnings.push(ft),z(Le,ft.limits)}if(Ne.DataShapeMessages&&Ne.DataShapeMessages.length>0)for(var ht=0,Ge=Ne.DataShapeMessages;ht<Ge.length;ht++){var Re=Ge[ht];B.py[Re.Code]&&Re.Severity===(0,B.sK)(0)&&(at.warnings||(at.warnings=[]),at.warnings.push(new B.lp(Re)))}return at.dataView&&!_.isEmpty(fe)&&((0,p.dj)(at.dataView,fe),at.disallowPersisting=!0),c.fF.log("DSR.stats",Ve.stats),at}(we,he,Te,Ne,Je,fe,ne);return ht&&(ht.timestamp=xe,ht.fromCache=Ve,Le&&!ht.fromCache&&(ht.performanceActivities=I(Le.Events,ft&&ft.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(Ge+"-end"),performance.measure&&performance.measure(Ge,Ge+"-start",Ge+"-end")),Ne.total=(0,i.z)()-tt,et&&et.logEvent(V.h1,{jsonparse:Ne.jsonParse,categorical:Ne.categorical,table:Ne.table,tree:Ne.tree,matrix:Ne.matrix,single:Ne.single,script:Ne.script,total:Ne.total,mode:Ne.mode,targetDataView:we,dsrLength:Ne.dsrLength,id:ne}),ht}(we,et.descriptor,et.dsr,0,et.requestId,et.clientSideFilters,Je,Ne,Oe,tt,et.timestamp,et.fromCache,et.metrics,Te.scopedAggregates,fe);if(null!=Te&&Te.queryContext){var Ve=et.queryContext;Ve&&(xe.queryContext=Ve)}return ne&&ne.resolve(),xe}function Ce(we){if(c.fF.assertAnyValue(we,"dataViewSource"),!we)return!1;var he=we.data;return _.isString(he)&&(he=(0,t.K)(he)),!_.isEmpty(he)&&function(we){if(we)if(be(we)){for(var he=(0,F.KI)(we,void 0).dataShapes();he.next();)if(he.hasRestartTokens())return!0}else for(var Oe=0,Je=we.DataShapes;Oe<Je.length;Oe++)if(!_.isEmpty(Je[Oe].RestartTokens))return!0;return!1}(he.dsr)}},179582:function(ze,K,r){r.d(K,{PE:function(){return v},xV:function(){return n}});var t=r(787941),c=r(932178),i=r(383052),s=r(520907),p=r(820919),v=function(){function o(u,a,l,d,b){this.addVisualIdToQueryDataAsHttpBodyId=b,this.preferredMaxBatchesConfigured=u>0,this.maxBatches=this.preferredMaxBatchesConfigured?u:4,this.queryExecuteCallback=a,this.pending=[],this.timeoutService=l,this.telemetryV2Enabled=d,this.useHttp2QueryDataEnabled=c.M.browserSupportsHttp2()}return o.prototype.enqueue=function(u){var a=this;if(!function(o,u){var a=u.options;if(1===a.executionType){t.fF.assertValue(a.queryId,"queryId");var l=_.findIndex(o,function(d){return d.options.queryId===a.queryId});if(l>-1)return t.fF.assert(function(){return o[l].execution.rejected()},"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,u))return this.pending.push(u),this.currentBatchDeferred||(this.currentBatchDeferred=u.options.telemetryV2Enabled?new i.GG(!0):$.Deferred(),this.timeoutService.setTimeout(-1,this.telemetryV2Enabled).promise.then(function(){var b=a.createBatches();a.clearPending(),a.queryExecuteCallback(b),a.currentBatchDeferred.resolve(),a.currentBatchDeferred=void 0})),u.options.telemetryV2Enabled?this.currentBatchDeferred.promise:this.currentBatchDeferred.promise()},o.prototype.clearPending=function(){this.pending=[]},o.prototype.setMaxBatches=function(u){this.maxBatches=u,this.preferredMaxBatchesConfigured=u>0},o.prototype.createBatches=function(){var u=[],a=this.sortQueriesByDataSource(),l=this.maxBatches,d=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(a,function(S){return _.some(S.dataSources,function(y){return y.isLimitedParallelQueryModel})})||(l=20,d=!0)),a.length>=l)for(var f=0,g=a.length;f<g;++f)u.push(this.createBatchFromDataSourceGroup(a[f]));else u=this.splitDataSourcesIntoBatches(a,l);return d&&_.forEach(u,function(S){return S.useSynchronous=!0}),u},o.prototype.sortQueriesByDataSource=function(){var a,u=this;a=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,function(b){return null===(y=null===(S=null===(g=null==(f=b.options)?void 0:f.applicationContext)||void 0===g?void 0:g.Sources)||void 0===S?void 0:S[0])||void 0===y?void 0:y.VisualId;var f,g,S,y}):{"":this.pending};var d=[];return _.forEach(a,function(b){var f=[];_.forEach(b,function(g){if(!function(o){return!!(0,p.I3)(o)&&o.execution.rejected()}(g)){var S=u.findDataSourceGroup(g.options.dataSources,f,g.options.cacheResponseOnServer);S?S.queuedExecutions.push(g):f.push({dataSources:g.options.dataSources,queuedExecutions:[g],cacheResponseOnServer:g.options.cacheResponseOnServer,cacheOptions:g.options.cacheOptions})}}),d.push.apply(d,f)}),d},o.prototype.findDataSourceGroup=function(u,a,l){for(var d=0,b=a.length;d<b;++d){var f=a[d];if((0,s.fS)(u,f.dataSources)&&f.cacheResponseOnServer===l)return f}return null},o.prototype.createBatchFromDataSourceGroup=function(u){for(var a=[],l=[],d=[],b=u.queuedExecutions,f=[],g=[],S=function(D,P){var M=b[D],T=b[D].options,R=b[D].enqueueActivity;(0,p.I3)(M)?(a.push(T),d.push(M.deferred),R&&f.push(R),b[D].queryActivity&&g.push(b[D].queryActivity)):(t.fF.assert(function(){return 1===T.executionType},"Only CancelQuery executions are not rejectable."),l.push(T))},y=0,C=b.length;y<C;++y)S(y);return{dataSources:u.dataSources,queryOptions:a,cancelQueryOptions:l,promises:d,cacheOptions:u.cacheOptions,cacheResponseOnServer:u.cacheResponseOnServer,enqueueActivities:f,queryActivities:g}},o.prototype.splitDataSourcesIntoBatches=function(u,a){for(var l=[],d=0,b=u.length;d<b;++d)l.push(this.createBatchFromDataSourceGroup(u[d]));return this.splitBatches(l,a)},o.prototype.splitBatches=function(u,a){for(var l=u.slice();l.length<a;){for(var d=void 0,b=0,f=l.length;b<f;++b){var g=l[b];g.queryOptions.length>1&&(!d||d.queryOptions.length<g.queryOptions.length)&&(d=g)}if(!d)return l;l.push(this.splitBatch(d)),d=null}return l},o.prototype.splitBatch=function(u){var a=u.queryOptions.length,l=u.queryOptions.splice(a/2),d=u.promises.splice(a/2),b=u.enqueueActivities.splice(a/2),f=u.queryActivities.splice(a/2),g=u.cancelQueryOptions.length,S=[];return g&&(S=u.cancelQueryOptions.splice(g/2)),{dataSources:u.dataSources,queryOptions:l,promises:d,cacheOptions:u.cacheOptions,cacheResponseOnServer:u.cacheResponseOnServer,cancelQueryOptions:S,enqueueActivities:b,queryActivities:f}},o}();function n(o,u,a,l,d){return{queryOptions:_.map(o,function(b){return{command:b,dataSources:u}}),cancelQueryOptions:[],cacheOptions:a,dataSources:u,cacheResponseOnServer:l,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:d}}},820919:function(ze,K,r){r.d(K,{I3:function(){return V},K4:function(){return i},u5:function(){return c}});var t=r(787941);function c(m,v,e){var h=_.map(m.queryOptions,function(l){var d=l.command,f={Query:d,CacheKey:l.cacheResponseOnServer?JSON.stringify(d):void 0,CacheOptions:m.cacheOptions,QueryId:l.queryId};return l.applicationContext&&(f.ApplicationContext=l.applicationContext),1===l.requestPriority&&(f.RequestPriority=1),f}),n=_.map(m.cancelQueryOptions,function(l){return{QueryId:l.queryId}}),o=function(m){return t.fF.assertNonEmpty(m,"dataSources"),t.fF.assert(function(){return 1===m.length},"dataSources.length === 1"),_.head(m)}(m.dataSources),u={version:s,queries:h,cancelQueries:n,modelId:o.modelId,userPreferredLocale:v.getUserPreferredLocale()};if(e&&e.impersonating){var a=e.getImpersonationState();a.modelId===u.modelId&&_.extend(u,a)}return u}function i(m){return _.some(m.queries,function(v){return _.some(v.Query.Commands,function(e){var h;return null===(h=e.SemanticQueryDataShapeCommand)||void 0===h?void 0:h.Extension})})}var s="1.0.0";function V(m){return null!=m&&void 0!==m.deferred&&void 0!==m.execution}},249679:function(ze,K,r){r.d(K,{N8:function(){return t},_H:function(){return c},hk:function(){return i}});var t=void 0;function c(s){return s.Schema||t}var i=function(s){return s[s.None=0]="None",s[s.Group=1]="Group",s[s.Measure=2]="Measure",s}({})},522802:function(ze,K,r){r.d(K,{$z:function(){return i},cm:function(){return h}});var t=r(226514),c=r(787941);function i(n,o){!function(n,o,u){if(c.fF.assertValue(o,"visitor"),n){o.visitDescriptor(n,u);var a=n.Select;if(a&&a.length)for(var l=0,d=a.length;l<d;l++)o.visitSelect(a[l],u);var b=n.Expressions;b&&function(n,o,u){c.fF.assertValue(n,"expressions"),o.visitExpressions(n,u),c.fF.assertValue(n.Primary,"Primary"),V(n.Primary,o,u);var a=n.Secondary;a&&V(a,o,u)}(b,o,u)}}(n,o,void 0)}function V(n,o,u){c.fF.assertValue(n,"axis"),o.visitDataShapeExpressionsAxis(n,u);var a=n.Groupings;c.fF.assertValue(a,"groupings");for(var l=0,d=a.length;l<d;l++)m(a[l],o,u)}function m(n,o,u){c.fF.assertValue(n,"grouping"),o.visitDataShapeExpressionsAxisGrouping(n,u);var a=n.Keys;c.fF.assertValue(a,"keys");for(var l=0,d=a.length;l<d;l++)v(a[l],o,u)}function v(n,o,u){c.fF.assertValue(n,"groupingKey"),o.visitDataShapeExpressionsAxisGroupingKey(n,u),c.fF.assertValue(n.Source,"Source"),o.visitConceptualPropertyReference(n.Source,u)}var h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return(0,t.__extends)(o,n),o}(function(){function n(){}return n.prototype.visitDescriptor=function(o,u){},n.prototype.visitSelect=function(o,u){},n.prototype.visitExpressions=function(o,u){},n.prototype.visitDataShapeExpressionsAxis=function(o,u){},n.prototype.visitDataShapeExpressionsAxisGrouping=function(o,u){},n.prototype.visitDataShapeExpressionsAxisGroupingKey=function(o,u){},n.prototype.visitConceptualPropertyReference=function(o,u){},n}())},171986:function(ze,K,r){r.d(K,{Q:function(){return s}});var t=r(883863),c=r(787941),i=r(249679),s=function(){function p(V,m){c.fF.assertValue(V,"metadata"),c.fF.assertValue(V.Select,"metadata.Select"),c.fF.assertValue(m,"binding"),m.ScriptVisualBinding||(c.fF.assertValue(m.Select,"binding.Select"),c.fF.assert(function(){return V.Select.length<=m.Select.length},"Metadata should have the same number or fewer select items as Binding.")),this._metadata=V,this._binding=m}return p.prototype.getSelectRestatements=function(){return this.getRestatements()},p.prototype.getGroupRestatements=function(){return this.getRestatements(i.hk.Group)},p.prototype.getMeasureRestatements=function(){return this.getRestatements(i.hk.Measure)},p.prototype.getFilterRestatements=function(){var V=this._metadata.Filters;if(_.isEmpty(V))return null;for(var m=[],v=0,e=V.length;v<e;v++){var h=V[v];m.push(h?h.Restatement:"")}return(0,t.rm)(m)},p.prototype.getRestatements=function(V){var m=this._metadata,v=this._binding,e=[];if(!v.ScriptVisualBinding)for(var h=0,n=m.Select.length;h<n;h++){var o=v.Select[h];o&&(void 0===V||o.Kind===V)&&e.push(m.Select[h].Restatement||"")}return(0,t.rm)(e)},p}()},662950:function(ze,K,r){r.d(K,{Zl:function(){return Se},cd:function(){return Fe},Jz:function(){return we}});var t=r(226514),c=r(456535),i=r(474147),s=r(883863),p=r(787941),V=r(870817),m=r(238435),v=r(474505),e=r(838592),h=r(454262),n=r(601139),o=r(13106),u=r(324356),a=r(334048),l=r(154369);function d(xe){p.fF.assertValue(xe,"mapping"),xe.categorical&&function(xe){if(p.fF.assertValue(xe,"categorical"),!xe.dataReductionAlgorithm){xe.categories&&y(xe.categories);var Ve=xe.values;Ve&&Ve.group&&function(xe){p.fF.assertValue(xe,"mapping"),p.fF.assertValue(xe.group,"mapping.group"),xe.group.dataReductionAlgorithm||(xe.group.dataReductionAlgorithm={top:{}})}(Ve)}}(xe.categorical),xe.table&&function(xe){p.fF.assertValue(xe,"table"),xe.rows&&y(xe.rows)}(xe.table),xe.matrix&&function(xe){p.fF.assertValue(xe,"matrix"),xe.rows&&y(xe.rows),xe.columns&&y(xe.columns)}(xe.matrix)}function y(xe){p.fF.assertValue(xe,"mapping"),!xe.dataReductionAlgorithm&&!function(xe){var Ve=xe.select;return!!Ve&&_.some(Ve,function(Le){return!!Le.dataReductionAlgorithm})}(xe)&&(xe.dataReductionAlgorithm={top:{}})}var P=r(620006),M=r(322487);function T(xe,Ve){if(p.fF.assertValue(xe,"expansionState"),p.fF.assert(function(){return Ve>=0},"lastActiveLevelIndex >= 0"),!_.isEmpty(xe.levels)&&0!==Ve){p.fF.assertValue(xe.root,"expansionState.root");var Le=B(xe.root,-1,Ve,xe.levels);if(Le){for(var at=new Array(Le.depth),ft=new P.cL(null),ht=0;ht<Le.depth;ht++)at[ht]=R(xe.levels[ht],ft);var Ge=[];return M.ib.serializeFrom(ft,Ge),{From:Ge,Levels:at,Instances:Le.instance}}}}function R(xe,Ve){return p.fF.assertValue(xe,"level"),{Expressions:_.map(xe.identityKeys,function(ft){var ht=o.cX.rewrite(ft,Ve,Ve);return M.ib.serializeExprWithRef(ht)}),Default:xe.isCollapsed?0:1}}function B(xe,Ve,Le,at){p.fF.assertValue(xe,"node");var ft=-1===Ve,ht=Ve+1===Le,Ge=!ft&&!!at[Ve].isCollapsed;if(xe.isToggled||!(Ge||ht||_.isEmpty(xe.children))){var Me,Re=!ft&&!Ge&&xe.isToggled,He=0;if(!ht&&!_.isEmpty(xe.children)&&!Re){Me=[];for(var ct=0,Mt=xe.children;ct<Mt.length;ct++){var It=Mt[ct];p.fF.assertNonEmpty(It.identityValues,"child.identityValues");var Bt=B(It,Ve+1,Le,at);Bt&&(He=Math.max(He,Bt.depth+1),Me.push(Bt.instance))}}if(xe.isToggled||!_.isEmpty(Me)){var jt={};return _.isEmpty(xe.identityValues)||(jt.Values=_.map(xe.identityValues,function(Kt){return M.ib.serializeExpr(Kt)})),_.isEmpty(Me)||(jt.Children=Me),{depth:He,instance:jt}}}}function N(xe){if(xe&&xe.root){var Ve=x(xe.root),Le=A(Ve),at=new P.cL(null);p.fF.assert(function(){return Le<=_.size(xe.levels)},"Missing levels in window expansion state");var ft=_.take(xe.levels,Le),ht=_.map(ft,function(Re){return function(xe,Ve){p.fF.assertValue(xe,"Level must be defined");var Le=_.map(xe.identityKeys,function(at){var ft=o.cX.rewrite(at,Ve,Ve);return M.ib.serializeExprWithRef(ft)});return{Expressions:Le,Default:0}}(Re,at)}),Ge=[];return M.ib.serializeFrom(at,Ge),{From:Ge,Levels:ht,WindowInstances:Ve}}}function x(xe){return p.fF.assertValue(xe,"Window expansion instance is not defined"),{Values:_.map(xe.identityValues,function(Ve){return M.ib.serializeExpr(Ve)}),WindowExpansionInstanceWindowValue:_.map(xe.windowValues,function(Ve){return{Values:_.map(Ve.restartValues,function(Le){return M.ib.serializeExpr(Le)}),WindowStartKind:Ve.windowKind}}),Children:_.map(xe.children,function(Ve){return x(Ve)})}}function A(xe){return!xe||_.isEmpty(xe.Children)?0:Math.max.apply(Math,_.map(xe.Children,function(Ve){return A(Ve)}))+1}var w=r(450802);function W(xe,Ve){p.fF.assertValue(xe,"item"),p.fF.assertValue(Ve,"newExpr"),xe.query=xe.query.addSelect(Ve);var Le=xe.query.select(),at=(0,w.p)(Le,Ve),ft=Le[at],ht=xe.additionalProjections;return ht||(ht=xe.additionalProjections=[]),ht.push({queryName:ft.name,selector:null}),{index:at,expr:Ve,queryName:ft.name}}var j=function(){function xe(){this.queryReferencesByRole={}}return xe.findActive=function(Ve){var Le=new xe;return(0,m.oF)(Ve,Le),Le.queryReferencesByRole},xe.prototype.visitRole=function(Ve){var Le=Ve.items;_.isEmpty(Ve.activeItems)||(Le=_.filter(Le,function(at){return _.includes(Ve.activeItems,at.queryName)})),this.queryReferencesByRole[Ve.role]=_.map(Le,function(at){return at.queryName})},xe}(),z=r(722972),G=r(520907);function te(xe,Ve,Le){var at,ft=[],ht=xe.select(),Ge=null===(at=ht.withName(Ve))||void 0===at?void 0:at.expr;p.fF.assertValue(Ge,"Attempting to duplicate a non-existing Select");var Re=xe.addSelect(Ge),Xe=Re.select();p.fF.assert(function(){return Xe.length===ht.length+1},"Expected a Select to have ben added");var Me=Xe.length-1,He=Xe[Me];p.fF.assert(function(){return!ht.withName(He.name)},"this code assumes that the newly added select is always the last element in updatedSelectClause");var ct=Ve,Mt=He.name;return ft.push({selectExprAdded:{selectIndex:Me,namedSQExpr:He}}),void 0!==Le&&ft.push({projectionQueryRefChanged:{role:Le,oldQueryRef:ct,newInternalQueryRef:Mt}}),{rewriteRecords:ft,newQuery:Re,newQueryName:Mt}}function Y(xe,Ve,Le,at){if(xe.queryName!==Ve.queryName)return!1;var ft=(0,l.P6)(xe.selector.data,Le,at),ht=(0,l.P6)(Ve.selector.data,Le,at),Ge=_.xor(ft,ht);return!_.isEmpty(Ge)}function ce(xe,Ve,Le,at){var ft=Le.queryName,ht=xe[ft];ht||(ht=xe[ft]={categoryAndValueGroup:[],categoryOnly:[]});var Ge={roleName:Ve,roleItem:Le};at?ht.categoryAndValueGroup.push(Ge):ht.categoryOnly.push(Ge)}function pe(xe,Ve){p.fF.assertValue(xe,"roles"),p.fF.assertValue(Ve,"role");for(var Le={for:{in:Ve}},at=0,ft=xe;at<ft.length;at++)if((0,G.fS)(ft[at],Le))return;xe.push(Le)}var ve=r(45696),De=function(){function xe(){}return xe.prototype.conflictsWith=function(Ve){if(this.getQueryName()!==Ve.getQueryName())return!1;var Le=_.xor(this.getScopeRefs(),Ve.getScopeRefs());return!_.isEmpty(Le)},xe}(),We=function(xe){function Ve(Le,at,ft){var Ge,Re,ht=this;(ht=xe.call(this)||this).additionalProjection=Le;var Me=Le.aggregates&&_.isEmpty(null===(Ge=Le.selector)||void 0===Ge?void 0:Ge.data)?[(0,ve.Ue)()]:null===(Re=Le.selector)||void 0===Re?void 0:Re.data;return ht.scopeRefs=(0,l.P6)(Me,at,ft),ht}return(0,t.__extends)(Ve,xe),Ve.prototype.getQueryName=function(){return this.additionalProjection.queryName},Ve.prototype.getScopeRefs=function(){return this.scopeRefs},Ve.prototype.updateQueryName=function(Le){this.additionalProjection.queryName=Le},Ve.prototype.getRoleName=function(){},Ve}(De),je=function(xe){function Ve(Le,at,ft){var ht=xe.call(this)||this;return ht.roleItem=Le,ht.roleName=at,ht.scopeRefs=ft,ht}return(0,t.__extends)(Ve,xe),Ve.prototype.getQueryName=function(){return this.roleItem.queryName},Ve.prototype.getScopeRefs=function(){return this.scopeRefs},Ve.prototype.getRoleName=function(){return this.roleName},Ve.prototype.updateQueryName=function(Le){this.roleItem.queryName=Le},Ve}(De);function le(xe,Ve){var Le,at=Ve.queryRewrites||[],ht=te(Ve.query,xe.getQueryName(),null===(Le=xe.getRoleName)||void 0===Le?void 0:Le.call(xe));return xe.updateQueryName(ht.newQueryName),at.push.apply(at,ht.rewriteRecords),{query:ht.newQuery,queryRewrites:at,mappings:Ve.mappings,additionalProjections:Ve.additionalProjections}}var ie=function(){function xe(Ve){this.expectedContext=Ve,this.scopeRefs=[],this.queryRefsByRole={}}return xe.prototype.visitRole=function(Ve,Le){if(Le===this.expectedContext)for(var at=(0,v.Xw)(Ve),ft=this.queryRefsByRole[Ve.role]=[],ht=0,Ge=at;ht<Ge.length;ht++){var Re=Ge[ht];this.scopeRefs.push(Re.queryName),ft.push(Re.queryName)}},xe}(),me=function(){function xe(Ve,Le){this.scopeRefs=Ve,this.expectedContext=Le,this.rolesMeasures=[]}return xe.prototype.visitRole=function(Ve,Le){if(Le===this.expectedContext)for(var ft=0,ht=(0,v.Xw)(Ve);ft<ht.length;ft++)this.rolesMeasures.push(new je(ht[ft],Ve.role,this.scopeRefs))},xe}(),ye=r(39326),oe=r(374952),X=function(){function xe(Ve){this.selects=Ve,this.referencedItems=new Set}return xe.prototype.withRestartToken=function(Ve){return this},xe.prototype.withPrimaryWindowExpansion=function(Ve){return this},xe.prototype.withDataVolume=function(Ve){return this},xe.prototype.withIncludeEmptyGroups=function(Ve){return this},xe.prototype.withHighlightFilter=function(Ve){return this},xe.prototype.withGroupBy=function(Ve){return this},xe.prototype.withPrimaryGrouping=function(Ve,Le,at,ft,ht,Ge){var Re,Xe;return Ve=this.filterItems(Ve,Le,Ge),_.isEmpty(Ve)||(this.rows=null!==(Re=this.rows)&&void 0!==Re?Re:[],ht&&(Xe=_.last(this.rows)),Xe||(Xe=this.createAxisGroup(),this.rows.push(Xe)),this.updateAxisGroup(Xe,Ve)),this},xe.prototype.withPrimaryGroupingNestedByRole=function(Ve,Le,at,ft,ht,Ge,Re){return this.isRoleSupportHierachryGrouping(Re)?this.withPrimaryGroupingNested(Ve,Le,at,ft,Ge):this.withPrimaryGrouping(Ve,Le,at,ft,ht,Ge)},xe.prototype.isRoleSupportHierachryGrouping=function(Ve){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(Ve)},xe.prototype.withPrimaryExpansion=function(Ve){return this},xe.prototype.withPrimarySynchronization=function(Ve){return this},xe.prototype.withPrimaryGroupingNested=function(Ve,Le,at,ft,ht){var Ge=this;return Ve=this.filterItems(Ve,Le,ht),_.isEmpty(Ve)||_.each(Ve,function(Re){return Ge.withPrimaryGrouping([Re],Le,at,ft,!1,ht)}),this},xe.prototype.withSecondaryGrouping=function(Ve,Le,at,ft,ht){var Ge;if(Ve=this.filterItems(Ve,Le,ht),_.isEmpty(Ve))return this;this.columns=null!==(Ge=this.columns)&&void 0!==Ge?Ge:[];var Re=this.createAxisGroup();return this.columns.push(Re),this.updateAxisGroup(Re,Ve),this},xe.prototype.withSecondaryGroupingNestedByRole=function(Ve,Le,at,ft,ht,Ge){return this.isRoleSupportHierachryGrouping(Ge)?this.withSecondaryGroupingNested(Ve,Le,at,ft,ht):this.withSecondaryGrouping(Ve,Le,at,ft,ht)},xe.prototype.withSecondaryExpansion=function(Ve){return this},xe.prototype.withSecondaryGroupingNested=function(Ve,Le,at,ft,ht){var Ge=this;return Ve=this.filterItems(Ve,Le,ht),_.isEmpty(Ve)||_.each(Ve,function(Re){return Ge.withSecondaryGrouping([Re],Le,at,ft,ht)}),this},xe.prototype.withCurrentInnermostGrouping=function(Ve,Le,at){return this},xe.prototype.withCurrentInnermostPrimaryGrouping=function(Ve,Le,at,ft){return this},xe.prototype.withPrimaryDataReduction=function(Ve){return this},xe.prototype.withScopedDataReduction=function(Ve,Le){return this},xe.prototype.withSecondaryDataReduction=function(Ve){return this},xe.prototype.withIntersectionDataReduction=function(Ve){return this},xe.prototype.withTopLevelAggregates=function(Ve){return this},xe.prototype.withAdditionalProjections=function(Ve){return this},xe.prototype.withRolesWithHierarchicalGroupingSupport=function(Ve){return p.fF.assertAnyValue(Ve,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(Ve)||(this.rolesWithHierarchicalGroupingSupport=Ve),this},xe.prototype.toQueryShape=function(Ve){var Le=[],at=this.createAxis("rows",this.rows);at&&Le.push(at);var ft=this.createAxis("columns",this.columns);return ft&&Le.push(ft),_.isEmpty(Le)?void 0:Le},xe.prototype.createAxis=function(Ve,Le){if(this.removeEmptyAxisGroups(Le),!_.isEmpty(Le))return{Name:Ve,Groups:Le}},xe.prototype.removeEmptyAxisGroups=function(Ve){_.isEmpty(Ve)||_.remove(Ve,function(Le){return _.isEmpty(Le.Keys)})},xe.prototype.createAxisGroup=function(){return{Keys:[],Subtotal:!0}},xe.prototype.updateAxisGroup=function(Ve,Le){for(var at=0,ft=Le;at<ft.length;at++){var ht=ft[at];if(!this.referencedItems.has(ht.queryName)){var Ge=(0,s.rC)(this.selects,ht.queryName);(0,oe.k)(Ge.expr)||(this.referencedItems.add(ht.queryName),Ve.Keys.push(M.ib.serializeExprWithRef(Ge.expr)))}}},xe.prototype.filterItems=function(Ve,Le,at){if(p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"activeProjection"),_.isEmpty(Le)||_.isEmpty(Ve))return Ve;var ft=Ve.findIndex(function(Ge){return Ge.queryName===Le[0]});return Ve.slice(ft)||(at?[]:Ve)},xe}(),ue=r(425158);function Se(xe){return new Ke(M.ib,xe)}var Ke=function(){function xe(Ve,Le){p.fF.assertValue(Ve,"serializer"),this.serializer=Ve,this.featureSwitches=Le}return xe.prototype.execute=function(Ve){var Le=this.executeForQueryOnlyImpl(Ve);if(!Le||!Le.dataShapeBinding&&Le.mergedQueries&&Le.mergedQueries.mapping&&2===Le.mergedQueries.mapping.updateType)return{command:void 0};var at=Le.mergedQueries,ft=Le.dataShapeBinding,ht=Le.query;this.adjustIntersectionDataReduction(ft,at.mapping,ht,Ve.highVolumeOverride),_.isEmpty(ht.groupBy())||this.applyDataReductionForGroupByQuery(ft,ht);var Ge=Le.mergedQueries&&Le.mergedQueries.mapping&&1===Le.mergedQueries.mapping.updateType&&_.isEmpty(Ve.additionalProjections);return{command:this.createDataQuery(ht,Le.queryExtensionSchema,Ve.dataSourceVariables,ft,Le.compiledDataViewMappings,Ve.dataWindow,Ve.executionMetricsKinds,Ve.anchorTime,Le.visualShape),splits:at.splits,queryRewrites:Le.queryRewrites,deferred:Ge,isPivoted:null==ft?void 0:ft.isPivoted}},xe.prototype.executeForQueryOnly=function(Ve){var Le=this.executeForQueryOnlyImpl(Ve);return Le&&Le.query},xe.prototype.produceIdentities=function(Ve,Le){var at=new ye.H;return Ve.accept(at,Le)},xe.prototype.executeForQueryOnlyImpl=function(Ve){p.fF.assertValue(Ve,"options");var He,Le=(0,ue.Go)(Ve.mappings),at=this.prepareQuery(Ve.query,Le,Ve.additionalProjections),ft=at.query,ht=at.mappings,Ge=at.queryRewrites,Re=at.additionalProjections,Xe=we(ft),Me=(0,z.lr)(Le,Xe);!function(xe){p.fF.assertValue(xe,"mappings");for(var Ve=xe.length,Le=0;Le<Ve;Le++)d(xe[Le])}(Ve.mappings),Ve.highVolumeOverride&&(He=6),Me.mapping.categorical&&function(xe,Ve){var Le=function(){function ft(ht){this.indicesByName=ht}return ft.prototype.visitRole=function(ht,Ge){var Re=this;if(!_.isEmpty(ht.items)){for(var Xe,Me=0,He=ht.items;Me<He.length;Me++){var ct=He[Me];ct.scalarKeyInfo&&null!=ct.scalarKeyInfo.scalarKeyQueryName&&(p.fF.assert(function(){return null==Xe},"Only a single role item with a scalar key is supported."),Xe=ct.scalarKeyInfo.scalarKeyQueryName)}Xe&&(p.fF.assert(function(){return null==Re.primaryScalarKey},"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[Xe])}},ft}(),at=new Le(Ve);(0,m.oF)(xe,at),null!=at.primaryScalarKey&&(0,m.oF)(xe,{visitRole:function(){},visitReduction:function(ht){ht.binnedLineSample&&(ht.binnedLineSample.primaryScalarKey=at.primaryScalarKey)}})}(Me.mapping,Xe);var Mt,It,ct=function(xe,Ve,Le,at,ft,ht,Ge,Re,Xe,Me,He,ct,Mt,It,Bt,jt,Kt){var Pr,Yt=ht;if(ht)for(var Zt=0,or=ne([Le],at);Zt<or.length;Zt++)Yt=Yt.rewrite(or[Zt]);return ht&&(Pr=[xe.serializeFilter(Yt)]),function(xe,Ve,Le,at,ft,ht,Ge,Re,Xe,Me,He,ct,Mt,It,Bt,jt,Kt){return Fe(function(){return new fe(xe,Le,He,It,Bt,jt)},xe,Ve,Le,at,ft,ht,Ge,Re,Xe,Me,ct,Mt,Kt)}(Ve,Le,at,ft,Pr,Ge,Re,Xe,Me,xe,He,ct,Mt,It,Bt,jt,Kt)}(this.serializer,Xe,Me.mapping,ft.select(),Re,Ve.highlightFilter,Ve.restartToken,ft.groupBy(),He,Ve.expansionStates,Ve.keepProjectionOrder,Ve.noDefaultProjections,Ve.windowExpansion,this.featureSwitches,Ve.disableHidden,Ve.enableAllSubtotal,Ve.enableHierarchicalGrouping?Ve.rolesWithHierarchicalGroupingSupport:[]);if((0,e.AR)(ct,ht,Me.mapping,ft.select(),3,He),this.queryHasMeasureFilter(ft)&&ct&&(this.processTargetsForMeasureFilters(ft,ht,ct),ft=this.adjustQueryMeasureFilters(ft,ct)),ft.hasVisualCalculations()&&(Mt=function(xe,Ve,Le,at,ft,ht,Ge,Re,Xe,Me,He,ct){return Fe(function(){return new X(at)},Ve,Le,at,ft,[],ht,Ge,Re,Xe,xe,Me,He,ct)}(this.serializer,Xe,Me.mapping,ft.select(),Re,Ve.restartToken,ft.groupBy(),He,Ve.expansionStates,Ve.noDefaultProjections,Ve.windowExpansion,Ve.rolesWithHierarchicalGroupingSupport)),Ve.queryExtensionLookup){var Bt=Ve.queryExtensionLookup(ft,Ge);ft=Bt.query,It=Bt.extensions,Ge=Bt.queryRewrites}return{query:ft,queryExtensionSchema:It,mergedQueries:Me,dataShapeBinding:ct,compiledDataViewMappings:ht,queryRewrites:Ge,visualShape:Mt}},xe.prototype.hasAmbiguousEqualitySemantics=function(Ve){return p.fF.assertValue(Ve,"value"),(0,i.fS)(Ve,(0,u.O7)(!1))||(0,i.fS)(Ve,(0,u.cA)(0))},xe.prototype.prepareQuery=function(Ve,Le,at){p.fF.assertValue(Ve,"query"),p.fF.assertValue(Le,"mappings"),p.fF.assertAnyValue(at,"additionalProjections");for(var ft=0,ht=ne(Le,Ve.select());ft<ht.length;ft++)Ve=Ve.rewrite(ht[ft]);var Re=this.rewriteQuery(Ve,Le,at);return Re.query=function(xe){p.fF.assertValue(xe,"query");for(var Le,Ve=xe.select(),at=Ve.length-1;at>=0;at--)(0,c.VC)(Ve[at].expr)&&(Ve.splice(at,1),Le=!0);return Le?xe.select(Ve):xe}(Re.query),Re},xe.prototype.rewriteQuery=function(Ve,Le,at){p.fF.assertValue(Le,"mappings");var ft={query:Ve,mappings:Le,additionalProjections:at};return function(xe,Ve){void 0===Ve&&(Ve=!1),p.fF.assertValue(xe,"rewrittenQuery");var Le=[],at=function(xe){if(p.fF.assertNonEmpty(xe,"mappings"),!(xe.length>1)&&xe[0].matrix){var Ve=xe[0].matrix,Le=new ie("MatrixRowsGroup");(0,m.Ay)(Ve.rows,Le);var at=new ie("MatrixColumnsGroup");(0,m.yL)(Ve.columns,at);var ft=(0,t.__spreadArray)((0,t.__spreadArray)([],Le.scopeRefs,!0),at.scopeRefs,!0),ht=new me(ft,"MatrixIntersection");(0,m.hw)(Ve.values,ht);var Ge=new me(Le.scopeRefs,"MatrixRowsScopedValue");return(0,m.Ay)(Ve.rows,Ge),{groupingRefsByRole:(0,t.__assign)((0,t.__assign)({},Le.queryRefsByRole),at.queryRefsByRole),roleItemsInfo:(0,t.__spreadArray)((0,t.__spreadArray)([],ht.rolesMeasures,!0),Ge.rolesMeasures,!0)}}p.fF.assert(function(){return xe.length<=1||null==xe[0].matrix&&null==xe[1].matrix},"Not expected having two mappings with matrix")}(xe.mappings);if(!at)return xe;if(Le.push.apply(Le,at.roleItemsInfo),Ve&&!_.isEmpty(xe.additionalProjections))for(var ft=xe.query.select(),ht=0,Ge=xe.additionalProjections;ht<Ge.length;ht++)Le.push(new We(Ge[ht],ft,at.groupingRefsByRole));return _.isEmpty(Le)||(xe=function(xe,Ve){for(var Le=0;Le<xe.length;Le++)for(var at=xe[Le],ft=0;ft<Le;ft++)at.conflictsWith(xe[ft])&&(Ve=le(at,Ve));return Ve}(Le,xe)),xe}(ft=function(xe){p.fF.assertValue(xe,"item");var Ve=xe.mappings;if(1!==Ve.length)return xe;var Le=function(xe){var Ve,Le;if(p.fF.assertValue(xe,"mapping"),(0,m.oF)(xe,{visitRole:function(ft){if(ft.aggregates&&!_.isEmpty(ft.items)){Ve||(Ve={},Le=[]);for(var ht=0,Ge=ft.items;ht<Ge.length;ht++)Ve[Ge[ht].queryName]=ft.aggregates;Le.push(ft)}}}),Ve)return{queryNames:Ve,roles:Le}}(Ve[0]);if(!Le)return xe;var at=xe.queryRewrites;return at||(at=xe.queryRewrites=[]),function(xe,Ve,Le){p.fF.assertValue(xe,"item"),p.fF.assertValue(Ve,"aggregatedQueryNames"),p.fF.assertValue(Le,"queryRewrites");var at=xe.query.select();for(var ft in Ve){var ht=at.withName(ft).expr,Ge=Ve[ft],Re={};Ge.min&&(Re.min=W(xe,(0,u.m_)(ht,3))),Ge.max&&(Re.max=W(xe,(0,u.m_)(ht,4))),Le.push({aggregatesAdded:{originalQueryRef:ft,aggregates:Re}})}}(xe,Le.queryNames,at),function(xe){p.fF.assertValue(xe,"aggregatedColumns");for(var Ve=xe.queryNames,Le=0,at=xe.roles;Le<at.length;Le++){var ft=at[Le];p.fF.assertValue(ft.items,"role.items"),_.remove(ft.items,function(ht){return Ve[ht.queryName]})}}(Le),xe}(ft=function(xe){p.fF.assertValue(xe,"item");var Ve=xe.mappings.length;if(1===Ve)return xe;if(Ve>1){var Le=function(xe){var Ve=xe.query,Le=xe.mappings,at=xe.additionalProjections,ft=xe.queryRewrites;p.fF.assertValue(Ve,"query"),p.fF.assertNonEmpty(Le,"mappings");for(var ht=[],Ge=[],Re={by:null,select:[]},Xe={categories:{select:ht},values:{group:Re,select:Ge}},Me={},He=function(dr){if(!dr.categorical)return{value:void 0};var ar=dr.categorical;(function(xe,Ve,Le,at,ft){var Ge,ht=xe.values;ht&&((0,m.Sr)(xe.categories,{visitRole:function(Xe){pe(Le,Xe)}}),(0,m.vS)(ht,{visitRole:function(Xe){if(ft.by=Xe,Xe.items)for(var Me=0,He=Xe.items;Me<He.length;Me++)ce(Ve,Xe.role,He[Me],!0),Ge=!0}}),(0,m.fl)(ht,{visitRole:function(Xe,Me){if(pe("CategoricalValueGroup"===Me?ft.select:at,Xe),Xe.items)for(var ct=0,Mt=Xe.items;ct<Mt.length;ct++)ce(Ve,Xe.role,Mt[ct],Ge)}}))})(ar,Me,ht,Ge,Re),p.fF.assert(function(){return null==Xe.dataVolume||null==ar.dataVolume||ar.dataVolume===Xe.dataVolume},"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=ar.dataVolume&&null==Xe.dataVolume&&(Xe.dataVolume=ar.dataVolume)},ct=0,Mt=Le;ct<Mt.length;ct++){var Bt=He(Mt[ct]);if("object"==typeof Bt)return Bt.value}var jt=ft?(0,t.__spreadArray)([],ft,!0):[],Kt=Ve;for(var Yt in Me){var Zt=Me[Yt];if(!_.isEmpty(Zt.categoryAndValueGroup)&&!_.isEmpty(Zt.categoryOnly))for(var or=0,_r=Zt.categoryAndValueGroup;or<_r.length;or++){var Pr=_r[or],mt=Pr.roleItem,Rt=te(Kt,mt.queryName,Pr.roleName);mt.queryName=Rt.newQueryName,Kt=Rt.newQuery,jt.push.apply(jt,Rt.rewriteRecords)}}return{query:Kt,mappings:[{metadata:Le[0].metadata,categorical:Xe}],queryRewrites:_.isEmpty(jt)?void 0:jt,additionalProjections:at}}(xe);return Le=function(xe){var Ve;if(_.isEmpty(xe.additionalProjections))return xe;var Le=xe.query,at=xe.mappings,ft=xe.queryRewrites,ht=(0,t.__spreadArray)([],xe.additionalProjections,!0);p.fF.assertValue(Le,"query"),p.fF.assert(function(){return 1===at.length},"Mappings should have been merged already");for(var Ge=j.findActive(at[0]),Re=ft?(0,t.__spreadArray)([],ft,!0):[],Xe=Le,Me=0;Me<ht.length-1;Me++)for(var He=ht[Me],ct=Me+1;ct<ht.length;ct++){var Mt=ht[ct];if(Y(He,Mt,Xe.select(),Ge)){var It=te(Xe,Mt.queryName);Xe=It.newQuery,Re.push.apply(Re,null!==(Ve=It.rewriteRecords)&&void 0!==Ve?Ve:[]),ht[ct]=(0,t.__assign)((0,t.__assign)({},Mt),{queryName:It.newQueryName})}}return{query:Xe,mappings:at,queryRewrites:_.isEmpty(Re)?void 0:Re,additionalProjections:ht}}(Le),Le}}(ft)),!0)},xe.prototype.adjustIntersectionDataReduction=function(Ve,Le,at,ft){if(Le.categorical){var ht=Le.categorical;if(ht.dataReductionAlgorithm)if(Ve.DataReduction&&Ve.DataReduction.Intersection)p.fF.assert(function(){return!(Ve.Secondary&&!Ve.Primary)},"Should never have only a Secondary axis"),Ve.Primary&&!Ve.Secondary&&(p.fF.assert(function(){return!Ve.DataReduction.Primary},"Should not have both Primary and Intersection data reduction"),Ve.DataReduction.Primary=Ve.DataReduction.Intersection,Ve.DataReduction.Intersection=void 0);else{var Ge=Ve.Primary&&(!Ve.DataReduction||!Ve.DataReduction.Primary),Re=Ve.Secondary&&(!Ve.DataReduction||!Ve.DataReduction.Secondary);if(!Ge&&!Re)return;Ve.DataReduction||(Ve.DataReduction={DataVolume:ht.dataVolume||(ft?6:3)}),Ge&&(Ve.DataReduction.Primary=(0,V.P)(ht.dataReductionAlgorithm,at.select())),Re&&(Ve.DataReduction.Secondary=(0,V.P)(ht.dataReductionAlgorithm,at.select()))}}},xe.prototype.applyDataReductionForGroupByQuery=function(Ve,Le){Ve.DataReduction={},Ve.DataReduction.Primary=(0,V.P)({top:{count:1e3}},Le.select())},xe.prototype.generateScriptVisualCommand=function(Ve,Le){p.fF.assertValue(Ve,"dataViewMappings");var at=(0,h.Hc)(Ve);if(at||(at=(0,h.QB)(Ve)),!at)return null;var ft={Version:0,Script:at.source,RenderingEngine:at.provider,ScriptOutputType:at.outputType};Le&&Le.height&&Le.width&&(ft.ViewportWidthPx=Le.width,ft.ViewportHeightPx=Le.height);var ht=(0,h.oy)(Ve);return ht&&ht.script.scriptInput&&(ft.ScriptInput=ht.script.scriptInput),{ScriptVisualCommand:ft}},xe.prototype.queryHasMeasureFilter=function(Ve){for(var Le=0,at=Ve.where();Le<at.length;Le++)if(1===(0,n._)(at[Le].condition))return!0;return!1},xe.prototype.removeExprFromTargetExprs=function(Ve,Le){for(var at=0,ft=Ve;at<ft.length;at++){var Ge=ft[at].target;if(null!=Ge)for(var Re=0,Xe=Ge.length;Re<Xe;Re++)(0,i.fS)(Ge[Re],Le)&&Ge.splice(Re,1)}},xe.prototype.processTargetsForMeasureFilters=function(Ve,Le,at){var ft=this;p.fF.assertValue(Ve,"query"),p.fF.assertValue(Le,"mappings"),p.fF.assertAnyValue(at,"binding");for(var ht=this.getProjectedSelectIndexMap(at),Ge=0,Re=Le;Ge<Re.length;Ge++)(0,m.oF)(Re[Ge],{visitRole:function(He){var ct=He.activeItems,Mt=He.items;if(ct&&!_.isEmpty(ct)&&!_.isEmpty(Mt))for(var It=_.findIndex(Mt,function(or){return _.includes(ct,or.queryName)}),Bt=0;Bt<It;Bt++){var jt=Mt[Bt].queryName,Kt=Ve.select(),Yt=(0,s.g2)(Kt,jt);if(!ht[Yt]){var Zt=Kt[Yt].expr;ft.removeExprFromTargetExprs(Ve.where(),Zt)}}}})},xe.prototype.adjustQueryMeasureFilters=function(Ve,Le){var at=Ve.where(),ft=[],ht=[];if(_.isEmpty(Le.Primary.Groupings)||_.isEmpty(Le.Primary.Groupings[0].Projections)||!_.isEmpty(Le.Secondary))return Ve;for(var Ge=Ve.select(),Xe=0,Me=Le.Primary.Groupings[0].Projections;Xe<Me.length;Xe++)if(!(0,oe.k)(Ge[Me[Xe]].expr))return Ve;for(var Mt=0,It=at;Mt<It.length;Mt++){var Bt=It[Mt];_.isEmpty(Bt.target)?ht.push(Bt):ft.push(Bt)}if(_.isEmpty(ft))return Ve;var jt=o.vQ.createWith({from:Ve.from(),select:Ve.select(),orderBy:Ve.orderBy(),top:Ve.top(),transforms:Ve.transforms(),groupBy:Ve.groupBy(),where:ht}),Kt=o.yl.fromMeasureFilters(Ve,ft,Le);return jt.addSemanticFilter(Kt)},xe.prototype.getProjectedSelectIndexMap=function(Ve){return p.fF.assertAnyValue(Ve,"binding"),Ve?_.chain([Ve.Primary,Ve.Secondary]).filter(function(at){return at&&!_.isEmpty(at.Groupings)}).map(function(at){return at.Groupings}).flatten().filter(function(at){return!_.isEmpty(at.Projections)}).map(function(at){return at.Projections}).flatten().reduce(function(at,ft){return at[ft]=!0,at},{}).value():{}},xe.prototype.createDataQuery=function(Ve,Le,at,ft,ht,Ge,Re,Xe,Me){var He={Query:this.serializer.serializeQuery(Ve),Binding:ft,AnchorTime:Xe};Le&&(He.Extension=Le),at&&(He.DataSourceVariables=at),Re&&(He.ExecutionMetricsKind=Re);var Mt={Commands:[{SemanticQueryDataShapeCommand:He}]},It=this.generateScriptVisualCommand(ht,Ge);return It&&Mt.Commands.push(It),_.isEmpty(Me)||(He.Query.VisualShape=Me),Mt},xe}();function Fe(xe,Ve,Le,at,ft,ht,Ge,Re,Xe,Me,He,ct,Mt,It){p.fF.assertValue(Ve,"indicesByName"),p.fF.assertValue(Le,"mapping"),p.fF.assertValue(at,"querySelects"),p.fF.assertAnyValue(ft,"additionalProjections"),p.fF.assertAnyValue(ht,"highlightFilter"),p.fF.assertAnyValue(Ge,"restartToken"),p.fF.assertAnyValue(Re,"queryGroupBy"),p.fF.assertAnyValue(Xe,"highVolumeOverride"),p.fF.assertAnyValue(Me,"expansionStates"),p.fF.assertAnyValue(He,"serializer");var Bt=xe();if(Bt.withRestartToken(Ge).withHighlightFilter(ht).withAdditionalProjections(ft).withRolesWithHierarchicalGroupingSupport(It),Le.table?Bt=Bt.withGroupBy(Re):p.fF.assert(function(){return _.isEmpty(Re)},"GroupBy should only be used with table mapping."),2!==Le.updateType)if(Le.categorical)!function(xe,Ve,Le){p.fF.assertValue(xe,"builder"),p.fF.assertValue(Ve,"mapping"),(0,m.Sr)(Ve.categories,{visitRole:function(ft){xe.withPrimaryGroupingNestedByRole(ft.items,ft.activeItems,ft.showAll,ft.subtotalType,!0,Le,ft.role)},visitReduction:function(ft){xe.withPrimaryDataReduction(ft)}}),(0,m.vS)(Ve.values,{visitRole:function(ft){xe.withSecondaryGroupingNestedByRole(ft.items,ft.activeItems,ft.showAll,ft.subtotalType,Le,ft.role)},visitReduction:function(ft){xe.withSecondaryDataReduction(ft)}}),(0,m.fl)(Ve.values,{visitRole:function(ft,ht){xe.withCurrentInnermostPrimaryGrouping(ft.items,ft.showAll,ft.subtotalType,"CategoricalValueGroup"!==ht)}}),xe.withIntersectionDataReduction(Ve.dataReductionAlgorithm).withDataVolume(Ve.dataVolume).withIncludeEmptyGroups(Ve.includeEmptyGroups)}(Bt,Le.categorical,ct);else if(Le.table)!function(xe,Ve){p.fF.assertValue(xe,"builder"),p.fF.assertValue(Ve,"mapping"),(0,m.vV)(Ve,{visitRole:function(at){xe.withPrimaryGroupingNestedByRole(at.items,at.activeItems,at.showAll,at.subtotalType,!0,!1,at.role)},visitReduction:function(at){xe.withPrimaryDataReduction(at)}}),xe.withDataVolume(Ve.dataVolume)}(Bt,Le.table);else if(Le.matrix)!function(xe,Ve,Le,at,ft){p.fF.assertValue(xe,"builder"),p.fF.assertValue(Ve,"mapping");var ht=new Ie(xe,at);(0,m.Ay)(Ve.rows,ht),p.fF.assert(function(){return!Le||Le.length<=1},"Expected max one expansion state");var Ge=function(xe,Ve,Le,at,ft){if(null!=xe&&(p.fF.assertValue(xe,"items"),p.fF.assertAnyValue(Ve,"activeProjections"),!(_.isEmpty(at)||_.isEmpty(Ve)&&ft))){var ht=_.find(at,function(Xe){return _.isEqual(Xe.roles,Le)});if(p.fF.assertValue(ht,"Expansion state should have been found since only 1 is supported"),!_.isEmpty(ht.levels))return xe=_.uniqBy(xe,function(Xe){return Xe.queryName}),Ve=_.uniq(Ve),T(ht,(_.isEmpty(Ve)?xe.length:Ve.length)-1)}}(ht.primaryRoleItems,ht.primaryActiveRoleItems,ht.primaryRoles,Le,at);Ge&&xe.withPrimaryExpansion(Ge),ft&&xe.withPrimaryWindowExpansion(ft),(0,m.yL)(Ve.columns,{visitRole:function(Xe){xe.withSecondaryGroupingNested(Xe.items,Xe.activeItems,Xe.showAll,Xe.subtotalType,at)},visitReduction:function(Xe){xe.withSecondaryDataReduction(Xe)}}),(0,m.hw)(Ve.values,{visitRole:function(Xe){xe.withCurrentInnermostGrouping(Xe.items,Xe.showAll,Xe.subtotalType)}}),xe.withDataVolume(Ve.dataVolume),xe.withIncludeEmptyGroups(Ve.includeEmptyGroups)}(Bt,Le.matrix,Me,ct,Mt);else if(Le.tree)!function(xe,Ve,Le){p.fF.assertValue(xe,"builder"),p.fF.assertValue(Ve,"mapping"),(0,m.Dt)(Ve.nodes,{visitRole:function(ft){xe.withPrimaryGroupingNested(ft.items,ft.activeItems,ft.showAll,ft.subtotalType,Le)},visitReduction:function(ft){xe.withPrimaryDataReduction(ft)}}),(0,m.nA)(Ve.values,{visitRole:function(ft){xe.withCurrentInnermostPrimaryGrouping(ft.items,ft.showAll,ft.subtotalType)}}),xe.withDataVolume(Ve.dataVolume)}(Bt,Le.tree,ct);else if(Le.scriptResult)return Fe(xe,Ve,Le.scriptResult.dataInput,at,ft);return Xe&&Bt.withDataVolume(Xe),Bt.withTopLevelAggregates(Le.scopedAggregates),Bt.toQueryShape(Le)}var Ie=function(){function xe(Ve,Le){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=Ve,this.noDefaultProjections=Le}return xe.prototype.visitRole=function(Ve,Le){var at,ft;if("MatrixRowsScopedValue"===Le)this.builder.withCurrentInnermostPrimaryGrouping(Ve.items,Ve.showAll,Ve.subtotalType,!0);else if(this.inComposite){var ht=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGroupingNestedByRole(Ve.items,Ve.activeItems,Ve.showAll,Ve.subtotalType,ht,this.noDefaultProjections,Ve.role)}else this.builder.withPrimaryGroupingNested(Ve.items,Ve.activeItems,Ve.showAll,Ve.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(Ve.role),(at=this.primaryRoleItems).push.apply(at,Ve.items||[]),_.isEmpty(Ve.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),(ft=this.primaryActiveRoleItems).push.apply(ft,Ve.activeItems||[]))},xe.prototype.visitReduction=function(Ve){this.builder.withPrimaryDataReduction(Ve)},xe.prototype.enterComposite=function(Ve){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount},xe.prototype.exitComposite=function(Ve){if(this.inComposite=!1,this.startedCompositeNest=!1,Ve.dataReductionAlgorithm||Ve.synchronized){var Le=this.compositeGroupingIndexStart,at=this.builder.primaryGroupingCount;if(Le<at){var ft=_.range(Le,at);Ve.synchronized&&this.builder.withPrimarySynchronization({Groupings:ft}),Ve.dataReductionAlgorithm&&this.builder.withScopedDataReduction(Ve.dataReductionAlgorithm,{Primary:ft})}}},xe}();function we(xe){p.fF.assertValue(xe,"query");for(var Ve={},Le=xe.select(),at=xe.groupBy(),ft=0,ht=Le.length;ft<ht;ft++)Ve[Le[ft].name]=ft;for(ft=0,ht=at.length;ft<ht;ft++)Ve[at[ft].name]=ft;return Ve}function he(xe,Ve){if(p.fF.assertValue(xe,"projectionIdx"),p.fF.assertAnyValue(Ve,"axis"),Ve)for(var Le=0,at=Ve.Groupings;Le<at.length;Le++)if(_.includes(at[Le].Projections,xe))return!0}function Oe(xe){p.fF.assertValue(xe,"percentile");var Ve={K:xe.k};return xe.exclusive&&(Ve.Exclusive=xe.exclusive),{Percentile:Ve}}var fe=function(){function xe(Ve,Le,at,ft,ht,Ge){this.disableHidden=ht,this.enableAllSubtotal=Ge,p.fF.assertValue(Ve,"indicesByName"),p.fF.assertValue(Le,"querySelects"),this.indicesByName=Ve,this.querySelects=Le,this.reduction={DataVolume:3},this.joinPredicateBehaviors=[],this.insertProjection=at?s.Gz:s.yg,this.featureSwitches=ft||{},this.hiddenProjections=[]}return Object.defineProperty(xe.prototype,"primaryGroupingCount",{get:function(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0},enumerable:!1,configurable:!0}),xe.prototype.withRestartToken=function(Ve){return p.fF.assertAnyValue(Ve,"restartToken"),this.restartToken=Ve,this},xe.prototype.withPrimaryWindowExpansion=function(Ve){return p.fF.assertAnyValue(Ve,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=function(xe){return N(xe)}(Ve)),this},xe.prototype.withDataVolume=function(Ve){return p.fF.assertAnyValue(Ve,"dataVolume"),null==Ve||(this.reduction.DataVolume=Ve),this},xe.prototype.withIncludeEmptyGroups=function(Ve){return p.fF.assertAnyValue(Ve,"value"),this.includeEmptyGroups=Ve,this},xe.prototype.withHighlightFilter=function(Ve){return p.fF.assertAnyValue(Ve,"value"),this.highlightFilter=Ve,this},xe.prototype.withGroupBy=function(Ve){return p.fF.assertAnyValue(Ve,"queryGroupBy"),_.isEmpty(Ve)||(this.groupByNames=_.map(Ve,function(Le){return Le.name})),this},xe.prototype.withPrimaryGrouping=function(Ve,Le,at,ft,ht,Ge){var Xe,Re=this;if(p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"activeProjection"),p.fF.assertAnyValue(at,"showAll"),p.fF.assertAnyValue(ft,"roleSubtotalType"),p.fF.assert(function(){return!Re.secondary},"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),Ve=this.filterItems(Ve,Le,Ge),_.isEmpty(Ve))return this;this.primary?ht?Xe=_.last(this.primary.Groupings):this.primary.Groupings.push(Xe={Projections:[]}):this.primary={Groupings:[Xe={Projections:[]}]},this.updateGrouping(Xe,Ve,at,ft);var Me=this.getAggregatesForRoleItems(Ve);return this.applyTopLevelAggregates(Me),this},xe.prototype.withPrimaryExpansion=function(Ve){return p.fF.assertAnyValue(Ve,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=Ve,this},xe.prototype.withPrimarySynchronization=function(Ve){return p.fF.assertValue(Ve,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(Ve),this},xe.prototype.ensurePrimaryAxis=function(){this.primary||(this.primary={Groupings:[]})},xe.prototype.ensureSecondaryAxis=function(){this.secondary||(this.secondary={Groupings:[]})},xe.prototype.withPrimaryGroupingNested=function(Ve,Le,at,ft,ht){var Ge=this;return p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"activeProjection"),p.fF.assertAnyValue(at,"showAll"),p.fF.assertAnyValue(ft,"roleSubtotalType"),p.fF.assert(function(){return!Ge.secondary},"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),Ve=this.filterItems(Ve,Le,ht),_.isEmpty(Ve)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,Ve,at,ft))},xe.prototype.withSecondaryGrouping=function(Ve,Le,at,ft,ht){if(p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"activeProjection"),p.fF.assertAnyValue(at,"showAll"),p.fF.assertAnyValue(ft,"roleSubtotalType"),Ve=this.filterItems(Ve,Le,ht),_.isEmpty(Ve))return this;var Ge;if(this.primary){var Re=_.last(this.primary.Groupings);this.containsAll(Re,Ve)?Ge=Re:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push(Ge={Projections:[]}))}else this.primary={Groupings:[Ge={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping(Ge,Ve,at,ft);var Xe=this.getAggregatesForRoleItems(Ve);return this.applyTopLevelAggregates(Xe),this},xe.prototype.withSecondaryExpansion=function(Ve){return p.fF.assertAnyValue(Ve,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=Ve,this},xe.prototype.withSecondaryGroupingNested=function(Ve,Le,at,ft,ht){return p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(at,"showAll"),p.fF.assertAnyValue(ft,"roleSubtotalType"),Ve=this.filterItems(Ve,Le,ht),_.isEmpty(Ve)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),Ge=this.secondary.Groupings):(this.primary={Groupings:Ge=[]},this.pivotedSecondaryToPrimary=!0),this.withNested(Ge,Ve,at,ft));var Ge},xe.prototype.withCurrentInnermostGrouping=function(Ve,Le,at){return p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"showAll"),p.fF.assertAnyValue(at,"roleSubtotalType"),Ve=this.filterItems(Ve,null,!1),_.isEmpty(Ve)||(this.secondary&&(ft=_.last(this.secondary.Groupings)),this.addValuesToGrouping(Ve,Le,at,ft)),this;var ft},xe.prototype.withCurrentInnermostPrimaryGrouping=function(Ve,Le,at,ft){if(p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"showAll"),p.fF.assertAnyValue(at,"roleSubtotalType"),Ve=this.filterItems(Ve,null,!1),_.isEmpty(Ve))return this;if(this.addValuesToGrouping(Ve,Le,at),ft){this.primaryOnlyProjections=this.primaryOnlyProjections||[];for(var ht=0,Ge=Ve;ht<Ge.length;ht++)this.primaryOnlyProjections.push(this.indicesByName[Ge[ht].queryName])}return this},xe.prototype.addValuesToGrouping=function(Ve,Le,at,ft){ft||(ft=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(ft,Ve,Le,at);var ht=this.getAggregatesForRoleItems(Ve);this.applyTopLevelAggregates(ht)},xe.prototype.ensureInnermostPrimaryGrouping=function(){var Ve;return this.primary?Ve=_.last(this.primary.Groupings):this.primary={Groupings:[Ve={Projections:[]}]},Ve},xe.prototype.withPrimaryDataReduction=function(Ve){return Ve&&this.primary?(this.reduction.Primary=(0,V.P)(Ve,this.querySelects),this):this},xe.prototype.withScopedDataReduction=function(Ve,Le){return Ve?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:Le,Algorithm:(0,V.P)(Ve,this.querySelects)}),this):this},xe.prototype.withSecondaryDataReduction=function(Ve){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(Ve);if(!Ve||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var at=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(Ve,{Secondary:at}),this}return this.reduction.Secondary=(0,V.P)(Ve,this.querySelects),this},xe.prototype.withIntersectionDataReduction=function(Ve){return Ve?this.reduction.Primary||this.reduction.Secondary?(p.fF.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):Ve.binnedLineSample?(this.reduction.Intersection=(0,V.P)(Ve,this.querySelects),this):this:this},xe.prototype.withTopLevelAggregates=function(Ve){var Le=this;if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(Ve))return this;var ft=this.convertDataViewMappingAggregate(Ve,function(Ge){return Le.toAggregateScope(Ge,Le.primary.Groupings,0)}),ht=this.getDataShapeBindingAggregates(ft);return this.applyTopLevelAggregates(ht),this},xe.prototype.toAggregateScope=function(Ve,Le,at){p.fF.assertValue(Ve,"scopeAsQueryNames"),p.fF.assertValue(Le,"primaryGroupings");for(var ft=0,ht=this.querySelects,Ge=0,Re=Le;Ge<Re.length;Ge++){var Xe=Re[Ge];if(!_.isEmpty(Xe.ShowItemsWithNoData))return;for(var He=function(Kt){var Yt=ht[Kt];if((0,oe.k)(Yt.expr))return"continue";var Zt=Yt.name;return Ve.some(function(or){return or===Zt})?void 0:ft>at?{value:{PrimaryDepth:ft}}:{value:void 0}},ct=0,Mt=Xe.Projections;ct<Mt.length;ct++){var Bt=He(Mt[ct]);if("object"==typeof Bt)return Bt.value}ft++}if(ft>at)return{PrimaryDepth:ft}},xe.prototype.updateScopeAggregatesForGroupings=function(Ve,Le){var at=this;if(this.featureSwitches.scopedAggregates&&Le&&Ve)for(var ht=0,Ge=0,Re=Le;Ge<Re.length;Ge++){var Xe=Re[Ge],Me=Xe.aggregates&&Xe.aggregates.filter(v.u5);if(!_.isEmpty(Me)){var He=this.convertDataViewMappingAggregate(Me,function(Mt){return at.toAggregateScope(Mt,Ve,ht+1)}),ct=this.getDataShapeBindingAggregates(He);_.isEmpty(ct)||(Ve[ht].Aggregates=ct),ht++}}},xe.prototype.getDataShapeBindingAggregates=function(){for(var Ve=[],Le=0;Le<arguments.length;Le++)Ve[Le]=arguments[Le];for(var at={},ft=0,ht=Ve;ft<ht.length;ft++){var Ge=ht[ft];_.forEach(Ge,function(Re,Xe){for(var Me=at[Xe]=at[Xe]||[],He=function(jt){Me.some(function(Kt){return _.isEqual(Kt,jt)})||Me.push(jt)},ct=0,Mt=Re;ct<Mt.length;ct++)He(Mt[ct])})}return _.map(at,function(Re,Xe){return{Select:+Xe,Aggregations:Re}})},xe.prototype.updateGrouping=function(Ve,Le,at,ft){p.fF.assertValue(Ve,"grouping"),p.fF.assertNonEmpty(Le,"items"),p.fF.assertAnyValue(at,"showAll"),p.fF.assertAnyValue(ft,"roleSubtotalType"),this.addProjections(Ve.Projections,Le);var ht=this.indicesByName;if(at){Ve.ShowItemsWithNoData||(Ve.ShowItemsWithNoData=[]);for(var Ge=0,Re=Le;Ge<Re.length;Ge++)this.insertProjection(Ve.ShowItemsWithNoData,ht[Re[Ge].queryName])}for(var Me=Le[0].subtotalType,He=1,ct=Le.length;He<ct;He++)if(Le[He].subtotalType!==Me){Me=void 0;break}var Mt=function(xe){switch(xe){case 1:return 1;case 2:return 2;case 0:return}}(null!=Me?Me:ft);null!=Mt?Ve.Subtotal=Mt:this.enableAllSubtotal&&(Ve.Subtotal=2);var It=this.groupByNames;It&&(Ve.GroupBy=_.map(It,function(Bt){return ht[Bt]}))},xe.prototype.withNested=function(Ve,Le,at,ft){p.fF.assertValue(Ve,"groupings"),p.fF.assertValue(Le,"items"),p.fF.assertAnyValue(at,"showAll"),p.fF.assertAnyValue(ft,"roleSubtotalType");for(var ht=0,Ge=Le;ht<Ge.length;ht++){var Xe={Projections:[]};this.updateGrouping(Xe,[Ge[ht]],at,ft),Ve.push(Xe)}this.updateScopeAggregatesForGroupings(Ve,Le);var Me=this.getAggregatesForRoleItems(Le);return this.applyTopLevelAggregates(Me),this},xe.prototype.filterItems=function(Ve,Le,at){if(p.fF.assertAnyValue(Ve,"items"),p.fF.assertAnyValue(Le,"activeProjection"),!_.isEmpty(Ve)){Ve=_.uniqBy(Ve,function(ct){return ct.queryName});var ht,ft=this.indicesByName;Le&&(ht=[]);for(var Ge=0,Re=Ve.length;Ge<Re;Ge++){var Xe=Ve[Ge],Me=null,He=Le&&!_.isEmpty(Le)&&!_.includes(Le,Xe.queryName);null==ft[Xe.queryName]?Me=Ge-1:(He||this.isReferenced(Xe))&&(Me=Ge),null==Me?ht&&ht.push(Xe):ht||(ht=Me<0?[]:(0,s.w6)(Ve,0,Me))}return ht||(at?[]:Ve)}},xe.prototype.isReferenced=function(Ve){p.fF.assertValue(Ve,"item");var Le=this.indicesByName[Ve.queryName];return he(Le,this.primary)||he(Le,this.secondary)||_.includes(this.projections,Le)},xe.prototype.containsAll=function(Ve,Le){p.fF.assertValue(Ve,"grouping"),p.fF.assertValue(Le,"items");for(var at=Ve.Projections,ft=this.indicesByName,ht=0,Ge=Le;ht<Ge.length;ht++)if(!_.includes(at,ft[Ge[ht].queryName]))return!1;return!0},xe.prototype.addProjections=function(Ve,Le){p.fF.assertValue(Ve,"projections"),p.fF.assertValue(Le,"items");for(var at=this.indicesByName,ft=0,ht=Le;ft<ht.length;ft++){var Ge=ht[ft],Re=at[Ge.queryName];Ge.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:Ge.queryName}}),this.insertProjection(Ve,Re),this.addJoinPredicateBehavior(Re,Ge.joinPredicate)}},xe.prototype.addJoinPredicateBehavior=function(Ve,Le){this.joinPredicateBehaviors[Ve]?void 0===Le&&(this.joinPredicateBehaviors[Ve].behavior=Le):this.joinPredicateBehaviors[Ve]={behavior:Le}},xe.prototype.withRolesWithHierarchicalGroupingSupport=function(Ve){return p.fF.assertAnyValue(Ve,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(Ve)||(this.rolesWithHierarchicalGroupingSupport=Ve),this},xe.prototype.withPrimaryGroupingNestedByRole=function(Ve,Le,at,ft,ht,Ge,Re){return this.isRoleSupportHierachryGrouping(Re)?this.withPrimaryGroupingNested(Ve,Le,at,ft,Ge):this.withPrimaryGrouping(Ve,Le,at,ft,ht,Ge)},xe.prototype.isRoleSupportHierachryGrouping=function(Ve){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(Ve)},xe.prototype.withSecondaryGroupingNestedByRole=function(Ve,Le,at,ft,ht,Ge){return this.isRoleSupportHierachryGrouping(Ge)?this.withSecondaryGroupingNested(Ve,Le,at,ft,ht):this.withSecondaryGrouping(Ve,Le,at,ft,ht)},xe.prototype.withAdditionalProjections=function(Ve){return p.fF.assertAnyValue(Ve,"additionalProjections"),_.isEmpty(Ve)||(this.additionalProjections=Ve),this},xe.prototype.applyAdditional=function(Ve){var at,Le=this,ft=this.querySelects,ht=this.additionalProjections,Ge=j.findActive(Ve);if(!_.isEmpty(ht))for(var Re=this.primary,Xe=this.secondary,Me=this.projections,He=function(Kt){var Yt=(0,l.P6)(null===(at=Kt.selector)||void 0===at?void 0:at.data,ft,Ge);p.fF.assert(function(){return void 0!==Yt},"scopeRefs !== undefined");var Zt=ct.indicesByName[Kt.queryName],or=ct.convertProjectionAggregates(Zt,Kt.aggregates);if(or&&ct.applyTopLevelAggregates([or]),null===Yt)return Kt.aggregates||(Me||(ct.projections=Me=[]),ct.insertProjection(Me,Zt),ct.addJoinPredicateBehavior(Zt,Kt.joinPredicate)),"continue";var _r=_.map(Yt,function(Cr){return Le.indicesByName[Cr]}),Pr=Xe&&!_.isEmpty(Xe.Groupings),mt=!!Ve.categorical&&Pr&&ct.featureSwitches.categoricalSecondaryCF,Rt=mt?Xe:Re,Xt=mt?Re:Xe,dr=_r.length,ar=Re&&ct.addAdditional(Zt,_r,Rt);ar&&Pr&&Rt===Re&&ct.addSuppressedProjection(_.last(Xe.Groupings),Zt);var gr=_r.length;ar||(ar=Pr&&ct.addAdditional(Zt,_r,Xt))&&Xt===Re&&dr===gr&&ct.addSuppressedProjection(_.last(Xe.Groupings),Zt),ar&&ct.addJoinPredicateBehavior(Zt,Kt.joinPredicate)},ct=this,Mt=0,It=ht;Mt<It.length;Mt++)He(It[Mt])},xe.prototype.addAdditional=function(Ve,Le,at){p.fF.assertValue(Ve,"projectionIdx"),p.fF.assertNonEmpty(Le,"remainingScopeRefs"),p.fF.assertValue(at,"axis"),p.fF.assertNonEmpty(at.Groupings,"groupings");for(var Ge,ft=at.Groupings,ht=!1,Re=0;Re<ft.length;Re++)if(Ge=ft[Re],ht)this.addSuppressedProjection(Ge,Ve);else if(_.remove(Le,function(Xe){return _.includes(Ge.Projections,Xe)}),0===Le.length){if(!this.isProjectingOnNonLeafGrouping(Re,at))return this.insertProjection(_.last(ft).Projections,Ve),!0;this.insertProjection(Ge.Projections,Ve),ht=!0}return ht},xe.prototype.isProjectingOnNonLeafGrouping=function(Ve,Le){p.fF.assertValue(Le,"axis"),p.fF.assertNonEmpty(Le.Groupings,"groupings"),p.fF.assert(function(){return Ve>=0&&Ve<Le.Groupings.length},"out-of-bound projection target");var ft=Le.Groupings.length;return!(Ve===ft-1||2!==ft||!Le.Synchronization)},xe.prototype.addSuppressedProjection=function(Ve,Le){p.fF.assertValue(Ve,"grouping"),Ve.SuppressedProjections||(Ve.SuppressedProjections=[]),this.insertProjection(Ve.SuppressedProjections,Le)},xe.prototype.applyTopLevelAggregates=function(Ve){var Le;_.isEmpty(Ve)||(this.aggregates||(this.aggregates=[]),(Le=this.aggregates).push.apply(Le,Ve))},xe.prototype.getAggregatesForRoleItems=function(Ve){for(var Le=[],at=0,ft=Ve;at<ft.length;at++){var ht=ft[at];ht.aggregates&&Le.push(this.convertDataViewMappingAggregate(ht.aggregates,ht.queryName))}if(!_.isEmpty(Le))return this.getDataShapeBindingAggregates.apply(this,Le)},xe.prototype.convertDataViewMappingAggregate=function(Ve,Le){var at,ft;_.isFunction(Le)?p.fF.assertValue(ft=Le,"Need `getAggregateScope` when aggregates are scoped"):at=this.indicesByName[Le];for(var ht={},Ge=function(Mt){var It=void 0,Bt=void 0;if((0,v.u5)(Mt)){if(!(ft&&(It=Mt.queryName?Re.indicesByName[Mt.queryName]:at,Bt=Mt.scope&&ft(Mt.scope))))return"continue"}else It=at;p.fF.assertValue(It,"aggregate must provide a queryName or a defaultQueryName must be provided");var jt=ht[It]=ht[It]||[],Kt=!!Bt||void 0;p.fF.assert(function(){return Mt.min||Mt.max||Mt.average},"Aggregates must aggregate"),Mt.min&&jt.push({Scope:Bt,RespectInstanceFilters:Kt,Min:{}}),Mt.max&&jt.push({Scope:Bt,RespectInstanceFilters:Kt,Max:{}}),Mt.average&&jt.push({Scope:Bt,RespectInstanceFilters:Kt,Average:{}})},Re=this,Xe=0,Me=Ve;Xe<Me.length;Xe++)Ge(Me[Xe]);return _.isEmpty(ht)?void 0:ht},xe.prototype.convertProjectionAggregates=function(Ve,Le){if(p.fF.assertValue(Ve,"projectionIdx"),p.fF.assertAnyValue(Le,"aggregates"),Le){var at=[],ft={Select:Ve,Aggregations:at};if(Le.min&&at.push({Min:{}}),Le.max&&at.push({Max:{}}),Le.average&&at.push({Average:{}}),Le.median&&at.push({Median:{}}),Le.percentiles)for(var ht=0,Ge=Le.percentiles;ht<Ge.length;ht++)at.push(Oe(Ge[ht]));return p.fF.assert(function(){return!_.isEmpty(ft.Aggregations)},"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),ft}},xe.prototype.suppressProjectionsIfNeeded=function(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary)for(var Ve=_.last(this.secondary.Groupings),Le=0,at=this.primaryOnlyProjections;Le<at.length;Le++)this.addSuppressedProjection(Ve,at[Le])},xe.prototype.toQueryShape=function(Ve){var Le;this.applyAdditional(Ve),this.suppressProjectionsIfNeeded();var at=this.primary,ft=this.projections;if(!at){if(!ft)return;at={Groupings:[{Projections:ft}]},ft=null}var ht=this.restartToken;if(ht){var Ge=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=ht,Ge=!0),this.reduction.Scoped){for(var Re=0,Xe=this.reduction.Scoped;Re<Xe.length;Re++){var Me=Xe[Re];Me.Algorithm.Window&&(p.fF.assert(function(){return!Ge},"Only 1 scoped window is allowed at this time"),Me.Algorithm.Window.RestartTokens=ht,Me.Algorithm.Window.RestartMatchingBehavior=1,Ge=!0)}p.fF.assert(function(){return Ge},"A restartToken was present but it wasn't assigned to any window.")}}var He={Primary:at};this.secondary&&(He.Secondary=this.secondary),ft&&(He.Projections=ft),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(He.DataReduction=this.reduction),this.includeEmptyGroups&&(He.IncludeEmptyGroups=this.includeEmptyGroups);var ct=this.aggregates;ct&&(He.Aggregates=ct);for(var Mt=[],It=0;It<this.joinPredicateBehaviors.length;It++)if(this.joinPredicateBehaviors[It]&&0===this.joinPredicateBehaviors[It].behavior){var Bt=null===(Le=this.querySelects[It])||void 0===Le?void 0:Le.expr;(!Bt||!(0,c.jX)(Bt))&&Mt.push(It)}return _.isEmpty(Mt)||(He.SuppressedJoinPredicates=Mt),!this.disableHidden&&!_.isEmpty(this.hiddenProjections)&&(He.HiddenProjections=this.hiddenProjections),He.Version=1,this.highlightFilter&&(He.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(He.isPivoted=this.pivotedSecondaryToPrimary),He},xe}();function ne(xe,Ve){return[new Ne,new tt(xe,Ve),new et]}var Ne=function(xe){function Ve(){return null!==xe&&xe.apply(this,arguments)||this}return(0,t.__extends)(Ve,xe),Ve.prototype.visitScopedEval=function(Le){return _.isEmpty(Le.scope)?Le:(0,u.ed)(Le.expression,_.filter(Le.scope,function(at){return!(0,c.DB)(at)}))},Ve}(a.b),et=function(xe){function Ve(){return null!==xe&&xe.apply(this,arguments)||this}return(0,t.__extends)(Ve,xe),Ve.prototype.visitGroupRef=function(Le){return new u.Wh(Le.source,Le.ref)},Ve}(a.b),tt=function(xe){function Ve(Le,at){var ft=xe.call(this)||this;return ft.mappings=Le,ft.selects=at,ft}return(0,t.__extends)(Ve,xe),Ve.prototype.visitScopedEval=function(Le){for(var at=[],ft=!1,ht=0,Ge=Le.scope;ht<Ge.length;ht++){var Re=Ge[ht];if((0,c.yL)(Re)){ft=!0;for(var Xe=0,Me=this.mappings;Xe<Me.length;Xe++){var Mt=j.findActive(Me[Xe])[Re.role];if(Mt)for(var It=function(or){var _r=_.find(Bt.selects,function(Pr){return Pr.name===or});_r&&at.push(_r.expr)},Bt=this,jt=0,Kt=Mt;jt<Kt.length;jt++)It(Kt[jt])}}else at.push(Re)}return ft?(0,u.ed)(Le.expression,_.uniqBy(at,function(Zt){return M.ib.serializeExpr(Zt)})):Le},Ve}(a.b)},288115:function(ze,K,r){r.d(K,{KI:function(){return e}});var t=r(226514),c=r(787941),i=r(324356),s=r(516469),p=r(169170),V=r(25026),m=r(786219),v=function(){function D(P){this.elements=P,this.currentIndex=-1}return D.prototype.reset=function(P){var M=this;this.currentIndex=-1,P&&(c.fF.assert(function(){return M.elements!==P},"Resetting with same elements"),this.elements=P)},D.prototype.count=function(){return _.size(this.elements)},D.prototype.current=function(){var P=this;return c.fF.assert(function(){return P.currentIndex>=0},"Invalid Iterator index"),this.elements[this.currentIndex]},D.prototype.done=function(){return this.currentIndex===_.size(this.elements)-1},D.prototype.next=function(){return!this.done()&&(this.currentIndex++,!0)},D.prototype.index=function(){return this.currentIndex},D}();function e(D,P){return new h(D,P)}var h=function(){function D(P,M){this.dsrParserContext=M,c.fF.assertValue(P,"dsr"),c.fF.assertAnyValue(M,"dsrParserContext"),this.parser=new u(P.DS,this.dsrParserContext)}return D.prototype.dataShapes=function(){return this.parser},D.prototype.reset=function(){this.parser.reset()},D.prototype.lockCache=function(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)},D}(),n=function(){function D(P){this.calculationContainerKind=P,this.nullValuesHandler=new S,this.repeatedValuesHandler=new y}return D.prototype.initialize=function(P,M){this.lastContainerCalculations=M,this.repeatedValuesHandler.initialize(P&&P.R,M),this.nullValuesHandler.initialize(P&&P.\u00d8)},D.prototype.getCurrentCalc=function(P,M,T,R){var N,B=this;return c.fF.assert(function(){return P>=0},"unexpected position input"),T?void 0!==(N=this.repeatedValuesHandler.tryRead(P))?N:void 0!==(N=this.nullValuesHandler.tryRead(P))?(this.lastContainerCalculations[P]=null,N):(M?M.next()&&(N=M.current(),this.lastContainerCalculations[P]=N):(c.fF.assert(function(){return!!R},"Unexpected calcId"),void 0===(N=T[R])&&(N=null),this.lastContainerCalculations[P]=N),N):(c.fF.assert(function(){return 3===B.calculationContainerKind},"Unexpected Empty DataShape/DataMemberInstance as calc container"),null)},D}(),o=function(){function D(P,M,T){this.context=P,this.calcMetadataCacheKey=T,this.baseCalculationParser=new n(M)}return D.prototype.setCalculations=function(P){c.fF.assertAnyValue(P,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=P;var M=this.context;if(M){var T=this.calcMetadataCacheKey,R=P.S;R&&(this.metadata=R,T&&!M.locked&&(M.memberInstanceCalcMetadataCache[T]=R),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(R.length))),M.instancesCalcCache[T]&&(this.lastContainerCalculations=M.instancesCalcCache[T]),this.baseCalculationParser.initialize(P,this.lastContainerCalculations);var B=P.C;(R=this.getCalcMetadata())?this.calcMetadataIt=new v(R):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(B)>0?new v(B):void 0}},D.prototype.restartCalcs=function(){c.fF.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),c.fF.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue},D.prototype.nextCalc=function(){var P=!1,M=this.calcMetadataIt;return M&&((P=M.next()||P)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(M.index(),this.calcIt,this.calculationContainer,this.calcId())),M.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),P||!1},D.prototype.calcId=function(){return this.metadata[this.calcMetadataIt.index()].N},D.prototype.getCalcMetadata=function(){var P=this.metadata;return P||(P=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),P},D.prototype.calcValue=function(){var P=this.metadata[this.calcMetadataIt.index()],M=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,P.DN,P.T);return void 0===M&&(M=(0,s.Yt)(this.dsrCalcValue,P.T)),M},D.prototype.calcValueAsExpr=function(){var P=this;c.fF.assert(function(){return void 0!==P.dsrCalcValue},"Unexpected parsedCalcValue");var M=this.calcMetadataIt.current(),T=this.calcValue(),R=this.context.valueDictionaryHandler.getCalcValueExpr(T,this.dsrCalcValue,M.DN,M.T);return R||(R=(0,s.HL)(T,this.dsrCalcValue,M.T)),R},D.prototype.calcCount=function(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0},D}(),u=function(D){function P(M,T,R){var B=D.call(this,T,1)||this;return B.parserContext=T,B.rootDataShape=R,c.fF.assertValue(M,"dataShapes"),c.fF.assertAnyValue(T,"parserContext"),B.it=new v(M),B}return(0,t.__extends)(P,D),P.prototype.reset=function(){this.it.reset()},P.prototype.index=function(){return this.it.index()},P.prototype.count=function(){return this.it.count()},P.prototype.next=function(){var M;this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var T=this.it.next();if(T){var R=this.it.current();this.setCalculations(R),this.context&&(this.context.valueDictionaryHandler=new m.cd(R.ValueDicts||(null===(M=this.rootDataShape)||void 0===M?void 0:M.ValueDicts)))}return T},P.prototype.id=function(){return this.it.current().N},P.prototype.nestedDataShapes=function(){c.fF.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var M=this.it.current(),T=M.DS;if(!_.isArray(T)||T.length<1)return{};for(var R={},B=function(F){var O=_.find(T,function(L){return L.N===F.dataShapeId});c.fF.assertValue(O,"No DataShape with ID "+F.dataShapeId),O&&(R[O.N]=new P([O],F.context,N.rootDataShape||M))},N=this,x=0,A=this.context.primarySynchronizedGroups;x<A.length;x++)B(A[x]);return R},P.prototype.primaryHierarchy=function(){var M=this;if(c.fF.assert(function(){return null!=M.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var T=this.it.current().PH;this.primaryHierarchyParser=T&&new d(T,this.parserContext,0,0)}return this.primaryHierarchyParser},P.prototype.secondaryHierarchy=function(){var M=this;if(c.fF.assert(function(){return null!=M.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var T=this.it.current().SH;this.secondaryHierarchyParser=T&&new d(T,this.parserContext,1,0)}return this.secondaryHierarchyParser},P.prototype.messages=function(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new l(this.it.current().Msg)),this.messageParser},P.prototype.hasRestartTokens=function(){return _.size(this.restartTokens())>0},P.prototype.restartTokens=function(){var M=this.it.current(),T=M.DW;return _.isEmpty(T)?M.RT:(c.fF.assert(function(){return 1===T.length},"Multiple data windows are not yet handled"),T[0].RT)},P.prototype.complete=function(){var M=this.it.current(),T=M.DW;return _.isEmpty(T)?M.IC:(c.fF.assert(function(){return 1===T.length},"Multiple data windows are not yet handled"),T[0].IC)},P.prototype.hasAllData=function(){return this.it.current().HAD},P.prototype.limitsExceeded=function(){return _.size(this.it.current().DLEx)>0},P.prototype.limits=function(){return this.limitsParser||(this.limitsParser=new a(this.it.current().DLEx)),this.limitsParser},P}(o),a=function(){function D(P){c.fF.assertValue(P,"limits"),this.it=new v(P)}return D.prototype.next=function(){return this.it.next()},D.prototype.id=function(){return this.it.current().N},D.prototype.count=function(){return this.it.count()},D}(),l=function(){function D(P){c.fF.assertValue(P,"dataShapeMessage"),this.it=new v(P)}return D.prototype.next=function(){return this.it.next()},D.prototype.code=function(){return this.it.current().Code},D.prototype.severity=function(){return this.it.current().Severity},D.prototype.dsrMessage=function(){return new V.lp(this.it.current())},D}(),d=function(){function D(P,M,T,R){this.context=M,this.hierarchy=T,this.depth=R,c.fF.assertValue(P,"dataMembers"),this.it=new v(P)}return D.prototype.count=function(){return this.it.count()},D.prototype.reset=function(){this.it.reset(),this.dataMemberId=void 0},D.prototype.next=function(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var P=this.it.next();if(P){var M=this.dataMemberIdCache();if(_.size(M)>0)for(var T=this.it.current(),R=0,B=M[this.depth];R<B.length;R++){var N=B[R];T[N]&&(this.dataMemberId=N)}if(void 0===this.dataMemberId){var x=Object.keys(this.it.current());1===_.size(x)?this.dataMemberId=x[0]:c.fF.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return P},D.prototype.id=function(){return this.dataMemberId},D.prototype.dataMemberIdCache=function(){return 0===this.hierarchy?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache},D.prototype.instances=function(){if(!this.instancesParser){var P=this.it.current()[this.dataMemberId];this.instancesParser=P&&new b(P,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser},D}(),b=function(D){function P(M,T,R,B,N){var x=D.call(this,T,2,R)||this;return x.parentDataMemberId=R,x.hierarchy=B,x.depth=N,c.fF.assertValue(M,"instances"),x.it=new v(M),x}return(0,t.__extends)(P,D),P.prototype.next=function(){var M=this,T=this.it.next();if(T){var R=this.it.current();!this.context.locked&&!R.M&&1===this.hierarchy&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(R),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,c.fF.assert(function(){return 1!==M.hierarchy||!R.Intersections},"secondary hierarchy should not have any intersections")}return T},P.prototype.count=function(){return this.it.count()},P.prototype.currentIndex=function(){return this.it.index()},P.prototype.intersections=function(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var M=this.it.current().X;return this.intersectionParser=M&&new f(M,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser},P.prototype.restartFlagKind=function(){return this.it.current().RF},P.prototype.restartKind=function(){return this.it.current().RK},P.prototype.members=function(){if(!this.dataMemberIt){var M=this.it.current().M;this.dataMemberIt=M&&new d(M,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt},P}(o),f=function(){function D(P,M,T){this.context=M,this.parentDataMemberId=T,c.fF.assertValue(P,"intersections"),this.it=new v(null),this.reset(P),this.baseCalculationParser=new n(3),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var R=M.dataMemberIdToMetadata[T];this.primaryMemberIsGroupMember=1===R.kind,this.primaryDataMemberDepth=R.depth,c.fF.assertValue(M.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=M.intersectionCalcMetadataCache[T],!this.calcMetadataCache&&!M.locked&&(this.calcMetadataCache=M.intersectionCalcMetadataCache[T]=new Array(this.expectedIntersectionCount))}return D.prototype.reset=function(P){this.it.reset(P),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=P.length>0},D.prototype.next=function(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var P=this.it.next();return P&&this.initialize(this.it.current()),P}if(this.hasIntersectionElements){var M=void 0;if((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((M=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=M.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)return M||(M=this.it.current()),this.initialize(M),!0}return this.initialize(),!0},D.prototype.setIntersectionId=function(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]},D.prototype.resetCalcIt=function(P){var M=P&&P.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=M?new v(M):void 0},D.prototype.initialize=function(P){var M=this;if(c.fF.assert(function(){return M.logicalIntersectionIndex>=0},"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(P),P){var T=P.S;if(T&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=T.length),c.fF.assert(function(){return null==M.calcMetadataCache[M.logicalIntersectionIndex]},"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=T;for(var R=this.context.calcIdToCalcMetadata,B=0,N=T;B<N.length;B++)R[N[B].N]=T}}this.calculationContainer=P;var A=this.context.lastIntersectionCalcCache[this.intersectionId];!A&&this.intersectionId&&(A=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(P,A);var I=this.getCalcMetadata();I&&(this.currentCalcMetadata=I,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))},D.prototype.restartCalcs=function(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc},D.prototype.nextCalc=function(){var P=++this.currentCalcIndex;return P<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(P,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)},D.prototype.calcId=function(){return this.currentCalcMetadata[this.currentCalcIndex].N},D.prototype.getCalcMetadata=function(){var P=this;c.fF.assert(function(){return P.logicalIntersectionIndex>=0},"getCalcMetadata can return metadata only for valid logical intersection");var M=this.calcMetadataCache[this.logicalIntersectionIndex];if(!M&&!this.context.locked){var T=this.getExpectedCalcId();T&&(M=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[T])}return M},D.prototype.getExpectedCalcId=function(){if(0!==this.intersectionMeasureCount){var P=this.context,M=P.dataMemberIdToMetadata[P.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],B=P.selects[this.currentCalcIndex<0?P.intersectionMeasureToSelectIndex[0]:P.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(1===M.kind&&this.primaryMemberIsGroupMember)return B.Value;if(B.Subtotal){var N=p.A1.computeAggIdx(this.primaryDataMemberDepth,M.depth,P.maxPrimaryDepth,P.maxSecondaryDepth);return B.Subtotal.length>N&&B.Subtotal[N]}}},D.prototype.calcValue=function(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null},D.prototype.parseCalcValue=function(P){var M=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],T=this.context.valueDictionaryHandler.getCalcValue(P,M.DN,M.T);return void 0===T&&(T=(0,s.Yt)(P,M.T)),T},D.prototype.calcValueAsExpr=function(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var P=this.calcValue();return null===P?(0,i.IF)():this.parseCalcValueExpr(this.it.current()[this.calcId()],P)}return(0,i.IF)()},D.prototype.parseCalcValueExpr=function(P,M){var T=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],R=this.context.valueDictionaryHandler.getCalcValueExpr(M,P,T.DN,T.T);return void 0===R&&(R=(0,s.HL)(M,P,T.T)),R},D.prototype.calcCount=function(){return this.calcIt?this.calcIt.count():0},D}(),g=function(){function D(){}return D.prototype.initialize=function(P){this.value=P,this.overflowValue=P>D.MaxSignedNumberFor32Bits?function(D){var P=D.toString(2),M=P.substr(0,P.length-31);return parseInt(M,2)}(P):0},D.prototype.hasBitAtPosition=function(P){if(c.fF.assert(function(){return P>=0},"expected positive integer for position"),P>52)return!1;if(this.value>0){var M=0,T=this.value;return P<31?M=1<<P:(M=1<<P-31,T=this.overflowValue),(T&M)>0}},D.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,D}(),S=function(){function D(){this.bitSequenceHandler=new g}return D.prototype.initialize=function(P){this.bitSequenceHandler.initialize(P)},D.prototype.tryRead=function(P){if(this.bitSequenceHandler.hasBitAtPosition(P))return null},D}(),y=function(){function D(){this.bitSequenceHandler=new g}return D.prototype.initialize=function(P,M){this.bitSequenceHandler.initialize(P),this.lastContainerCalculations=M},D.prototype.tryRead=function(P){if(this.bitSequenceHandler.hasBitAtPosition(P))return this.lastContainerCalculations[P]},D}()},39326:function(ze,K,r){r.d(K,{H:function(){return p}});var t=r(226514),c=r(787941),i=r(324356),p=function(V){function m(){return null!==V&&V.apply(this,arguments)||this}return(0,t.__extends)(m,V),m.prototype.visitColumnRef=function(v,e){if(v.hasGroupOnKeys(e)){var h=v.getConceptualProperty(e),n=v.getTargetEntity();return _.map(h.column.keys,function(o){return(0,i.Oh)(n,o.name)})}return[v]},m.prototype.visitHierarchyLevel=function(v,e){var h=v.arg.getTargetEntity();if(!h)return[v];if(v.arg instanceof i.jE){var n=void 0,o=h.schema,u=v.arg;if(u.arg instanceof i.c7){var a=u.arg,l=e.schema(o).findTargetEntityOfVariation(h.entity,a.property,a.name);if(!l)return[v];n=(0,i.nw)(o,l.name)}else n=h,c.fF.assert(function(){return u.arg instanceof i.PN},".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var d=e.schema(o).findHierarchyLevel(n.entity,u.hierarchy,v.level);return this.visitColumnRef((0,i.Oh)(n,d.column.name),e)}return[v]},m.prototype.visitGroupRef=function(v,e){return this.visitColumnRef(v,e)},m.prototype.visitDefault=function(v){return c.fF.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[v]},m}(r(116170).Ml)},336667:function(ze,K,r){r.d(K,{r:function(){return i}});var t=r(787941),c="noQueryName",i=function(){function s(p,V,m,v){this.deepestNodeLevelInPath=-1,this.measures=V||[],this.dataMap=p||null,this.nodeIsCollapsed=null!=m?m:null,this.nodeIndexes=null!=v?v:[]}return s.prototype.withCategory=function(p,V,m){var v,e;return void 0===m&&(m=!1),p&&p.source&&p.identity&&p.identity[V]&&(v=p.identity[V],e=p.source.queryName||c),this.addItemToDataMap(e,v),this},s.prototype.withSeries=function(p,V,m){var v,e;return void 0===m&&(m=!1),p&&p.source&&V&&(v=V.identity,e=p.source.queryName||c),this.addItemToDataMap(e,v),this},s.prototype.withMeasure=function(p){return this.measures.push(p),this},s.prototype.withMatrixNode=function(p,V,m){if(void 0===m&&(m=!1),!p)return this;var v,e,n=p.level;return p.identity&&V&&V[n]&&V[n].sources&&V[n].sources[0]&&(v=p.identity,e=V[n].sources[0].queryName||c),this.addItemToDataMap(e,v,p.isCollapsed,n,p.nodeIndex),this},s.prototype.withTable=function(p,V,m){var v,e;return void 0===m&&(m=!1),p&&p.identity&&null!=V&&(e=(v=p.identity[V])?JSON.stringify(v):c),this.addItemToDataMap(e,v),this},s.prototype.equals=function(p){var V=p;return!!(this.compareMeasures(this.measures,V.measures)&&this.compareMetadata(this.getSelector(),V.getSelector())&&this.compareMetadata(V.getSelector(),this.getSelector()))},s.prototype.createSelectionId=function(p){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this},s.prototype.getKey=function(){return this.key},s.prototype.includes=function(p,V){void 0===V&&(V=!1);var m=p;return!!(!this.dataMap&&this.compareMeasures(this.measures,m.measures)||this.dataMap&&m.dataMap&&this.compareMetadata(this.getSelector(),m.getSelector()))},s.prototype.hasIdentity=function(){return!!this.dataMap},s.prototype.compareMeasures=function(p,V){if(p.length!==V.length)return!1;for(var m=0,v=V;m<v.length;m++)if(-1===p.indexOf(v[m]))return!1;return!0},s.prototype.compareMetadata=function(p,V){if(!p.data&&V.data||p.data&&!V.data)return!1;if(!p.data&&!V.data)return!0;for(var m=function(u){if(!V.data.some(function(a){return JSON.stringify(a)===JSON.stringify(u)}))return{value:!1}},v=0,e=p.data;v<e.length;v++){var n=m(e[v]);if("object"==typeof n)return n.value}return!0},s.prototype.addItemToDataMap=function(p,V,m,v,e){if(V){this.dataMap||(this.dataMap={});var h=this.dataMap,n=h[p];if(null==n)return h[p]=[V],null!=m&&null!=v&&v>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=m,this.deepestNodeLevelInPath=v),void(null!=e&&this.nodeIndexes.push(e));n.push(V)}},s.prototype.getSelector=function(){var p=this,V={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){V.data=[];var m=function(n){t.fF.assert(function(){return p.dataMap[n].length<=1},"dataMap can only have one selector per column"),V.data.push(v.dataMap[n][0])},v=this;for(var e in this.dataMap)m(e)}return V},s.prototype.getSelectorsByColumn=function(){return null},s}()},516469:function(ze,K,r){r.d(K,{H2:function(){return e},HL:function(){return u},K0:function(){return n},Yt:function(){return o},bE:function(){return h}});var t=r(338780),c=r(787941),i=r(289135),s=r(324356),p=r(592042),V=/''/g,m="base64'",v=/\.000'$/;function e(d){return a(d)}function h(d){return a(d,!0)}function n(d){return d&&_.startsWith(d,m)?d.substring(m.length,d.length-1):null}function o(d,b){if(c.fF.assert(function(){return void 0!==d},"Undefined dsrValue indicates a DSR parsing bug"),null===d)return null;switch(b){case 4:return c.fF.assert(function(){return"string"==typeof d||"number"==typeof d},"Expected only string or number values for type ".concat(b)),"number"==typeof d?d:parseInt(d,10);case 2:case 3:return c.fF.assert(function(){return"string"==typeof d||"number"==typeof d},"Expected only string or number values for type ".concat(b)),"number"==typeof d?d:l(d);case 7:case 6:if(c.fF.assert(function(){return"string"==typeof d||"number"==typeof d},"Expected only string or number values for type ".concat(b)),"number"==typeof d){c.fF.assert(function(){return d>=0},"Expected positive miliseconds since UNIX epoch for type ".concat(b));var f=new Date(d),g=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),S=new Date(f.getTime()+6e4*g.getTimezoneOffset());return S.epochTimeStamp=d,S}var y=(0,t.Kk)(d);return y&&(0,i.Fg)(y);case 1:return c.fF.assert(function(){return"string"==typeof d},"Expected only string values for type ".concat(b)),d;case 5:return c.fF.assert(function(){return"number"==typeof d||"boolean"==typeof d},"Expected number or boolean values for type ".concat(b)),"number"==typeof d?1===d:d;case 13:return c.fF.assert(function(){return"string"==typeof d||"boolean"==typeof d},"Expected only string or boolean values for type ".concat(b)),a(d);default:c.fF.assertFail("unsupported dsrValue for type ".concat(b))}}function u(d,b,f){if(null===d)return(0,s.IF)();switch(f){case 4:return"number"==typeof b?(0,s.cA)(+d):(0,s.f7)(260,+d,b.toString());case 2:return"number"==typeof b?(0,s.gH)(+d):(0,s.f7)(258,+d,b.toString());case 3:return"number"==typeof b?(0,s.tx)(+d):(0,s.f7)(259,+d,b.toString());case 7:case 6:return"number"==typeof b?new s.jz(p.Ge.fromExtendedType(519),d):(0,s.f7)(519,d,b.toString());case 1:return(0,s.fL)(d.toString());case 5:return(0,s.O7)(!!d);case 13:return a(b,!0);default:c.fF.assertFail("unsupported dsrValue for type ".concat(f))}}function a(d,b){var f=typeof d;if("string"===f){if(_.endsWith(d,"L")){var g=parseInt(d,10);return b?(0,s.cA)(g,d):g}if(_.endsWith(d,"D")){var S=l(d);return b?(0,s.tx)(S,d):S}if(_.endsWith(d,"M")){var y=l(d);return b?(0,s.gH)(y,d):y}if(_.endsWith(d,"'")){if("'"===d.charAt(0)){var C=d.substring(1,d.length-1).replace(V,"'");return b?(0,s.fL)(C,d):C}if(0===d.indexOf("datetime'")){var E=d.replace(v,"'"),D=d.substring(9,E.length-1),P=(0,t.Kk)(D);return b?(0,s.CQ)(P,E):P}}if("null"===d)return b?(0,s.IF)():null;if("true"===d)return!b||(0,s.O7)(!0);if("false"===d)return!!b&&(0,s.O7)(!1)}return"boolean"===f?b?(0,s.O7)(d):d:null===d?b?(0,s.IF)():null:d}function l(d){var b=parseFloat(d);return isNaN(b)?parseFloat(d.replace("INF","Infinity")):b}},64681:function(ze,K,r){r.d(K,{Db:function(){return n},Tq:function(){return o},Ui:function(){return u},dq:function(){return h},if:function(){return a},vH:function(){return e}});var t=r(226514),c=r(456535),i=r(787941),s=r(44615),p=r(597098),V=r(324356),m=r(334048),v=r(983172);function e(S){i.fF.assertValue(S,"changes");for(var y=[],C=0,E=S.length;C<E;C++){var D=S[C];D.measureMove&&y.push(h(D.measureMove)),D.entityRename&&y.push(n(D.entityRename)),D.propertyRename&&y.push(o(D.propertyRename)),D.hierarchyLevelRename&&y.push(u(D.hierarchyLevelRename))}return y}function h(S){return i.fF.assertValue(S,"measureMove"),new d(S)}function n(S){return i.fF.assertValue(S,"entityRename"),new l(S)}function o(S){return i.fF.assertValue(S,"propertyRename"),new b(S)}function u(S){return i.fF.assertValue(S,"hierarchyLevelRename"),new f(S)}function a(S){return i.fF.assertValue(S,"setSchemaMeasure"),new g(S)}var l=function(S){function y(C){var E=this;return i.fF.assertValue(C,"change"),(E=S.call(this)||this).change=C,E}return(0,t.__extends)(y,S),y.prototype.visitColumnRef=function(C){if(i.fF.assertValue(C,"expr"),(0,c.Lk)(C.source)||(0,c.jv)(C.source)){var E=C.source.accept(this);return E!==C.source?new V.Wh(E,C.ref):C}return C},y.prototype.visitEntity=function(C){var E=this.change;return C.schema===E.schema&&C.entity===E.before?new V.PN(C.schema,E.after,C.variable):C},y.prototype.visitSubqueryRef=function(C){if(i.fF.assertValue(C,"expr"),C.query){var E=C.query.rewrite(this);return E!==C.query?new V.wb(E):C}return C},y}(m.b),d=function(S){function y(C){var E=this;return i.fF.assertValue(C,"change"),(E=S.call(this)||this).change=C,E}return(0,t.__extends)(y,S),y.prototype.visitMeasureRef=function(C){var E=this.change,D=(0,s.Um)((0,p.Q)(C));if(i.fF.assertValue(D,"fieldPattern"),D.schema===E.schema&&D.entity===E.source&&C.ref===E.property){var P=new V.PN(D.schema,E.destination);return new V.UY(P,E.property)}return C},y.prototype.visitSubqueryRef=function(C){if(C.query){var E=C.query.rewrite(this);return E!==C.query?new V.wb(E):C}return C},y}(m.b),b=function(S){function y(C){var E=this;return i.fF.assertValue(C,"change"),(E=S.call(this)||this).change=C,E}return(0,t.__extends)(y,S),y.prototype.visitColumnRef=function(C){if(i.fF.assertValue(C,"expr"),(0,c.jv)(C.source)){var E=C.source.accept(this);return E!==C.source?new V.Wh(E,C.ref):C}if((0,c.PA)(C.source))return C;var D=this.change;return this.matches(D,C)?new V.Wh(C.source,D.after):C},y.prototype.visitMeasureRef=function(C){var E=this.change;return this.matches(E,C)?new V.UY(C.source,E.after):C},y.prototype.visitGroupRef=function(C){var E=this,D=C,P=this.change;this.matches(P,C)&&(D=new V.qg(P.after,C.source,C.groupedExprs));var M=_.map(C.groupedExprs,function(T){return T.accept(E)});return v.m.sequenceEqual(M,C.groupedExprs)||(D=new V.qg(D.ref,D.source,M)),D},y.prototype.visitHierarchy=function(C){i.fF.assertValue(C,"expr"),i.fF.assertValue(C.arg,"expr.arg");var E=C.arg.accept(this);if(E!==C.arg)return new V.jE(E,C.hierarchy);var D=this.change;return this.hierarchyMatches(D,C)?new V.jE(C.arg,D.after):C},y.prototype.visitPropertyVariationSource=function(C){i.fF.assertValue(C,"expr");var E=this.change;return this.variationMatches(E,C)?new V.c7(C.arg,C.name,E.after):C},y.prototype.visitSubqueryRef=function(C){if(i.fF.assertValue(C,"expr"),C.query){var E=C.query.rewrite(this);return E!==C.query?new V.wb(E):C}return C},y.prototype.variationMatches=function(C,E){i.fF.assertValue(C,"change"),i.fF.assertValue(E,"expr");var D=E.arg;return i.fF.assert(function(){return D instanceof V.PN},"entityExpr"),D.schema===C.schema&&D.entity===C.entity&&E.property===C.before},y.prototype.hierarchyMatches=function(C,E){i.fF.assertValue(C,"change"),i.fF.assertValue(E,"expr");var D=E.arg;if((0,c.Lk)(D))return"Hierarchy"===C.objectType&&D.schema===C.schema&&D.entity===C.entity&&E.hierarchy===C.before},y.prototype.matches=function(C,E){i.fF.assertValue(C,"change"),i.fF.assertValue(E,"expr");var D=(0,s.Um)((0,p.Q)(E));return i.fF.assertValue(D,"fieldPattern"),D.schema===C.schema&&D.entity===C.entity&&E.ref===C.before},y}(m.b),f=function(S){function y(C){var E=this;return i.fF.assertValue(C,"change"),(E=S.call(this)||this).change=C,E}return(0,t.__extends)(y,S),y.prototype.visitHierarchyLevel=function(C){i.fF.assertValue(C,"expr"),i.fF.assertValue(C.arg,"expr.arg");var E=this.change;return this.matches(E,C)?new V.vD(C.arg,E.after):C},y.prototype.matches=function(C,E){i.fF.assertValue(C,"change"),i.fF.assertValue(E,"expr");var D=(0,p.Q)(E);if(i.fF.assertValue(D,"fieldPattern"),!D.columnHierarchyLevelVariation){var P=(0,s.Um)(D);i.fF.assertValue(P,"fieldEntityPattern");var M=E.arg;return i.fF.assertValue(M,"hierarchyExpr"),P.schema===C.schema&&P.entity===C.entity&&M.hierarchy===C.hierarchy&&E.level===C.before}},y}(m.b),g=function(S){function y(C){var E=this;return i.fF.assertValue(C,"change"),(E=S.call(this)||this).change=C,E}return(0,t.__extends)(y,S),y.prototype.visitMeasureRef=function(C){var E=this.change,D=(0,s.Um)((0,p.Q)(C));if(i.fF.assertValue(D,"fieldPattern"),D.schema!==E.schema&&D.entity===E.entity&&C.ref===E.name){var P=new V.PN(E.schema,E.entity);return new V.UY(P,E.name)}return C},y}(m.b)},760285:function(ze,K,r){r.d(K,{L:function(){return t}});var t=function(c){return c[c.Version0=0]="Version0",c[c.Version1=1]="Version1",c[c.Version2=2]="Version2",c}({})},91159:function(ze,K,r){r.d(K,{r:function(){return h}});var t=r(226514),c=r(787941),i=r(327260),s=r(725182),p=r(572643),V=r(912126),m=r(419644);function h(u,a,l,d,b){return new n(u,a,l,d,b)}var n=function(){function u(a,l,d,b,f){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],c.fF.assertValue(a,"promiseFactory"),c.fF.assertValue(l,"dataReaderProvider"),c.fF.assertValue(d,"featureSwitchService"),this.promiseFactory=a,this.dataReaderProvider=l,this.featureSwitchService=d,this.telemetryService=b,this.validator=f,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}return u.prototype.get=function(a,l){var d=this;c.fF.assertNonEmpty(a,"dataSources");var b=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!a)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},b);var f=this.generateSchemaKey(a),g=this.mergedConceptualSchemaCache[f];if(this.isSchemaPaused(g))return this.promiseFactory.reject(this.getPauseReason(g),b);if(g&&g.promise)return l&&l.setProperty("isConceptualSchemaCached",!0),g.promise;var S=this.promiseFactory.defer(b),y={deferred:S,promise:S.promise};this.mergedConceptualSchemaCache[f]=y,y.promise.then(function(){return delete y.deferred},function(){return delete d.mergedConceptualSchemaCache[f]});var C=[],E=o(a),D=function(R){var B=E[R],N=P.generateSchemaKey(B),x=P.individualConceptualSchemaCache[N];if(P.isSchemaPaused(x))return C.push(P.promiseFactory.reject(P.getPauseReason(x),b)),"continue";if(x)return C.push(x.promise),"continue";var A=P.promiseFactory.defer(b),I=A.promise;C.push(I),P.individualConceptualSchemaCache[N]={deferred:A,promise:I},I.finally(function(){d.individualConceptualSchemaCache[N]&&delete d.individualConceptualSchemaCache[N].deferred});var w=P.dataReaderProvider.schemaReader(R);if(!w)return c.fF.assertFail("No schema reader exists for data source type: ".concat(R)),A.reject({clientError:{code:"SchemaReaderUndefined"}}),"continue";w.execute({dataSources:B}).then(function(F){return d.onSuccess(w,F,N,A)},function(F){return d.onError(w,F,N,A)})},P=this;for(var M in E)D(M);return this.promiseFactory.all(C,b).then(function(T){var R=p.l.merge(T);d.validator&&d.validator.validate(R),y.result=R,S.resolve(R)}).catch(function(T){S.reject(T)}),y.promise},u.prototype.getWithWireContract=function(a){var l=this;return a&&_.uniqBy(a,function(d){return(0,V.wx)(d)}).length>1?(c.fF.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(a).then(function(d){var b=l.individualConceptualSchemaCache[l.generateSchemaKey(a)];if(b)return{data:b.data,contract:d}})},u.prototype.getLatestCapabilities=function(a,l){var d=o(a);for(var b in d){var g=this.generateSchemaKey(d[b]),S=this.individualConceptualSchemaCache[g];if(S&&S.result){var y=S.result.schema(l);if(y)return y.capabilities}}},u.prototype.clearCache=function(a,l){var d=this;if(!l)return this.rejectPendingDeferred(a),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var b=o(l);for(var f in b){var g=b[f],S=this.generateSchemaKey(g),y=JSON.stringify(_.map(g,function(C){return C.id}));this.telemetryService.logEvent(m.I7,{datasetIds:y,requestId:a&&a.requestId,reason:a&&a.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,S,function(C){d.rejectPendingDeferred(a,C),delete d.individualConceptualSchemaCache[C]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,S,function(C){delete d.mergedConceptualSchemaCache[C]})}},u.prototype.stopCommunication=function(a,l){var d,b,f={clientError:a};if(l){var g=o(l);for(var S in g)d=this.generateSchemaKey(g[S]),(b=this.individualConceptualSchemaCache[d])||(this.individualConceptualSchemaCache[d]=b={}),b.pauseReason=f,this.rejectPendingDeferred(f,d)}else this.pauseAllSchemasReason=f||{clientError:null},this.rejectPendingDeferred(f);for(var E=0,D=this.stopCommunicationHandlers;E<D.length;E++)(0,D[E])()},u.prototype.resumeCommunication=function(a){var d,l=this;a?d=_.map(o(a),function(D){return l.generateSchemaKey(D)}):(this.pauseAllSchemasReason=void 0,d=Object.keys(this.individualConceptualSchemaCache));for(var b=0,f=d;b<f.length;b++){var g=f[b];this.isSchemaPaused(this.individualConceptualSchemaCache[g])&&(delete this.individualConceptualSchemaCache[g],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,g,function(D){return delete l.mergedConceptualSchemaCache[D]}))}for(var y=0,C=this.resumeCommunicationHandlers;y<C.length;y++)(0,C[y])()},u.prototype.registerStopCommunicationHandlers=function(a){var l=this;return this.stopCommunicationHandlers.push(a),function(){return _.pull(l.stopCommunicationHandlers,a)}},u.prototype.registerResumeCommunicationHandlers=function(a){var l=this;return this.resumeCommunicationHandlers.push(a),function(){return _.pull(l.resumeCommunicationHandlers,a)}},u.prototype.isEmpty=function(a){return(0,t.__awaiter)(this,void 0,void 0,function(){var l,d=this;return(0,t.__generator)(this,function(b){switch(b.label){case 0:return[4,this.get(a)];case 1:return l=b.sent(),[2,_.every(l.schemas,function(f){return _.isEmpty(f.entities)||d.isSystemEntity(f.entities)})]}})})},u.prototype.isSystemEntity=function(a){return _.every(a,function(l){return(0,s.yE)(l.visibility,4)||(0,s.yE)(l.visibility,2)})},u.prototype.isSchemaPaused=function(a){return!!this.pauseAllSchemasReason||a&&!a.promise},u.prototype.getPauseReason=function(a){return a&&a.pauseReason?a.pauseReason:this.pauseAllSchemasReason},u.prototype.rejectPendingDeferred=function(a,l){var d,b;for(var f in l?(d={})[l]=null:d=this.individualConceptualSchemaCache,d)(b=this.individualConceptualSchemaCache[f])&&(b.deferred&&b.deferred.reject(a),delete b.promise,delete b.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,f,function(g,S){S.deferred&&S.deferred.reject(a),delete S.promise,delete S.deferred}))},u.prototype.onSuccess=function(a,l,d,b){var f=a.transform(l);if(f.error)this.onErrorCore(f,d,b);else{var g=this.individualConceptualSchemaCache[d];g&&(g.result=f.schema,g.data=l.data);var S=this.tryGetAdditionalIndividualCacheKey(d,f);S&&(this.individualConceptualSchemaCache[S]=g),b.resolve(f.schema)}},u.prototype.onError=function(a,l,d,b){var f=a.transform(l);this.onErrorCore(f,d,b)},u.prototype.onErrorCore=function(a,l,d){var b=this;delete this.individualConceptualSchemaCache[l],a.error&&a.error.serviceError&&(a.error.clientError=new i.sI(a.error.serviceError),a.error.clientError.requestId=a.error.requestId),d.reject(a.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,l,function(f){delete b.mergedConceptualSchemaCache[f]})},u.prototype.tryGetAdditionalIndividualCacheKey=function(a,l){var d=l.schema.schemas;if(d){c.fF.assert(function(){return 1===d.length},"schemas should be length 1");var b=d[0];if(b.cubeName){var f=JSON.parse(a);c.fF.assert(function(){return 1===f.length},"key is length 1");var g=f[0];if(c.fF.assert(function(){return b.name===g.name},"names should be same"),!g.perspectiveId)return g.perspectiveId=b.cubeName,this.generateSchemaKey([g])}}},u.prototype.forSchemasContainingKey=function(a,l,d){for(var f=0,g=JSON.parse(l);f<g.length;f++){var S=g[f];for(var y in a)for(var E=0,D=JSON.parse(y);E<D.length;E++){var P=D[E];S.id===P.id&&S.name===P.name&&S.type===P.type&&d(y,a[y])}}},u.prototype.generateSchemaKey=function(a){return c.fF.assertValue(a,"dataSources"),JSON.stringify(_.chain(a).map(function(l){return{id:l.id,name:l.name,type:(0,V.wx)(l),perspectiveId:l.perspectiveId}}).orderBy(["type","name","id","perspectiveId"]).value())},u}();function o(u){return _.groupBy(u,function(a){return(0,V.wx)(a)})}},563233:function(ze,K,r){r.d(K,{Az:function(){return e},Fu:function(){return m},M2:function(){return v}});var t=r(235635),c=r(325333),i=r(787941),s=r(520907),p=r(419644),V=r(982958);function m(a,l){return!(!a.query||!l.query)&&a.type===l.type&&a.kinds===l.kinds&&a.perfId===l.perfId&&a.query.allowResultFromClientCache===l.query.allowResultFromClientCache&&a.query.allowClientSideFilters===l.query.allowClientSideFilters&&a.query.cacheResponseOnServer===l.query.cacheResponseOnServer&&a.query.ignoreViewportForCache===l.query.ignoreViewportForCache&&(0,s.fS)(a.query.cacheOptions,l.query.cacheOptions)&&(0,s.fS)(a.query.command,l.query.command)&&(0,s.fS)(a.query.dataSources,l.query.dataSources)}function v(a,l,d){return new n(a,l,d)}var e=function(l,d,b,f){return new o(l,d,b)},n=function(){function a(l,d,b){this.promiseFactory=l,this.dataReaderProvider=d,this.dataReaders={},this.telemetryService=b}return a.prototype.execute=function(l){return i.fF.assertValue(l,"options"),this.getReader(l.type).execute(l.query,l.kinds,l.perfId)},a.prototype.getReader=function(l){var d=this.dataReaders[l];if(d)return d;var b=this.dataReaderProvider.reader(l);return i.fF.assertValue(b,"Could not find data reader for type: ".concat(l)),this.dataReaders[l]=new u(l,b,this.promiseFactory,this.telemetryService)},a.prototype.stopCommunication=function(l){this.getReader(l).stopCommunication()},a.prototype.resumeCommunication=function(l){this.getReader(l).resumeCommunication()},a.prototype.clearCache=function(l,d){this.getReader(l).clearCache(d)},a.prototype.rewriteCacheEntries=function(l,d,b){this.getReader(l).rewriteCacheEntries(d,b)},a.prototype.setLocalCacheResult=function(l,d){return this.getReader(l.type).setLocalCacheResult(l.query,d)},a}(),o=function(){function a(l,d,b){this.proxy=l,this.promiseFactory=d,this.timeoutService=b}return a.prototype.execute=function(l){var d=this,b=this.lastExecute;if(b&&b.promise.pending()){if(m(l,b.query)){var f=(0,t.U)(b.deferred);return f.matchesLastExecuteQuery=!0,f}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new c.hC("NewQuery"))}var g=l&&l.query&&l.query.telemetryV2Enabled,S=this.promiseFactory.defer(g),y=(0,t.U)(S),C=this.lastExecute={query:l,deferred:S,promise:y,ended:!1};return this.queuedExecution||(this.queuedExecution=!0,this.timeoutService.setTimeout(!0===l.isColdLoad?-1:0,g).promise.then(function(){d.queuedExecution=!1;var M=d.lastExecute;if(M&&!M.ended){var T=d.proxy.execute(M.query);T.then(function(R){M.ended?M.deferred.reject():M.deferred.resolve(R)},function(R){return M.deferred.reject(R)}),M.promise.catch(function(R){return T.reject(R)})}}).catch(function(){})),y.finally(function(){C.ended=!0,C===d.lastExecute&&(d.lastExecute=void 0)}).catch(function(){}),y},a.prototype.cancelQuery=function(l){var d=this.lastExecute;d&&d.promise.pending()&&(d.ended=!0,d.promise.reject("PausedQuery"===l?new c.xs:new c.hC(l)))},a}(),u=function(){function a(l,d,b,f){i.fF.assertAnyValue(l,"pluginName"),i.fF.assertValue(d,"reader"),i.fF.assertValue(b,"promiseFactory"),i.fF.assertValue(f,"telemetryService"),this.name=l,this.reader=d,this.promiseFactory=b,this.telemetryService=f}return a.prototype.execute=function(l,d,b){var f=this;i.fF.assertValue(l,"options"),i.fF.assertAnyValue(b,"perfId");var g=this.promiseFactory.defer(l.telemetryV2Enabled),S=this.reader;if(S.execute){var y=S.execute(l,b);y.then(function(E){if(E){var D=f.transform(E,d,b,l.performanceActivity),P=D.error;if(D.performanceActivities&&P&&(P.performanceActivities=D.performanceActivities),P)return g.reject(P),void f.telemetryService.logEvent(p.zT,{requestId:E.requestId,isError:!0,errorSource:"PowerBI",errorCode:P.code});g.resolve({dataReaderResult:D,dataViewSource:{data:E}})}else g.reject(new V.C6),f.telemetryService.logEvent(p.zT,{isError:!0,errorSource:"PowerBI",errorCode:"DataProxy_EmptyData"})},function(E){g.reject(E),(!E||!E.ignorable)&&f.telemetryService.logEvent(p.zT,{requestId:null==E?void 0:E.requestId,isError:!0,errorSource:"PowerBI",errorCode:E?E.code:"DataProxy_ProviderError"})}).catch(function(E){g.reject(E)});var C=(0,t.U)(g);return C.catch(function(E){E=E||new V._W,y.reject(E)}),C}return l.command?g.resolve({dataReaderResult:this.transform(l.command,d,b)}):g.reject(),(0,t.U)(g)},a.prototype.stopCommunication=function(){var l=this.reader;l.stopCommunication&&l.stopCommunication()},a.prototype.resumeCommunication=function(){var l=this.reader;l.resumeCommunication&&l.resumeCommunication()},a.prototype.clearCache=function(l){var d=this.reader.cache;d&&d.clear(l)},a.prototype.rewriteCacheEntries=function(l,d){var b=this.reader.cache;b&&b.rewrite(l,d)},a.prototype.setLocalCacheResult=function(l,d){var b=this.reader;b.setLocalCacheResult&&b.setLocalCacheResult(l,d)},a.prototype.transform=function(l,d,b,f){var g=this.reader;if(g.transform)return g.transform(l,d||31,b,f);var S={metadata:{columns:[]}};return S[this.name]=l,{dataView:S}},a}()},982958:function(ze,K,r){r.d(K,{C6:function(){return p},Kd:function(){return s},_W:function(){return V},qc:function(){return i}});var t=r(509775),c=r(325333),i=function(){function m(v){this.innerError=v,this.code="QueryPipelineError",this.eventFactory=t.mN,this.ignorable=!(null==v||!v.ignorable)}return m.prototype.getDetails=function(v){return{message:"",displayableErrorInfo:[]}},m}(),s=function(){function m(){}return Object.defineProperty(m.prototype,"code",{get:function(){return"FailedRealTimeUpdate"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),m.prototype.getDetails=function(v){return{message:v.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:v.get("Realtime_UpdateFailedKey"),errorInfoValue:v.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:c.zd,errorInfoValue:this.code}]}},m}(),p=function(){function m(){}return Object.defineProperty(m.prototype,"code",{get:function(){return"EmptyData"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),m.prototype.getDetails=function(v){return{message:v.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:v.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:v.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:c.zd,errorInfoValue:this.code}]}},m}(),V=function(){function m(){}return Object.defineProperty(m.prototype,"code",{get:function(){return"InvalidDataResponse"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),m.prototype.getDetails=function(v){return{message:v.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:v.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:v.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:c.zd,errorInfoValue:this.code}]}},m}()},790866:function(ze,K,r){r.d(K,{ON:function(){return n},Om:function(){return m},aU:function(){return o}});var t=r(787941),c=r(725182),i=r(989516),s=r(232225),p=r(19632),V=r(448711),m=function(){function l(){}return l.getDataPointsDescription=function(d,b){if(d&&!_.isEmpty(b)){for(var f=this.getDataViewKind(d),g=[],S=0,y=b;S<y.length;S++){var C=y[S],E=this.query([d],C,f,[],!0),D=(0,i.tV)(C);g.push({selector:D,values:E})}return g}},l.getDataViewKind=function(d){var b=0;if(d.matrix)b=2;else if(d.table)b=8;else{if(!d.categorical)return void t.fF.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");b=1}return b},l.query=function(d,b,f,g,S){if(_.isEmpty(d)||!b)return[];var C,y=(0,i.gU)(b);if(_.some(y,function(A){return!(0,i.yN)(A)}))return[];C=g&&!S?g:b.metadata;var E=[];if((0,c.yE)(f,8))for(var D=0,P=d;D<P.length;D++){var M=P[D],T=new h(b,C,S);u(M.table,T),E.push.apply(E,T.valueDetails||[])}else if((0,c.yE)(f,1))for(var R=0,B=d;R<B.length;R++)o(M=B[R],T=new v(b,C,S)),E.push.apply(E,T.valueDetails||[]);else if((0,c.yE)(f,2))for(var N=0,x=d;N<x.length;N++)M=x[N],T=new e(b),a(M.matrix,T),E.push.apply(E,T.valueDetails||[]);return E},l}(),v=function(){function l(d,b,f){this.ignoreQueryName=f,this.requestedValues=b,this.identities=(0,i.gU)(d),this.valueDetails=[]}return l.prototype.visitCategoryColumns=function(d,b){if(!_.isEmpty(d))for(var f=function(D){if(g.ignoreQueryName||_.includes(g.requestedValues,D.source.queryName))for(var P=0;P<D.identity.length;P++){var M=D.identity[P];if(_.includes(g.identities,M)){var T=_.find(b.columns,function(R){return R.index===D.source.index});g.valueDetails.push({identity:M,value:D.values[P],expr:T.expr,formattedValue:(0,V.WU)(D.values[P],D.source.format)});break}}},g=this,S=0,y=d;S<y.length;S++)f(y[S])},l.prototype.visitValueColumnGroups=function(d,b){if(!_.isEmpty(d)&&b&&(this.ignoreQueryName||_.includes(this.requestedValues,b.queryName)))for(var f=0,g=d;f<g.length;f++){var S=g[f];if(_.includes(this.identities,S.identity))return void this.valueDetails.push({value:S.name,formattedValue:(0,V.WU)(S.name,b.format),expr:b.expr,identity:S.identity})}},l.prototype.visitValueColumn=function(d){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,d.source.queryName)},l.prototype.visitValue=function(d,b,f,g,S){n(this.identities,b.data)||this.valueDetails.push({expr:f.expr,value:d,formattedValue:(0,V.WU)(d,f.format),identity:_.head(b.data)})},l}(),e=function(){function l(d){this.valueDetails=[],this.identitiesToSearch=(0,i.gU)(d)}return l.prototype.visitHierarchy=function(d){for(var b=d.root;b&&b.children&&this.identitiesToSearch.length>0;)b=this.searchNode(b,d.levels)},l.prototype.searchNode=function(d,b){for(var f=0,g=this.identitiesToSearch;f<g.length;f++)for(var S=g[f],y=0,C=d.children;y<C.length;y++){var E=C[y];if(E.identity===S){var D=E.levelValues,P=b[E.level||0];if(!_.isEmpty(D))for(var M=0,T=D;M<T.length;M++){var R=T[M],B=P.sources[R.levelSourceIndex||0];this.valueDetails.push({expr:B.expr,identity:S,value:R.value,formattedValue:(0,V.WU)(R.value,B.format)})}return _.remove(this.identitiesToSearch,S),E}}},l}(),h=function(){function l(d,b,f){this.ignoreQueryName=f,this.requestedValues=b,this.identities=(0,i.gU)(d),this.valueDetails=[],this.requestedColumnsIndices=[]}return l.prototype.visitColumn=function(d,b){(this.ignoreQueryName||d.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,d.queryName)))&&this.requestedColumnsIndices.push(b)},l.prototype.visitRow=function(d,b){if(t.fF.assertAnyValue(d.rows[b],"A row for this rowIndex does not exist"),!d.identity||!n(this.identities,[d.identity[b]]))for(var g=0,S=this.requestedColumnsIndices;g<S.length;g++){var y=S[g],C=d.rows[b][y],E=d.columns[y];this.valueDetails.push({expr:E.expr,value:C,formattedValue:(0,V.WU)(C,E.format),identity:d.identity&&d.identity[b]})}},l}();function n(l,d){if(l)for(var b=function(E){if(!_.some(d,function(D){return(0,p.fS)(E,D)}))return{value:!0}},f=0,g=l;f<g.length;f++){var y=b(g[f]);if("object"==typeof y)return y.value}return!1}function o(l,d){var b=l.categorical;if(t.fF.assertAnyValue(d,"visitor should be defined"),b&&!_.isEmpty(b.values)){var f=(0,s.zq)(b);d.visitCategoryColumns(f,l.metadata);var g=_.head(b.categories),S=g&&_.clone(g.identity),y=b.values.grouped();d.visitValueColumnGroups(y,b.values.source);for(var C=0,E=y;C<E.length;C++)for(var D=E[C],P=D.identity,M=0,T=D.values;M<T.length;M++){var R=T[M];if(d.visitValueColumn(R))for(var B=Object.keys(R.values),N=0;N<B.length;N++){var A=R.values[B[N]],w={data:S?[S[N]]:[],metadata:R.source.queryName};P&&w.data.push(P),d.visitValue(A,w,R.source,b.categories,N)}}}}function u(l,d){if(t.fF.assertAnyValue(d,"visitor should be defined"),l&&!_.isEmpty(l.rows)){for(var b=l.columns,f=0;f<b.length;f++)d.visitColumn(b[f],f);for(var g=0;g<l.rows.length;g++)d.visitRow(l,g)}}function a(l,d){l.rows&&d.visitHierarchy(l.rows),l.columns&&d.visitHierarchy(l.columns)}},152200:function(ze,K,r){r.d(K,{D:function(){return s},m:function(){return i}});var t=r(19632),c=r(322487);function i(p){return{scopeId:c.ib.serializeExpr(p.expr)}}function s(p){if(p.scopeId){var V=c.ib.deserializeExpr(p.scopeId);if(V)return(0,t.TZ)(V)}}},258323:function(ze,K,r){r.d(K,{m8:function(){return h},mc:function(){return n},qC:function(){return V},vB:function(){return m}});var t=r(787941),c=r(734287),i=r(149362),s=r(592042),p={get:function(g){return g},getOptional:function(g){return g},format:function(g){return g}};function V(f,g){t.fF.assertValue(f,"objectDescriptors");var S={};for(var y in f)S[y]=v(f[y],g||p);return S}function m(f){t.fF.assertValue(f,"wireObjectDescriptors");var g={};for(var S in f)g[S]=e(f[S]);return g}function v(f,g){if(f){var S={properties:{}};for(var y in f.displayName&&(S.displayName=(0,c.G)(f.displayName,g)),f.description&&(S.description=(0,c.G)(f.description,g)),f.properties)S.properties[y]=h(f.properties[y],g);return S}}function e(f){var g={properties:{}};for(var S in f.displayName&&(g.displayName=(0,c.V)(f.displayName)),f.description&&(g.description=(0,c.V)(f.description)),f.properties)g.properties[S]=n(f.properties[S]);return g}function h(f,g){var S={type:o(f.type,g)};return f.rule&&(S.rule=f.rule),f.displayName&&(S.displayName=(0,c.G)(f.displayName,g)),f.description&&(S.description=(0,c.G)(f.description,g)),f.placeHolderText&&(S.placeHolderText=(0,c.G)(f.placeHolderText,g)),S}function n(f){var g={type:u(f.type)};return f.displayName&&(g.displayName=(0,c.V)(f.displayName)),f.description&&(g.description=(0,c.V)(f.description)),f.placeHolderText&&(g.placeHolderText=(0,c.V)(f.placeHolderText)),f.rule&&(g.rule=f.rule),g}function o(f,g){var S=s.Ge.fromDescriptor(f);return S&&S.enum?{enumeration:l(S.enum,g)}:null!=S&&S.flagsEnum?{flagsEnumeration:l(S.flagsEnum,g)}:f}function u(f){return s.Ge.fromDescriptor(f)?function(f){var g;if(f.enumeration)g={enumeration:d(f.enumeration)};else if(f.flagsEnumeration)g={flagsEnumeration:d(f.flagsEnumeration)};else for(var y in g={},f)g[y]=f[y];return g}(f):f}function l(f,g){return _.map(f.members(),function(S){return function(f,g){return{displayName:(0,c.G)(f.displayName,g),value:f.value}}(S,g)})}function d(f){return(0,i.i)(f)}},415859:function(ze,K,r){r.d(K,{PU:function(){return ve},wN:function(){return W},kO:function(){return L},OT:function(){return Ce},L1:function(){return Q},UU:function(){return U},JF:function(){return H},iz:function(){return G},kg:function(){return se},un:function(){return R},CA:function(){return N},kS:function(){return A},B6:function(){return ee},W7:function(){return we},xF:function(){return qe},Vg:function(){return k},UZ:function(){return be},OR:function(){return j},U9:function(){return Fe},bI:function(){return z},kW:function(){return J}});var F,t=r(299747),c=r(883863),i=r(787941),s=r(826691),p=r(369138),V=r(989516),m=r(668268),v=r(389521),e=r(755397),h=r(799863),n=r(45696),o=r(13106),u=r(324356),a=r(813297),l=r(60495),d=r(950870),b=r(592042),f=r(152200),g=r(266983),S=r(890795),y=r(322487),C=b.Ge.fromDescriptor({bool:!0}),E=b.Ge.fromDescriptor({numeric:!0}),D=b.Ge.fromDescriptor({integer:!0}),P=b.Ge.fromDescriptor({text:!0}),M={fill:{solid:{color:!0}}};function R(Me,He){var ct=Me&&Me[He];if(ct){for(var Mt,It=0,Bt=ct.length;It<Bt;It++){var jt=ct[It];if(null==jt.selector){Mt=jt;break}}if(Mt)return Mt.properties}}function N(Me){return Me&&"ExprContext"===Me.propertyDefinitionKind}function A(Me){return _.isArray(Me)&&!!Me[0].dataMap}function L(Me,He,ct,Mt){if(void 0===Mt&&(Mt="objects"),null!=Me)if(!_.isEmpty(Me)||(0,t.Jx)(Me)){var It=He();if(It)ct[Mt]=W(Me,It);else{var jt,Bt=!1;Object.defineProperty(ct,Mt,{enumerable:!0,get:function(){return Bt||(Bt=!0,jt=W(Me,He())),jt},set:function(Yt){Bt=!0,jt=Yt}})}}else ct[Mt]={};else ct[Mt]=void 0}function W(Me,He){if(i.fF.assertAnyValue(Me,"input"),i.fF.assertAnyValue(He,"descriptors"),Me){!F&&!He&&(F=!0,s.f.error("deserializeObjects called with no descriptors - ",!0));var ct={};for(var Mt in Me){var It=void 0;if(!He||(It=He[Mt]))for(var Bt=Me[Mt],jt=ct[Mt]=[],Kt=0,Yt=Bt.length;Kt<Yt;Kt++)jt.push(te(Bt[Kt],It,!He))}return ct}}function U(Me){if(Me)return _.map(Me,Q)}function j(Me){if(Me)return _.map(Me,be)}function z(Me){if(Me)return{category:Me.categoryString,underlyingType:Me.extendedType}}function G(Me){if(Me)return new b.Ge(Me.underlyingType,Me.category)}function te(Me,He,ct){if(i.fF.assertAnyValue(Me,"input"),i.fF.assertAnyValue(He,"descriptor"),Me){var Mt={properties:pe(Me.properties,He?He.properties:null,ct)},It=Q(Me.selector);return It&&(Mt.selector=It),Mt}}function Q(Me){if(i.fF.assertAnyValue(Me,"input"),null===Me)return null;if(Me){var He={};return Me.data&&(He.data=_.chain(Me.data).map(function(ct){return ce(ct)}).filter(function(ct){return null!=ct}).value()),Me.metadata&&(He.metadata=Me.metadata),Me.id&&(He.id=Me.id),void 0!==Me.highlightMatching&&(He.highlightMatching=Me.highlightMatching),null!=Me.order&&(He.order=Me.order),He}}function H(Me){if(i.fF.assertAnyValue(Me,"input"),Me){var He={};if(Me.dataMap)for(var ct in He.dataMap={},Me.dataMap)He.dataMap[ct]=_.chain(Me.dataMap[ct]).map(function(Mt){return ce(Mt)}).filter(function(Mt){return null!=Mt}).value();return Me.metadata&&(He.metadata=Me.metadata),Me.id&&(He.id=Me.id),He}}function de(Me,He,ct){Me.decomposedIdentities&&(He.decomposedIdentities=ct(Me.decomposedIdentities)),Me.queryNames&&(He.queryNames=Me.queryNames),Me.queryNameMap&&(He.queryNameMap=Me.queryNameMap),Me.metadata&&(He.metadata=Me.metadata),Me.id&&(He.id=Me.id)}function se(Me){if(Me)return _.map(Me,function(He){return{objectName:He.objectName,selectorsByColumn:H(He.selectorsByColumn)}})}function ce(Me){return i.fF.assertValue(Me,"input"),Me.scopeId?(0,f.D)(Me):Me.wildcard?(0,h.ms)(_.map(Me.wildcard,y.ib.deserializeExpr)):Me.roles?(0,v.Yp)(Me.roles):Me.total?(0,e.ms)(_.map(Me.total,y.ib.deserializeExpr)):Me.dataViewWildcard?(0,n.Ue)(Me.dataViewWildcard.matchingOption):void 0}function pe(Me,He,ct){if(i.fF.assertAnyValue(Me,"input"),i.fF.assertAnyValue(He,"propertyDescriptors"),Me){var Mt={};for(var It in Me){var Bt=ve(Me[It],He?He[It]:null,ct);void 0!==Bt&&(Mt[It]=Bt)}return Mt}}function ve(Me,He,ct){if(i.fF.assertAnyValue(Me,"input"),i.fF.assertAnyValue(He,"propertyDescriptor"),He){var Mt=Re(He.type);return N(Me)?{propertyDefinitionKind:"ExprWithContext",value:De(Me.value,Mt.value),context:je(Me.context)}:function(Me,He){return!!He.value}(0,Mt)?De(Me,Mt.value):We(Me,Mt.structural)}if(ct&&Me){if(N(Me))return{propertyDefinitionKind:"ExprWithContext",value:y.ib.deserializeExpr(Me.value.expr),context:je(Me.context)};if(Me.expr)return y.ib.deserializeExpr(Me.expr);if(Me.solid)return We(Me,M);if(Me.filter)return y.ib.deserializeFilter(Me.filter)}}function De(Me,He){if(i.fF.assertValue(He,"type"),void 0!==He.primitiveType&&null!=Me&&Me.expr)return y.ib.deserializeExpr(Me.expr)}function We(Me,He){if(i.fF.assertValue(He,"type"),He.fill&&He.fill.solid&&He.fill.solid.color&&Me)return Me.solid&&Me.solid.color?{solid:{color:De(Me.solid.color,b.Ge.fromPrimitiveTypeAndCategory(1))}}:void 0;if(He.fillRule){var It=Xe(Me,De);if(It)return It}var Bt=Me;return He.filter&&Bt&&Bt.filter?y.ib.deserializeFilter(Bt.filter):He.image&&Bt&&Bt.image?function(Me){i.fF.assertValue(Me,"input");var He={name:De(Me.name,P),url:De(Me.url,b.Ge.fromDescriptor(a.z))};return Me.scaling&&(He.scaling=De(Me.scaling,P)),He}(Bt.image):He.geoJson&&Bt&&Bt.geoJson?function(Me){return i.fF.assertValue(Me,"input"),{type:De(Me.type,P),name:De(Me.name,P),content:De(Me.content,P)}}(Bt.geoJson):He.paragraphs&&Me?function(Me){return i.fF.assertValue(Me,"input"),_.map(Me,function(He){var ct={textRuns:_.map(He.textRuns,function(Mt){return(0,l.Y0)(Mt)?Z(Mt):(0,l.Zm)(Mt)?function(Me){var He={cases:_.map(Me.cases,function(ct){var Mt={pattern:De(ct.pattern,P),textRuns:_.map(ct.textRuns,function(It){return Z(It)})};return Mt}),defaultCase:{textRuns:_.map(Me.defaultCase.textRuns,function(ct){return Z(ct)})},expression:ye(Me.expression)};return He}(Mt):void 0})};return He.horizontalTextAlignment&&(ct.horizontalTextAlignment=He.horizontalTextAlignment),He.listType&&(ct.listType=He.listType),He.indent&&(ct.indent=He.indent),ct})}(Me):He.queryTransform&&Me?function(Me){return i.fF.assertValue(Me,"input"),{algorithm:Me.algorithm,parameters:_.map(Me.parameters,function(ct){return{name:ct.Name,expr:y.ib.deserializeExpr(ct)}})}}(Me):He.dataBars&&Me?function(Me){return i.fF.assertValue(Me,"input"),{minValue:Me.minValue?De(Me.minValue,E):void 0,maxValue:Me.maxValue?De(Me.maxValue,E):void 0,positiveColor:We(Me.positiveColor,M),negativeColor:We(Me.negativeColor,M),axisColor:We(Me.axisColor,M),reverseDirection:De(Me.reverseDirection,C),hideText:De(Me.hideText,C),totalMatchingOption:Me.totalMatchingOption?De(Me.totalMatchingOption,D):void 0}}(Me):He.icon&&Me&&"Icon"===Me.kind?function(Me){i.fF.assertValue(Me,"input");var He={kind:"Icon"};return Me.layout&&(He.layout=De(Me.layout,P)),Me.verticalAlignment&&(He.verticalAlignment=De(Me.verticalAlignment,C)),Me.value&&(He.value=De(Me.value,P)),He}(Me):He.exprList&&Me&&"ExprList"===Me.kind?function(Me){i.fF.assertValue(Me,"input");var He={exprs:[],kind:"ExprList"};return He.exprs=_.map(Me.exprs,function(ct){return y.ib.deserializeExpr(ct.expr)}),He}(Me):He.errorRange&&Me&&"ErrorRange"===Me.kind?function(Me){i.fF.assertValue(Me,"input");var He={kind:"ErrorRange"};if(Me.explicit)He.explicit={isRelative:y.ib.deserializeExpr((ct=Me.explicit).isRelative.expr)},ct.lowerBound&&(He.explicit.lowerBound=y.ib.deserializeExpr(ct.lowerBound.expr)),ct.upperBound&&(He.explicit.upperBound=y.ib.deserializeExpr(ct.upperBound.expr));else if(Me.symmetricalExplicit)He.symmetricalExplicit={delta:y.ib.deserializeExpr((ct=Me.symmetricalExplicit).delta.expr)};else if(Me.standardDeviation)He.standardDeviation={value:y.ib.deserializeExpr((ct=Me.standardDeviation).value.expr),multiplier:y.ib.deserializeExpr(ct.multiplier.expr)};else if(Me.percentage)He.percentage={lowerBoundDelta:y.ib.deserializeExpr((ct=Me.percentage).lowerBoundDelta.expr),upperBoundDelta:y.ib.deserializeExpr(ct.upperBoundDelta.expr)};else if(Me.percentile){var ct;i.fF.assertValue((ct=Me.percentile).lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),i.fF.assertValue(ct.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),He.percentile={lowerBound:y.ib.deserializeExpr(ct.lowerBound.expr),upperBound:y.ib.deserializeExpr(ct.upperBound.expr)}}return He}(Me):He.qnaVisualLink&&Me?function(Me){i.fF.assertValue(Me,"input");var He={};return Me.suggestedUtterances&&(He.suggestedUtterances=_.map(Me.suggestedUtterances,function(ct){return{utterance:ct.Utterance}})),_.isEmpty(He)?void 0:He}(Me):He.itemLocation&&Me&&"ItemLocation"===Me.kind?function(Me){if(i.fF.assertValue(Me,"input"),Me.byReference){var He={kind:"ItemLocation",byReference:{itemId:De(Me.byReference.itemId,P)}};return null!=Me.byReference.workspaceId&&(He.byReference.workspaceId=De(Me.byReference.workspaceId,P)),null!=Me.byReference.folderId&&(He.byReference.folderId=De(Me.byReference.folderId,P)),He}}(Me):void i.fF.assertFail("Deserializing a structural type failed")}function je(Me){i.fF.assertValue(Me,"input");var He={};return _.isEmpty(Me.filterContext)||(He.filterContext=_.map(Me.filterContext,function(ct){return{filter:y.ib.deserializeFilter(ct.filter),metadata:ct.metadata?(0,S.hE)(ct.metadata):void 0}})),He}function Z(Me){var He={value:ie(Me.value)};return Me.textStyle&&(He.textStyle=Me.textStyle),Me.url&&(He.url=Me.url),Me.mentionEmail&&(He.mentionEmail=Me.mentionEmail),He}function ie(Me){var He;if(_.isString(Me))He=Me;else if(!(He=De(Me,P))){var ct=Me;(0,d.U)(ct)&&(He=ct)}return He}function ye(Me){var He;if(!(He=De(Me,P))){var ct=Me;(0,d.U)(ct)&&(He=ct)}return He}function qe(Me,He,ct,Mt){if(i.fF.assertAnyValue(Me,"contract"),i.fF.assertAnyValue(He,"descriptors"),Me){var It={};for(var Bt in Me){var jt=void 0;if(!He||(jt=He[Bt]))for(var Kt=Me[Bt],Yt=It[Bt]=[],Zt=0,or=Kt.length;Zt<or;Zt++)Yt.push(it(Kt[Zt],jt,!He,ct,Mt))}return It}}function it(Me,He,ct,Mt,It){if(i.fF.assertAnyValue(Me,"contract"),i.fF.assertAnyValue(He,"descriptor"),Me){var Bt=function(Me,He,ct,Mt,It){if(i.fF.assertAnyValue(Me,"contract"),i.fF.assertAnyValue(He,"descriptors"),Me){var Bt={};for(var jt in Me){var Kt=He?He[jt]:null;if(!(It&&null!=Kt&&Kt.transient||!ct&&!Kt)){var Yt=we(Me[jt],Kt,ct,Mt);void 0===Yt?i.fF.assertFail("DataViewObjectSerializer: failed to serialize property: "+jt+" due to malformed property value."):Bt[jt]=Yt}}return Bt}}(Me.properties,He?He.properties:null,ct,Mt,It);if(Bt){var jt={properties:Bt},Kt=be(Me.selector);return Kt&&(jt.selector=Kt),jt}}}function be(Me){if(i.fF.assertAnyValue(Me,"contract"),null===Me)return null;if(Me){var He={};return Me.data&&(He.data=_.chain(Me.data).map(function(ct){return re(ct)}).filter(function(ct){return null!=ct}).value()),Me.metadata&&(He.metadata=Me.metadata),Me.id&&(He.id=Me.id),void 0!==Me.highlightMatching&&(He.highlightMatching=Me.highlightMatching),null!=Me.order&&(He.order=Me.order),He}}function Fe(Me){if(i.fF.assertAnyValue(Me,"contract"),Me){var He={};if(Me.dataMap)for(var ct in He.dataMap={},Me.dataMap){var Mt=(0,c.rY)(Me.dataMap[ct]);He.dataMap[ct]=_.chain(Mt).map(function(It){return re(It)}).filter(function(It){return null!=It}).value()}return Me.metadata&&(He.metadata=Me.metadata),Me.id&&(He.id=Me.id),He}}function ee(Me){if(i.fF.assertAnyValue(Me,"contract"),Me){var He={};return de(Me,He,g.Rs),He}}function k(Me,He){return He?ee((0,p.od)(Me)):_.map(Me,function(Mt){return Fe(Mt)})}function Ce(Me){if(function(Me){return!_.isArray(Me)&&!!Me.decomposedIdentities}(Me)){var He=function(Me){if(i.fF.assertAnyValue(Me,"input"),Me){var He={};return de(Me,He,g.H9),He}}(Me);return(0,p.k4)(He)}return _.map(Me,function(ct){return H(ct)})}function J(Me){if(Me)return _.map(Me,function(He){return{objectName:He.objectName,selectorsByColumn:Fe(He.selectorsByColumn)}})}function re(Me){return i.fF.assertValue(Me,"contract"),(0,V.yN)(Me)&&Me.expr?(0,f.m)(Me):(0,V.QV)(Me)&&Me.exprs?{wildcard:_.map(Me.exprs,function(He){return y.ib.serializeExpr(He)})}:(0,V.j9)(Me)&&Me.roles?{roles:Me.roles}:(0,V.tQ)(Me)&&Me.exprs?{total:_.map(Me.exprs,function(He){return y.ib.serializeExpr(He)})}:(0,V.qm)(Me)?{dataViewWildcard:Ie(Me)}:void i.fF.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function Ie(Me){return{matchingOption:Me.matchingOption}}function we(Me,He,ct,Mt){if(i.fF.assertAnyValue(Me,"contract"),i.fF.assertAnyValue(He,"descriptor"),He){var It=Re(He.type);return(0,m.er)(Me)?{propertyDefinitionKind:"ExprContext",value:he(Me.value,It.value),context:Oe(Me.context,Mt)}:It.value?he(Me,It.value):Te(Me,It.structural)}if(ct&&Me){if((0,m.er)(Me))return{propertyDefinitionKind:"ExprContext",value:{expr:y.ib.serializeExpr(Me.value)},context:Oe(Me.context,Mt)};if(Me instanceof u.Il)return{expr:y.ib.serializeExpr(Me)};if(Me instanceof o.yl)return{filter:y.ib.serializeFilter(Me)};if(Me.solid)return Te(Me,M)}}function he(Me,He){if(i.fF.assertValue(He,"type"),void 0!==He.primitiveType&&Me instanceof u.Il)return{expr:y.ib.serializeExpr(Me,!0)}}function Te(Me,He){if(i.fF.assertValue(He,"type"),Me){if(He.fill&&He.fill.solid&&He.fill.solid.color)return{solid:{color:he(Me.solid.color,P)}};if(He.fillRule){var It=Xe(Me,he);if(It)return It}if(He.filter)return{filter:y.ib.serializeFilter(Me)};if(He.image)return{image:Je(Me)};if(He.geoJson)return{geoJson:fe(Me)};if(He.paragraphs)return function(Me){return i.fF.assertValue(Me,"definition"),_.map(Me,function(He){var ct={textRuns:_.map(He.textRuns,function(Mt){return(0,l.IM)(Mt)?Ne(Mt):(0,l.Kt)(Mt)?{cases:_.map(Mt.cases,function(Bt){return{pattern:he(Bt.pattern,P),textRuns:_.map(Bt.textRuns,function(Kt){return Ne(Kt)})}}),defaultCase:{textRuns:_.map(Mt.defaultCase.textRuns,function(Bt){return Ne(Bt)})},expression:tt(Mt.expression)}:void 0})};return He.horizontalTextAlignment&&(ct.horizontalTextAlignment=He.horizontalTextAlignment),He.listType&&(ct.listType=He.listType),He.indent&&(ct.indent=He.indent),ct})}(Me);if(He.queryTransform)return function(Me){return{algorithm:Me.algorithm,parameters:_.map(Me.parameters,function(He){var ct=y.ib.serializeExpr(He.expr);return ct.Name=He.name,ct})}}(Me);if(He.dataBars)return function(Me){return{minValue:he(Me.minValue,E),maxValue:he(Me.maxValue,E),positiveColor:Te(Me.positiveColor,M),negativeColor:Te(Me.negativeColor,M),axisColor:Te(Me.axisColor,M),reverseDirection:he(Me.reverseDirection,C),hideText:he(Me.hideText,C),totalMatchingOption:he(Me.totalMatchingOption,D)}}(Me);if(He.icon&&"Icon"===Me.kind)return function(Me){var He={kind:"Icon"};return Me.layout&&(He.layout=he(Me.layout,P)),Me.verticalAlignment&&(He.verticalAlignment=he(Me.verticalAlignment,C)),Me.value&&(He.value=he(Me.value,P)),He}(Me);if(He.exprList&&"ExprList"===Me.kind)return function(Me){i.fF.assertValue(Me,"input");var He={exprs:[],kind:"ExprList"};return He.exprs=_.map(Me.exprs,function(ct){return he(ct,P)}),He}(Me);if(He.errorRange&&"ErrorRange"===Me.kind)return function(Me){i.fF.assertValue(Me,"input");var He={kind:"ErrorRange"};if(Me.explicit)He.explicit={isRelative:he((ct=Me.explicit).isRelative,C)},ct.lowerBound&&(He.explicit.lowerBound=he(ct.lowerBound,E)),ct.upperBound&&(He.explicit.upperBound=he(ct.upperBound,E));else if(Me.symmetricalExplicit)He.symmetricalExplicit={delta:he((ct=Me.symmetricalExplicit).delta,E)};else if(Me.standardDeviation)He.standardDeviation={value:he((ct=Me.standardDeviation).value,E),multiplier:he(ct.multiplier,E)};else if(Me.percentage)He.percentage={lowerBoundDelta:he((ct=Me.percentage).lowerBoundDelta,E),upperBoundDelta:he(ct.upperBoundDelta,E)};else if(Me.percentile){var ct;He.percentile={lowerBound:he((ct=Me.percentile).lowerBound,E),upperBound:he(ct.upperBound,E)}}return He}(Me);if(He.qnaVisualLink)return function(Me){i.fF.assertValue(Me,"input");var He={};if(Me.suggestedUtterances){He.suggestedUtterances=_.map(Me.suggestedUtterances,function(Mt){return{Version:"1.0",Utterance:Mt.utterance}})}return _.isEmpty(He)?void 0:He}(Me);if(He.itemLocation)return function(Me){if(i.fF.assertValue(Me,"input"),Me.byReference){var He=Me.byReference,ct={kind:"ItemLocation",byReference:{itemId:he(He.itemId,P)}};return null!=He.workspaceId&&(ct.byReference.workspaceId=he(He.workspaceId,P)),null!=He.folderId&&(ct.byReference.folderId=he(He.folderId,P)),ct}}(Me);i.fF.assertFail("Serializing a structural type failed")}}function Oe(Me,He){i.fF.assertValue(Me,"contract");var ct={};return _.isEmpty(Me.filterContext)||(ct.filterContext=_.map(Me.filterContext,function(Mt){return{filter:y.ib.serializeFilter(Mt.filter),metadata:Mt.metadata?(0,S.Qe)(Mt.metadata,He):void 0}})),ct}function Je(Me){i.fF.assertValue(Me,"definition");var He={name:he(Me.name,P),url:he(Me.url,b.Ge.fromDescriptor(a.z))};return Me.scaling&&(He.scaling=he(Me.scaling,P)),He}function fe(Me){return i.fF.assertValue(Me,"definition"),{type:he(Me.type,P),name:he(Me.name,P),content:he(Me.content,P)}}function Ne(Me){var He={value:et(Me.value)};return Me.textStyle&&(He.textStyle=Me.textStyle),Me.url&&(He.url=Me.url),Me.mentionEmail&&(He.mentionEmail=Me.mentionEmail),He}function et(Me){var He;return Me instanceof u.Il?He=he(Me,P):_.isString(Me)||(0,d.U)(Me)?He=Me:i.fF.assertNever(Me),He}function tt(Me){var He;return Me instanceof u.Il?He=he(Me,P):(0,d.U)(Me)?He=Me:i.fF.assertNever(Me),He}function Re(Me){i.fF.assertValue(Me,"typeDescriptor");var He=b.Ge.fromDescriptor(Me);return 0!==He.primitiveType?{value:He}:{structural:Me}}function Xe(Me,He){if(Me.linearGradient2){var Mt={min:{color:He((ct=Me.linearGradient2).min.color,b.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:He(ct.max.color,b.Ge.fromPrimitiveTypeAndCategory(1))}};return ct.min.value&&(Mt.min.value=He(ct.min.value,b.Ge.fromPrimitiveTypeAndCategory(3))),ct.max.value&&(Mt.max.value=He(ct.max.value,b.Ge.fromPrimitiveTypeAndCategory(3))),ct.nullColoringStrategy&&(Mt.nullColoringStrategy={strategy:He(ct.nullColoringStrategy.strategy,b.Ge.fromPrimitiveTypeAndCategory(1))},ct.nullColoringStrategy.color&&(Mt.nullColoringStrategy.color=He(ct.nullColoringStrategy.color,b.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient2:Mt}}var ct;return Me.linearGradient3?(Mt={min:{color:He((ct=Me.linearGradient3).min.color,b.Ge.fromPrimitiveTypeAndCategory(1))},mid:{color:He(ct.mid.color,b.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:He(ct.max.color,b.Ge.fromPrimitiveTypeAndCategory(1))}},ct.min.value&&(Mt.min.value=He(ct.min.value,b.Ge.fromPrimitiveTypeAndCategory(3))),ct.mid.value&&(Mt.mid.value=He(ct.mid.value,b.Ge.fromPrimitiveTypeAndCategory(3))),ct.max.value&&(Mt.max.value=He(ct.max.value,b.Ge.fromPrimitiveTypeAndCategory(3))),ct.nullColoringStrategy&&(Mt.nullColoringStrategy={strategy:He(ct.nullColoringStrategy.strategy,b.Ge.fromPrimitiveTypeAndCategory(1))},ct.nullColoringStrategy.color&&(Mt.nullColoringStrategy.color=He(ct.nullColoringStrategy.color,b.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient3:Mt}):null}},95788:function(ze,K,r){r.d(K,{F:function(){return o}});var t=r(226514),c=r(787941),i=r(524878),s=r(668268),p=r(620108),V=r(324356),m=r(592042),v=r(415859),h=r(962210),n=r(322487),o=function(){function u(){}return u.deserializeDataViewSelectTransforms=function(a){return c.fF.assertValue(a,"input"),function(u){if(u)for(var a=0,l=u;a<l.length;a++){var d=l[a];d.kpiStatusGraphic&&(d.kpi={graphic:d.kpiStatusGraphic})}}(a),_.map(a,function(l){var d={displayName:l.displayName,format:l.format,kpi:l.kpi,queryName:l.queryName,roles:l.roles,sort:l.sort,sortOrder:l.sortOrder,type:(0,v.iz)(l.type)};return l.expr&&(d.expr=n.ib.deserializeExpr(l.expr)),l.aggregateSources&&(d.aggregateSources=l.aggregateSources),l.relatedSelects&&(d.relatedSelects=l.relatedSelects),l.relatedObjects&&(d.relatedObjects=l.relatedObjects),d})},u.serializeDataViewSelectTransforms=function(a){return c.fF.assertValue(a,"input"),_.map(a,function(l){var d={displayName:l.displayName,format:l.format,kpi:l.kpi,queryName:l.queryName,roles:l.roles,sort:l.sort,sortOrder:l.sortOrder,type:(0,v.bI)(l.type)};return l.expr&&(d.expr=n.ib.serializeExpr(l.expr)),l.aggregateSources&&(d.aggregateSources=l.aggregateSources),l.relatedSelects&&(d.relatedSelects=l.relatedSelects),l.relatedObjects&&(d.relatedObjects=l.relatedObjects),d})},u.serializeDataViewTransformActions=function(a,l){c.fF.assertAnyValue(l,"objectDescriptors");var d={objects:(a=a||{}).objects,projectionOrdering:a.roles&&a.roles.ordering,projectionActiveItems:a.roles&&a.roles.activeItems,splits:a.splits,queryMetadata:null,visualElements:null};return a&&a.objects&&(d.objects=(0,v.xF)(a.objects,l,void 0,!1)),a&&a.selects&&(d.selects=u.serializeDataViewSelectTransforms(a.selects)),a&&!_.isEmpty(a.expansionStates)&&(d.expansionStates=(0,h.hI)(a.expansionStates)),d},u.deserializeDataViewTransformActions=function(a,l){var d=l&&l.objects;c.fF.assertValue(a,"actions"),c.fF.assertAnyValue(d,"objectDescriptors");var b=a.objects?(0,v.wN)(a.objects,d):null,f=u.createTransformActions(a.queryMetadata,a.visualElements,d,b)||{},g=a&&a.projectionActiveItems;return _.isEmpty(g)||this.upgradeActiveItemsIfNeeded(g),f.roles={ordering:a.projectionOrdering,activeItems:g},f.splits=a.splits,a.selects&&(f.selects=u.deserializeDataViewSelectTransforms(a.selects)),a.expansionStates&&(f.expansionStates=(0,h.bX)(a.expansionStates,{supportsMerge:l&&l.expandCollapse&&l.expandCollapse.supportsMerge,canCollapseRoot:l&&l.noDefaultProjections,collapseParentAfterRemovingChildLevel:l&&l.expandCollapse&&l.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(f),f},u.isStringArray=function(a){return _.isString(a[0])},u.upgradeActiveItemsIfNeeded=function(a){for(var l in a){var d=a[l],b=void 0;!_.isEmpty(d)&&this.isStringArray(d)&&(b=_.map(d,function(g){return{queryRef:g}})),a[l]=b||d}},u.upgradeComboChartFromCY16SU04AndPrior=function(a){var l;c.fF.assertValue(a,"transformActions");var f=a.roles&&a.roles.ordering;if(f){var g=f.Y&&1===f.Y.length&&_.includes(f.Y2,f.Y[0])?f.Y[0]:void 0;if(void 0!==g){var S=a.splits&&2===a.splits.length&&!a.splits[0].selects[g]&&a.splits[1].selects[g]?a.splits[0]:void 0;if(S){var y=_.chain(Object.keys(S.selects)).filter(function(M){return S.selects[M]}).map(function(M){return parseInt(M,10)}).maxBy(function(M){return M}).value();if(y!==Number.NEGATIVE_INFINITY&&a.selects&&a.selects.length===y){var E=a.selects[g];if(E&&E.roles.Y&&E.roles.Y2){delete E.roles.Y;var P=(0,t.__assign)({},E);P.roles=((l={}).Y=!0,l),P.queryName=E.queryName,a.selects[y]=P,a.roles.ordering.Y=[y]}}}}}},u.serializeTransformActions=function(a){return JSON.stringify(a)},u.createTransformActions=function(a,l,d,b){if(c.fF.assertAnyValue(a,"queryMetadata"),c.fF.assertAnyValue(l,"visualElements"),c.fF.assertAnyValue(d,"objectDescs"),c.fF.assertAnyValue(b,"objectDefns"),a&&!_.isEmpty(a.Select)||!_.isEmpty(l)||b){var f={};if(a){var g=a.Select;if(g)for(var S=f.selects=[],y=function(R,B){var N=g[R];if(!N)return S.push(null),"continue";var x=C.toTransformSelect(N,R);if(S.push(x),x.format&&d){c.fF.assert(function(){return!!x.queryName},"selectTransform.queryName should be defined (or defaulted).");var A=(0,p.$v)(d);A&&(b||(b={}),(0,s.sO)(b,A,{metadata:x.queryName},(0,V.fL)(x.format)))}},C=this,E=0,D=g.length;E<D;E++)y(E)}if(l){var P=(l=_.unionBy(l,function(T){return JSON.stringify(T)})).length;for(P>1&&(f.splits=[]),E=0;E<P;E++){var M=l[E];M.Settings&&0===E&&(b=this.upgradeSettingsToObjects(M.Settings,b)),M.DataRoles&&(f.selects||(f.selects=[]),f.roles||(f.roles={ordering:{}}),this.populateDataRoles(M.DataRoles,f.selects,f.roles.ordering)),f.splits&&f.splits.push(this.populateSplit(M.DataRoles))}}return b&&(f.objects=b),f}},u.toTransformSelect=function(a,l){c.fF.assertValue(a,"select");var d={};return a.Restatement&&(d.displayName=a.Restatement),a.Name?d.queryName=a.Name:d.queryName||(d.queryName="$select"+l),a.Format&&(d.format=a.Format),a.Type&&(d.type=this.describeDataType(a.Type,(0,i.lb)(a.DataCategory))),a.kpi&&(d.kpi=a.kpi),a.kpiStatusGraphic&&(d.kpi={graphic:a.kpiStatusGraphic}),d},u.describeDataType=function(a,l){var d=0;switch(a=a||0){case 2048:d=1;break;case 1:d=3;break;case 3:d=4;break;case 4096:d=5;break;case 20:d=6;break;case 4:d=7;break;case 8:d=9;break;case 67:d=4,c.fF.assert(function(){return!l||"Year"===l},"Unexpected category for Year type."),l="Year";break;case 35:d=4,c.fF.assert(function(){return!l||"Month"===l},"Unexpected category for Month type."),l="Month"}return m.Ge.fromPrimitiveTypeAndCategory(d,l)},u.populateDataRoles=function(a,l,d){c.fF.assertValue(a,"roles"),c.fF.assertValue(l,"selects"),c.fF.assertValue(d,"projectionOrdering");for(var b=0,f=a.length;b<f;b++){var g=a[b],S=g.Projection,y=g.Name,C=l[S];void 0===C&&(this.fillArray(l,S),C=l[S]={});var E=C.roles;void 0===C.roles&&(E=C.roles={}),E[y]=!0;var D=d[y];void 0===D&&(D=d[y]=[]),D.push(S)}},u.fillArray=function(a,l){c.fF.assertValue(a,"selects"),c.fF.assertValue(l,"length");for(var d=a.length;d<l;d++)a[d]={}},u.populateSplit=function(a){c.fF.assertAnyValue(a,"roles");var l={},d={selects:l};if(a)for(var b=0,f=a.length;b<f;b++)l[a[b].Projection]=!0;return d},u.upgradeSettingsToObjects=function(a,l){if(a){var d;for(d in l||(l={}),a){var b=a[d],f=d,g=b,S="general";switch(d){case"hasScalarCategoryAxis":S="categoryAxis",f="axisType",g=(0,V.fL)(b?"Scalar":"Categorical");break;case"Totals":f="totals",g=(0,V.O7)(!!b);break;case"textboxSettings":f="paragraphs",b&&b.paragraphs&&(g=b.paragraphs);break;case"VisualType1":f="visualType1",g=(0,V.fL)(b);break;case"VisualType2":f="visualType2",g=(0,V.fL)(b);break;case"imageVisualSettings":f="imageUrl",b&&b.imageUrl&&(g=(0,V.fL)(b.imageUrl));break;default:continue}this.setObjectDefinition(l,S,f,g)}return l}},u.setObjectDefinition=function(a,l,d,b){c.fF.assertValue(a,"objects"),c.fF.assertValue(l,"objectName"),c.fF.assertValue(d,"propertyName");var f=a[l];void 0===f&&(f=a[l]=[]);var g=f[0];void 0===g&&(g=f[0]={properties:{}}),g.properties[d]=b},u}()},266983:function(ze,K,r){r.d(K,{H9:function(){return s},LF:function(){return m},QW:function(){return V},Rs:function(){return e}});var t=r(787941),c=r(322487),i=r(456535);function s(h){for(var n=[],u=0,a=h.values;u<a.length;u++){for(var d=[],b=0,f=a[u];b<f.length;b++){var S=_.mapValues(f[b],function(y){return _.map(y,function(C){return c.ib.deserializeExpr(C)})});d.push(S)}n.push(d)}return{values:n,columns:_.map(h.columns,function(y){return p(y)})}}function p(h){var n={};if(h.left&&h.right)return n.left=p(h.left),n.right=p(h.right),n;if(h.value){var o=c.ib.deserializeExpr(h.value);return(0,i.Lk)(o)||(0,i.kb)(o)||(0,i.t3)(o)||(0,i.iV)(o)?n.value=o:t.fF.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),n}t.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function V(h){if(t.fF.assertAnyValue(h,"input"),h){var n={expressions:_.map(h.expressions,function(o){return c.ib.deserializeExpr(o)})};return h.decomposedIdentities&&(n.decomposedIdentities=s(h.decomposedIdentities)),h.valueMap&&(n.valueMap=h.valueMap),h.jsonFilter&&(n.jsonFilter=h.jsonFilter),n}}function m(h){if(t.fF.assertAnyValue(h,"contract"),h){var n={expressions:_.map(h.expressions,function(o){return c.ib.serializeExpr(o)})};return h.decomposedIdentities&&(n.decomposedIdentities=e(h.decomposedIdentities)),h.valueMap&&(n.valueMap=h.valueMap),h.jsonFilter&&(n.jsonFilter=h.jsonFilter),n}}function v(h){var n={};return h.left&&h.right?(n.left=v(h.left),n.right=v(h.right),n):h.value?(n.value=c.ib.serializeExpr(h.value),n):void t.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function e(h){if(t.fF.assertAnyValue(h,"contract"),h){for(var n=[],u=0,a=h.values;u<a.length;u++){for(var d=[],b=0,f=a[u];b<f.length;b++){var S=_.mapValues(f[b],function(y){return _.map(y,function(C){return c.ib.serializeExpr(C)})});d.push(S)}n.push(d)}return{values:n,columns:_.map(h.columns,function(y){return v(y)})}}}},718706:function(ze,K,r){r.d(K,{dq:function(){return s},kE:function(){return i},pW:function(){return p},vX:function(){return c}});var t=r(152200);function c(V){if(V&&!(V.length<1)){for(var m=[],v=0,e=V;v<e.length;v++){var h=e[v];if(h.identity&&h.identity.expr){var n=(0,t.m)(h.identity);n&&m.push({id:n,displayName:h.displayName})}}return m}}function i(V){if(V&&!(V.length<1)){for(var m=[],v=0,e=V;v<e.length;v++){var h=e[v];if(h.id){var n=(0,t.D)(h.id);n&&m.push({identity:n,displayName:h.displayName})}}return m}}function s(V){if(V&&!(V.length<1)){for(var m=[],v=0,e=V;v<e.length;v++){var h=e[v];if(!_.isEmpty(h.identities)){var n=_.map(h.identities,function(o){return(0,t.m)(o)});n&&m.push({identities:n,valueMap:h.valueMap})}}return m}}function p(V){if(V&&!(V.length<1)){for(var m=[],v=0,e=V;v<e.length;v++){var h=e[v];if(!_.isEmpty(h.identities)){var n=_.map(h.identities,function(o){return(0,t.D)(o)});n&&m.push({identities:n,valueMap:h.valueMap})}}return m}}},962210:function(ze,K,r){r.d(K,{bX:function(){return v},hI:function(){return s}});var t=r(787941),c=r(353705),i=r(322487);function s(n){return _.filter(_.map(n,function(o){return function(n){if(t.fF.assertValue(n,"expansionState"),t.fF.assertValue(!_.isEmpty(n.roles),"expansionState.roles"),(0,c.of)(n)||(0,c.iA)(n)){var o={roles:n.roles};return _.isEmpty(n.levels)||(t.fF.assertValue(n.root,"expansionState.root"),o.levels=_.map(n.levels,function(u){return function(n){if(t.fF.assertAnyValue(n,"level"),n){t.fF.assertNonEmpty(n.queryRefs,"level.queryRefs");var o={queryRefs:_.clone(n.queryRefs)};return n.isCollapsed&&(o.isCollapsed=!0),n.identityKeys&&(o.identityKeys=_.map(n.identityKeys,function(u){return i.ib.serializeExpr(u)})),n.isPinned&&(o.isPinned=n.isPinned),n.isLocked&&(o.isLocked=n.isLocked),n.AIInformation&&(o.AIInformation=_.cloneDeep(n.AIInformation)),o}}(u)}),o.root=m(n.root)),o}}(o)}),function(o){return o})}function m(n){t.fF.assertValue(n,"node");var o={identityValues:n.identityValues?_.map(n.identityValues,function(b){return i.ib.serializeExpr(b)}):null};if(n.isToggled&&(o.isToggled=!0),!_.isEmpty(n.children)){o.children=[];for(var u=function(f){t.fF.assert(function(){return!_.isEmpty(f.identityValues)},"child.identityValues");var g=m(f);o.children.push(g)},a=0,l=n.children;a<l.length;a++)u(l[a])}return o}function v(n,o){if(n){for(var u=[],a=function(g){if(!g)return"continue";t.fF.assert(function(){return!_.isEmpty(g.roles)},"serializedHierarchy.roles");var S=new c.cb(g.roles,o);_.isEmpty(g.levels)||(t.fF.assertValue(g.root,"serializedHierarchy.root"),S.levels=_.map(g.levels,function(y){return function(n){var o={queryRefs:_.clone(n.queryRefs),isCollapsed:!!n.isCollapsed,toggledNodes:[],isPinned:n.isPinned,isLocked:n.isLocked,AIInformation:_.cloneDeep(n.AIInformation)};return n.identityKeys&&(o.identityKeys=_.map(n.identityKeys,function(u){return i.ib.deserializeExpr(u)})),o}(y)}),S.root=h(g.root,-1,null,S.levels,!!o.canCollapseRoot)),u.push(S)},l=0,d=n;l<d.length;l++)a(d[l]);return u}}function h(n,o,u,a,l){t.fF.assertValue(n,"serializedNode");var d={identityValues:n.identityValues?_.map(n.identityValues,function(f){return i.ib.deserializeExpr(f)}):null,parent:u,children:[]};if(n.isToggled&&(d.isToggled=!0,o>=0?a[o].toggledNodes.push(d):t.fF.assert(function(){return l},"Collapse to root capability not enabled")),!_.isEmpty(n.children)){var b=o+1;d.children=_.map(n.children,function(f){return h(f,b,d,a,l)})}return d}},890795:function(ze,K,r){r.d(K,{Qe:function(){return v},R6:function(){return u},_q:function(){return n},hE:function(){return e}});var t=r(787941),c=r(369138),i=r(266983),s=r(718706),p=r(322487);function v(a,l){var d;if(t.fF.assertValue(a,"input"),!_.isEmpty(a.expressions)){if(l){var b=(0,c.s0)(a);d=(0,i.LF)(b)}else d=function(a){if(t.fF.assertValue(a,"input"),!_.isEmpty(a.expressions)){var l={expressions:_.map(a.expressions,function(d){return p.ib.serializeExpr(d)})};return _.isEmpty(a.cachedValueItems)||(l.cachedValueItems=(0,s.dq)(a.cachedValueItems)),a.jsonFilter&&(l.jsonFilter=a.jsonFilter),l}}(a);return d}}function e(a){if(t.fF.assertValue(a,"input"),!_.isEmpty(a.expressions)){if(function(a){return!!a.decomposedIdentities}(a)){var l=(0,i.QW)(a);return(0,c.Ns)(l)}return n(a)}}function n(a){if(t.fF.assertValue(a,"input"),!_.isEmpty(a.expressions)){var l={expressions:_.map(a.expressions,function(d){return p.ib.deserializeExpr(d)})};return _.isEmpty(a.cachedValueItems)||(l.cachedValueItems=(0,s.pW)(a.cachedValueItems)),a.jsonFilter&&(l.jsonFilter=a.jsonFilter),l}}function u(a){return!!a.cachedValueItems}},322487:function(ze,K,r){r.d(K,{ib:function(){return u}});var t=r(158519),c=r(338780),i=r(787941),s=r(690016),p=r(601139),V=r(324356),m=r(620006),v=r(516469),e=r(13106),h=function(){function fe(ne){i.fF.assertValue(ne,"from"),this.clauses={from:ne,select:[]}}return fe.prototype.addWhere=function(ne){i.fF.assertValue(ne,"filter");var Ne=this.clauses;Ne.where||(Ne.where=[]),Ne.where.push(ne)},fe.prototype.addWheres=function(ne){i.fF.assertValue(ne,"filters");var Ne=this.clauses;Ne.where||(Ne.where=[]);for(var et=0,tt=ne;et<tt.length;et++)Ne.where.push(tt[et])},fe.prototype.addOrderBy=function(ne){i.fF.assertValue(ne,"sort");var Ne=this.clauses;Ne.orderBy||(Ne.orderBy=[]),Ne.orderBy.push(ne)},fe.prototype.addSelect=function(ne){i.fF.assertValue(ne,"select"),this.clauses.select.push(ne)},fe.prototype.addGroupBy=function(ne){i.fF.assertValue(ne,"groupBy");var Ne=this.clauses;Ne.groupBy||(Ne.groupBy=[]),Ne.groupBy.push(ne)},fe.prototype.addTransform=function(ne){i.fF.assertValue(ne,"transformItem");var Ne=this.clauses;Ne.transforms||(Ne.transforms=[]),Ne.transforms.push(ne)},fe.prototype.setTop=function(ne){this.clauses.top=ne},fe.prototype.toQuery=function(){return e.vQ.createWith(this.clauses,!0)},fe.prototype.toFilter=function(){var ne=this.clauses;if(i.fF.assert(function(){return!ne.orderBy&&0===ne.select.length},"toFilter must not have orderBy/select specified."),ne.from&&ne.where)return new e.yl(ne.from,ne.where)},fe}(),n=r(760285),o=r(174197),u=function(){function fe(){}return fe.serializeQuery=function(ne,Ne,et){void 0===Ne&&(Ne=!1),void 0===et&&(et=!1),i.fF.assertValue(ne,"query");var tt=[],xe=ne.from();this.serializeFrom(xe,tt);var Le,Ve=this.serializeQueryFilters(ne.where(),d.create,!1),at=ne.transforms();if(!_.isEmpty(at)){Le=[];for(var ft=0,ht=at;ft<ht.length;ft++){var Ge=ht[ft],Re=_.map(Ge.input.parameters,function(or){return d.createNamed(or,Ne)}),Xe={Name:Ge.name,Algorithm:Ge.algorithm,Input:{Parameters:Re},Output:void 0};if(Ge.input.table){var Me=this.serializeTransformTableColumns(Ge.input.table.columns);Xe.Input.Table={Name:Ge.input.table.name,Columns:Me}}if(Ge.output&&Ge.output.table){var He=this.serializeTransformTableColumns(Ge.output.table.columns);Xe.Output={Table:{Name:Ge.output.table.name,Columns:He}}}Le.push(Xe)}}for(var ct=this.serializeSortDefinitions(ne.orderBy(),Ne),Mt=[],It=ne.select(),Bt=0,jt=It.length;Bt<jt;Bt++)Mt.push(d.createNamed(It[Bt],Ne,et));var Kt,Yt=ne.groupBy();if(Yt&&Yt.length)for(Kt=[],Bt=0,jt=Yt.length;Bt<jt;Bt++)Kt.push(d.createNamed(Yt[Bt],Ne));var Zt={Version:n.L.Version2,From:tt,Select:Mt};return Ve&&(Zt.Where=Ve),Le&&(Zt.Transform=Le),ct&&(Zt.OrderBy=ct),Kt&&(Zt.GroupBy=Kt),ne.top()&&(Zt.Top=ne.top()),Zt},fe.serializeSortDefinitions=function(ne,Ne){var et;if(ne&&ne.length){et=[];for(var tt=0,xe=ne.length;tt<xe;tt++){var Ve=ne[tt];et.push({Direction:Ve.direction,Expression:d.create(Ve.expr,Ne)})}}return et},fe.tryDeserializeQuery=function(ne){var Ne;try{Ne=this.deserializeQuery(ne)}catch(et){}if(Ne&&!this.isMalformed(Ne))return Ne},fe.isMalformed=function(ne){for(var Ne=0,et=ne.select();Ne<et.length;Ne++)if(!et[Ne].expr)return!0;return!1},fe.serializeQueryFilters=function(ne,Ne,et){var tt;if(!_.isEmpty(ne)){tt=[];for(var xe=0,Ve=ne;xe<Ve.length;xe++){var Le=Ve[xe],at={Condition:Ne(Le.condition,et)};if(!_.isEmpty(Le.target)){at.Target=[];for(var ft=0,ht=Le.target;ft<ht.length;ft++)at.Target.push(Ne(ht[ft],et))}Le.annotations&&(at.Annotations=Le.annotations),tt.push(at)}}return tt},fe.deserializeQuery=function(ne){i.fF.assertValue(ne,"contract");var Ne=ne.Version?ne.Version:n.L.Version0,et=Ne<n.L.Version1,tt=a.from(ne.From),xe=new h(tt),Ve=ne.Where;if(Ve)for(var Le=0,at=Ve.length;Le<at;Le++){var ft=a.filter(Ve[Le],tt);ft&&(et&&(ft=b.Upgrade(Ne,ft)),xe.addWhere(ft))}var ht=ne.Transform,Ge=tt;if(!_.isEmpty(ht)){for(var Re={},Me=0,He=tt.keys();Me<He.length;Me++){var ct=He[Me];Re[ct]=tt.source(ct)}for(Le=0,at=ht.length;Le<at;Le++){var Mt;ht[Le].Input&&ht[Le].Input.Table&&(Re[Mt=ht[Le].Input.Table.Name]=new m.SX(void 0,Mt)),ht[Le].Output&&ht[Le].Output.Table&&(Re[Mt=ht[Le].Output.Table.Name]=new m.SX(void 0,Mt))}for(Ge=new m.cL(Re),Le=0,at=ht.length;Le<at;Le++)xe.addTransform(a.transform(ht[Le],Ge))}var It=ne.OrderBy;if(It)for(Le=0,at=It.length;Le<at;Le++)xe.addOrderBy(a.sort(It[Le],tt));var Bt=ne.Select,jt={};for(Le=0,at=Bt.length;Le<at;Le++)xe.addSelect(a.select(Bt[Le],jt,Ge));var Kt=ne.GroupBy;if(Kt){var Yt={};for(Le=0,at=Kt.length;Le<at;Le++)xe.addGroupBy(a.groupBy(Kt[Le],Yt,tt))}return ne.Top&&xe.setTop(ne.Top),xe.toQuery()},fe.deserializeSortDefinitions=function(ne,Ne){return _.isEmpty(ne)?[]:_.map(ne,function(et){return a.sort(et,Ne)})},fe.serializeFilter=function(ne){var Ne=[],et=ne.from();this.serializeFrom(et,Ne);var tt=this.serializeQueryFilters(ne.where(),d.create,!1);return{Version:n.L.Version2,From:Ne,Where:tt}},fe.serializeFrom=function(ne,Ne){for(var et=ne.keys(),tt=new l(ne),xe=0,Ve=et.length;xe<Ve;xe++)Ne.push(ne.source(et[xe]).accept(tt,xe))},fe.deserializeFrom=function(ne){return a.from(ne)},fe.deserializeFilter=function(ne,Ne){i.fF.assertValue(ne,"contract");var et=ne.Version?ne.Version:n.L.Version0,tt=et<n.L.Version1,xe=a.from(ne.From),Ve=new h(xe),Le=ne.Where;if(Le)for(var at=0,ft=Le.length;at<ft;at++){var ht=a.filter(Le[at],xe);ht?(tt&&(ht=b.Upgrade(et,ht)),Ve.addWhere(ht)):Ne&&(_.isEmpty(Ne.RemovedIndexes)&&(Ne.RemovedIndexes=[]),Ne.RemovedIndexes.push(at))}return Ve.toFilter()},fe.serializeExpr=function(ne,Ne){return void 0===Ne&&(Ne=!1),i.fF.assertValue(ne,"contract"),i.fF.assertValue(Ne,"serializeAnnotations"),d.create(ne,!0,Ne)},fe.serializeExprWithRef=function(ne,Ne){return void 0===Ne&&(Ne=!1),i.fF.assertValue(ne,"contract"),i.fF.assertValue(Ne,"serializeAnnotations"),d.create(ne,!1,Ne)},fe.deserializeExpr=function(ne){return i.fF.assertValue(ne,"input"),g(ne)},fe.deserializeExprWithRef=function(ne,Ne){return i.fF.assertValue(ne,"input"),f(ne,Ne)},fe.serializeTransformTableColumns=function(ne){return i.fF.assertValue(ne,"columns"),_.map(ne,function(Ne){var et={Expression:d.createNamed(Ne.expression)};return Ne.role&&(et.Role=Ne.role),et})},fe}(),a=function(){function fe(){}return fe.from=function(ne){i.fF.assertValue(ne,"contract");var Ne={};if(ne)for(var et=0,tt=ne.length;et<tt;et++){var xe=ne[et];switch(xe.Type){case 2:Ne[xe.Name]=xe.Expression.Subquery?new m.vd(u.deserializeQuery(xe.Expression.Subquery.Query)):new m.Qo(C(xe.Expression));break;case 1:Ne[xe.Name]=new m.QS(xe.Schema,xe.Entity);break;default:Ne[xe.Name]=new m.SX(xe.Schema,xe.Entity)}}return new m.cL(Ne)},fe.filter=function(ne,Ne){i.fF.assertValue(ne,"contract");var et=Ne?f(ne.Condition,Ne):g(ne.Condition);if(et){var tt={condition:et};if(ne.Target){tt.target=[];for(var xe=0,Ve=ne.Target;xe<Ve.length;xe++){var Le=Ve[xe],at=Ne?f(Le,Ne):g(Le);if(!at)return;tt.target.push(at)}}return ne.Annotations&&(tt.annotations=ne.Annotations),tt}},fe.sort=function(ne,Ne){return i.fF.assertValue(ne,"contract"),{direction:ne.Direction,expr:f(ne.Expression,Ne)}},fe.select=function(ne,Ne,et){return fe.toNamedQueryExpression(ne,Ne,et)},fe.groupBy=function(ne,Ne,et){return fe.toNamedQueryExpression(ne,Ne,et)},fe.transform=function(ne,Ne){var et=_.map(ne.Input.Parameters,function(Le){return fe.toNamedQueryExpression(Le,{},Ne)}),tt={name:ne.Name,algorithm:ne.Algorithm,input:{parameters:et},output:{}};if(ne.Input.Table){var xe=this.deserializeTransformTableColumns(ne.Input.Table.Columns,Ne);tt.input.table={name:ne.Input.Table.Name,columns:xe}}if(ne.Output&&ne.Output.Table){var Ve=this.deserializeTransformTableColumns(ne.Output.Table.Columns,Ne);tt.output.table={name:ne.Output.Table.Name,columns:Ve}}return tt},fe.toNamedQueryExpression=function(ne,Ne,et){i.fF.assertValue(ne,"contract"),i.fF.assertValue(et,"from");var tt=f(ne,et),xe=ne.Name||(0,s.zE)(Ne,(0,o.L)(tt));Ne[xe]=!0;var Ve={name:xe,expr:tt};return ne.NativeReferenceName&&(Ve.nativeReferenceName=ne.NativeReferenceName),Ve},fe.deserializeTransformTableColumns=function(ne,Ne){i.fF.assertValue(ne,"columns");var et={};return _.map(ne,function(tt){return{role:tt.Role,expression:fe.toNamedQueryExpression(tt.Expression,et,Ne)}})},fe}(),l=function(){function fe(ne){this.from=ne}return fe.prototype.visitEntity=function(ne,Ne){return{Name:this.from.keys()[Ne],Entity:ne.entity,Schema:ne.schema,Type:0}},fe.prototype.visitPod=function(ne,Ne){return{Name:this.from.keys()[Ne],Entity:ne.pod,Schema:ne.schema,Type:1}},fe.prototype.visitSubquery=function(ne,Ne){return{Name:this.from.keys()[Ne],Expression:{Subquery:{Query:u.serializeQuery(ne.subquery)}},Type:2}},fe.prototype.visitExpr=function(ne,Ne){return{Name:this.from.keys()[Ne],Expression:u.serializeExpr(ne.expr),Type:2}},fe}(),d=function(){function fe(ne,Ne){this.standalone=ne,this.serializeAnnotations=Ne}return fe.getInstance=function(ne,Ne){ne||(ne=!1),Ne||(Ne=!1);var et=[+ne,+Ne].reduce(function(xe,Ve){return xe<<1|Ve}),tt=fe.instances[et];return tt||(tt=new fe(ne,Ne)),tt},fe.create=function(ne,Ne,et){return void 0===Ne&&(Ne=!1),void 0===et&&(et=!1),ne.accept(fe.getInstance(Ne,et))},fe.createNamed=function(ne,Ne,et){void 0===Ne&&(Ne=!1),void 0===et&&(et=!1);var tt=fe.getInstance(Ne,et),xe=ne.expr.accept(tt);return ne.name&&(xe.Name=ne.name),ne.nativeReferenceName&&(xe.NativeReferenceName=ne.nativeReferenceName),xe},fe.prototype.visitColumnRef=function(ne){return this.addAnnotations(ne,{Column:{Expression:ne.source.accept(this),Property:ne.ref}})},fe.prototype.visitMeasureRef=function(ne){return this.addAnnotations(ne,{Measure:{Expression:ne.source.accept(this),Property:ne.ref}})},fe.prototype.visitNativeMeasure=function(ne){var Ne={Language:ne.language,Expression:ne.expression,DataType:ne.dataType};ne.proposedName&&(Ne.ProposedName=ne.proposedName),ne.format&&(Ne.Format=ne.format);var et=ne.expressionContentCache;return!et||!et.dependencies&&null==et.unrecognizedIdentifiers?{NativeMeasure:Ne}:(Ne.ExpressionContentCache={},et.dependencies&&(Ne.ExpressionContentCache.Dependencies=this.serializeAll(et.dependencies)),null!=et.unrecognizedIdentifiers&&(Ne.ExpressionContentCache.UnrecognizedIdentifiers=et.unrecognizedIdentifiers),this.addAnnotations(ne,{NativeMeasure:Ne}))},fe.prototype.visitNativeColumn=function(ne){var Ne={Language:ne.language,Expression:ne.expression,DataType:ne.dataType,Source:ne.source.accept(this)};ne.proposedName&&(Ne.ProposedName=ne.proposedName),ne.format&&(Ne.Format=ne.format);var et=ne.expressionContentCache;return!et||!et.dependencies&&null==et.unrecognizedIdentifiers||(Ne.ExpressionContentCache={},et.dependencies&&(Ne.ExpressionContentCache.Dependencies=this.serializeAll(et.dependencies)),null!=et.unrecognizedIdentifiers&&(Ne.ExpressionContentCache.UnrecognizedIdentifiers=et.unrecognizedIdentifiers)),this.addAnnotations(ne,{NativeColumn:Ne})},fe.prototype.visitAggr=function(ne){if(!_.isNil(ne.includeAllTypes))switch(ne.func){case 3:return this.addAnnotations(ne,{Min:{Expression:ne.arg.accept(this),IncludeAllTypes:ne.includeAllTypes}});case 4:return this.addAnnotations(ne,{Max:{Expression:ne.arg.accept(this),IncludeAllTypes:ne.includeAllTypes}})}return this.addAnnotations(ne,{Aggregation:{Expression:ne.arg.accept(this),Function:ne.func}})},fe.prototype.visitPercentile=function(ne){var Ne=this.addAnnotations(ne,{Percentile:{Expression:ne.arg.accept(this),K:ne.k}});return ne.exclusive&&(Ne.Percentile.Exclusive=ne.exclusive),Ne},fe.prototype.visitRangePercent=function(ne){return this.addAnnotations(ne,{RangePercent:{Min:ne.min.accept(this),Max:ne.max.accept(this),Percent:ne.percent}})},fe.prototype.visitHierarchy=function(ne){return this.addAnnotations(ne,{Hierarchy:{Expression:ne.arg.accept(this),Hierarchy:ne.hierarchy}})},fe.prototype.visitPropertyVariationSource=function(ne){var Ne=ne.arg.accept(this);return this.addAnnotations(ne,{PropertyVariationSource:{Expression:{SourceRef:Ne.SourceRef},Name:ne.name,Property:ne.property}})},fe.prototype.visitHierarchyLevel=function(ne){return this.addAnnotations(ne,{HierarchyLevel:{Expression:ne.arg.accept(this),Level:ne.level}})},fe.prototype.visitSelectRef=function(ne){return i.fF.assert(function(){return void 0===ne.attributeKind||null==ne.attributeKind},"Serialization of expr.attributeKind is not supported."),this.addAnnotations(ne,{SelectRef:{ExpressionName:ne.expressionName}})},fe.prototype.visitBetween=function(ne){return this.addAnnotations(ne,{Between:{Expression:ne.arg.accept(this),LowerBound:ne.lower.accept(this),UpperBound:ne.upper.accept(this)}})},fe.prototype.visitIn=function(ne){var Ne=this.serializeAll(ne.args),et=ne.values;if(et){for(var tt=[],xe=0,Ve=et.length;xe<Ve;xe++)tt.push(this.serializeAll(et[xe]));return this.addAnnotations(ne,{In:{Expressions:Ne,Values:tt}})}return this.addAnnotations(ne,{In:{Expressions:this.serializeAll(ne.args),Table:ne.table.accept(this)}})},fe.prototype.visitEntity=function(ne){var Ne;return i.fF.assertValue(ne,"expr"),this.standalone?Ne={Schema:ne.schema,Entity:ne.entity}:(i.fF.assertValue(ne.variable,"expr.variable"),Ne={Source:ne.variable}),this.addAnnotations(ne,{SourceRef:Ne})},fe.prototype.visitSubqueryRef=function(ne){return i.fF.assertValue(ne,"expr"),ne.variable&&!ne.query?this.addAnnotations(ne,{SourceRef:{Source:ne.variable}}):this.standalone?this.addAnnotations(ne,{Subquery:{Query:u.serializeQuery(ne.query,!1,this.serializeAnnotations)}}):void i.fF.assertFail("The inlined subquery is only expected to be there in standalone mode.")},fe.prototype.visitNamedQueryRef=function(ne){return this.standalone?this.addAnnotations(ne,{NamedQueryReference:{Name:ne.queryName}}):(i.fF.assertValue(ne.variable,"expr.variable"),this.addAnnotations(ne,{SourceRef:{Source:ne.variable}}))},fe.prototype.visitAnd=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{And:{Left:ne.left.accept(this),Right:ne.right.accept(this)}})},fe.prototype.visitOr=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Or:{Left:ne.left.accept(this),Right:ne.right.accept(this)}})},fe.prototype.visitCompare=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Comparison:{ComparisonKind:ne.comparison,Left:ne.left.accept(this),Right:ne.right.accept(this)}})},fe.prototype.visitConditional=function(ne){var Ne=this;i.fF.assertValue(ne,"expr");var et=this.addAnnotations(ne,{Conditional:{Cases:_.map(ne.cases,function(xe){return Ne.visitCase(xe)})}}),tt=ne.defaultValue;return tt&&(et.Conditional.DefaultValue=tt.accept(this)),et},fe.prototype.visitCase=function(ne){return{Condition:ne.condition.accept(this),Value:ne.value.accept(this)}},fe.prototype.visitContains=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Contains:{Left:ne.left.accept(this),Right:ne.right.accept(this)}})},fe.prototype.visitDateAdd=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{DateAdd:{Expression:ne.arg.accept(this),Amount:ne.amount,TimeUnit:ne.unit}})},fe.prototype.visitDateSpan=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{DateSpan:{Expression:ne.arg.accept(this),TimeUnit:ne.unit}})},fe.prototype.visitExists=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Exists:{Expression:ne.arg.accept(this)}})},fe.prototype.visitNot=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Not:{Expression:ne.arg.accept(this)}})},fe.prototype.visitNow=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Now:{}})},fe.prototype.visitDefaultValue=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{DefaultValue:{}})},fe.prototype.visitAnyValue=function(ne){i.fF.assertValue(ne,"expr");var Ne={};return null!=ne.defaultValueOverridesAncestors&&(Ne.DefaultValueOverridesAncestors=ne.defaultValueOverridesAncestors),this.addAnnotations(ne,{AnyValue:Ne})},fe.prototype.visitFillRule=function(ne){i.fF.assertValue(ne,"expr");var Ne={},et=ne.rule;return et.linearGradient2&&(Ne.linearGradient2=this.visitLinearGradient2(et.linearGradient2)),et.linearGradient3&&(Ne.linearGradient3=this.visitLinearGradient3(et.linearGradient3)),this.addAnnotations(ne,{FillRule:{Input:ne.input.accept(this),FillRule:Ne}})},fe.prototype.visitLinearGradient2=function(ne){i.fF.assertValue(ne,"visitLinearGradient2 - gradient");var Ne={min:this.visitRuleStop(ne.min),max:this.visitRuleStop(ne.max)},et=this.visitNullColoringStrategy(ne.nullColoringStrategy);return et&&(Ne.nullColoringStrategy=et),Ne},fe.prototype.visitLinearGradient3=function(ne){i.fF.assertValue(ne,"visitLinearGradient3 - gradient");var Ne={min:this.visitRuleStop(ne.min),mid:this.visitRuleStop(ne.mid),max:this.visitRuleStop(ne.max)},et=this.visitNullColoringStrategy(ne.nullColoringStrategy);return et&&(Ne.nullColoringStrategy=et),Ne},fe.prototype.visitRuleStop=function(ne){i.fF.assertValue(ne,"stop");var Ne={color:ne.color.accept(this)};return ne.value&&(Ne.value=ne.value.accept(this)),Ne},fe.prototype.visitNullColoringStrategy=function(ne){if(ne){i.fF.assertValue(ne.strategy,"visitNullColoringStrategy - input.strategy");var Ne={strategy:ne.strategy.accept(this)};return ne.color&&(Ne.color=ne.color.accept(this)),Ne}},fe.prototype.visitThemeDataColor=function(ne){return this.addAnnotations(ne,{ThemeDataColor:{ColorId:ne.colorId,Percent:ne.percent}})},fe.prototype.visitStartsWith=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{StartsWith:{Left:ne.left.accept(this),Right:ne.right.accept(this)}})},fe.prototype.visitGroupRef=function(ne){var Ne=this;return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{GroupRef:{Expression:ne.source.accept(this),Property:ne.ref,GroupedColumns:_.map(ne.groupedExprs,function(et){return et.accept(Ne)})}})},fe.prototype.visitConstant=function(ne){switch(i.fF.assertValue(ne,"expr"),ne.type.primitiveType){case 5:case 7:case 2:case 4:case 3:case 0:case 1:return this.addAnnotations(ne,{Literal:{Value:ne.valueEncoded}});default:i.fF.assertFail("Unrecognized kind: "+ne.type.primitiveType)}},fe.prototype.visitArithmetic=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{Arithmetic:{Left:ne.left.accept(this),Right:ne.right.accept(this),Operator:ne.operator}})},fe.prototype.visitFloor=function(ne){i.fF.assertValue(ne,"expr");var Ne=this.addAnnotations(ne,{Floor:{Expression:ne.arg.accept(this),Size:ne.size}});return null!=ne.timeUnit&&(Ne.Floor.TimeUnit=ne.timeUnit),Ne},fe.prototype.visitResourcePackageItem=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{ResourcePackageItem:{PackageName:ne.packageName,PackageType:ne.packageType,ItemName:ne.itemName}})},fe.prototype.visitScopedEval=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{ScopedEval:{Expression:ne.expression.accept(this),Scope:this.serializeAll(ne.scope)}})},fe.prototype.visitFilteredEval=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{FilteredEval:{Expression:ne.expression.accept(this),Filters:u.serializeQueryFilters(ne.filters,fe.create,this.standalone)}})},fe.prototype.visitWithRef=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{WithRef:{ExpressionName:ne.expressionName}})},fe.prototype.visitTransformTableRef=function(ne){return this.addAnnotations(ne,{TransformTableRef:{Source:ne.source}})},fe.prototype.visitTransformOutputRoleRef=function(ne){return this.addAnnotations(ne,{TransformOutputRoleRef:{Role:ne.role,Transform:ne.transform}})},fe.prototype.visitRoleRef=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{RoleRef:{Role:ne.role}})},fe.prototype.visitSummaryValueRef=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{SummaryValueRef:{Name:ne.name}})},fe.prototype.visitAllRolesRef=function(ne){return i.fF.assertValue(ne,"expr"),this.addAnnotations(ne,{AllRolesRef:{}})},fe.prototype.visitDiscretize=function(ne){return this.addAnnotations(ne,{Discretize:{Expression:ne.source.accept(this),Count:ne.count}})},fe.prototype.visitMember=function(ne){return this.addAnnotations(ne,{Member:{Expression:ne.source.accept(this),Member:ne.member}})},fe.prototype.visitSparklineData=function(ne){var Ne={SparklineData:{Measure:ne.measure.accept(this),Groupings:this.serializeAll(ne.grouping),PointsPerSparkline:ne.pointsPerSparkline}};return ne.scalarKey&&(Ne.SparklineData.ScalarKey=ne.scalarKey.accept(this)),ne.includeMinGroupingInterval&&(Ne.SparklineData.IncludeMinGroupingInterval=ne.includeMinGroupingInterval),Ne},fe.prototype.serializeAll=function(ne){for(var Ne=[],et=0,tt=ne.length;et<tt;et++)Ne.push(ne[et].accept(this));return Ne},fe.prototype.visitNativeVisualCalc=function(ne,Ne){return this.addAnnotations(ne,{NativeVisualCalculation:{Language:ne.language,Expression:ne.expression,Name:ne.name}})},fe.prototype.addAnnotations=function(ne,Ne){if(this.serializeAnnotations){var et=ne.getAnnotations();et&&(Ne.Annotations=et)}return Ne},fe.instances=[],fe}(),b=function(){function fe(){}return fe.Upgrade=function(ne,Ne){if(!Ne||!Ne.condition)return null;var et=(0,p._)(Ne.condition);return ne===n.L.Version0&&2!==et?{condition:Ne.condition}:Ne},fe}();function f(fe,ne){return i.fF.assertValue(fe,"contract"),function(fe,ne){if(fe.Column){var Ne=f(fe.Column.Expression,ne);if(Ne)return(0,V.Oh)(Ne,fe.Column.Property,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Measure){var Ne=f(fe.Measure.Expression,ne);if(Ne)return(0,V.mv)(Ne,fe.Measure.Property,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.NativeMeasure){var Ne=void 0;return fe.NativeMeasure.ExpressionContentCache&&(Ne={unrecognizedIdentifiers:fe.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:S(fe.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==fe.NativeMeasure.Language&&i.fF.assertFail("QueryNativeMeasure is using unexpected language: "+fe.NativeMeasure.Language),(0,V.PB)(fe.NativeMeasure.Language,fe.NativeMeasure.Expression,fe.NativeMeasure.DataType,fe.NativeMeasure.ProposedName,Ne,fe.NativeMeasure.Format,fe.Annotations)}}(fe)||function(fe,ne){if(fe.NativeColumn){var Ne=void 0;if(fe.NativeColumn.ExpressionContentCache&&(Ne={unrecognizedIdentifiers:fe.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:S(fe.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==fe.NativeColumn.Language)return void i.fF.assertFail("QueryNativeColumn is using unexpected language: "+fe.NativeColumn.Language);if(!fe.NativeColumn.Source)return void i.fF.assertFail("QueryNativeColumn should have a source");var et=f(fe.NativeColumn.Source,ne);return(0,V.sl)(fe.NativeColumn.Language,fe.NativeColumn.Expression,fe.NativeColumn.DataType,et,fe.NativeColumn.ProposedName,Ne,fe.NativeColumn.Format,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.SourceRef){if(!ne){var xe=fe.SourceRef;return(0,V.nw)(xe.Schema,xe.Entity,void 0,fe.Annotations)}var et=fe.SourceRef.Source,tt=ne.source(et);if(tt)return(0,m.$r)(tt)?(0,V.nw)(tt.schema,tt.entity,et,fe.Annotations):(0,m.Yg)(tt)?(0,V.nw)(tt.schema,tt.pod,et):(0,t.y)(tt)?(0,V.v5)(et,fe.Annotations):(i.fF.assert(function(){return(0,m.Ms)(tt)},"Expected an ExpressionSource"),tt.expr.as(et))}}(fe,ne)||function(fe,ne){if(fe.Aggregation){var Ne=f(fe.Aggregation.Expression,ne);if(Ne)return(0,V.m_)(Ne,fe.Aggregation.Function,void 0,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Min){var Ne=f(fe.Min.Expression,ne);if(Ne)return(0,V.m_)(Ne,3,fe.Min.IncludeAllTypes,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Max){var Ne=f(fe.Max.Expression,ne);if(Ne)return(0,V.m_)(Ne,4,fe.Max.IncludeAllTypes,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.SelectRef)return(0,V.xA)(fe.SelectRef.ExpressionName,void 0,fe.Annotations)}(fe)||function(fe,ne){if(fe.Percentile){var Ne=f(fe.Percentile.Expression,ne);if(Ne)return(0,V.Pe)(Ne,fe.Percentile.K,fe.Percentile.Exclusive||!1,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.RangePercent){var Ne=f(fe.RangePercent.Min,ne),et=f(fe.RangePercent.Max,ne);if(Ne&&et)return(0,V.Mj)(Ne,et,fe.RangePercent.Percent,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Arithmetic){var Ne=f(fe.Arithmetic.Left,ne),et=f(fe.Arithmetic.Right,ne);if(Ne&&et)return(0,V.Y8)(Ne,et,fe.Arithmetic.Operator,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Floor){var Ne=f(fe.Floor.Expression,ne);if(Ne)return(0,V.GW)(Ne,fe.Floor.Size,fe.Floor.TimeUnit,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Discretize){var Ne=f(fe.Discretize.Expression,ne);if(Ne)return(0,V.h5)(Ne,fe.Discretize.Count,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Member){var Ne=f(fe.Member.Expression,ne);if(Ne)return(0,V.fP)(Ne,fe.Member.Member,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Hierarchy){var Ne=f(fe.Hierarchy.Expression,ne);if(Ne)return(0,V.bT)(Ne,fe.Hierarchy.Hierarchy,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.HierarchyLevel){var Ne=f(fe.HierarchyLevel.Expression,ne);if(Ne)return(0,V.os)(Ne,fe.HierarchyLevel.Level,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.PropertyVariationSource){var Ne=f(fe.PropertyVariationSource.Expression,ne);if(Ne)return(0,V.yU)(Ne,fe.PropertyVariationSource.Name,fe.PropertyVariationSource.Property,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.And){var Ne=f(fe.And.Left,ne),et=f(fe.And.Right,ne);if(Ne&&et)return(0,V.xD)(Ne,et,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Between){var Ne=f(fe.Between.Expression,ne),et=f(fe.Between.LowerBound,ne),tt=f(fe.Between.UpperBound,ne);if(Ne&&et&&tt)return(0,V.vX)(Ne,et,tt,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.In){if(fe.In.Values)return(0,V.Sh)(S(fe.In.Expressions,ne),_.map(fe.In.Values,function(et){return S(et,ne)}));var Ne=f(fe.In.Table,ne);if(Ne)return(0,V.dY)(S(fe.In.Expressions,ne),Ne,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Or){var Ne=f(fe.Or.Left,ne),et=f(fe.Or.Right,ne);if(Ne&&et)return(0,V.or)(Ne,et,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Contains){var Ne=f(fe.Contains.Left,ne),et=f(fe.Contains.Right,ne);if(Ne&&et)return(0,V.r3)(Ne,et,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Comparison){var Ne=f(fe.Comparison.Left,ne),et=f(fe.Comparison.Right,ne);if(Ne&&et)return(0,V.qu)(fe.Comparison.ComparisonKind,Ne,et,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Conditional){for(var Ne=fe.Conditional.Cases,et=Ne.length,tt=new Array(et),xe=0;xe<et;xe++){var Ve=se(Ne[xe]);if(!Ve){tt=void 0;break}tt[xe]=Ve}if(fe.Conditional.DefaultValue){var Le=f(fe.Conditional.DefaultValue);if(tt&&Le)return(0,V.u7)(tt,Le,fe.Annotations)}else if(tt)return(0,V.u7)(tt,void 0,fe.Annotations)}}(fe)||function(fe,ne){if(fe.DateAdd){var Ne=f(fe.DateAdd.Expression,ne);if(Ne)return(0,V.sO)(fe.DateAdd.TimeUnit,fe.DateAdd.Amount,Ne,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.DateSpan){var Ne=f(fe.DateSpan.Expression,ne);if(Ne)return(0,V.uQ)(fe.DateSpan.TimeUnit,Ne,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Exists){var Ne=f(fe.Exists.Expression,ne);if(Ne)return(0,V.Gg)(Ne,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.Not){var Ne=f(fe.Not.Expression,ne);if(Ne)return(0,V.ff)(Ne,fe.Annotations)}}(fe,ne)||function(fe){if(fe.Now)return(0,V.zO)(fe.Annotations)}(fe)||function(fe){if(fe.DefaultValue)return(0,V.LS)(fe.Annotations)}(fe)||function(fe){if(fe.AnyValue)return(0,V.n7)(fe.AnyValue.DefaultValueOverridesAncestors,fe.Annotations)}(fe)||function(fe,ne){if(fe.StartsWith){var Ne=f(fe.StartsWith.Left,ne),et=f(fe.StartsWith.Right,ne);if(Ne&&et)return(0,V.Ny)(Ne,et,fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.FillRule){var Ne=f(fe.FillRule.Input,ne),et=fe.FillRule,tt={},xe=et.FillRule.linearGradient2,Ve=et.FillRule.linearGradient3;if(xe)tt.linearGradient2={min:Se(xe.min,ne),max:Se(xe.max,ne)},(Le=Be(xe.nullColoringStrategy,ne))&&(tt.linearGradient2.nullColoringStrategy=Le);else if(Ve){var Le;tt.linearGradient3={min:Se(Ve.min,ne),mid:Se(Ve.mid,ne),max:Se(Ve.max,ne)},(Le=Be(Ve.nullColoringStrategy,ne))&&(tt.linearGradient3.nullColoringStrategy=Le)}return(0,V.x5)(Ne,tt,fe.Annotations)}}(fe,ne)||function(fe){if(fe.ThemeDataColor)return(0,V.e7)(fe.ThemeDataColor.ColorId,fe.ThemeDataColor.Percent,fe.Annotations)}(fe)||function(fe,ne){if(fe.ResourcePackageItem)return(0,V.nF)(fe.ResourcePackageItem.PackageName,fe.ResourcePackageItem.PackageType,fe.ResourcePackageItem.ItemName,fe.Annotations)}(fe)||function(fe,ne){if(fe.ScopedEval){var Ne=f(fe.ScopedEval.Expression,ne);if(Ne)return(0,V.ed)(Ne,S(fe.ScopedEval.Scope,ne),fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.FilteredEval){var Ne=f(fe.FilteredEval.Expression,ne);return(0,V.Xw)(Ne,_.map(fe.FilteredEval.Filters,function(et){return a.filter(et,ne)}),fe.Annotations)}}(fe,ne)||function(fe,ne){if(fe.WithRef)return(0,V.Oe)(fe.WithRef.ExpressionName,fe.Annotations)}(fe)||function(fe,ne){if(fe.TransformTableRef)return(0,V.GB)(fe.TransformTableRef.Source,fe.Annotations)}(fe)||function(fe,ne){if(fe.TransformOutputRoleRef)return(0,V.hu)(fe.TransformOutputRoleRef.Role,fe.TransformOutputRoleRef.Transform,fe.Annotations)}(fe)||function(fe){if(fe.Literal)return(0,v.bE)(fe.Literal.Value)}(fe)||function(fe,ne){if(fe.GroupRef){var Ne=f(fe.GroupRef.Expression,ne),et=_.map(fe.GroupRef.GroupedColumns,function(tt){return f(tt,ne)});if(Ne&&!_.isEmpty(et))return(0,V.Wp)(fe.GroupRef.Property,Ne,et,fe.Annotations)}}(fe,ne)||function(fe){if(fe.RoleRef)return(0,V.Wu)(fe.RoleRef.Role,fe.Annotations)}(fe)||function(fe){if(fe.AllRolesRef)return(0,V.lI)(fe.Annotations)}(fe)||function(fe){if(fe.NamedQueryReference)return(0,V.kD)(fe.NamedQueryReference.Name,void 0,fe.Annotations)}(fe)||function(fe){if(fe.Subquery)return(0,V.v5)(u.deserializeQuery(fe.Subquery.Query),fe.Annotations)}(fe)||function(fe){return function(fe){if(fe.Boolean)return(0,V.O7)(fe.Boolean.Value,fe.Annotations)}(fe)||Ze(fe)||function(fe){if(fe.DateTimeSecond){var ne=Ce(fe.DateTimeSecond);return(0,V.uQ)(5,(0,V.CQ)(ne),fe.Annotations)}}(fe)||Ze(fe)||function(fe){if(fe.Decimal)return(0,V.gH)(fe.Decimal.Value,void 0,fe.Annotations)}(fe)||function(fe){if(fe.Integer)return(0,V.cA)(fe.Integer.Value,void 0,fe.Annotations)}(fe)||function(fe){if(fe.Null)return(0,V.IF)()}(fe)||function(fe){if(fe.Number)return(0,v.bE)(fe.Number.Value)}(fe)||function(fe){if(fe.String)return(0,V.fL)(fe.String.Value,void 0,fe.Annotations)}(fe)}(fe)||function(fe){if(fe.SummaryValueRef)return(0,V.bO)(fe.SummaryValueRef.Name,fe.Annotations)}(fe)||function(fe,ne){var Ne=fe.SparklineData;if(Ne)return(0,V.Zy)(f(Ne.Measure,ne),S(Ne.Groupings,ne),Ne.ScalarKey?f(fe.SparklineData.ScalarKey,ne):void 0,Ne.PointsPerSparkline,Ne.IncludeMinGroupingInterval)}(fe,ne)||function(fe,ne){var Ne=fe.NativeVisualCalculation;if(Ne)return(0,V.YU)(Ne.Name,Ne.Expression,fe.Annotations)}(fe)}function g(fe){return f(fe,null)}function S(fe,ne){for(var Ne=[],et=0,tt=fe.length;et<tt;et++)Ne.push(f(fe[et],ne));return Ne}function C(fe){return g(fe)}function se(fe){if(fe){var ne=f(fe.Condition),Ne=f(fe.Value);if(ne&&Ne)return{condition:ne,value:Ne}}}function Se(fe,ne){if(fe){var Ne={color:f(fe.color,ne)};return fe.value&&(Ne.value=f(fe.value,ne)),Ne}}function Be(fe,ne){if(fe){var Ne={strategy:f(fe.strategy,ne)};return fe.color&&(Ne.color=f(fe.color,ne)),Ne}}function Ze(fe){var ne=fe.DateTime||fe.Date;if(ne){var Ne=Ce(ne);if(Ne)return(0,V.CQ)(Ne,void 0,fe.Annotations)}}function Ce(fe){return i.fF.assertValue(fe,"contract"),(0,c.TX)(fe.Value)}},364113:function(ze,K,r){r.d(K,{d:function(){return t}});var t="tabular"},496662:function(ze,K,r){r.d(K,{Ov:function(){return p},Rk:function(){return V}});var t=r(338780),c=r(787941),i=r(289135),s=r(211070);function p(){return new n}function V(o){var u=[];for(var a in o=v(o))if(o.hasOwnProperty(a)){var l=o[a],d=void 0;if(!l)continue;_.isDate(l)||null!=m(l.toString().substr(0,26))?d={dateTime:!0}:isNaN(+l)?_.isString(l)&&(d={text:!0}):d={numeric:!0},d&&u.push({name:a,type:d})}return u}function m(o){var u=null,a=+o;if(isNaN(a)){var f=(0,t.Kk)(o.toString());f&&(u=(0,i.Fg)(f))}else{var l=new Date;l.setDate(l.getDate()-h);var d=l.getTime();(l=new Date).setDate(l.getDate()+h);var b=l.getTime();a<d&&(a*=1e3),a>d&&a<b&&(u=(0,i.tU)(a))}return u}function v(o){try{return e(o)}catch(u){c.fF.assertFail("Failed to flatten JSON object")}return o}function e(o,u,a){return u||(u={}),_.isObject(o)?_.forOwn(o,function(l,d){e(l,u,a?a+"."+d:d)}):u[a]=o,u}var h=7,n=function(){function o(){this.clear()}return o.prototype.add=function(u){c.fF.assertValue(u,"data");var a=this.getKey(u.modelId,u.name);return this.tabularDataMap[a]=u,a},o.prototype.get=function(u){return c.fF.assertValue(u,"key"),this.tabularDataMap[u]},o.prototype.remove=function(u){c.fF.assertValue(u,"key"),delete this.tabularDataMap[u]},o.prototype.clear=function(){this.tabularDataMap={}},o.prototype.getKey=function(u,a){return c.fF.assertValue(u,"modelId"),c.fF.assertValue(a,"tableName"),u+"_"+a},o.prototype.mergeRows=function(u,a,l,d){c.fF.assertValue(u,"modelId");var b=this.getKey(u,a),f=this.get(b);if(!f||!f.rowGroups){var g={modelId:u,name:a,rowGroups:l,lastVersion:d,columns:f&&f.columns};return this.constructColumnsMetadataIfNeeded(g),this.fixUpValues(g.rowGroups,g.columns),void this.add(g)}var S=[],y=f.rowGroups||[],C=l||[];for(this.fixUpValues(C,f.columns);!_.isEmpty(y)||!_.isEmpty(C);){var E=_.head(y),D=_.head(C);E&&!D?(this.appendRow(S,E,d),y.shift()):!E&&D?(this.appendRow(S,D,d),C.shift()):E.version<D.version?(this.appendRow(S,E,d),y.shift()):D&&(C.shift(),E.version===D.version&&y.shift(),this.appendRow(S,D,d))}f.rowGroups=S,f.lastVersion=d},o.prototype.constructColumnsMetadataIfNeeded=function(u){if(c.fF.assertValue(u,"tabularData"),!u.columns){var a=_.last(u.rowGroups);if(a){var l=_.last(a.rows);l&&(u.columns=V(l))}}},o.prototype.fixUpValues=function(u,a){if(!_.isEmpty(u)){for(var l={},d={},b=0,f=a;b<f.length;b++){var g=f[b];l[g.name]=g.type&&g.type.dateTime,d[g.name]=g.type&&g.type.numeric}for(var S=0,y=u;S<y.length;S++){var C=y[S];if(C.rows)for(var E=0;E<C.rows.length;E++){var D=C.rows[E]=v(C.rows[E]);for(var P in D)if(D.hasOwnProperty(P)){var M=D[P];if(M)if(l[P]){var T=m(M);T&&(D[P]=T)}else if(d[P]){var R=parseFloat(M.toString());isNaN(R)||(D[P]=R)}}}}}},o.prototype.appendRow=function(u,a,l){c.fF.assertValue(u,"rows"),c.fF.assertValue(a,"row"),c.fF.assert(function(){return l>0},"Invalid version"),!(l-a.version>s.cm)&&u.push(a)},o}()},699341:function(ze,K,r){r.d(K,{Q:function(){return e},q:function(){return h}});var t=r(235635),c=r(787941),i=r(238435),s=r(654558),p=r(19632),V=r(324356),m=r(592042);function e(n){var o=_.indexOf(n,".");return o<0||o>=n.length-1?n:n.substr(o+1)}var h=function(){function n(o,u){c.fF.assertValue(o,"host"),c.fF.assertValue(u,"tabularData"),this.promiseFactory=o.promiseFactory(),this.tabularDataCache=u,this.columnToIndexMap={}}return n.prototype.execute=function(o){c.fF.assertValue(o,"options");var u=_.head(o.dataSources),l=this.buildDataView(o.command,u.modelId),d=this.promiseFactory.defer();return d.resolve(l),(0,t.w)(d)},n.prototype.transform=function(o,u,a){return null==o?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:o}},n.prototype.buildDataView=function(o,u){var a=this;c.fF.assertValue(o,"command"),c.fF.assertValue(u,"modelId");var l=o.mappings[0],d=this.tabularDataCache,b=d.get(d.getKey(u,o.tableName));c.fF.assertValue(b,"tabularData");var f=n.getLastVersion(b)-o.dataWindow;if(b.rowGroups){var g=o&&_.head(o.Commands);if(g){var S=g.SemanticQueryDataShapeCommand;S&&S.Query&&S.Query.Select&&S.Query.Select.map(function(E,D){a.columnToIndexMap[e(E.Name)]=D})}var y=this.filterTabularDataRowGroups(b.rowGroups,f),C=this.createDataView({rowGroups:y,columns:b.columns,modelId:b.modelId,name:b.name},l);return o.dataWindow&&(C.metadata.objects={categoryAxis:{duration:o.dataWindow}}),C}},n.prototype.filterTabularDataRowGroups=function(o,u){return c.fF.assertValue(o,"rowGroups"),c.fF.assertValue(u,"cutOff"),_.filter(o,function(a){return a.version>=u})},n.prototype.createDataView=function(o,u){c.fF.assertValue(o,"tabularData"),c.fF.assertValue(u,"mapping");var a={metadata:{columns:[]}},l=this.extractColumns(u),d=[];if(u.categorical){var b=this.getCategoricalDataViewInfo(l.categorical,o);a.categorical=b.dataView,_.isEmpty(a.categorical.values)&&(a.categorical.values=void 0),d.push.apply(d,b.columns||[])}if(u.table){var f=this.getSingleDataViewInfo(l.table,o);a.single=f.dataView;var g=f.columns[0];null==_.find(d,g)&&d.push(g)}return a.metadata.columns=d,a},n.prototype.getCategoricalDataViewInfo=function(o,u){c.fF.assertValue(o,"categoricalColumns"),c.fF.assertValue(u,"tabularData");var a=(0,s.h)();if(!_.isEmpty(o.categories)){var l=this.getCategoryColumnOption(o.categories,u);a.withCategory(l)}var d=this.getValueColumnOptions(o.categories,o.values,u);_.isEmpty(o.groupedValues)||o.groupedValues===o.categories?a.withValues({columns:d}):this.addGroupValues(o,u,a,d);var b=a.build();return{dataView:b.categorical,columns:b.metadata.columns}},n.prototype.addGroupValues=function(o,u,a,l){c.fF.assertValue(o,"categoricalColumns"),c.fF.assertValue(u,"tabularData"),c.fF.assertValue(o.groupedValues,"groupedValues"),c.fF.assertValue(l,"valueColumnOption");for(var d=e(o.groupedValues),b=this.getCategoryColumnOption(d,u),f=this.extractColumnValues(d,u),g=n.getUniqueValues(f),S=this.getValueToIndicesMap(f),y={},E=0,D=o.values;E<D.length;E++)for(var M=e(D[E]),T=this.extractColumnValues(M,u),R=0,B=g;R<B.length;R++){var x=n.valueToString(B[R]);null==y[x]&&(y[x]=[]);var I=_.at(T,S[x]);y[x].push({values:I})}var w=_.values(y);_.isEmpty(w)||a.withGroupedValues({groupColumn:b,valueColumns:l,data:w})},n.prototype.getValueToIndicesMap=function(o){for(var u={},a=0,l=o.length;a<l;a++){var d=n.valueToString(o[a]),b=u[d];b?b.push(a):u[d]=[a]}return u},n.prototype.getSingleDataViewInfo=function(o,u){c.fF.assertValue(o,"singleColumn"),c.fF.assertValue(u,"tabularData");var a=this.getColumnMetadataAndValues(o,u);return{dataView:{value:a.values[a.values.length-1],column:a.metadataColumn},columns:[a.metadataColumn]}},n.prototype.extractColumns=function(o){c.fF.assertValue(o,"mapping");var u=function(C,E){var D=C.items;if(D)for(var P=0,M=D;P<M.length;P++)E.push(M[P].queryName)},a={},l=o.categorical;if(l){var d=[];(0,i.Sr)(l.categories,{visitRole:function(C){u(C,d)}});var b=[];(0,i.fl)(l.values,{visitRole:function(C){u(C,b)}});var f=[];(0,i.vS)(l.values,{visitRole:function(C){u(C,f)}}),c.fF.assert(function(){return f.length<=1},"grouped values length should be <= 1"),c.fF.assert(function(){return d.length<=1},"grouped values length should be <= 1"),a.categorical={categories:d[0],groupedValues:f[0],values:b}}var g=o.table;if(g){var S=[];(0,i.vV)(g,{visitRole:function(C){u(C,S)}}),c.fF.assert(function(){return 1===S.length},"The length of the single column should be one"),a.table=S[0]}return a},n.prototype.getCategoryColumnOption=function(o,u){c.fF.assertValue(o,"columnNames"),c.fF.assertValue(u,"tabularData");var a=this.getColumnMetadataAndValues(o,u),l=n.getUniqueValues(a.values),d=(0,V.Oh)((0,V.nw)(null,u.name),o),b=_.map(l,function(f){return(0,p.TZ)((0,V.Dg)(d,(0,V.fL)(f.toString())))});return{source:a.metadataColumn,values:l,identityFrom:{fields:[d],identities:b}}},n.prototype.getValueColumnOptions=function(o,u,a){c.fF.assertAnyValue(o,"categoryColumnName"),c.fF.assertValue(u,"columnNames"),c.fF.assertValue(a,"tabularData");for(var l=[],d=0,b=u;d<b.length;d++){var g=this.getColumnMetadataAndValues(b[d],a,o),S=g.values;!o&&!_.isEmpty(S)&&(S=[_.last(S)]);var y={source:g.metadataColumn,values:S,minLocal:_.min(S),maxLocal:_.max(S)};l.push(y)}return l},n.prototype.getColumnMetadataAndValues=function(o,u,a){c.fF.assertValue(o,"columnName"),c.fF.assertValue(u,"tabularData"),c.fF.assertAnyValue(a,"categoryColumnName");var f,l=u.columns,d=e(o),b=this.columnToIndexMap[d];if(c.fF.assert(function(){return b>=0},"The column name should exist in tabular columns"),a){var g=e(a);f=this.extractUniqueColumnValues(d,u,g)}else f=this.extractColumnValues(d,u);var S=_.find(l,function(C){return C.name===d});return{metadataColumn:n.createMetadataColumn(d,b,m.Ge.fromDescriptor(S.type)),values:f}},n.prototype.extractColumnValues=function(o,u){c.fF.assertValue(o,"columnName"),c.fF.assertValue(u,"tabularData");for(var l=[],d=0,b=u.rowGroups;d<b.length;d++)for(var g=0,S=b[d].rows;g<S.length;g++)l.push(S[g][o]);return l},n.prototype.extractUniqueColumnValues=function(o,u,a){c.fF.assertValue(o,"columnName"),c.fF.assertValue(u,"tabularData"),c.fF.assertValue(a,"categoryName");for(var d={},b=0,f=u.rowGroups;b<f.length;b++)for(var S=0,y=f[b].rows;S<y.length;S++){var C=y[S];d[n.valueToString(C[a])]=C[o]}return _.values(d)},n.getLastVersion=function(o){if(c.fF.assertValue(o,"tabularData"),_.isEmpty(o.rowGroups))return o.lastVersion?o.lastVersion:Number.NEGATIVE_INFINITY;var u=Number.NEGATIVE_INFINITY;if(!o.rowGroups)return u;for(var a=0,l=o.rowGroups;a<l.length;a++){var d=l[a];d.version>u&&(u=d.version)}return u},n.createMetadataColumn=function(o,u,a){c.fF.assertValue(o,"name"),c.fF.assertValue(u,"columnIndex");var l={displayName:o,queryName:o,index:u,isMeasure:!1};return null!=a&&(l.type=a,l.isMeasure=!!a.numeric),l},n.getUniqueValues=function(o){return _.uniqBy(o,function(u){return n.valueToString(u)})},n.valueToString=function(o){return _.isDate(o)?o.getTime().toString():o?o.toString():""},n}()},118073:function(ze,K,r){r.d(K,{Z:function(){return s}});var t=r(787941),c=r(983172),i=r(322487);function s(){return new p(i.ib)}var p=function(){function V(m){t.fF.assertValue(m,"serializer"),this.serializer=m}return V.prototype.execute=function(m){t.fF.assertValue(m,"options");var v=m.query;t.fF.assertValue(v,"query");var h={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(v),Binding:null}},n=c.m.getActiveTablesNames(v);t.fF.assertValue(1===n.length,"Exactly 1 entity is expected");var o=n[0];return t.fF.assertValue(o,"entity"),{command:{dataWindow:m.dataWindow,tableName:o,mappings:m.mappings,Commands:[h]}}},V.prototype.produceIdentities=function(m,v){return t.fF.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[m]},V}()},419644:function(ze,K,r){r.d(K,{I7:function(){return n},Zq:function(){return c},h1:function(){return l},hh:function(){return p},oj:function(){return e},s7:function(){return m},sS:function(){return v},vP:function(){return i},zT:function(){return u}});var t=r(853811),c="PBI.Data.QueryData",i=t.cx[c]=(0,t.b1)(c),s="PBI.Data.QueryCancellation",p=t.cx[s]=(0,t.b1)(s,{logRatio:1e-4}),V="PBI.Data.ClientCacheHit",m=t.cx[V]=(0,t.b1)(V,{logRatio:1e-4}),v="PBI.Data.GetConceptualSchema",e=t.cx[v]=(0,t.b1)(v),h="PBI.Data.ClearConceptualSchemaCache",n=t.cx[h]=(0,t.b1)(h),o="PBI.Data.ExecuteQuery",u=t.cx[o]=(0,t.b1)(o),a="PBI.Data.DsrToDataView",l=t.cx[a]=(0,t.b1)(a,{logRatio:1e-4})},362892:function(ze,K,r){r.d(K,{S:function(){return c}});var t=r(718301);function c(){return new i}var i=function(){function s(){this.plugins=t.Gr}return s.prototype.getTransformPlugin=function(p){if(p)return this.plugins[p]},s}()},718301:function(ze,K,r){r.d(K,{Gr:function(){return n},Xp:function(){return i}});var c,t=r(145315),i="SampleAndDetectAnomaly",p={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},V=_.mapValues(p,function(o){return"anomalyDetection."+o}),m=_.mapValues(p,function(o){return o+"Role"}),n=((c={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:0}},{name:"Y",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:t.DW.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:t.DW.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:t.DW.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:t.DW.Grouping}]}})[i]={name:i,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:0}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:V.ExpectedValue,algorithmRole:m.ExpectedValue,columnName:p.ExpectedValue,kind:t.DW.Measure,joinPredicateBehavior:0},{name:V.ExpectedLow,algorithmRole:m.ExpectedLow,columnName:p.ExpectedLow,kind:t.DW.Measure,joinPredicateBehavior:0},{name:V.ExpectedHigh,algorithmRole:m.ExpectedHigh,columnName:p.ExpectedHigh,kind:t.DW.Measure,joinPredicateBehavior:0},{name:V.RawScore,algorithmRole:m.RawScore,columnName:p.RawScore,kind:t.DW.Measure,joinPredicateBehavior:0},{name:V.Anomaly,algorithmRole:m.Anomaly,columnName:p.Anomaly,kind:t.DW.Measure,joinPredicateBehavior:0},{name:V.BatchStart,algorithmRole:m.BatchStart,columnName:p.BatchStart,kind:t.DW.Measure,joinPredicateBehavior:0},{name:V.BatchEnd,algorithmRole:m.BatchEnd,columnName:p.BatchEnd,kind:t.DW.Measure,joinPredicateBehavior:0}]},c)},599481:function(ze,K,r){r.d(K,{tc:function(){return V},cu:function(){return o},X9:function(){return h},GB:function(){return e}});var t=r(180951),c=r(587318),i=r(853811),s="PBI.Settings.EsriSaveModel",p=i.cx[s]=(0,i.b1)(s);function V(d,b,f){return void 0===f&&(f=!0),{automaticallyImport:f,sandboxProperties:[2,1,0,3],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:function(){return{message:b.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:1,displayableErrorInfo:[],helpLink:t.ep}}}},visualTypeOptions:m(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return d.reject(c.VT)}},consentPersistencyProvider:{loadConsent:function(){return d.reject(c.VT)},saveConsent:function(S){return d.reject(c.VT)}}}}}function m(){return{class:c.Jo,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function v(d){return{blockedInCluster:function(){return!d.featureSwitches.esriEnabled},blockedInTenant:function(){return!d.featureSwitches.esriVisualEnabled},blockedInHost:_.stubFalse}}function e(d,b,f,g,S,y,C,E){void 0===E&&(E=!0);var D=v(f);return{automaticallyImport:E,sandboxProperties:[2,1,0,3],providers:{blocker:D,validator:a(D,C,g)},visualTypeOptions:m(),registerVisualConsentOptions:n(d,b,S,y)}}function h(d,b,f){void 0===f&&(f=!0);var g=v(d);return{automaticallyImport:f,sandboxProperties:[2,1,0,3],providers:{blocker:g,validator:a(g,void 0,b)},visualTypeOptions:m()}}function n(d,b,f,g){return{consentDialogProvider:l(d,b),consentPersistencyProvider:u(d,f,g)}}function o(d,b,f,g,S,y,C){void 0===C&&(C=!0);var E=v(b);return{automaticallyImport:C,sandboxProperties:[2,1,0,3],providers:{blocker:E,validator:a(E,g,f)},visualTypeOptions:m(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return d.reject("Esri consent dialog is not supported in Mobile scenario.")}},consentPersistencyProvider:u(d,S,y)}}}function u(d,b,f){return{loadConsent:function(){var S=d.defer();return b.esriVisualEnabled.subscribe(function(y){S.resolve(y)}),S.promise},saveConsent:function(S){var y=f.startEvent(p,{esriEnabled:S});return b.setEsriVisualEnabled(S,y),d.resolve(S)}}}function a(d,b,f){return{getErrorDetails:function(){var S;if(d.blockedInTenant()?S="SettingsEsri_OrganizationHasDisabled":b&&!b.hasConsent(c.Jo)&&(S="VisualContainer_EsriNotConsented"),S)return{message:f.get(S),errorType:1,displayableErrorInfo:[],helpLink:t.ep}}}}function l(d,b){return{showConsentDialog:function(){var g=d.defer();return b.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(function(y){return y.afterClosed().subscribe(function(C){return g.resolve(C)})}),g.promise}}}},48574:function(ze,K,r){r.d(K,{O:function(){return t},T:function(){return c}});var t={name:"saveExploration",type:3},c={name:"saveAsExploration",type:3}},927813:function(ze,K,r){r.d(K,{GB:function(){return m}});var t=r(63931),c=r(518304),i=r(325333),s=r(509838),p=[t.qf,t.Af,t.dw,t._V,t.Z4,t.fD,t.jK,t.yz,t.lR,t.LO,t.yC,t.Lr,t.de,t.hh,s.hR,t.vc,t.$n,t.Kb,t.jO,c.K0,c.td,c.gn,c.IJ,t.wf,s.ts,c.tk,"HttpStatusCode = -1","HttpStatusCode = 401","GroupNotAccessible",i.qw.Code,"ActivityLimitReached"],V=[];function m(h){return{errorCode:e(h),errorSource:v(h)}}function v(h){var n=h&&h.clientError,o=e(h);return _.includes(p,o)?"User":_.includes(V,o)?"External":n&&null!=n.source?n.source:"PowerBI"}function e(h){return h&&h.serviceError&&h.serviceError.errorCode||h&&h.clientError&&h.clientError.code||c.Kj}},871780:function(ze,K,r){r.d(K,{d:function(){return c}});var c={type:2,name:"topNFilterOrderByUpdate"}},989797:function(ze,K,r){r.d(K,{hM:function(){return o},oX:function(){return n}});var t=r(226514),c=r(505876),i=r(156319),s=r(809395),p=r(318220),V=r(787941),m=r(668268),v=r(983172),e=r(374952),h=r(340215),n=function(a){return a[a.Card=0]="Card",a[a.Pane=1]="Pane",a}({}),o=function(a){function l(d,b,f){var g=a.call(this,d,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:d.type})||this;return g.localizationService=f,g.isInvalidForMappedColumn=!1,g.id=l.counter++,g.restatement="",g.displayName="",g.containerScope=b,g.howCreated=0,g.isLinkedAsAggregation=!1,g.filterCapabilities=i.l.getFilterCapabilities(d),g.containerType=n.Pane,g}return(0,t.__extends)(l,a),l.prototype.setServices=function(d,b,f){V.fF.assertAnyValue(d,"visualHostServices can be null or undefined."),this.visualHostServices=d,this.visualPlugin=b,this.viewModeState=f},l.prototype.isInvalid=function(){return this.invalid},l.prototype.clearDQPWarning=function(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)},l.prototype.isInvalidCardType=function(){return this.cardType&&this.cardType.invalid},l.prototype.setContainerType=function(d){this.containerType=d},Object.defineProperty(l.prototype,"filterContainerType",{get:function(){return this.containerType},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isVisualFilter",{get:function(){return this.containerScope&&0===this.containerScope.scopeType},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasDefaultValue",{get:function(){return this.defaultValue&&(1===this.howCreated||5===this.howCreated)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isLinkField",{get:function(){return 5===this.howCreated&&!this.contract.isTransient},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canToggleLinkAsAggregation",{get:function(){return this.isLinkField&&!this.isMeasure},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canDeleteManually",{get:function(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canClearManually",{get:function(){return this.filterCapabilities.canClear},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasRestatement",{get:function(){return""!==this.restatement&&null!=this.restatement},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canHideManually",{get:function(){return this.filterCapabilities.canHide},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canLockManually",{get:function(){return this.filterCapabilities.canLock},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canRenameManually",{get:function(){return this.filterCapabilities.canRename},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canSortManually",{get:function(){return this.filterCapabilities.canSort},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canExpandManually",{get:function(){return this.filterCapabilities.canEdit&&i.l.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)},enumerable:!1,configurable:!0}),l.prototype.getFilterContainerScope=function(){return this.containerScope},l.prototype.setRestatement=function(d){this.contract.type===this.readOnlyState.type&&(this.restatement=d)},l.prototype.clearRestatement=function(){this.restatement=""},l.prototype.getRestatement=function(){return this.restatement},l.prototype.updateFilterCardStyle=function(d,b){b&&(this.style=i.l.getFilterCardStyle(d&&d.evaluatedObjects,!!this.contract.filter,b,this.filterCardStyleArguments))},Object.defineProperty(l.prototype,"checkboxAndApplyColor",{get:function(){return this.style&&this.style.checkboxAndApplyColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"borderColor",{get:function(){return this.style&&this.style.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"backgroundColor",{get:function(){return this.style&&this.style.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"foregroundColor",{get:function(){return this.style&&this.style.foregroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inputBoxBorderColor",{get:function(){return this.style&&this.style.inputBoxBorderColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inputBoxBackgroundColor",{get:function(){return this.style&&this.style.inputBoxBackgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inputBoxForegroundColor",{get:function(){return this.style&&this.style.inputBoxForegroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontSize",{get:function(){return this.style&&this.style.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontFamily",{get:function(){return this.style&&this.style.fontFamily},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visualContainer",{get:function(){if(this.isVisualFilter)return this.containerScope.container},enumerable:!1,configurable:!0}),l.prototype.isFilterLocked=function(){return this.contract.isLockedInViewMode},l.prototype.isFilterHidden=function(){return this.contract.isHiddenInViewMode},l.prototype.isFilterExpanded=function(){return this.readOnlyState.expanded},l.prototype.updateFilterProperties=function(d,b,f){if(this.contract.expression){var g=this.contract.expression;this.isMeasure=(0,e.k)(g),this.discourageAggregation=v.m.discourageAggregation(g,d),this.valueType=i.l.getValueType(g,d),this.formatter=i.l.getFormatter(g,d),this.defaultValue=v.m.getDefaultValue(g,d),this.parameterMetadata=v.m.getConceptualParameterMetadata(g,d),5===this.howCreated&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var C=(0,m.NA)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=C&&C.value}var E=this.containerScope.container;this.hasGroupingScope=E&&(0,s.e4)(E,d),this.invalid=!_.isEmpty(i.l.validate(this.contract,d,f)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,d),this.invalid=this.isInvalidForMappedColumn),this.disabled=i.l.shouldDisableFilter(this.contract,d,E,f,b)},l.prototype.hasInvalidFiltersForMParameters=function(d,b){var f,g=null===(f=null==d?void 0:d.filter)||void 0===f?void 0:f.conditions();if(!g)return!1;for(var S=0,y=g;S<y.length;S++)if(!v.m.checkExprForValidMParameters(y[S],b))return!0;return!1},l.prototype.switchType=function(d){this.readOnlyState.type=d},l.prototype.canVisualize=function(){var d=this.contract;return d.expression&&d.type!==c.vA.Passthrough&&!this.isMeasure},l.prototype.updateViewStateCore=function(d){var b=this.contract;V.fF.assertValue(d.type,"Expected type to be defined for filter contract.");var f=!this.invalid;if(d.disabled=this.disabled,d.expanded=!0===b.expanded&&f,d.invalid=!f,_.some(this.availableTypes,function(y){return y.type===c.vA.Categorical})&&!d.visual&&b.config){var g=b.config.singleVisual;g&&this.visualHostServices&&this.visualPlugin&&(d.visual={viewport:l.DefaultVisualViewPort,type:p.L.filterSlicer.name,dataTransforms:{objects:g.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}d.canToggleSingleSelect=!(5===this.howCreated&&!this.contract.isTransient||this.contract.isTransient||d.disabled||!d.expanded||!d.visual||!d.visual.data)},l.prototype.updateAvailableTypes=function(){var d=this.localizationService,b=this.readOnlyState.type;if(b!==c.vA.Passthrough){var f=[];(function(a,l){return a&&!a.bool&&!l})(this.valueType,this.isLinkField)&&f.push({type:c.vA.Advanced,label:d.get("FilterPane_Advanced")}),this.isMeasure||(f.push({type:c.vA.Categorical,label:d.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(f.push({type:c.vA.RelativeDate,label:d.get("FilterPane_RelativeDate")}),f.push({type:c.vA.RelativeTime,label:d.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&f.push({type:c.vA.TopN,label:d.get("FilterPane_TopN")})),this.availableTypes=f,this.hiddenTypes=[],this.updateCardType(b)}else this.availableTypes=[]},l.prototype.updateCardType=function(d){var b=this.availableTypes;this.readOnlyState.type=d,this.cardType=_.find(b,function(f){return f.type===d}),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,function(f){return f.type===d}),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:c.vA.Categorical,label:this.localizationService.get("FilterPane_Basic")})},l.prototype.isSingleSelectDisabled=function(){return this.disableSelectionModeToggle||!this.viewModeState||0===this.viewModeState.getMode()},l.prototype.getDisplayName=function(){return this.contract.displayName?this.contract.displayName:this.displayName},l.prototype.updateIsLinkedAsAggregation=function(d){this.isLinkedAsAggregation=d},l.prototype.getInputPlaceholder=function(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""},l.prototype.isMappedToMParameter=function(){return this.parameterMetadata&&1===this.parameterMetadata.kind},l.prototype.supportsMultipleValues=function(){var d;return!(null===(d=this.parameterMetadata)||void 0===d||!d.supportsMultipleValues)},l.prototype.supportsSelectAll=function(){var d;return!(null===(d=this.parameterMetadata)||void 0===d||!d.supportsSelectAll)},l.DefaultVisualViewPort={width:146,height:180,scale:1},l.counter=0,l}(h.j)},10102:function(ze,K,r){r.d(K,{fw:function(){return g},l7:function(){return S}});var t=r(226514),c=r(505876),i=r(156319),s=r(787941),p=r(261374),V=r(648887),m=r(448711),v=r(44615),e=r(597098),h=r(184776),n=r(211763),o=r(138030),u=r(982414),a=r(670196),l=r(483582),b=r(989797),f=r(971028);function g(N,x,A,I,w,F,O,L,W){var U;switch(s.fF.assertValue(N,"contract"),s.fF.assertValue(N.expression||N.filter||N.type===c.vA.Include||N.type===c.vA.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),s.fF.assert(function(){return!N.isTransient||!!N.filter},"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),N.type){case c.vA.TopN:U=M(N,L,I,x,A,O,W);break;case c.vA.Advanced:case c.vA.Categorical:U=P(N,L,I,x,A,O,W);break;case c.vA.RelativeTime:U=T(V.wj.Time,N,L,I,x,A,O,W,!1);break;case c.vA.RelativeDate:U=T(V.wj.Date,N,L,I,x,A,O,W,!1);break;case c.vA.Passthrough:U=D(N,L,I,x,A,W,O);break;case c.vA.Include:case c.vA.Exclude:U=E(N,I,x,A,O);break;default:U=M(N,L,I,x,A,O,W)||T(V.wj.Time,N,L,I,x,A,O,W,!0)||T(V.wj.Date,N,L,I,x,A,O,W,!0)||P(N,L,I,x,A,O,W)||E(N,I,x,A,O)||D(N,L,I,x,A,W,O)}return s.fF.assertValue(U,"Expected to convert contract to FilterViewModel"),s.fF.assertValue(N.type,"Expected filter contract type to be assigned"),U.howCreated=N.howCreated,U.updateFilterProperties(x,w,F),U}function S(N,x){var A;if(N.filter){var I=N.filter.conditions();s.fF.assert(function(){return 1===I.length},"There should be exactly 1 filter expression.");var w=I[0];w&&(A=new l.L(x).fromFilterExpr(w,null,N.expression))}return!A&&N.expression&&(A=new a.d(N.expression,x)),A}function y(N,x,A,I,w,F,O){var L=(0,e.Q)(N);return A.getDisplayName(N,x,I,w,0===O?F:void 0,{includeVariationSource:!0})||(L?(0,v._6)(L):void 0)}function C(N,x,A,I,w,F,O){var L=A.getQualifiedDisplayName(N,x,w);return 5===O||6===O||2===O?L=I.format("FilterCard_Transient_Drill",[L]):7===O?L=I.format("FilterCard_Transient_URL",[L]):F&&(L=I.format("FilterCard_Transient",[L])),L}function E(N,x,A,I,w){var F=new u.v(A,I);if(!N.filter)return N.type?new b.hM(N,x,w):void 0;var O=N.filter.conditions();if(!(_.isEmpty(O)||O.length>1)&&(O[0].accept(F),F.dataPoints.length>0)){N.type=F.isExclude?c.vA.Exclude:c.vA.Include;var W=new b.hM(N,x,w);return W.displayName=i.l.getDisplayNameForIncludeExcludeFilters(w,N.type,F.dataPoints.length),W}}function D(N,x,A,I,w,F,O){s.fF.assert(function(){return null==N.type||N.type===c.vA.Passthrough},"Filter contract matches FilterType.Passthrough, but has differing type property: "+N.type),null==N.type&&(N.type=c.vA.Passthrough);var L=new b.hM(N,A,O),W=N.restatement;if((!W||""===W)&&N.filter){s.fF.assert(function(){return 1===_.size(N.filter.where())},"expecting only 1 filter in passthrough filters");var U={includeFieldNamesInFilter:!0};if(W=w.getFilterRestatement(N.filter,I,x,U),L.tooltip=w.getQualifiedFilterRestatement(N.filter,I,x,U),_.isEmpty(W)){var j=(0,h.J_)(N.filter);if(!_.isEmpty(j)){var H,z=O.get("ListJoin_Separator"),G=void 0,te=void 0,Q=void 0;F&&(H=F.columnProperties);var de=j.fieldsBeingFiltered.map(function(ve){var De=F&&F.query&&F.query.defn.selectNameOf(ve);return w.getDisplayName(ve,I,x,De,H)}).join(z),Y=j.fieldsBeingFiltered.map(function(ve){return w.getQualifiedDisplayName(ve,I,x,U)}).join(z);if(j.isSubquery&&j.itemCount){s.fF.assert(function(){return 1===A.scopeType&&5===N.howCreated},"Subqueries are expected to be only within section and drillthrough context.");var se=(0,m.WU)(j.itemCount);if(j.orderByField){var ce=F&&F.query&&F.query.defn.selectNameOf(j.orderByField),pe=w.getDisplayName(j.orderByField,I,x,ce,H);Q=j.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",G=[se,de,pe],te=[se,Y,pe]}}else G=[de],te=[Y],Q=j.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";W=p.W.apply(void 0,(0,t.__spreadArray)([O.get(Q)],G||[],!1)),L.tooltip=p.W.apply(void 0,(0,t.__spreadArray)([O.get(Q)],te||[],!1))}}}return L.setRestatement(W),L}function P(N,x,A,I,w,F,O,L){var W=S(N,F);if(W){N.expression||(N.expression=W.field),s.fF.assert(function(){return null==N.type||N.type===c.vA.Categorical||N.type===c.vA.Visual||N.type===c.vA.Advanced},"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+N.type),null==N.type&&(N.filter?N.type=i.l.getFilterType(W.field,W.supportsCategorical):(s.fF.assert(function(){return!N.isTransient},"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),N.type=(0,f.NV)(N.expression,I,N.howCreated))),null==N.type&&(N.type=c.vA.Categorical);var z,G,U=N.expression,j=new b.hM(N,A,F);return O&&(z=O.query&&O.query.defn.selectNameOf(U),G=O.columnProperties),j.displayName=y(U,I,w,x,z,G,A.scopeType),j.tooltip=C(U,I,w,F,x,N.isTransient,N.howCreated),j}}function M(N,x,A,I,w,F,O){if(0===A.scopeType&&5!==N.howCreated){var L=(0,o.J_)(N.filter);return L&&R(N,c.vA.TopN,L.fieldBeingFiltered),B(N,c.vA.TopN,A,I,w,F,x,O)}}function T(N,x,A,I,w,F,O,L,W){var U=function(N){switch(N){case V.wj.Time:return c.vA.RelativeTime;case V.wj.Date:return c.vA.RelativeDate;default:return s.fF.assertFail("Unsupported RelativeFilterType"),null}}(N),j=(0,n.pi)(x.filter,N);if(j){if(j.options&&j.options.anchorDate&&W)return;R(x,U,j.field)}return B(x,U,I,w,F,O,A,L)}function R(N,x,A){s.fF.assert(function(){return null==N.type||N.type===x},"Filter contract matches FilterType."+x+" but has differing type property: "+N.type),N.type=x,N.expression=A}function B(N,x,A,I,w,F,O,L){if(N.type===x&&N.expression){var W=new b.hM(N,A,F),U=L&&L.query?L.query.defn.selectNameOf(N.expression):void 0;return W.displayName=y(N.expression,I,w,O,U,L?L.columnProperties:void 0,A.scopeType),W.tooltip=C(N.expression,I,w,F,O,N.isTransient,N.howCreated),W}}},249276:function(ze,K,r){r.d(K,{$l:function(){return s},De:function(){return u},H:function(){return d},Il:function(){return T},Kp:function(){return M},Kx:function(){return Q},LG:function(){return P},LQ:function(){return h},Ll:function(){return z},Lu:function(){return se},Rz:function(){return o},T9:function(){return V},TY:function(){return e},V1:function(){return U},X:function(){return de},Y:function(){return Y},Y1:function(){return L},Y4:function(){return x},Z0:function(){return l},Zp:function(){return De},b4:function(){return F},di:function(){return W},e4:function(){return p},es:function(){return R},f4:function(){return ve},hz:function(){return v},i$:function(){return H},iR:function(){return G},jA:function(){return g},jv:function(){return O},k8:function(){return B},mn:function(){return S},ns:function(){return N},oU:function(){return ce},ph:function(){return n},rR:function(){return m},tV:function(){return I},ve:function(){return i},xh:function(){return j},yD:function(){return D}});var i="calloutValue",s="categoryAxis",p="categoryLabels",V="conditionalFormatting",m="dataBars",v="dataPoint",e="dropShadow",h="general",n="gradient",o="labels",u="legend",l="personalizeVisual",d="stylePreset",g="totals",S="valueAxis",D="visualTooltip",P="zoom",M="applyToAllPages",T="color",R="dynamicLabelValue",B="flagsSelection",N="innerPadding",x="numericSelection",I="revertToDefault",F="secShow",O="secShowAxisTitle",L="selection",W="show",U="showAxisTitle",j="showDynamicLabels",z="showGradientLegend",G="slider",Q="textarea",H="transparency",de="x",Y="y",se="width",ce="height",ve="allowBinnedLineSample",De="allowOverlappingPointsSample"},221491:function(ze,K,r){r.d(K,{u:function(){return i}});var t=r(226514),c=r(787941),i=function(){function s(p,V){void 0===V&&(V=!1),this.localizationService=p,this.showIcons=V,this.allCommands=[]}return s.prototype.getItems=function(){return this.menuItems},s.prototype.getCommandByIndex=function(p){return this.allCommands[p]},s.prototype.createItems=function(p){return(0,t.__awaiter)(this,void 0,void 0,function(){var V,m;return(0,t.__generator)(this,function(v){switch(v.label){case 0:return[4,this.createMenuItemsFromCommands(p,V=[])];case 1:return m=v.sent(),_.isEmpty(m)?[2,this.createNoAvailableActionsMenu()]:(this.allCommands=V,[2,{items:m}])}})})},s.prototype.createNoAvailableActionsMenu=function(){var p=[],V=this.localizationService.get("VisualContainer_ContextMenu_NoAvailableActions"),m=this.createMenuItem(null,V,null);return m.disabled=!0,p.push(m),{items:p}},s.prototype.createMenuItemsFromCommands=function(p,V){return void 0===V&&(V=[]),(0,t.__awaiter)(this,void 0,void 0,function(){var m,v,e,h,n,o,u,a,l,d,b;return(0,t.__generator)(this,function(f){switch(f.label){case 0:if(_.isEmpty(p))return[2];m=[],v=0,e=p,f.label=1;case 1:return v<e.length?[4,(h=e[v]).isVisible()]:[3,11];case 2:return f.sent()?(1===h.separatorPosition&&(c.fF.assert(function(){return m.length>0},"There is no point to adding a separator as the first item."),c.fF.assert(function(){return 1!==m[m.length-1].type},"Adjacent separators are not allowed."),b=this.createItemSeparator(),m.push(b)),n=void 0,o=void 0,h.getToolTip?[4,h.getToolTip(this.localizationService)]:[3,4]):[3,10];case 3:o=f.sent(),f.label=4;case 4:return(a=h.isDisabled)?[4,h.isDisabled()]:[3,6];case 5:a=f.sent(),f.label=6;case 6:return(u=a)?[3,9]:[4,h.getChildren()];case 7:return l=f.sent(),[4,this.createMenuItemsFromCommands(l,V)];case 8:n=f.sent(),f.label=9;case 9:V.push(h),d=this.createMenuItem(V.length-1,h.title(this.localizationService),u,n,h.glyph,h.selected,h.customIcon,o,h.pbiIcon),m.push(d),2===h.separatorPosition&&(b=this.createItemSeparator(),m.push(b)),f.label=10;case 10:return v++,[3,1];case 11:return[2,m]}})})},s.prototype.createMenuItem=function(p,V,m,v,e,h,n,o,u){return{type:0,key:p,text:V,children:v,icon:e,selected:h,customIcon:n,showIcon:this.showIcons,disabled:m,tooltip:o,pbiIcon:u}},s.prototype.createItemSeparator=function(){return{type:1,checked:!1}},s}()},281469:function(ze,K,r){r.d(K,{$j:function(){return C},BB:function(){return e},Co:function(){return P},D5:function(){return m},Dw:function(){return h},K5:function(){return a},LQ:function(){return n},U2:function(){return b},VA:function(){return M},W1:function(){return V},X5:function(){return d},Y9:function(){return u},Yb:function(){return l},aW:function(){return R},hu:function(){return v},jk:function(){return D},kV:function(){return T},qD:function(){return y},xk:function(){return o}});var V=9,m=20,v=10,e=20,h=30,n=300,o=300,u=150,a=150,l=500,d=15,b={x:1,y:1},y=8,C=50,D=558,P=324,M=18,T=180,R=3600},718025:function(ze,K,r){r.d(K,{H$:function(){return d},MY:function(){return e},Vk:function(){return o},Yk:function(){return p},aV:function(){return l},gI:function(){return h},hH:function(){return v},m$:function(){return m},oD:function(){return a},oS:function(){return n},uH:function(){return u}});var t=r(90117),c=r(273139),i=r(883863),s=r(787941);function p(b,f){var g=(0,t.yG)(f),S=(0,t.yG)(b);s.fF.assert(function(){return g.length===S.length},"permanent section count is out of sync");for(var y=g.length-1;y>=0;y--){var C=g[y],E=S[y];C.id=E.id,C.objectId=E.objectId,V(C.visualContainerGroups,E.visualContainerGroups)}}function V(b,f){for(var g=function(C){var E=b[C],D=f[C];E.id=D.id,s.fF.assert(function(){return(0,c.q4)(E)===(0,c.q4)(D)},"visualContainerGroups items must be in sync"),(0,c.q4)(E)&&(0,c.q4)(D)&&V(E.children,D.children)},S=b.length-1;S>=0;S--)g(S)}function m(b,f){if(b&&b.sections){var S=_.findIndex(b.sections,function(y){return y.name===f});if(-1!==S)return S}}function v(b,f){var g;return f&&(g=m(b,f)),null==g&&_.isNumber(b.activeSectionIndex)&&(g=b.activeSectionIndex),(null==g||!_.inRange(g,0,b.sections.length))&&(g=0),g}function e(b,f){return b&&b.sections?_.findIndex(b.sections,function(y){return y===f}):-1}function h(b,f){return b&&b.sections?(0,i.Jq)(b.sections,f):null}function n(b,f){return b&&b.sections?_.findIndex(b.sections,function(y){return y.id===f}):-1}function o(b,f){for(var g=1,S=f.format("Explore_Section_Page",[g.toFixed()]);_.findLastIndex(b,function(y){return y.displayName===S})>=0;)S=f.format("Explore_Section_Page",[(++g).toFixed()]);return S}function u(b,f){for(var S=0,y=b.sections;S<y.length;S++){var C=y[S];C.displayName||(C.displayName=o(b.sections,f))}}function a(b){return _.filter(b,function(f){return!l(f)})}function l(b){return!!(1&b.visibility)}function d(b){return!!(1&b.type)}},867030:function(ze,K,r){r.d(K,{$o:function(){return i},Y6:function(){return p},u3:function(){return s}});var t=r(322487),c=r(107585);function i(o,u,a){o.addEventListener("drop",function(l){var d=p(l);d&&u(l,d,V(o,l))}),o.addEventListener("dragover",function(l){(function(o){return!function(o){return o.dataTransfer.types.includes("buildfieldwell")}(o)})(l)&&(a&&function(o,u){switch(u){case 0:v(o.previousElementSibling,c.Hq.class),v(o,c.Hq.class),v(o.nextElementSibling,c.Hq.class);break;case 2:v(o.previousElementSibling,c.at.class),v(o,c._r.class),v(o.nextElementSibling,c.Hq.class);break;case 3:v(o.previousElementSibling,c.Hq.class),v(o,c.at.class),v(o.nextElementSibling,c._r.class);break;case 1:v(o.previousElementSibling,c.Hq.class),v(o,c.BN.class),v(o.nextElementSibling,c.Hq.class);break;default:e(o)}}(o,a(V(o,l))),l.preventDefault())}),a&&(o.addEventListener("dragleave",function(){return e(o)}),o.addEventListener("dragexit",function(){return e(o)}),o.addEventListener("dragend",function(){return e(o)}))}function s(o){o.removeAllListeners("drop"),o.removeAllListeners("dragover"),o.removeAllListeners("dragleave"),o.removeAllListeners("dragexit"),o.removeAllListeners("dragend")}function p(o,u){void 0===u&&(u=!0),u&&(o.stopPropagation(),o.preventDefault());var a=o.dataTransfer.getData("pbi-tree-node");if(a){var l=JSON.parse(a).fieldExpr;if(l)return t.ib.deserializeExpr(l)}}function V(o,u){var a=o.getBoundingClientRect(),l=0;return(l|=a.top+a.height/2>u.pageY?1:4)|(a.left+a.width/2>u.pageX?8:2)}function v(o,u){!o||o.classList.contains(u)||(o.classList.remove(c.at.class),o.classList.remove(c.Hq.class),o.classList.remove(c._r.class),o.classList.remove(c.BN.class),o.classList.add(u))}function e(o){v(o.previousElementSibling,c.Hq.class),v(o,c.Hq.class),v(o.nextElementSibling,c.Hq.class)}},625971:function(ze,K,r){r.d(K,{K:function(){return c}});var t=r(226514);function c(i,s){var p=function(v){for(var e=[],h=1;h<arguments.length;h++)e[h-1]=arguments[h];return s.run(v,i,e)},V={getLocalizedString:function(v){for(var e=[],h=1;h<arguments.length;h++)e[h-1]=arguments[h];return i.getLocalizedString.apply(i,(0,t.__spreadArray)([v],e||[],!1))},tooltips:function(){return i.tooltips()},getSectionsMetadata$:function(){return i.getSectionsMetadata$()},getBookmarksMetadata$:function(){return i.getBookmarksMetadata$()},getSubSelectionService:function(){return i.getSubSelectionService()},alertScreenReader:function(v){return p(i.alertScreenReader,v)},alertWithDebounce:function(v,e){return p(i.alertWithDebounce,v,e)},requestFocus:function(v){return p(i.requestFocus,v)},onDragStart:function(v){return p(i.onDragStart,v)},getVisualLinkProperties:function(){return p(i.getVisualLinkProperties)},canSelect:function(v){return p(i.canSelect,v)},onSelecting:function(v){return p(i.onSelecting,v)},onSelect:function(v){return p(i.onSelect,v)},onSwitchFocusModeState:function(v){return p(i.onSwitchFocusModeState,v)},canExpandCollapse:function(v){return p(i.canExpandCollapse,v)},setNodeExpansionState:function(v){return p(i.setNodeExpansionState,v)},setLevelExpansionState:function(v){return p(i.setLevelExpansionState,v)},onContextMenu:function(v){return p(i.onContextMenu,v)},loadMoreData:function(){return p(i.loadMoreData)},loadWindow:function(v){return p(i.loadWindow,v)},setShouldDeferData:function(v){return p(i.setShouldDeferData,v)},persistProperties:function(v,e){return p(i.persistProperties,v,e)},onCustomSort:function(v){return p(i.onCustomSort,v)},getViewMode:function(){return p(i.getViewMode)},getEditMode:function(){return p(i.getEditMode)},setWarnings:function(v){return p(i.setWarnings,v)},getWarnings$:function(){return p(i.getWarnings$)},setToolbar:function(v,e){return p(i.setToolbar,v,e)},shouldRetainSelection:function(){return p(i.shouldRetainSelection)},geocoder:function(){return p(i.geocoder)},geolocation:function(){return p(i.geolocation)},locale:function(){return p(i.locale)},promiseFactory:function(){return p(i.promiseFactory)},ignoreDefaultFilter:function(){return p(i.ignoreDefaultFilter)},getIdentityDisplayNames:function(v){return p(i.getIdentityDisplayNames,v)},setIdentityDisplayNames:function(v){return p(i.setIdentityDisplayNames,v)},dropdown:function(){return p(i.dropdown)},telemetry:function(){return p(i.telemetry)},authenticationService:function(){return p(i.authenticationService)},localStorageService:function(){return p(i.localStorageService)},eventService:function(){return p(i.eventService)},licenseManagerService:function(){return p(i.licenseManagerService)},loader:function(){return p(i.loader)},getUIComponentFactory:function(){return p(i.getUIComponentFactory)},applyJsonFilter:function(v,e,h,n){return p(i.applyJsonFilter,v,e,h,n)},applyIdentityFilter:function(v,e,h,n){return p(i.applyIdentityFilter,v,e,h,n)},launchUrl:function(v){return p(i.launchUrl,v)},instanceId:i.instanceId,refreshHostData:function(){return p(i.refreshHostData)},decompositionService:function(){return p(i.decompositionService)},getJSONFilter:function(v,e){return p(i.getJSONFilter,v,e)},visualCapabilitiesChanged:function(){return p(i.visualCapabilitiesChanged)},onHyperlinkClick:function(v,e){return p(i.onHyperlinkClick,v,e)},visualTimeSynchronization:function(){return p(i.visualTimeSynchronization)},setFilterExpressionMetadata:function(v){return p(i.setFilterExpressionMetadata,v)},getFilterExpressionMetadata:function(){return p(i.getFilterExpressionMetadata)},isVisualEnabled:function(){return p(i.isVisualEnabled)},dataMultiSelectMode:function(){return p(i.dataMultiSelectMode)},networkAvailability:function(){return p(i.networkAvailability)},downloadService:function(){return p(i.downloadService)},setAriaMetadata:function(v){return p(i.setAriaMetadata,v)},artifactService:function(){return p(i.artifactService)},onNotifyLicense:function(v){return p(i.onNotifyLicense,v)},onClearLicenseNotification:function(){return p(i.onClearLicenseNotification)},onNotifyFeatureBlocked:function(v){return p(i.onNotifyFeatureBlocked,v)},webAccessService:function(){return p(i.webAccessService)},drill:function(v){return p(i.drill,v)},getAzureMapToken:function(){return p(i.getAzureMapToken)},acquireAADTokenService:function(){return i.acquireAADTokenService()},localStorageV2Service:function(){return i.localStorageV2Service()},aiNarrativesService:function(){return p(i.aiNarrativesService)},azureMapsEndpoint:function(){return i.azureMapsEndpoint()},geocoderIndexedDB:function(){return i.geocoderIndexedDB()},triggerUpdate:function(){return p(i.triggerUpdate)},isScreenshotWorkload:function(){return i.isScreenshotWorkload()},setCanDrill:function(v){return p(i.setCanDrill,v)},dateTimeFormatService:function(){return i.dateTimeFormatService()},visualExportService:function(){return p(i.visualExportService)},visualHostSubSelectionService:function(){return i.visualHostSubSelectionService()}};return i.isSelected&&i.isSelected$&&(V.isSelected=function(){return i.isSelected()},V.isSelected$=function(){return i.isSelected$()}),V}},982414:function(ze,K,r){r.d(K,{v:function(){return V}});var t=r(226514),c=r(156319),i=r(787941),s=r(448711),V=function(m){function v(e,h,n){var o=m.call(this)||this;return o.schema=e,o.displayName=h,o.metadata=n,o.dataPoints=[],o.isExclude=!1,o}return(0,t.__extends)(v,m),v.prototype.visitNot=function(e){this.isExclude=!0,e.arg.accept(this)},v.prototype.visitOr=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitIn=function(e){var h,n=this;if(!_.isEmpty(e.values)){for(var o=[],u=e.args,a=_.map(u,function(S){return n.displayName.getDisplayName(S,n.schema,null,null,null,{includeVariationSource:!0})}),l=function(y){i.fF.assert(function(){return u.length===y.length},"Columns can't be different from values");var C=a,E=_.map(y,function(P){return P.value}),D=c.l.findValuesInFilterCache(u,y,d.metadata);D&&(C=_.map(D.columns,function(P){return n.displayName.getDisplayName(P,n.schema,null,null,null,{includeVariationSource:!0})}),E=D.values),o.push({columns:u,values:y,text:v.getDataPointText(C,E)})},d=this,b=0,f=e.values;b<f.length;b++)l(f[b]);(h=this.dataPoints).push.apply(h,o||[])}},v.getDataPointText=function(e,h){var n="";i.fF.assert(function(){return e.length>0},"getDataPointText columns cant be empty"),i.fF.assert(function(){return e.length===h.length},"getDataPointText columns and values should have the same length");for(var o=0;o<e.length;o++){var a=e[o];n+=(0,s.WU)(h[o])+" ("+a+") + "}return n.slice(0,n.length-3)},v}(r(116170).vq)},801561:function(ze,K,r){r.d(K,{V:function(){return i}});var t=r(226514),c=r(787941),i=function(){function s(p,V,m,v,e,h,n,o){this.defaultTitleKey=p,this.selectors=V,this.glyph=m,this.commandDisplayOption=v,this.selected=e,this.customIcon=h,this.separatorPosition=n,this.pbiIcon=o,c.fF.assert(function(){return _.isEmpty(V)||!_.some(V,function(u){return _.isEmpty(u)})}),this.selectors=_.compact(V)}return s.prototype.title=function(p){return p&&this.defaultTitleKey?p.get(this.defaultTitleKey):this.defaultTitleKey},s.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(p){return[2]})})},s.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(p){return[2,2!==this.commandDisplayOption]})})},s.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(p){return[2,1===this.commandDisplayOption]})})},s.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(p){return[2,null]})})},s.prototype.getTelemetryInfo=function(){return this.defaultTitleKey},s.prototype.announceSelectionState=function(p,V){if(p){var m=p.getLocalizedString(this.getSelectionStateStringKey(V));p.alertScreenReader(m)}},s.prototype.getSelectionStateStringKey=function(p){return p?"FieldListProperty_Selected":"FieldListProperty_Unselected"},s}()},337594:function(ze,K,r){r.d(K,{o:function(){return c}});var t=r(1745);function c(s,p,V,m,v,e,h){return new i(s,p,m,v,e,h)}var i=function(){function s(p,V,m,v,e,h){this.eventBridge=p,this.explorationNavigation=V,this.formFactorProvider=m,this.visibility=v,this.viewModeState=e,this.overlayService=h,this.displayAreaScale=1,this.wallpaperScale=1}return s.prototype.setDisplayAreaScaleFactor=function(p){this.displayAreaScale=p,this.eventBridge.publishToChannel(t.JXP,p)},s.prototype.setWallpaperScaleFactor=function(p){this.wallpaperScale=p},s.prototype.getDisplayAreaScaleFactor=function(){return this.displayAreaScale},s.prototype.getWallpaperScaleFactor=function(){return this.wallpaperScale},s.prototype.getDisplayOption=function(){if(1===this.formFactorProvider.getCurrentLayout()&&1===this.viewModeState.getMode()||null!=this.canvasZoom)return 3;if(this.visibility.get())return 0;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var m=this.explorationNavigation.getCurrentSection();return m?m.size.displayOption:void 0},s.prototype.setDisplayOption=function(p){var V=this.explorationNavigation.getCurrentSection();V&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),V.size.displayOption=p)},s.prototype.setCanvasZoom=function(p){this.overlayService.hideAllDropdowns(),this.canvasZoom=p},s.prototype.getCanvasZoom=function(){return this.canvasZoom},s}()},351942:function(ze,K,r){r.d(K,{V:function(){return u}});var t=r(456535),c=r(1745),i=r(555161),s=r(156319),p=r(285262),V=r(809395),m=r(883863),v=r(787941),e=r(690016),h=r(145315),o=(r(324356),r(718025));function u(){var a=s.l,l=i.UP,b=e.b$,f=function(){function S(y,C,E,D,P){this.sourceSection=y,this.sourceVisualContainer=C,this.targetSection=E,this.targetVisualContainer=D,this.navigationState=P}return S.prototype.toSnapshot=function(y){var C=this;if(y.getCurrentSection()===this.targetSection){var E=y.getCurrentExploration(),D=(0,o.MY)(E,this.sourceSection),P=(0,o.MY)(E,this.targetSection);return{sourceSectionIndex:D,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,function(R){return R===C.sourceVisualContainer}),targetSectionIndex:P,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,function(R){return R===C.targetVisualContainer})}}},S.fromSnapshot=function(y,C){if(y){var E=C.getCurrentExploration(),D=E.sections[y.sourceSectionIndex],P=D.visualContainers[y.sourceVisualIndex],M=E.sections[y.targetSectionIndex],T=M.visualContainers[y.targetVisualIndex];return v.fF.assertValue(D,"sourceSection"),v.fF.assertValue(P,"sourceVisual"),v.fF.assertValue(M,"targetSection"),v.fF.assertValue(T,"targetVisual"),v.fF.assert(function(){return C.getCurrentSection()===M},"expected to be on the drill to details section"),new S(D,P,M,T,0)}},S}(),g=function(){function S(y,C,E,D,P,M,T,R,B,N){var x=this;this.conceptualSchemaProxy=y,this.visualAuthoringOperations=C,this.undoRedo=E,this.selectionService=D,this.explorationNavigationService=P,this.explorationSerializer=M,this.visibility=T,this.eventBridge=R,this.filterGenerator=B,this.visualPluginService=N,this.eventBridge.createChannelSubscriptionManager().subscribe(c.wAN,function(){return x.onSectionChanged()}).subscribe(c.y5h,function(){return x.onPopOutModeChanged()}).subscribe(c.SVs,function(A,I){return x.clearContext()})}return S.prototype.drillToDetails=function(y,C,E){var D=this;if(!_.isEmpty(y)){var P=_.head(y);if(P&&!_.isEmpty(P.metadata)){var M=(0,V.Xf)(C);if(M&&M.defn){if(_.isEmpty(P.dataMap)){if(!M.projections)return;var T=(0,V.d$)(C,this.visualPluginService),R=_(T).filter(function(x){return x.kind!==h.DW.Measure}).map(function(x){return x.name}).value();for(var B in M.projections)if(!_.isEmpty(M.projections[B])&&_.includes(R,B))return}var N=M.defn.select().withName(_.head(P.metadata));!N||!(0,t.iV)(N.expr)||this.conceptualSchemaProxy.get(E).then(function(x){var A=D.visualAuthoringOperations.drillToDetails(b.generateGuid(),x,[N.expr],y,C);A&&(D.addCrossFilters(C,D.explorationNavigationService.getCurrentSection(),A,!1,x),D.drillToDetailsCore(y,C,A))},function(){return _.noop})}}}},S.prototype.generateDetailsTable=function(y,C,E,D){var P=this.mockVisualContainer(y),M=this.visualAuthoringOperations.drillToDetails(b.generateGuid(),C,E,null,P,D);if(M)return M.config.singleVisual},S.prototype.clear=function(){var y=this;if(this.drillToDetailsContext){v.fF.assert(function(){return 0===y.drillToDetailsContext.navigationState},"expected to be in show details mode"),this.drillToDetailsContext.navigationState=1;var C=(0,o.MY)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);v.fF.assert(function(){return C>=0},"source section not found"),this.eventBridge.publishToChannel(c.$4A,{index:C})}},S.prototype.getContext=function(){return this.drillToDetailsContext},S.prototype.setContext=function(y){var C=this;v.fF.assert(function(){return null!=y},"attempting to set a null context for drill to details service"),v.fF.assert(function(){return null==C.drillToDetailsContext},"overriding existing drill to details context"),v.fF.assert(function(){return 0===y.navigationState},"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=y},S.prototype.clearContext=function(){this.drillToDetailsContext=null},S.prototype.hasContext=function(){return!!this.drillToDetailsContext},S.prototype.getDetailsTableTargetMeasures=function(y){var C=this.mockVisualContainer(y),E=(0,V.Xf)(C);if(E&&E.defn){var D=(0,V.d$)(C,this.visualPluginService);if(!_.isEmpty(D)){for(var M=[],T=0,R=_(D).filter(function(O){return(O.kind===h.DW.Measure||O.kind===h.DW.GroupingOrMeasure)&&0!==O.joinPredicate}).map(function(O){return O.name}).value();T<R.length;T++){var N=E.projections[R[T]];if(!_.isEmpty(N))for(var A=0,I=N.all();A<I.length;A++){var w=I[A],F=E.defn.select().withName(w.queryRef);if(F&&(0,t.iV)(F.expr))return[F.expr];F&&(0,t.kb)(F.expr)&&M.push(F.expr)}}return M}}},S.prototype.mockVisualContainer=function(y){var C={name:b.generateGuid(),config:{singleVisual:y},layouts:(0,m.UR)(),filters:[]};return C.layouts.push({id:0,position:{x:0,y:0,width:0,height:0}}),C},S.prototype.onSectionChanged=function(){var y=this;if(this.drillToDetailsContext){var C=this.explorationNavigationService.getCurrentSection();switch(v.fF.assert(function(){return null!=C},"currentSection"),this.drillToDetailsContext.navigationState){case 0:v.fF.assert(function(){return C===y.drillToDetailsContext.targetSection},"expected to navigate to target section"),window.setTimeout(function(){l.selectCanvasItem(y.drillToDetailsContext.targetVisualContainer,y.selectionService),y.visibility.set(y.drillToDetailsContext.targetVisualContainer,1)},0);break;case 1:v.fF.assert(function(){return C===y.drillToDetailsContext.sourceSection},"expected to navigate to source section");var E=this.explorationNavigationService.getCurrentExploration(),D=(0,o.MY)(E,this.drillToDetailsContext.targetSection);v.fF.assert(function(){return D>=0},"target section not found");var P=(0,o.MY)(E,this.drillToDetailsContext.sourceSection),M=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(c.F$x,{targetSectionIndex:D}),window.setTimeout(function(){(0,o.MY)(y.explorationNavigationService.getCurrentExploration(),y.explorationNavigationService.getCurrentSection())===P&&l.selectCanvasItem(M,y.selectionService),y.undoRedo.clear()},0);break;default:v.fF.assertFail("unknown drill to details navigationState")}}},S.prototype.onPopOutModeChanged=function(){var y=this;if(this.drillToDetailsContext){var C=this.explorationNavigationService.getCurrentSection();v.fF.assert(function(){return null!=C},"currentSection"),C!==this.drillToDetailsContext.sourceSection&&(v.fF.assert(function(){return C===y.drillToDetailsContext.targetSection},"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}},S.prototype.drillToDetailsCore=function(y,C,E){var D=this.explorationNavigationService.getCurrentSection();if(D){var P=this.explorationNavigationService.getAllSections(),M=this.explorationSerializer.serializePage(D,1),T=this.explorationSerializer.deserializePage(M),R={name:"Drill to Details",displayName:"Drill to Details",filters:T.filters,size:T.size,visualContainers:[E],visualContainerGroups:[E],transient:!0};(0,p.gs)(R,P),this.drillToDetailsContext=new f(D,C,R,E,0),this.eventBridge.publishToChannel(c.x1m,R)}},S.prototype.addCrossFilters=function(y,C,E,D,P){var M=this.filterGenerator.getVisualContainerCrossFilters(C,y,P);if(M.dataFilters)for(var T=0,R=M.dataFilters;T<R.length;T++)this.addVisualFilters(E,R[T],P,!1);if(D){v.fF.assertValue(M.highlightFilters,"highlight filter");for(var N=0,x=M.highlightFilters;N<x.length;N++)this.addVisualFilters(E,x[N],P,!1)}},S.prototype.addVisualFilters=function(y,C,E,D){if(C&&C.filter){var P=a.convertFilterData(C,y.filters,0);a.add(y,P)}},S}();return{create:function(y,C,E,D,P,M,T,R,B,N){return new g(y,N,D,P,M,C,T,R,B,E)},createContext:function(y,C,E,D,P){return new f(y,C,E,D,P)},snapshotToContext:f.fromSnapshot}}},564467:function(ze,K,r){r.d(K,{Bo:function(){return s},nR:function(){return c},o4:function(){return t},q7:function(){return i}});var t={type:2,name:"visualCustomCommand"},c={type:2,name:"preparePersonalVisuals"},i={type:2,name:"copyVisualAsImage"},s={type:2,name:"VisualContainerAdded"}},990745:function(ze,K,r){function t(i,s){return new c(i,s)}r.d(K,{L:function(){return t}});var c=function(){function i(s,p){var V=!p||p.featureSwitches.contentAuthoringUIEnabled,m=!!s&&!!s.isGuestUser,e=m&&!(p&&p.featureSwitches.elevatedGuestsTenantEnabled),h=!(!s||void 0===s.userLicense)&&"Free"===s.userLicense();this.options={shouldSetFocus:!p||!p.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:e||!V,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:e||!V,disableSharePointEmbed:m,disableSecurePublishToWeb:m||!V,disableQRGeneration:m,disableSaveAs:e||h,disableSwitchMode:e||!V,disableAnalyzeInExcel:m,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!p&&p.featureSwitches.onObject}}return i.prototype.setCapabilities=function(s){_.merge(this.options,s)},i.prototype.getCapabilities=function(){return this.options},i}()},87055:function(ze,K,r){r.d(K,{D:function(){return h}});var t=r(1745),c=r(809395),i=r(955307),s=r(535909),p=r(787941),V=r(718025),m=r(548556),v=r(803847),e={updateUrl:!0,action:t.UBn.Unknown};function h(o,u,a,l,d,b,f,g){return new n(o,u,a,l,d,b,f,g)}var n=function(){function o(u,a,l,d,b,f,g,S){this.contextActivityService=u,this.eventBridge=a,this.selection=l,this.formFactor=d,this.telemetryService=b,this.explorationActivity=f,this.sectionsSubject=g,this.currentSectionSubject=S,p.fF.assertValue(a,"eventBridge"),p.fF.assertValue(l,"selection"),p.fF.assertValue(d,"formFactor"),this.history=[],this.sections$=g.asObservable(),this.currentSection$=S.asObservable(),f.registerExplorationNavigationService(this)}return o.prototype.registerExplorationViewModel=function(u){this.getViewModel=u},o.prototype.updateActiveSection=function(u){var a=this,l=this.getViewModel();p.fF.assertValue(l,"explorationContainer viewModel has not been initialized in explorationNavigationService");var d=l.exploration.contract;if(p.fF.assertValue(d,"exploration"),p.fF.assert(function(){return u.targetSectionIndex>=0&&u.targetSectionIndex<d.sections.length},"targetSectionIndex is out of range."),u.forceUpdate||d.activeSectionIndex!==u.targetSectionIndex){var b=null==u.clearSelection||u.clearSelection,f=u.targetSectionIndex>-1&&u.targetSectionIndex<d.sections.length,g=this.exploration.sections[u.targetSectionIndex],S=g.objectId,y=g.displayName;if(this.contextActivityService.upsertExplorationProperties({reportPageId:S,reportPageName:y}),u.parentContextActivity&&u.parentContextActivity.isRunning()&&(u.parentContextActivity.setProperty("reportPageId",S),u.parentContextActivity.setProperty("reportPageName",y)),this.changeReportPageActivity&&this.changeReportPageActivity.isRunning()&&this.changeReportPageActivity.cancel(),!this.changeReportPageActivity||!this.changeReportPageActivity.isRunning()){var C={name:"Change Report Page"};this.changeReportPageActivity=u.parentContextActivity?(0,i.zK)(u.parentContextActivity)&&u.parentContextActivity.isRunning()?u.parentContextActivity.createChildActivity(C):u.parentContextActivity:this.contextActivityService.createActivity(C)}var E=(0,c.a8)(g),D=Object.keys(E).reduce(function(P,M){return"__hidden"!==M?P+E[M]:P},0);this.changeReportPageActivity.isRunning()&&(this.changeReportPageActivity.setProperty("visualTypesAndCount",JSON.stringify(E)),this.changeReportPageActivity.setProperty("totalVisibleVisualCount",D)),u.parentContextActivity&&u.parentContextActivity.isRunning()&&(u.parentContextActivity.setProperty("visualTypesAndCount",JSON.stringify(E)),u.parentContextActivity.setProperty("totalVisibleVisualCount",D)),this.explorationActivity.changeSection(function(P){var M=a.getCurrentSection();if(u.suppressHistory||M&&!M.transient&&a.history.push({name:M.name}),f){a.selection&&!1!==b&&!_.isEmpty(a.selection.getSelectedElements())&&a.selection.clearSelection();var T=l.exploration.sections;if(!_.isEmpty(T))for(var R=T.length-1;R>=0;--R)T[R].selected=R===u.targetSectionIndex;l.sectionStatus.currentSectionNumber=u.targetSectionIndex;var B=d.sections[u.targetSectionIndex],N=null!=u.canvasLayout?u.canvasLayout:a.formFactor.getCurrentLayout();if(l.exploration.exploreCanvas=(0,v.T8)(d,B,N,u.currentZone),(null==u.clearCrossFilter||u.clearCrossFilter)&&M&&M.crossFilterSource&&(M.crossFilterSource.highlight=void 0),B){var A=P.event.info;A.width=B.size.width,A.height=B.size.height,A.displayOption=B.size.displayOption}a.goto(B,{action:u.navigationAction,newReport:u.newReport,parentActivity:P,parentContextActivity:a.changeReportPageActivity,isInitialUpdateSection:u.isInitialUpdateSection})}},function(){return a.telemetryService.startChildActivity(u.parentActivity&&u.parentActivity.event,m.Hn8,{targetSectionIndex:u.targetSectionIndex,forceUpdate:u.forceUpdate,suppressHistory:u.suppressHistory,canvasLayout:u.canvasLayout,clearSelection:b,isCancelled:!1,sectionGuid:f&&d.sections[u.targetSectionIndex].objectId})},this.changeReportPageActivity)}},o.prototype.updateExplorationActiveSectionIndex=function(u){p.fF.assertValue(u,"args"),p.fF.assertValue(u.exploration,"exploration"),p.fF.assertValue(u.section,"section");var a=u.exploration,l=(0,V.m$)(a,u.section);if(!(null!=l&&a&&a.sections&&a.sections[l].transient||(a.activeSectionIndex=l,u.suppressTelemetry))){var d=a.sections[l];this.telemetryService.logChildEvent(u.parentActivity&&u.parentActivity.event,m.Hvk,{reportId:a.reportId,reportGuid:u.reportGUID,sectionIndex:l,sectionGuid:d?d.objectId:void 0,groupObjectId:u.groupObjectId,isReadonlyGroup:u.isReadonlyGroup,permissions:u.reportPermissions,scrubUserInfo:u.scrubUserInfo,newReport:u.newReport,originalReportGuid:a.report?a.report.originalReportObjectId:void 0,originalGroupObjectId:a.report&&a.report.ownerInfo?a.report.ownerInfo.groupObjectId:void 0})}},o.prototype.goto=function(u,a){var l;p.fF.assertValue(u,"section"),this.updateSectionViewSession(),a&&a.parentContextActivity&&this.telemetryData&&(a.parentContextActivity.setProperty("reportPageViewSessionId",this.telemetryData.exsid),a.parentContextActivity.setProperty("isInitialUpdateSection",!!a.isInitialUpdateSection)),a=a?_.merge({},e,a):e,this.currentSection=u,this.currentSectionSubject.next(u),this.raiseEvent(),a.updateUrl&&this.eventBridge.publishToChannel(t.yVh,{name:u.name,displayName:u.displayName,action:a.action,newReport:a.newReport,parentActivity:a.parentActivity,parentContextActivity:a.parentContextActivity,isInitialUpdateSection:a.isInitialUpdateSection}),null!==(l=this.changeReportPageActivity)&&void 0!==l&&l.isRunning()&&this.changeReportPageActivity.setProperty("pageCreationInfo",this.getPageCreationInfo(u))},o.prototype.back=function(u){if(!_.isEmpty(this.history)){var a=this.history.pop(),l=_.findIndex(this.exploration.sections,function(d){return d.name===a.name});l<0||this.updateActiveSection({targetSectionIndex:l,forceUpdate:!1,suppressHistory:!0,parentActivity:u})}},o.prototype.loadExploration=function(u,a){if(this.telemetryData=void 0,this.exploration=u,this.currentZone=u&&a,u&&u.sections&&u.activeSectionIndex>=0){var l=u.sections[u.activeSectionIndex];this.currentSection=l,this.currentSectionSubject.next(l)}this.emitUpdatedSections(),this.raiseExplorationLoadedEvent(u)},o.prototype.startExplorationSession=function(u){u&&void 0===u.exid&&(u.exid=s.q.generateShortId(5)),this.telemetryData=u},o.prototype.updateExplorationTelemetryData=function(u){this.telemetryData||(this.telemetryData={}),_.assign(this.telemetryData,u)},o.prototype.getExplorationTelemetryData=function(){return this.telemetryData},o.prototype.getCurrentSection=function(){if(this.currentSection)return this.currentSection;var u=this.exploration;return u&&_.inRange(u.activeSectionIndex,0,u.sections.length)?u.sections[u.activeSectionIndex]:void 0},o.prototype.getSectionByName=function(u){return _.find(this.exploration.sections,function(a){return a.name===u})},o.prototype.getAllSections=function(){return this.exploration&&this.exploration.sections},o.prototype.getAllVisualContainers=function(u){return this.exploration&&this.exploration.sections?this.exploration.sections.reduce(u?function(a,l){return a.concat(l.visualContainers.filter(function(d){return d.config.singleVisual.visualType===u}))}:function(a,l){return a.concat(l.visualContainers)},[]):[]},o.prototype.getCurrentExploration=function(){return this.exploration},o.prototype.getCurrentExploreCanvas=function(){return p.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().exploration.exploreCanvas},o.prototype.showExplorationMask=function(){p.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().showMask=!0},o.prototype.hideExplorationMask=function(){p.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().showMask=!1},o.prototype.getCurrentZone=function(){return this.currentZone},o.prototype.emitUpdatedSections=function(){this.sectionsSubject.next(this.getAllSections())},o.prototype.raiseEvent=function(){this.eventBridge.publishToChannel(t.wAN)},o.prototype.raiseExplorationLoadedEvent=function(u){this.eventBridge.publishToChannel(t.LE3,u)},o.prototype.updateSectionViewSession=function(){if(this.telemetryData){var u=s.q.generateShortId(5);this.telemetryData.exsid=u,this.contextActivityService.upsertExplorationProperties({reportPageViewSessionId:u})}},o.prototype.getPageCreationInfo=function(u){for(var a,l=new Set,d=0,b=u.visualContainers;d<b.length;d++){var f=b[d];f.howCreated&&l.add(f.howCreated)}return{sectionCreationType:null!==(a=u.howCreated)&&void 0!==a?a:"Default",visualCreationTypes:l}},o}()},84048:function(ze,K,r){r.d(K,{RH:function(){return N}});var t=r(226514),c=r(26526),i=r(918537),s=function(){function I(){}return I.prototype.bindEvents=function(w,F,O){var L=this,W=w.paths,U=w.formatMode;if(!_.isEmpty(W))for(var j=0,z=W;j<z.length;j++){var G=z[j];G&&G.on("contextmenu",function(){return L.handleContextMenu(F,U)})}},I.prototype.renderSelection=function(w){},I.prototype.handleContextMenu=function(w,F){var O=(0,i.bt)(),L=d3.event;L.preventDefault(),F||(0,c.n)(L),(0,i.kW)(function(W){w.handleContextMenu(W,O)})},I}(),p=r(847444),V=r(691203),m=r(854479),v=r(318220),e=r(787941),h=r(299747),n=r(847069),o=r(731479),u=r(123694),a=r(780760),l=r(926201),d=r(832867),b=r(734287),f=r(341),g=r(266419),P=r(823344),M=r(497593),T=r(145315),R="dataViewer",B=function(){function I(w){this.visualSandbox=w}return I.prototype.reloadAdapter=function(w){var F=this;if(void 0===w&&(w=!1),this.dataViewShowing){if(w)return;this.toggleDataview(!1)}if(!n.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var L=this.buildErrorMessage({message:this.host.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(L),this.setCustomizeQuery(),void this.setCapabilities()}var W=n.DU.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(W+"status").done(function(U){if(U&&(!w||F.lastUpdateStatus!==U)){if(F.lastUpdateStatus=U,"error"===U){var j=F.buildErrorMessage({message:F.host.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:F.host.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:F.host.getLocalizedString("LearnMore"),type:"repair"});return F.container.html(j),F.setCustomizeQuery(),void F.setCapabilities()}$.getJSON(W+"pbiviz.json").done(function(z){if(e.fF.assertValue(z.capabilities,"DebugVisual - pbiviz capabilities missing"),e.fF.assertValue(z.visual&&z.visual.guid,"DebugVisual - pbiviz visual guid missing"),z.capabilities&&z.visual&&z.visual.guid&&F.host){F.visualGuid!==z.visual.guid&&(F.visualGuid=z.visual.guid);var G=F.host.locale();z=G?(0,P.zQ)(z,G):z;var te=(0,g.S)(z,G);(0,M.L)(te),v.L[te.name]=te,F.setCustomizeQuery(te.customizeQuery),F.setCapabilities(te.capabilities),F.loadVisual(te)}})}}).fail(function(){F.toggleAutoReload(!1);var U=F.buildErrorMessage({message:F.host.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:F.host.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:F.host.getLocalizedString("LearnMore"),type:"error"});F.container.html(U),F.setCustomizeQuery(),F.setCapabilities()}).always(function(){F.statusLoading=!1}))},I.prototype.loadVisual=function(w){var F=this,O=w.name!==R;this.promiseFactory=this.host.promiseFactory(),this.visualContainer.attr("class","visual-"+w.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject();var L=this.adapterPromise=(0,f.z)({visualPlugin:w,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:O},visualSandbox:this.visualSandbox,isDebugVisual:!0});this.adapter&&this.adapter.destroy(),L.then(function(W){if(F.adapter=W,F.sandbox=F.adapter.sandbox,W.init&&W.init(F.visualInitOptions),W.update&&F.lastUpdateOptions){var U=F.lastUpdateOptions;U.type=T.EP.All,W.update(U)}})},I.prototype.toggleAutoReload=function(w){var F=this;this.autoReloadInterval&&!0!==w?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==w&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=setInterval(function(){return F.reloadAdapter(!0)},I.autoReloadPollTime))},I.prototype.toggleDataview=function(w){this.dataViewShowing&&!0!==w?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==w&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(v.L[R]))},I.prototype.flatten=function(w){if(w instanceof Array){for(var F=[],O=0,L=w.length;O<L;O++)F[O]=this.flatten(w[O]);return F}if("object"==typeof w){for(O in F={},O=void 0,w)F[O]=this.flatten(w[O]);return F}return w},I.prototype.createAndClickAnchorTagWithJsonData=function(w){var F=document.createElement("a");F.href="data:"+w,F.download="dataViews.json",F.click()},I.prototype.exportDataViews=function(){var w=this.flatten(this.lastUpdateOptions.dataViews),F="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(w));this.createAndClickAnchorTagWithJsonData(F)},I.prototype.createRefreshBtn=function(){var w=this,F=this.host.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),O=this.refreshBtn=$('<i title="'.concat(F,'" class="controlBtn glyphicon pbi-glyph-refresh"></i>'));return O.on("click",function(){return w.reloadAdapter()}),O},I.prototype.createAutoRefreshBtn=function(){var w=this,F=this.host.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),O=this.autoRefreshBtn=$('<i title="'.concat(F,'" class="controlBtn glyphicon pbi-glyph-circle-play"></i>'));return O.on("click",function(){return w.toggleAutoReload()}),O},I.prototype.createDataBtn=function(){var w=this,F=this.host.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),O=this.dataBtn=$('<i title="'.concat(F,'" class="controlBtn glyphicon pbi-glyph-seedata"></i>'));return O.on("click",function(){return w.toggleDataview()}),O},I.prototype.createHelpBtn=function(){var w=this.host.getLocalizedString("DebugVisual_Help_Button_Title");return $('<a href="'.concat("https://go.microsoft.com/fwlink/?linkid=2245690",'" target="_blank"><i title="').concat(w,'" class="controlBtn glyphicon pbi-glyph-question"></i></a>'))},I.prototype.createSmilyBtn=function(){var w=this.host.getLocalizedString("DebugVisual_Feedback_Button_Title");return $('<a href="'.concat("https://go.microsoft.com/fwlink/?linkid=2247381",'" target="_blank"><i title="').concat(w,'" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>'))},I.prototype.createExportDataViewsBtn=function(){var w=this,F=this.host.getLocalizedString("DebugVisual_Export_Data_Button_Title"),O=$('<i title="'.concat(F,'" class="controlBtn glyphicon pbi-glyph-export"></i>'));return O.on("click",function(){return w.exportDataViews()}),O},I.prototype.buildControls=function(){var w=$('<div class="debugVisual-controlsContainer"></div>');return w.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),w},I.prototype.buildErrorMessage=function(w){return _.template(I.errorMessageTemplate)(w)},I.prototype.setCapabilities=function(w){void 0===w&&(w=I.defaultCapabilities),!_.isEqual(w,v.L.debugVisual.capabilities)&&(v.L.debugVisual.capabilities=w,this.host.visualCapabilitiesChanged())},I.prototype.setCustomizeQuery=function(w){void 0===w&&(w=function(O){return null}),v.L.debugVisual.customizeQuery=w},I.prototype.init=function(w){this.host=w.host;var F=this.container=$('<div class="debugVisualContainer"></div>'),O=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,F.append(O),w.element.append(F),(this.visualInitOptions=w).element=O,this.host.setToolbar(this.buildControls()),this.reloadAdapter()},I.prototype.update=function(w){if(this.visualContainer){if(w.viewport){this.visualInitOptions.viewport=w.viewport;var O=w.viewport.width;this.visualContainer.height(w.viewport.height).width(O)}this.lastUpdateOptions=w,this.adapter&&this.adapter.update&&this.adapter.update(w)}},I.prototype.enumerateObjectInstances=function(w){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(w):[]},I.prototype.enumerateObjectInstancesAsync=function(w){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(w):this.promiseFactory.resolve(this.enumerateObjectInstances(w))},I.prototype.enumerateObjectRepetitionAsync=function(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])},I.prototype.getFormattingModel=function(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()},I.prototype.getFormattingModelAsync=function(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},I.prototype.getSubSelectionStyles=function(w){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(w)},I.prototype.getSubSelectionStylesAsync=function(w){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(w):this.promiseFactory.resolve(this.getSubSelectionStyles(w))},I.prototype.getSubSelectionShortcuts=function(w,F){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(w,F)},I.prototype.getSubSelectionShortcutsAsync=function(w,F){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(w,F):this.promiseFactory.resolve(this.getSubSelectionShortcuts(w,F))},I.prototype.getSubSelectables=function(w){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(w)},I.prototype.getSubSelectablesAsync=function(w){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(w):this.promiseFactory.resolve(this.getSubSelectables(w))},I.prototype.onClearSelection=function(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()},I.prototype.onRestoreSelection=function(w){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(w)},I.prototype.destroy=function(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null},I.prototype.visualHasMethod=function(w){var F;return null===(F=this.adapter)||void 0===F?void 0:F.visualHasMethod(w)},I.capabilities=I.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:T.DW.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},I.autoReloadPollTime=300,I.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',I}();function N(I,w,F,O,L){return new x(I,F,w,new A(I,O,L))}(0,d.G)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,b.V)("DebugVisual_ToolTip"),capabilities:B.capabilities,create:function(){return new B},createES6:function(){return Promise.resolve(new B)},customizeQuery:function(w){return null},systemVisual:!0});var x=function(){function I(w,F,O,L){var W=this;this.asyncFeatureSwitchService=w,this.resourceLoader=F,this.promiseFactory=O,e.fF.assertValue(w,"asyncFeatureSwitchService"),e.fF.assertValue(O,"promiseFactory"),this.resourceLoader=F,this.promiseFactory=O,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new u.ZM,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(function(U){return L=L||new A(w),W.getConvertibleCoreVisualTypeNames(U)}).then(function(U){for(var j in W.globalConvertibleVisualTypes=U,v.L)W.storage.loadPlugin(j,L.getPlugin(j))})}return I.prototype.getConvertibleCoreVisualTypeNames=function(w){var F=(0,t.__spreadArray)((0,t.__spreadArray)([v.L.barChart.name,v.L.columnChart.name,v.L.clusteredBarChart.name,v.L.clusteredColumnChart.name,v.L.hundredPercentStackedBarChart.name,v.L.hundredPercentStackedColumnChart.name,v.L.lineChart.name,v.L.areaChart.name,v.L.stackedAreaChart.name],null!=w&&w.lineExtStyles?[v.L.hundredPercentStackedAreaChart.name]:[],!0),[v.L.lineStackedColumnComboChart.name,v.L.lineClusteredColumnComboChart.name,v.L.ribbonChart.name,v.L.waterfallChart.name,v.L.funnel.name,v.L.scatterChart.name,v.L.pieChart.name,v.L.donutChart.name,v.L.treemap.name,v.L.map.name,v.L.filledMap.name],!1);w&&w.shapeMapVisualEnabled&&F.push(v.L.shapeMap.name),(!w||!w.hideAzureMapVisual)&&F.push(v.L.azureMap.name),F.push.apply(F,[v.L.gauge.name,v.L.card.name,v.L.multiRowCard.name,v.L.kpi.name,v.L.slicer.name]),w&&w.pivotTableVisualEnabled?(F.push(v.L.tableEx.name),F.push(v.L.pivotTable.name)):(F.push(v.L.table.name),F.push(v.L.matrix.name)),w&&w.scriptVisualEnabled&&w.scriptVisualAuthoringEnabled&&(F.push(v.L.scriptVisual.name),F.push(v.L.pythonVisual.name)),w&&w.keyDrivers&&F.push(v.L.keyDriversVisual.name),F.push(v.L.decompositionTreeVisual.name),w&&w.qnaVisual&&F.push(v.L.qnaVisual.name),w&&w.daxTransformEnabled&&!(w.aiNarrativesSingleEntryPoint&&w.aiNarrativesVisual)&&F.push(v.L.textbox.name),w&&w.aiNarrativesVisual&&F.push(v.L.aiNarratives.name),w&&w.scorecardVisual&&F.push(v.L.scorecard.name),w&&w.rdlNativeVisual&&F.push(v.L.rdlVisual.name),w&&w.newCard&&F.push(v.L.cardVisual.name),w&&w.buttonSlicer&&w.buttonSlicerAuthoring&&F.push(v.L.advancedSlicerVisual.name),n.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&F.push("debugVisual");var L=this.promiseFactory.defer();return L.resolve(F),L.promise},I.prototype.getNonConvertibleCoreVisualTypeNames=function(){return[v.L.actionButton.name,v.L.bookmarkNavigator.name,v.L.image.name,v.L.textbox.name,v.L.pageNavigator.name,v.L.shape.name]},I.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},I.prototype.getConvertibleVisuals=function(){for(var w=this,F=[],O=0,L=this.globalConvertibleVisualTypes;O<L.length;O++){var W=L[O];this.storage.hasPlugin(W)&&!_.includes(F,W)&&F.push(W)}for(var U=0,j=this.trustedConvertibleVisualTypes;U<j.length;U++){var z=j[U];this.storage.hasPlugin(z)&&!_.includes(F,z)&&F.push(z)}for(var G=0,te=this.customConvertibleVisualTypes;G<te.length;G++){var Q=te[G];this.storage.hasPlugin(Q)&&!_.includes(F,Q)&&F.push(Q)}return F.map(function(H){return w.storage.getLoadedPlugin(H)})},I.prototype.getConvertibleVisualsAsync=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(w){switch(w.label){case 0:return[4,this.ensureBuiltInPlugins()];case 1:return w.sent(),[2,this.getConvertibleVisuals()]}})})},I.prototype.getCoreVisualTypes=function(){var w=(0,t.__spreadArray)((0,t.__spreadArray)([],this.getNonConvertibleCoreVisualTypeNames(),!0),this.globalConvertibleVisualTypes,!0);return _.uniq(w)},I.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},I.prototype.ensureTrustedVisualPlugins=function(w){(0,u.Os)(this.storage,w);for(var F=0,O=w;F<O.length;F++)this.addTrustedConvertibleVisualType(O[F].name)},I.prototype.ensurePlugins=function(w,F){var O=this;e.fF.assertValue(this.promiseFactory,"promiseFactory");var L=[];if(w&&w.length)for(var W=function(Q){if((0,l.JZ)(Q)){var H=U.ensurePlugin(Q,F).then(function(){return O.addCustomConvertibleVisualType(Q.name)});L.push(H)}},U=this,j=0,z=w;j<z.length;j++)W(z[j]);return this.promiseFactory.allSettled(L)},I.prototype.ensurePlugin=function(w,F){return(0,u.wl)(this.storage,this.promiseFactory,this.resourceLoader,w,F)},I.prototype.addTrustedConvertibleVisualType=function(w){this.trustedConvertibleVisualTypes.indexOf(w)<0&&this.trustedConvertibleVisualTypes.push(w)},I.prototype.addCustomConvertibleVisualType=function(w){this.customConvertibleVisualTypes.indexOf(w)<0&&this.customConvertibleVisualTypes.push(w)},I.prototype.capabilities=function(w){var F=this.getPlugin(w);return F?F.capabilities:void 0},I.prototype.removeAllCustomVisuals=function(){for(var w=0,F=this.customConvertibleVisualTypes;w<F.length;w++)this.storage.unloadPlugin(F[w]);this.customConvertibleVisualTypes=[]},I.prototype.removePlugin=function(w){this.getPlugin(w)&&(this.storage.unloadPlugin(w),_.remove(this.customConvertibleVisualTypes,function(O){return O===w}))},I.prototype.getTelemetryHostInformation=function(){return{name:"Exploration"}},I.prototype.isCustomVisual=function(w){return(0,o.vh)(this.getPlugin(w),w)},I.prototype.isScriptVisual=function(w){return(0,o.ww)(this.getPlugin(w))},I.prototype.isScriptVisualQueryable=function(w){return(0,o.Se)(w,this.asyncFeatureSwitchService.featureSwitches)},I.prototype.isLightWeightRenderingVisual=function(w){return(0,o.vt)(this.getPlugin(w))},I.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!0}},I.prototype.getCustomizeConvertTo=function(w,F){var O=this.getPlugin(F);return O.getCustomizeConvertTo?O.getCustomizeConvertTo(w,F,this.asyncFeatureSwitchService.featureSwitches):void 0},I.prototype.loadPluginByNameIfAny=function(w){if(!this.getPlugin(w)){if(this.storage.hasPlugin(w))return void this.storage.loadPlugin(w);v.L[w]&&this.storage.loadPlugin(w,v.L[w])}},I.prototype.getPlugin=function(w){return this.storage.getLoadedPlugin(w)},I.prototype.getStorage=function(){return this.storage},I}(),A=function(){function I(w,F,O){this.featureSwitchService=w,this.mapControlFactory=F,this.visualSandbox=O,e.fF.assertValue(w,"featureSwitchService")}return I.prototype.getPlugin=function(w){var O,F=this,L=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},W=function(){throw new Error("explorationVisualPluginService: 'Create' function is deprecated")};switch(w){case v.L.barChart.name:return(0,a.i8)(v.L.barChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:7,isScrollable:!0,dataPointLassoSelect:!0,animator:new j,tooltipsEnabled:!0,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.card.name:return(0,a.i8)(v.L.card,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("cardModule").then(r.bind(r,870930))];case 1:return[2,(0,j.sent().createCard)({isScrollable:!0,animator:new p.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:L})]}})})});case v.L.cardVisual.name:return(0,a.i8)(v.L.cardVisual,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("cardVisual").then(r.bind(r,97040))];case 1:return[2,new(0,j.sent().CardVisual)({isScrollable:!0,animator:new p.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:L})]}})})});case v.L.clusteredBarChart.name:return(0,a.i8)(v.L.clusteredBarChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:6,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.clusteredColumnChart.name:return(0,a.i8)(v.L.clusteredColumnChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:4,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.columnChart.name:return(0,a.i8)(v.L.columnChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:5,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.donutChart.name:return(0,a.i8)(v.L.donutChart,function(){throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("donutChart").then(r.bind(r,900172))];case 1:return U=G.sent().DonutChart,[4,r.e("donutChartAnimator").then(r.bind(r,730410))];case 2:return j=G.sent().WebDonutChartAnimator,[4,r.e("donutChartBehaviors").then(r.bind(r,683557))];case 3:return z=G.sent().DonutChartWebBehavior,[2,new U({animator:new j,isScrollable:!0,tooltipsEnabled:!0,behavior:new z})]}})})});case v.L.funnel.name:return(0,a.i8)(v.L.funnel,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("funnelChart").then(r.bind(r,819239))];case 1:return U=G.sent().FunnelChart,[4,r.e("funnelChartAnimator").then(r.bind(r,333898))];case 2:return j=G.sent().WebFunnelAnimator,[4,r.e("funnelBehaviors").then(r.bind(r,368871))];case 3:return z=G.sent().FunnelWebBehavior,[2,new U({animator:new j,behavior:new z,tooltipsEnabled:!0})]}})})});case v.L.gauge.name:return(0,a.i8)(v.L.gauge,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("gauge").then(r.bind(r,80168))];case 1:return[2,new(0,j.sent().Gauge)({animator:new p.r5,tooltipsEnabled:!0,behavior:new s},L)]}})})});case v.L.kpi.name:return(0,a.i8)(v.L.kpi,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("kpiStatusWithHistory").then(r.bind(r,966035))];case 1:return[2,new(0,j.sent().KPIStatusWithHistory)({interactivityEnabled:!0,featureSwitches:L})]}})})});case v.L.hundredPercentStackedBarChart.name:return(0,a.i8)(v.L.hundredPercentStackedBarChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:8,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.hundredPercentStackedColumnChart.name:return(0,a.i8)(v.L.hundredPercentStackedColumnChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:9,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.lineChart.name:return(0,a.i8)(v.L.lineChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=G.sent().CartesianChart,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 2:return j=G.sent().CartesianChartBehaviorFactory,[4,r.e("lineChartBehaviors").then(r.bind(r,410059))];case 3:return z=G.sent().LineChartWebBehaviorFactory,[2,new U({chartType:0,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new p.r5,behaviorFactory:new j([new z],L),featureSwitches:L})]}})})});case v.L.areaChart.name:return(0,a.i8)(v.L.areaChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=G.sent().CartesianChart,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 2:return j=G.sent().CartesianChartBehaviorFactory,[4,r.e("lineChartBehaviors").then(r.bind(r,410059))];case 3:return z=G.sent().LineChartWebBehaviorFactory,[2,new U({chartType:1,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new p.r5,behaviorFactory:new j([new z],L),featureSwitches:L})]}})})});case v.L.stackedAreaChart.name:return(0,a.i8)(v.L.stackedAreaChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=G.sent().CartesianChart,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 2:return j=G.sent().CartesianChartBehaviorFactory,[4,r.e("lineChartBehaviors").then(r.bind(r,410059))];case 3:return z=G.sent().LineChartWebBehaviorFactory,[2,new U({chartType:2,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new p.r5,behaviorFactory:new j([new z],L),featureSwitches:L})]}})})});case v.L.hundredPercentStackedAreaChart.name:return(0,a.i8)(v.L.hundredPercentStackedAreaChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=G.sent().CartesianChart,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 2:return j=G.sent().CartesianChartBehaviorFactory,[4,r.e("lineChartBehaviors").then(r.bind(r,410059))];case 3:return z=G.sent().LineChartWebBehaviorFactory,[2,new U({chartType:3,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new p.r5,behaviorFactory:new j([new z],L),featureSwitches:L})]}})})});case v.L.lineClusteredColumnComboChart.name:return(0,a.i8)(v.L.lineClusteredColumnComboChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G,te;return(0,t.__generator)(this,function(Q){switch(Q.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=Q.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=Q.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=Q.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=Q.sent().ColumnChartWebBehaviorFactory,[4,r.e("lineChartBehaviors").then(r.bind(r,410059))];case 5:return te=Q.sent().LineChartWebBehaviorFactory,[2,new U({chartType:13,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G,new te],L),featureSwitches:L})]}})})});case v.L.lineStackedColumnComboChart.name:return(0,a.i8)(v.L.lineStackedColumnComboChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G,te;return(0,t.__generator)(this,function(Q){switch(Q.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=Q.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=Q.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=Q.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=Q.sent().ColumnChartWebBehaviorFactory,[4,r.e("lineChartBehaviors").then(r.bind(r,410059))];case 5:return te=Q.sent().LineChartWebBehaviorFactory,[2,new U({chartType:14,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G,new te],L),featureSwitches:L})]}})})});case v.L.multiRowCard.name:return(0,a.i8)(v.L.multiRowCard,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j;return(0,t.__generator)(this,function(z){switch(z.label){case 0:return[4,r.e("multiRowCard").then(r.bind(r,748511))];case 1:return U=z.sent().MultiRowCard,[4,r.e("multiRowCardBehavior").then(r.bind(r,810328))];case 2:return j=z.sent().MultiRowCardBehavior,[2,new U({interactivityEnabled:!0,behavior:new j})]}})})});case v.L.pieChart.name:return(0,a.i8)(v.L.pieChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("donutChart").then(r.bind(r,900172))];case 1:return U=G.sent().DonutChart,[4,r.e("donutChartAnimator").then(r.bind(r,730410))];case 2:return j=G.sent().WebDonutChartAnimator,[4,r.e("donutChartBehaviors").then(r.bind(r,683557))];case 3:return z=G.sent().DonutChartWebBehavior,[2,new U({sliceWidthRatio:0,animator:new j,isScrollable:!0,tooltipsEnabled:!0,behavior:new z})]}})})});case v.L.ribbonChart.name:return(0,a.i8)(v.L.ribbonChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z,G;return(0,t.__generator)(this,function(te){switch(te.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=te.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return j=te.sent().ColumnChartAnimator,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 3:return z=te.sent().CartesianChartBehaviorFactory,[4,r.e("columnChartBehaviors").then(r.bind(r,456399))];case 4:return G=te.sent().ColumnChartWebBehaviorFactory,[2,new U({chartType:10,isScrollable:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new z([new G],L),featureSwitches:L})]}})})});case v.L.scatterChart.name:return(0,a.i8)(v.L.scatterChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=G.sent().CartesianChart,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 2:return j=G.sent().CartesianChartBehaviorFactory,[4,r.e("scatterChartBehaviors").then(r.bind(r,414431))];case 3:return z=G.sent().ScatterChartWebBehaviorFactory,[2,new U({chartType:11,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new p.r5,behaviorFactory:new j([new z],L),featureSwitches:L})]}})})});case v.L.treemap.name:return(0,a.i8)(v.L.treemap,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("treemap").then(r.bind(r,80062))];case 1:return U=G.sent().Treemap,[4,r.e("treemapAnimator").then(r.bind(r,328630))];case 2:return j=G.sent().WebTreemapAnimator,[4,r.e("treemapBehaviors").then(r.bind(r,754113))];case 3:return z=G.sent().TreemapWebBehavior,[2,new U({animator:new j,isScrollable:!0,behavior:new z,tooltipsEnabled:!0,cartesianConditionalFormatting:L.cartesianConditionalFormatting,dataPointLassoSelect:!0})]}})})});case v.L.filterSlicer.name:return(0,a.i8)(v.L.filterSlicer,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("slicer").then(r.bind(r,817174))];case 1:return[2,new(0,j.sent().Slicer)({lockKeyboardNavigation:!1,featureSwitches:L})]}})})});case v.L.accessibleTable.name:return(0,a.i8)(v.L.accessibleTable,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("accessibleTable").then(r.bind(r,528621))];case 1:return[2,new(0,j.sent().AccessibleTable)]}})})});case v.L.waterfallChart.name:return(0,a.i8)(v.L.waterfallChart,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return U=G.sent().CartesianChart,[4,r.e("cartesianChartBehaviors").then(r.bind(r,997877))];case 2:return j=G.sent().CartesianChartBehaviorFactory,[4,r.e("waterfallChart.behavior").then(r.bind(r,436508))];case 3:return z=G.sent().WaterfallChartWebBehaviorFactory,[2,new U({chartType:12,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new j([new z],L),featureSwitches:L})]}})})});case v.L.map.name:return(0,a.i8)(v.L.map,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j;return(0,t.__generator)(this,function(z){switch(z.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return U=z.sent().Map,[4,r.e("mapBehaviors").then(r.bind(r,394301))];case 2:return j=z.sent().MapBehavior,[2,new U({behavior:new j,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case v.L.filledMap.name:return(0,a.i8)(v.L.filledMap,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j;return(0,t.__generator)(this,function(z){switch(z.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return U=z.sent().Map,[4,r.e("mapBehaviors").then(r.bind(r,394301))];case 2:return j=z.sent().MapBehavior,[2,new U({filledMap:!0,behavior:new j,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:L&&L.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case v.L.azureMap.name:return(0,a.i8)(v.L.azureMap,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j;return(0,t.__generator)(this,function(z){switch(z.label){case 0:return[4,r.e("azureMap").then(r.bind(r,720748))];case 1:return U=z.sent().AzureMap,[4,r.e("azureMapBehaviors").then(r.bind(r,61897))];case 2:return j=z.sent().AzureMapBehavior,[2,new U({behavior:new j,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory,featureSwitches:L})]}})})});case v.L.shape.name:return(0,a.i8)(v.L.shape,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("shape").then(r.bind(r,425658))];case 1:return[2,new(0,j.sent().Shape)]}})})});case v.L.actionButton.name:return(0,a.i8)(v.L.actionButton,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("actionButton").then(r.bind(r,555972))];case 1:return[2,new(0,j.sent().ActionButton)]}})})});case v.L.shapeMap.name:return(0,a.i8)(v.L.shapeMap,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){var U,j;return(0,t.__generator)(this,function(z){switch(z.label){case 0:return[4,r.e("shapeMap").then(r.bind(r,693363))];case 1:return U=z.sent().ShapeMap,[4,r.e("shapeMapBehaviors").then(r.bind(r,926448))];case 2:return j=z.sent().ShapeMapBehavior,[2,new U({behavior:new j,tooltipsEnabled:!0})]}})})});case v.L.slicer.name:return(0,a.i8)(v.L.slicer,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("slicer").then(r.bind(r,817174))];case 1:return[2,new(0,j.sent().Slicer)({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})]}})})});case v.L.advancedSlicerVisual.name:return(0,a.i8)(v.L.advancedSlicerVisual,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("advancedSlicer").then(r.bind(r,361157))];case 1:return[2,(0,j.sent().createAdvancedSlicer)({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})]}})})});case v.L.matrix.name:return(0,a.i8)(v.L.matrix,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("matrix").then(r.bind(r,50039))];case 1:return[2,new(0,j.sent().Matrix)]}})})});case v.L.table.name:return(0,a.i8)(v.L.table,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("table").then(r.bind(r,180939))];case 1:return[2,new(0,j.sent().Table)]}})})});case v.L.pivotTable.name:return(0,a.i8)(v.L.pivotTable,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("pivotTable").then(r.bind(r,911025))];case 1:return[2,new(0,j.sent().PivotTable)((0,V.DH)(),L)]}})})});case v.L.tableEx.name:return(0,a.i8)(v.L.tableEx,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("tableEx").then(r.bind(r,453890))];case 1:return[2,new(0,j.sent().TableEx)((0,m.DH)(),L)]}})})});case v.L.scriptVisual.name:return(0,a.i8)(v.L.scriptVisual,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("scriptVisual").then(r.bind(r,378791))];case 1:return[2,new(0,j.sent().ScriptVisual)]}})})});case v.L.pythonVisual.name:return(0,a.i8)(v.L.pythonVisual,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("scriptVisual").then(r.bind(r,378791))];case 1:return[2,new(0,j.sent().ScriptVisual)]}})})});case null===(O=v.L.debugVisual)||void 0===O?void 0:O.name:return(0,a.i8)(v.L.debugVisual,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(U){return[2,new B(this.visualSandbox)]})})});case v.L.textbox.name:return(0,a.i8)(v.L.textbox,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("textbox").then(r.bind(r,772849))];case 1:return[2,new(0,j.sent().Textbox)({supportsNarrativeExpressions:L.daxTransformEnabled,supportsFormattingChangeIndication:!0})]}})})});case v.L.keyDriversVisual.name:return(0,a.i8)(v.L.keyDriversVisual,function(U){return U.module.createAnalysisVisual()},L,void 0);case v.L.decompositionTreeVisual.name:return(0,a.i8)(v.L.decompositionTreeVisual,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("decompositionTree").then(r.bind(r,231966))];case 1:return[2,new(0,j.sent().DecompositionTree)]}})})});case v.L.qnaVisual.name:return(0,a.i8)(v.L.qnaVisual,function(U){return U.module.createQnaVisual()},L,void 0);case v.L.aiNarratives.name:return(0,a.i8)(v.L.aiNarratives,W,L,function(){return(0,t.__awaiter)(F,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,r.e("aiNarratives").then(r.bind(r,722734))];case 1:return[2,new(0,j.sent().AINarratives)]}})})});default:return(0,h.ED)(v.L[w])}},I}()},754504:function(ze,K,r){function t(){return new c(150,150)}r.d(K,{Z:function(){return t}});var c=function(){function i(s,p){this.emptySpaceMinWidth=s,this.emptySpaceMinHeight=p}return i.prototype.getEmptySpaces=function(s,p){for(var V=this.getNonOverlapingRects(s,p),v=[],e=0,h=this.filterWithMinimumWidth(V);e<h.length;e++){var o=this.extendRect(h[e],V);o.height>=this.emptySpaceMinHeight&&v.push(o)}return v},i.prototype.getNonOverlapingRects=function(s,p){if(!p.length)return[];for(var V=[s],m=0,v=p;m<v.length;m++){for(var e=v[m],h=[],n=0,o=V;n<o.length;n++)h=h.concat(this.splitRectangleOnIntersection(o[n],e));V=h}return V},i.prototype.getIntersectingRectangle=function(s,p){var V=Math.max(s.x,p.x),m=Math.min(s.x+s.width,p.x+p.width),v=Math.max(s.y,p.y),e=Math.min(s.y+s.height,p.y+p.height);return V<=m&&v<=e?{x:V,y:v,width:m-V,height:e-v}:null},i.prototype.extendRect=function(s,p){for(var m,V=!1,v=0,e=p;v<e.length;v++){var h=e[v];if(h!==s){var n=!1,o=!1;if(this.doIntersect(h,s)&&(n=h.y+h.height===s.y,o=h.y===s.y+s.height),!(h.width<s.width))if(o)(a=this.getIntersectingRectangle(u={x:s.x,y:s.y,width:s.width,height:s.height+h.height},h))&&a.width===u.width&&(V=!0,m=u);else if(n){var u,a;(a=this.getIntersectingRectangle(u={x:s.x,y:h.y,width:s.width,height:s.height+h.height},h))&&a.width===u.width&&(V=!0,m=u)}}}return V?this.extendRect(m,p):s},i.prototype.doIntersect=function(s,p){return!(p.x>s.x+s.width||p.x+p.width<s.x||p.y>s.y+s.height||p.y+p.height<s.y)},i.prototype.filterWithArea=function(s){for(var p=[],V=0,m=s;V<m.length;V++){var v=m[V];v.width>0&&v.height>0&&p.push(v)}return p},i.prototype.filterWithMinimumWidth=function(s){for(var p=[],V=0,m=s;V<m.length;V++){var v=m[V];v.width>=this.emptySpaceMinWidth&&p.push(v)}return p},i.prototype.splitRectangleOnIntersection=function(s,p){var V=this.getIntersectingRectangle(s,p);return V?this.filterWithArea([{x:s.x,y:s.y,width:s.width,height:V.y-s.y},{x:s.x,y:V.y+V.height,width:s.width,height:s.y+s.height-(V.y+V.height)},{x:s.x,y:V.y,width:V.x-s.x,height:V.height},{x:V.x+V.width,y:V.y,width:s.x+s.width-(V.x+V.width),height:V.height}]):[s]},i}()},987260:function(ze,K,r){r.d(K,{d:function(){return o}});var t=r(226514),c=r(787941),i=r(734287),s=r(44615),p=r(597098),V=r(374952),m=r(548556),v=function(){return function(l,d,b){for(var f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];c.fF.assertValue(d,"nameResourceKey"),c.fF.assertValue(b,"locService"),this.kind=l,this.name=b.format(d,f)}}(),e=function(a){function l(d){return a.call(this,void 0,"ShowValueAs_Calculation_None",d)||this}return(0,t.__extends)(l,a),l}(v),h=function(a){function l(d){return a.call(this,0,"ShowValueAs_Calculation_PercentOfGrandTotal",d)||this}return(0,t.__extends)(l,a),l}(v),n=function(a){function l(d,b,f){var g=a.call(this,1,"ShowValueAs_Calculation_PercentOfRoleTotal",d,f)||this;return g.roles=b,g}return(0,t.__extends)(l,a),l}(v);function o(a,l,d,b,f){return new u(a,d,b,f)}var u=function(){function a(l,d,b,f){this.localizationService=l,this.telemetryService=d,this.visualAuthoring=b,this.visualPlugin=f}return a.prototype.createShowValueAsMenuItems=function(l,d,b){c.fF.assertValue(l,"expr"),c.fF.assertValue(d,"schema"),c.fF.assertValue(b,"visualType");var f=(0,s.J1)((0,p.Q)(l));if(!d.schema(f).capabilities.supportsScopedEval)return[];var g=[];if(this.aggregateSupportsShowValueAs(l,d)){var S=new e(this.localizationService);g.push(this.showValueAsMenuItemBuilder(S));var y=new h(this.localizationService);g.push(this.showValueAsMenuItemBuilder(y));var C=this.visualPlugin.capabilities(b),E=C&&C.dataRoleTotals;if(!_.isEmpty(E))for(var D=0,P=E;D<P.length;D++){var M=P[D],T=new n(this.localizationService,M.roles,(0,i.G)(M.displayName,this.localizationService));g.push(this.showValueAsMenuItemBuilder(T))}}return g},a.prototype.applyShowValueAs=function(l,d,b){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(g){switch(g.label){case 0:return c.fF.assertValue(l,"context"),c.fF.assertValue(d,"original"),c.fF.assertValue(b,"target"),[4,this.visualAuthoring.applyShowValueAs(l,d,b)];case 1:return g.sent()&&this.telemetryService.logEvent(m.iZX,{original:this.showValueAsKindToTelemetryId(d.kind),target:this.showValueAsKindToTelemetryId(b.kind)}),[2]}})})},a.prototype.showValueAsMenuItemBuilder=function(l){var d={type:0};return d.key={action:32,showValueAs:l},d.text=l.name,d},a.prototype.aggregateSupportsShowValueAs=function(l,d){var b=l.getMetadata(d);return b&&b.type&&b.type.numeric&&(0,V.k)(l)},a.prototype.showValueAsKindToTelemetryId=function(l){switch(l){case void 0:return"None";case 0:return"PercentOfGrandTotal";case 1:return"PercentOfRoleTotal"}c.fF.assertFail("Could not convert showValueAsKind "+l+" to a telemetry ID")},a}()},134990:function(ze,K,r){r.d(K,{$G:function(){return U},HK:function(){return H},IX:function(){return W},J_:function(){return We},TM:function(){return G},Ue:function(){return D},XU:function(){return I},Yd:function(){return B},Ys:function(){return ce},ab:function(){return E},dl:function(){return ve},eA:function(){return C},ft:function(){return je},gI:function(){return _e},gM:function(){return te},il:function(){return Ae},oT:function(){return M},of:function(){return R},ok:function(){return T},tZ:function(){return me},uF:function(){return L},x0:function(){return z}});var t=r(226514),c=r(456535),i=r(273139),s=r(1745),p=r(555161),V=r(809395),m=r(35801),v=r(735006),e=r(787941),h=r(725182),n=r(989516),o=r(281469),u=r(548556),a=r(226278),l=r(483981),d=r(564467),b=r(801561),f=r(665147),g=r(55152),S=r(318220),y=window,C=function(ye){function oe(X){var ue=ye.call(this,X.titleKey)||this;return ue.visualCommandConfig=X,ue}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.visualCommandConfig.executeFn()]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.visualCommandConfig.isVisibleFn()]})})},oe}(b.V),E=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee){var k=ye.call(this,Fe||"DrillDown",ue,"pbi-glyph-drilldowndisabled",ee&&ee.drill)||this;return k.visualContainer=X,k.roles=Se,k.dataSources=Be,k.drill=Ke,k.visualAuthoring=Ze,k.runningVisual=qe,k.contextActivityService=it,k.source=be,k}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return X=le(this.visualContainer.name,this.contextActivityService,"DrillDown",this.source),_.isEmpty(this.selectors)?(e.fF.assertFail("No selectors are available for drilling."),X.reject(),[2]):(e.fF.assertValue(this.dataSources,"dataSources service is not provided."),e.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),[4,this.visualAuthoring.drillDown(this.selectors,this.visualContainer,this.dataSources.get(),_.head(this.roles))]);case 1:return Se.sent()?X.resolve():X.reject(),[2]}})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se,Be;return(0,t.__generator)(this,function(Ke){switch(Ke.label){case 0:return(X=_.isEmpty(this.selectors))?[3,2]:[4,ye.prototype.isVisible.call(this)];case 1:X=!Ke.sent(),Ke.label=2;case 2:return X?[2,!1]:(ue=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),Se=(0,h.yE)(ue,4),Be=(0,h.yE)(ue,2),[2,Se||Be])}})})},oe.prototype.isDisabled=function(){var X;return(0,t.__awaiter)(this,void 0,void 0,function(){var ue,Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return ue=!(null===(X=this.runningVisual)||void 0===X||!X.getErrorInfo()),(Se=ue)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:Se=Be.sent(),Be.label=2;case 2:return[2,Se]}})})},oe}(b.V),D=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,be||"DrillUp",void 0,"pbi-glyph-drillup",Fe&&Fe.drill)||this;return ee.visualContainer=X,ee.roles=Se,ee.drill=Be,ee.visualAuthoring=Ke,ee.runningVisual=Ze,ee.contextActivityService=qe,ee.source=it,ee}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return e.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"DrillUp",this.source),this.visualAuthoring.drillUp(_.head(this.roles),this.visualContainer),X.resolve(),[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return Se.sent()?(X=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,h.yE)(X,1)]):[2,!1]}})})},oe.prototype.isDisabled=function(){var X;return(0,t.__awaiter)(this,void 0,void 0,function(){var ue,Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return ue=!(null===(X=this.runningVisual)||void 0===X||!X.getErrorInfo()),(Se=ue)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:Se=Be.sent(),Be.label=2;case 2:return[2,Se]}})})},oe}(b.V),P=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be){var Fe=ye.call(this,X,void 0,void 0,be&&be.drill)||this;return Fe.visualContainer=ue,Fe.roles=Se,Fe.drillDirection=Be,Fe.visualAuthoring=Ke,Fe.runningVisual=Ze,Fe.contextActivityService=qe,Fe.source=it,Fe}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return e.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"DrillDownLevel"===this.defaultTitleKey?"DrillDownLevelUngrouped":"DrillDownLevelGrouped",this.source),this.visualAuthoring.drillDownLevel(_.head(this.roles),this.visualContainer,this.drillDirection),X.resolve(),[2]})})},oe.prototype.isDisabled=function(){var X;return(0,t.__awaiter)(this,void 0,void 0,function(){var ue,Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return ue=!(null===(X=this.runningVisual)||void 0===X||!X.getErrorInfo()),(Se=ue)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:Se=Be.sent(),Be.label=2;case 2:return[2,Se]}})})},oe}(b.V),M=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,"DrillDownLevel",X,ue,3,Se,Ke,Ze,qe,it)||this;return be.drill=Be,be.runningVisual=Ke,be}return(0,t.__extends)(oe,ye),oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return Se.sent()?(X=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,h.yE)(X,4)]):[2,!1]}})})},oe.prototype.isDisabled=function(){var X;return(0,t.__awaiter)(this,void 0,void 0,function(){var ue,Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return ue=!(null===(X=this.runningVisual)||void 0===X||!X.getErrorInfo()),(Se=ue)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:Se=Be.sent(),Be.label=2;case 2:return[2,Se]}})})},oe}(P),T=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,"DrillDownLevelGrouped",X,ue,2,Se,Ke,Ze,qe,it)||this;return be.drill=Be,be.runningVisual=Ke,be}return(0,t.__extends)(oe,ye),oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return Se.sent()?(X=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,h.yE)(X,2)]):[2,!1]}})})},oe.prototype.isDisabled=function(){var X;return(0,t.__awaiter)(this,void 0,void 0,function(){var ue,Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return ue=!(null===(X=this.runningVisual)||void 0===X||!X.getErrorInfo()),(Se=ue)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:Se=Be.sent(),Be.label=2;case 2:return[2,Se]}})})},oe}(P),R=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,"DataPointTable_Show",Se,void 0,Fe&&Fe.drill)||this;return ee.visualContainer=X,ee.explorationCapabilities=ue,ee.drill=Be,ee.dataSources=Ke,ee.drillToDetails=Ze,ee.runningVisual=qe,ee.contextActivityService=it,ee.source=be,ee}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){return X=le(this.visualContainer.name,this.contextActivityService,"DrillToDetails",this.source),_.isEmpty(this.selectors)?(e.fF.assertFail("No selectors are available for drilling."),X.reject(),[2]):(e.fF.assertValue(this.dataSources,"dataSources service is not provided."),e.fF.assertValue(this.drillToDetails,"drillToDetails service is not provided."),ue=this.dataSources.get(),this.drillToDetails.drillToDetails(this.selectors,this.visualContainer,ue),X.resolve(),[2])})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return(X=_.isEmpty(this.selectors))?[3,2]:[4,ye.prototype.isVisible.call(this)];case 1:X=!Be.sent(),Be.label=2;case 2:return X||this.explorationCapabilities.getCapabilities().disallowDrillToDetails?[2,!1]:[2,this.drill.canDrillToDetails(this.visualContainer,this.selectors)]}})})},oe.prototype.isDisabled=function(){var X;return(0,t.__awaiter)(this,void 0,void 0,function(){var Se,Be;return(0,t.__generator)(this,function(Ke){switch(Ke.label){case 0:return(0,V.iv)(this.visualContainer)?[2,!0]:(Se=!(null===(X=this.runningVisual)||void 0===X||!X.getErrorInfo()),(Be=Se)?[3,2]:[4,ye.prototype.isDisabled.call(this)]);case 1:Be=Ke.sent(),Ke.label=2;case 2:return[2,Be]}})})},oe}(b.V),B=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,Se?"Collapse":"Expand",Be,void 0,Fe&&Fe.expandCollapse)||this;return ee.allowedActions=ue,ee.isCollapse=Se,ee.roles=Ke,ee.nodeIndex=Ze,ee.childCommands=[new N(X,ee.isCollapse,ee.allowedActions,ee.selectors,ee.roles,ee.nodeIndex,qe,it,be,Fe),new x(X,ee.isCollapse,ee.allowedActions,ee.selectors,ee.roles,ee.nodeIndex,qe,it,be,Fe),new A(X,ee.isCollapse,ee.allowedActions,ee.selectors,ee.roles,ee.nodeIndex,qe,it,be,Fe)],ee}return(0,t.__extends)(oe,ye),oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return this.isCollapse?[4,ye.prototype.isDisabled.call(this)]:[3,2];case 1:return[2,X.sent()||!(this.allowedActions.collapseHierarchy||this.allowedActions.collapseLevel||this.allowedActions.collapseNode)];case 2:return[4,ye.prototype.isDisabled.call(this)];case 3:return[2,X.sent()||!(this.allowedActions.expandHierarchy||this.allowedActions.expandLevel||this.allowedActions.expandNode)]}})})},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.childCommands]})})},oe}(b.V),N=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,"ExpandCollapseNode",Be,void 0,Fe&&Fe.expandCollapse)||this;return ee.visualContainer=X,ee.isCollapse=ue,ee.allowedActions=Se,ee.roles=Ke,ee.nodeIndex=Ze,ee.handlers=qe,ee.contextActivityService=it,ee.source=be,ee}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return e.fF.assertNonEmpty(this.roles,"empty roles"),e.fF.assertNonEmpty(this.selectors,"empty selectors"),e.fF.assertValue(this.handlers&&this.handlers.onSetNodeExpansionState,"handler is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"ExpandCollapseNode",this.source),this.handlers.onSetNodeExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),X.resolve(),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isDisabled.call(this)];case 1:return[2,X.sent()||(this.isCollapse?!this.allowedActions.collapseNode:!this.allowedActions.expandNode)]}})})},oe}(b.V),x=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,"ExpandCollapseLevel",Be,void 0,Fe&&Fe.expandCollapse)||this;return ee.visualContainer=X,ee.isCollapse=ue,ee.allowedActions=Se,ee.roles=Ke,ee.nodeIndex=Ze,ee.handlers=qe,ee.contextActivityService=it,ee.source=be,ee}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return e.fF.assertNonEmpty(this.roles,"empty roles"),e.fF.assertNonEmpty(this.selectors,"empty selectors"),e.fF.assertValue(this.handlers&&this.handlers.onSetLevelExpansionState,"handler is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"ExpandCollapseLevel",this.source),this.handlers.onSetLevelExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),X.resolve(),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isDisabled.call(this)];case 1:return[2,X.sent()||this.isCollapse?!this.allowedActions.collapseLevel:!this.allowedActions.expandLevel]}})})},oe}(b.V),A=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,"All",Be,void 0,Fe&&Fe.expandCollapse)||this;return ee.visualContainer=X,ee.isCollapse=ue,ee.allowedActions=Se,ee.roles=Ke,ee.nodeIndex=Ze,ee.handlers=qe,ee.contextActivityService=it,ee.source=be,ee}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return e.fF.assertNonEmpty(this.roles,"empty roles"),e.fF.assertNonEmpty(this.selectors,"empty selectors"),e.fF.assertValue(this.handlers&&this.handlers.onSetHierarchyExpansionState,"handler is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"ExpandCollapseHierarchy",this.source),this.handlers.onSetHierarchyExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),X.resolve(),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isDisabled.call(this)];case 1:return[2,X.sent()||this.isCollapse?!this.allowedActions.collapseHierarchy:!this.allowedActions.expandHierarchy]}})})},oe}(b.V),I=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe){var it=ye.call(this,"Group_Action",void 0,void 0,qe&&qe.groupVisualContainers)||this;return it.container=X,it.selection=ue,it.viewModeState=Ke,it.explorationSettings=Ze,it.childCommands=[new w(it.selection,Se,Be,qe),new O(it.container,Se,Be,qe),new F(it.selection,Se,Be,qe)],it}return(0,t.__extends)(oe,ye),oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return(X=!(this.explorationSettings&&this.explorationSettings.useStylableVisualContainerHeader))?[3,2]:[4,ye.prototype.isVisible.call(this)];case 1:X=!ue.sent(),ue.label=2;case 2:return X?[2,!1]:[2,1===this.viewModeState.getMode()]}})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return X=(0,i.q4)(this.container)||!!this.container.parentGroup,(ue=!p.UP.hasMultipleVisualContainerSelection(this.selection)&&!X)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:ue=Se.sent(),Se.label=2;case 2:return[2,ue]}})})},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.childCommands]})})},oe}(b.V),w=function(ye){function oe(X,ue,Se,Be){var Ke=ye.call(this,"Group_Action",void 0,void 0,Be&&Be.groupVisualContainers)||this;return Ke.selection=X,Ke.explorationNavigation=ue,Ke.groupAuthoring=Se,Ke}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return X=this.explorationNavigation.getCurrentExploreCanvas(),this.groupAuthoring.groupCanvasItems(X,p.UP.getSelectedCanvasItems(this.selection)),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se,Be,Ke;return(0,t.__generator)(this,function(Ze){switch(Ze.label){case 0:return X=!1,(ue=p.UP.getSelectedCanvasItems(this.selection)).length>1&&(Se=ue[0].parentGroup,X=_.every(ue,function(qe){return qe.parentGroup===Se}),Be=(0,a.N$)(ue),X=X&&Be<o.D5),(Ke=!X)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:Ke=Ze.sent(),Ze.label=2;case 2:return[2,Ke]}})})},oe}(b.V),F=function(ye){function oe(X,ue,Se,Be){var Ke=ye.call(this,"Merge",void 0,void 0,Be&&Be.groupVisualContainers)||this;return Ke.selection=X,Ke.explorationNavigation=ue,Ke.groupAuthoring=Se,Ke}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return X=this.explorationNavigation.getCurrentExploreCanvas(),this.groupAuthoring.mergeCanvasItemContainers(X,p.UP.getSelectedCanvasItems(this.selection)),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return X=this.groupAuthoring.canMergeCanvasItems(),(ue=!X)?[3,2]:[4,ye.prototype.isDisabled.call(this)];case 1:ue=Se.sent(),Se.label=2;case 2:return[2,ue]}})})},oe}(b.V),O=function(ye){function oe(X,ue,Se,Be){var Ke=ye.call(this,"Ungroup",void 0,void 0,Be&&Be.groupVisualContainers)||this;return Ke.container=X,Ke.explorationNavigation=ue,Ke.groupAuthoring=Se,Ke}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){return(X=(0,i.q4)(this.container)?this.container:this.container.parentGroup)&&(ue=this.explorationNavigation.getCurrentExploreCanvas(),this.groupAuthoring.unGroupCanvasItems(ue,X)),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return X=(0,i.q4)(this.container)||!!this.container.parentGroup,[4,ye.prototype.isDisabled.call(this)];case 1:return[2,ue.sent()||!X]}})})},oe}(b.V),L=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee){var k=ye.call(this,"Summarize",void 0,void 0,qe&&qe.summarize)||this;return k.itemContainer=X,k.explorationNavigation=ue,k.pluginOps=Se,k.selection=Be,k.visualAuthoring=Ke,k.viewModeState=Ze,k.runningVisualService=it,k.contextActivityService=be,k.source=Fe,k.featureSwitchService=ee,k}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se,Be;return(0,t.__generator)(this,function(Ke){return(0,i.Vz)(this.itemContainer)&&(X=le(this.itemContainer.name,this.contextActivityService,"SummarizeVisualContainer",this.source)),ue=this.getSelectedSummarizableVisuals(),Se=this.explorationNavigation.getCurrentExploreCanvas(),Be=this.explorationNavigation.getAllSections(),this.featureSwitchService.featureSwitches.aiNarrativesVisual&&this.featureSwitchService.featureSwitches.aiNarrativesSingleEntryPoint?this.visualAuthoring.addEmptyVisualContainer(Be,Se,S.L.aiNarratives.name,void 0,!0,ue):this.visualAuthoring.addVisualContainerTextbox(Be,Se,void 0,!0,ue),null==X||X.resolve(),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,_.isEmpty(this.getSelectedSummarizableVisuals())]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return[2,ue.sent()&&1===this.viewModeState.getMode()]}})})},oe.prototype.getSelectedSummarizableVisuals=function(){var X=this,ue=p.UP.getSelectedVisualContainers(this.selection);return _.filter(ue,function(Se){var Be=X.runningVisualService.getVisual(Se);return!(!_.isEmpty(Be&&Be.getErrorInfo())||(null==Be?void 0:Be.getHasPendingChanges()))&&X.pluginOps.canSummarizeVisual((0,m.s)(Se))&&!(0,V.iv)(Se)&&!(0,V.tL)(Se)&&!(0,V.J6)(Se.config.singleVisual)})},oe.prototype.getToolTip=function(X){return(0,t.__awaiter)(this,void 0,void 0,function(){var Se,Be,Ke;return(0,t.__generator)(this,function(Ze){switch(Ze.label){case 0:return[4,this.isDisabled()];case 1:return Ze.sent()?(Se=p.UP.getSelectedVisualContainers(this.selection),Be=Se.some(function(qe){return(0,V.iv)(qe)}),Ke=Se.some(function(qe){return(0,V.tL)(qe)}),Be?[2,X.get("Summarize_Disabled_For_VC")]:Ke?[2,X.get("Summarize_Disabled_For_Hidden_Projections")]:[2]):[2]}})})},oe}(b.V),W=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){void 0===it&&(it=!1);var ee=ye.call(this,"VisualTable_Show",void 0,it?"itemIcon glyphicon pbi-glyph-seedata glyph-small":void 0,Fe&&Fe.seeData)||this;return ee.visualContainer=X,ee.explorationCapabilities=ue,ee.drill=Se,ee.visibility=Be,ee.pluginOps=Ke,ee.contextActivityService=Ze,ee.source=qe,ee.viewModeState=be,ee}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){return e.fF.assertValue(this.visibility,"visibility service is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"SeeData",this.source),ue=2,this.viewModeState&&this.viewModeState.getConfig().displayOptions.showVisualAccessibleData&&(ue=8),this.visibility.set(this.visualContainer,ue),X.resolve(),[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return Se.sent()?this.explorationCapabilities.getCapabilities().disallowSeeData?[2,!1]:[2,this.visualContainer&&2!==this.visualContainer.visibility&&this.drill.canSeeData(this.visualContainer)&&!this.pluginOps.isAnalysisVisual((0,m.s)(this.visualContainer))]:[2,!1]}})})},oe}(b.V),U=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,"Group_Data_Action",ue,void 0,it&&it.createGroup)||this;return be.visualContainer=X,be.conceptualSchemaProxy=Se,be.dataSources=Be,be.featureSwitchService=Ke,be.groupAuthoring=Ze,be.promiseFactory=qe,be}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:if(this.pendingGroupOperation)return[2];this.pendingGroupOperation=!0,e.fF.assertValue(this.dataSources,"dataSources service is not provided."),e.fF.assertValue(this.conceptualSchemaProxy,"conceptualSchemaProxy service is not provided."),X=this.dataSources.get(),Se.label=1;case 1:return Se.trys.push([1,,4,5]),[4,this.conceptualSchemaProxy.get(X)];case 2:return ue=Se.sent(),e.fF.assertValue(this.groupAuthoring,"groupAuthoring service is not provided."),[4,this.groupAuthoring.visual.group(this.visualContainer,this.selectors,!0,X,ue)];case 3:return Se.sent(),[3,5];case 4:return this.pendingGroupOperation=!1,[7];case 5:return[2]}})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se,Be,Ze;return(0,t.__generator)(this,function(qe){switch(qe.label){case 0:return(X=!this.featureSwitchService.featureSwitches.enableGroupAuthoring)?[3,2]:[4,ye.prototype.isVisible.call(this)];case 1:X=!qe.sent(),qe.label=2;case 2:return X?[2,!1]:(ue=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ue)]:[2,!1];case 3:return Se=qe.sent(),Be=Se.schema(void 0),Ze=!1!==(Be&&Be.capabilities&&Be.capabilities.supportsGrouping)&&this.groupAuthoring.visual.canGroup(this.visualContainer,this.selectors,Se),[2,this.promiseFactory.resolve(Ze)]}})})},oe}(b.V),j=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee,k){var Ce=ye.call(this,X,Se,void 0,k&&k.includeExclude)||this;return Ce.visualContainer=ue,Ce.filterCreationKind=Be,Ce.conceptualSchemaProxy=Ke,Ce.dataSources=Ze,Ce.includeExcludeService=qe,Ce.promiseFactory=it,Ce.dataView=be,Ce.contextActivityService=Fe,Ce.source=ee,Ce}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return e.fF.assertValue(this.includeExcludeService,"includeExclude service is not provided."),X=le(this.visualContainer.name,this.contextActivityService,3===this.filterCreationKind?"Include":"Exclude",this.source),this.includeExcludeService.setFilter(this.filterCreationKind,this.selectors,this.visualContainer,this.dataView),X.resolve(),[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return Be.sent()&&(0,n.Yw)(this.selectors)&&(X=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(X)]:[2,this.promiseFactory.resolve(!1)];case 2:return ue=Be.sent(),null!=this.selectors[0].dataMap?(Se=this.includeExcludeService.isIncludeExcludeSupported(this.visualContainer,ue,this.selectors),[2,this.promiseFactory.resolve(Se)]):[2,this.promiseFactory.resolve(!1)]}})})},oe}(b.V),z=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee){return ye.call(this,"VisualContainer_ContextMenu_Include",X,ue,3,Se,Be,Ze,qe,Fe,it,be,ee)||this}return(0,t.__extends)(oe,ye),oe}(j),G=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee){return ye.call(this,"VisualContainer_ContextMenu_Exclude",X,ue,4,Se,Be,Ze,qe,Fe,it,be,ee)||this}return(0,t.__extends)(oe,ye),oe.prototype.isDisabled=function(){var X,ue,Se;return(0,t.__awaiter)(this,void 0,void 0,function(){var Be,Ke,Ze,qe;return(0,t.__generator)(this,function(it){switch(it.label){case 0:if(Be=null===(ue=null===(X=this.dataView)||void 0===X?void 0:X.metadata)||void 0===ue?void 0:ue.columns)for(Ke=0,Ze=Be;Ke<Ze.length;Ke++)if(1===(null===(Se=null==(qe=Ze[Ke])?void 0:qe.parameter)||void 0===Se?void 0:Se.kind))return[2,this.promiseFactory.resolve(!0)];return[4,ye.prototype.isDisabled.call(this)];case 1:return[2,it.sent()]}})})},oe.prototype.getToolTip=function(X){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return[4,this.isDisabled()];case 1:return Se.sent()?[2,this.promiseFactory.resolve(X.get("DQP_Disabled_Operator"))]:[2,this.promiseFactory.resolve(X.get("VisualContainer_ContextMenu_Exclude"))]}})})},oe}(j),te=function(ye){function oe(X,ue,Se,Be,Ke){var Ze=ye.call(this,"Slicer_Clear",void 0,void 0,Ke&&Ke.clearSelection)||this;return Ze.visualContainer=X,Ze.runningVisual=ue,Ze.contextActivityService=Se,Ze.source=Be,Ze}return(0,t.__extends)(oe,ye),oe.prototype.isVisible=function(){var X,ue;return(0,t.__awaiter)(this,void 0,void 0,function(){var Se;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return Be.sent()&&null!==(X=this.runningVisual)&&void 0!==X&&X.getSelectedDatapoints&&(Se=null===(ue=this.runningVisual)||void 0===ue?void 0:ue.getSelectedDatapoints())?[2,!_.isEmpty(Se)]:[2,!1]}})})},oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return X=le(this.visualContainer.name,this.contextActivityService,"ClearSelection",this.source),this.runningVisual.clearSelectedDatapoints(),X.resolve(),[2]})})},oe}(b.V),Q=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe){var it=ye.call(this,X,void 0,void 0,qe&&qe.copy)||this;return it.viewModel=ue,it.eventBridge=Se,it.hasMetadata=Be,it.useModernClipboard=Ke,it.telemetryService=Ze,it}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return this.telemetryService.logEvent(u.hbA,{visualType:this.viewModel.name,hasMetadata:this.hasMetadata,entryPoint:"ContextMenu"}),this.eventBridge.publishToChannel(d.q7,{visual:this.viewModel,hasMetadata:this.hasMetadata,useModernClipboard:this.useModernClipboard}),[2]})})},oe}(b.V),H=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee,k,Ce,J,re){var Ie=ye.call(this,"Copy",void 0,void 0,re&&re.copy)||this;if(Ie.visualContainer=X,Ie.clipboard=ue,Ie.featureSwitchService=Se,Ie.copyVisualImageService=Be,Ie.telemetryService=Ke,Ie.visualContainerCopyService=Ze,Ie.explorationCapabilities=qe,Ie.explorationNavigation=it,Ie.visibility=be,Ie.viewModeState=Fe,Ie.args=ee,Ie.eventBridge=k,Ie.contextActivityService=Ce,Ie.source=J,Ie.childCommands=[],Ie.copyPasteService=(0,v.Ue)(),ee.copyArgs&&(ee.copyArgs.singleValue||ee.copyArgs.grid)&&(Ie.childCommands.push(new de("Visual_CopyValue",Ie.visualContainer.contract,Ie.copyPasteService,Ie.telemetryService,Ie.args.copyArgs.singleValue,Ie.contextActivityService,Ie.source)),Ie.childCommands.push(new Y("Visual_CopySelection",Ie.visualContainer.contract,Ie.copyPasteService,Ie.telemetryService,Ie.args.copyArgs.grid,Ie.contextActivityService,Ie.source))),Ie.visibility.get()||0!==Ie.viewModeState.getMode()&&Ie.childCommands.push(new se(Ie.visualContainer.contract,"Visual_CopyVisual",Ie.clipboard,Ie.contextActivityService,Ie.source)),(Ie.featureSwitchService.featureSwitches.copyPasteMenuImage||Ie.featureSwitchService.featureSwitches.copyPasteMenuMetadata)&&null!=Ie.explorationNavigation.getCurrentExploration().reportId){var we=(0,m.s)(X.contract);e.fF.assertValue(Be,"copyVisualImage service is not provided."),e.fF.assertValue(Ze,"visualContainerCopy service is not provided."),Ie.copyVisualImageService.canCopy(we)&&Ie.visualContainerCopyService.showCopyVisualImageOption(X,Ie.visualContainerCopyService.getActiveSection(),"ContextMenu")&&(Ie.featureSwitchService.featureSwitches.copyPasteMenuImage&&Ie.childCommands.push(new Q("Image",Ie.visualContainer,Ie.eventBridge,!1,Ie.explorationCapabilities.getCapabilities().useModernClipboard,Ie.telemetryService)),Ie.featureSwitchService.featureSwitches.copyPasteMenuMetadata&&Ie.childCommands.push(new Q("Image_WithCaption",Ie.visualContainer,Ie.eventBridge,!0,Ie.explorationCapabilities.getCapabilities().useModernClipboard,Ie.telemetryService)))}return Ie}return(0,t.__extends)(oe,ye),Object.defineProperty(oe.prototype,"commandsCount",{get:function(){return this.childCommands.length},enumerable:!1,configurable:!0}),oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.childCommands]})})},oe}(b.V),de=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,X,void 0,void 0,it&&it.copy)||this;return be.visualContainer=ue,be.copyPasteService=Se,be.telemetryService=Be,be.valueCallback=Ke,be.contextActivityService=Ze,be.source=qe,be}return(0,t.__extends)(oe,ye),oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isDisabled.call(this)];case 1:return[2,X.sent()||null===this.valueCallback||!("string"==typeof this.valueCallback||"function"==typeof this.valueCallback)]}})})},oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){return X=le(this.visualContainer.name,this.contextActivityService,"CopyValue",this.source),ue=(0,m.s)(this.visualContainer),this.copyPasteService.copyText(this.valueCallback,this.telemetryService,ue),X.resolve(),[2]})})},oe}(b.V),Y=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,X,void 0,void 0,it&&it.copy)||this;return be.visualContainer=ue,be.copyPasteService=Se,be.telemetryService=Be,be.valueCallback=Ke,be.contextActivityService=Ze,be.source=qe,be}return(0,t.__extends)(oe,ye),oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isDisabled.call(this)];case 1:return[2,X.sent()||null===this.valueCallback||"function"!=typeof this.valueCallback]}})})},oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){return X=le(this.visualContainer.name,this.contextActivityService,"CopySelection",this.source),ue=(0,m.s)(this.visualContainer),this.copyPasteService.copyGrid(this.valueCallback,this.telemetryService,ue),X.resolve(),[2]})})},oe}(b.V),se=function(ye){function oe(X,ue,Se,Be,Ke,Ze){var qe=ye.call(this,ue,void 0,void 0,Ze&&Ze.copy)||this;return qe.visualContainer=X,qe.clipboard=Se,qe.contextActivityService=Be,qe.source=Ke,qe}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){return X=le(this.visualContainer.name,this.contextActivityService,"CopyVisual",this.source),this.clipboard.copy(),X.resolve(),[2]})})},oe}(b.V),ce=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee,k,Ce,J,re){var Ie=ye.call(this,"VisualContainer_ContextMenu_Analyze",ue,void 0,null==re?void 0:re.insightsAnalysis)||this;return Ie.visualContainer=X,Ie.position=Se,Ie.conceptualSchemaProxy=Be,Ie.dataSources=Ke,Ie.eventBridge=Ze,Ie.explorationCapabilities=qe,Ie.explorationNavigation=it,Ie.lazyScoped=be,Ie.viewModeState=Fe,Ie.queryHandler=ee,Ie.analysisType=k,Ie.contextActivityService=Ce,Ie.source=J,Ie.displayOverride=re,Ie}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Be,Ke;return(0,t.__generator)(this,function(qe){switch(qe.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return qe.sent()&&(X=this.dataSources.get())&&(ue=this.explorationCapabilities.getCapabilities())&&ue.insights?[4,this.lazyScoped.get(g.jU)]:[2,!1];case 2:return qe.sent().getState()?[2,!1]:[4,this.conceptualSchemaProxy.get(X)];case 3:return Be=qe.sent(),[4,this.getAnalysisOptions(Be)];case 4:return Ke=qe.sent(),[2,!_.isEmpty(Ke)]}})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return(0,V.J6)(this.visualContainer.config.singleVisual)||this.shouldDisableBecauseOfVisualCalc()?[2,!0]:[2,ye.prototype.isDisabled.call(this)]})})},oe.prototype.getToolTip=function(X){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(ue){return this.shouldDisableBecauseOfVisualCalc()?[2,X.get("VisualContainer_ContextMenu_Analyze_Disabled_For_VC")]:[2]})})},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se,Be,Ke,Ze,it;return(0,t.__generator)(this,function(be){switch(be.label){case 0:return(X=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(X)]:[2,void 0];case 1:return ue=be.sent(),[4,this.getAnalysisOptions(ue)];case 2:if(Se=be.sent(),!_.isEmpty(Se)){for(Be=[],Ke=0,Ze=Se;Ke<Ze.length;Ke++)it=new pe(this.selectors,this.visualContainer,this.position,Ze[Ke],this.dataSources,this.eventBridge,this.explorationNavigation,this.viewModeState,this.lazyScoped,this.contextActivityService,this.source,this.displayOverride),Be.push(it);return[2,Be]}return[2,null]}})})},oe.prototype.getAnalysisOptions=function(X){return(0,t.__awaiter)(this,void 0,void 0,function(){var ue,Se;return(0,t.__generator)(this,function(Ke){switch(Ke.label){case 0:return[4,this.lazyScoped.get(g.wn)];case 1:return ue=Ke.sent(),[4,this.queryHandler.getCachedQueryOrGenerate({contract:this.visualContainer})];case 2:return null==(Se=Ke.sent())?[2]:[2,ue.getOptions(this.visualContainer,Se.filterContext,this.selectors,X,this.analysisType)]}})})},oe.prototype.shouldDisableBecauseOfVisualCalc=function(){return this.selectors.some(function(X){var ue;return null===(ue=X.valueDetails)||void 0===ue?void 0:ue.some(function(Se){return(0,c.jX)(Se.expr)})})},oe}(b.V),pe=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee,k){var Ce=ye.call(this,null,X,void 0,k&&k.insightsAnalysis)||this;return Ce.visualContainer=ue,Ce.position=Se,Ce.insightsAnalysisData=Be,Ce.dataSources=Ke,Ce.eventBridge=Ze,Ce.explorationNavigation=qe,Ce.viewModeState=it,Ce.lazyScoped=be,Ce.contextActivityService=Fe,Ce.source=ee,Ce}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return e.fF.assertValue(this.insightsAnalysisData,"expect insightsAnalysisData to be defined."),e.fF.assertValue(this.explorationNavigation,"explorationNavigation service is not provided."),e.fF.assertValue(this.dataSources,"dataSources service is not provided."),e.fF.assertValue(this.viewModeState,"viewModeState service is not provided."),e.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"Analyze",this.source),[4,this.lazyScoped.get(g.aq)];case 1:return ue=Se.sent(),this.insightsAnalysisData.useInsightsPane?[4,ue.showInsightsFor(this.insightsAnalysisData)]:[3,3];case 2:return Se.sent(),[3,5];case 3:return[4,ue.launch(this.insightsAnalysisData,this.position)];case 4:Se.sent(),Se.label=5;case 5:return X.resolve(),[2]}})})},oe.prototype.title=function(X){return X&&this.defaultTitleKey?X.get(this.defaultTitleKey):this.insightsAnalysisData.question},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,null]})})},oe}(b.V),ve=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee,k,Ce){var J=ye.call(this,k||"Drillthrough",ue,"pbi-glyph-drillthrough",Ce&&Ce.drillthrough)||this;return J.visualContainer=X,J.drillthroughEntryPoint=Se,J.drill=Be,J.explorationNavigation=Ke,J.lazyScoped=Ze,J.pluginOps=qe,J.queryHandler=it,J.telemetryService=be,J.contextActivityService=Fe,J.source=ee,J.displayOverride=Ce,J}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se=this;return(0,t.__generator)(this,function(Be){switch(Be.label){case 0:return(X=_.isEmpty(this.selectors))?[3,2]:[4,ye.prototype.isVisible.call(this)];case 1:X=!Be.sent(),Be.label=2;case 2:return X?[2,!1]:this.drill.canDrillthrough(this.visualContainer)?(e.fF.assert(function(){return void 0===Se.children},"children should not be set yet"),ue=this,[4,this.getChildren()]):[3,4];case 3:return ue.children=Be.sent(),[2,!_.isEmpty(this.children)];case 4:return[2,!1]}})})},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue,Se,Be,Ze,it=this;return(0,t.__generator)(this,function(be){switch(be.label){case 0:return void 0!==this.children?[2,this.children]:(X=this.drillthroughEntryPoint,ue=this.explorationNavigation.getCurrentSection(),Se=(0,m.s)(this.visualContainer),_.isEmpty(this.selectors)||_.isEmpty(ue.name)||!this.pluginOps.isQueryVisual(Se)?[2,[]]:[4,this.queryHandler.getCachedQueryOrGenerate({contract:this.visualContainer})]);case 1:return Be=be.sent(),e.fF.assertValue(Be,"query should be defined"),null==Be?[2]:[4,this.lazyScoped.get(g.AB)];case 2:return[4,be.sent().getDrillthroughActions(ue.name,this.visualContainer,this.selectors,Be.filterContext)];case 3:return Ze=be.sent(),[2,_.map(Ze,function(Fe){return new De(it.visualContainer,Fe,X,it.lazyScoped,it.telemetryService,it.contextActivityService,it.source,it.displayOverride)})]}})})},oe}(b.V),De=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,"Drillthrough",void 0,void 0,it&&it.drillthrough)||this;return be.visualContainer=X,be.drillthroughActionData=ue,be.drillthroughEntryPoint=Se,be.lazyScoped=Be,be.telemetryService=Ke,be.contextActivityService=Ze,be.source=qe,be}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(Se){switch(Se.label){case 0:return e.fF.assertValue(this.drillthroughActionData,"expect drillthroughActionData to be defined."),e.fF.assertValue(this.drillthroughEntryPoint,"expect drillthroughEntryPoint to be defined."),e.fF.assertValue(this.lazyScoped,"lazyScoped service is not provided."),e.fF.assertValue(this.telemetryService,"telemetryService service is not provided."),X=le(this.visualContainer.name,this.contextActivityService,"DrillThrough",this.source),[4,this.lazyScoped.get(g.AB)];case 1:return Se.sent().applyDrillthroughState(this.drillthroughActionData,!0),X.resolve(),this.telemetryService.logEvent(u.$xe,{entryPoint:this.drillthroughEntryPoint,toExternalReport:!!this.drillthroughActionData.targetReportGuid}),[2]}})})},oe.prototype.title=function(X){return this.drillthroughActionData.reportDisplayName?this.drillthroughActionData.sectionDisplayName+" ["+this.drillthroughActionData.reportDisplayName+"]":this.drillthroughActionData.sectionDisplayName},oe}(b.V),We=function(ye){function oe(X,ue,Se){var Be=ye.call(this,null,void 0,void 0,ue&&ue.extensions)||this;return Be.groupTitle=X,Be.menuLocation=Se,Be.children=[],Be}return(0,t.__extends)(oe,ye),oe.prototype.title=function(X){return this.groupTitle},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.children]})})},oe.prototype.addChild=function(X){this.children.push(X)},Object.defineProperty(oe.prototype,"isEmpty",{get:function(){return 0===this.children.length},enumerable:!1,configurable:!0}),oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,ye.prototype.isVisible&&!this.isEmpty]})})},oe}(b.V),je=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee){var k=ye.call(this,null,ue,void 0,ee&&ee.extensions,void 0,be)||this;return k.visualContainer=X,k.commandName=Se,k.commandTitle=Be,k.eventBridge=Ke,k.explorationExtensibilityService=Ze,k.contextActivityService=qe,k.source=it,k.visualContainerDataSelectionService=Fe,e.fF.assertValue(Se,"commandName is not provided."),k}return(0,t.__extends)(oe,ye),oe.prototype.title=function(X){return this.commandTitle},oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,ue;return(0,t.__generator)(this,function(Se){return X=le(this.visualContainer.name,this.contextActivityService,"ExtensionCommand",this.source),ue=this.getDataPointsDescriptions(),this.explorationExtensibilityService.executeCustomCommand(this.eventBridge,this.visualContainer,this.commandName,ue),X.resolve(),[2]})})},oe.prototype.getDataPointsDescriptions=function(){var X=[];if(this.visualContainerDataSelectionService&&!_.isEmpty(this.selectors))for(var ue=0,Se=this.selectors;ue<Se.length;ue++){var Be=Se[ue],Ke=this.visualContainerDataSelectionService.getSelectedValues(Be);X.push({selector:Be,values:Ke})}return X},oe}(b.V),Ae=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,"Format",void 0,void 0,it&&it.turnOnFormatMode)||this;return be.featureSwitchService=X,be.panesVisibilityService=ue,be.viewModeState=Se,be.container=Be,be.selectionService=Ke,be.visualPlugin=Ze,be.visualPluginOps=qe,be}return(0,t.__extends)(oe,ye),oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return[2,X.sent()&&this.featureSwitchService.featureSwitches.onObject&&1===this.viewModeState.getMode()]}})})},oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X,Se=this;return(0,t.__generator)(this,function(Be){return X=p.UP.getSelectedVisualContainers(this.selectionService),_.find(X,function(Ke){return Ke.name===Se.container.name})||this.selectionService.selectElement({id:this.container.id,canvasItem:this.container},0),this.viewModeState.setFormatMode(!0,"Context Menu"),this.panesVisibilityService.isPaneVisible("format")||this.panesVisibilityService.togglePaneVisibility("format"),[2]})})},oe.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,(0,l.LR)(this.visualPlugin,this.visualPluginOps,this.container)]})})},oe}(b.V),_e=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe){var it=ye.call(this,"NewVisualCalc",void 0,void 0,Ze&&Ze.seeData,void 0,void 0,void 0,qe?{type:1,sheet:"visual-calc-icons",symbolId:"data_histogram_function_20_regular"}:void 0)||this;return it.visualContainer=X,it.contextActivityService=ue,it.source=Se,it.visualCalcEagerService=Be,it.viewModeState=Ke,it}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return X=le(this.visualContainer.name,this.contextActivityService,"CreateVisualCalculation",this.source),[4,this.visualCalcEagerService.enterVisualCalcMode(this.visualContainer,void 0)];case 1:return ue.sent(),X.resolve(),[2]}})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){switch(X.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return X.sent()?1!==this.viewModeState.getMode()?[2,!1]:[4,this.visualCalcEagerService.canSupportVisualCalc(this.visualContainer)]:[2,!1];case 2:return[2,X.sent()]}})})},oe}(b.V);function le(ye,oe,X,ue){return oe.createActivity({name:"VisualAction",visualName:ye,data:{action:X,source:ue}})}var Z=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe){var it=ye.call(this,"Sharing_Visual_LinkToVisual",void 0,"pbi-glyph-link",qe&&qe.shareVisual)||this;return it.eventBridge=X,it.explorationCapabilities=ue,it.menuOptions=Se,it.source=Be,it.viewModeState=Ke,it.visualContainer=Ze,it}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return this.eventBridge.publishToChannel(s.wCO,{visual:this.visualContainer,source:this.source}),[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return(X=this.explorationCapabilities.getCapabilities().allowShareVisual&&0===this.viewModeState.getMode())?[4,ye.prototype.isVisible.call(this)]:[3,2];case 1:X=ue.sent(),ue.label=2;case 2:return[2,X&&this.menuOptions.canShareVisual]}})})},oe}(b.V),ie=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it){var be=ye.call(this,"Storytelling_Export_Open_In_PowerPoint",void 0,"pbi-glyph-powerpoint",it&&it.shareVisual)||this;return be.eventBridge=X,be.explorationCapabilities=ue,be.menuOptions=Se,be.source=Be,be.viewModeState=Ke,be.visualContainer=Ze,be.featureSwitchService=qe,be}return(0,t.__extends)(oe,ye),oe.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return this.eventBridge.publishToChannel(s.gsN,{visual:this.visualContainer,source:this.source}),[2]})})},oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return(X=this.explorationCapabilities.getCapabilities().allowShareVisual&&0===this.viewModeState.getMode())?[4,ye.prototype.isVisible.call(this)]:[3,2];case 1:X=ue.sent(),ue.label=2;case 2:return[2,X&&this.featureSwitchService.featureSwitches.storytellingTenantEnabled&&y.exportToPPTLiveEnabled&&this.menuOptions.canShareVisual]}})})},oe}(b.V),me=function(ye){function oe(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe){var ee=ye.call(this,"Share",void 0,"VisualHeader"===qe?"pbi-glyph-share":void 0,Fe&&Fe.shareVisual)||this;return ee.childCommands=[new Z(X,ue,Ke,qe,Se,it.contract,Fe),new f.dc(it,Be,X,Ke,Ze,qe,Fe),new ie(X,ue,Ke,qe,Se,it.contract,be,Fe)],ee}return(0,t.__extends)(oe,ye),oe.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var X;return(0,t.__generator)(this,function(ue){switch(ue.label){case 0:return[4,ye.prototype.isVisible.call(this)];case 1:return(X=ue.sent())?[4,window.Promise.all(this.childCommands.map(function(Se){return Se.isVisible()}))]:[3,3];case 2:X=ue.sent().some(function(Se){return Se}),ue.label=3;case 3:return[2,X]}})})},oe.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(X){return[2,this.childCommands]})})},oe}(b.V)},626563:function(ze,K,r){r.d(K,{R:function(){return s}});var t=r(790866),c=r(35801),i=r(809395);function s(V,m){return new p(V,m)}var p=function(){function V(m,v){this.visualContainer=m,this.visualPluginOps=v}return V.prototype.getSelectedValues=function(m){if(m.valueDetails){var v=this.filterThroughValueDetails(m.valueDetails,m.metadata);return this.amendIdentityToValueDetails(m,v)}var h=(0,c.s)(this.visualContainer.contract),n=(0,i.Xf)(this.visualContainer.contract),o=this.visualPluginOps.dataViewKinds(h,n);return t.Om.query(this.getDataViews(),m,o)},V.prototype.filterThroughValueDetails=function(m,v){return v?_.filter(m,function(e){return _.includes(v,e.queryName)}):m},V.prototype.amendIdentityToValueDetails=function(m,v){for(var e=[],h=0,n=v;h<n.length;h++){var o=n[h];e.push({queryName:o.queryName,identity:o.identity||m.dataMap&&_.values(m.dataMap)[0][0],expr:o.expr,value:o.value,formattedValue:o.formattedValue})}return e},V.prototype.getDataViews=function(){var m=this.visualContainer&&this.visualContainer.getRunningVisual();return m&&m.getDataViews()},V}()},430126:function(ze,K,r){r.d(K,{Q:function(){return V}});var t=r(226514),c=r(273139),i=r(787941),s=r(134990),p=r(665147);function V(v,e,h,n,o,u,a,l,d,b,f,g,S,y,C,E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,U,j,z){return new m(v,e,h,n,o,u,d,b,f,a,g,T,S,y,C,l,B,N,D,R,M,E,P,x,A,I,w,F,O,L,W,U,j,z)}var m=function(){function v(e,h,n,o,u,a,l,d,b,f,g,S,y,C,E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,U,j,z,G){this.conceptualSchemaProxy=e,this.contextActivityService=h,this.clipboard=n,this.dataSources=o,this.drill=u,this.expandCollapse=a,this.eventBridge=l,this.explorationCapabilities=d,this.explorationNavigation=b,this.explorationExtensibility=f,this.featureSwitchService=g,this.filterGenerator=S,this.groupAuthoring=y,this.includeExcludeService=C,this.lazyScoped=E,this.drillToDetails=D,this.panesVisibilityService=P,this.pluginOps=M,this.promiseFactory=T,this.telemetryService=R,this.viewModeState=B,this.visibility=N,this.visualAuthoring=x,this.overlayService=A,this.undoRedo=I,this.visualPlugin=w,this.selection=F,this.visualContainerGroupAuthoring=O,this.runningVisualService=L,this.copyVisualImageService=W,this.visualCalcEagerService=U,this.visualContainerCopyService=j,this.dialogService=z,this.localizationService=G}return v.prototype.createDrillthroughCommands=function(e,h,n){var o=this.explorationExtensibility.getCommandsDisplayOptions(e.name);return new s.dl(e,h,"ModeOn",this.drill,this.explorationNavigation,this.lazyScoped,this.pluginOps,n,this.telemetryService,this.contextActivityService,"ContextMenu",void 0,o)},v.prototype.createOptionsCommands=function(e,h,n){var o=this;i.fF.assert(function(){return null!==o.explorationNavigation.getCurrentExploration()},"Exploration cannot be null while creating visual container option commands.");var u=this.explorationNavigation.getCurrentExploration().settings,a=this.explorationExtensibility.getCommandsDisplayOptions(e.contract.name),l=(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],this.featureSwitchService.featureSwitches.visualSharingEntryPointOptions?[new s.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,h,this.contextActivityService,"VisualHeader",e,this.featureSwitchService,a)]:[],!0),this.featureSwitchService.featureSwitches.tridentPrivatePreviewEnabled&&this.featureSwitchService.featureSwitches.tridentProductReflex&&this.featureSwitchService.featureSwitches.reflexPBIArtifact?[new p.pq(e,this.selection,this.panesVisibilityService,this.featureSwitchService,this.explorationCapabilities,this.contextActivityService,this.telemetryService,"VisualHeader",a)]:[],!0),[new p.eY(e,this.eventBridge,h,this.contextActivityService,"VisualHeader",a)],!1),this.featureSwitchService.featureSwitches.visualSharingEntryPointOptions?[]:[new p.dc(e,this.visibility,this.eventBridge,h,this.contextActivityService,"VisualHeader",a)],!0),[new p.Vj(e,this.filterGenerator,this.overlayService,this.undoRedo,this.visualAuthoring,this.visualPlugin,h,this.contextActivityService,"VisualHeader",a),new p.ky(e,this.eventBridge,this.overlayService,h,this.contextActivityService,"VisualHeader",a),new p.Zi(this.explorationNavigation.getCurrentExploration(),e,this.contextActivityService,"VisualHeader",this.dialogService,this.localizationService,this.pluginOps,h,a),new p.Ol(e,this.conceptualSchemaProxy,this.dataSources,this.eventBridge,this.featureSwitchService,this.filterGenerator,this.overlayService,h,u,this.contextActivityService,"VisualHeader",a),new s.IX(e.contract,this.explorationCapabilities,this.drill,this.visibility,this.pluginOps,this.contextActivityService,"VisualHeader",!0,this.viewModeState,a),new s.gI(e.contract,this.contextActivityService,"VisualHeader",this.visualCalcEagerService,this.viewModeState,a,!0),new p.Qz(e,this.eventBridge,this.undoRedo,h,this.contextActivityService,"VisualHeader",a),new p.ig(e,this.eventBridge,h,this.contextActivityService,"VisualHeader",a),new p.qr(e,this.visibility,h,this.contextActivityService,"VisualHeader",a),new p.GB(e,h,this.lazyScoped,this.telemetryService,this.contextActivityService,"VisualHeader",a)],!1),this.getSortCommands(e,h,a),!0),[new s.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,e.contract,this.selection,this.visualPlugin,this.pluginOps,a)],!1);return this.getCustomCommands(l,1,e.contract,n,void 0,a)},v.prototype.getSortCommands=function(e,h,n){if(_.isEmpty(h.sortSetting.sortGroups))return[];var o=h.sortSetting.sortGroups;if(1===o.length&&o[0].isDefaultGroup){var u=o[0];return[new p.BM(e,this.eventBridge,this.overlayService,h,u,this.contextActivityService,"VisualHeader",n),new p.cN(e,this.eventBridge,this.overlayService,h,u,this.contextActivityService,"VisualHeader",n),new p.JS(e,this.eventBridge,this.overlayService,h,this.contextActivityService,"VisualHeader",n)]}for(var a=[],l=0,d=o;l<d.length;l++){var f=new p.pr(e,this.eventBridge,this.overlayService,h,d[l],this.contextActivityService,"VisualHeader",n);a.push(f)}return a},v.prototype.createNonQueryCommands=function(e,h){var n=this.explorationExtensibility.getCommandsDisplayOptions(e.name),o=this.explorationNavigation.getCurrentExploration().settings,u=(0,t.__spreadArray)((0,t.__spreadArray)([],(0,c.q4)(e.contract)?[]:[new s.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,(0,t.__assign)((0,t.__assign)({},h),{canShareVisual:!0}),this.contextActivityService,"ContextMenu",e,this.featureSwitchService,n)],!0),[new s.XU(e.contract,this.selection,this.explorationNavigation,this.visualContainerGroupAuthoring,this.viewModeState,o,n)],!1);return this.featureSwitchService.featureSwitches.daxTransformEnabled&&u.push(new s.uF(e.contract,this.explorationNavigation,this.pluginOps,this.selection,this.visualAuthoring,this.viewModeState,n,this.runningVisualService,this.contextActivityService,"ContextMenu",this.featureSwitchService)),this.featureSwitchService.featureSwitches.onObject&&u.push(new s.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,e.contract,this.selection,this.visualPlugin,this.pluginOps,n)),u},v.prototype.createCommands=function(e,h,n,o,u,a,l,d){return(0,t.__awaiter)(this,void 0,void 0,function(){var b,f,g,S,y,C,E,D,P,M,T,R,B,N;return(0,t.__generator)(this,function(A){switch(A.label){case 0:return i.fF.assertValue(h,"args"),!u||(0,c.q4)(e.contract)?[2,this.createNonQueryCommands(e,a)]:(b=e,f=this.runningVisualService.getVisual(e.contract),g=h.data,S=h.dataRoles,y=h.nodeIndex,C=h.position,E=[],D=this.explorationExtensibility.getCommandsDisplayOptions(b.name),P=this.explorationNavigation.getCurrentExploration().settings,E.push(new s.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,(0,t.__assign)((0,t.__assign)({},a),{canShareVisual:!0}),this.contextActivityService,"ContextMenu",b,this.featureSwitchService,D)),[4,this.conceptualSchemaProxy.get(this.dataSources.get())]);case 1:if(M=A.sent().schema(void 0),this.expandCollapse.isSupported(M&&M.capabilities,e.contract,S)&&this.expandCollapse.isEnabled(e.contract,S)&&(T=this.expandCollapse.getAllowedActions(e.contract,S,g))&&(E.push(new s.Yd(b.contract,T,!1,g,S,y,o,this.contextActivityService,"ContextMenu",D)),E.push(new s.Yd(b.contract,T,!0,g,S,y,o,this.contextActivityService,"ContextMenu",D))),E.push(new s.ab(e.contract,g,S,this.dataSources,this.drill,this.visualAuthoring,f,this.contextActivityService,"ContextMenu",void 0,D),new s.of(e.contract,this.explorationCapabilities,g,this.drill,this.dataSources,this.drillToDetails,f,this.contextActivityService,"ContextMenu",D),new s.IX(e.contract,this.explorationCapabilities,this.drill,this.visibility,this.pluginOps,this.contextActivityService,"ContextMenu",void 0,this.viewModeState,D),new s.gI(e.contract,this.contextActivityService,"ContextMenu",this.visualCalcEagerService,this.viewModeState,D),new s.oT(e.contract,S,this.visualAuthoring,this.drill,f,this.contextActivityService,"ContextMenu",D),new s.ok(e.contract,S,this.visualAuthoring,this.drill,f,this.contextActivityService,"ContextMenu",D),new s.Ue(e.contract,g,S,this.drill,this.visualAuthoring,f,this.contextActivityService,"ContextMenu",void 0,D),new s.$G(e.contract,g,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.groupAuthoring,this.promiseFactory,D),new s.x0(e.contract,g,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.includeExcludeService,this.promiseFactory,this.contextActivityService,"ContextMenu",d,D),new s.TM(e.contract,g,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.includeExcludeService,this.promiseFactory,this.contextActivityService,"ContextMenu",d,D),new s.dl(e.contract,g,"ContextMenu",this.drill,this.explorationNavigation,this.lazyScoped,this.pluginOps,n,this.telemetryService,this.contextActivityService,"ContextMenu",void 0,D),new s.Ys(e.contract,g,C,this.conceptualSchemaProxy,this.dataSources,this.eventBridge,this.explorationCapabilities,this.explorationNavigation,this.lazyScoped,this.viewModeState,n,void 0,this.contextActivityService,"ContextMenu",D),new s.XU(e.contract,this.selection,this.explorationNavigation,this.visualContainerGroupAuthoring,this.viewModeState,P,D),new s.gM(b.contract,f,this.contextActivityService,"ContextMenu",D)),this.featureSwitchService.featureSwitches.daxTransformEnabled&&E.push(new s.uF(b.contract,this.explorationNavigation,this.pluginOps,this.selection,this.visualAuthoring,this.viewModeState,D,this.runningVisualService,this.contextActivityService,"ContextMenu",this.featureSwitchService)),(R=new s.HK(b,this.clipboard,this.featureSwitchService,this.copyVisualImageService,this.telemetryService,this.visualContainerCopyService,this.explorationCapabilities,this.explorationNavigation,this.visibility,this.viewModeState,h,this.eventBridge,this.contextActivityService,"ContextMenu",D)).commandsCount>0&&(this.featureSwitchService.featureSwitches.copyPasteMenuImage||this.featureSwitchService.featureSwitches.copyPasteMenuMetadata?E.unshift(R):E.push(R)),this.featureSwitchService.featureSwitches.onObject&&E.push(new s.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,e.contract,this.selection,this.visualPlugin,this.pluginOps,D)),h.visualCommandConfigs)for(B=0,N=h.visualCommandConfigs;B<N.length;B++)E.push(new s.eA(N[B]));return[2,this.getCustomCommands(E,0,b.contract,g,l,D)]}})})},v.prototype.getCustomCommands=function(e,h,n,o,u,a){var d,l=this,b={};return null===(d=this.explorationExtensibility.getGroups())||void 0===d||d.forEach(function(f){b[f.name]=new s.J_(f.title,a,f.menuLocation)}),this.getCommandExtensions(n,h).forEach(function(f){var g=l.getCommandMenuExtension(f,h);i.fF.assert(function(){return!!g},"extensionPoint shouldn't be null");var S=new s.ft(n,o,f.name,g.title||f.title,l.eventBridge,l.explorationExtensibility,l.contextActivityService,"ContextMenu",g.icon||f.icon,u,a),y=g.groupName&&b[g.groupName];y?(y.isEmpty&&(1===y.menuLocation?e.unshift(y):e.push(y)),y.addChild(S)):1===g.menuLocation?e.unshift(S):e.push(S)}),e},v.prototype.getCommandMenuExtension=function(e,h){var n=e&&e.extend;switch(h){case 0:return n&&n.visualContextMenu;case 1:return n&&n.visualOptionsMenu;default:i.fF.assertNever(h)}},v.prototype.getCommandExtensions=function(e,h){var n=this,o=this.explorationExtensibility.getCommandExtensions()||[];switch(e&&(o=o.filter(function(u){return n.visualMenuShouldHaveCommand(e,u)})),h){case 0:return o.filter(function(u){return u.extend&&u.extend.visualContextMenu});case 1:return o.filter(function(u){return u.extend&&u.extend.visualOptionsMenu});default:i.fF.assertNever(h)}},v.prototype.visualMenuShouldHaveCommand=function(e,h){return!h.visuals||h.visuals.some(function(n){return n===e.name})},v}()},665147:function(ze,K,r){r.d(K,{BM:function(){return C},GB:function(){return T},JS:function(){return D},Ol:function(){return o},Qz:function(){return d},Vj:function(){return n},Zi:function(){return R},cN:function(){return E},dc:function(){return S},eY:function(){return u},ig:function(){return f},ky:function(){return l},pq:function(){return a},pr:function(){return P},qr:function(){return g}});var t=r(226514),c=r(649379),i=r(1745),s=r(555161),p=r(809395),V=r(35801),m=r(787941),v=r(668268),e=r(548556),h=r(801561),n=function(N){function x(A,I,w,F,O,L,W,U,j,z){var G=N.call(this,"Slicer_SearchBox_Text",void 0,"itemIcon glyphicon pbi-glyph-search glyph-small",z&&z.search)||this;return G.visualContainer=A,G.filterGenerator=I,G.overlayService=w,G.undoRedo=F,G.visualAuthoring=O,G.visualPlugin=L,G.menuOptions=W,G.contextActivityService=U,G.source=j,G.selected=G.isSearchOn,G}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return m.fF.assertValue(this.overlayService,"overlay service is not provided."),m.fF.assertValue(this.undoRedo,"undoRedo service is not provided."),m.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"ToggleSearch",this.source),this.visualAuthoring.toggleSlicerVisualSearch(this.visualContainer.contract,this.filterGenerator,this.visualPlugin),this.overlayService.hideAllDropdowns(),this.announceSelectionState(this.visualContainer.visualHostServices,this.isSearchOn),A.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canSearch&&N.prototype.isVisible.call(this)]})})},Object.defineProperty(x.prototype,"isSearchOn",{get:function(){var I=this.visualContainer.contract.config.singleVisual;if(!I||!I.objects)return!1;var w=(0,p.cj)(this.visualContainer.contract,this.visualPlugin);if(!w)return!1;var F=this.filterGenerator.tryGetSelfFilterEnabledProperty(w);if(!F)return!1;var O=(0,v.NA)(I.objects,F,null);return O&&O.value||!1},enumerable:!1,configurable:!0}),x}(h.V),o=function(N){function x(A,I,w,F,O,L,W,U,j,z,G,te){var Q=N.call(this,"ExportData_MenuItem",void 0,"itemIcon glyphicon pbi-glyph-export glyph-small",te&&te.exportData)||this;return Q.visualContainer=A,Q.conceptualSchemaProxy=I,Q.dataSources=w,Q.eventBridge=F,Q.featureSwitchService=O,Q.filterGenerator=L,Q.overlayService=W,Q.menuOptions=U,Q.explorationSettings=j,Q.contextActivityService=z,Q.source=G,Q}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,I,w,F,O,L,W;return(0,t.__generator)(this,function(U){switch(U.label){case 0:m.fF.assertValue(this.conceptualSchemaProxy,"conceptualSchemaProxy service is not provided."),m.fF.assertValue(this.dataSources,"dataSources service is not provided."),m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),m.fF.assertValue(this.overlayService,"overlay service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"ExportVisualData",this.source),I=this.visualContainer.getRunningVisual(),F=null!=(w=this.visualContainer.visualTitle)?w.text:"",O=this.dataSources.get(),U.label=1;case 1:return U.trys.push([1,3,4,5]),[4,this.conceptualSchemaProxy.get(O)];case 2:return L=U.sent(),this.eventBridge.publishToChannel(i.Diu,{visualData:{data:I.getData(),dataTransforms:I.getDataTransforms()},visualContainer:this.visualContainer.contract,visualTitle:F,additionalFilters:this.visualContainer.hostServices.getFilters(this.filterGenerator,L)}),[3,5];case 3:return W=U.sent(),m.fF.log(W),[3,5];case 4:return this.overlayService.hideAllDropdowns(),A.resolve(),[7];case 5:return[2]}})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canExport&&N.prototype.isVisible.call(this)]})})},x.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,N.prototype.isDisabled.call(this)];case 1:return[2,A.sent()||this.explorationSettings&&this.explorationSettings.exportDataMode&&2===this.explorationSettings.exportDataMode||this.menuOptions.exportDataDenied||this.featureSwitchService.featureSwitches.disableExportDataOnVisualError&&this.visualHasError()||!!this.visualContainer.visualPausedWarning||(0,p.iv)(this.visualContainer.contract)||(0,p.tL)(this.visualContainer.contract)]}})})},x.prototype.visualHasError=function(){return!!this.visualContainer.errorInfo},x.prototype.getToolTip=function(A){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(F){switch(F.label){case 0:return[4,this.isDisabled()];case 1:return F.sent()?this.menuOptions.exportDataDenied?[2,A.get("ExportData_DeniedTooltip")]:(0,p.iv)(this.visualContainer.contract)||(0,p.tL)(this.visualContainer.contract)?[2,A.get("ExportData_DisabledTooltip_For_VC_Hidden")]:this.visualHasError()?[2,A.get("VisualContainer_ExportDataDisabled_VisualError_Tooltip")]:[2,A.get("VisualContainer_ExportDataDisabled_Tooltip")]:[2,null]}})})},x}(h.V),u=function(N){function x(A,I,w,F,O,L){var W=N.call(this,"AddComment",void 0,"itemIcon glyphicon glyph-small pbi-glyph-comment",L&&L.addComment)||this;return W.visualContainer=A,W.eventBridge=I,W.menuOptions=w,W.contextActivityService=F,W.source=O,W}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"AddCommentVisual",this.source),this.eventBridge.publishToChannel(i.v3I,{visualContainerId:this.visualContainer.id}),A.resolve(),[2]})})},x.prototype.isVisible=function(){return this.menuOptions.canAddComment&&N.prototype.isVisible.call(this)},x}(h.V),a=function(N){function x(A,I,w,F,O,L,W,U,j){var z=N.call(this,"ReportAppBar_Alerts",void 0,"itemIcon glyphicon glyph-small pbi-glyph-bell",j&&j.reflexTrigger)||this;return z.visualContainer=A,z.selection=I,z.paneVisibilityService=w,z.featureSwitchService=F,z.explorationCapabilitiesService=O,z.contextActivityService=L,z.telemetryService=W,z.source=U,z}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return A=B(this.visualContainer.name,this.contextActivityService,"ReflexTriggerAction",this.source),s.UP.selectCanvasItem(this.visualContainer.contract,this.selection),this.paneVisibilityService.isPaneVisible("reflex")||(this.paneVisibilityService.togglePaneVisibility("reflex"),this.telemetryService.logEvent(e.RfG,{visualType:this.visualContainer.getVisualType(),visualName:this.visualContainer.name})),A.resolve(),[2]})})},x.prototype.isVisible=function(){var A;return(0,t.__awaiter)(this,void 0,void 0,function(){var I,w;return(0,t.__generator)(this,function(F){return I=(null===(A=this.featureSwitchService.featureSwitches)||void 0===A?void 0:A.projectTridentOverall)||!!/trident=(1|true)/.test(location.search),w=this.explorationCapabilitiesService.getCapabilities(),[2,!!this.featureSwitchService.featureSwitches.tridentPrivatePreviewEnabled&&!!this.featureSwitchService.featureSwitches.tridentProductReflex&&!!this.featureSwitchService.featureSwitches.reflexPBIArtifact&&I&&!0===w.reflex&&N.prototype.isVisible.call(this)]})})},x.prototype.getToolTip=function(A){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(I){return(0,p.iv)(this.visualContainer.contract)?[2,A.get("Reflex_Trigger_Disabled_For_VC")]:[2]})})},x}(h.V),l=function(N){function x(A,I,w,F,O,L,W){var U=N.call(this,"Edit_ToolTip",void 0,"itemIcon glyphicon pbi-glyph-edit glyph-mini",W&&W.enterAdvancedEditMode)||this;return U.visualContainer=A,U.eventBridge=I,U.overlayService=w,U.menuOptions=F,U.contextActivityService=O,U.source=L,U}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"EnterAdvancedEditMode",this.source),this.eventBridge.publishToChannel(i.OKC,{editMode:1,visualContainer:this.visualContainer.contract}),this.overlayService.hideAllDropdowns(),A.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canEdit&&N.prototype.isVisible.call(this)]})})},x.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,!!this.visualContainer.visualPausedWarning||N.prototype.isDisabled.call(this)]})})},x}(h.V),d=function(N){function x(A,I,w,F,O,L,W){var U=N.call(this,"Remove_visual",void 0,"itemIcon glyphicon pbi-glyph-close glyph-mini",W&&W.removeVisual)||this;return U.visualContainer=A,U.eventBridge=I,U.undoRedo=w,U.menuOptions=F,U.contextActivityService=O,U.source=L,U}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,I=this;return(0,t.__generator)(this,function(w){return m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),m.fF.assertValue(this.undoRedo,"undoRedo service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"DeleteVisualContainer",this.source),this.undoRedo.register("DeleteVisualContainer",function(){I.eventBridge.publishToChannel(i.Un,I.visualContainer.contract)}),A.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canDelete&&N.prototype.isVisible.call(this)]})})},x}(h.V),f=function(N){function x(A,I,w,F,O,L){return N.call(this,"Visual_Cluster_FindGroups","itemIcon glyphicon pbi-glyph-scatter glyph-small",A,I,w,F,O,L)||this}return(0,t.__extends)(x,N),x}(function(N){function x(A,I,w,F,O,L,W,U){var j=N.call(this,A,void 0,I,U&&U.clusters)||this;return j.visualContainer=w,j.eventBridge=F,j.menuOptions=O,j.contextActivityService=L,j.source=W,j}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"ClustersSpatial",this.source),this.eventBridge.publishToChannel(i.zdm,{visualContainer:this.visualContainer.contract}),A.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canCluster&&N.prototype.isVisible.call(this)]})})},x}(h.V)),g=function(N){function x(A,I,w,F,O,L){var W=N.call(this,"Spotlight",void 0,"itemIcon glyphicon pbi-glyph-flashlight glyph-small",L&&L.spotlight)||this;return W.visualContainer=A,W.visibility=I,W.menuOptions=w,W.contextActivityService=F,W.source=O,W.selected=W.isSpotlightOn,W}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return m.fF.assertValue(this.visibility,"visibility service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"ToggleSpotlight",this.source),4===this.visualContainer.contract.visibility?this.visibility.clear():this.visibility.set(this.visualContainer.contract,4),this.announceSelectionState(this.visualContainer.visualHostServices,this.isSpotlightOn),A.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canSpotlight&&N.prototype.isVisible.call(this)]})})},Object.defineProperty(x.prototype,"isSpotlightOn",{get:function(){return 4===this.visualContainer.contract.visibility},enumerable:!1,configurable:!0}),x}(h.V),S=function(N){function x(A,I,w,F,O,L,W){var U=N.call(this,"ChatInTeams",void 0,"itemIcon glyphicon glyph-small pbi-glyph-teamslogo",W&&W.shareToTeams)||this;return U.visualContainer=A,U.visibility=I,U.eventBridge=w,U.menuOptions=F,U.contextActivityService=O,U.source=L,U}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){return m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),m.fF.assertValue(this.visibility,"visibility service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"ShareToTeamsVisual",this.source),this.visibility.set(this.visualContainer.contract,4),this.eventBridge.publishToChannel(i.CVC),A.resolve(),[2]})})},x.prototype.isVisible=function(){return this.menuOptions.canShareToTeams&&N.prototype.isVisible.call(this)},x}(h.V),y=function(N){function x(A,I,w,F,O,L,W,U,j,z,G,te){var Q=N.call(this,A,void 0,I,G&&G.sort,void 0,void 0,te)||this;return Q.sortDirection=w,Q.visualContainer=F,Q.eventBridge=O,Q.overlayService=L,Q.menuOptions=W,Q.sortGroup=U,Q.contextActivityService=j,Q.source=z,Q.selected=Q.isHighlighted,Q}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,I;return(0,t.__generator)(this,function(F){return m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"Sort",this.source),this.overlayService.hideAllDropdowns(),I=this.getSortByField(),this.eventBridge.publishToChannel(i.up$,{visualContainer:this.visualContainer.contract,sortableField:I,sortDirection:this.sortDirection,sortGroup:this.sortGroup}),A.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canSort&&N.prototype.isVisible.call(this)]})})},x.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,N.prototype.isDisabled.call(this)];case 1:return[2,A.sent()||void 0===this.getSortByField()]}})})},Object.defineProperty(x.prototype,"activeSortableField",{get:function(){return _.find(this.sortGroup.fields,function(I){return I.active})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isHighlighted",{get:function(){return void 0!==this.activeSortableField&&this.activeSortableField.sortDirection===this.sortDirection},enumerable:!1,configurable:!0}),x.prototype.getSortByField=function(){if(this.sortGroup.fields)return 1===_.size(this.sortGroup.fields)?this.sortGroup.fields[0]:this.activeSortableField},x}(h.V),C=function(N){function x(A,I,w,F,O,L,W,U,j){return N.call(this,"Sort_Desc","itemIcon glyphicon pbi-glyph-ztoa glyph-small",2,A,I,w,F,O,L,W,U,j)||this}return(0,t.__extends)(x,N),x}(y),E=function(N){function x(A,I,w,F,O,L,W,U){return N.call(this,"Sort_Asc","itemIcon glyphicon pbi-glyph-atoz glyph-small",1,A,I,w,F,O,L,W,U)||this}return(0,t.__extends)(x,N),x}(y),D=function(N){function x(A,I,w,F,O,L,W){var U=N.call(this,"MobileFooter_SortBy",void 0,void 0,W&&W.sort)||this;return U.visualContainer=A,U.eventBridge=I,U.overlayService=w,U.menuOptions=F,U.contextActivityService=O,U.source=L,U.displayOverride=W,U}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return(A=this.menuOptions.canSort)?[4,N.prototype.isVisible.call(this)]:[3,2];case 1:A=I.sent(),I.label=2;case 2:return A?[2,_.size(this.menuOptions.sortSetting.sortableFields)>1]:[2,!1]}})})},x.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,I,w,O=this;return(0,t.__generator)(this,function(L){return A=this.menuOptions.sortSetting.sortableFields,I=1===this.visualContainer.readOnlyState.actualSortDirection?"Sort_Asc":"Sort_Desc",w=_.some(this.menuOptions.sortSetting.sortableFields,function(W){return W.active}),[2,_.map(A,function(W){return new M(O.visualContainer,W,w?I:void 0,O.eventBridge,O.overlayService,O.contextActivityService,O.source,O.displayOverride)})]})})},x}(h.V),P=function(N){function x(A,I,w,F,O,L,W,U){var j=N.call(this,"Sort_Group"+O.displayName,void 0,void 0,U&&U.sort)||this;return j.visualContainer=A,j.eventBridge=I,j.overlayService=w,j.menuOptions=F,j.sortGroup=O,j.contextActivityService=L,j.source=W,j.displayOverride=U,j}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2]})})},x.prototype.title=function(A){return A.format("Sort_Group",A.get(this.sortGroup.displayName))},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return(A=this.menuOptions.canSort)?[4,N.prototype.isVisible.call(this)]:[3,2];case 1:A=I.sent(),I.label=2;case 2:return A?[2,!0]:[2,!1]}})})},x.prototype.getChildren=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,I,w,F;return(0,t.__generator)(this,function(W){for(A=[],I=0,w=this.sortGroup.fields;I<w.length;I++)A.push(new M(this.visualContainer,F=w[I],1===F.sortDirection?"Sort_Asc":"Sort_Desc",this.eventBridge,this.overlayService,this.contextActivityService,this.source,this.displayOverride));return A.push(new C(this.visualContainer,this.eventBridge,this.overlayService,this.menuOptions,this.sortGroup,this.contextActivityService,this.source,this.displayOverride,1),new E(this.visualContainer,this.eventBridge,this.overlayService,this.menuOptions,this.sortGroup,this.contextActivityService,this.source,this.displayOverride)),[2,A]})})},x}(h.V),M=function(N){function x(A,I,w,F,O,L,W,U){var j=N.call(this,I.displayName,void 0,void 0,U&&U.sort)||this;return j.visualContainer=A,j.sortField=I,j.sortDirectionKey=w,j.eventBridge=F,j.overlayService=O,j.contextActivityService=L,j.source=W,j.selected=j.sortField.active,j}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(w){return m.fF.assertValue(this.sortField,"expect sortField to be defined."),m.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),A=B(this.visualContainer.name,this.contextActivityService,"SortBy",this.source),this.overlayService.hideAllDropdowns(),this.eventBridge.publishToChannel(i.zgs,{sortableField:this.sortField,sortDirection:this.visualContainer.readOnlyState.actualSortDirection,visualContainer:this.visualContainer.contract}),A.resolve(),[2]})})},x.prototype.title=function(A){return this.sortField.displayName},x.prototype.getToolTip=function(A){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(I){return this.sortDirectionKey?[2,this.sortField.displayName+", "+A.get(this.sortDirectionKey)]:[2,this.title(A)]})})},x}(h.V),T=function(N){function x(A,I,w,F,O,L,W){var U=N.call(this,"AutomatedInsights_AppBar_GetInsights",void 0,"itemIcon glyphicon pbi-glyph-insight glyph-small",W&&W.insightsAnalysis)||this;return U.visualContainer=A,U.menuOptions=I,U.lazyScoped=w,U.telemetryService=F,U.contextActivityService=O,U.source=L,U}return(0,t.__extends)(x,N),x.prototype.execute=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,I;return(0,t.__generator)(this,function(w){switch(w.label){case 0:return this.telemetryService.logEvent(e.Jab,{visualType:(0,V.s)(this.visualContainer.contract),visualName:this.visualContainer.contract.name}),A=B(this.visualContainer.name,this.contextActivityService,"GetAutomatedInsights",this.source),[4,this.lazyScoped.get("automatedInsightsQuery")];case 1:return I=w.sent(),m.fF.assertValue(I,"GetInsightsCommand automatedInsightsQuery"),I.showAutomatedInsights({entryPoint:"VisualOptionsMenu",queryOptions:{summarySelectionOptions:{visualsToSummarize:[this.visualContainer.contract]},updateProcessingState:!0},enforcePremiumLicensing:!0,viewOnlyNoteworthy:!1}),A.resolve(),[2]}})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canGetInsights&&N.prototype.isVisible.call(this)]})})},x}(h.V),R=function(N){function x(A,I,w,F,O,L,W,U,j){var z=N.call(this,"DataExploration_EntryTitle_Preview",void 0,void 0,j&&j.dataExplore,void 0,void 0,void 0,{type:1,sheet:"trident-icons",symbolId:"binoculars_20_regular"})||this;return z.exploration=A,z.visualContainer=I,z.contextActivityService=w,z.source=F,z.dialogService=O,z.localizationService=L,z.pluginOps=W,z.menuOptions=U,z}return(0,t.__extends)(x,N),x.prototype.execute=function(){var A,I;return(0,t.__awaiter)(this,void 0,void 0,function(){var w,F,O;return(0,t.__generator)(this,function(L){return m.fF.assertValue(null===(A=this.exploration.report)||void 0===A?void 0:A.model,"Dataset is not provided."),w=B(this.visualContainer.name,this.contextActivityService,"DataExplore",this.source),F=null===(I=this.exploration.report)||void 0===I?void 0:I.model,O={title:this.localizationService.format("DataExploration_DialogTitle_WithDataset",F.displayName),input:{dataset$:(0,c.of)(F),entryPoint:"VisualOptionsMenu",initialChart:_.clone(this.visualContainer.contract),initialView:"chart"},hideOkButton:!0,hideCancelButton:!0,dontCloseOnDefaultActions:!0,oneLineWithEllipsis:!0},this.dialogService.showTemplateDialog("DataExploreDialogIdentifier",O,{width:"90%",height:"90%"}),w.resolve(),[2]})})},x.prototype.isVisible=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2,this.menuOptions.canDataExplore&&N.prototype.isVisible.call(this)]})})},x.prototype.isDisabled=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,N.prototype.isDisabled.call(this)];case 1:return[2,A.sent()||this.visualHasError()||this.isUnsupportedVisual()]}})})},x.prototype.isUnsupportedVisual=function(){var A=this.visualContainer.getVisualType(),I=!this.pluginOps.isQueryVisual(A),w=this.pluginOps.supportVisualSearch(A);return I||w},x.prototype.visualHasError=function(){return!!this.visualContainer.errorInfo},x}(h.V);function B(N,x,A,I){return x.createActivity({name:"VisualAction",visualName:N,data:{action:A,source:I}})}},251177:function(ze,K,r){r.d(K,{e:function(){return h},q:function(){return n}});var t=r(226514),c=r(630326),i=r(823542),s=r(643068),p=r(1010),V=r(787941),m=r(448711),v=r(967908),e={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},h=function(){function o(u){this.services=u,this.instanceId=void 0}return o.initialize=function(u){V.fF.assertValue(u,"localize"),!o.initialized&&(o.initialized=!0,(0,m.X0)(o.createLocaleOptions(u)),p.I6.localizationOptions=o.createTooltipLocaleOptions(u),(0,v.iZ)(o.createDataViewTransformLocalizationOptions(u)))},o.createLocaleOptions=function(u){return V.fF.assertValue(u,"localize"),{null:u.get("NullValue"),true:u.get("BooleanTrue"),false:u.get("BooleanFalse"),NaN:u.get("NaNValue"),infinity:u.get("InfinityValue"),negativeInfinity:u.get("NegativeInfinityValue"),beautify:function(l){return o.beautify(u,l)},describe:function(l){return o.describeUnit(u,l)},restatementComma:u.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:u.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:u.get("Generic_Or")}},o.createTooltipLocaleOptions=function(u){return{highlightedValueDisplayName:u.get(p.I6.highlightedValueDisplayNameResorceKey)}},o.createDataViewTransformLocalizationOptions=function(u){return{quarterPrefix:u.get(s.mG)}},o.prototype.getLocalizedString=function(u){for(var a,l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return(a=this.services.localizationService).format.apply(a,(0,t.__spreadArray)([u],l||[],!1))},o.prototype.requestFocus=function(u){c.IK.focus(u)},o.prototype.alertScreenReader=function(u){},o.prototype.alertWithDebounce=function(u,a){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(u,a)},o.prototype.onDragStart=function(){},o.prototype.getVisualLinkProperties=function(){},o.prototype.canSelect=function(){return!1},o.prototype.onSelecting=function(){},o.prototype.onSelect=function(){},o.prototype.onSwitchFocusModeState=function(){},o.prototype.canExpandCollapse=function(u){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(u)},o.prototype.setNodeExpansionState=function(u){},o.prototype.setLevelExpansionState=function(u){},o.prototype.setCanDrill=function(u){},o.prototype.onContextMenu=function(){},o.prototype.loadMoreData=function(){},o.prototype.loadWindow=function(u){},o.prototype.setShouldDeferData=function(){},o.prototype.persistProperties=function(u){},o.prototype.onCustomSort=function(u){},o.prototype.getViewMode=function(){return 0},o.prototype.getEditMode=function(){return 0},o.prototype.setWarnings=function(u){},o.prototype.getWarnings$=function(){},o.prototype.setToolbar=function(u){},o.prototype.shouldRetainSelection=function(){return!1},o.prototype.geocoder=function(){return this.services.geocoder},o.prototype.geolocation=function(){return this.services.geolocation},o.prototype.locale=function(){return(0,i.uD)()},o.prototype.promiseFactory=function(){return this.services.promiseFactory},o.prototype.ignoreDefaultFilter=function(){return!1},o.prototype.getIdentityDisplayNames=function(u){},o.prototype.setIdentityDisplayNames=function(u){},o.prototype.setFilterExpressionMetadata=function(){},o.prototype.getFilterExpressionMetadata=function(){},o.prototype.decompositionService=function(){},o.prototype.dropdown=function(){},o.prototype.tooltips=function(){return this.services.visualHostTooltipService},o.prototype.telemetry=function(){},o.prototype.authenticationService=function(){return this.services.authenticationService},o.prototype.localStorageService=function(){},o.prototype.acquireAADTokenService=function(){},o.prototype.eventService=function(){},o.prototype.licenseManagerService=function(){},o.prototype.drill=function(u){},o.prototype.loader=function(){return this.services.moduleLoader},o.prototype.getUIComponentFactory=function(){},o.prototype.applyJsonFilter=function(u,a,l,d){},o.prototype.applyIdentityFilter=function(u,a,l,d){},o.prototype.launchUrl=function(u){},o.prototype.refreshHostData=function(){},o.prototype.getJSONFilter=function(u,a){return this.promiseFactory().reject()},o.prototype.onHyperlinkClick=function(u,a){},o.prototype.visualTimeSynchronization=function(){},o.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},o.prototype.dataMultiSelectMode=function(){return 0},o.prototype.networkAvailability=function(){},o.prototype.downloadService=function(){},o.prototype.setAriaMetadata=function(u){},o.prototype.artifactService=function(){},o.prototype.getSectionsMetadata$=function(){},o.prototype.getBookmarksMetadata$=function(){},o.prototype.visualExportService=function(){},o.prototype.onNotifyLicense=function(u){this.services.onNotifyLicense&&this.services.onNotifyLicense(u)},o.prototype.onClearLicenseNotification=function(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()},o.prototype.onNotifyFeatureBlocked=function(u){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(u)},o.prototype.getSubSelectionService=function(){},o.prototype.webAccessService=function(){},o.prototype.getAzureMapToken=function(){return this.services.getAzureMapToken()},o.prototype.azureMapsEndpoint=function(){return this.services.azureMapsEndpoint},o.prototype.geocoderIndexedDB=function(){return this.services.geocoderIndexedDB},o.prototype.triggerUpdate=function(){},o.prototype.isScreenshotWorkload=function(){return!1},o.prototype.localStorageV2Service=function(){},o.prototype.aiNarrativesService=function(){},o.prototype.dateTimeFormatService=function(){},o.prototype.visualHostSubSelectionService=function(){},o.beautify=function(u,a){var l=e[a];return l?((0,m.J6)(l),u.getOptional(l)||a):a},o.describeUnit=function(u,a){var l=-1===a?"Auto":a.toString(),d=u.getOptional("DisplayUnitSystem_E"+l+"_Title"),b=a<=0?"{0}":u.getOptional("DisplayUnitSystem_E"+l+"_LabelFormat");if(d||b)return{title:d,format:b}},o}();function n(o){return new h(o)}},94041:function(ze,K,r){r.d(K,{w:function(){return n}});var t=r(226514),c=r(361908),i=r(809395),s=r(787941),p=r(668268),V=r(620108),m=r(13106),e=(r(324356),r(334048)),h=r(474147);function n(){var o=V.MD,u=m.yl,l=e.b,b=function(){function S(y,C,E,D,P,M,T,R,B){this.explorationStateManager=y,this.explorationNavigation=C,this.explorationSerializer=E,this.featureSwitchService=D,this.visualPlugin=P,this.conceptualSchemaProxy=M,this.dataSources=T,this.displayNameService=R,this.visualAuthoringOperations=B}return S.prototype.generateUniqueGroupName=function(y,C,E){var P,D=this.getVisualSyncField(C);P=D?this.displayNameService.getDisplayName(D,y,this.visualPlugin.capabilities(C.visualType)):"Group",s.fF.assert(function(){return!_.isEmpty(P)},"expected preferred name for group");for(var M=P,T=1;M in E;)M=P+T++;return M},S.prototype.syncFilterState=function(y,C){return(0,t.__awaiter)(this,void 0,void 0,function(){var E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,U,j,z;return(0,t.__generator)(this,function(G){switch(G.label){case 0:return this.canSyncVisual(E=y.config.singleVisual)&&E.syncGroup?(D=this.getOtherSectionsInSyncGroup(E),_.isEmpty(D)?[2]:[4,this.conceptualSchemaProxy.get(this.dataSources.get())]):[2];case 1:for(P=G.sent(),M=this.explorationStateManager.captureFilterState(E),C=C&&E.syncGroup.filterChanges,T=this.visualPlugin.capabilities(E.visualType),R={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},B=o(T.objects),N=B&&(0,p.NA)(M.objects.merge,B,null),x=[],A=0,I=D;A<I.length;A++)for((0,i.Dl)((w=I[A]).section),F=0,O=w.visualContainers;F<O.length;F++){if(L=O[F],W=C&&this.syncFilters(L,y.filters),U=M,N){if(j=(0,p.NA)(L.config.singleVisual.objects,B,null),z=this.replaceSemanticFilterField(y.config.singleVisual.query.defn,N,L.config.singleVisual.query.defn,j,P),N&&!z){W&&this.visualAuthoringOperations.notifyVisualContainers([L]);continue}z!==N&&((U=(0,c.Ay)(U,this.visualPlugin,this.featureSwitchService)).cachedFilterDisplayItems=void 0,U.filterExpressionMetadata=void 0,(0,p.sO)(U.objects.merge,B,null,z))}R.targetVisualNames.push(L.name),x.push({visual:L,state:U,impacted:W})}return _.isEmpty(x)||this.explorationStateManager.applyFilterState(x,P),[2]}})})},S.prototype.syncVisualFiltersState=function(y,C){void 0===C&&(C=!0),s.fF.assertValue(y,"syncVisualFilterState - sourceVisual should be defined"),s.fF.assertValue(y.config,"syncVisualFilterState - sourceVisual config should be defined");var E=y.config.singleVisual,D=[];if(this.canSyncVisual(E)&&E.syncGroup.filterChanges){for(var M=0,T=this.getOtherSectionsInSyncGroup(E);M<T.length;M++){var R=T[M];if(!_.isEmpty(R.visualContainers))for(var B=0,N=R.visualContainers;B<N.length;B++){var x=N[B];this.syncFilters(x,y.filters)&&D.push(x)}}C&&this.visualAuthoringOperations.notifyVisualContainers(D)}},S.prototype.syncFilters=function(y,C){var E=_.isEmpty(C);if(y.config.singleVisual.syncGroup.filterChanges){if(E&&!_.isEmpty(y.filters))return y.filters=[],!0;if(!E){var D=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(C),[],!0);return y.filters=D,!0}}return!1},S.prototype.getVisualsAffectByFieldChanges=function(y){var C=y.config.singleVisual;return this.canSyncVisual(C)&&C.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(C),function(E){return E.config.singleVisual.syncGroup.fieldChanges}):[]},S.prototype.canSyncVisual=function(y){if(!y.syncGroup)return!1;var C=this.visualPlugin.capabilities(y.visualType),E=C&&C.supportsSynchronizingFilterState;return s.fF.assert(function(){return E},"Visual has a sync group, but does not support syncing"),E},S.prototype.getOtherVisualsInSyncGroup=function(y){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(y))},S.prototype.getVisualsInSectionsSyncGroup=function(y){for(var C=[],E=0,D=y;E<D.length;E++)C.push.apply(C,D[E].visualContainers||[]);return C},S.prototype.getOtherSectionsInSyncGroup=function(y){if(!y.syncGroup)return[];if(!y.syncGroup.groupName)return s.fF.assertFail("expected non-empty group name"),[];for(var E=[],D=0,P=this.explorationNavigation.getCurrentExploration().sections;D<P.length;D++){var M=P[D],T=_.filter(M.visualContainers,function(R){var B=R.config.singleVisual;return B!==y&&B.syncGroup&&B.syncGroup.groupName===y.syncGroup.groupName&&B.visualType===y.visualType});_.isEmpty(T)||E.push({section:M,visualContainers:T})}return E},S.prototype.getVisualSyncField=function(y){var C=y.query.defn.select();return s.fF.assertValue(C,"fields can't be null"),0===C.length?(s.fF.assertFail("Expected sync group visual to have at least one field"),null):C[0].expr},S.prototype.replaceSemanticFilterField=function(y,C,E,D,P){if(!C)return C;var M=y.select(),T=E.select();if(M.length===T.length){if(M.length>1)return _.differenceWith(M,T,function(w,F){return(0,h.fS)(w.expr,F.expr)}).length?void 0:C;if(1!==M.length)return void s.fF.assertFail("Expected single select in source and target queries");if((0,h.fS)(M[0].expr,T[0].expr))return C;var B=f.extract(C);if(!B)return void s.fF.assertFail("could not extract a single field from the source filter expression");if(!D){var N=C.conditions();if(1!==N.length)return void s.fF.assertFail("expected single condition");var x=T[0].expr.getKeyColumns(P);if(1!==x.length)return void s.fF.assertFail("can only sync slicers on single-key columns when syncing across different fields");var A=g.replaceCondition(N[0],B,x[0]);return u.fromSQExpr(A)}var I=f.extract(D);return I?g.replace(C,B,I):void s.fF.assertFail("expected incoming and target fields for SemanticFilter rewrite")}},S}(),f=function(S){function y(){return S.call(this)||this}return(0,t.__extends)(y,S),y.extract=function(C){var E=new y;return C.rewrite(E),E.foundSingleField&&E.fieldExpr},y.prototype.visitHierarchyLevel=function(C){return this.setFieldExpr(C),C},y.prototype.visitColumnRef=function(C){return this.setFieldExpr(C),C},y.prototype.setFieldExpr=function(C){if(!this.fieldExpr)return this.fieldExpr=C,void(this.foundSingleField=!0);(0,h.fS)(this.fieldExpr,C)||(this.foundSingleField=!1,s.fF.assertFail("found multiple fields in SemanticFilter"))},y}(l),g=function(S){function y(C,E){var D=S.call(this)||this;return D.before=C,D.after=E,D}return(0,t.__extends)(y,S),y.replace=function(C,E,D){if((0,h.fS)(E,D))return C;var P=new y(E,D);return C.rewrite(P)},y.replaceCondition=function(C,E,D){if((0,h.fS)(E,D))return C;var P=new y(E,D);return C.accept(P)},y.prototype.visitColumnRef=function(C){if((0,h.fS)(C,this.before))return this.after},y}(e.b);return{create:function(S,y,C,E,D,P,M,T,R){return new b(S,y,C,E,D,P,M,T,R)}}}},548556:function(ze,K,r){r.d(K,{$9b:function(){return jt},$FE:function(){return p},$Zr:function(){return re},$xe:function(){return tr},A2J:function(){return ee},AS5:function(){return Ui},Aog:function(){return Ae},BKg:function(){return Ai},CDV:function(){return Y},Dbt:function(){return q},EuU:function(){return Ci},FQA:function(){return Qt},F_y:function(){return Ct},GDm:function(){return bi},Gk2:function(){return X},H95:function(){return bt},Hbu:function(){return Ur},HgC:function(){return B},Hn8:function(){return ke},Htt:function(){return pt},Hvk:function(){return or},Im5:function(){return jr},JBw:function(){return ti},JH8:function(){return Rt},Jab:function(){return Di},K2L:function(){return xi},KC9:function(){return I},LMe:function(){return Ir},LPp:function(){return wr},Lfd:function(){return Ve},Ly$:function(){return H},LyQ:function(){return ri},MMo:function(){return Fr},Mjo:function(){return tt},N15:function(){return wt},Nsy:function(){return Hr},Og1:function(){return u},OvK:function(){return xt},Piu:function(){return We},Pro:function(){return vr},Q5S:function(){return e},QBi:function(){return be},Qkf:function(){return qt},RU3:function(){return ve},RfG:function(){return Ri},SuX:function(){return gr},T7R:function(){return Pr},Tei:function(){return Wt},V1H:function(){return le},V3X:function(){return ye},WZm:function(){return Ar},X7L:function(){return P},X9Z:function(){return br},XON:function(){return Kr},XfB:function(){return yr},YBT:function(){return Se},_rP:function(){return ie},a6h:function(){return x},amt:function(){return Jt},b3D:function(){return Vr},bCE:function(){return Ee},d19:function(){return dr},eru:function(){return Yt},f5P:function(){return At},fbs:function(){return Ue},fg8:function(){return L},gEB:function(){return Dr},gOc:function(){return l},hbA:function(){return Ni},heC:function(){return m},iZX:function(){return Ke},ig4:function(){return nt},j5C:function(){return ce},jOG:function(){return F},jkG:function(){return wi},jvW:function(){return Ut},knl:function(){return Ne},l$8:function(){return n},lJ4:function(){return z},l_t:function(){return $e},lm7:function(){return _i},mC$:function(){return g},m_M:function(){return dt},my7:function(){return y},q1S:function(){return Oe},rJV:function(){return pr},spf:function(){return U},uEy:function(){return b},u_F:function(){return fe},vLR:function(){return T},zae:function(){return Rr},zb_:function(){return E},zu$:function(){return te}});var t=r(853811),c="PBI.EX.NewExploration",s=(t.cx[c]=(0,t.b1)(c),"PBI.EX.RefreshReport"),p=t.cx[s]=(0,t.b1)(s),V="PBI.EX.SaveExploration",m=t.cx[V]=(0,t.b1)(V),v="PBI.EX.InteractionVisualConversion",e=t.cx[v]=(0,t.b1)(v),h="PBI.EX.InteractionExpand",n=t.cx[h]=(0,t.b1)(h,{logExpAssignment:!0}),o="PBI.EX.InteractionDrill",u=t.cx[o]=(0,t.b1)(o,{logExpAssignment:!0}),a="PBI.EX.DrillToDetails",l=t.cx[a]=(0,t.b1)(a,{logExpAssignment:!0}),d="PBI.EX.AddFilter",b=t.cx[d]=(0,t.b1)(d),f="PBI.EX.ClearFilter",g=t.cx[f]=(0,t.b1)(f,{logExpAssignment:!0}),S="PBI.EX.RemoveFilter",y=t.cx[S]=(0,t.b1)(S),C="PBI.EX.HideFilter",E=t.cx[C]=(0,t.b1)(C),D="PBI.EX.LockFilter",P=t.cx[D]=(0,t.b1)(D),M="PBI.EX.TogglePaneExpanded",T=t.cx[M]=(0,t.b1)(M),R="PBI.EX.ToggleFilterCardExpanded",B=t.cx[R]=(0,t.b1)(R),N="PBI.EX.ToggleFilterCardSort",x=t.cx[N]=(0,t.b1)(N),A="PBI.EX.FilterPaneAdvancedFilterApplied",I=t.cx[A]=(0,t.b1)(A),w="PBI.EX.FilterPaneTopNFilterApplied",F=t.cx[w]=(0,t.b1)(w),O="PBI.EX.FilterPaneRelativeDateFilterApplied",L=t.cx[O]=(0,t.b1)(O),W="PBI.EX.FilterPaneRelativeTimeFilterApplied",U=t.cx[W]=(0,t.b1)(W),j="PBI.EX.FilterPaneBasicFilterChanged",z=t.cx[j]=(0,t.b1)(j,{logExpAssignment:!0}),G="PBI.EX.FilterPaneFilterDefaultRestored",te=t.cx[G]=(0,t.b1)(G),Q="PBI.EX.FilterPaneFilterCleared",H=t.cx[Q]=(0,t.b1)(Q,{logExpAssignment:!0}),de="PBI.EX.FilterPaneFilterDeleted",Y=t.cx[de]=(0,t.b1)(de),se="PBI.EX.FilterPaneInteraction",ce=t.cx[se]=(0,t.b1)(se,{logExpAssignment:!0}),pe="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",ve=t.cx[pe]=(0,t.b1)(pe,{logExpAssignment:!0}),De="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",We=t.cx[De]=(0,t.b1)(De),je="PBI.EX.ImprovedFilterExperience.ShowRestatement",Ae=t.cx[je]=(0,t.b1)(je,{logExpAssignment:!0}),_e="PBI.EX.LoadFilterError",le=t.cx[_e]=(0,t.b1)(_e),Z="PBI.EX.CreateVisual",ie=t.cx[Z]=(0,t.b1)(Z,{logExpAssignment:!0}),me="PBI.EX.AddField",ye=t.cx[me]=(0,t.b1)(me),oe="PBI.EX.ResolveParameters",X=t.cx[oe]=(0,t.b1)(oe,{logRatio:.001}),ue="PBI.EX.SwitchQueryParameter",Se=t.cx[ue]=(0,t.b1)(ue),Be="PBI.EX.ChangeQuickCalc",Ke=t.cx[Be]=(0,t.b1)(Be),Ze="PBI.EX.SetConditionalFormatting",it=(t.cx[Ze]=(0,t.b1)(Ze),"PBI.EX.SetDataBars"),be=t.cx[it]=(0,t.b1)(it),Fe="PBI.EX.ExplorationRefresh",ee=t.cx[Fe]=(0,t.b1)(Fe),k="PBI.EX.SnapshotEmbedCreate",J=(t.cx[k]=(0,t.b1)(k),"PBI.EX.PublicEmbedCreate"),re=t.cx[J]=(0,t.b1)(J),Ie="PBI.EX.SnapshotEmbedDelete",we=(t.cx[Ie]=(0,t.b1)(Ie),"PBI.EX.SnapshotEmbedUpdate"),Te=(t.cx[we]=(0,t.b1)(we),"PBI.EX.ImportCustomViz"),Oe=t.cx[Te]=(0,t.b1)(Te),Je="PBI.EX.CdnVisualOverride",fe=t.cx[Je]=(0,t.b1)(Je),ne="PBI.EX.DeleteCustomViz",Ne=t.cx[ne]=(0,t.b1)(ne),et="PBI.EX.EnableCustomViz",tt=t.cx[et]=(0,t.b1)(et),xe="PBI.EX.VisualRelationshipOverride",Ve=t.cx[xe]=(0,t.b1)(xe),Le="PBI.EX.CodePaneUserRunScript",ft=(t.cx[Le]=(0,t.b1)(Le),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),Ge=(t.cx[ft]=(0,t.b1)(ft),"PBI.EX.CodePaneUserOpenOptionsDialog"),Xe=(t.cx[Ge]=(0,t.b1)(Ge),"PBI.EX.CodePaneLaunchExternalIDEFailed"),He=(t.cx[Xe]=(0,t.b1)(Xe),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),Mt=(t.cx[He]=(0,t.b1)(He),"PBI.EX.CodePaneShowWarning"),Bt=(t.cx[Mt]=(0,t.b1)(Mt),"PBI.EX.ExportVisualData"),jt=t.cx[Bt]=(0,t.b1)(Bt,{logExpAssignment:!0}),Kt="PBI.EX.LoadReportWithScriptVis",Yt=t.cx[Kt]=(0,t.b1)(Kt),Zt="PBI.ExploreHost.ChangeReportPage",or=t.cx[Zt]=(0,t.b1)(Zt),_r="PBI.EX.RemoveMobileCanvasVisuals",Pr=t.cx[_r]=(0,t.b1)(_r),mt="PBI.EX.AddMobileCanvasVisual",Rt=t.cx[mt]=(0,t.b1)(mt),Xt="PBI.EX.ChangeMobileVisualPosition",dr=t.cx[Xt]=(0,t.b1)(Xt),ar="PBI.EX.LoadReportContainer",gr=t.cx[ar]=(0,t.b1)(ar),Cr="PBI.EX.LoadReportContainerDatasetMissing",pr=t.cx[Cr]=(0,t.b1)(Cr),Br="PBI.EX.InitExploration",Ir=t.cx[Br]=(0,t.b1)(Br),Or="PBI.EX.LoadExplorationVisuals",Kr=t.cx[Or]=(0,t.b1)(Or,{defaultTimeoutSec:60,logExpAssignment:!0}),zr="PBI.EX.VisualContainerChanged",Ur=t.cx[zr]=(0,t.b1)(zr,{logRatio:0}),hr="PBI.EX.RenderExplorationVisual",Rr=t.cx[hr]=(0,t.b1)(hr,{logRatio:.01}),Tt="PBI.EX.FetchExploration",Ut=t.cx[Tt]=(0,t.b1)(Tt),Et="PBI.EX.ChangeCanvasLayout",Ct=t.cx[Et]=(0,t.b1)(Et),Nt="PBI.EX.Clustering.AddClustering",lt=(t.cx[Nt]=(0,t.b1)(Nt),"PBI.EX.Clustering.EditClustering"),yt=(t.cx[lt]=(0,t.b1)(lt),"PBI.EX.QuickMeasures.OpenDialog"),Lt=(t.cx[yt]=(0,t.b1)(yt),"PBI.EX.QuickMeasures.DialogResult"),Gt=(t.cx[Lt]=(0,t.b1)(Lt),"PBI.EX.QuickMeasures.OnMeasureChange"),sr=(t.cx[Gt]=(0,t.b1)(Gt),"PBI.EX.Drillthrough.GotoTarget"),tr=t.cx[sr]=(0,t.b1)(sr,{logExpAssignment:!0}),nr="PBI.EX.Drillthrough.FilterUpdate",Dr=t.cx[nr]=(0,t.b1)(nr),Dt="PBI.EX.RefreshHostData",nt=t.cx[Dt]=(0,t.b1)(Dt),ae="PBI.EX.BookmarkAdd",q=t.cx[ae]=(0,t.b1)(ae),Qe="PBI.EX.BookmarkUpdate",dt=t.cx[Qe]=(0,t.b1)(Qe),Pt="PBI.EX.BookmarkDelete",Qt=t.cx[Pt]=(0,t.b1)(Pt),ir="PBI.EX.BookmarkPlay",yr=t.cx[ir]=(0,t.b1)(ir),ur="PBI.EX.BookmarkApply",wr=t.cx[ur]=(0,t.b1)(ur),Er="PBI.EX.Bookmark.LoadError",Ar=t.cx[Er]=(0,t.b1)(Er),Lr="PBI.EX.CopyPasteSyncGroup",$e=t.cx[Lr]=(0,t.b1)(Lr),gt="PBI.EX.CustomDateTableValidationResult",Ue=t.cx[gt]=(0,t.b1)(gt),Pe="PBI.EX.UpdateActiveSection",ke=t.cx[Pe]=(0,t.b1)(Pe,{defaultTimeoutSec:10}),Ye="PBI.EX.VisualContainerApplyUpdate",pt=t.cx[Ye]=(0,t.b1)(Ye,{logRatio:0}),St="PBI.EX.VisualDataChanged",bt=t.cx[St]=(0,t.b1)(St,{logRatio:0}),vt="PBI.EX.ApplySlicer",At=t.cx[vt]=(0,t.b1)(vt,{logExpAssignment:!0}),zt="PBI.EX.ApplyAllClicked",Jt=t.cx[zt]=(0,t.b1)(zt),$t="PBI.EX.SelectDataPoint",qt=t.cx[$t]=(0,t.b1)($t,{logExpAssignment:!0}),rr="PBI.EX.RefreshSingleVisual",vr=t.cx[rr]=(0,t.b1)(rr),cr="PBI.EX.PerformanceAnalyzerRefreshReport",br=t.cx[cr]=(0,t.b1)(cr),Mr="PBI.EX.PerformanceAnalyzerExportLogs",jr=t.cx[Mr]=(0,t.b1)(Mr),xr="PBI.EX.PerformanceAnalyzerCopyQueries",Fr=t.cx[xr]=(0,t.b1)(xr),Jr="PBI.EX.PerformanceAnalyzerRunDaxyQuery",Hr=t.cx[Jr]=(0,t.b1)(Jr),Ot="PBI.EX.PerformanceAnalyzerStopRecording",Ee=t.cx[Ot]=(0,t.b1)(Ot),Vt="PBI.EX.ThemeDialogClosed",wt=t.cx[Vt]=(0,t.b1)(Vt),rt="PBI.Settings.FavoriteResourcePackages",xt=t.cx[rt]=(0,t.b1)(rt),_t="PBI.Settings.VisualPane",Wt=t.cx[_t]=(0,t.b1)(_t),Ht="PBI.Settings.OutOfBoxVisuals",Vr=t.cx[Ht]=(0,t.b1)(Ht),Tr="PBI.EX.DrillthroughButtonClicked",ti=t.cx[Tr]=(0,t.b1)(Tr),Xr="PBI.EX.SmallMultiplesFirstField",ri=t.cx[Xr]=(0,t.b1)(Xr),ni="PBI.EX.AnalyticsLoadSchemaError",_i=t.cx[ni]=(0,t.b1)(ni),ii="PBI.EX.ExecuteActionCommands",Ci=t.cx[ii]=(0,t.b1)(ii),Ti="PBI.EX.UndefinedTooltipStyleInActionBar",bi=t.cx[Ti]=(0,t.b1)(Ti),Bi="PBI.EX.ActionBarShown",Ui=t.cx[Bi]=(0,t.b1)(Bi),Vi="PBI.EX.ScanModeKeyPressed",xi=t.cx[Vi]=(0,t.b1)(Vi),Ei="PBI.EX.GetInsightsMenuCommand",Di=t.cx[Ei]=(0,t.b1)(Ei),mi="PBI.Sparklines.Delete",Ai=t.cx[mi]=(0,t.b1)(mi),Pi="PBI.CopyVisualImage.EntryPoint",Ni=t.cx[Pi]=(0,t.b1)(Pi),ui="PBI.EX.FontsReadyVisualUpdateTriggered",wi=t.cx[ui]=(0,t.b1)(ui,{logRatio:.01}),ci="PBI.Reflex.OpenTriggerActionFromVisual",Ri=t.cx[ci]=(0,t.b1)(ci)},11011:function(ze,K,r){r.d(K,{s:function(){return d}});var t=r(942983),c=r(989416),i=r(1745),s=r(972817),p=r(298801),V=r(674810),m=r(629925),v=r(787941),e=r(826691),h=r(129035),n=r(668268),o=r(431325),u=r(281469),a=r(456535),l=r(474147),d=function(){function b(){}return b.setScrollWidth=function(f){this.scrollWidth=f},b.fitToWidth=function(f,g,S,y,C,E,D){void 0===E&&(E=!1),null!=f.canvasOptions.overrideSectionAlignment&&(D=f.canvasOptions.overrideSectionAlignment);var P=g.get(0).getBoundingClientRect(),T=this.findParentElement(g,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),R=g.find(".displayAreaViewport").get(0).getBoundingClientRect();if(P.width>R.width){var B=P.width-R.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-B)>.01&&e.f.error("Multiple scroll bar widths detected, ".concat(this.scrollWidth," -> ").concat(B)),this.scrollWidth=B}var N=C.getConfig(),x=2*t.UL,A=P.width-x,I=P.height-x,w=this.getFitToWidthScaledSize(f,A,y),F=g.find(this.DisplayAreaNameSelector.selector),O=1===f.viewModel.canvasLayout;w.height<=I&&!O?(f.canvasViewStyle=2,g.css(m.hK,m.fw).css(m.Rg,m.fw),this.positionElement(F,R,w,D,!0,N.displayOptions.forceCenteredVerticalAlignment)):(w=this.getFitToWidthScaledSize(f,A=P.width-(x=N.displayOptions.scaleBackgroundImageToWidth?t.UL/2+(this.scrollWidth||0):3*t.UL/2+(this.scrollWidth||8)),y,O?t.U+t.KB:0),f.canvasViewStyle=1,g.css(m.hK,m.fw).css(m.Rg,m.K),this.clearElementPosition(F));var L=A/f.viewModel.width,U=this.getWallpaperScale(T,f.viewModel.width,f.viewModel.height,f.canvasOptions.scrollbarOffset,0);if(S.setDisplayAreaScaleFactor(L),S.setWallpaperScaleFactor(U),this.updateCanvasSize(f,w.width,w.height),F.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(f)),this.setElementSize(F,w),!E&&!N.displayOptions.preserveScrollPositionOnResize){var j=!1,z=f.fitToWidthScrollPosition;if(z){var G=f.viewModel&&f.viewModel.contract;G&&G.name===z.sectionName&&G.size&&G.size.width===z.sectionSize.width&&G.size.height===z.sectionSize.height&&(j=!0,g[0].scrollTo({top:z.relativeScroll*L,left:0,behavior:"instant"})),j||(f.fitToWidthScrollPosition=void 0)}j||g[0].scrollTo({top:0,left:0,behavior:"instant"})}},b.getWallpaperScale=function(f,g,S,y,C,E,D){if(0===C)return(f.width-y)/g;var M=S;return E&&D&&(M=E.getConfig().displayOptions.hideTileMenu?f.height:f.height-D),M/S},b.getFitToWidthScaledSize=function(f,g,S,y){void 0===y&&(y=0);var C=g/f.viewModel.width,E=g,D=f.viewModel.height*C+S;if(f.adjustScaleForLayout){var P=f.adjustScaleForLayout({x:C,y:C});if(P.x!==C||P.y!==C){var M=Math.min(P.x,P.y),T=M/C;E*=T,D=(D-S)*T+S,C=M}}return y>0&&(D+=y),{width:E,height:D}},b.fitToPage=function(f,g,S,y,C,E){var D=y.getConfig();null!=f.canvasOptions.overrideSectionAlignment&&(E=f.canvasOptions.overrideSectionAlignment);var M=this.findParentElement(g,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),T=f.outerViewport.width/f.viewModel.width,R=this.getFitToPageScaleY(f,y,C),B=Math.min(T,R),x=this.getWallpaperScale(M,f.viewModel.width,f.viewModel.height,f.canvasOptions.scrollbarOffset,B===T?0:1,y,C);if(f.adjustScaleForLayout){var A=f.adjustScaleForLayout({x:B,y:B});(A.x!==B||A.y!==B)&&(B=Math.min(A.x,A.y))}S.setDisplayAreaScaleFactor(B),S.setWallpaperScaleFactor(x),D.displayOptions.preserveScrollPositionOnResize||g.scrollTop(0).scrollLeft(0);var I=f.viewModel.width*B,w=f.viewModel.height*B+C;f.canvasViewStyle=0,f.canvasViewStyle|=4,g.css(m.hK,m.fw).css(m.Rg,m.fw),this.updateCanvasSize(f,I,w);var F=g.find(this.DisplayAreaNameSelector.selector);F.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(f));var O={width:I,height:w};this.setElementSize(F,O),this.positionElement(F,f.outerViewport,O,E,!1)},b.getFitToPageScaleY=function(f,g,S){var C=g.getConfig().displayOptions.hideTileMenu?f.outerViewport.height:f.outerViewport.height-S;return(C-=this.getCanvasOutlineSize(f,g))/f.viewModel.height},b.findParentElement=function(f,g){if(f)return f.hasClass(g.class)?f:this.findParentElement(f.parent(),g)},b.getVerticalAlignmentSetting=function(f,g,S){var y=f.viewModel&&f.viewModel.contract&&f.viewModel.contract.evaluatedObjects&&f.viewModel.contract.evaluatedObjects.displayArea&&f.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&f.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(y)return c.ab[y];var C=S.getCurrentExploration(),E=C&&C.evaluatedObjects&&C.evaluatedObjects.section&&C.evaluatedObjects.section.verticalAlignment&&C.evaluatedObjects.section.verticalAlignment.toString();return E?c.ab[E]:void 0},b.positionElement=function(f,g,S,y,C,E){var P=null!=g.height&&null!=S.height?(g.height-(E?t.U:0)-S.height)/2:void 0,M=null!=g.width&&null!=S.width?(g.width-S.width)/2:void 0,T={position:"absolute",left:null!=M?"".concat(M,"px"):""};y===c.ab.Top?_.extend(T,{top:null!=P?"".concat(C?t.UL:0,"px"):""}):_.extend(T,{top:null!=P?"".concat(P,"px"):""}),f.css(T)},b.setElementSize=function(f,g){f.css({height:"".concat(g.height,"px"),width:"".concat(g.width,"px")})},b.clearElementPosition=function(f){f.css({position:"",top:"",left:""})},b.clearElementSize=function(f){f.css({height:"",width:""})},b.fitToScreen=function(f,g,S,y){var C=g.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(C),this.clearElementSize(C),f.canvasViewStyle=8,S.setDisplayAreaScaleFactor(1),S.setWallpaperScaleFactor(1),this.updateCanvasSize(f,f.outerViewport.width,f.outerViewport.height),g.css(m.hK,m.fw).css(m.Rg,m.fw),C.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(f))},b.getCanvasActualSize=function(f,g,S){var y=b.getAutoLayoutVisualVCHeader(g,S),C=f.size;return{height:C.height+y,width:C.width}},b.displayInActualSize=function(f,g,S,y,C,E,D){void 0===D&&(D=1),null!=f.canvasOptions.overrideSectionAlignment&&(E=f.canvasOptions.overrideSectionAlignment);var P=g.find(this.DisplayAreaNameSelector.selector),M=f.isCanvasBackdropVisible();f.canvasViewStyle=0;var T=f.viewModel.width*D,R=f.viewModel.height*D+C,B={width:M?u.Co:T,height:M?u.jk:R};B.width>f.outerViewport.width?(f.canvasViewStyle|=512,g.css(m.hK,m.At)):(f.canvasViewStyle|=256,g.css(m.hK,m.fw)),B.height>f.outerViewport.height?(f.canvasViewStyle|=128,g.css(m.Rg,m.At)):(f.canvasViewStyle|=64,g.css(m.Rg,m.fw));var N=f.canvasViewStyle;this.positionElement(P,f.outerViewport,{width:256&N?B.width:void 0,height:64&N?B.height:void 0},E,!0),f.canvasViewStyle|=256&N&&64&N?32:16,this.setElementSize(P,B),y.setDisplayAreaScaleFactor(D),y.setWallpaperScaleFactor(D),this.updateCanvasSize(f,T,R);var A=this.convertDisplayOptionToStyle(f);P.attr("class",this.DisplayAreaNameSelector.class+" "+A),M&&(v.fF.assertValue(S,"canvasBackdrop should exist (hasBackdrop() returned true)"),S.attr("class",this.CanvasBackdropSelector.class+" "+A))},b.displayInActualSizeTopLeft=function(f,g,S,y){var C=g.find(this.DisplayAreaNameSelector.selector);f.canvasViewStyle=0,f.canvasViewStyle|=512,f.canvasViewStyle|=128,f.canvasViewStyle|=16,g.css(m.hK,f.viewModel.width>=f.outerViewport.width?m.At:m.fw),g.css(m.Rg,f.viewModel.height>=f.outerViewport.height?m.At:m.fw),S.setDisplayAreaScaleFactor(1),S.setWallpaperScaleFactor(1);var E=f.viewModel.width,D=f.viewModel.height+y;C.css({width:E+"px",height:D+"px"}),this.updateCanvasSize(f,E,D),C.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(f))},b.updateCanvasSize=function(f,g,S){var y={width:g,height:S};y.width>0&&y.height>0&&(f.size=y)},b.updateAndApplyBackground=function(f,g,S,y,C,E,D,P,M,T,R,B,N){var x;v.fF.assertValue(P,"promiseFactory");var O,L,W,U,j,A=T.getConfig(),I=A.displayOptions.hideOutspaceFormatting,w=1===T.getMode()&&!g.isCanvasBackdropVisible(),F=!!N.get();switch(f){case 1:W=g.outspace=g.outspace||{},L="outspace",O=g.outspaceBackground,U=(0,t.e3)(),j=M.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case 2:W=g.background=g.background||{},L="background",O=g.canvasBackground,U=(0,t.tL)(),j=M.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:v.fF.assertNever(f)}if(j){v.fF.assertValue(W,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var z=y&&y[L],G=W.image;F?(W.color=t.tb,W.transparency=0,W.image=null):z?(W.color=(0,h.y)(z,"color",t.tb),W.transparency=(0,h.N)(z,"transparency",t.nW),W.image=z.image):this.setDefaultBackgroundProperties(W,U);var te=W.image;(null==te?void 0:te.name)!==(null==G?void 0:G.name)&&(null===(x=g.backgroundImageChanging)||void 0===x||x.call(g,f));var H=(0,n.my)(g.viewModel.contract.objects,L,null),de=H&&H.properties.image;de&&(0,a.MI)(de.url)?this.setImageFromPackage(g,O,W,te,de.url,H,E,D,P,B,w,R,I,f,F):this.setImage(O,W,te,te?te.url:"",F,B,w,R,I,f,g)}else this.setDefaultBackgroundProperties(W,U),this.setImage(O,U,null,"",F,B,w,R,I,f,g);2===f&&S.css(T&&A.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,s.cD)(W.color,(100-W.transparency)/100)}:{"background-color":""})},b.setDefaultBackgroundProperties=function(f,g){f.color=g.color,f.image=g.image,f.transparency=g.transparency},b.setImage=function(f,g,S,y,C,E,D,P,M,T,R){var B,N=S&&S.scaling,x=C?1:(100-g.transparency)/100,A=S&&y;if(A!==f.imageSource&&(f.imageSource=A,null===(B=R.backgroundImageChanged)||void 0===B||B.call(R,T)),f.imageFitClass=N,f.imageStyle=N===V.C.normal?{transform:"scale("+E.getWallpaperScaleFactor()+")"}:{},f.backgroundStyle||(f.backgroundStyle={}),f.backgroundStyle.opacity=x,f.backgroundStyle["background-color"]=M&&1===T?"transparent":(0,s.cD)(g.color),2===T){var I=p.v.getThemeColor(P,"foregroundNeutralSecondary");f.displayAreaStyle||(f.displayAreaStyle={}),f.displayAreaStyle["box-shadow"]=M?"0 0 0":"0 0 10px rgba(200,200,200,".concat(x,")"),f.displayAreaStyle.outline=D&&x<=.5?"2px dotted ".concat(I):"none",f.imageStyle=N===V.C.normal?{transform:"scale("+E.getDisplayAreaScaleFactor()+")"}:{}}},b.setImageFromPackage=function(f,g,S,y,C,E,D,P,M,T,R,B,N,x,A){var I=this;void 0===N&&(N=!1),v.fF.assertValue(M,"promiseFactory");var w=P.getCurrentExploration();if(w){var F=f.viewModel.contract;(0,o.yl)(C,w.resourcePackages,D,M).then(function(O){var L=E.properties.image;F===f.viewModel.contract&&L&&(0,l.fS)(L.url,C)&&I.setImage(g,S,y,O.value||"",A,T,R,B,N,x,f)})}},b.setDisplayAreaBackground=function(f,g,S){if(g&&g.outspace)f.canvasBackground.displayAreaStyle&&delete f.canvasBackground.displayAreaStyle["background-color"];else{f.canvasBackground.displayAreaStyle||(f.canvasBackground.displayAreaStyle={});var C=p.v.getThemeColor(S,"background");f.canvasBackground.displayAreaStyle["background-color"]=C}},b.convertDisplayOptionToStyle=function(f){var g="";return f.useResponsiveLayout&&(g+=" responsive"),f.disableAnimations&&(g+=" disableAnimations"),8==(8&f.canvasViewStyle)&&(g+=" fitToScreen"),4==(4&f.canvasViewStyle)&&(g+=" fitToPage"),1==(1&f.canvasViewStyle)&&(g+=" fitToWidthOrigin"),2==(2&f.canvasViewStyle)&&(g+=" fitToWidthCentered"),256==(256&f.canvasViewStyle)&&(g+=" actualSizeAlignCenter"),512==(512&f.canvasViewStyle)&&(g+=" actualSizeAlignLeft"),64==(64&f.canvasViewStyle)&&(g+=" actualSizeAlignMiddle"),128==(128&f.canvasViewStyle)&&(g+=" actualSizeAlignTop"),32==(32&f.canvasViewStyle)&&(g+=" actualSizeCentered"),16==(16&f.canvasViewStyle)&&(g+=" actualSizeOrigin"),g.trim()},b.getAutoLayoutVisualVCHeader=function(f,g){return g&&g.getCapabilities().visualContainerOptions.useStylableHeader||f&&f.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:u.BB},b.getCanvasOutlineSize=function(f,g){if(1===g.getMode()){var S=f.background&&f.background.transparency;if(S&&S>=u.$j)return u.qD}return 0},b.applyFitOption=function(f,g,S,y,C,E){if(f.viewModel&&f.viewModel.contract){var D=g.find(this.DisplayAreaContainerNameSelector.selector),P=this.findParentElement(g,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),M=S.canvasScale.getDisplayOption();2!==M&&(f.fitToWidthScrollPosition=void 0);var T=f.viewModel.contract.name,R=f.lastApplyFitContext;R&&(M!==R.displayOption||T!==R.sectionName)&&D[0].scrollTo({top:0,left:0,behavior:"instant"}),f.lastApplyFitContext={displayOption:M,sectionName:T};var B=this.getAutoLayoutVisualVCHeader(S.formFactor,S.explorationCapabilities);switch(M){case 2:this.fitToWidth(f,D,S.canvasScale,B,S.viewModeState,E,y);break;case 1:this.fitToPage(f,D,S.canvasScale,S.viewModeState,B,y);break;case 3:this.displayInActualSize(f,D,P,S.canvasScale,B,y,C);break;case 4:this.displayInActualSizeTopLeft(f,D,S.canvasScale,B);break;default:this.fitToScreen(f,D,S.canvasScale,B)}S.eventBridge.publishToChannel(i.ubE)}},b.storeOverflowValuesAndChange=function(f,g){this.currentOverflowXCSSValue=f.css(m.hK),this.currentOverflowYCSSValue=f.css(m.Rg),f.css(m.hK,g),f.css(m.Rg,g)},b.restoreOverflowValues=function(f){f.css(m.hK,this.currentOverflowXCSSValue),f.css(m.Rg,this.currentOverflowYCSSValue)},b.visualPositionToRect=function(f){return{left:f.x,top:f.y,width:f.width,height:f.height}},b.rectToVisualPosition=function(f){return{x:f.left,y:f.top,width:f.width,height:f.height}},b.isCortanaPageSize=function(f){return!1},b.DisplayAreaNameSelector=(0,m.CH)("displayArea"),b.DisplayAreaContainerNameSelector=(0,m.CH)("displayAreaContainer"),b.VisualContainerHostSelector=(0,m.CH)("visualContainerHost"),b.OutspaceContainerSelector=(0,m.CH)("outspaceContainer"),b.OutspaceImageSelector=(0,m.CH)("outspaceImage"),b.VisualBackgroundContainerSelector=(0,m.CH)("visualBackgroundContainer"),b.VisualBackgroundImageSelector=(0,m.CH)("visualBackgroundImage"),b.DefaultVisualPosition={x:100,y:100,width:300,height:300},b.CanvasBackdropSelector=(0,m.CH)("canvasBackdrop"),b.ExploreCanvasSelector=(0,m.CH)("exploreCanvas"),b.currentOverflowXCSSValue="",b.currentOverflowYCSSValue="",b}()},568656:function(ze,K,r){r.d(K,{L0:function(){return V},vW:function(){return p},x_:function(){return v},zo:function(){return s},zq:function(){return m}});var t=r(456535),c=r(668268),i=r(249276);function s(e,h,n){var o=n&&n[e],u=i.di;if(o)return o.hasOwnProperty(u)&&!o[u];var a=(0,c.NA)(h,{objectName:e,propertyName:u},null);return void 0!==a&&(0,t.VC)(a)&&!a.value}function p(e,h,n){var o={x:e.x*h.x,y:e.y*h.y,z:e.z,width:e.width*h.x,height:e.height*h.y,angle:e.angle,tabOrder:e.tabOrder};if(!0===n){var u=Math.round(o.x),a=Math.round(o.y),l=Math.round(o.x+o.width),d=Math.round(o.y+o.height);o={x:u,y:a,z:o.z,width:l-u,height:d-a,angle:e.angle,tabOrder:e.tabOrder}}return o}function V(e,h){return{x:e.x/h.x,y:e.y/h.y,z:e.z,width:e.width/h.x,height:e.height/h.y,angle:e.angle,tabOrder:e.tabOrder}}function m(e,h){return{left:e.left*h.x,top:e.top*h.y,width:e.width*h.x,height:e.height*h.y}}function v(e,h){return{left:e.left/h.x,top:e.top/h.y,width:e.width/h.x,height:e.height/h.y}}},226278:function(ze,K,r){r.d(K,{Dg:function(){return Z},F2:function(){return I},FK:function(){return D},JQ:function(){return H},Mt:function(){return Q},N$:function(){return R},P:function(){return ve},SQ:function(){return w},V3:function(){return E},Vg:function(){return F},Xf:function(){return W},Xt:function(){return me},bo:function(){return pe},bt:function(){return le},cV:function(){return ie},e2:function(){return N},eR:function(){return P},gO:function(){return A},lJ:function(){return _e},lN:function(){return Y},nG:function(){return T},yz:function(){return M},zT:function(){return z}});var t=r(226514),c=r(942983),i=r(505876),s=r(273139),p=r(792253),V=r(555161),m=r(67093),v=r(57018),e=r(809395),h=r(35801),n=r(670663),o=r(883863),u=r(787941),a=r(299747),l=r(932178),d=r(668268),b=r(967908),f=r(548556),g=r(803847),S=r(767024),y=r(149292);function E(ye,oe){var X=V.UP.getSelectedCanvasItems(oe);return P(ye.visualContainerGroups,X)}function D(ye,oe){for(var X=0,ue=ye;X<ue.length;X++){var Se=ue[X];if(Se.contract===oe)return Se}}function P(ye,oe){for(var X={},ue=0,Se=oe;ue<Se.length;ue++)X[Se[ue].name]=!0;var Ke=[];(0,S.Iw)(ye,function(qe){X[qe.name]&&Ke.push(qe)});var Ze=function(it){return _.findIndex(oe,function(be){return be.name===it.name})};return Ke.sort(function(qe,it){return Ze(qe)-Ze(it)}),Ke}function M(ye,oe){u.fF.assert(function(){return ye.length===oe.length},"lists of viewModels and contracts should be the same length");for(var X=function(Ze){var qe=(0,n.sE)(Ze.name,oe);if(!qe)return u.fF.assertValue(qe,"contract with the same name should exist"),"continue";(0,S.q4)(Ze)&&(0,s.q4)(qe)&&(Ze.contract!==qe&&(u.fF.assert(function(){return Ze.contract.name===qe.name},"should be the same contract with same name"),Ze.contract=qe),M(Ze.children,qe.children))},ue=0,Se=ye;ue<Se.length;ue++)X(Se[ue])}function T(ye,oe){if(oe.parentGroup)for(var X=oe.parentGroup;X;){var ue=X.position;ye.left+=ue.x,ye.top+=ue.y,X=X.parentGroup}return ye}function R(ye){var oe=0;if(_.isEmpty(ye))return oe;if(ye[0].parentGroup)for(var X=ye[0].parentGroup;X;)oe++,X=X.parentGroup;return B(ye,oe)}function B(ye,oe){for(var X=++oe,ue=0,Se=ye;ue<Se.length;ue++){var Be=Se[ue];(0,s.q4)(Be)&&(X=Math.max(B(Be.children,oe),X))}return X}function N(ye,oe,X,ue,Se){var Be;ue.hideAllDropdowns(),(0,y.n)(ye);var Ke=l.M.isCtrlOrMeta(ye),Ze=V.UP.isCanvasItemSelected(oe.contract,X);if(Ke&&Ze&&V.UP.getSelectedCanvasItems(X).length>1)V.UP.unselectCanvasItem(oe.contract,X);else{if(!Se){var qe=I(oe);return qe.parentGroup&&qe.parentGroup.isSelected&&V.UP.unselectCanvasItem(qe.parentGroup.contract,X),V.UP.selectCanvasItem(qe.contract,X,(0,l.D)(ye)),void(null===(Be=function(ye,oe){return $(ye).parents('[name="'.concat(oe,'"]:first'))[0]}(ye.currentTarget,qe.contract.name))||void 0===Be||Be.focus())}V.UP.selectCanvasItem(oe.contract,X,(0,l.D)(ye))}}function A(ye,oe,X){if(ye.parentGroup)if(oe){var Se=I(ye);Se!==ye&&(0,e.vz)(oe,Se.name,X)}else for(var ue=ye.parentGroup;ue;)(0,e.vz)(oe,ue.name,X),ue=ue.parentGroup}function I(ye,oe){void 0===oe&&(oe=!1);for(var X=ye.parentGroup,ue=ye;X;){if(X.isSelected||X.isChildSelected){oe&&X.isSelected&&(ue=X);break}ue=X,X=X.parentGroup}return ue}function w(ye,oe){V.UP.isCanvasItemSelected(ye,oe)||V.UP.selectCanvasItem(ye,oe)}function F(ye,oe,X,ue){void 0===ue&&(ue=!0);var Se=[];return G(oe.getSelectedElements(),ue,function(Ke){if((0,s.q4)(Ke))Se.push(ye.serializeVisualContainerGroup(Ke));else{var Ze=function(ye,oe){return ye.filters?function(ye,oe){var X=(0,o.UU)(ye.filters,function(ue){return function(ye,oe){var X=ye.filter;if((ye.type===i.vA.Include||ye.type===i.vA.Exclude)&&X){var ue=X.rewrite(oe);if(ue!==X)return(0,a.ED)(ye,function(Se){return Se.filter=ue})}return ye}(ue,oe)});return X!==ye.filters?(0,a.ED)(ye,function(ue){return ue.filters=X}):ye}(ye,new v.L(oe)):ye}(Ke,X);Se.push(ye.serializeVisualContainer(Ze))}}),Se}function W(ye,oe,X,ue,Se,Be){var Ke=ye.objects,Ze=Se.getVisualObjects(ue,X,void 0,oe);Ze&&(Ke=(0,d.d9)(Ke||{}),(0,d.l7)(Ke,Ze));var qe=Se.getVisualStyle(ue),it=(0,b.G3)(Ke,oe,qe,Be.featureSwitches);ye.evaluatedObjects=it.dataViewObjects}function z(ye,oe,X){void 0===X&&(X=!0);var ue={};return G(ye.getSelectedElements(),X,function(Ke){var Ze;(0,s.Vz)(Ze=Ke)&&(0,m.WP)(Ze.config.singleVisual.objects,void 0,oe,ue)}),ue}function G(ye,oe,X){if(!_.isEmpty(ye)){for(var ue=oe&&[],Se=0,Be=ye;Se<Be.length;Se++){var Ze=Be[Se].canvasItem;Ze&&(oe&&(0,s.q4)(Ze)?ue.push(Ze):X(Ze))}oe&&!_.isEmpty(ue)&&(0,s.Iw)(ue,function(qe){return X(qe)})}}function Q(ye,oe,X,ue,Se,Be,Ke,Ze,qe,it){return _.first(H([ye],oe,X,ue,Se,Be,Ke,Ze,qe,it))}function H(ye,oe,X,ue,Se,Be,Ke,Ze,qe,it){var be,Fe;if(ye){var ee={},k=!!Ke,Ce=X.size,J=it?X.visualContainerGroups:X.visualContainers,re=_.flatMap(oe.sections,function(ht){return it?ht.visualContainerGroups:ht.visualContainers}),Ie=[],ot=Se.getCurrentLayout();(0,s.Iw)(J,function(ht){if(null==ht.parentGroup){var Ge=ht.layouts.withId(ot);Ie.push(Ge.position)}}),(0,s.Iw)(re,function(ht){ee[ht.name]=!0});var we=ue.deserializeCanvasItems(ye,!0,it,function(){var ht=(0,e.vr)(ee);return u.fF.assert(function(){return!ee[ht]},"New name already exists"),ee[ht]=!0,ht});if(we){var he=we.visualContainerGroups,Te=we.visualContainers,Oe=function(ye,oe,X,ue){var Se=ve(ye,oe),Be=_.orderBy(X,function(Ke){return Ke.config.layouts[oe].position.z},["asc"]);return Be.reduce(function(Ke,Ze){var qe,it=Ze.config,be=it.name,ee=!!it.parentGroupName;return(0,t.__assign)((0,t.__assign)({},Ke),((qe={})[be]=ee&&ue?null:Se++,qe))},{})}(J,ot,ye,it),Je=function(ye,oe,X){var ue=function(ye,oe){var X=0,ue=0;if(_.isEmpty(ye))return{pos:X,neg:ue};for(var Se=0,Be=ye;Se<Be.length;Se++){var Ze=Be[Se].layouts.withId(oe),qe=Ze&&Ze.position,it=qe&&null!=qe.tabOrder?qe.tabOrder:void 0;null!=it&&(X=Math.max(X,it),ue=Math.min(ue,it))}return{pos:X+1,neg:ue-1}}(ye,oe),Se=_.orderBy(X,function(Be){return Be.config.layouts[oe].position.tabOrder},["asc"]);return Se.reduce(function(Be,Ke){var Ze,qe=Ke.config,it=qe.name,ee=qe.layouts[oe].position,k=ee.tabOrder>=0;return(0,t.__assign)((0,t.__assign)({},Be),((Ze={})[it]=null!=ee.tabOrder?k?ue.pos++:ue.neg--:null,Ze))},{})}(X.visualContainers,ot,ye),fe=(0,o.UR)(),ne=[],Ne=function(Ge){var Me=Ge.prevName,He=null!=Ge.parentGroup,ct=Ge.layouts.withId(ot),Mt=ct.position;if(u.fF.assert(function(){return it||(0,s.Vz)(Ge)},"Should not be processing groups when grouping is disabled"),(!He||!it)&&(Me&&!_.isNil(Oe[Me])&&(Mt.z=Oe[Me]),ne.push(Ge)),Me&&!_.isNil(Je[Me])&&null!=Mt.tabOrder&&(0,s.Vz)(Ge)&&(Mt.tabOrder=Je[Me]),!He){for(;2!==de(Mt,Ce)&&ce(Mt,Ie);)Mt.x+=10,Mt.y+=10;Ie.push(Mt)}if(Ge.layouts=(0,o.Br)([ct]),k&&(0,s.Vz)(Ge)){var It=(0,g.Dz)(oe,X,Ge,ot);fe.push(It)}};if(it)(0,s.Iw)(he,function(ht){return Ne(ht)});else for(var et=0,tt=Te;et<tt.length;et++)Ne(tt[et]);if((be=X.visualContainers).push.apply(be,Te||[]),k&&(Fe=Ke.visualContainers).push.apply(Fe,fe||[]),it){if(X.visualContainerGroups=n.IH.apply(void 0,(0,t.__spreadArray)([X.visualContainerGroups],he||[],!1)),k){var Ve=(0,g.C)(he,fe,ot);Ke.visualContainerGroups=n.IH.apply(void 0,(0,t.__spreadArray)([Ke.visualContainerGroups],Ve||[],!1))}}else X.visualContainerGroups=n.IH.apply(void 0,(0,t.__spreadArray)([X.visualContainerGroups],Te||[],!1)),k&&(Ke.visualContainerGroups=n.IH.apply(void 0,(0,t.__spreadArray)([Ke.visualContainerGroups],fe||[],!1)));if(Be.publishVisualContainerAddedEvent(),Ze&&V.UP.selectCanvasItems(ne,Ze,!0),qe)for(var Le=0,at=ne;Le<at.length;Le++){var ft=at[Le];(0,s.Vz)(ft)&&qe.applyFilterOutput(ft)}return ne}}}function de(ye,oe){var X=oe.width||0,ue=oe.height||0,Se=0;return ye.x+ye.width>X&&(ye.x=Math.max(X-ye.width,0),Se++),ye.y+ye.height>ue&&(ye.y=Math.max(ue-ye.height,0),Se++),Se}function Y(ye,oe,X,ue,Se,Be){var Ke;return(0,t.__awaiter)(this,void 0,void 0,function(){var Ze;return(0,t.__generator)(this,function(qe){switch(qe.label){case 0:return ye.expr?[3,1]:(Ze=Se.addEmptyVisualContainer(oe,X,ye.visualType,ye.position,ye.shouldSummarize,void 0,void 0,ye.startAuthoringAfterAddition),[3,3]);case 1:return[4,Se.addVisualContainer({expr:ye.expr,visualType:ye.visualType,targetRole:ye.targetRole,dataSources:ue,allowAggregate:null===(Ke=ye.allowAggregate)||void 0===Ke||Ke,shouldSummarize:ye.shouldSummarize,startAuthoringAfterAddition:ye.startAuthoringAfterAddition},oe,X)];case 2:Ze=qe.sent(),qe.label=3;case 3:return Be.logEvent(f._rP,{source:se(ye.telemetrySource),visualType:(0,h.s)(Ze),visualName:Ze.name}),[2,Ze]}})})}function se(ye){switch(ye){case 0:return"CheckboxTickedInFieldList";case 3:return"DraggedToFieldWell";case 1:return"DraggedToCanvas";case 2:return"VisualTypeIconClicked";case 4:return"InsertVisualButton";case 5:return"WhatIfParameterControl";case 8:return"QnaAppBar";case 6:return"QnaDoubleClick";case 7:return"QnaKeyboardShortcut";case 9:return"FieldParameterControl";case 10:return"CanvasBackgroundContextMenu";case 11:return"AssistedCreation";case 12:return"Copilot";default:u.fF.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function ce(ye,oe){return u.fF.assertValue(ye,"position"),_.some(oe,function(X){return ye.x===X.x&&ye.y===X.y})}function pe(ye,oe,X){return{height:0,width:0,x:0,y:0,z:ve(ye,oe),tabOrder:Ae(X,!0,oe)}}function ve(ye,oe){return _.isEmpty(ye)?0:_.chain(ye).map(function(ue){var Se=ue.layouts.withId(oe),Be=Se&&Se.position;return Be&&Be.z||0}).max().value()+1}function Ae(ye,oe,X){if(!ye||_.isEmpty(ye.visualContainers))return 0;var ue=oe?p.yM:p.ox;return _.forEach(ye.visualContainers,function(Se){var Be=Se.layouts.withId(X),Ke=Be&&Be.position;if(Ke&&Ke.tabOrder){var Ze=Ke.tabOrder;ue=oe?Math.max(ue,Ze):Math.min(ue,Ze)}}),ue+(oe?1:-1)}function _e(ye,oe,X){for(var ue=0,Se=0,Be=0,Ke=0,Ze=null,qe=0,it=0,be=X.length;it<be;it++)if(qe=it,(Fe=X[it])===ye){var k=(ee=Fe.parentGroup)&&ee.layouts.withId(oe);ee=k?ee:void 0,Ze=(0,e.hP)(le(Fe,oe),oe,ee);break}if(Ze){X.splice(qe,1);for(var Ce=0,J=X;Ce<J.length;Ce++){var Fe,ee;k=(ee=(Fe=J[Ce]).parentGroup)&&ee.layouts.withId(oe),ee=k?ee:void 0;var re=(0,e.hP)(le(Fe,oe),oe,ee),Ie=Ze.x-re.x;ue=ue<Ie?Ie:ue,Se=Se<(Ie=re.y+re.height-(Ze.y+Ze.height))?Ie:Se,Be=Be<(Ie=Ze.y-re.y)?Ie:Be,Ke=Ke<(Ie=re.x+re.width-(Ze.x+Ze.width))?Ie:Ke}return{top:0-(Be>0?Be/Ze.height:0),left:0-(ue>0?ue/Ze.width:0),bottom:1+(Se>0?Se/Ze.height:0),right:1+(Ke>0?Ke/Ze.width:0)}}}function le(ye,oe){var X=ye.layouts.withId(oe);return u.fF.assertValue(X,"Can't find a visual layout for the current form factor."),X&&X.position}function Z(ye){for(var X={},ue=0,Se=V.UP.getSelectedCanvasItems(ye);ue<Se.length;ue++){var Be=Se[ue],Ke=Be.parentGroup?Be.parentGroup.name:"root";X[Ke]=X[Ke]||[],X[Ke].push(Be)}return X}function ie(ye,oe){return _.filter(ye,function(ue){var Se=le(ue,0).tabOrder;return oe?void 0===Se||Se>=0:Se&&Se<0})}function me(ye){var oe=ye.getCurrentSection();return oe&&oe.evaluatedObjects&&oe.evaluatedObjects.outspacePane&&oe.evaluatedObjects.outspacePane.width||c.vg}},287625:function(ze,K,r){r.d(K,{CZ:function(){return o},IA:function(){return e},MM:function(){return a},QZ:function(){return h},XB:function(){return n},_1:function(){return u},vX:function(){return p},xK:function(){return V},yY:function(){return m},zB:function(){return v}});var t=r(210683),c=r(787941),i=r(324356),s=r(655981);function p(l){return{solid:{color:V(l,(0,t.d9)())}}}function V(l,d){c.fF.assertValue(d,"gradientSettings");var f,S,y,b={color:(0,i.$_)(d.minColor,"minColor")},g=d.minValue;if(null!=g&&(f=(0,i.tx)(g)),d.diverging){S={color:(0,i.$_)(d.midColor,"midColor")};var C=d.midValue;null!=C&&(y=(0,i.tx)(C))}var D,E={color:(0,i.$_)(d.maxColor,"maxColor")},P=d.maxValue;null!=P&&(D=(0,i.tx)(P));var B,M=d.nullStrategy,T=d.nullColor,R={};return B=d.diverging?R.linearGradient3={min:b,mid:S,max:E}:R.linearGradient2={min:b,max:E},f&&(B.min.value=f),y&&(B.mid.value=y),D&&(B.max.value=D),M&&(B.nullColoringStrategy={strategy:(0,i.fL)(M)},M===s.Sx&&(B.nullColoringStrategy.color=(0,i.$_)(T,"nullColor"))),(0,i.x5)(l,R)}function m(l,d,b){var f;switch(b){case"number":f={condition:(0,i.qu)(3,l,(0,i.tx)(0)),value:(0,i.fL)(d)};break;case"text":f={condition:(0,i.qu)(0,l,(0,i.fL)("")),value:(0,i.fL)(d)};break;default:c.fF.assertNever(b)}return{solid:{color:(0,i.u7)([f])}}}var v="CircleHigh",e="Before",h="Top";function n(l,d){switch(void 0===d&&(d="number"),d){case"number":return{kind:"Icon",value:(0,i.u7)([o(l,67,100,!0,(0,i.fL)("CircleHigh")),o(l,33,67,!1,(0,i.fL)("SignMedium")),o(l,0,33,!1,(0,i.fL)("SignLow"))]),layout:(0,i.fL)(e),verticalAlignment:(0,i.fL)(h)};case"text":return{kind:"Icon",value:(0,i.u7)([u(l,(0,i.fL)("CircleHigh")),u(l,(0,i.fL)("SignMedium")),u(l,(0,i.fL)("SignLow"))]),layout:(0,i.fL)(e),verticalAlignment:(0,i.fL)(h)};default:c.fF.assertNever(d)}}function o(l,d,b,f,g){var S,y;return d>0&&(S=(0,i.qu)(2,l,i.LE.overRangeOf(l,d/100))),b<100&&(y=(0,i.qu)(f?4:3,l,i.LE.overRangeOf(l,b/100))),{condition:S&&y?(0,i.xD)(S,y):S||y,value:g}}function u(l,d){return{condition:(0,i.qu)(0,l,(0,i.fL)("")),value:d}}function a(l,d,b,f,g){var S,y;return null!==d&&(S=(0,i.qu)(2,l,(0,i.tx)(d))),null!==b&&(y=(0,i.qu)(f?4:3,l,(0,i.tx)(b))),{condition:S&&y?(0,i.xD)(S,y):S||y,value:g}}},810429:function(ze,K,r){r.d(K,{L6:function(){return e},aI:function(){return v},ac:function(){return o},dw:function(){return a},uz:function(){return n}});var t=r(29436),c=r(177497),i=r(787941),s=r(324356),p=r(615419),V=r(592042),m={totalMatchingOption:1,reverseDirection:!1,hideText:!1};function v(d,b){return i.fF.assertValue(d,"visual"),i.fF.assertValue(b,"repetition"),e(u(d.objects,b))}function e(d){if(!d)return m;var b,f=d.minValue;f&&(b=f.value);var g,S=d.maxValue;S&&(g=S.value);var y=1,C=d.totalMatchingOption;return C&&(y=C.value),{minValue:b,maxValue:g,positiveColor:h(d.positiveColor),negativeColor:h(d.negativeColor),axisColor:h(d.axisColor),reverseDirection:d.reverseDirection.value,hideText:d.hideText.value,totalMatchingOption:y}}function h(d){var b=d.solid.color;return(0,c.A7)(b.value)?{solid:{color:b.value}}:null}function n(){return o(m,V.Ge.fromPrimitiveTypeAndCategory(12))}function o(d,b){var f,g,S;return i.fF.assertValue(d,"dataBars"),i.fF.assertValue(b,"valueType"),void 0!==d.minValue&&(f=l(d.minValue,b)),void 0!==d.maxValue&&(g=l(d.maxValue,b)),void 0!==d.totalMatchingOption&&(S=(0,s.cA)(d.totalMatchingOption)),{minValue:f,maxValue:g,positiveColor:(0,p.EV)(d.positiveColor&&d.positiveColor.solid.color,"maxColor"),negativeColor:(0,p.EV)(d.negativeColor&&d.negativeColor.solid.color,"minColor"),axisColor:(0,p.EV)(d.axisColor&&d.axisColor.solid.color,"foreground"),reverseDirection:(0,s.O7)(d.reverseDirection),hideText:(0,s.O7)(d.hideText),totalMatchingOption:S}}function u(d,b){return i.fF.assertValue(b,"objectRepetition"),(0,t.OT)(d,b)}function a(d,b){return i.fF.assertValue(b,"objectRepetition"),void 0!==u(d,b)}function l(d,b){if(i.fF.assert(function(){return b.integer||b.numeric},"databars only supports numeric SQExprs"),b.integer){var f=Math.round(d);return(0,s.cA)(f)}return 2===b.primitiveType?(0,s.gH)(d):(i.fF.assert(function(){return 259===b.extendedType},"Unexpected data type."),(0,s.tx)(d))}},262631:function(ze,K,r){r.d(K,{O6:function(){return s},UX:function(){return p},fe:function(){return i},jx:function(){return c}});var t={BlockedCustomVisual:1,ScriptVisualsNotEnabled:1,UnapprovedCustomVisual:1,CvApiVersionNotSupported:1,AzureMapUserNotSignedIn:1,AzureMapNoEndpoint:1,AzureMapDisabledLocalCache:1};function c(V){if(!V)return!1;var m=V.displayableErrorInfo;return!_.isEmpty(m)&&!_.isEmpty(m[0].errorInfoKey)&&!_.isEmpty(m[0].errorInfoValue)}function i(V){return V in t?t[V]:0}function s(V){return 1===i(V)}function p(V,m){var v=[],e=V.message,h=m;if(c(V)&&(h=V.displayableErrorInfo[0].errorInfoKey,e=V.displayableErrorInfo[0].errorInfoValue,V.displayableErrorInfo.length>1))for(var n=1;n<V.displayableErrorInfo.length;n++)v.push(V.displayableErrorInfo[n]);return{title:h,message:e,displayableErrorInfo:v,debugErrorInfo:V.debugErrorInfo,source:V.source,hideErrorHelperText:V.hideErrorHelperText}}},149292:function(ze,K,r){function t(i){var s;if(i){var m=(null!==(s=i.originalEvent)&&void 0!==s?s:i).handled;return void 0!==m&&!0===m}}function c(i){var s;i&&((null!==(s=i.originalEvent)&&void 0!==s?s:i).handled=!0)}r.d(K,{n:function(){return c},q:function(){return t}})},454012:function(ze,K,r){r.d(K,{O:function(){return V},Q3:function(){return s},QR:function(){return p},UO:function(){return e},_A:function(){return m},ku:function(){return v}});var t=r(505876),c=r(787941),i=r(548556);function s(h,n,o,u){var a=_.filter(o.filters,function(l){return 5===l.howCreated});h.logChildEvent(u&&u.event,i.gEB,{type:n,countOfCurrentPageDrillthroughFilters:a.length})}function p(h){var n;switch(h&&(n=h.kind),n){case 0:return"Entity";case 2:return"ColumnRef";case 3:return"MeasureRef";case 4:return"Aggregation";case 5:return"PropertyVariationSource";case 6:return"Hierarchy";case 7:return"HierarchyLevel";case 46:return"Sparkline";case 47:return"VisualCalculation";default:return"Other"}}function V(h){switch(h){case t.vA.Advanced:return"Advanced";case t.vA.Categorical:return"Categorical";case t.vA.Passthrough:return"Passthrough";case t.vA.Range:return"Range";case t.vA.Visual:return"Visual";default:c.fF.assert(function(){return!0},"unknown filterType "+h)}}function m(h){switch(h){case 2:return"Exploration";case 1:return"Section";case 0:return"Visual";default:c.fF.assert(function(){return!0},"unknown filterScopeType "+h)}}function v(h){switch(h){case 0:return"View";case 1:return"Edit"}}function e(h){switch(h){case 1:return"Ascending";case 2:return"Descending";case 3:return"Custom"}}},427255:function(ze,K,r){r.d(K,{CH:function(){return b},HD:function(){return g},JH:function(){return E},JN:function(){return l},PJ:function(){return d},Rh:function(){return C},Z:function(){return u},eW:function(){return a},ku:function(){return y},uE:function(){return S}});var t=r(226514),c=r(1745),i=r(555161),s=r(156319),p=r(647863),V=r(899027),m=r(809395),v=r(135487),e=r(787941),h=r(690016),n=r(10102),o=r(803847);function u(T,R,B,N,x,A){if(2===T.scope.scopeType&&(e.fF.assertValue(B,"no exploration on report filter change"),(0,m.oU)(B)),1===T.changeType||2===T.changeType&&!function(T,R){for(var B=0,N=R;B<N.length;B++)if(N[B].contract===T)return!0;return!1}(T.filter,R)){var I=(0,m.cj)(A,N.visualPlugin),w=(0,n.fw)(T.filter,x,N.displayNameService,T.scope,N.visualPlugin,N.aggrOps,N.localizationService,I,A&&A.config.singleVisual);g(w,N.explorationNavigation),0===T.scope.scopeType&&T.scope.container!==A||(R.push(w),b(R,x,N.dataSources,N.visualAuthoring))}else 0===T.changeType&&_.remove(R,function(F){return F.contract===T.filter});!function(T,R){var B=T.explorationNavigation,N=B.getCurrentExploration(),x=B.getCurrentSection(),A=R.scope.scopeType,I=i.UP.getSelectedVisual(T.selection),w=(0,V.R2)(A,N,x,I,T.scriptVisuals);if(!_.isEmpty(w)){var F=R.changeType.toString();T.telemetryService.logChildEvent(R.parentActivity&&R.parentActivity.event,v.bD,{action:F,visualIds:JSON.stringify(w)})}}(N,T)}function a(T,R,B,N,x,A,I,w,F){return T.displayName?T.displayName:(0,n.fw)(T,B,x,R,I,N,A,w,F).displayName}function l(T,R){return(0,t.__awaiter)(this,void 0,void 0,function(){var B,N,x;return(0,t.__generator)(this,function(A){switch(A.label){case 0:return B=T.explorationNavigation.getCurrentSection(),N=[],B?[4,d(T.dataSources,T.conceptualSchemaProxy)]:[2,N];case 1:return x=A.sent(),b(N=(0,o.yU)({scopeType:1,container:B},x,T.displayNameService,T.visualPlugin,T.aggrOps,T.localizationService,null,R),x,T.dataSources,T.visualAuthoring,!1),function(T,R){if(!_.isEmpty(T))for(var B=0,N=T;B<N.length;B++)g(N[B],R)}(N,T.explorationNavigation),[2,N]}})})}function d(T,R){return(0,t.__awaiter)(this,void 0,void 0,function(){var B;return(0,t.__generator)(this,function(N){switch(N.label){case 0:return(B=T.get())?[4,R.get(B)]:[2];case 1:return[2,N.sent()]}})})}function b(T,R,B,N,x){if(void 0===x&&(x=!0),!_.isEmpty(T)){var A=B.get();N.addConfigToCategoricalFilters(T,R,A,x)}}function g(T,R){var B=R.getCurrentExploration(),N=R.getCurrentSection();if(N){var x=(0,p.Iv)(B,N.name);if(x&&!_.isEmpty(x.parameters)){var A=_.find(x.parameters,function(I){return I.boundFilter===T.contract.name});A&&T.updateIsLinkedAsAggregation(!!A.asAggregation)}}}function S(T,R,B,N,x,A,I,w){return(0,t.__awaiter)(this,void 0,void 0,function(){var F,O;return(0,t.__generator)(this,function(L){switch(L.label){case 0:return x?(F={scopeType:T,container:R},O=N.get(),B?[4,A.addDrillthroughFilter(x,F,O,I)]:[3,2]):[2];case 1:case 3:return[2,L.sent()];case 2:return[4,A.addFilter(x,F,O,w)]}})})}function y(T,R,B,N,x,A){var I=_.find(B.filters,function(F){return F.name===T});return!!I&&N.removeFilter(I,{scopeType:R,container:B},x,A)}function C(T,R,B,N){if(!_.isEmpty(B)&&(10===N.changeType||1===N.changeType||2===N.changeType||0===N.changeType))for(var x=P(N.scope.scopeType,5===N.filter.howCreated),A=0,I=B;A<I.length;A++){var w=I[A];if(!(x<P(R,5===w.howCreated))&&s.l.isCategoricalFilter(w.contract.type)&&w.contract!==N.filter){var O={filter:w.contract,changeType:4,scope:w.getFilterContainerScope(),parentActivity:N.parentActivity};T.eventBridge.publishToChannel(c.Tuj,O)}}}function E(T,R,B){if(!R||/^\s*$/.test(R))return!1;var N=T.contract.displayName||T.displayName;return _.isEmpty(N)&&(N=T.getRestatement()),!(0,h.ms)(N,R)}function P(T,R){return 0===T?0:1!==T||R?1===T?2:2===T?3:-1:1}},809762:function(ze,K,r){function t(c){var i=$(document.activeElement);return i.is(c)||i.closest(c).length>0}r.d(K,{y:function(){return t}})},57841:function(ze,K,r){r.d(K,{Iq:function(){return h},MO:function(){return a},Y9:function(){return o},b:function(){return e},p$:function(){return n}});var v,t=r(226514),c=r(942983),i=r(405644),s=r(647863),p=r(448711),V=r(346454),m=r(11011),e=((v={})[i.t.Dynamic]={displayOption:0,width:c.Z9,height:c.LU},v[i.t.Standard]={displayOption:1,width:c.Z9,height:c.LU},v[i.t.Widescreen]={displayOption:1,width:c.$z,height:c.az},v[i.t.Cortana]={displayOption:3,width:c.yL,height:c.QZ},v[i.t.Letter]={displayOption:1,width:c.lr,height:c.to},v[i.t.Tooltip]={displayOption:1,width:c.R6,height:c.h8},v[i.t.Custom]={displayOption:3,width:c.Z9,height:c.LU},v);function h(d,b){for(var f=[],g=0,S=d;g<S.length;g++){var y=S[g];f.push((0,t.__assign)((0,t.__assign)({},y),{value:"".concat(y.value),displayName:(0,V.Gf)(y.displayName,b),label:y.label?(0,V.Gf)(y.label,b):null}))}return f}function n(d){void 0===d&&(d=!1);for(var f=[],g=0,S=(0,p.p$)(d);g<S.length;g++){var y=S[g];f.push({displayName:y.title,value:y.value.toString()})}return f}function o(d,b){return function(d,b,f){if(0===d.displayOption)return i.t.Dynamic;if(d.width===c.Z9&&d.height===c.LU)return i.t.Standard;if(d.width===c.$z&&d.height===c.az)return i.t.Widescreen;if(m.s.isCortanaPageSize(d)){var g=(0,s.Ae)(b,f.name);return-1!==g&&b.pods[g].cortanaEnabled?i.t.Cortana:i.t.Custom}return d.width===c.lr&&d.height===c.to?i.t.Letter:function(d){return d.width===c.R6&&d.height===c.h8}(d)?i.t.Tooltip:i.t.Custom}(d,b.getCurrentExploration(),b.getCurrentSection())}function a(d){return e[d]}},162624:function(ze,K,r){r.d(K,{EI:function(){return V},Gy:function(){return p},e6:function(){return s}});var t=r(456535),c=r(474147),i=r(809395);function s(m){return _.some((0,i.oJ)(m),function(v){return(0,t.tO)(v.expr)})}function p(m,v,e){var h=(0,i.oJ)(v);if(!_.isEmpty(h))for(var n=(0,i.Xf)(v),o=function(b){var f=b.expr;if((0,t.tO)(f)){var g=f.measure,S=n.getRoleNameForExpr(f),y=_.chain(n.tryGetExprs(S)).map(function(C,E){return{expr:C,index:E}}).filter(function(C){return(0,c.fS)(C.expr,f)}).map(function(C){return C.index}).value();_.forEach(y,function(C){return e.replaceField(m,g,S,C,v)})}},u=0,a=h;u<a.length;u++)o(a[u])}function V(m,v){var e,h,n=null===(e=m.grouping[0].getMetadata(v))||void 0===e?void 0:e.type;return n&&(h=n.dateTime||n.temporal?"Date":n.numeric?"Numeric":"Categorical"),{groupingType:h,measureType:(0,t.iV)(m.measure)?"Aggregate":"Measure"}}},483981:function(ze,K,r){r.d(K,{LR:function(){return l},vC:function(){return n},yY:function(){return h}});var t=r(226514),c=r(360184),i=r(649379),s=r(273139),p=r(726672),V=r(787941),m=r(145315),v=r(568656),e=r(951467);function h(d,b,f,g,S,y){if(d&&b){var C=d.getAdapter();C&&g&&C.update({viewport:b,suppressAnimations:!0,dataViews:d.getDataViews(),type:f,resizeMode:y,viewMode:g.getViewMode(),editMode:S})}}function n(d,b,f,g,S,y,C,E,D,P){var M=this,T=new c.t(1),R={getType:function(){return d.type},setType:function(N){return d.type=N},getViewport:function(){return d.viewport},setViewport:function(N,x){d.viewport=N,x&&h(R,N,m.EP.Resize,b,f)},getData:function(){return d.data},getAdapter:function(){return d.visual},getDataViews:function(){return d.dataViews},setDataViews:function(N){return d.dataViews=N},getDataTransforms:function(){return d.dataTransforms},setThemeCollection:function(N){return d.themeCollection=N},getIsInFocus:function(){return d.isInFocus},setIsInFocus:function(N){return d.isInFocus=N},setData:function(N,x,A){d.data=N,d.dataAppliedEvent&&(d.dataAppliedEvent.reject(),d.dataAppliedEvent=void 0),d.performanceActivity&&(d.performanceActivity.cancel(!0),d.performanceActivity=void 0),d.dataAppliedEvent=x,d.performanceActivity=A},setDataTransforms:function(N){return d.dataTransforms=N},setPendingSelection:function(N){return d.pendingSelection=N},hasPendingSelection:function(){return!!d.pendingSelection},setAdditionalObjectUpdates:function(N){return d.additionalObjectUpdates=N},setIsDisabled:function(N){return d.isDisabled=N},getIsDisabled:function(){return d.isDisabled},setIsDisabledIfUncertified:function(N){return d.isDisabledIfUncertified=N},getIsDisabledIfUncertified:function(){return d.isDisabledIfUncertified},setReportId:function(N){return d.reportId=N},getErrorInfo:function(){return d.errorInfo},getErrorInfo$:function(){return T.asObservable()},setErrorInfo:function(N){d.errorInfo=N,T.next(N)},getWarnings:function(){return u(d)},getWarnings$:function(){return b?b.getWarnings$():(0,i.of)({})},setWarnings:function(N,x,A){return a(d,N,x,A)},getDataBoundObjectWarnings:function(){return d.dataBoundObjectWarnings},resetWarnings:function(N){void 0===N&&(N=!1),N&&(d.dataBoundObjectWarnings={}),d.warnings=void 0},getHasPendingChanges:function(){return d.hasPendingChanges},setHasPendingChanges:function(N){return d.hasPendingChanges=N},getHasUnappliedFilterChanges:function(){return d.hasUnappliedFilterChanges},setHasUnappliedFilterChanges:function(N){return d.hasUnappliedFilterChanges=N},getSelectedDatapoints:function(){return d.selectedDatapoints},setSelectedDatapoints:function(N,x){return function(d,b,f,g,S){var y=d.visual;V.fF.assert(function(){return!b.pendingSelection&&!d.pendingSelection},"There should be no pending selection when setSelectedDatapoints is called"),g&&(y&&y.visualHasMethod&&y.visualHasMethod("onRestoreSelection")?y.onRestoreSelection({selection:f}):(a(d,[new e.zC]),S&&S(u(d)))),d.selectedDatapoints=f}(d,g,N,x,C)},clearSelectedDatapoints:function(){d.selectedDatapoints=void 0;var N=d.visual;N&&N.onClearSelection&&N.onClearSelection(),S.selectDataPoint(y,[],void 0,void 0,1)},getSubSelectionStyles:function(N){return(0,t.__awaiter)(M,void 0,void 0,function(){var x,A,I,w,F,O;return(0,t.__generator)(this,function(L){switch(L.label){case 0:return D?[4,D.getSubSelectionStyles(N)]:[3,2];case 1:if(x=L.sent())return[2,x];L.label=2;case 2:return[4,null!==(w=null===(I=null===(A=d.visual)||void 0===A?void 0:A.getSubSelectionStylesAsync)||void 0===I?void 0:I.call(A,N))&&void 0!==w?w:null===(O=null===(F=d.visual)||void 0===F?void 0:F.getSubSelectionStyles)||void 0===O?void 0:O.call(F,N)];case 3:return[2,L.sent()]}})})},getSubSelectionShortcuts:function(N,x){return(0,t.__awaiter)(M,void 0,void 0,function(){var A,I,w,F,O,L;return(0,t.__generator)(this,function(W){switch(W.label){case 0:return D&&!x&&(A=D.getSubSelectionShortcuts(N,x))?[2,A]:[4,null!==(F=null===(w=null===(I=d.visual)||void 0===I?void 0:I.getSubSelectionShortcutsAsync)||void 0===w?void 0:w.call(I,N,x))&&void 0!==F?F:null===(L=null===(O=d.visual)||void 0===O?void 0:O.getSubSelectionShortcuts)||void 0===L?void 0:L.call(O,N,x)];case 1:return[2,W.sent()]}})})},getSubSelectables:function(N){return(0,t.__awaiter)(M,void 0,void 0,function(){var x,A,I,w,F,O,L,W;return(0,t.__generator)(this,function(U){switch(U.label){case 0:return x=[],[4,null!==(O=null===(F=null===(w=d.visual)||void 0===w?void 0:w.getSubSelectablesAsync)||void 0===F?void 0:F.call(w,N))&&void 0!==O?O:null===(W=null===(L=d.visual)||void 0===L?void 0:L.getSubSelectables)||void 0===W?void 0:W.call(L,N)];case 1:return(A=U.sent())&&x.push.apply(x,A),D&&(I=D.getSubSelectables(N))&&x.push.apply(x,I),[2,0!==x.length?x:void 0]}})})},onDataViewObjectChanged:function(N,x,A){if(A){if(!d.visual||!d.visual.visualHasMethod("onDataViewObjectChanged"))return N;var I=d.visual.onDataViewObjectChanged(N,x);if(I)return I}else if(P){var w=P.onDataViewObjectChanged(N,x);if(w)return w}return[]}};return E&&(R.sortServices=E),R}function u(d){var b,f=d.warnings,g=d.dataBoundObjectWarnings;if(b=f?_.cloneDeep(f):{},!_.isEmpty(g))for(var S in b.visualObjectWarnings||(b.visualObjectWarnings={}),g){var y=b.visualObjectWarnings[S];y?y.push.apply(y,g[S]||[]):b.visualObjectWarnings[S]=g[S]}return b}function a(d,b,f,g){if(_.isArray(b)){var S=_.filter(b,function(R){return!(R instanceof p.L)});if(_.isEmpty(S)){d.dataBoundObjectWarnings||(d.dataBoundObjectWarnings={});for(var C=0,E=_.filter(b,function(R){return R instanceof p.L});C<E.length;C++){var D=E[C],P=D.propertyId.objectName;if(!f||!(0,v.zo)(P,f,g)){var M={selector:D.selector,warnings:[D]},T=d.dataBoundObjectWarnings[P];T?T.push(M):d.dataBoundObjectWarnings[P]=[M]}}}else V.fF.assert(function(){return S.length===b.length},"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),d.warnings={warnings:S}}else d.warnings=b}function l(d,b,f){if((0,s.q4)(f))return!1;var g=null==f?void 0:f.config.singleVisual;if(g){var S=g.visualType,y=d.capabilities(S);return!(g.query||!b.isQueryVisual(S)||"debugVisual"===S||y&&y.supportsLandingPage)}return!0}},448909:function(ze,K,r){function t(){return{getFilters:function(){return{dataFilter:null,dataFiltersUnmerged:null}},getDataSourceVariables:function(){},getVisualRelationshipFilterAction:function(){return 0},selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}r.d(K,{E:function(){return t}})},515615:function(ze,K,r){r.d(K,{UM:function(){return E}});var t=r(298801),c=r(187810),i=r(744883),s=r(781935),p=r(251912),V=r(803018),m=r(129035),n={size:s.dz.titleFontProperties.size,family:s.dz.titleFontProperties.family},o={size:s.dz.valueFontProperties.size,family:s.dz.valueFontProperties.family},u={size:s.dz.titleFontProperties.size,family:V.Wn.regular.css},a=s.dz.titleFontProperties.color,l=s.dz.valueFontProperties.color,d=s.dz.background.solid.color,b=s.dz.actionFontProperties.color;function E(R,B,N,x,A){var I;void 0===A&&(A=!1);var w=function(R,B,N){var x,A,I,w,F=!(!R||!(R.titleFontColor||R.valueFontColor||R.background));return B&&!F?(x=P(M(R&&R.themedTitleFontColor),t.v.getThemeColor(N,p.fA)),A=P(M(R&&R.themedValueFontColor),t.v.getThemeColor(N,p.fA)),I=P(M(R&&R.themedBackground),t.v.getThemeColor(N,p.U)),w=P(M(R&&R.actionFontColor),t.v.getThemeColor(N,p.fA))):B&&F?(x=P(P(M(R&&R.themedTitleFontColor),M(R&&R.titleFontColor)),a),A=P(P(M(R&&R.themedValueFontColor),M(R&&R.valueFontColor)),l),I=P(P(M(R&&R.themedBackground),M(R&&R.background)),d),w=P(M(R&&R.actionFontColor),x)):(x=P(M(R&&R.titleFontColor),a),A=P(M(R&&R.valueFontColor),l),I=P(M(R&&R.background),d)),{actionFontColor:w,backgroundColor:I,titleFontColor:x,valueFontColor:A}}(x,B,R),F=w.actionFontColor,O=w.backgroundColor,L=w.titleFontColor,W=w.valueFontColor;void 0===F&&N&&(F=B?b:L);var U=void 0!==F?T(x,B,N,R,u,F,A):void 0;return{titleFontProperties:T(x,B,N,R,n,L,A),valueFontProperties:T(x,B,N,R,o,W,A),actionFontProperties:U,discoverabilityFontProperties:B?_.clone(U):void 0,background:{solid:{color:O}},transparency:null!==(I=null==x?void 0:x.transparency)&&void 0!==I?I:B?0:s.dz.transparency,hoverColor:t.v.getThemeColor(R,p.Xy),dividerColor:t.v.getThemeColor(R,p.Xy)}}function P(R,B){return void 0===R?B:R}function M(R){if(R){if(null===R.solid)return null;if(R.solid)return R.solid.color}}function T(R,B,N,x,A,I,w){var W={size:"fontSize",family:"fontFamily",bold:(0,m.N)(R,"bold")?"bold":void 0,italic:(0,m.N)(R,"italic")?"italic":void 0,underline:(0,m.N)(R,"underline")?"underline":void 0},U=B?(0,c.Zi)(R,W,void 0,x,void 0,"label",A):(0,c.XH)(R,W,void 0,void 0,A),j=(0,c.ED)(U,{color:I});return N&&(j=(0,c.ED)(j,{size:i.B.createFromPt(w?11:9)})),(0,c.xH)(j)}},441091:function(ze,K,r){r.d(K,{N:function(){return c}});var t=r(934242),c=function(){function i(){}return i.prototype.sortEntities=function(s){},i.prototype.sortProperties=function(s){s&&s.sort(function(p,V){return(0,t.ve)(p.displayName,V.displayName)})},i}()},205434:function(ze,K,r){r.d(K,{I:function(){return i},c:function(){return c}});var t=r(226514),c=function(){function s(p){this.oldItems=p,this.newItems=[]}return s.prototype.add=function(){for(var p,V=[],m=0;m<arguments.length;m++)V[m]=arguments[m];return!!V&&(V=_.filter(V,function(v){return!!v}),(p=this.newItems).push.apply(p,V||[]),!0)},s.prototype.merge=function(p){p&&(this.newItems=_.filter(this.newItems,p));var V=this.oldItems;return V?V.splice.apply(V,(0,t.__spreadArray)([0,V.length],this.newItems||[],!1)):_.isEmpty(this.newItems)||(V=this.newItems),V},s}(),i=function(){function s(p,V){this.vmLookup=this.getPropertiesDictionary(p),this.renames=this.getRenamesDictionary(p,V)}return s.prototype.findVms=function(p,V,m){var v=this.getKey(p,V,m);return this.vmLookup[this.renames[v]||v]},s.prototype.getPropertiesDictionary=function(p){for(var V=this,m=_.clone(p.properties),v=0,e=p.columnsAndMeasures;v<e.length;v++)m.push(e[v]);for(var n=0,o=p.hierarchies;n<o.length;n++)m.push(o[n]);for(var a=0,l=p.displayFolders;a<l.length;a++){var d=l[a];m.push(d),m.push.apply(m,d.getAllChildren()||[])}return m=_.uniq(m),_.groupBy(m,function(f){return V.getVmKey(f)})},s.prototype.getRenamesDictionary=function(p,V){for(var m={},e=0,h=_.filter(V,function(l){return l.propertyRename&&l.propertyRename.entity===p.name});e<h.length;e++){var n=h[e],o=this.getFieldType(n.propertyRename.objectType),u=this.getKey(n.propertyRename.schema,n.propertyRename.before,o);m[this.getKey(n.propertyRename.schema,n.propertyRename.after,o)]=u}return m},s.prototype.getVmKey=function(p){return this.getKey(p.schemaName,p.name,p.fieldType)},s.prototype.getKey=function(p,V,m){return V+":"+m+(p?"|"+p:"")},s.prototype.getFieldType=function(p){switch(p){default:return 0;case"KPI":return 4;case"Hierarchy":return 2;case"Level":return 3}},s}()},670196:function(ze,K,r){r.d(K,{d:function(){return p}});var t=r(23330),c=r(787941),i=r(983172),s=r(278271),p=function(){function V(m,v){c.fF.assertValue(m,"field"),this.field=m,this.conditions=[],this.operators=[],this.logicalOperator=2,this.logicalAndOperator=0,this.logicalOrOperator=1,this.filterRestatementGenerator=new t.wd(v),this.filterOperatorFactory=new t.Vl(v)}return V.prototype.toSQExpr=function(m){var v=this.field,e=v.getMetadata(m);if(c.fF.assertAnyValue(e,"metadata"),e){var h=e.type,n=i.m.hasMappedMParameter(v,m);return(0,s.d_)(v,h,this.conditions,this.logicalOperator,n)}},V.prototype.getRestatement=function(m){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,m)},V.prototype.areConditionsValid=function(m,v){var e=this.conditions;if(_.isEmpty(e))return!1;for(var h=0,n=e.length;h<n;h++){var o=e[h];if(null!=o.operator&&0!==o.operator){if((!m||o.value&&o.value.hasValue)&&((0,t.AJ)(o.operator)&&o.value&&!o.value.hasValue||v&&!this.isConditionValid(v,o)))return!1}else if(h<n-1)return!1}return!0},V.prototype.loadOperators=function(m,v,e){var h=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,m,v,e);h.hasError||(this.operators=h.operators)},V.prototype.ensureConditions=function(m,v){var e=this.operators,h=0;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(e)&&this.conditions.push(new t.gP(e[0].value));var n=2;if(m){h=v?1:2,n=v?2:1;var o=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(0===this.logicalOperator||o||this.conditions.length>1&&!v)&&(this.conditions=[new t.gP(9)],this.logicalOperator=h)}for(;this.conditions.length<n;)this.conditions.push(t.gP.empty()),this.logicalOperator=h},V.prototype.isConditionValid=function(m,v){return(0,s.Ek)(this.field,m,v)},V}()},278271:function(ze,K,r){r.d(K,{Ek:function(){return m},d_:function(){return V}});var t=r(156319),c=r(787941),i=r(324356),s=r(326621),p=/[0-9]*\.?[0-9]+%/;function V(h,n,o,u,a){void 0===u&&(u=0),void 0===a&&(a=!1);for(var d,l=new e(h,n,u,a),b=0,f=o;b<f.length;b++){var g=f[b];null==g.operator||0===g.operator||(d=g.accept(l))}return d}function m(h,n,o){if(!n)return!1;var u=t.l.getValueType(h,n);if(!u)return!1;var a=new e(h,u,void 0);return null!=o.accept(a)}var e=function(){function h(n,o,u,a){void 0===a&&(a=!1),this.propertyExpr=n,this.dataType=o,this.logicalOperator=u,this.isMappedToMParameter=a}return h.prototype.visit=function(n){var o=this.expandExpr(n);return o&&(this.result?0===this.logicalOperator?this.result=(0,i.xD)(this.result,o):1===this.logicalOperator?this.result=(0,i.or)(this.result,o):c.fF.assertFail("Logical operator is not set for multiple conditions."):this.result=o),this.result},h.prototype.expandExpr=function(n){var o,u=11!==n.operator&&12!==n.operator&&13!==n.operator&&14!==n.operator;if(u&&(o=this.getValueExpr(n)),o||!u)switch(n.operator){case 9:return(0,i.qu)(0,this.propertyExpr,o);case 10:return(0,i.ff)((0,i.qu)(0,this.propertyExpr,o));case 11:return(0,i.qu)(0,this.propertyExpr,(0,i.IF)());case 12:return(0,i.ff)((0,i.qu)(0,this.propertyExpr,(0,i.IF)()));case 5:return(0,i.r3)(this.propertyExpr,o);case 6:return(0,i.ff)((0,i.r3)(this.propertyExpr,o));case 7:return(0,i.Ny)(this.propertyExpr,o);case 8:return(0,i.ff)((0,i.Ny)(this.propertyExpr,o));case 3:return(0,i.qu)(1,this.propertyExpr,o);case 4:return(0,i.qu)(2,this.propertyExpr,o);case 1:return(0,i.qu)(3,this.propertyExpr,o);case 2:return(0,i.qu)(4,this.propertyExpr,o);case 13:return(0,i.qu)(0,this.propertyExpr,(0,i.fL)(""));case 14:return(0,i.ff)((0,i.qu)(0,this.propertyExpr,(0,i.fL)("")));default:c.fF.assertFail("Not valid filter operator type.")}},h.prototype.getValueExpr=function(n){return function(h,n,o){if(void 0===o&&(o=!1),h.value){var u=h.value.stringValue;if((n.integer||n.numeric)&&u){var a=s.dx.parseFloat(u);return isNaN(a)?void 0:(u.match(p)&&(a/=100),2===n.primitiveType?(0,i.gH)(a):_.isInteger(a)?(0,i.cA)(a):(0,i.tx)(a))}if(n.text&&u)return(0,i.fL)(u);if(n.dateTime){var l=h.value.dateValue;if(l)return o?(0,i.CQ)(l):(0,i.uQ)(5,(0,i.CQ)(l))}}}(n,this.dataType,this.isMappedToMParameter)},h}()},691545:function(ze,K,r){r.d(K,{C:function(){return c}});var t=r(168099);function c(s,p,V,m,v,e){return{parentContract:s,visual:{viewport:e?V:t.j.adjustViewport(s.detailVisualLayout,V,m),themeCollection:p,allowInvalidDataView:!0,hostServices:null,visualName:s.name+"-detail"},hasData:!1}}},946631:function(ze,K,r){r.d(K,{U:function(){return c},y:function(){return i}});var t=r(281469),c={phoneWidth:t.Co,phoneHeight:t.aW,phoneGridLayout:{columnCount:t.VA,rowCount:t.kV,newVisualCellCount:{width:6,height:6}}},i=function(){function s(p,V){void 0===V&&(V=0),this.selectedVisualOriginalPosition=-1,this.contract=p,this.canvasLayout=V}return Object.defineProperty(s.prototype,"width",{get:function(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.width:c.phoneWidth},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.height:c.phoneHeight},enumerable:!1,configurable:!0}),s}()},54213:function(ze,K,r){r.d(K,{Jg:function(){return d},N6:function(){return u},NJ:function(){return b},P_:function(){return e},Tl:function(){return o},UZ:function(){return f},Wx:function(){return v},_u:function(){return l},e:function(){return h},lb:function(){return a},wf:function(){return g}});var t=r(226514),c=r(456535),i=r(787941),s=r(725182),p=r(44615),V=r(597098),m=r(934408),v=function(y,C,E){var D=C?"_paneColorRefresh":"",P=y.fieldType;if(1===P)return"fieldListFolder"+D;if(5===P)return"none";if(2===P)return"fieldListHierarchy"+D;if(6===P)return"fieldListMeasure"+D;if(1===y.contract.queryable)return"fieldListError"+D;if(1===y.kind)return y.contract.measure&&y.contract.measure.kpi&&4===y.fieldType?"fieldListKpi"+D:y.contract.measure&&y.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+D:"fieldListMeasure"+D;if(void 0!==y.contract.type&&void 0!==y.contract.type.geography)return"fieldListGeoData"+D;if(0===y.kind){var M=y.contract.column;if(M){if(M.parameterMetadata)return"fieldListParameter"+D;if(M.groupingMetadata)return"fieldListGroup"+D;if(M.calculated)return y.type&&y.type.numeric?"fieldListNumericCalculatedColumn"+D:"fieldListCalculatedColumn"+D;if(!_.isEmpty(M.variations)&&y.type.dateTime)return"fieldListCalendar"+D}if(y.idOnEntityKey)return"fieldListIdentity"+D}return y.type&&y.type.numeric&&1!==y.defaultAggregate&&E?"fieldListNumeric"+D:"none"},e=function(){function S(y){i.fF.assertValue(y,"contract"),this.contract=y,this.showCheckboxes=!0,this.entities=[]}return Object.defineProperty(S.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canEdit",{get:function(){return this.contract.capabilities.canEdit&&!this.disableEditing},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canCreateColumn",{get:function(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns},enumerable:!1,configurable:!0}),S.prototype.findEntity=function(y){return _.find(this.entities,function(C){return C.name===y})},S.prototype.findFields=function(y,C,E){var D=this.findEntity(y);if(D)return D.findFields(C,E)},S.prototype.findHierarchies=function(y,C,E){var D=this.findEntity(y);if(D)return D.findHierarchies(C,E)},S.prototype.findKpis=function(y,C,E){var D=this.findEntity(y);if(D)return D.findKpis(C,E)},S.prototype.findKpiMeasures=function(y,C,E){var D=this.findEntity(y);if(D)return D.findKpiMeasures(C,E)},S.prototype.findItems=function(y){var C=[];if((0,c.Im)(y)||(0,c.tO)(y))return C;var E=(0,V.Q)(y),D=(0,p.pV)(E);if(E){var P=E.hierarchyLevel||E.hierarchyLevelAggr;if(P){i.fF.assert(function(){return 1===_.size(D)},"hierarchy level should only have 1 underlying entity");var M=this.findHierarchies(D[0].entity,P.name,P.schema);if(M)for(var T=0,R=M;T<R.length;T++){var B=R[T];C.push(B);for(var N=0,x=B.hierarchyLevels;N<x.length;N++)(A=x[N]).name===P.level&&C.push(A)}}else if(E.columnHierarchyLevelVariation){var I=E.columnHierarchyLevelVariation.source.name;if(i.fF.assert(function(){return 1===_.size(D)},"variations should only have 1 underlying entity"),!(w=this.findFields(D[0].entity,I,D[0].schema)))return C;for(var F=0,O=w;F<O.length;F++){C.push(L=O[F]);var W=L.properties;if(W)for(var U=0,j=W;U<j.length;U++){var z=j[U];if(z instanceof d&&z.name===E.columnHierarchyLevelVariation.level.name){C.push(z);for(var G=0,te=z.hierarchyLevels;G<te.length;G++){var A;(A=te[G]).name===E.columnHierarchyLevelVariation.level.level&&C.push(A)}}}}}else{var Q=(0,p.gz)(E);i.fF.assert(function(){return!Q||_.size(D)===_.size(Q)},"There should be equal number of properties and entities");for(var H=0;H<D.length;H++){var w,de=D[H];if(w=this.findFields(de.entity,I=null==Q?void 0:Q[H],de.schema)||this.findKpiMeasures(de.entity,I,de.schema))for(var Y=0,se=w;Y<se.length;Y++){var L;C.push(L=se[Y])}}}}return C},S.getUniqueId=function(){return S._uid++},S._uid=0,S}(),h=function(){function S(y,C,E){this.hasCheckedProperties=!1,i.fF.assertValue(y,"contract"),i.fF.assertValue(C,"contractSchema"),i.fF.assertValue(E,"schema"),this.contract=y,this.contractSchema=C,this.schema=E,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}return Object.defineProperty(S.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"displayName",{get:function(){return this.displayNameOverride||this.contract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"description",{get:function(){return this.contract.description},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"errorMessage",{get:function(){return this.contract.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"calculated",{get:function(){return this.contract.calculated},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"iconClassName",{get:function(){return 1===this.contract.queryable?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hidden",{get:function(){return(0,s.yE)(this.contract.visibility,1)&&_.every(this.properties,function(C){return!C.isExtension||C.hidden})},set:function(C){this.contract.visibility=C?(0,s.mB)(this.contract.visibility,1):(0,s.AS)(this.contract.visibility,1)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canEdit",{get:function(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,m.jX)(this.contract)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"private",{get:function(){return(0,s.yE)(this.contract.visibility,4)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"showAsVariationsOnly",{get:function(){return(0,s.yE)(this.contract.visibility,2)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"showHidden",{get:function(){return this.schema.showHidden},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canRefresh",{get:function(){return this.canEdit&&this.contract.capabilities.canRefresh},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canHaveMeasures",{get:function(){return this.contract.capabilities.canHaveMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canEditEntity",{get:function(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canDelete",{get:function(){return this.canEdit&&this.contract.capabilities.canDelete},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canRename",{get:function(){return this.canEdit&&this.contract.capabilities.canRename},enumerable:!1,configurable:!0}),S.prototype.findFields=function(y,C){return this.findFieldsByType(y,C,0)},S.prototype.findKpis=function(y,C){return this.findFieldsByType(y,C,4)},S.prototype.findKpiMeasures=function(y,C){return this.findFieldsByType(y,C,5)},S.prototype.findHierarchies=function(y,C){return this.findFieldsByType(y,C,2)},S.prototype.findFieldsByType=function(y,C,E){var D=[];D.push.apply(D,2===E?_.filter(this.hierarchies,function(x){return x.name===y&&x.schema.name===C}):_.filter(this.properties,function(x){return x.name===y&&x.fieldType===E&&x.schemaName===C}));for(var P=0,M=this.displayFolders;P<M.length;P++)for(var R=0,B=_.filter(M[P].getAllChildren(),function(x){return x.name===y&&x.fieldType===E});R<B.length;R++){var N=B[R];D.indexOf(N)<0&&D.push(N)}if(!_.isEmpty(D))return D},Object.defineProperty(S.prototype,"userEntity",{get:function(){return!(this.private||this.showAsVariationsOnly)},enumerable:!1,configurable:!0}),S}(),n=function(){function S(y,C,E){this.hasCheckedChildren=!1,i.fF.assertValue(y,"contract"),i.fF.assertValue(C,"schema"),i.fF.assertValue(E,"entity"),this.contract=y,this.schema=C,this.entity=E,this.id=e.getUniqueId()}return Object.defineProperty(S.prototype,"children",{get:function(){return this._children},set:function(C){this._children=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"schemaName",{get:function(){return this.schema.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"displayName",{get:function(){return this.displayNameOverride||this.contract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"description",{get:function(){return this.contract.description},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"errorMessage",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"visible",{get:function(){return!this.parent||this.parent.expanded&&this.parent.visible},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hidden",{get:function(){return this.contract.hidden},set:function(C){this.contract.hidden=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"showHidden",{get:function(){return this.entity.showHidden},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canEdit",{get:function(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"disableDragging",{get:function(){return this.entity.schema.disableDragging},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"disableSelectionOnFocus",{get:function(){return this.entity.schema.disableSelectionOnFocus},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"showCheckboxes",{get:function(){return this.entity.schema.showCheckboxes},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isExtension",{get:function(){return!1},enumerable:!1,configurable:!0}),S}(),o=function(S){function y(C,E,D,P,M){var T=S.call(this,C,E,D)||this;return T.children=[],T.originalEntity=P,T.variation=M,T.expanded=!1,T.draggable=!T.disableDragging,T.fieldType=0,T}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"kind",{get:function(){return this.contract.kind},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return this.contract.column?this.contract.column.defaultAggregate:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"type",{get:function(){return this.contract.type},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"idOnEntityKey",{get:function(){return!!this.contract.column&&this.contract.column.idOnEntityKey},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"errorMessage",{get:function(){return this.contract.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return this.canEdit&&!1!==this.contract.canDelete},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canAddToFilter",{get:function(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"properties",{get:function(){return this.children},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(n),u=function(S){function y(C,E,D){var P=this;return i.fF.assertValue(C,"contract"),i.fF.assertValue(E,"schema"),i.fF.assertValue(D,"entity"),(P=S.call(this,C,E,D)||this).fieldType=6,P}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isExtension",{get:function(){return!1},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(n),a=function(S){function y(C,E,D){return S.call(this,C,E,D)||this}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"idOnEntityKey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isExtension",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(o),l=function(S){function y(C,E,D,P,M,T){var R=this;return i.fF.assertValue(C,"contract"),i.fF.assertValue(D,"parent"),i.fF.assertValue(P,"entity"),(R=S.call(this,C.column,E,P)||this).originalEntity=M,R.variation=T,R.hierarchyLevelContract=C,R.parent=D,R.fieldType=3,R}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"hidden",{get:function(){return this.parent.hidden},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"name",{get:function(){return this.hierarchyLevelContract.name},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"displayName",{get:function(){return this.displayNameOverride||this.hierarchyLevelContract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"description",{get:function(){return this.hierarchyLevelContract.description},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete},enumerable:!1,configurable:!0}),y.prototype.clone=function(C){return new y(this.hierarchyLevelContract,this.schema,C||this.parent,this.entity)},y}(o),d=function(S){function y(C,E,D,P,M){var T=S.call(this,C,E,D)||this;return T.expanded=!1,T.hierarchyLevels=[],T.originalEntity=P,T.variation=M,T.draggable=!T.disableDragging,T.fieldType=2,T}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"properties",{get:function(){return this.hierarchyLevels},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"children",{get:function(){return this.hierarchyLevels},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete},enumerable:!1,configurable:!0}),y.prototype.findLevel=function(C,E){return _.find(this.hierarchyLevels,function(D){return D.name===C})},y.prototype.clone=function(){var C=new y(this.contract,this.schema,this.entity);return C.hierarchyLevels=_.map(this.hierarchyLevels,function(E){return E.clone(C)}),C},y}(n),b=function(S){function y(C,E,D){var P=S.call(this,C,E,D)||this;return P.expanded=!1,P.kpiMeasures=[],P.fieldType=4,P}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"kind",{get:function(){return this.contract.kind},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"properties",{get:function(){return this.kpiMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"children",{get:function(){return this.kpiMeasures},enumerable:!1,configurable:!0}),y.prototype.clone=function(){var C=new y(this.contract,this.schema,this.entity);return C.kpiMeasures=_.map(this.kpiMeasures,function(E){return E.clone(C)}),C},y}(n),f=function(S){function y(C,E,D,P,M,T){var R=this;return i.fF.assertValue(C,"contract"),i.fF.assertValue(M,"entity"),i.fF.assertValue(D,"kpiType"),i.fF.assertValue(P,"kpiParent"),i.fF.assertValue(T,"locOptions"),(R=S.call(this,C,E,M)||this).kpiType=D,R.parent=P,R.locOptions=T,R.draggable=!R.disableDragging,R.fieldType=5,R}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"displayName",{get:function(){var E;switch(this.kpiType){case 2:E=this.locOptions.KpiValueDisplayName;break;case 1:E=this.locOptions.KpiGoalDisplayName;break;case 0:E=this.locOptions.KpiStatusDisplayName;break;case 3:E=this.locOptions.KpiTrendDisplayName;break;default:i.fF.assertFail("Unknown KpiType")}return this.displayNameOverride||E||this.contract.displayName},enumerable:!1,configurable:!0}),y.prototype.clone=function(C){return new y(this.contract,this.schema,this.kpiType,C||this.parent,this.entity,this.locOptions)},y}(o),g=function(S){function y(C,E,D,P,M){var T=S.call(this,C,P,M)||this;T.expanded=!1,T.parent=D,T.children=E,T.fieldType=1;for(var R=0,B=E;R<B.length;R++)B[R].parent=T;return T}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"hidden",{get:function(){return!_.some(this.children,function(E){return!E.hidden})},set:function(E){i.fF.assertFail("Should never hide display folder directly")},enumerable:!1,configurable:!0}),y.prototype.clone=function(){i.fF.assertFail("NotImplemented")},y.prototype.getAllChildren=function(){for(var C=[],E=0,D=this.children;E<D.length;E++){var P=D[E];C.push(P),1===P.fieldType&&C.push.apply(C,P.getAllChildren()||[])}return C},y}(n)},450424:function(ze,K,r){r.d(K,{pF:function(){return s}});var t=r(942983),c=r(441091),i=r(205434);function s(m,v,e,h){var n,o=new i.c(m.displayFolders),u=_.keyBy(m.displayFolders,function(D){return D.name});if(!_.isEmpty(e))for(var a=0,l=e;a<l.length;a++)for(var b=function(P){var M=v.indexOf(v.filter(function(T){return T.name===P.name})[0]);M>=0?v[M]=p(v[M],P):v=v.concat(P)},f=0,g=l[a].entity.displayFolders;f<g.length;f++)b(g[f]);if(!_.isEmpty(v))for(var y=0,C=v;y<C.length;y++)o.add(V(m,void 0,C[y],u,h));m.displayFolders=o.merge(),(n=m.properties).push.apply(n,m.displayFolders||[])}function p(m,v){if(v){for(var e=0,h=v.properties;e<h.length;e++)m.properties.push(h[e]);for(var o=0,u=v.hierarchies;o<u.length;o++)m.hierarchies.push(u[o]);for(var l=function(S){var y=m.displayFolders.indexOf(m.displayFolders.filter(function(C){return C.name===S.name})[0]);y>=0?m.displayFolders[y]=p(m.displayFolders[y],S):m.displayFolders.push(S)},d=0,b=v.displayFolders;d<b.length;d++)l(b[d])}return m}function V(m,v,e,h,n){var o=h[e.name];if(o){o.contract=e;var u=new i.c(o.children);if(e.properties)for(var a=_.filter(o.children,function(A){return 1!==A.fieldType&&2!==A.fieldType}),l=_.keyBy(a,function(A){return A.name}),d=0,b=e.properties;d<b.length;d++){var f=b[d],g=l[f.name];g||((g=(_.head(m.findFields(f.name,o.schemaName))||_.head(m.findFields(f.name,t.eM))||_.head(m.findKpis(f.name,o.schemaName))).clone()).parent=o),u.add(g)}if(e.hierarchies)for(var y=_.filter(o.children,function(I){return 2===I.fieldType}),C=(l=_.keyBy(y,function(I){return I.name}),0),E=e.hierarchies;C<E.length;C++){var D=E[C],P=l[D.name];P||((P=_.head(m.findHierarchies(D.name,o.schemaName)).clone()).parent=o),u.add(P)}if(e.displayFolders)for(var T=_.filter(o.children,function(I){return 1===I.fieldType}),R=(l=_.keyBy(T,function(I){return I.name}),0),B=e.displayFolders;R<B.length;R++)u.add(V(m,o,B[R],l,n));o.children=u.merge(),(new c.N).sortProperties(o.children)}else o=n.convertConceptualDisplayFolder(e,m.contractSchema,v,m);return o}},839473:function(ze,K,r){r.d(K,{o:function(){return V}});var t=r(787941),c=r(54213),i=r(450424),s=r(934242),p=r(934408);function V(v,e,h){return void 0===h&&(h=!1),new m(v,e,h)}var m=function(){function v(e,h,n){void 0===n&&(n=!1),this.withRowCounts=!1,t.fF.assertValue(e,"localizationService"),t.fF.assertValue(h,"featureSwitchService"),this.localizationService=e,this.withRowCounts=n}return v.prototype.createModel=function(e,h,n,o){t.fF.assertValue(e,"federatedSchema");for(var u,a=e.schemas,l=(0,s.nX)(a),d=0,b=a=(0,s.uU)(a);d<b.length;d++)u=this.convertConceptualSchema(b[d],u,l,h,n,o);return u},v.prototype.convertConceptualSchema=function(e,h,n,o,u,a){var l,d=this;(h=h||new c.P_(e)).disableDragging=u;var b=_.filter(e.entities,function(g){return!(0,p.p1)(g)||(0,p.jX)(g)}),f=_.map(b,function(g){return d.convertConceptualEntity(g,e,h,n)});return(l=h.entities).push.apply(l,f||[]),h.disableEditing=o,h.disableSelectionOnFocus=a,h},v.prototype.convertConceptualEntity=function(e,h,n,o){var C,u=this,a=new c.e(e,h,n);if(a.properties=[],e.properties&&!(0,p.p1)(e))for(var l=0,d=e.properties;l<d.length;l++)if((b=d[l]).measure&&b.measure.kpi){var f=this.convertConceptualKpi(b,h,a);a.columnsAndMeasures.push(f),a.properties.push(f)}else b.kpiValue||(f=this.convertConceptualProperty(b,h,a),a.columnsAndMeasures.push(f),a.properties.push(f));if(a.isMeasureGroup=(0,s.fn)(e.properties),a.expanded=!1,e.hierarchies&&e.hierarchies.length>0){a.hierarchies=_.map(e.hierarchies,function(A){return u.convertConceptualHierarchy(A,h,a)});for(var g=0,S=a.hierarchies;g<S.length;g++)a.properties.push(S[g])}if(o){var E=(0,p.U)(h.name,e.name);if(C=o.entities[E])for(var D=0,P=C;D<P.length;D++)for(var M=P[D],T=0,R=M.entity.properties;T<R.length;T++){var b,B=this.convertConceptualExtensionMeasure(b=R[T],M.schema,a);a.properties.push(B)}}if((0,i.pF)(a,e.displayFolders,C,this),(0,s.MM)(a.properties),(0,s.jM)(a.properties,a.displayFolders),(0,s.CU)(a),(0,s.WF)(a),this.withRowCounts&&0===e.visibility&&!h.capabilities.discourageQueryAggregateUsage){var x=this.createConceptualRowCount(h,a);a.properties.unshift(x)}return a},v.prototype.convertConceptualDisplayFolder=function(e,h,n,o){for(var u={},a={},l=0,d=o.properties;l<d.length;l++){var b=d[l];3===b.fieldType||2===b.fieldType?a[b.name]=b:u[b.name]=b}return this.convertConceptualDisplayFolderCore(e,h,n,u,a,o)},v.prototype.convertConceptualDisplayFolderCore=function(e,h,n,o,u,a){for(var l=[],d=0,b=e.properties;d<b.length;d++){var f=b[d];f&&(g=o[f.name])&&l.push(g.clone())}for(var S=0,y=e.hierarchies;S<y.length;S++){var g,C=y[S];C&&(g=u[C.name])&&l.push(g.clone())}for(var E=new c.wf(e,l,n,h,a),D=0,P=e.displayFolders;D<P.length;D++)E.children.push(this.convertConceptualDisplayFolderCore(P[D],h,E,o,u,a));return(0,s.MM)(E.children),E},v.prototype.convertConceptualHierarchy=function(e,h,n,o,u){var a=new c.Jg(e,h,n,o,u);a.hierarchyLevels=[];for(var l=0,d=e.levels;l<d.length;l++)a.hierarchyLevels.push(this.convertConceptualHierarchyLevel(d[l],h,a));return a},v.prototype.convertConceptualHierarchyLevel=function(e,h,n){return new c._u(e,h,n,n.entity,n.originalEntity,n.variation)},v.prototype.convertConceptualProperty=function(e,h,n){for(var o=new c.Tl(e,h,n),u=0,a=(0,s.Xj)(e);u<a.length;u++)o.children.push(this.convertConceptualVariationHierarchy(a[u],h,o));return o},v.prototype.convertConceptualVariationHierarchy=function(e,h,n){var o=this.convertConceptualHierarchy(e.defaultHierarchy,h,n.entity,e.navigationProperty.targetEntity,e.name);return o.parent=n,o},v.prototype.convertConceptualExtensionMeasure=function(e,h,n){return new c.lb(e,h,n)},v.prototype.convertConceptualKpi=function(e,h,n){var o=new c.NJ(e,h,n),u={};u.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),u.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),u.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),u.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var a=e.measure.kpi,l=a.goal,d=a.status,b=a.trend;return o.kpiMeasures=[],o.kpiMeasures.push(this.convertConceptualKpiMeasure(e,h,2,o,n,u)),l&&o.kpiMeasures.push(this.convertConceptualKpiMeasure(l,h,1,o,n,u)),d&&o.kpiMeasures.push(this.convertConceptualKpiMeasure(d,h,0,o,n,u)),b&&o.kpiMeasures.push(this.convertConceptualKpiMeasure(b,h,3,o,n,u)),o},v.prototype.convertConceptualKpiMeasure=function(e,h,n,o,u,a){return new c.UZ(e,h,n,o,u,a)},v.prototype.createConceptualRowCount=function(e,h){var n={name:h.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new c.N6(n,e,h)},v}()},462337:function(ze,K,r){r.d(K,{hi:function(){return n}});var t=r(441091),c=r(787941),i=r(54213),s=r(450424),p=r(934242),V=r(934408),e=r(205434),h=function(){function o(u,a,l,d,b,f){this.factory=u,this.sorter=a,this.disableEditing=l,this.disableDragging=d,this.disableSelectionOnFocus=b,this.schemaChanges=f?f.changes:[]}return o.prototype.mergeFieldList=function(u,a){return(!u||!a)&&(u={schema:void 0,isLoaded:!1}),a&&_.some(a.schemas)&&(u.schema=this.mergeSchemas(u,a),u.isLoaded=!0),u},o.prototype.mergeSchemas=function(u,a){var l=u.schema;if(l){var d=(0,p.nX)(a.schemas),b=(0,p.uU)(a.schemas);l.contract=_.find(b,function(M){return!(0,V.p1)(M)});for(var f=new e.c(l.entities),g=0,S=b;g<S.length;g++)for(var y=S[g],C=0,E=y.entities;C<E.length;C++){var D=E[C];if(!(0,V.p1)(D)||(0,V.jX)(D)){var P=this.mergeEntity(l,y,D,d);y===l.contract&&f.add.apply(f,P||[])}}l.entities=f.merge(),this.sorter.sortEntities(l.entities)}else l=this.factory.createModel(a,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return l},o.prototype.mergeEntity=function(u,a,l,d){c.fF.assertValue(l,"entity");var b=this.findEntityVm(u,l);if(b){b.contract=l,b.contractSchema=a;var f=new e.c(b.properties),g=new e.c(b.columnsAndMeasures),S=new e.c(b.hierarchies),y=new e.I(b,this.schemaChanges);if(!(0,V.p1)(l))for(var C=0,E=l.properties;C<E.length;C++){var P=this.mergePropertyMeasureOrKpi(b,a,E[C],y);f.add.apply(f,P||[]),g.add.apply(g,P||[])}for(var M=0,T=l.hierarchies;M<T.length;M++){var B=this.mergeHierarchy(b,a,T[M],y);f.add.apply(f,B||[]),S.add.apply(S,B||[])}var N=d.entities[(0,V.U)(a.name,l.name)];if(N)for(var x=0,A=N;x<A.length;x++)for(var I=A[x],w=0,F=I.entity.properties;w<F.length;w++){var O=this.mergeExtensionMeasure(b,I.schema,F[w],y);f.add.apply(f,O||[]),g.add.apply(g,O||[])}b.columnsAndMeasures=g.merge(function(L){return!L.parent}),b.hierarchies=S.merge(function(L){return!L.parent}),b.properties=f.merge(function(L){return!L.parent}),(0,s.pF)(b,l.displayFolders,N,this.factory),this.sorter.sortProperties(b.properties),(0,p.jM)(b.properties,b.displayFolders),(0,p.CU)(b),(0,p.WF)(b)}else b=this.factory.convertConceptualEntity(l,a,u,d);return[b]},o.prototype.findEntityVm=function(u,a){var l=a.name,d=_.find(this.schemaChanges,function(f){return f.entityRename&&f.entityRename.after===a.name});d&&(l=d.entityRename.before);var b=u.findEntity(l);return b&&(0,V.jX)(b.contract)!==(0,V.jX)(a)?null:b},o.prototype.mergePropertyMeasureOrKpi=function(u,a,l,d){if(!(0,V.p1)(l)){if(function(o){return c.fF.assertValue(o,"contract"),!!o.measure&&!!o.measure.kpi}(l))return this.mergeKpi(u,a,l,d);if(!function(o){return c.fF.assertValue(o,"contract"),!!o.kpiValue}(l))return this.mergeProperty(u,a,l,d)}},o.prototype.mergeProperty=function(u,a,l,d){var b=d.findVms(a.name,l.name,0);if(b=_.filter(b,function(P){return!P.isExtension}),_.isEmpty(b))b=[this.factory.convertConceptualProperty(l,a,u)];else for(var f=0,g=b;f<g.length;f++){var S=g[f];S.contract=l,S.schema=a;for(var y=new e.c(S.children),C=0,E=(0,p.Xj)(l);C<E.length;C++)y.add(this.mergeVariationHierarchy(S,a,E[C]));S.children=y.merge()}return b},o.prototype.mergeVariationHierarchy=function(u,a,l){var d=_.find(u.children,function(b){return b instanceof i.Jg&&b.variation===l.name});return d?this.updateHierarchyVm(u.entity,d,l.defaultHierarchy,a):d=this.factory.convertConceptualVariationHierarchy(l,a,u),d},o.prototype.mergeExtensionMeasure=function(u,a,l,d){var b=d.findVms(a.name,l.name,0);return b=_.filter(b,function(f){return f.isExtension}),_.isEmpty(b)?b=[this.factory.convertConceptualExtensionMeasure(l,a,u)]:_.forEach(b,function(f){f.contract=l,f.schema=a}),b},o.prototype.mergeKpi=function(u,a,l,d){var b=d.findVms(a.name,l.name,4);if(_.isEmpty(b))b=[this.factory.convertConceptualKpi(l,a,u)];else for(var f=0,g=b;f<g.length;f++){var S=g[f];S.contract=l,S.schema=a;var y=new e.c(S.kpiMeasures);y.add(this.mergeKpiMeasure(a,S,l,2)),l.measure.kpi.goal&&y.add(this.mergeKpiMeasure(a,S,l.measure.kpi.goal,1)),l.measure.kpi.status&&y.add(this.mergeKpiMeasure(a,S,l.measure.kpi.status,0)),l.measure.kpi.trend&&y.add(this.mergeKpiMeasure(a,S,l.measure.kpi.trend,3)),S.kpiMeasures=_.some(y,function(C){return null===C})?this.factory.convertConceptualKpi(l,a,u).kpiMeasures:y.merge()}return b},o.prototype.mergeKpiMeasure=function(u,a,l,d){var b=_.find(a.kpiMeasures,function(f){return f.kpiType===d});return b?(b.contract=l,b.schema=u,b):null},o.prototype.mergeHierarchy=function(u,a,l,d){var b=d.findVms(a.name,l.name,2);if(_.isEmpty(b)){var f=this.factory.convertConceptualHierarchy(l,a,u);_.some(this.schemaChanges,function(C){return C.hierarchyCreate&&C.hierarchyCreate.entity===u.name&&C.hierarchyCreate.name===f.name})&&(f.expanded=!0),b=[f]}else for(var g=0,S=b;g<S.length;g++)this.updateHierarchyVm(u,S[g],l,a);return b},o.prototype.updateHierarchyVm=function(u,a,l,d){a.contract=l,a.schema=d;for(var b=_.keyBy(a.hierarchyLevels,function(E){return E.name}),f=new e.c(a.hierarchyLevels),g=0,S=l.levels;g<S.length;g++){var C=this.mergeHierarchyLevel(u,a,d,S[g],b);f.add(C)}a.hierarchyLevels=f.merge()},o.prototype.mergeHierarchyLevel=function(u,a,l,d,b){var f=this.findHierarchyLevel(u,a,l,d,b);return f?(f.contract=d.column,f.hierarchyLevelContract=d,f.schema=l):f=this.factory.convertConceptualHierarchyLevel(d,l,a),f},o.prototype.findHierarchyLevel=function(u,a,l,d,b){var f=d.name,g=_.find(this.schemaChanges,function(S){return S.hierarchyLevelRename&&S.hierarchyLevelRename.entity===u.contract.name&&S.hierarchyLevelRename.hierarchy===a.contract.name&&S.hierarchyLevelRename.after===f});return g&&(f=g.hierarchyLevelRename.before),b[f]},o}();function n(o,u,a,l,d,b,f){return new h(a,new t.N,d,b,f,l).mergeFieldList(o,u)}},934242:function(ze,K,r){r.d(K,{CU:function(){return u},MM:function(){return e},WF:function(){return m},Xj:function(){return b},fn:function(){return s},jM:function(){return n},nX:function(){return p},uU:function(){return V},ve:function(){return h}});var t=r(787941),c=r(54213),i=r(934408);function s(f){return _.find(f,function(g){return!g.hidden})&&!_.find(f,function(g){return!g.hidden&&1!==g.kind&&2!==g.kind})}function p(f){for(var g={entities:{}},S=0,y=f;S<y.length;S++){var C=y[S];if((0,i.p1)(C))for(var E=C.extends,D=0,P=C.entities;D<P.length;D++){var M=P[D];if((0,i.p1)(M)){var T={schema:C,entity:M},R=(0,i.U)(E,M.name),B=g.entities[R];B?B.push(T):g.entities[R]=B=[T]}}}return g}function V(f){var g=_.filter(f,function(y){return!(0,i.p1)(y)}),S=_.filter(f,function(y){return(0,i.p1)(y)});return _.union(g,S)}function m(f){for(var S=[],y=0,C=f.properties;y<C.length;y++)v(S,C[y]);f.properties=S}function v(f,g){if(t.fF.assertValue(f,"properties"),t.fF.assertValue(g,"property"),f.push(g),(g instanceof c.NJ||g instanceof c.Jg||g instanceof c.Tl)&&!_.isEmpty(g.properties))for(var S=0,y=g.properties;S<y.length;S++)v(f,y[S])}function e(f){f&&f.sort(function(g,S){return h(g.displayName,S.displayName)})}function h(f,g){return f=(f||"").toLocaleUpperCase(),g=(g||"").toLocaleUpperCase(),f.localeCompare(g)}function n(f,g){if(!_.isEmpty(f)){var S={};o(g,S),_.remove(f,function(y){return 1!==y.fieldType&&S[y.name]})}}function o(f,g){if(!_.isEmpty(f)){for(var S=[],y=0,C=f;y<C.length;y++)for(var D=0,P=C[y].children;D<P.length;D++){var M=P[D];1===M.fieldType?S.push(M):g[M.name]=M}o(S,g)}}function u(f){var g=[];a(f.properties,g),f.properties=g}function a(f,g){for(var S=0,y=f;S<y.length;S++){var C=y[S];g.push(C),1===C.fieldType&&a(C.children,g)}}function b(f){var g=[];if(f.column&&f.column.variations)for(var S=0,y=f.column.variations;S<y.length;S++){var C=y[S],E=C.navigationProperty.targetEntity,D=C.defaultHierarchy;E&&E.hierarchies&&D&&!D.hidden&&g.push(C)}return g}},934408:function(ze,K,r){function t(s,p){return JSON.stringify({e:p})}function c(s){return s.hasOwnProperty("extends")}function i(s){return s.isAbandoned}r.d(K,{U:function(){return t},jX:function(){return i},p1:function(){return c}})},818649:function(ze,K,r){r.d(K,{Hh:function(){return f},op:function(){return C}});var t=r(456535),c=r(251066),i=r(339432),s=r(809395),p=r(29436),V=r(787941),m=r(145315),v=r(734287),e=r(44615),h=r(597098),n=r(998583),o=r(324356),u=r(435795),a=r(983172),l=r(799818),d=r(374952);function f(P,M,T,R,B,N,x,A,I,w){var F=new g(P,B,N,M,T,R,x,A,I,w);return(0,e.Vn)((0,h.Q)(P),F)}var g=function(){function P(M,T,R,B,N,x,A,I,w,F){this.sqExpr=M,this.dataRoleKind=T,this.requiredTypes=R,this.schema=B,this.aggrOps=N,this.hasHierarchyLevels=x,this.localizationService=A,this.property=I,this.forceAggregateItems=w,this.aggregatesConstraint=F}return P.prototype.visitEntity=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumn=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnAggr=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitGroupingColumn=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitGroupingColumnAggr=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnHierarchyVariation=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnHierarchyLevelVariation=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnSubquery=function(M){return[]},P.prototype.visitColumnAggrSubquery=function(M){return[]},P.prototype.visitColumnTransformRef=function(M){return[]},P.prototype.visitEntityAggr=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitHierarchy=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitHierarchyLevel=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitHierarchyLevelAggr=function(M){return this.createMenuItems(this.sqExpr)},P.prototype.visitMeasure=function(M){return[]},P.prototype.visitPercentOfGrandTotal=function(M){var T=(0,n.B)(M.baseExpr);return this.createMenuItemsForPercentOfTotal(T)},P.prototype.visitPercentOfRoleTotal=function(M){var T=(0,n.B)(M.baseExpr);return this.createMenuItemsForPercentOfTotal(T)},P.prototype.visitPercentile=function(M){return[]},P.prototype.visitSelectRef=function(M){return[]},P.prototype.visitFilteredEval=function(M){var T=(0,n.B)(M.baseExpr);return this.createMenuItems(T)},P.prototype.visitArithmetic=function(M){return[]},P.prototype.visitConstant=function(M){return V.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]},P.prototype.visitSparklineData=function(M){return[]},P.prototype.visitNativeVisualCalc=function(M){return[]},P.prototype.createMenuItemsForPercentOfTotal=function(M){var T=(0,u.n)(M,this.schema).getMetadata(this.schema);if(!T)return[];var R=T.type;return this.createMenuItems(M,R.text||R.dateTime||R.duration?[3,4]:[])},P.prototype.createMenuItems=function(M,T){void 0===T&&(T=[]);var R=[];if(!this.hasHierarchyLevels&&_.isEmpty(M.validate(this.schema,this.aggrOps))&&!a.m.discourageAggregation(M,this.schema)){var N=this.dataRoleKind===m.DW.GroupingOrMeasure,x=this.dataRoleKind!==m.DW.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(M,this.schema,this.requiredTypes):[];_.isEmpty(this.aggregatesConstraint)||(x=_.intersection(x,this.aggregatesConstraint)),x=_.difference(x,T),(N&&!function(P,M){var T=P.getConceptualProperty(M);return T&&1===T.kind}(M,this.schema)&&!function(P,M){var T=(0,h.Q)(P,M);return!(!T||!T.entityAggr)}(M,this.schema)||this.forceAggregateItems&&!_.isEmpty(x))&&R.push(this.createRemoveAggregateMenuItem());for(var A=0,I=x;A<I.length;A++)R.push(this.createAggregateMenuItem(I[A]))}return R},P.prototype.createAggregateMenuItem=function(M){var T={type:0};T.key={action:4,aggregate:M};var R=(0,u.n)(this.sqExpr,this.schema).getMetadata(this.schema),B=(0,c.z)(M,R);return T.text=this.localizationService.get("Aggregate_"+B),T},P.prototype.createRemoveAggregateMenuItem=function(){var M={type:0,key:{action:2}};return M.text=this.localizationService.get("FieldWell_RemoveAggregate"),M},P.prototype.visitTransformOutputRoleRef=function(M){return[]},P}(),S=function(){function P(M,T,R,B,N,x,A,I,w,F,O,L,W,U){var j;if(this.property=M,this.bucket=T,this.buckets=R,this.dataRole=B,this.forceAggregateItems=N,this.schema=x,this.aggrOps=A,this.visual=I,this.featureSwitchService=w,this.groupingDesignStateService=F,this.showValueAsService=O,this.localizationService=L,this.visualContainer=W,this.visualCalcEagerService=U,this.supportedOperations=null!==(j=this.property.supportedOperations)&&void 0!==j?j:67108863,this.menuItems=[],1==(1&this.supportedOperations)&&this.menuItems.push(this.createDeleteMenuItem()),this.property.interactivityOptions.isEditableField&&32768==(32768&this.supportedOperations)&&this.menuItems.push(this.createRenameMenuItem()),524288==(524288&this.supportedOperations)){var z=(0,s.II)(this.visualContainer);!z&&this.bucket.properties.length>1&&this.menuItems.push(this.createMoveGroupMenuItem()),!z&&this.buckets.length>1&&this.menuItems.push(this.createMoveToGroupMenuItem())}this.createConditionalFormattingOptions()}return P.prototype.createConditionalFormattingOptions=function(){var M=this;_.isEmpty(this.property.conditionalFormattingRepetitions)||!this.visual||(this.conditionalFormattingOptions=this.property.conditionalFormattingRepetitions.map(function(T){return{repetition:T,propertyDefinition:(0,p.OT)(M.visual.objects,T)}}))},P.prototype.visitEntity=function(M){return V.fF.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems},P.prototype.visitColumn=function(M){var T=this.property.expr;return 4096==(4096&this.supportedOperations)&&this.addConditionalFormattingMenuItems(T),4==(4&this.supportedOperations)&&this.addAggregateMenuItems(),16==(16&this.supportedOperations)&&this.addShowValueAsMenuItem(M.schema),64==(64&this.supportedOperations)&&this.addQuickCalcMenuItem(M.schema),8==(8&this.supportedOperations)&&this.addShowAllMenuItem(T),2048==(2048&this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),128==(128&this.supportedOperations)&&this.addVariationsMenuItems(M),256==(256&this.supportedOperations)&&this.addGroupsMenuItems(M),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems},P.prototype.visitColumnAggr=function(M){var T=this.property.expr;return 2097152==(2097152&this.supportedOperations)&&this.addSparklineMenuItem(M.schema),4096==(4096&this.supportedOperations)&&this.addConditionalFormattingMenuItems(T),4==(4&this.supportedOperations)&&this.addAggregateMenuItems(),16==(16&this.supportedOperations)&&this.addShowValueAsMenuItem(M.schema),64==(64&this.supportedOperations)&&this.addQuickCalcMenuItem(M.schema),8==(8&this.supportedOperations)&&this.addShowAllMenuItem(T),2048==(2048&this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),128==(128&this.supportedOperations)&&this.addVariationsMenuItems(M),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems},P.prototype.visitGroupingColumn=function(M){var T=this.property.expr;return this.addConditionalFormattingMenuItems(T),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.schema),this.addQuickCalcMenuItem(M.schema),this.addShowAllMenuItem(T),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(M),this.addGroupsMenuItems(M),this.menuItems},P.prototype.visitGroupingColumnAggr=function(M){var T=this.property.expr;return this.addSparklineMenuItem(M.schema),this.addConditionalFormattingMenuItems(T),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.schema),this.addQuickCalcMenuItem(M.schema),this.addShowAllMenuItem(T),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(M),this.menuItems},P.prototype.visitColumnHierarchyVariation=function(M){return V.fF.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems},P.prototype.visitColumnHierarchyLevelVariation=function(M){var T=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.source.schema),this.addQuickCalcMenuItem(M.source.schema),this.addShowAllMenuItem(T),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},P.prototype.visitColumnSubquery=function(M){return V.fF.assertFail("Should not be called"),this.menuItems},P.prototype.visitColumnAggrSubquery=function(M){return V.fF.assertFail("Should not be called"),this.menuItems},P.prototype.visitColumnTransformRef=function(M){return V.fF.assertFail("Should not be called"),this.menuItems},P.prototype.visitEntityAggr=function(M){var T=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.schema),this.addQuickCalcMenuItem(M.schema),this.addShowAllMenuItem(T),this.menuItems},P.prototype.visitHierarchy=function(M){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},P.prototype.visitHierarchyLevel=function(M){var T=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.schema),this.addQuickCalcMenuItem(M.schema),this.addShowAllMenuItem(T),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},P.prototype.visitHierarchyLevelAggr=function(M){var T=this.property.expr;return this.addSparklineMenuItem(M.schema),this.addConditionalFormattingMenuItems(T),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(M.schema),this.addQuickCalcMenuItem(M.schema),this.addShowAllMenuItem(T),this.menuItems},P.prototype.visitMeasure=function(M){var T=this.property.expr;return this.addSparklineMenuItem(M.schema),this.addConditionalFormattingMenuItems(T),this.addShowValueAsMenuItem(M.schema),this.addQuickCalcMenuItem(M.schema),this.addShowAllMenuItem(T),this.menuItems},P.prototype.visitPercentile=function(M){return this.addConditionalFormattingMenuItems(this.property.expr),this.menuItems},P.prototype.visitSelectRef=function(M){return[]},P.prototype.visitTransformOutputRoleRef=function(M){return[]},P.prototype.visitPercentOfGrandTotal=function(M){return this.addPercentTotalMenuItems(M.baseExpr)},P.prototype.visitPercentOfRoleTotal=function(M){return this.addPercentTotalMenuItems(M.baseExpr)},P.prototype.visitFilteredEval=function(M){return this.addFilteredEvalMenuItems()},P.prototype.visitArithmetic=function(M){return this.menuItems},P.prototype.visitNativeVisualCalc=function(M){return this.addEditVisualCalcMenuItems(),this.menuItems},P.prototype.visitConstant=function(M){return V.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems},P.prototype.visitSparklineData=function(M){return this.addEditSparklineMenuItem(),this.menuItems},P.prototype.isFieldParameterOperations=function(){return 16777216==(16777216&this.supportedOperations)||8388608==(8388608&this.supportedOperations)},P.prototype.addEditVisualCalcMenuItems=function(){(0,t.jX)(this.property.expr)&&this.visualCalcEagerService.isVisualCalcAuthoringEnabled()&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createEditCalculationMenuItem()))},P.prototype.createEditCalculationMenuItem=function(){var M={type:0,key:{action:33554432}},T=this.visual.query;if(null!=T){var B=T.projections[this.property.role].all()[this.property.startIndex];M.disabled=this.visualCalcEagerService.shouldDisableEditing(B.queryRef,this.visualContainer)}return M.text=this.localizationService.get("FieldWell_EditVisualCalculation"),M},P.prototype.addFieldParameterMenuItems=function(){this.property.expr.getConceptualProperty(this.schema)&&(this.menuItems.push(this.createSeparatorMenuItem()),16777216==(16777216&this.supportedOperations)?this.menuItems.push(this.createColumnToParameter()):8388608==(8388608&this.supportedOperations)&&this.menuItems.push(this.createParameterToColumn()))},P.prototype.addFilteredEvalMenuItems=function(){return this.addAggregateMenuItems(),this.menuItems},P.prototype.addPercentTotalMenuItems=function(M){var T=(0,n.B)(M);this.addConditionalFormattingMenuItems(T),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,e.J1)(M)),this.addShowAllMenuItem(T),this.addHierarchiesMenuItems(this.property.hierarchyLevels);var R=(0,e.$s)(M);return R&&this.addVariationsMenuItems(R),this.menuItems},P.prototype.addAggregateMenuItems=function(){var M,T=f(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.property,this.forceAggregateItems);_.isEmpty(T)||(this.menuItems.push(this.createSeparatorMenuItem()),(M=this.menuItems).push.apply(M,T||[]))},P.prototype.addConditionalFormattingMenuItems=function(M){_.isEmpty(this.conditionalFormattingOptions)||M.getMetadata(this.schema)&&((0,s._9)(this.visual.query)||(this.menuItems.push(this.createSeparatorMenuItem()),this.addSetConditionalFormattingMenuItem(),this.addRemoveConditionalFormattingMenuItem()))},P.prototype.addSetConditionalFormattingMenuItem=function(){if(!_.isEmpty(this.conditionalFormattingOptions)){var M={type:0};M.text=this.localizationService.get("FieldWell_ConditionalFormatting"),this.menuItems.push(M);for(var T=M.children=[],R=0,B=this.conditionalFormattingOptions;R<B.length;R++){var N=B[R];T.push(this.createConditionalFormattingMenuItem(N.repetition.propertyDescriptor.displayName,4096,N))}}},P.prototype.addRemoveConditionalFormattingMenuItem=function(){if(!_.isEmpty(this.conditionalFormattingOptions)){var M={type:0};if(M.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(M),!_.some(this.conditionalFormattingOptions,function(I){return null!=I.propertyDefinition}))return void(M.disabled=!0);var R=M.children=[];R.push(this.createConditionalFormattingMenuItem((0,v.V)("All"),8192));for(var B=0,N=this.conditionalFormattingOptions;B<N.length;B++){var x=N[B],A=this.createConditionalFormattingMenuItem(x.repetition.propertyDescriptor.displayName,16384,x);A.disabled=null==x.propertyDefinition,R.push(A)}}},P.prototype.createConditionalFormattingMenuItem=function(M,T,R){var B={type:0};return B.key={action:T,conditionalFormattingOptions:R},B.text=(0,v.G)(M,this.localizationService),B},P.prototype.addShowAllMenuItem=function(M){var T=(0,d.k)(M);if(!(0,s._9)(this.visual.query)&&(this.dataRole.kind===m.DW.Grouping||this.dataRole.kind===m.DW.GroupingOrMeasure&&!T)){this.menuItems.push(this.createSeparatorMenuItem());var R=this.createShowAllMenuItem();this.visualContainer&&(0,s.ZB)([this.visualContainer])&&(R.tooltip=this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"),R.disabled=!0),this.menuItems.push(R)}},P.prototype.addHierarchiesMenuItems=function(M){if(!_.isEmpty(M)){var T=_.head(M),R=(0,l.wA)(this.schema,T.expr.arg);R instanceof Array&&R.length===M.length||this.bucket.supportsMultipleItems&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createRestoreHierarchyMenuItem()))}},P.prototype.addShowValueAsMenuItem=function(M){if(_.isEmpty(this.property.hierarchyLevels)&&this.property.expr.getConceptualProperty(this.schema)){var T=this.schema.schema(M),R=T&&T.capabilities.supportsScopedEval;if(!(0,s._9)(this.visual.query)&&R&&this.dataRole.kind!==m.DW.Grouping){var N=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(N)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createShowValueAsMenuItem(N)))}}},P.prototype.addQuickCalcMenuItem=function(M){if(this.property.expr.getConceptualProperty(this.schema)){var T=this.schema.schema(M);(T&&T.capabilities.canEdit&&!T.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(T))&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createQuickCalcMenuItem()))}},P.prototype.canAuthorReportMeasuresOnSchema=function(M){return M.capabilities.isExtendable||M.isExtensionSchema},P.prototype.addSparklineMenuItem=function(M){if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var T=this.schema.schema(M);if(T&&T.capabilities.supportsSparklineData){this.menuItems.push(this.createSeparatorMenuItem());var R={type:0,key:{action:2097152}};R.text=this.localizationService.get("Sparkline_AddOption"),this.updateDisableAndTooltipForVisualCalcScenarios(R,"Sparkline_AddOption_Disabled_For_VCEM","Sparkline_AddOption_Disabled_For_VC_Hidden"),this.menuItems.push(R)}}},P.prototype.addEditSparklineMenuItem=function(){if(this.featureSwitchService.featureSwitches.sparklines){this.menuItems.push(this.createSeparatorMenuItem());var M={type:0,key:{action:4194304}};M.text=this.localizationService.get("Sparkline_EditOption"),this.menuItems.push(M)}},P.prototype.addVariationsMenuItems=function(M){var T,R=(0,e.tg)(M),B=R.getConceptualProperty(this.schema);if(B){var N=B.column;if(N&&!_.isEmpty(N.variations)){for(var x=(0,o.nw)(M.schema,M.entity),A=this.createVariationMenuItem(B.displayName,R),I=[],w=0,F=N.variations;w<F.length;w++){var O=F[w];if(O.navigationProperty&&O.navigationProperty.targetEntity){var L=O.navigationProperty.targetEntity;if(this.dataRole.kind!==m.DW.Measure)for(var U=0,j=_.filter(L.hierarchies,function(ce){return!ce.hidden});U<j.length;U++){var z=j[U],G=(0,o.bT)((0,o.yU)(x,O.name,B.name),z.name);I.push(this.createVariationMenuItem(z.name,G))}for(var te=(0,o.nw)(x.schema,L.name),H=0,de=_.filter(L.properties,function(ce){return!ce.hidden});H<de.length;H++){var Y=de[H],se=(0,o.Oh)(te,Y.name);I.push(this.createVariationMenuItem(Y.displayName,se))}}}_.isEmpty(I)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(A),(T=this.menuItems).push.apply(T,I||[]))}}},P.prototype.addGroupsMenuItems=function(M){var T,R=this.schema.schema(M.schema);if(!1!==(R&&R.capabilities.canEdit&&R.capabilities.supportsGrouping)){var N=this.featureSwitchService.featureSwitches.enableGroupAuthoring,x=[],A=this.property.expr.getConceptualProperty(this.schema);N&&((0,i.X0)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&x.push(this.createGroupsMenuItem()),(0,i.yl)(M.entity,A,this.groupingDesignStateService)&&x.push(this.createEditGroupsMenuItem())),(0,i.P2)(M.entity,A,this.groupingDesignStateService)&&x.push(this.createEditClusteringMenuItem()),x.length>0&&(this.menuItems.push(this.createSeparatorMenuItem()),(T=this.menuItems).push.apply(T,x||[]))}},P.prototype.createShowValueAsMenuItem=function(M){var T={type:0,key:{action:16}};return T.text=this.localizationService.get("FieldWell_ShowValueAs"),T.children=M,T},P.prototype.createQuickCalcMenuItem=function(){var M={type:0,key:{action:64}};return M.text=this.localizationService.get("QuickCalc_NewMeasure"),M},P.prototype.createGroupsMenuItem=function(){var M={type:0,key:{action:256}};return M.text=this.localizationService.get("ContextMenuItem_CreateGroups"),M},P.prototype.createEditGroupsMenuItem=function(){var M={type:0};return M.text=this.localizationService.get("ContextMenuItem_EditGroups"),M.key={action:512},M},P.prototype.createEditClusteringMenuItem=function(){var M={type:0};return M.text=this.localizationService.get("Clustering_EditClusters"),M.key={action:1024},M},P.prototype.createRestoreHierarchyMenuItem=function(){var M={type:0};return M.text=this.localizationService.get("FieldWell_RestoreHierarchy"),M.key={action:2048},M},P.prototype.createVariationMenuItem=function(M,T){var R={type:0};return R.text=M,R.key={action:128,variationExpr:T},R},P.prototype.createShowAllMenuItem=function(){var M={type:0,key:{action:8}};return M.text=this.localizationService.get("FieldWell_ShowAll"),M},P.prototype.createDeleteMenuItem=function(){var M={type:0,key:{action:1}};return M.text=this.localizationService.get("FieldWell_Remove"),M},P.prototype.createSeparatorMenuItem=function(){var M={type:0};return M.type=1,M},P.prototype.createRenameMenuItem=function(){var M={type:0,key:{action:32768}};return M.text=this.localizationService.get("FieldWell_RenameForThisVisual"),M},P.prototype.createParameterToColumn=function(){var M={type:0,key:{action:8388608}};return M.text=this.localizationService.get("FieldParameter_ConvertParameterToColumn"),M},P.prototype.createColumnToParameter=function(){var M={type:0,key:{action:16777216}};return M.text=this.localizationService.get("FieldParameter_ConvertColumnToParameter"),this.updateDisableAndTooltipForVisualCalcScenarios(M,"FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM","FieldParameter_ConvertColumnToParameter_Disabled_For_VC_Hidden"),M},P.prototype.updateDisableAndTooltipForVisualCalcScenarios=function(M,T,R){var B,N=16===(null===(B=this.visualContainer)||void 0===B?void 0:B.visibility),x=(0,s.ZB)([this.visualContainer]);M.disabled=N||x,N?M.tooltip=this.localizationService.get(T):x&&(M.tooltip=this.localizationService.get(R))},P.prototype.createMoveToBucketsMenuItem=function(){for(var M=[],T=0,R=this.buckets;T<R.length;T++){var B=R[T];if(!this.bucket.equals(B)){var N={type:0};N.text=B.displayName,N.key={action:262144,moveFieldBucketOptions:{role:B.role,targetIndex:B.properties?B.properties.length:0,displayName:B.displayName}},N.disabled=B.disabled,M.push(N)}}return M},P.prototype.createMoveToGroupMenuItem=function(){var M={type:0,key:{action:524288}};return M.text=this.localizationService.get("ItemAction_MoveTo"),M.children=this.createMoveToBucketsMenuItem(),M},P.prototype.createMoveUpMenuItem=function(){var M={type:0};M.text=this.localizationService.get("ItemAction_Move_Up");var T={action:65536},R=this.findFieldPropertyIndexInBucket();if(R<=0)M.disabled=!0;else{var B=this.bucket.properties[R-1];T.moveFieldPropertyOptions={role:B.role,startIndex:B.startIndex,hierarchyLevelsLength:B.hierarchyLevels?B.hierarchyLevels.length:0}}return M.key=T,M},P.prototype.createMoveDownMenuItem=function(){var M={type:0};M.text=this.localizationService.get("ItemAction_Move_Down");var T={action:131072},R=this.findFieldPropertyIndexInBucket();if(R>=this.bucket.properties.length-1)M.disabled=!0;else{var B=this.bucket.properties[R+1];T.moveFieldPropertyOptions={role:B.role,startIndex:B.startIndex,hierarchyLevelsLength:B.hierarchyLevels?B.hierarchyLevels.length:0}}return M.key=T,M},P.prototype.createMoveToTopMenuItem=function(){var M={type:0};M.text=this.localizationService.get("ItemAction_Move_Top");var T={action:65536},R=this.bucket.properties[0];return this.property.equals(R)?M.disabled=!0:T.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0},M.key=T,M},P.prototype.createMoveToBottomMenuItem=function(){var M={type:0};M.text=this.localizationService.get("ItemAction_Move_Bottom");var T={action:131072},R=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(R)?M.disabled=!0:T.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0},M.key=T,M},P.prototype.findFieldPropertyIndexInBucket=function(){var M=this;return _.findIndex(this.bucket.properties,function(T){return M.property.equals(T)})},P.prototype.createMoveGroupMenuItem=function(){var M={type:0,key:{action:524288}};return M.text=this.localizationService.get("ItemAction_Move"),M.children=[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()],M},P}();function C(P,M,T,R,B,N,x,A,I,w,F,O,L,W){return{items:(0,e.Vn)((0,h.Q)(P.expr),new S(P,M,T,R,B,N,x,A,I,w,F,O,L,W))}}},483582:function(ze,K,r){r.d(K,{L:function(){return e}});var t=r(226514),c=r(456535),i=r(474147),s=r(23330),p=r(324356),V=r(116170),m=r(670196),e=function(){function n(o){this.localizationService=o}return n.prototype.fromFilterExpr=function(o,u,a){return o.accept(new h(this.localizationService,u,a))},n}(),h=function(n){function o(u,a,l){var d=n.call(this)||this;return d.localizationService=u,d.supportsCategorical=!0,d.context={isNegative:!1,allowNot:!0,logicalOperator:2},d.formatter=a,d.field=l,d}return(0,t.__extends)(o,n),o.prototype.visitColumnRef=function(u){if(null==this.field||(0,i.fS)(this.field,u))return this.createFilterCard(u)},o.prototype.visitGroupRef=function(u){if(null==this.field||(0,i.fS)(this.field,u))return this.createFilterCard(u)},o.prototype.visitMeasureRef=function(u){return this.createFilterCard(u)},o.prototype.visitAggr=function(u){return this.createFilterCard(u)},o.prototype.visitArithmetic=function(u){return this.createFilterCard(u)},o.prototype.visitHierarchyLevel=function(u){return this.supportsCategorical=!1,this.createFilterCard(u)},o.prototype.visitEntity=function(u){return this.createFilterCard(u)},o.prototype.visitIn=function(u){if(!u.table&&u.args&&1===u.args.length){u.args[0].accept(this);var a=this.filter;if(null==a&&null!=this.field)return this.createFilterCard(this.field);for(var l=this.context,d=0,b=u.values;d<b.length;d++){var f=b[d];l.condition=new s.gP(l.isNegative?10:9),f[0].accept(this),a.conditions.push(l.condition)}if(2!==a.logicalOperator)return;return a.logicalOperator=l.isNegative?0:1,a}},o.prototype.visitBetween=function(u){this.supportsCategorical=!1,u.arg.accept(this);var a=this.filter,l=this.context;if(l.condition=new s.gP(l.isNegative?1:4),u.lower.accept(this)&&(a.conditions.push(l.condition),l.condition=new s.gP(l.isNegative?3:2),u.upper.accept(this)&&(a.conditions.push(l.condition),2===a.logicalOperator)))return a.logicalOperator=0,a},o.prototype.visitAnd=function(u){this.supportsCategorical=!1;var a=this.context,l=a.isNegative?1:0;if(2===a.logicalOperator)a.logicalOperator=l;else if(a.logicalOperator!==l)return;if(u.left.accept(this)&&u.right.accept(this))return this.filter},o.prototype.visitOr=function(u){var a=this.context,l=a.isNegative?0:1;if(2===a.logicalOperator)a.logicalOperator=l;else if(a.logicalOperator!==l)return;if(u.left.accept(this)&&u.right.accept(this))return this.filter},o.prototype.visitCompare=function(u){var a=this.context,l=this.getFilterOperator(u,a.isNegative);if(void 0!==l&&0!==l){a.condition=new s.gP(this.getFilterOperator(u,a.isNegative));var d=a.allowNot;if(a.allowNot=!1,u.left.accept(this)&&u.right.accept(this)&&(u.right instanceof p.jz||u.right instanceof p.AC)){var b=this.filter;return b.conditions.push(this.context.condition),b.conditions.length>1&&2===b.logicalOperator&&(b.logicalOperator=0),a.allowNot=d,a.condition=null,b}}},o.prototype.visitNot=function(u){var a=this.context,l=u.arg;if((l instanceof p.wU||l instanceof p.Xg||l instanceof p.I6||a.allowNot&&(l instanceof p.uV||l instanceof p.Cc||l instanceof p.ev||l instanceof p.fw||l instanceof p.v3))&&(a.isNegative=!a.isNegative,u.arg.accept(this)))return a.isNegative=!a.isNegative,this.filter},o.prototype.visitConstant=function(u){if(this.context.condition)return 0!==u.type.primitiveType&&(this.context.condition.value=new s.pQ(u.value,this.formatter)),this.filter},o.prototype.visitDateSpan=function(u){if(this.supportsCategorical=!1,5===u.unit){var a=this.context,l=a.allowNot;a.allowNot=!1;var d=u.arg.accept(this);return a.allowNot=l,d}},o.prototype.visitContains=function(u){this.supportsCategorical=!1;var a=this.context;a.condition=new s.gP(a.isNegative?6:5);var l=a.allowNot;if(a.allowNot=!1,u.left.accept(this)&&u.right.accept(this)){var d=this.filter;return d.conditions.push(this.context.condition),a.allowNot=l,d}},o.prototype.visitStartsWith=function(u){this.supportsCategorical=!1;var a=this.context;a.condition=new s.gP(a.isNegative?8:7);var l=a.allowNot;if(a.allowNot=!1,u.left.accept(this)&&u.right.accept(this)){var d=this.filter;return d.conditions.push(this.context.condition),a.allowNot=l,d}},o.prototype.getFilterOperator=function(u,a){switch(this.supportsCategorical=this.supportsCategorical&&0===u.comparison,u.comparison){case 3:return a?4:1;case 4:return a?3:2;case 1:return a?2:3;case 2:return a?1:4;case 0:return(0,c.uR)(u.right)?a?12:11:(0,c.AW)(u.right)&&""===u.right.value?a?14:13:a?10:9}},o.prototype.createFilterCard=function(u){return this.filter||(this.filter=new m.d(u,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter},o}(V.vq)},340215:function(ze,K,r){r.d(K,{j:function(){return c}});var t=r(787941),c=function(){function i(s,p){t.fF.assertValue(s,"contract"),t.fF.assertValue(p,"state"),this._contract=s,this._state=p}return Object.defineProperty(i.prototype,"contract",{get:function(){return this._contract},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"readOnlyState",{get:function(){return this._state},enumerable:!1,configurable:!0}),i.prototype.updateViewState=function(){this.updateViewStateCore(this._state)},i.prototype.updateViewStateCore=function(s){},i}()},803847:function(ze,K,r){r.d(K,{vi:function(){return A},T8:function(){return I},Iu:function(){return P},Dz:function(){return L},_r:function(){return F},C:function(){return w},oj:function(){return O},hx:function(){return D},VR:function(){return M},zv:function(){return W},yU:function(){return j},gk:function(){return T},g4:function(){return z},Jm:function(){return U},Ee:function(){return R},lD:function(){return N},EK:function(){return B},CL:function(){return S},L2:function(){return G},n5:function(){return te}});var t=r(226514),c=r(273139),i=r(156319),s=r(809395),p=r(406585),V=r(883863),m=r(787941),v=r(690016),e=r(10102),h=r(72911);function o(Q,H,de){return{key:H,text:(0,h.h1)(de).get(Q),type:0}}function u(Q){return function(Q){return{items:[o("Duplicate",0,Q),o("Rename",1,Q),o("Delete",2,Q),o("Hide",3,Q)]}}(Q)}var a=r(946631),l=r(11085),d=r(767024),b=r(578539),f=r(346454),g=r(474147);function S(Q,H,de){var Y=!0,se=H&&H.featureSwitches.userFavoriteResourcePackagesEnabled&&Q.custom&&de.isFavoritePublicCustomVisual(Q.name),ce=H&&H.featureSwitches.userFavoriteResourcePackagesEnabled&&Q.custom&&Q.favoriteId||se,pe=H&&H.featureSwitches.userFavoriteResourcePackagesEnabled&&Q.custom&&!Q.favoriteId&&!se,ve=H&&H.featureSwitches.tenantOutOfBoxVisualsEnabled&&Q.custom&&Q.isOutOfBox,De=H&&H.featureSwitches.personalVisualizationPaneEnabled&&de.isUnpinnedVisual(Q.name);return(Q.custom&&!ve&&pe||De&&!ce)&&(Y=!1),Y}var y=function(){function Q(H){this.sections=[],this.activeSection=b.G.Fields,this.previousSection=b.G.Fields,this.pagePaneSections=[],this.activePageSection=b.W.Fields,this.previousPageSection=b.W.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=function(de,Y,se){return S(de,Y,se)},this.nonPersonalVisualizationPaneFilter=function(de,Y,se){return!S(de,Y,se)},this.showCloseButton=H}return Object.defineProperty(Q.prototype,"activeSectionIndex",{get:function(){var de=this,Y=_.findIndex(this.sections,function(se){return se.sectionType===de.activeSection});return-1!==Y?Y:0},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"activePageSectionIndex",{get:function(){var de=this,Y=_.findIndex(this.pagePaneSections,function(se){return se.sectionType===de.activePageSection});return-1!==Y?Y:0},enumerable:!1,configurable:!0}),Q}();function D(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:R(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:M("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:M("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:M("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:M("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:M("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:M("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:M("Summarize"),quickMeasuresPane:M("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildPane:M("Permission_Explore","PBIBuild"),suggestSkittlePane:M("Suggest_A_Visual","suggestLightningBolt"),chartElementsSkittlePane:M("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:M("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:M("CopilotPaneEntryPoint_Title","Copilot"),customizePane:M("Customize","powermap_newtour")}}function P(Q,H){return{contract:Q,selected:!1,displayName:Q.displayName,menuItems:u(H)}}function M(Q,H,de){return{title:Q,icon:H,closePaneLabel:de}}function T(){return{title:"Data",icon:"PBIData"}}function R(Q){return void 0===Q&&(Q=!1),new y(Q)}function B(Q,H,de,Y,se,ce){return N(_.filter(Q,function(ve){return ve.custom}),H,de,Y,se,ce)}function N(Q,H,de,Y,se,ce){for(var pe=[],ve=0,De=Q;ve<De.length;ve++){var We=De[ve];Y&&!Y(We,H,de)||pe.push((0,f.s_)(We,H,de,se,ce))}return pe}function x(Q,H,de){de.hostServices={getFilters:function(se,ce){return se.calculateVisualContainerFilter(Q,H,de.contract,ce)},getDataSourceVariables:function(){return Q.dataSourceVariables},getVisualRelationshipFilterAction:function(se,ce,pe){return ce.relationshipFilterAction(H,se,de.contract,pe,!1)},selectDataPoint:function(se,ce,pe,ve,De,We){se.setFilterOnSelectData(Q,ce,H,de.contract,pe,ve,De,We)},setVisualRelationshipFilterAction:function(se,ce,pe,ve){return ve.setVisualRelationship(H,se,ce,pe)}}}function A(Q,H,de,Y,se){m.fF.assertValue(Q,"contract");var ve,ce=_.map(Q.sections,function(je){return P(je,se)}),pe=Q.sections;if(pe&&pe.length>0){var De=void 0!==de?de:0;if(De<pe.length){ve=I(Q,pe[De],H,Y);for(var We=pe.length-1;We>=0;--We)ce[We].selected=We===De}}return{contract:Q,sections:ce,exploreCanvas:ve}}function I(Q,H,de,Y){m.fF.assertValue(H,"section");var se=new a.y(H,de);if(H.visualContainers&&(se.visualContainers=(0,V.Br)(_(H.visualContainers).map(function(We){return O(We,de,Y)}).filter(function(We){return!!We}).value()),se.visualContainerGroups=1===de?(0,t.__spreadArray)([],se.visualContainers,!0):w(H.visualContainerGroups,se.visualContainers,de,Y),!_.isEmpty(se.visualContainers)))for(var pe=0,ve=se.visualContainers;pe<ve.length;pe++)x(Q,H,ve[pe]);return se}function w(Q,H,de,Y){for(var se=[],ce=function(je){if((0,c.Vz)(je)){var Ae=_.find(H,function(le){return le.contract===je});Ae&&se.push(Ae)}else{var _e=F(je,w(je.children,H,de,Y));_e&&se.push(_e)}},pe=0,ve=Q;pe<ve.length;pe++)ce(ve[pe]);return se}function F(Q,H,de){if(void 0===de&&(de=0),m.fF.assertValue(Q,"contract"),Q.layouts.withId(de)){for(var se=new d.IT(Q,de,H),ce=0,pe=H;ce<pe.length;ce++)pe[ce].parentGroup=se;return se}}function O(Q,H,de){void 0===H&&(H=0),m.fF.assertValue(Q,"contract");var Y=new p.Y,se=Q.layouts.withId(H);if(se){var ce=se.position;return Y.position({y:ce.y,x:ce.x}),Y.zIndex(ce.z||0),Y.viewport({height:ce.height,width:ce.width}),new l.C(Q,Y,H,de)}}function L(Q,H,de,Y){var se=O(de,Y);if(se)return x(Q,H,se),se}function W(Q,H){return void 0===H&&(H=!0),{isVisualVisible:!1,reportFilters:H?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:Q.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:Q.get("FieldDropZone_DrillthroughLink_Watermark")}}function U(Q,H,de,Y,se,ce,pe,ve,De){var We,je;m.fF.assertValue(H,"visualContainer"),m.fF.assertValue(de,"schema");for(var Ae=(null===(je=H.filters)||void 0===je?void 0:je.filter(function(it){return null!=it}))||[],_e=[],le={container:H,scopeType:0},Z=(0,s.i4)(H,ce,de,ve),ie=(0,s.uy)(Q,H,pe,de),me=function(be){return(0,e.fw)(be,de,Y,le,se,ve,De,(0,s.cj)(H,se),H.config.singleVisual)},ye=function(be){var Fe=me(be);if(_e.push(Fe),Z){if(be.expression&&!_.isEmpty(be.expression.validate(de,ve)))return"continue";var k=_.findIndex(Z,function(Ce){return(0,g.fS)(Ce.expression,be.expression)});-1===k?0===be.howCreated&&(Fe.howCreated=be.howCreated=1):(1===be.howCreated&&(Fe.howCreated=be.howCreated=0),2!==be.howCreated&&Z.splice(k,1))}},oe=0,X=Ae;oe<X.length;oe++)ye(X[oe]);var Se=ie=ie||[];if(Se=Se.concat(Z=Z||[]),_.isEmpty(le.container.filters)&&(le.container.filters=[]),(We=le.container.filters).push.apply(We,Z||[]),Se)for(var Be=0,Ke=Se;Be<Ke.length;Be++){var Ze=Ke[Be],qe=me(Ze);qe.howCreated=Ze.howCreated,_e.push(qe)}return _e.sort(G),_e}function j(Q,H,de,Y,se,ce,pe,ve){var De=[];if(!Q||!Q.container||!Q.container.filters)return De;for(var We=0,je=Q.container.filters;We<je.length;We++){var Ae=je[We];if(null==ve||Ae.howCreated===ve){Ae.name||(Ae.name=i.l.getNextFilterName(Q.container.filters));var _e=(0,e.fw)(Ae,H,de,Q,Y,se,ce,pe,null);De.push(_e)}}return De.sort(G),De}function z(Q){return _.map(Q,function(de){return(0,v.ko)(de,"-","\\-")}).join("-")}function G(Q,H){var de=Q.getDisplayName()?-1:1,Y=H.getDisplayName()?-1:1;if(de!==Y)return de-Y;var se=Q.getDisplayName()||Q.getRestatement()||"",ce=H.getDisplayName()||H.getRestatement()||"";return se.localeCompare(ce)}function te(Q,H){var de=void 0===Q.contract.ordinal?1:-1,Y=void 0===H.contract.ordinal?1:-1;return-1===de&&-1===Y?Q.contract.ordinal-H.contract.ordinal:de-Y}},346454:function(ze,K,r){r.d(K,{Gf:function(){return V},s_:function(){return m},tl:function(){return v}});var t=r(195919),c=r(72911),i=r(318220),s=r(608014),p=r(734287);function V(n,o){return o=(0,c.h1)(o),(0,p.G)(n,o)}function m(n,o,u,a,l){var d=(l=(0,c.h1)(l)).get("AddToFavorites_ContextMenu"),b=l.get("RemoveFromFavorites_ContextMenu"),f=l.get("AboutVisualDialog_About"),g={plugin:n,enabled:!0,active:!1,menuItems:[]},S=v(n,a,l,o);g.class=S.class,g.title=S.title,S.watermarkKey&&(n.watermarkKey=S.watermarkKey);var y=o&&o.featureSwitches.userFavoriteResourcePackagesEnabled&&n.custom&&u.isFavoritePublicCustomVisual(n.name),C=o&&o.featureSwitches.userFavoriteResourcePackagesEnabled&&n.custom&&n.favoriteId||y,E=o&&o.featureSwitches.userFavoriteResourcePackagesEnabled&&n.custom&&!n.favoriteId&&!y,D=o&&o.featureSwitches.tenantOutOfBoxVisualsEnabled&&n.custom&&n.isOutOfBox,P=o&&o.featureSwitches.personalVisualizationPaneEnabled&&u.isUnpinnedVisual(n.name),M=o&&o.featureSwitches.personalVisualizationPaneEnabled&&!u.isUnpinnedVisual(n.name),T=null;n.custom&&C?T=e(b,4):n.custom&&!D&&E?T=e(d,3):P?T=e(d,7):(!n.custom||D)&&M&&(T=e(b,6)),T&&g.menuItems.push(T);var R=e(f,5);return g.menuItems.push(R),g.tooltipConfig={tooltipTitle:g.title,tooltipShowOnFocus:!0},g}function v(n,o,u,a){var l=function(n,o,u,a,l){var d,b=V(o,a=(0,c.h1)(a));switch(n){case i.L.table.name:case i.L.tableEx.name:return{class:"table",title:b};case i.L.matrix.name:case i.L.pivotTable.name:return{class:"matrix",title:b};case i.L.scatterChart.name:return{class:"scatter",title:b};case i.L.barChart.name:return{class:"columnHoriz",title:b};case i.L.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:b};case i.L.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:b};case i.L.ribbonChart.name:return{class:"ribbon",title:b};case i.L.columnChart.name:return{class:"columnVert",title:b};case i.L.clusteredColumnChart.name:return{class:"clusteredBarVert",title:b};case i.L.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:b};case i.L.realTimeLineChart.name:case i.L.lineChart.name:return{class:"line",title:b};case i.L.areaChart.name:return{class:"area",title:b};case i.L.stackedAreaChart.name:return{class:"stackedArea",title:b};case i.L.hundredPercentStackedAreaChart.name:return{class:"stacked100AreaChart",title:b};case i.L.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:b};case i.L.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:b};case i.L.pieChart.name:return{class:"pie",title:b};case i.L.treemap.name:return{class:"tree",title:b};case i.L.map.name:return{class:"map",title:b};case i.L.filledMap.name:return{class:"filledMap",title:b};case i.L.azureMap.name:return{class:"azureMap",title:b};case i.L.shapeMap.name:return{class:"shapeMap",title:b};case i.L.funnel.name:return{class:"funnel",title:b};case i.L.gauge.name:return{class:"gauge",title:b};case i.L.multiRowCard.name:return{class:"card",title:b};case i.L.card.name:return{class:"calloutCard",title:b};case i.L.cardVisual.name:return{class:"cardVisual",title:b};case i.L.waterfallChart.name:return{class:"waterfall",title:b};case i.L.slicer.name:return{class:"slicerVert",title:b};case i.L.advancedSlicerVisual.name:return{class:"buttonSlicer",title:b};case i.L.donutChart.name:return{class:"donut",title:b};case i.L.kpi.name:return{class:"kpi",title:b};case i.L.scriptVisual.name:return{class:"rScriptImageVisual",title:b};case i.L.pythonVisual.name:return{class:"pythonImageVisual",title:b};case null===(d=i.L.debugVisual)||void 0===d?void 0:d.name:return{class:"debugger",title:b};case i.L.textbox.name:return{class:"smartNarratives",title:b};case i.L.basicShape.name:case i.L.shape.name:case i.L.actionButton.name:case i.L.image.name:return{class:null,title:b};case i.L.keyDriversVisual.name:return{class:"keyDrivers",title:b};case i.L.qnaVisual.name:return{class:"qna",title:b};case i.L.decompositionTreeVisual.name:return{class:"decompositionTree",title:b};case i.L.scorecard.name:return{class:"scorecard",title:b};case i.L.rdlVisual.name:return{class:"rdlVisual",title:null!=l&&l.featureSwitches.operationalReportStringTest?V((0,p.V)("Operational_Report"),a):b};case i.L.aiNarratives.name:return{class:"aiNarratives",title:b};default:if(u&&u.isTrustedVisual(n)){var f=u.getVisualTypeOptions(n);if(f)return{class:f.class,title:f.titleKey?a.get(f.titleKey):n,watermarkKey:f.watermarkKey}}return}}(n.name,n.titleKey,o,u,a),d=n.custom?n.displayName||n.name.match(/([A-z\s]+)/g)[0]:void 0;return l?(d&&(l.title=d),l):{class:n.class,title:null!=d?d:n.name}}function e(n,o){return{text:n,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:o,type:t.w.Item,checked:!1,hrefTarget:s.bS}}},795914:function(ze,K,r){r.d(K,{$Z:function(){return i}});var t=r(972817),c=r(41455),i=function(){function e(h){h&&(this.color=h.color.solid.color,this.visible=h.show,this.radius=h.radius)}return Object.defineProperty(e.prototype,"thickness",{get:function(){return s},enumerable:!1,configurable:!0}),e.prototype.getNumericPaddingFromBorder=function(){return v(this.radius)},e.prototype.getBorderStyle=function(){if(this.visible){var h=(0,t.Et)(this.color,1);return s+"px "+p+" "+h}},e.prototype.getPaddingFromBorder=function(){var h=v(this.radius);if(this.visible)return"".concat(h,"px")},e.prototype.getBorderRadius=function(){if(this.visible)return"".concat(this.radius||c.FJ,"px")},e}(),s=1,p="solid",m=Math.sin(Math.PI/180*45);function v(e){return Math.ceil(e-e*m)}},11085:function(ze,K,r){r.d(K,{C:function(){return L}});var x,t=r(226514),c=r(623350),i=r(809762),s=r(822311),p=r(160046),V=r(35801),m=r(809395),v=r(406585),e=r(298801),h=r(187810),n=r(318220),o=r(829062),u=r(177497),a=r(629925),l=r(787941),d=r(299747),b=r(14253),f=r(932178),g=r(959138),S=r(144900),y=r(240849),C=r(145315),E=r(129035),D=r(620108),P=r(281469),M=r(625971),T=r(568656),R=r(483981),B=r(340215),N=r(346454),I={key:void 0,defaultValue:!0,forceVisible:(x={},x[1]=!0,x)},w={visualInformationButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showVisualInformationButton"}),visualWarningButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showVisualWarningButton"}),visualErrorButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showVisualErrorButton"}),drillRoleSelector:(0,t.__assign)((0,t.__assign)({},I),{key:"showDrillRoleSelector"}),drillUpButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showDrillUpButton"}),drillToggleButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showDrillToggleButton"}),drillDownLevelButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showDrillDownLevelButton"}),drillDownExpandButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showDrillDownExpandButton"}),pinButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showPinButton"}),filterRestatementButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showFilterRestatementButton"}),focusModeButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showFocusModeButton"}),copyVisualImageButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showCopyVisualImageButton"}),seeDataLayoutToggleButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showSeeDataLayoutToggleButton"}),optionsMenu:(0,t.__assign)((0,t.__assign)({},I),{key:"showOptionsMenu"}),commentButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showCommentButton"}),tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:(0,t.__assign)((0,t.__assign)({},I),{key:"showPersonalizeVisualButton"}),smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1}},O=function(W){return W[W.Uninitialized=0]="Uninitialized",W[W.Initialized=1]="Initialized",W}({}),L=function(W){function U(j,z,G,te){var Q=W.call(this,j,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:z,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null})||this;return Q.uiScale=P.U2,Q.warningsSubject=new c.X([]),Q.warnings$=Q.warningsSubject.asObservable(),Q.currentCanvasLayout=G,Q.currentEditMode=0,Q.visualTitleWrapped=[],Q.visualSubTitleWrapped=[],Q.currentZone=te,Q.servicesState=O.Uninitialized,Q}return(0,t.__extends)(U,W),U.prototype.resolveDataAppliedEvent=function(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()},U.prototype.getRunningVisual=function(){return this.runningVisual},Object.defineProperty(U.prototype,"errorInfo",{get:function(){return this.runningVisual&&this.runningVisual.getErrorInfo()},set:function(z){var G=this.getRunningVisual();G&&G.setErrorInfo(z)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"visualPausedWarning",{get:function(){return this.visualPausedWarningModel},set:function(z){this.visualPausedWarningModel=z,this.regenerateWarnings();var G=this.getRunningVisual();G&&G.setHasPendingChanges(void 0!==z)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"featureNotSupportedWarning",{get:function(){return this.featureNotSupportedWarningModel},set:function(z){this.featureNotSupportedWarningModel=z,this.regenerateWarnings()},enumerable:!1,configurable:!0}),U.prototype.setThemeCollection=function(j){this.themeCollection=j,this.runningVisual&&this.runningVisual.setThemeCollection(j)},U.prototype.startResize=function(){this.originalPosition=this.position},U.prototype.getVisualType=function(){return(0,V.s)(this.contract)},U.getVisualBodyOffset=function(j,z){return U.useStylableHeader(z)||j.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}},Object.defineProperty(U.prototype,"id",{get:function(){return this.contract.id},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"position",{get:function(){return this.contract.layouts.withId(this.currentCanvasLayout).position},set:function(z){this.contract.layouts.withId(this.currentCanvasLayout).position=z},enumerable:!1,configurable:!0}),U.prototype.getScaledPosition=function(j){return void 0===j&&(j=!0),this.convertToScaledPosition(this.position,j)},Object.defineProperty(U.prototype,"editMode",{get:function(){return this.currentEditMode},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"headerTitleMaxLines",{get:function(){return this.isTitleWrappingEnabled?3:1},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"headerSubTitleMaxLines",{get:function(){return this.isSubTitleWrappingEnabled?3:1},enumerable:!1,configurable:!0}),U.prototype.setEditMode=function(j){this.currentEditMode=j,(0,R.yY)(this.runningVisual,this.runningVisual.getViewport(),C.EP.ViewMode,this.visualHostServices,this.editMode)},Object.defineProperty(U.prototype,"isPositioned",{get:function(){var z=this.position;return 0!==z.width&&0!==z.height},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isPoppedOut",{get:function(){var z=this.contract.visibility;return null!=z&&0!==z&&4!==z&&32!==z},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"bringToFront",{get:function(){var z=this.contract.config.singleVisual.evaluatedObjects;return!z||!z.general||!z.general.keepLayerOrder},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isHidden",{get:function(){return(0,p.xj)(this.contract.config.singleVisual)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isTitleWrappingEnabled",{get:function(){return this.visualTitle&&!!this.visualTitle.titleWrap},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isSubTitleWrappingEnabled",{get:function(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap},enumerable:!1,configurable:!0}),U.prototype.visualTitleAreaVisible=function(){var j=this.contract.config.singleVisual,z=j.evaluatedObjects&&j.evaluatedObjects.title,G=this.visualPlugin&&this.visualPlugin.capabilities(j.visualType);return!(0,s.xj)(z,G&&G.suppressDefaultTitle)&&!this.isPoppedOut},U.prototype.visualTitleVisible=function(){if(this.isPoppedOut)return!1;var j=this.contract.config.singleVisual;if(!j)return!1;var z=this.visualPlugin&&this.visualPlugin.capabilities(j.visualType);if(!z)return!1;var G=this.visualTitle;return!(!G||!1===G.show||void 0===G.show&&z.suppressDefaultTitle||!G.text)},U.prototype.visualSubTitleVisible=function(){var j;if(null===(j=this.featureSwitchService)||void 0===j||!j.featureSwitches.vcPadding||this.isPoppedOut)return!1;var z=this.contract.config.singleVisual;if(!z)return!1;var G=this.visualPlugin&&this.visualPlugin.capabilities(z.visualType);if(!G)return!1;var te=this.visualTitle;if(!te)return!1;var Q=this.visualSubTitle;return!(!Q||!1===te.show||void 0===te.show&&G.suppressDefaultTitle||!Q.show||!Q.text)},U.prototype.visualDividerVisible=function(){var j,z=this.contract.config.singleVisual,G=z.evaluatedObjects&&z.evaluatedObjects.divider,te=z.evaluatedObjects&&z.evaluatedObjects.title,Q=this.visualPlugin&&this.visualPlugin.capabilities(z.visualType);return!(null===(j=this.featureSwitchService)||void 0===j||!j.featureSwitches.vcPadding||!G||(0,s.Qy)(G)||(0,s.xj)(te,Q&&Q.suppressDefaultTitle)||this.isPoppedOut)},U.prototype.supportsKeyboardNavigation=function(){var z=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return z&&z.supportsKeyboardFocus},Object.defineProperty(U.prototype,"supportsCustomPadding",{get:function(){var z;return null===(z=this.featureSwitchService)||void 0===z?void 0:z.featureSwitches.vcPadding},enumerable:!1,configurable:!0}),U.prototype.setServices=function(j,z,G,te,Q,H,de,Y,se,ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me){l.fF.assertValue(j,"visualHostServices"),l.fF.assertValue(z,"visualPlugin"),l.fF.assertValue(G,"visualPluginOps"),this.visualHostServices=(0,M.K)(j,De),this.visualAdapterHostServices=le,this.visualPlugin=z,this.visualPluginOps=G,this.viewModeState=te,this.formFactor=Q,this.visibility=H,this.runningVisuals=de,this.explorationCapabilities=_e,this.visualAuthoring=se,this.filterGenerator=pe,this.themeService=ve,this.showClientWarnings=We,this.sortServices=je,this.selectionServices=Ae,this.dataViewServices=Z,this.servicesState=O.Initialized,this.bodyScaleChanged=ie,this.featureSwitchService=Y,this.localizationService=ce,this.pauseQueriesService=me},U.prototype.setSelected=function(j){this.isSelected=j},U.prototype.handleKeyDown=function(j){var z=function(W){switch(W.keyCode){case 122:return W.altKey&&W.shiftKey?0:void 0;case 70:return f.M.isCtrlOrMeta(W)?1:void 0}}(j);switch(z){case 0:this.visibility.set(this.contract,8);break;case 1:this.toggleVisualSearch(j)}if(this.shouldHandleKeydown(j)){if(this.isTextboxVisual()){var te=this.getTextboxVisual();return te&&te.focus()}if(this.isContractQnaVisual()){var Q=this.getQnaVisual();if(Q)return Q.focus()}}},U.prototype.toggleVisualSearch=function(j){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var G=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);G&&this.filterGenerator.tryGetSelfFilterEnabledProperty(G)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),j.preventDefault(),j.stopPropagation())}},U.prototype.shouldHandleKeydown=function(j){if(!this.runningVisual||0===this.viewModeState.getMode())return!1;var z=j.keyCode;if((0,g.Wl)(z)||(0,g.SF)(z)||27===z||9===z||18===z||13===z||f.M.isCtrlOrMeta(j))return!1;var G=this.contract.toolbar&&this.contract.toolbar.element;return!(G&&(0,i.y)(G))},U.prototype.setVisualTitle=function(j){this.visualTitle=j;var z="";j&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&j.titleComponents&&j.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=j.titleComponents.subtitle,j.titleComponents&&j.titleComponents.title?z=j.titleComponents.title:j.text&&(z=j.text)):j.text?z=j.text:j.titleComponents&&j.titleComponents.title&&(z=j.titleComponents.title)),this.readOnlyState.popOutBarTitle=z},U.prototype.setVisualSubTitle=function(j){this.visualSubTitle=j;var z="";j&&j.text&&(z=j.text),this.readOnlyState.popOutBarSubtitle=z},U.prototype.setTooltip=function(){var j,z,G=(0,V.s)(this.contract),te=this.getVisualLinkTypeLabel(G)||"",Q=null===(z=null===(j=this.visualPlugin)||void 0===j?void 0:j.capabilities(G))||void 0===z?void 0:z.ariaRole,H=this.visualPlugin&&this.visualPlugin.getPlugin(G);if(H){var de=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,Y=de?" ".concat((0,N.Gf)(de,this.localizationService)):"";G=(0,N.s_)(H,void 0,void 0,void 0,this.localizationService).title+Y}var ce=this.visualTitle,pe=void 0!==(null==ce?void 0:ce.text)&&"".concat(ce.text," ")||"",ve=this.visualSubTitle,De=void 0!==(null==ve?void 0:ve.text)&&"".concat(ve.text," ")||"",We=this.contract.config.singleVisual,je=We.evaluatedObjects&&We.evaluatedObjects.general&&We.evaluatedObjects.general.altText?" ".concat(We.evaluatedObjects.general.altText):"";this.tooltip="".concat(pe).concat(te).concat(G).concat(je),this.ariaLabel="".concat(pe).concat(De).concat(te).concat(je),this.ariaRole="group",this.ariaRoleDescription=null!=Q?Q:G,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")},U.prototype.getVisualLinkTypeLabel=function(j){var z=this.visualPlugin&&this.visualPlugin.capabilities(j);if(z&&z.supportsVisualLink){var G=this.contract.config.singleVisual,te=G.evaluatedObjects&&G.evaluatedObjects.visualLink;if(te&&te.show){var Q=(0,p.oL)(te),H=_.find(p.Dy.members(),function(de){return de.value===Q}).displayName;return"".concat((0,N.Gf)(H,this.localizationService)," ")}}},U.prototype.setHeaderTooltip=function(){var j=this.contract.config.singleVisual,z=j.evaluatedObjects&&j.evaluatedObjects.visualHeader,G=j.evaluatedObjects&&j.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=z&&z.showTooltipButton&&G?G:void 0},U.prototype.redrawVisual=function(){this.runningVisual&&(0,R.yY)(this.runningVisual,this.runningVisual.getViewport(),C.EP.Resize,this.visualHostServices,this.editMode)},U.prototype.updateVisualViewportForUserResize=function(j){var z,G=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),te=this.runningVisual;this.enableVisualScaling?(j.width/=this.uiScale.x,this.visualBorder&&(j.width-=2*this.visualBorder.thickness),this.useStylableHeader()||(j.height-=U.VisualContainerHeaderHeight),j.height/=this.uiScale.y,this.visualBorder&&(j.height-=2*this.visualBorder.thickness)):this.useStylableHeader()||(j.height-=U.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(j.height-=U.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(j.width,j.height,1,G),te&&(this.viewportResized=!0,(0,R.yY)(te,this.visualViewport,C.EP.Resize,this.visualHostServices,this.editMode,1)),this.applyVisualViewportStyle(this.readOnlyState,j),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,j.width);var H=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,H.width,G),this.applyVisualTitleAreaStyle(this.readOnlyState),null!==(z=this.featureSwitchService)&&void 0!==z&&z.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,H.width,G),this.applyDividerStyle(this.readOnlyState,G))},U.prototype.shouldUseCache=function(){return(0,m.dw)(this.contract,this.options.disableQueryCacheUpdates)},U.prototype.adjustForVisualContainerHeader=function(j,z,G){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(G&&(j.y+=z),j.height-=z)},U.prototype.convertToScaledPosition=function(j,z){void 0===z&&(z=!0);var G=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,te=(0,T.vW)(j,this.uiScale,!G);return this.adjustForVisualContainerHeader(te,this.useStylableHeader()?0:-U.VisualContainerHeaderHeight,z),te},U.prototype.reset=function(){var j=this.visual;j&&(j.data=void 0,j.dataTransforms=void 0,j.hostServices=o.o,j.visualAdapterHostServices={getNextDataSegment:function(){return new S.J(function(G,te){return te(new Error("Visual reset"))})},startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0},U.prototype.updateViewStateCore=function(j){var z,G;if(this.servicesState===O.Initialized){var te=this.viewModeState&&this.viewModeState.getConfig(),Q=te&&te.displayOptions,H=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),de=this.contract,Y=this.position,se=this.overridePosition||this.convertToScaledPosition(Y),ce=(0,d.ED)(se),pe=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(pe&&(ce.height-=U.VisualContainerHeaderHeight),ce.height/=this.uiScale.y,ce.width/=this.uiScale.x):(ce=(0,d.ED)(Y),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&pe&&(ce.height-=U.VisualContainerHeaderHeight/this.uiScale.y)):pe&&(ce.height-=U.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(ce.height-=U.VisualContainerFooterHeight),this.isPoppedOut&&(!Q||!Q.hideInFocusBar)){var De=U.PopOutBarHeight;this.enableVisualScaling&&(De/=this.uiScale.y),ce.height-=De}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var We=null!==(z=this.contract.detailVisualLayout)&&void 0!==z?z:1;this.showDetailHorizontal=this.hasDetailVisual&&1===We,this.showDetailVertical=this.hasDetailVisual&&2===We,this.visualViewport=this.getVisualViewport(ce.width,ce.height,this.uiScale.x,H);var je=de.config.singleVisual;if(j.isFilterVisual=!1,je){this.showWatermark=!1,this.canPin=!0;var Ae=je.visualType,_e=this.visualPlugin&&this.visualPlugin.capabilities(Ae);if(_e&&(j.isFilterVisual=null!=(0,D.MD)(_e.objects)),je.query){var le=je.query.defn;if(le){var Z=le.orderBy();j.actualSortDirection=Z&&Z.length?Z[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(Ae)&&"debugVisual"!==Ae&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&_e&&_e.supportsLandingPage&&(1===this.viewModeState.getMode()||_e.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,R.vC)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(j,this.visualViewport)}j.position=(0,t.__assign)((0,t.__assign)({},se),{z:null!=this.zIndexOverride?this.zIndexOverride:Y.z||0,angle:Y.angle||0}),this.applyTitleStyle(j,se.width,H),this.applyVisualTitleAreaStyle(j),!(null===(G=this.featureSwitchService)||void 0===G)&&G.featureSwitches.vcPadding&&(this.applySubTitleStyle(j,se.width,H),this.applyDividerStyle(j,H)),this.applyVisualViewportStyle(this.readOnlyState,ce),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(j,ce.width),this.applyHeaderStyle(j),this.setHeaderItemVisibility(j),this.setTooltip(),this.setHeaderTooltip(),de&&de.postProcessing&&this.configureInitializationSpinner(de.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}},U.prototype.isHeaderItemVisible=function(j){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[j]},U.prototype.isDeprecationWarningVisible=function(){return 1===this.viewModeState.getMode()&&void 0!==this.customVisualDeprecatedWarningInfo},U.prototype.isWarningVisible=function(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo},U.prototype.isErrorVisible=function(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo},U.prototype.isInfoVisible=function(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo},U.prototype.isInfoVersionsVisible=function(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo},U.prototype.isHeaderTooltipVisible=function(){return this.isHeaderItemVisible("tooltipButton")},U.prototype.isAnyIconVisible=function(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()},U.prototype.anyHeaderItemVisible=function(j){if(j)for(var z=0,G=j;z<G.length;z++)if(this.isHeaderItemVisible(G[z]))return!0;return!1},U.prototype.isTextboxVisual=function(){return this.contract.config.singleVisual.visualType===n.L.textbox.name},U.prototype.getTextboxVisual=function(){var j=this;return l.fF.assert(function(){return j.isTextboxVisual()},"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()},U.prototype.isContractAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)},U.prototype.isDefinitionAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)},U.prototype.isContractQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)},U.prototype.getQnaVisual=function(){var j=this;return l.fF.assert(function(){return j.isContractQnaVisual()},"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()},U.prototype.isDefinitionQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)},U.prototype.setInitialLoadTelemetryParent=function(j){l.fF.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=j},U.prototype.regenerateWarnings=function(){this.warningsSubject.next(this.getVisualWarnings())},U.prototype.tryGetUnwrappedVisual=function(){var j,z=null===(j=this.runningVisual)||void 0===j?void 0:j.getAdapter();return z?z.unwrap?z.unwrap():z:void 0},U.prototype.setHeaderItemVisibility=function(j){var z=j.itemVisibility;z||(z=j.itemVisibility={});var G=this.viewModeState&&this.viewModeState.getMode(),te=this.contract.config.singleVisual,Q=this.useStylableHeader()?te.evaluatedObjects&&te.evaluatedObjects.visualHeader:void 0;for(var H in w){var de=w[H],ce=de.forceVisible,pe=void 0;if(ce&&void 0!==ce[G])pe=ce[G];else{var ve=Q&&Q[de.key];pe=void 0!==ve?ve:de.defaultValue}z[H]=pe}},U.prototype.applyHeaderStyle=function(j){var z=this.contract.config.singleVisual,G=this.useStylableHeader()?z.evaluatedObjects&&z.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(j,G),this.applyHeaderBackgroundStyle(j,G),this.applyHeaderForegroundStyle(j,G)},U.prototype.applyItemContainerStyle=function(j,z){var G={"background-color":"","border-color":""};if(this.useStylableHeader()&&z&&(z.background||null!=z.transparency||null!=z.border)){var te=z.background&&z.background.solid?(0,u.WV)(z.background.solid.color):{R:255,G:255,B:255},Q=z.border&&z.border.solid?(0,u.WV)(z.border.solid.color):te;null!=z.transparency?Q.A=te.A=1-z.transparency/100:(null==te.A&&(te.A=1),null==Q.A&&(Q.A=1)),G["background-color"]=(0,u.U8)(te),G["border-color"]=(0,u.U8)(Q)}j.headerItemContainerStyle||(j.headerItemContainerStyle=new v.Y),j.headerItemContainerStyle.addAttributes(G),j.headerItemContainerStyle.apply()},U.prototype.applyHeaderBackgroundStyle=function(j,z){var G,te={"background-color":""};if(this.useStylableHeader()&&z&&(z.background||null!=z.transparency)){var Q=z.background&&z.background.solid?(0,u.WV)(z.background.solid.color):U.VisualHeaderBackgroundColor;null!=z.transparency?Q.A=1-z.transparency/100:null==Q.A&&(Q.A=1-U.VisualHeaderTransparency/100),te["background-color"]=(0,u.U8)(Q);var H=null===(G=this.themeService)||void 0===G?void 0:G.getVisualStyle(this.themeCollection);H&&(te[":hover"]=e.v.getThemeColor(H,"backgroundNeutral"))}j.headerBackgroundStyle||(j.headerBackgroundStyle=new v.Y),j.headerBackgroundStyle.addAttributes(te),j.headerBackgroundStyle.apply()},U.prototype.applyHeaderForegroundStyle=function(j,z){var G={color:""};this.useStylableHeader()&&z&&z.foreground&&z.foreground.solid&&(G.color=z.foreground.solid.color),j.headerForegroundStyle||(j.headerForegroundStyle=new v.Y),j.headerForegroundStyle.addAttributes(G),j.headerForegroundStyle.apply()},U.prototype.applyVisualBodyStyle=function(j){var z,G;j.visualStyle||(j.visualStyle=new v.Y);var te=null===(z=this.themeService)||void 0===z?void 0:z.getVisualStyle(this.themeCollection);null!=te&&te.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=e.v.getThemeColor(te,"foreground"));var H=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(null!==(G=this.featureSwitchService)&&void 0!==G&&G.featureSwitches.vcPadding){var de=this.getVisualBodyPadding();H="".concat(de.top,"px ").concat(de.right,"px ").concat(de.bottom,"px ").concat(de.left,"px")}var Y=this.shouldAppyBoxShadow(),se=(0,m.O$)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),H,Y&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());j.visualStyle.addAttributes(se),j.visualStyle.apply()},U.prototype.shouldAppyBoxShadow=function(){var j=this.contract.visibility;if(null==j)return!0;switch(j){case 0:return!0;case 1:case 2:case 8:case 4:case 16:case 32:return!1;default:return l.fF.assertFail("Unhandled visibility: ".concat(j)),!1}},U.prototype.applyVisualViewportStyle=function(j,z){j.visualViewportStyle||(j.visualViewportStyle=new v.Y);var G=(0,m._L)(z,this.enableVisualScaling?this.uiScale.x:void 0);j.visualViewportStyle.addAttributes(G),j.visualViewportStyle.apply()},U.prototype.applyFooterStyle=function(j,z){if(this.isFooterVisible&&this.isFooterVisible()){var G={};j.footerStyle||(j.footerStyle=new v.Y),G.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",G.width=z,j.footerStyle.addAttributes(G),j.footerStyle.apply()}},U.prototype.applyTitleStyle=function(j,z,G){var te,Q,H={};if(this.visualTitleVisible()){!(null===(te=this.featureSwitchService)||void 0===te)&&te.featureSwitches.vcPadding&&(H[a.YY]=this.getSpacing(m.hs.Title)),H[a.B1]=a.l6;var de=this.contract.config.singleVisual,Y=de.evaluatedObjects&&de.evaluatedObjects.title||{},se=this.getTitleFontProperties(Y,G);H[a.t0]="".concat(se.size.pt,"pt")||0,H[a.Mq]="".concat(se.family)||"",H[a.dj]="".concat(se.color)||"",H[a.Z7]=Y.alignment?Y.alignment:"",H[a.CB]=Y.background&&Y.background.solid&&Y.background.solid.color||"",H[a.ei]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,m.X)(se),this.insetHeaderSize?this.isTitleWrappingEnabled||(H[a.kP]=(z-this.insetHeaderSize.width)/this.uiScale.x):H[a.kP]=null,H[a.ps]=Y.bold?a.en:"",H[a.Ji]=Y.italic?a.BF:"",H[a.QX]=Y.underline?a.f0:"";var ve=!(null!==(Q=this.visualTitle)&&void 0!==Q&&Q.isPlaceholderText);H[a.mA]=ve?"none":"1px dashed black",H[a.LR]=ve?"0":"1px",H[a.Ux]=ve?"0":"1px",H[a.wF]=ve?"default":"text"}else H[a.B1]=a.fw;j.titleStyle||(j.titleStyle=new v.Y),j.titleStyle.addAttributes(H),j.titleStyle.apply()},U.prototype.applySubTitleStyle=function(j,z,G){var te,Q,H={};if(this.visualSubTitleVisible()&&null!==(te=this.featureSwitchService)&&void 0!==te&&te.featureSwitches.vcPadding){H[a.YY]=this.getSpacing(m.hs.SubTitle),H[a.B1]=a.l6;var de=this.contract.config.singleVisual,Y=de.evaluatedObjects&&de.evaluatedObjects.subTitle||{},se=this.getSubTitleFontProperties(Y,G);H[a.t0]="".concat(se.size.pt,"pt")||0,H[a.Mq]="".concat(se.family)||"",H[a.dj]="".concat(se.color)||"",H[a.Z7]=Y.alignment?Y.alignment:"",H[a.ei]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,m.X)(se),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(H[a.kP]=(z-this.insetHeaderSize.width)/this.uiScale.x):H[a.kP]=null,H[a.ps]=Y.bold?a.en:"",H[a.Ji]=Y.italic?a.BF:"",H[a.QX]=Y.underline?a.f0:"";var ve=!(null!==(Q=this.visualSubTitle)&&void 0!==Q&&Q.isPlaceholderText);H[a.mA]=ve?"none":"1px dashed black",H[a.LR]=ve?"none":"2px",H[a.Ux]=ve?"0":"1px",H[a.wF]=ve?"default":"text"}else H[a.B1]=a.fw;j.subTitleStyle||(j.subTitleStyle=new v.Y),j.subTitleStyle.addAttributes(H),j.subTitleStyle.apply()},U.prototype.applyDividerStyle=function(j,z){var G,te={};if(this.visualDividerVisible()&&null!==(G=this.featureSwitchService)&&void 0!==G&&G.featureSwitches.vcPadding){te[a.YY]=this.getSpacing(m.hs.Divider),te[a.B1]=a.l6;var H=this.contract.config.singleVisual,de=H.evaluatedObjects&&H.evaluatedObjects.divider,se=de.style||"Solid",ce=de.color&&de.color.solid&&de.color.solid.color||z.colorPalette.foregroundNeutralSecondary.value;if(te[a.VM]="".concat(de.width||1,"px ").concat(se," ").concat(ce),!1!==de.ignorePadding){var ve=this.getVisualBodyPadding();te[a.Sd]="-".concat(ve.left||0,"px"),te[a.Uy]="-".concat(ve.right||0,"px")}else te[a.Sd]="",te[a.Uy]=""}else te[a.B1]=a.fw;j.visualsDividerStyle||(j.visualsDividerStyle=new v.Y),j.visualsDividerStyle.addAttributes(te),j.visualsDividerStyle.apply()},U.prototype.applyVisualTitleAreaStyle=function(j){var z,G={};if(this.visualTitleVisible()&&null!==(z=this.featureSwitchService)&&void 0!==z&&z.featureSwitches.vcPadding){var te=this.contract.config.singleVisual,Q=te.evaluatedObjects&&te.evaluatedObjects.title||{};G[a.CB]=Q.background&&Q.background.solid&&Q.background.solid.color||"";var H=this.getVisualBodyPadding();G[a.LR]="-".concat(H.top||0,"px"),G[a.j4]="".concat(H.top||0,"px"),G[a.Sd]="-".concat(H.left||0,"px"),G[a.Ux]="".concat(H.left||0,"px"),G[a.Uy]="-".concat(H.right||0,"px"),G[a.By]="".concat(H.right||0,"px")}else G[a.CB]="",G[a.LR]="",G[a.j4]="",G[a.Sd]="",G[a.Ux]="",G[a.Uy]="",G[a.By]="";j.visualTitleAreaStyle||(j.visualTitleAreaStyle=new v.Y),j.visualTitleAreaStyle.addAttributes(G),j.visualTitleAreaStyle.apply()},U.prototype.getSpacing=function(j){var z=this.contract.config.singleVisual;return(0,m.h4)(j,z.evaluatedObjects&&z.evaluatedObjects.spacing)},U.prototype.getVisualBodyPadding=function(){var j;return l.fF.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on"),(0,m.NY)(this.visualPadding,null===(j=this.contract.config.singleVisual.evaluatedObjects)||void 0===j?void 0:j.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())},U.prototype.updateVisualDefinition=function(j){var G,te,z=this,Q=this.contract.config.singleVisual,H=Q.visualType;if(l.fF.assertAnyValue(Q,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var de=this.visual;de.type!==Q.visualType?(de.data=null,null===(G=this.visualHostServices)||void 0===G||G.onClearLicenseNotification()):this.showWatermark&&(null===(te=this.visualHostServices)||void 0===te||te.onClearLicenseNotification()),l.fF.assert(function(){return de.visualName===z.contract.name},"visualName"),de.type=H,de.stylePresetName=Q.evaluatedObjects&&Q.evaluatedObjects.stylePreset&&Q.evaluatedObjects.stylePreset.name,de.hostServices=this.visualHostServices,de.visualAdapterHostServices=this.visualAdapterHostServices,de.orderIndependentSelectorMatching=Q.queryOptions&&Q.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(H)),this.visual.visualHasData=!!Q.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:j,type:H,visualName:this.contract.name,dataTransforms:{objects:Q.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:Q.queryOptions&&Q.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(H)),this.visual.visualHasData=!!Q.query)},U.prototype.setViewport=function(j,z){this.runningVisual&&this.setVisualViewport(this.runningVisual,z)},U.prototype.setVisualViewport=function(j,z){if(j&&z){var G=this.viewportResized;this.viewportResized=void 0;var te,Q=this.enableVisualScaling?this.uiScale.x:1;(G||!(te=j.getViewport())||te.height!==z.height||te.width!==z.width||te.scale!==Q)&&j.setViewport((0,t.__assign)((0,t.__assign)({},z),{scale:Q}),G)}},U.prototype.getVisualViewport=function(j,z,G,te){var Q,H,de,Y,se,ce,pe,ve=this.contract.config.singleVisual,De=0;this.visualBorder&&this.visualBorder.visible&&(De=this.visualBorder.getNumericPaddingFromBorder());var We=this.isPaddingDisabled?2*De:2*(De+U.VisualContainerDefaultPadding),je=this.isPaddingDisabled?2*De:2*(De+U.VisualContainerDefaultPadding);if(null!==(Q=this.featureSwitchService)&&void 0!==Q&&Q.featureSwitches.vcPadding){var Ae=this.getVisualBodyPadding();We=Ae.left+Ae.right,je=Ae.top+Ae.bottom}var _e=0,le=0,Z=0,ie=0,me=j-We;if(this.visualTitleVisible()){var ye=this.getTitleFontProperties(this.visualTitle,te);this.updateVisualTitleWrapping(me,ye),le=(0,m.X)(ye),le*=this.visualTitleWrapped.length||1,!(null===(H=this.featureSwitchService)||void 0===H)&&H.featureSwitches.vcPadding&&(le+=this.getSpacing(m.hs.Title)),null!==(de=this.visualTitle)&&void 0!==de&&de.isPlaceholderText&&(le+=3)}if(this.visualSubTitleVisible()&&null!==(Y=this.featureSwitchService)&&void 0!==Y&&Y.featureSwitches.vcPadding){var oe=this.getSubTitleFontProperties(this.visualSubTitle,te);this.updateSubVisualTitleWrapping(me,oe),Z=(0,m.X)(oe),Z*=this.visualSubTitleWrapped.length||1,Z+=this.getSpacing(m.hs.SubTitle),null!==(se=this.visualSubTitle)&&void 0!==se&&se.isPlaceholderText&&(le+=4)}this.visualDividerVisible()&&null!==(ce=this.featureSwitchService)&&void 0!==ce&&ce.featureSwitches.vcPadding&&(_e=null!==(pe=(ve.evaluatedObjects&&ve.evaluatedObjects.divider).width)&&void 0!==pe?pe:0,_e+=this.getSpacing(m.hs.Divider)),this.visualPausedWarning&&(ie+=U.VisualBannerHeight),this.featureNotSupportedWarning&&1===this.viewModeState.getMode()&&(ie+=U.VisualBannerHeight);var ue=z-je-le-ie-Z-_e,Se=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!Se&&(1===(this.contract.detailVisualLayout||1)?(ue-=je,ue/=2):(me-=We,me/=2)),{width:Math.max(me,0),height:Math.max(ue,0),scale:G}},U.prototype.getTitleFontProperties=function(j,z){var G=(0,E.N)(j,"bold"),te=(0,E.N)(j,"italic"),Q=(0,E.N)(j,"underline"),H={color:"fontColor",family:"fontFamily",size:"fontSize"};G&&(H.bold="bold"),te&&(H.italic="italic"),Q&&(H.underline="underline");var de=e.v.create(z);return(0,h.Zi)(j,H,de,z,void 0,m.Hf,m.o8)},U.prototype.getSubTitleFontProperties=function(j,z){var G=(0,E.N)(j,"bold"),te=(0,E.N)(j,"italic"),Q=(0,E.N)(j,"underline"),H={color:"fontColor",family:"fontFamily",size:"fontSize"};G&&(H.bold="bold"),te&&(H.italic="italic"),Q&&(H.underline="underline");var de=e.v.create(z);return(0,h.Zi)(j,H,de,z,m.uz,m.Zq,m.o8)},U.prototype.updateVisualTitleWrapping=function(j,z){if(this.visualTitle&&this.visualTitle.text){var G=(0,h.qk)(z),te=new v.Y;if(te.addAttributes({width:j}),te.addAttributes({fontSize:"".concat(z.size.px,"px")}),te.addAttributes({fontWeight:"".concat(z.weight)}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:te}]);var Q=(0,y.ql)(this.visualTitle.text,G,b.b.measureSvgTextWidth,j,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=Q.map(function(H){return{text:H.trim(),style:te}})}},U.prototype.updateSubVisualTitleWrapping=function(j,z){if(this.visualSubTitle&&this.visualSubTitle.text){var G=(0,h.qk)(z),te=new v.Y;if(te.addAttributes({width:j}),te.addAttributes({fontSize:"".concat(z.size.px,"px")}),te.addAttributes({fontWeight:"".concat(z.weight)}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:te}]);var Q=(0,y.ql)(this.visualSubTitle.text,G,b.b.measureSvgTextWidth,j,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=Q.map(function(H){return{text:H.trim(),style:te}})}},U.prototype.showDetailVisual=function(){return 2===this.contract.visibility||8===this.contract.visibility},U.prototype.showVisualCalcEditor=function(){return 16===this.contract.visibility},U.prototype.useStylableHeader=function(){return U.useStylableHeader(this.explorationCapabilities)},U.useStylableHeader=function(j){return j&&j.getCapabilities().visualContainerOptions.useStylableHeader},U.prototype.configureInitializationSpinner=function(j){var z=this;this.showInitializationSpinner=!0,j.catch(function(G){}).finally(function(){z.showInitializationSpinner=!1,z.contract.postProcessing=void 0})},U.prototype.getVisualWarnings=function(){var j=this,z=[],G=this.viewModeState&&1===this.viewModeState.getMode();return this.visualPausedWarning&&z.push({id:"visualPaused",viewModel:this.visualPausedWarning,message:this.visualPausedWarning.iconTooltip,canShowVisualWarning:!0,buttonClick:function(Q){var H;null===(H=j.pauseQueriesService)||void 0===H||H.refreshVisuals(Q),j.visualPausedWarning=void 0}}),this.featureNotSupportedWarning&&z.push({id:"featureNotSupported",viewModel:this.featureNotSupportedWarning,message:this.featureNotSupportedWarning.iconTooltip,canShowVisualWarning:G,hideBanner:function(){j.featureNotSupportedWarning=void 0}}),z},U.VisualContainerHeaderHeight=20,U.VisualContainerFooterHeight=34,U.VisualContainerDefaultPadding=5,U.PopOutBarHeight=40,U.HeaderInTitleScaleThreshold=.9,U.VisualBannerHeight=38,U.VisualBannerPaddingTopPopOutMode=3,U.VisualHeaderBackgroundColor={R:255,G:255,B:255},U.VisualHeaderTransparency=0,U}(B.j)},767024:function(ze,K,r){r.d(K,{IT:function(){return m},Iw:function(){return v},Vz:function(){return h},q4:function(){return e}});var t=r(226514),c=r(809395),i=r(406585),s=r(299747),p=r(281469),V=r(568656),m=function(){function n(o,u,a){this.contract=o,this.currentCanvasLayout=u,this.children=a,this.uiScale=p.U2}return n.prototype.setSelected=function(o){this.isSelected=o},Object.defineProperty(n.prototype,"id",{get:function(){return this.contract.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.contract.isHidden},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.contract.layouts.withId(this.currentCanvasLayout).position},set:function(u){this.contract.layouts.withId(this.currentCanvasLayout).position=u},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isPositioned",{get:function(){var u=this.position;return 0!==u.width&&0!==u.height},enumerable:!1,configurable:!0}),n.prototype.startResize=function(){this.originalPosition=this.position;for(var o=0,u=this.children;o<u.length;o++)u[o].startResize()},n.prototype.getScaledPosition=function(){return this.scaledPosition||this.convertToScaledPosition(this.position)},n.prototype.convertToScaledPosition=function(o){return(0,V.vW)(o,this.uiScale,!0)},n.prototype.updateViewportForUserResize=function(o){var u=this.convertToScaledPosition((0,t.__assign)((0,t.__assign)({},o),{x:0,y:0}));this.updateStyle(u)},n.prototype.updateViewState=function(){this.scaledPosition=this.convertToScaledPosition(this.position);var o=(0,s.ED)(this.scaledPosition);this.updateStyle(o),this.setTooltip()},n.prototype.updateStyle=function(o){this.applyStyle||(this.applyStyle=new i.Y);var u=(0,c._L)(o,void 0);this.applyStyle.addAttributes(u);var a=(0,c.O$)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(a),this.applyStyle.apply()},n.prototype.setTooltip=function(){var o,u,a;this.tooltip=null===(a=null===(u=null===(o=this.contract.evaluatedObjects)||void 0===o?void 0:o.general)||void 0===u?void 0:u.altText)||void 0===a?void 0:a.toString()},n.prototype.clone=function(){var o=new n(this.contract,this.currentCanvasLayout,this.children);return _.assign(o,this)},n}();function v(n,o,u){for(var a=u&&u.visibleOnly,l=0,d=n;l<d.length;l++){var b=d[l];a&&b.isHidden||(o(b),e(b)&&v(b.children,o,u))}}function e(n){return!!n.children}function h(n){return!n.children}},293969:function(ze,K,r){r.d(K,{u:function(){return s}});var t=r(160046),c=r(772907),i=r(972817),s=function(){function p(V){V&&(this.visible=V.show,this.position=V.position,this.color=V.color.solid.color,this.preset=V.preset,this.transparency=V.transparency,this.shadowSpread=V.shadowSpread,this.shadowBlur=V.shadowBlur,this.angle=V.angle,this.shadowDistance=V.shadowDistance)}return p.prototype.getBoxShadow=function(){if(this.visible){if(this.preset!==t.$g){var V=(0,c.X2)(this.preset,this.position);if(V)for(var m in V)this[m]=V[m]}var v=this.position===t.$S?"inset ":"",e=(0,i.TD)(this.transparency),h=Math.PI/180*this.angle;return v+Math.cos(h)*this.shadowDistance+"px "+Math.sin(h)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,i.cD)(this.color,e)}return""},p}()},578539:function(ze,K,r){r.d(K,{G:function(){return t},W:function(){return c}});var t=function(i){return i[i.Fields=0]="Fields",i[i.Format=1]="Format",i[i.Analytics=2]="Analytics",i}({}),c=function(i){return i[i.Fields=0]="Fields",i[i.Format=1]="Format",i}({})},942983:function(ze,K,r){r.d(K,{$U:function(){return G},$V:function(){return F},$z:function(){return H},A6:function(){return h},AA:function(){return M},B8:function(){return o},D6:function(){return x},Db:function(){return N},Dd:function(){return b},HI:function(){return V},HX:function(){return O},Hd:function(){return w},JM:function(){return W},JW:function(){return B},KB:function(){return Ae},Kc:function(){return U},Kh:function(){return n},LN:function(){return E},LU:function(){return a},N8:function(){return i},NC:function(){return S},Q$:function(){return e},QZ:function(){return se},R6:function(){return ve},RR:function(){return te},SC:function(){return A},SY:function(){return v},U:function(){return je},UL:function(){return We},Xj:function(){return T},Z9:function(){return u},ZF:function(){return j},az:function(){return de},bJ:function(){return p},bN:function(){return c},bm:function(){return L},d1:function(){return z},e3:function(){return Z},eM:function(){return s},h8:function(){return De},h9:function(){return I},hH:function(){return d},jb:function(){return C},kw:function(){return P},lr:function(){return ce},mC:function(){return y},nW:function(){return Q},oK:function(){return _e},rw:function(){return m},tL:function(){return le},tb:function(){return l},to:function(){return pe},vg:function(){return D},yJ:function(){return g},yL:function(){return Y},yX:function(){return f},zH:function(){return R}});var t=r(249679),c=-1,i=t.N8,s="extension",p=!0,V="page",m="report",v="group",e=12,h=12,n="x_position",o="y_position",u=960,a=720,l="#FFFFFF",d="#EAEAEA",b=0,f=0,g="#000000",S="#ffffff",y="#117865",C="#ffffff",E="#BDBDBD",D=200,P=32,M=180,T=420,R=!0,B="#C8C8C8",N=12,x=10,A=9,I="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",w=0,F=0,O=!0,L="#C8C8C8",W=9,U="Available",j="Applied",z="#C8C6C4",G="#FFFFFF",te="#252423",Q=0,H=1280,de=720,Y=296,se=592,ce=816,pe=1056,ve=320,De=240,We=10,je=60,Ae=40,_e="PT30M";function le(){return{color:l,transparency:Q}}function Z(){return{color:d,transparency:b}}},777300:function(ze,K,r){r.d(K,{Dy:function(){return s},kj:function(){return c},wO:function(){return i}});var t=r(149362),c="CDM",i="APR",s=(0,t.i)([{value:i,displayName:function(V){return V.get("PageRefresh_APR")}},{value:c,displayName:function(V){return V.get("ChangeDetection")}}])},8590:function(ze,K,r){r.d(K,{J:function(){return t},U:function(){return c}});var t=function(){function i(){}return i.isValidBookmark=function(s){return s&&(i.isBookmarkGroup(s)||i.isStateBookmark(s))},i.isBookmarkGroup=function(s){return void 0!==s.children},i.isStateBookmark=function(s){return!i.isBookmarkGroup(s)},i.isWebBookmark=function(s){return void 0!==s.type},i}(),c=function(i){return i.Add="AddBookmark",i.Apply="ApplyBookmark",i.Remove="RemoveBookmark",i.Move="MoveBookmark",i.Update="UpdateBookmark",i.Rename="RenameBookmark",i.Group="GroupBookmarks",i.Ungroup="UngroupBookmarks",i}({})},860141:function(ze,K,r){r.d(K,{$$:function(){return n},$g:function(){return h},CD:function(){return v},kB:function(){return o},p1:function(){return e},yd:function(){return m}});var t=r(912126),c=r(358724),i=r(497610),s=r(883863),p=r(787941),V=r(942983);function m(u){return void 0===u&&(u=[]),(0,s.z8)((0,s.Br)(u))}function v(u){var a=V.N8;return{type:c.nKy,id:u.id,name:a,dsr:{schemaName:a,vsName:u.vsName,dbName:u.dbName,modelId:u.id,isQueryCachingEnabled:u.capacityObjectId&&void 0===u.queryCachingState?void 0:2===u.queryCachingState,lastRefreshTime:u.lastRefreshTime,isLimitedParallelQueryModel:u.datasetHost===i.GY.ASOnPrem}}}function e(u){return _.includes(Object.keys(u),"extends")}function h(u,a){if(p.fF.assertAnyValue(u,"dataSources"),p.fF.assertAnyValue(a,"query"),!_.isEmpty(u)){var l=(0,t.fV)(a);return o(_.isEmpty(l)?u:_.filter(u,function(b){return _.includes(l,b.name)}))}}function n(u,a){if(p.fF.assertAnyValue(u,"dataSources"),p.fF.assertAnyValue(a,"query"),!_.isEmpty(u)){var l=(0,t.fV)(a);return _.isEmpty(l)?_.filter(u,function(d){return!e(d)}):_.chain(u).filter(function(d){return _.includes(l,d.name)}).map(function(d){return e(d)?_.find(u,function(b){return b.name===d.extends}):d}).uniq().value()}}function o(u){return _.map(u,function(a){return a[(0,t.wx)(a)]})}},272039:function(ze,K,r){r.d(K,{W:function(){return s},u:function(){return i}});var t=r(734287),c=r(989416),i=function(p){return p[p.Unspecified=0]="Unspecified",p[p.QnaSuggestQuestions=1]="QnaSuggestQuestions",p[p.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",p}({}),s={outspacePane:{displayName:(0,t.V)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,t.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:c.Dy}}}}}},505876:function(ze,K,r){r.d(K,{LP:function(){return t},XW:function(){return c},vA:function(){return i}});var t="filter",c={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},i=function(s){return s[s.Categorical=0]="Categorical",s[s.Range=1]="Range",s[s.Advanced=2]="Advanced",s[s.Passthrough=3]="Passthrough",s[s.Visual=4]="Visual",s[s.TopN=5]="TopN",s[s.Include=6]="Include",s[s.Exclude=7]="Exclude",s[s.RelativeDate=8]="RelativeDate",s[s.Tuple=9]="Tuple",s[s.RelativeTime=10]="RelativeTime",s}({})},334281:function(ze,K,r){r.d(K,{w:function(){return t}});var t=function(c){return c[c.Self=1]="Self",c[c.Slicer=2]="Slicer",c}({})},90117:function(ze,K,r){r.d(K,{C7:function(){return p},js:function(){return m},yG:function(){return V}});var t=r(734287),c=r(777300),i=r(989416),s=r(405644),p={pageInformation:{displayName:(0,t.V)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,t.V)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,t.V)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,t.V)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,t.V)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,t.V)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,t.V)("Type"),type:{enumeration:s.D}},pageSizeWidth:{displayName:(0,t.V)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,t.V)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,t.V)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,t.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,t.V)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,t.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,t.V)("Visual_Alignment_Vertical"),type:{enumeration:i.Dy}}}},outspace:{displayName:(0,t.V)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,t.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,t.V)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,t.V)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,t.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,t.V)("Transparency"),type:{numeric:!0},description:(0,t.V)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,t.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,t.V)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,t.V)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,t.V)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,t.V)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,t.V)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,t.V)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,t.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,t.V)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,t.V)("Visual_Border"),type:{bool:!0},description:(0,t.V)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,t.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,t.V)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,t.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,t.V)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,t.V)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,t.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,t.V)("Transparency"),type:{integer:!0},description:(0,t.V)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,t.V)("Visual_Border"),type:{bool:!0},description:(0,t.V)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,t.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,t.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,t.V)("Visual_TextSize"),type:{integer:!0},description:(0,t.V)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,t.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,t.V)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,t.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,t.V)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,t.V)("PageRefresh"),properties:{show:{displayName:(0,t.V)("Show"),type:{bool:!0}},refreshType:{displayName:(0,t.V)("AutoPageRefreshType"),type:{enumeration:c.Dy}},duration:{displayName:(0,t.V)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,t.V)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,t.V)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,t.V)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,t.V)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,t.V)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,t.V)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,t.V)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function V(v){return _.filter(v,function(e){return!e.transient})}var m={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},989416:function(ze,K,r){r.d(K,{Dy:function(){return p},XN:function(){return s},ab:function(){return c},we:function(){return i}});var t=r(149362),c=function(V){return V[V.Top=0]="Top",V[V.Middle=1]="Middle",V}({}),i="Top",s="Middle",p=(0,t.i)([{value:i,displayName:function(m){return m.get("Top")}},{value:s,displayName:function(m){return m.get("Middle")}}])},405644:function(ze,K,r){r.d(K,{D:function(){return i},t:function(){return c}});var t=r(149362),c={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},i=(0,t.i)([{value:c.Widescreen,displayName:function(p){return p.get("PagePropertyPane_PageSizeType_Widescreen")}},{value:c.Standard,displayName:function(p){return p.get("PagePropertyPane_PageSizeType_Standard")}},{value:c.Letter,displayName:function(p){return p.get("PagePropertyPane_PageSizeType_Letter")}},{value:c.Tooltip,displayName:function(p){return p.get("Tooltip")}},{value:c.Custom,displayName:function(p){return p.get("Custom")}}])},822311:function(ze,K,r){r.d(K,{Dy:function(){return p},Qy:function(){return h},Xg:function(){return e},Xz:function(){return s},d9:function(){return o},gA:function(){return i},pJ:function(){return m},xj:function(){return v},y5:function(){return u}});var t=r(668268),c=r(149362),i="Default",s="Canvas",p=(0,c.i)([{value:i,displayName:function(l){return l.get("Default")}},{value:s,displayName:function(l){return l.get("ReportPage")}}]),m="___AUTO___";function v(a,l){void 0===l&&(l=!1);var d=null==a?void 0:a.show;return!1===d||void 0===d&&l}function e(a){return!(null==a?void 0:a.show)}function h(a){return!!a&&!a.show}function o(a){if(a){var l={visualType:a.visualType};a.syncGroup&&(l.syncGroup=_.cloneDeep(a.syncGroup)),a.columnProperties&&(l.columnProperties=_.cloneDeep(a.columnProperties)),a.query&&(l.query=a.query.clone()),a.queryOptions&&(l.queryOptions=_.cloneDeep(a.queryOptions)),a.objects&&(l.objects=(0,t.d9)(a.objects)),a.vcObjects&&(l.vcObjects=(0,t.d9)(a.vcObjects)),function(a,l){a.mobileObjects&&(l.mobileObjects=(0,t.d9)(a.mobileObjects)),a.mobileVcObjects&&(l.mobileVcObjects=(0,t.d9)(a.mobileVcObjects))}(a,l),a.hasDefaultSort&&(l.hasDefaultSort=a.hasDefaultSort);var d=a.conversionSourceContext;return d&&(l.conversionSourceContext={visualType:d.visualType,query:d.query&&d.query.clone(),syncGroup:d.syncGroup}),a.display&&(l.display=_.cloneDeep(a.display)),a.autoSelectVisualType&&(l.autoSelectVisualType=a.autoSelectVisualType),l.hasUsedSmallMultiples=a.hasUsedSmallMultiples,l}}function u(a,l){if(!a)return l.resolve();var d=a.getAdapter();return d?d.enumerateObjectRepetitionAsync?d.enumerateObjectRepetitionAsync():d.enumerateObjectRepetition?l.resolve(d.enumerateObjectRepetition()):l.resolve():l.resolve()}},160046:function(ze,K,r){r.d(K,{$S:function(){return A},$g:function(){return y},C2:function(){return B},Dy:function(){return b},F:function(){return te},Fi:function(){return D},Jn:function(){return N},Ol:function(){return n},PE:function(){return T},Qi:function(){return g},WM:function(){return d},XQ:function(){return x},XW:function(){return H},ZS:function(){return a},Zk:function(){return ce},cS:function(){return M},cy:function(){return l},d7:function(){return Q},d8:function(){return o},d9:function(){return Y},eJ:function(){return e},f:function(){return E},fU:function(){return de},k8:function(){return W},oL:function(){return f},qf:function(){return R},rp:function(){return h},s_:function(){return pe},sv:function(){return u},tF:function(){return C},uf:function(){return P},wv:function(){return G},xj:function(){return se},z1:function(){return S}});var t=r(648233),c=r(787941),i=r(106266),s=r(688612),p=r(734287),V=r(149362),m=r(822311),v=r(347039),e="Back",h="Bookmark",n="Drillthrough",o="PageNavigation",u="Qna",a="WebUrl",l="ApplyAllSlicers",d="ClearAllSlicers",b=(0,V.i)([{value:e,displayName:function(De){return De.get("Generic_Back")}},{value:h,displayName:function(De){return De.get("Generic_Bookmark")}},{value:n,displayName:function(De){return De.get("Drillthrough")}},{value:o,displayName:function(De){return De.get("PageNavigation")}},{value:u,displayName:function(De){return De.get("Generic_Qna")}},{value:a,displayName:function(De){return De.get("Web_Url")}},{value:l,displayName:function(De){return De.get("ReportAppBar_ApplyAllSlicers")}},{value:d,displayName:function(De){return De.get("ReportAppBar_ClearAllSlicers")}}]);function f(ve){return ve.type||e}var g="",S="",y="Custom",C="Top",E="TopLeft",D="TopRight",P="Center",M="CenterLeft",T="CenterRight",R="Bottom",B="BottomLeft",N="BottomRight",x="Outer",A="Inner",I=(0,V.i)([{value:N,displayName:function(De){return De.get("Visual_LabelPosition_BottomRight")}},{value:R,displayName:function(De){return De.get("Bottom")}},{value:B,displayName:function(De){return De.get("Visual_LabelPosition_BottomLeft")}},{value:T,displayName:function(De){return De.get("Visual_TextAlignment_Right")}},{value:P,displayName:function(De){return De.get("Visual_TextAlignment_Center")}},{value:M,displayName:function(De){return De.get("Visual_TextAlignment_Left")}},{value:D,displayName:function(De){return De.get("Visual_LabelPosition_TopRight")}},{value:C,displayName:function(De){return De.get("Top")}},{value:E,displayName:function(De){return De.get("Visual_LabelPosition_TopLeft")}},{value:y,displayName:function(De){return De.get("Custom")}}]),w=(0,V.i)([{value:x,displayName:function(De){return De.get("Visual_DonutLabelPosition_Outside")}},{value:A,displayName:function(De){return De.get("Visual_DonutLabelPosition_Inside")}}]),L="Heading3",W="Heading4",z=(0,V.i)([{value:"Normal",displayName:function(De){return De.get("Normal")}},{value:"Heading2",displayName:function(De){return De.get("Heading_2")}},{value:L,displayName:function(De){return De.get("Heading_3")}},{value:W,displayName:function(De){return De.get("Heading_4")}},{value:"Heading5",displayName:function(De){return De.get("Heading_5")}},{value:"Heading6",displayName:function(De){return De.get("Heading_6")}}]),G=L,te="none",Q={singleVisual:{visualType:"uninitializedVisual"}};(0,s._)(Q);var H={title:{displayName:(0,p.V)("Visual_Title"),description:(0,p.V)("Visual_TitleDescription"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,p.V)("Visual_Title_Text"),description:(0,p.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,p.V)("Visual_Title_Heading_Attribute"),description:(0,p.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:z}},titleWrap:{displayName:(0,p.V)("Visual_Word_Wrap"),type:{bool:!0}},fontColor:{displayName:(0,p.V)("Visual_FontColor"),description:(0,p.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,p.V)("Background_Color"),description:(0,p.V)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,p.V)("Visual_Title_Alignment"),description:(0,p.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,p.V)("Visual_TextSize"),description:(0,p.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,p.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,p.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,p.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,p.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,p.V)("Visual_SubTitle"),description:(0,p.V)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,p.V)("Visual_Title_Text"),description:(0,p.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,p.V)("Visual_Title_Heading_Attribute"),description:(0,p.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:z}},titleWrap:{displayName:(0,p.V)("Visual_Word_Wrap"),type:{bool:!0}},fontColor:{displayName:(0,p.V)("Visual_FontColor"),description:(0,p.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,p.V)("Visual_Title_Alignment"),description:(0,p.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,p.V)("Visual_TextSize"),description:(0,p.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,p.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,p.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,p.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,p.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,p.V)("Visual_Divider"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},ignorePadding:{displayName:(0,p.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},color:{displayName:(0,p.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},style:{displayName:(0,p.V)("Style"),type:{enumeration:t.sb}},width:{displayName:(0,p.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,p.V)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,p.V)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,p.V)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,p.V)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,p.V)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,p.V)("Visual_Background"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,p.V)("Visual_Background_Color"),description:(0,p.V)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,p.V)("Transparency"),description:(0,p.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,p.V)("Visual_Padding"),properties:{top:{displayName:(0,p.V)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,p.V)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,p.V)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,p.V)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,p.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,p.V)("Visual_General_Properties"),properties:{x:{displayName:(0,p.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,p.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,p.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,p.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,p.V)("Visual_General_Properties_Description"),placeHolderText:(0,p.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,p.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,p.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,p.V)("Visual_General_KeepLayerOrder"),description:(0,p.V)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,p.V)("Visual_Border"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,p.V)("Visual_Border_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,p.V)("Visual_Radius"),type:{numeric:!0}}}},dropShadow:{displayName:(0,p.V)("Visual_DropShadow"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,p.V)("Visual_DropShadow_Preset"),type:{enumeration:I}},position:{displayName:(0,p.V)("Visual_DropShadow_Position"),type:{enumeration:w}},color:{displayName:(0,p.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,p.V)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,p.V)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,p.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,p.V)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,p.V)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,p.V)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,p.V)("Type"),description:(0,p.V)("Visual_VisualLink_Type_Description"),type:{enumeration:b}},bookmark:{displayName:(0,p.V)("Generic_Bookmark"),description:(0,p.V)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,p.V)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,p.V)("Destination"),description:(0,p.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,p.V)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,p.V)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,p.V)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,p.V)("Destination"),description:(0,p.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,p.V)("Tooltip"),description:(0,p.V)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,p.V)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,p.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},visualTooltip:{displayName:(0,p.V)("Tooltip"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,p.V)("Type"),description:(0,p.V)("Visual_Tooltip_Type_Description"),type:{enumeration:m.Dy}},section:{displayName:(0,p.V)("Page"),description:(0,p.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,p.V)("Visual_Label_FontColor"),description:(0,p.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,p.V)("Visual_Value_FontColor"),description:(0,p.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,p.V)("Visual_TextSize"),description:(0,p.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,p.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,p.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,p.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,p.V)("Visual_FontFamily"),description:(0,p.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,p.V)("Background_Color"),description:(0,p.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,p.V)("Transparency"),description:(0,p.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,p.V)("Visual_Action_FontColor"),description:(0,p.V)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,p.V)("Visual_Label_FontColor"),description:(0,p.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,p.V)("Background_Color"),description:(0,p.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,p.V)("Visual_Value_FontColor"),description:(0,p.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,p.V)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,p.V)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,p.V)("Visual_Header"),description:(0,p.V)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,p.V)("Background_Color"),description:(0,p.V)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,p.V)("Visual_Border"),description:(0,p.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,p.V)("Transparency"),description:(0,p.V)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,p.V)("VisualHeader_Foreground_Color"),description:(0,p.V)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,p.V)("VisualHeader_ShowVisualInformationButton"),description:(0,p.V)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,p.V)("VisualHeader_ShowVisualWarningButton"),description:(0,p.V)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,p.V)("VisualHeader_ShowVisualErrorButton"),description:(0,p.V)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,p.V)("VisualHeader_ShowDrillRoleSelector"),description:(0,p.V)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,p.V)("VisualHeader_ShowDrillUpButton"),description:(0,p.V)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,p.V)("VisualHeader_ShowDrillToggleButton"),description:(0,p.V)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,p.V)("VisualHeader_ShowDrillDownLevelButton"),description:(0,p.V)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,p.V)("VisualHeader_ShowDrillDownExpandButton"),description:(0,p.V)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,p.V)("VisualHeader_ShowPinButton"),description:(0,p.V)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,p.V)("VisualHeader_ShowFilterRestatementButton"),description:(0,p.V)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,p.V)("VisualHeader_ShowFocusModeButton"),description:(0,p.V)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,p.V)("VisualHeader_ShowCopyVisualImageButton"),description:(0,p.V)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,p.V)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,p.V)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,p.V)("VisualHeader_ShowOptionsMenu"),description:(0,p.V)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,p.V)("VisualHeader_ShowCommentButton"),description:(0,p.V)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,p.V)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,p.V)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,p.V)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,p.V)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,p.V)("SmartNarratives_ToolTip"),description:(0,p.V)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,p.V)("VisualHeaderTooltip"),properties:{type:{displayName:(0,p.V)("Type"),type:{enumeration:v.Dy}},section:{displayName:(0,p.V)("Page"),description:(0,p.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,p.V)("VisualHeaderTooltip_Text"),description:(0,p.V)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,p.V)("Generic_Color"),description:(0,p.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,p.V)("Visual_TextSize"),description:(0,p.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,p.V)("Visual_FontFamily"),description:(0,p.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,p.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,p.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,p.V)("Underline"),type:{bool:!0}},background:{displayName:(0,p.V)("Background_Color"),description:(0,p.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,p.V)("Transparency"),description:(0,p.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,p.V)("Generic_Color"),description:(0,p.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,p.V)("Background_Color"),description:(0,p.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},de=(0,i.wZ)(H);function Y(ve,De){if(ve){var We=De.serializeVisualContainer(ve);return De.deserializeCanvasItem(We,!0)}}function se(ve){return!!ve.display&&"hidden"===ve.display.mode}function ce(ve,De){ve.display=De?{mode:"hidden"}:void 0}function pe(ve){if(ve.visualContainer)return ve.visualContainer.config.singleVisual.visualType;c.fF.assertFail("PinData has no visualType")}},859541:function(ze,K,r){r.d(K,{$m:function(){return i},C7:function(){return s},Zk:function(){return m},fU:function(){return p},hC:function(){return v},xj:function(){return V}});var t=r(106266),c=r(734287),i="visualContainerGroup",s={background:{displayName:(0,c.V)("Visual_Background"),properties:{show:{displayName:(0,c.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,c.V)("Visual_Background_Color"),description:(0,c.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,c.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,c.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,c.V)("Visual_General_Properties"),properties:{x:{displayName:(0,c.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,c.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,c.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,c.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,c.V)("Visual_General_Properties_Description"),placeHolderText:(0,c.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},p=(0,t.wZ)(s);function V(e){return e.isHidden}function m(e,h){e.isHidden=h}function v(e,h){e.displayName=h}},273139:function(ze,K,r){r.d(K,{Iw:function(){return i},Vz:function(){return m},q4:function(){return V},rQ:function(){return p}});var t=r(160046),c=r(859541);function i(e,h,n){return s(!1,n&&n.visibleOnly,e,h)}function s(e,h,n,o){for(var u=0,a=n;u<a.length;u++){var l=a[u],d=e||v(l);h&&d||(o(l,d),V(l)&&s(d,h,l.children,o))}}function p(e){for(var h=[],n=[],o=0,u=e;o<u.length;o++){var a=u[o];m(a)?h.push(a):n.push(a)}return[h,n]}function V(e){return!!e.children}function m(e){return!e.children}function v(e){return V(e)?(0,c.xj)(e):(0,t.xj)(e.config.singleVisual)}},347039:function(ze,K,r){r.d(K,{Dy:function(){return p},Xz:function(){return s},xv:function(){return i}});var t=r(149362),c=r(822311),i=c.gA,s=c.Xz,p=(0,t.i)([{value:c.gA,displayName:function(m){return m.get("Text")}},{value:s,displayName:function(m){return m.get("ReportPage")}}])},277632:function(ze,K,r){r.d(K,{g:function(){return b}});var t=r(718301),c=r(883863),i=r(787941),s=r(690016),p=r(353705),V=r(426827),m=r(188238),v=r(324356),e=r(207598),h=r(588659),n=r(779722),o=r(350562),u=r(435795),a=r(474374),l=r(474147),d=r(456535),b=function(){function f(g,S,y,C){for(var E in void 0===C&&(C=!1),this.defn=g,this.projections=S,this.expansionStates=y||[],this._isDrillDisabled=C,S)_.isEmpty(S[E].activeProjectionRefs)||this.ensureActiveItems(E)}return Object.defineProperty(f.prototype,"isDrillDisabled",{get:function(){return this._isDrillDisabled},enumerable:!1,configurable:!0}),f.prototype.ensureExpansionState=function(g,S){var y=this;i.fF.assertNonEmpty(g,"roles");var C=(0,p.Vt)(this.expansionStates,g);if(!C){i.fF.assert(function(){return!y._isDrillDisabled},"should not ensure expansion state when drill is disabled"),C=new p.cb(g,S);var E=this.getRolesUniqueProjectionRefs(g),D=this.getRolesUniqueActiveProjectionsRefs(g,S.canCollapseRoot);C.updateLevels(E,D.length),this.expansionStates.push(C)}return i.fF.assert(function(){return!!C.supportsMerge==!!S.supportsMerge}),C},f.prototype.add=function(g,S,y){var C;i.fF.assertValue(g,"expr");var E=(y=y||{}).exprName,D=y.fieldIndex,P=y.parameter,M=y.indexInParameter,T=y.nativeReferenceName,R=y.isHidden,B=this.defn.selectNameOf(g),N=!!B;B||(B=this.addSelect(g,E,T)),this.getRoleProjections(S)||(this.projections[S]=new V.NQ([]));var x={queryRef:B};R&&(x.hidden=R);var A=0,I=this.projections[S];if(P){var w=null!=M?M:null!==(C=P.length)&&void 0!==C?C:0;I.addProjection(x,{parameter:P,indexInParameter:w}),A=I.getParameterProjectionIndex(P,w),this.addNewQueryRefToActiveProjectionRefsIfNeeded(S,B,A)}else{var O=I.all();null==D||D>O.length?(I.addProjection(x),A=O.length-1):(I.addProjection(x,{fieldIndex:D}),A=I.getColumnProjectionIndex(D),this.addNewQueryRefToActiveProjectionRefsIfNeeded(S,B,A))}return this.updateExpansionStates(S,function(W,U){return W.addLevel(B,U+A)}),N&&this.resetHiddenState(B),A},f.prototype.toggleHidden=function(g){for(var S in this.projections)this.projections[S].toggleHidden(g)},f.prototype.resetAllHidden=function(){for(var g in this.projections)this.projections[g].resetAllHiddenState()},f.prototype.addParameter=function(g,S,y){i.fF.assertValue(g,"expr"),this.getRoleProjections(S)||(this.projections[S]=new V.NQ([]));var C=this.projections[S];return null==y&&(y=C.getFieldCount()),C.addFieldParameter({expr:g,index:y,length:void 0}),y},f.prototype.removeParameterBySQExpr=function(g){var S=this.projections;for(var y in S){var C=S[y],E=C.findParameterBySQExpr(g);_.isEmpty(E)||C.removeFieldParameters(E)}},f.prototype.removeParameter=function(g){var S=!1,y=this.projections;for(var C in y)S=this.removeParameterByRoleName(g,C)||S;return S},f.prototype.removeParameterByRoleName=function(g,S){var y=this.projections[S];return null==y?void 0:y.removeFieldParameters([g])},f.prototype.getParameterByFieldIndex=function(g,S){var y=this.projections[S];return null==y?void 0:y.getParameterByFieldIndex(g)},f.prototype.getResolveParameterResultsByRole=function(){var g=this,S={},y=this.projections;if(y)for(var C in y){var E=this.getQueryFieldParametersByRole(C);if(!_.isEmpty(E))for(var D=S[C]=[],P=0,M=E;P<M.length;P++){var T=M[P],B=y[C].getParameterProjections(T).map(function(N){return{expr:g.defn.select().withName(N.queryRef).expr,alias:void 0}});D.push({parameter:T,result:B})}}return S},f.prototype.removeExpr=function(g,S,y,C){if(S){for(var E=this.defn.select(),D=!1,P=E.length-1;P>=0;--P){var M=E[P].expr;if(f.areEqualIgnoringAggregate(M,g,y)){if(!this.removeAllProjectionsForExpr(M,C))return!1;D=!0}}return D}return this.removeAllProjectionsForExpr(g,C)},f.prototype.getQueryRefByProjectionIndex=function(g,S){var y=this.projections[g];if(y){var C=y.getQueryRefs();if(S<C.length)return C[S]}},f.prototype.getQueryRef=function(g,S){i.fF.assert(function(){return S&&(void 0!==S.fieldIndex||void 0!==S.parameter&&void 0!==S.indexInParameter)},"Index or parameter should be defined");var y=S.fieldIndex,C=S.parameter,E=S.indexInParameter,D=(0,V.cY)(this.projections,g);if(D)return C?D.getParameterProjections(C)[E].queryRef:y>=D.getFieldCount()?void 0:D.getColumnProjection(y).queryRef},f.prototype.removeProjection=function(g,S){i.fF.assert(function(){return S&&(void 0!==S.fieldIndex||void 0!==S.parameter&&void 0!==S.indexInParameter)},"Index or parameter should be defined"),i.fF.assertValue(this.projections[g],"expected projections to be defined for given role");var y=S.fieldIndex,C=S.parameter,E=S.indexInParameter,D=this.getQueryRef(g,S);if(!D)return!1;var P=this.defn.select().withName(D);if(!P)return!1;var B,N,M=P.expr,T=this.projections[g],R=T.all();C?(B={parameter:C,indexInParameter:E},N=T.getParameterProjectionIndex(C,E)):(B={fieldIndex:y},N=T.getColumnProjectionIndex(y)),T.removeProjection(B);var x=this.projections[g].activeProjectionRefs;_.pull(x,D);var A=_.isEmpty(R);return A&&_.isEmpty(T.getFieldParameters())?delete this.projections[g]:!A&&x&&0===x.length&&x.push(R[Math.max(0,N-1)].queryRef),this.updateExpansionStates(g,function(I,w){return I.removeLevel(w+N)}),this.isUsed(D)||this.removeExpr(M,!1),!0},f.prototype.moveProjection=function(g,S,y,C){if(S===y||S<0||y<0)return!1;var E,D=this.projections[g];D&&(E=D.all());var P=D.convertFieldIndexToProjectionIndex(y),M=D.convertFieldIndexToProjectionIndex(S),T=D.convertFieldIndexToProjectionIndex(y+C);if(!E||T>E.length)return!1;var R=this.projections[g].activeProjectionRefs,B=D.moveFields(S,y,C),N=P;if(y>S&&(N=T),R)if(N<R.length){var x=_.take(E,D.convertFieldIndexToProjectionIndex(y+1));this.projections[g].activeProjectionRefs=_.map(x,function(F){return F.queryRef})}else if(M<R.length){for(var A=0,I=B;A<I.length;A++)_.pull(R,I[A].queryRef);0===R.length&&R.push(E[0].queryRef)}return this.updateExpansionStates(g,function(F,O){return F.moveLevels(O+M,O+P,C)}),!0},f.prototype.setAggregate=function(g,S,y,C){return this.updateExpression(g,S,function(E){return(0,h.k)(E,y)},C)},f.prototype.removeAggregate=function(g,S,y,C){return this.updateExpression(g,S,function(E){return(0,u.n)(E,y)},C)},f.prototype.setPercentOfGrandTotal=function(g,S,y){return this.updateExpression(g,S,function(E){return(0,e.F)(E)},y)},f.prototype.removePercentOfGrandTotal=function(g,S,y){return this.updateExpression(g,S,function(E){return(0,a.H)(E)},y)},f.prototype.setPercentOfRoleTotal=function(g,S,y){return this.updateExpression(S,y,function(E){return(0,o.z)(E,g)})},f.prototype.removePercentOfRoleTotal=function(g,S){return this.updateExpression(g,S,function(C){return(0,n.E)(C)})},f.prototype.updateVisualCalculation=function(g,S,y,C){var E=this.getQueryRef(S,{fieldIndex:g}),D=this.defn.select().withName(E);return!(!D||!(0,d.jX)(D.expr)||!this.updateExpression(S,g,function(P){return(0,v.eu)(P,C,y)}))},f.prototype.orderBy=function(g){i.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.orderBy(g)},f.prototype.removeOrderBy=function(g){i.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(g)},f.prototype.removeUnusedOrderBy=function(){i.fF.assertValue(this.defn,"this.defn");for(var g=this.defn,y=0,C=g.orderBy();y<C.length;y++){var D=C[y].expr;g.selectNameOf(D)||(this.defn=g.removeOrderBy(D))}},f.prototype.addTransform=function(g,S,y){i.fF.assertValue(g,"transformPlugin"),i.fF.assertAnyValue(S,"parameters"),i.fF.assertValue(this.defn,"this.defn"),i.fF.assertValue(g,"transformPlugin");for(var C={},E=this.defn.transforms(),D=0,P=E;D<P.length;D++)C[P[D].name]=!0;var T=(0,s.zE)(C,g.name);this.defn=this.defn.transforms(E.concat([{algorithm:g.name,name:T,input:{parameters:S},output:void 0}]));for(var B=g.name===t.Gr.KMeansClustering.name&&y.grouping&&y.grouping.cluster,N=0,x=g.outputRoles;N<x.length;N++){var A=x[N],I=A.name;B&&(I=y.grouping.cluster.clusteringRole),this.add((0,v.hu)(A.algorithmRole),I,{exprName:A.columnName?A.columnName:A.algorithmRole})}return T},f.prototype.removeTransform=function(g,S){i.fF.assertValue(g,"transformPlugin"),i.fF.assertValue(S,"transformName"),i.fF.assertValue(this.defn,"this.defn");var y=_.find(this.defn.transforms(),function(P){return P.name===S});if(y){for(var C=0,E=g.outputRoles;C<E.length;C++)this.removeExpr((0,v.hu)(E[C].algorithmRole),!1);this.defn=this.defn.removeTransform(y)}},f.prototype.updateTransform=function(g,S){i.fF.assertValue(g,"transformName"),i.fF.assertAnyValue(S,"parameters"),i.fF.assertValue(this.defn,"this.defn");var y=_.find(this.defn.transforms(),function(C){return C.name===g});y&&(y.input.parameters=S)},f.prototype.clone=function(){return new f(this.defn,(0,V.d9)(this.projections),(0,p.d9)(this.expansionStates),this._isDrillDisabled)},f.prototype.equals=function(g){return!!(0,l.C6)(this.defn,g.defn)&&_.isEqual(this.projections,g.projections)&&_.isEqual(this.expansionStates,g.expansionStates)&&this._isDrillDisabled===g.isDrillDisabled},f.prototype.ensureDrillableRoles=function(g){i.fF.assert(function(){return!!g},"ensureDrillableRoles drillableRoleNames");for(var S=[],y=0,C=g;y<C.length;y++){var E=C[y];this.ensureActiveItems(E)&&S.push(E)}return S},f.prototype.ensureActiveItems=function(g){var S=this.projections[g];if(S){var y=S.all();if(!_.isEmpty(y)&&_.isEmpty(S.activeProjectionRefs)&&!this._isDrillDisabled)return S.activeProjectionRefs=[y[0].queryRef],!0}},f.prototype.changeDrillStateValue=function(g,S,y){for(var C=0,E=g;C<E.length;C++){var D=E[C],P=this.projections[D];if(P)if(S)P.activeProjectionRefs=void 0;else{var M=_.uniqBy(P.all(),function(B){return B.queryRef}),T=_.uniq(P.activeProjectionRefs),R=null==y?void 0:y[D];(R||M.length||T.length)&&(P.activeProjectionRefs=null!=R?R:T[0]?[T[0]]:[M[0].queryRef])}}S&&(this.expansionStates=[]),this._isDrillDisabled=S},f.prototype.toggleShowAll=function(g){var S=this.projections[g];S&&(S.showAll=!S.showAll)},f.prototype.hasShowAll=function(){return!_.isEmpty(this.projections)&&_.some(this.projections,function(g){return g.showAll})},f.prototype.roleContainsExpr=function(g,S){var y=this.projections[g],C=y&&y.all();if(_.isEmpty(C))return!1;for(var D=0,P=this.defn.select();D<P.length;D++)for(var M=P[D],T=0,R=C;T<R.length;T++)if(R[T].queryRef===M.name&&(0,l.fS)(S,M.expr))return!0;return!1},f.prototype.getRoleNameForExpr=function(g){var S=this.projections;for(var y in S){var C=this.tryGetExprs(y);if(C&&C.length>0)for(var E=0,D=C;E<D.length;E++)if((0,l.fS)(g,D[E]))return y;var M=S[y].getFieldParameters();if(!_.isEmpty(M))for(var T=0,R=M;T<R.length;T++)if((0,l.fS)(R[T].expr,g))return y}},f.prototype.tryGetExpr=function(g,S){var y,C=this.getRoleProjections(g);if(C)return null===(y=(0,m.SA)(this.defn,C[S]))||void 0===y?void 0:y.expr},f.prototype.tryGetExprs=function(g){var S=(0,m.XP)(this.defn,this.projections,g);if(void 0!==S)return _.map(S,function(y){return y.expr})},f.prototype.tryGetFieldExprs=function(g){return(0,m.r)(this.defn,this.projections,g)},f.prototype.getUniqueQueryRefs=function(){var g=_.values(this.projections);return _.chain(g).map(function(S){return S.getQueryRefs()}).flatten().uniq().value()},f.prototype.getUniqueQueryFields=function(){var g=this,S=_.keys(this.projections);return _.chain(S).map(function(y){return g.tryGetFieldExprs(y)}).flatten().uniqWith(f.isEqualQueryFields).value()},f.prototype.hasProjections=function(){return _.values(this.projections).some(function(S){return S.all().length>0})},f.prototype.currentDrillMode=function(g){var S=this.getRoleProjections(g);if(!_.isEmpty(S)){var y=this.projections[g];if(y){var C=y.activeProjectionRefs;if(!_.isEmpty(C)){if(C.length>1)return 2;if(C[0]!==S[0].queryRef)return 3}}}},f.prototype.addSelect=function(g,S,y){var C=this.defn;this.defn=C=C.addSelect(g,S,y);var E=C.select(),D=E.length-1;return i.fF.assert(function(){return(0,l.fS)(g,E[D].expr,!1,!0)},"Failed to find new expr in the query."),E[D].name},f.isEqualQueryFields=function(g,S){return g.isFieldParameter||S.isFieldParameter||void 0===g.queryName||void 0===S.queryName?g.isFieldParameter===S.isFieldParameter&&(0,l.fS)(g.expr,S.expr):g.queryName===S.queryName},f.prototype.updateExpansionStates=function(g,S){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,function(P){return!P.supportsMerge});var y=(0,p.D5)(this.expansionStates,g);if(y)if(_.isEmpty(this.projections[g])||_.isEmpty(this.projections[g].all()))_.remove(this.expansionStates,function(P){return P===y});else{var C=_.takeWhile(y.roles,function(P){return P!==g}),E=this.getRolesUniqueActiveProjectionsRefs(C,y.canCollapseRoot).length;S(y,E);var D=y.getVisibleDescendentsDepth(y.root,-1);this.setActiveProjections(y.roles,D)}}},f.prototype.resetHiddenState=function(g){for(var S in this.projections)this.projections[S].resetHiddenState(g)},f.prototype.removeAllProjectionsForExpr=function(g,S){var y,C=this.defn,E=C.selectNameOf(g);if(!E)return!1;_.remove(this.expansionStates,function(R){return!R.supportsMerge});var D=this.projections,P=function(B){var N=(0,p.D5)(M.expansionStates,B),x=D[B],A=x.all(),I=N&&_.takeWhile(N.roles,function(de){return de!==B}),w=I&&M.getRolesUniqueActiveProjectionsRefs(I,N&&N.canCollapseRoot).length;if(S)for(var F=M.getQueryFieldParametersByRole(B),L=0,W=_.filter(F,function(de){return(0,l.fS)(de.expr,S)});L<W.length;L++)for(var U=W[L],j=U.length-1;j>=0;j--){var z={indexInParameter:j,parameter:U},G=x.getParameterProjectionIndex(U,j);(null===(y=A[G])||void 0===y?void 0:y.queryRef)===E&&(x.removeProjection(z),M.updateActiveProjectionRefAndExpansionState(B,E,w,G))}else for(G=A.length-1;G>=0;G--){var te=x.convertProjectionIndexToFieldIndex(G),Q=x.getColumnProjection(te);(null==Q?void 0:Q.queryRef)===E&&(x.removeProjection(z={fieldIndex:te}),M.updateActiveProjectionRefAndExpansionState(B,E,w,G))}if(0!==A.length&&N){var H=N.getVisibleDescendentsDepth(N.root,-1);M.setActiveProjections(N.roles,H)}},M=this;for(var T in D)P(T);return this.isUsed(E)||(this.defn=C.removeSelect(g).removeOrderBy(g)),!0},f.prototype.updateActiveProjectionRefAndExpansionState=function(g,S,y,C){var D=this.projections[g],P=D.all(),M=(0,p.D5)(this.expansionStates,g),T=D.activeProjectionRefs;_.pull(T,S),T&&_.isEmpty(T)&&!_.isEmpty(P)&&T.push(P[Math.max(0,C-1)].queryRef),M&&M.removeLevel(y+C)},f.prototype.updateExpression=function(g,S,y,C){var E,D=this.projections[g];if(D&&(E=D.all()),!E||S>=E.length)return!1;var P=this.defn,M=E[S].queryRef,T=P.select(),R=(0,c.g2)(T,M),B=T[R].expr,N=y(B),x=P.selectNameOf(N);return x?(D.updateQueryRef(S,x),this.isUsed(M)||(this.defn=P.removeSelect(B)),!0):(this.getUsageCount(M)>1?D.updateQueryRef(S,this.addSelect(N,void 0,C)):this.defn=P.setSelectAt(R,N,C),!0)},f.prototype.isUsed=function(g){return this.getUsageCount(g)>0},f.prototype.getUsageCount=function(g){var S=0,y=this.projections;for(var C in y){var E=y[C].all();S+=_.filter(E,function(D){return D.queryRef===g}).length}return S},f.prototype.getRoleProjections=function(g){i.fF.assertValue(g,"roleName");var S=(0,V.cY)(this.projections,g);if(S)return S.all()},f.prototype.addNewQueryRefToActiveProjectionRefsIfNeeded=function(g,S,y){var C=this.getRoleProjections(g),E=this.projections[g].activeProjectionRefs;E&&(E.length>1&&y<E.length?E.splice(y,0,S):1===E.length&&0===y&&C.length>1&&C[1].queryRef===E[0]&&E.splice(0,1,S))},f.prototype.getRolesProjectionRefs=function(g){for(var S=[],y=0,C=g;y<C.length;y++){var D=this.projections[C[y]];if(D){var P=_.map(D.all(),function(M){return M.queryRef});S.push.apply(S,P||[])}}return S},f.prototype.getRolesUniqueProjectionRefs=function(g){return _.uniq(this.getRolesProjectionRefs(g))},f.prototype.getQueryFieldParametersByRole=function(g){if(!_.isEmpty(this.projections)){var S=this.projections[g];return S?S.getFieldParameters():[]}},f.prototype.getParameterProjectionExprs=function(g){var S=this,y=[],C=this.projections;for(var E in C)for(var D=C[E],M=0,T=D.findParameterBySQExpr(g);M<T.length;M++){var R=T[M],N=D.getParameterProjections(R).map(function(A){return S.defn.select().withName(A.queryRef).expr});y.push({exprs:N,parameter:R})}return y},f.prototype.getVisualCalcExpressions=function(){return this.defn.select().filter(function(g){return(0,d.jX)(g.expr)})},f.prototype.getQueryFieldParameters=function(){if(_.isEmpty(this.projections))return[];var g=[];for(var S in this.projections){var y=this.projections[S];y&&g.push.apply(g,y.getFieldParameters())}return g},f.prototype.hasQueryFieldParameters=function(){return!_.isEmpty(this.getQueryFieldParameters())},f.prototype.hasVisualCalcExpressions=function(){return this.defn.select().some(function(g){return(0,d.jX)(g.expr)})},f.prototype.hasSparklineExpressions=function(){return this.defn.select().some(function(g){return(0,d.tO)(g.expr)})},f.prototype.hasHiddenProjections=function(){for(var g in this.projections){var S=this.getRoleProjections(g);if(_.some(S,function(y){return y.hidden}))return!0}return!1},f.prototype.resetExpansionStates=function(){this.expansionStates=[]},f.prototype.getRolesActiveProjectionsRefs=function(g,S,y){var C=this;void 0===y&&(y=!1);for(var E=[],D=S||_.some(g,function(x){return C.projections[x]&&!_.isEmpty(C.projections[x].activeProjectionRefs)}),P=function(A){var I=M.projections[A];if(!I)return"continue";var w=D?I.activeProjectionRefs:I.getQueryRefs();if(!w)return"continue";if(y){var F=_.map(I.projected(),function(W){return W.queryRef}),O=_.filter(w,function(W){return F.includes(W)});E.push.apply(E,O)}else E.push.apply(E,w);var L=I.all();return L.length!==w.length&&_.uniqBy(L,function(W){return W.queryRef}).length!==_.uniq(w).length?"break":void 0},M=this,T=0,R=g;T<R.length&&"break"!==P(R[T]);T++);return E},f.prototype.getRolesUniqueActiveProjectionsRefs=function(g,S){return _.uniq(this.getRolesActiveProjectionsRefs(g,S))},f.areEqualIgnoringAggregate=function(g,S,y){return(0,l.fS)((0,u.n)(g,y),(0,u.n)(S,y))},f.prototype.setActiveProjections=function(g,S){if(i.fF.assertNonEmpty(g,"roles"),!this._isDrillDisabled){var y=this.projections;i.fF.assertValue(y,"projections");var C=(0,p.Vt)(this.expansionStates,g);C&&C.pinLevels(S);for(var E=0,D=g;E<D.length;E++){var P=D[E];if(S>0){var M=y[P]&&y[P].all();i.fF.assertValue(M,"roleProjections");var B,T=_.uniqBy(M,function(N){return N.queryRef});B=S>=T.length?T:_.take(T,S),y[P].activeProjectionRefs=_.map(B,function(N){return N.queryRef}),S-=B.length}else y[P]&&(y[P].activeProjectionRefs=[])}}},f.prototype.areAllProjectionsHidden=function(){for(var g in this.projections){var S=this.getRoleProjections(g);if(_.some(S,function(y){return!y.hidden}))return!1}return!0},f}()},890803:function(ze,K,r){function t(c){switch(c){case 0:return"Default";case 1:return"DataFilter";case 2:return"HighlightFilter";case 3:return"NoFilter"}}r.d(K,{B:function(){return t}})},202342:function(ze,K,r){r.d(K,{Hg:function(){return m}});var t=r(883863),c=r(520907);function i(v,e){var h=function(v,e){for(var h=[],n=[],o=v.visualContainers.slice(),u=0,a=e.visualContainers;u<a.length;u++){var l=a[u];if(void 0===l.id)h.push(l);else{var d=(0,t.Jq)(o,l.id);if(d){var b=o.indexOf(d);o.splice(b,1),(0,c.fS)(d,l)||n.push(l)}else h.push(l)}}return{added:h,updated:n,removed:o}}(v,e);return{added:h.added,updated:h.updated,removed:h.removed,page:e,originalPage:v}}function m(v,e){var h=function(v,e){for(var h=[],n=[],o=v.slice(),u=0,a=e.length;u<a;u++){var l=e[u];if(void 0===l.id)h.push(l);else{var d=(0,t.Jq)(o,l.id);if(d){var b=o.indexOf(d);o.splice(b,1);var f=i(d,l);n.push(f)}else h.push(l)}}return{added:h,updated:n,removed:o}}(v.sections,e.sections),n=function(v,e){for(var h=[],n=[],o=e||[],u=v?v.slice():[],a=0,l=o;a<l.length;a++){var d=l[a];if(void 0===d.id)h.push(d);else{var b=d.id,f=_.findIndex(u,function(g){return g.id===b});f>=0?(n.push({updatedPod:d,originalPod:u[f]}),u.splice(f,1)):h.push(d)}}return{added:h,removed:u,updated:n}}(v.pods,e.pods);return{pages:h,pods:n}}},442408:function(ze,K,r){r.d(K,{G:function(){return t}});var t={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},792253:function(ze,K,r){r.d(K,{NO:function(){return v},R$:function(){return m},RT:function(){return p},Wp:function(){return s},oZ:function(){return V},ox:function(){return c},yM:function(){return i}});var t=r(787941),c=-1,i=0,s=-1e7,p=1e7,V=1e3,m=5;function v(){return new e}var e=function(){function h(){}return h.prototype.getContainerListOrders=function(n,o){for(var u={},a=0,l=n;a<l.length;a++){var d=l[a];u[d.name]=o(d)}return u},h.prototype.getSortedContainerNames=function(n,o){var u=o?"asc":"desc";return _.chain(n).keys().orderBy(function(a){return n[a]},u).value()},h.prototype.settingListOrder=function(n,o,u,a){for(var l=0,d=o;l<d.length;l++)n[d[l]]=u,u+=a;return u},h.prototype.checkIfExtremitiesSurpassed=function(n,o,u){var a,l,d,b;return u?(a=i,l=p,d=o[_.head(n)]<a,b=o[_.last(n)]>l):(a=c,l=s,d=o[_.head(n)]>a,b=o[_.last(n)]<l),!(!d&&!b)},h.prototype.shouldNormalizeListOrder=function(n,o){var u=this.getSortedContainerNames(n,o);if(this.checkIfExtremitiesSurpassed(u,n,o)||_.some(n,function(y){return void 0===y}))return!0;for(var a,l=0,d=u;l<d.length;l++){var f=n[d[l]];if(null!=a){var g=f>=0==a>=0;if(Math.abs(f-a)<m&&g)return!0}a=f}return!1},h.prototype.normalizeListOrder=function(n,o){var u=this.getSortedContainerNames(n,o),a=o?p-i:s-c,l=o?Math.min(a/u.length,V):Math.max(a/u.length,-V);t.fF.assert(function(){return Math.abs(l)>=m},"Too many visuals to normalize list orders");var d=o?i:c,b={};return d=this.settingListOrder(b,u,d,l),b},h}()},818614:function(ze,K,r){r.d(K,{i:function(){return o}});var t=r(456535),c=r(474147),i=r(787941),s=r(725182),p=r(145315),V=r(168099),m=r(571330),v=r(35801),e=r(809395),h=r(1745),n=r(600348);function o(a,l,d,b){return new u(a,l,d,b)}var u=function(){function a(l,d,b,f){this.eventBridge=l,this.visualPlugin=d,this.visualPluginOps=b,this.runningVisualService=f}return a.prototype.getSupportedDrillDirections=function(l,d){var b,f=this.getProjections(l);if(!f)return 0;var g=l.config.singleVisual,S=this.visualPlugin.capabilities(g.visualType);if(!S||S.drilldown&&S.drilldown.suppresDrillOperations)return 0;for(var y=(0,m.WO)(S,!(null===(b=g.query)||void 0===b||!b.isDrillDisabled)),E=0,D=0,P=d?y.filter(function(x){return x===d}):y;D<P.length;D++){var M=P[D],T=f[M];if(T&&T.activeProjectionRefs){var R=T.all();if(1===R.length)continue;var B=T.activeProjectionRefs,N=this.findActiveProjectionIndexInQueryCollection(R,B);!_.isEmpty(B)&&N+B.length!==R.length&&(this.canDrillDownLevel(l,2,M)&&(E|=2),this.canDrillDownLevel(l,3,M)&&(E|=4)),!_.isEmpty(T.activeProjectionRefs)&&(0!==N||B.length>1)&&(E|=1)}}return E},a.prototype.setDrillMode=function(l,d){l&&l.drillMode!==d&&(l.drillMode=d,this.raiseDrillModeChanged(l,d))},a.prototype.canSeeData=function(l){if(!(l&&l.config&&l.config.singleVisual&&l.config.singleVisual.query))return!1;var d=(0,v.s)(l),b=this.runningVisualService.getVisual(l);return!(b&&b.getErrorInfo())&&V.j.supportsVisualDetails(d,this.visualPlugin,this.visualPluginOps)},a.prototype.canDrillToDetails=function(l,d){if(!l)return!1;var b=(0,e.Xf)(l);if(!b)return!1;var f=(0,v.s)(l);if(f===n.D.lineChart||f===n.D.areaChart||f===n.D.stackedAreaChart||f===n.D.hundredPercentStackedAreaChart)return!1;var g=(0,e.cj)(l,this.visualPlugin);if(!g||!1===g.supportsSelection)return!1;var S=_((0,e.oJ)(l)).filter(function(N){return(0,t.iV)(N.expr)}).map(function(N){return N.name}).value();if(_.isEmpty(S)||!_.isEmpty(d)&&!_.includes(S,_.head(_.head(d).metadata)))return!1;var y=g.dataRoles;if(_.isEmpty(y))return!1;for(var E=0,D=0,P=_(y).filter(function(N){return N.kind===p.DW.Measure&&0!==N.joinPredicate}).map(function(N){return N.name}).value();D<P.length;D++){var T=b.projections[P[D]];if(!_.isEmpty(T)){if(++E>1)return!1;var R=T.all();if(_.some(R,function(N){return!_.includes(S,N.queryRef)}))return!1}}return 0!==E},a.prototype.canDrillByDirection=function(l,d,b){if(!l)return!1;var f=this.runningVisualService.getVisual(l);if(f&&f.getErrorInfo())return!1;var S=this.getSupportedDrillDirections(l,b);return!!S&&(0,s.yE)(S,d)},a.prototype.canDrillthrough=function(l){return!!l},a.prototype.isDrillModeEnabled=function(l,d){return!!l&&l.drillMode===d},a.prototype.drillToLastLevel=function(l){var d;if(null!=l&&null!=l.config.singleVisual.query){var b=l.config.singleVisual,f=this.visualPlugin.capabilities(b.visualType),g=(0,m.WO)(f,!(null===(d=b.query)||void 0===d||!d.isDrillDisabled));if(!_.isEmpty(g))for(var S=function(P){if(P){var M=b.query.projections[P];if(null!=M){var T=M.getLastActiveQueryReference();if(null!=T){var R=M.getQueryRefs(),B=R.indexOf(T);i.fF.assert(function(){return-1!==B},"last active query ref must be valid in projection");for(var N=B+1;N<R.length;N++)M.addActiveQueryReference(R[N])}}}},y=0,C=g;y<C.length;y++)S(C[y])}},a.prototype.canDrillDownLevel=function(l,d,b){var f;i.fF.assert(function(){return 1!==d},"Incompatible drill direction");var g=(0,e.Xf)(l);if(!g)return!1;var S=(0,e.cj)(l,this.visualPlugin);if(!S||S.drilldown&&S.drilldown.suppresDrillOperations||!b)return!1;var y=g.projections[b],C=y.getLastActiveQueryReference();if(!C)return!1;for(var E=_.findIndex(y.all(),function(T){return T.queryRef===C}),D=function(R){var B=y.all()[R],N=null===(f=g.defn.select().withName(B.queryRef))||void 0===f?void 0:f.expr;if(i.fF.assert(function(){return!!N},"Projection is not in the select"),N&&0===_.filter(l.filters,function(x){return i.fF.assertValue(x,"canDrillDownLevel: visualContainer with name ".concat(l.name," contains blank value in .filters")),null!=x&&2===x.howCreated&&(0,c.fS)(N,x.expression)}).length)return{value:g.currentDrillMode(b)===d}},P=0;P<E;P++){var M=D(P);if("object"==typeof M)return M.value}return 3!==d||!_.find(g.expansionStates,function(T){return _.find(T.roles,function(R){return R===b})&&T.isStateModified()})},a.prototype.getProjections=function(l){return l&&l.config&&l.config.singleVisual&&l.config.singleVisual.query&&l.config.singleVisual.query.projections},a.prototype.findActiveProjectionIndexInQueryCollection=function(l,d){if(!_.isEmpty(d))for(var b=0;b<l.length;b++){for(var f=b,g=0;g<d.length&&f<l.length&&d[g]===l[f].queryRef;)g++,f++;if(g===d.length)return b}return-1},a.prototype.raiseDrillModeChanged=function(l,d){i.fF.assertValue(l,"visualContainer"),i.fF.assertValue(d,"drillMode"),this.eventBridge.publishToChannel(h.tbw,{visualContainer:l})},a}()},1745:function(ze,K,r){r.d(K,{$$f:function(){return Gt},$4A:function(){return Ur},$Bd:function(){return C},$cv:function(){return w},AGj:function(){return oe},AJY:function(){return Ne},AKi:function(){return O},Ah$:function(){return te},Ak9:function(){return ar},AuF:function(){return gt},BmV:function(){return Xt},C98:function(){return Ar},CCe:function(){return S},CVC:function(){return Cr},Cvt:function(){return ft},D1A:function(){return De},DRd:function(){return qt},DSN:function(){return pe},Diu:function(){return dr},EBW:function(){return q},EHv:function(){return k},F$x:function(){return Ir},FRm:function(){return u},GQv:function(){return Tt},Gru:function(){return me},Gtn:function(){return st},H8N:function(){return Te},HGU:function(){return xe},HOc:function(){return Ve},ICs:function(){return ce},IQ6:function(){return f},IVK:function(){return lt},JAC:function(){return sr},JEb:function(){return or},JOk:function(){return ie},JXP:function(){return re},K7E:function(){return tr},KCT:function(){return zr},KD7:function(){return D},KcO:function(){return nt},LE3:function(){return i},Lx_:function(){return Ct},MEZ:function(){return ye},Mp3:function(){return Oe},NPq:function(){return Qe},OKC:function(){return qe},OOb:function(){return ot},OPn:function(){return Be},Of1:function(){return We},Oij:function(){return n},Orc:function(){return ct},P6l:function(){return yt},PNq:function(){return R},PbX:function(){return dt},Pkb:function(){return Ce},QvS:function(){return ue},R4M:function(){return Ke},RVE:function(){return Y},RVt:function(){return I},RW6:function(){return J},Rif:function(){return N},SVs:function(){return s},TN0:function(){return ut},TTT:function(){return tt},TWs:function(){return at},Td8:function(){return ve},TrJ:function(){return Er},Tuj:function(){return h},Tyr:function(){return ht},U8y:function(){return y},UAI:function(){return v},UBn:function(){return t},UKs:function(){return pt},UMW:function(){return L},UbK:function(){return jt},Udu:function(){return X},Un:function(){return Re},UoE:function(){return Ye},UpY:function(){return g},UqZ:function(){return hr},V0C:function(){return Pt},Vrk:function(){return Dt},VuV:function(){return a},WJC:function(){return m},WR7:function(){return B},Woo:function(){return Pe},Wqo:function(){return ae},Wu9:function(){return Ae},YUD:function(){return Se},YXt:function(){return Ze},_$U:function(){return ee},aco:function(){return b},acr:function(){return yr},add:function(){return kt},aoT:function(){return Ue},bE6:function(){return o},bSZ:function(){return er},bnO:function(){return ke},cY_:function(){return $t},cyb:function(){return ne},d8V:function(){return e},doP:function(){return T},eDj:function(){return Zt},eE4:function(){return rr},f8w:function(){return nr},gG5:function(){return Lt},gsN:function(){return bt},gsv:function(){return It},ieg:function(){return et},ilH:function(){return Z},j3G:function(){return Me},jCS:function(){return Q},jsX:function(){return he},lio:function(){return j},m3l:function(){return je},mB3:function(){return Lr},mIo:function(){return Xe},mSO:function(){return de},miB:function(){return _r},mke:function(){return l},msw:function(){return ir},nY5:function(){return Rr},oRp:function(){return p},ooc:function(){return V},ow8:function(){return A},pSw:function(){return ur},qHu:function(){return Ie},qTM:function(){return P},qTk:function(){return le},qwl:function(){return H},r8B:function(){return Rt},rlN:function(){return Kt},rvf:function(){return Yt},sEi:function(){return we},sPA:function(){return Or},t4l:function(){return x},tRg:function(){return E},tYc:function(){return se},tbw:function(){return F},uB4:function(){return _e},uL6:function(){return Ut},ubE:function(){return Nt},uff:function(){return Qt},up$:function(){return Fe},urK:function(){return $e},v3I:function(){return gr},vBx:function(){return Br},wAN:function(){return z},wCO:function(){return St},wW:function(){return c},weO:function(){return mt},wiL:function(){return Ge},wrl:function(){return Ft},x1m:function(){return Kr},x4H:function(){return Jt},y5h:function(){return fe},yVh:function(){return Le},yhh:function(){return He},z99:function(){return M},zYm:function(){return G},zdm:function(){return it},zgs:function(){return be}});var t=function(vr){return vr[vr.Unknown=0]="Unknown",vr[vr.Swipe=1]="Swipe",vr}({}),c={type:4,name:"modelChangeApplyingUpdate"},i={type:1,name:"explorationLoaded"},s={type:1,name:"explorationUnloaded"},p={type:3,name:"explorationContainerReady"},V={type:1,name:"explorationSlowDataSourceSettingsLoaded"},m={type:1,name:"explorationSettingsLoaded"},v={type:1,name:"updateNavButtonEvent"},e={type:2,name:"userActionTriggered"},h={type:2,name:"filterContainerChanged"},n={type:1,name:"applyAllBufferedFilterCardChange"},o={type:1,name:"applyAllClicked"},u={type:1,name:"applyAllSlicersClicked"},a={type:1,name:"explorationFiltersContainerChanged"},l={type:1,name:"sectionFiltersContainerChanged"},b={type:1,name:"formFactorChanged"},f={type:1,name:"canvasLayoutChanged"},g={type:0,name:"modelChanging"},S={type:0,name:"modelChanged"},y={type:2,name:"visualRelationshipsModeChanged"},C={type:0,name:"schemaItemActivationChanged"},E={type:2,name:"selectionChanged"},D={type:2,name:"visualTypeChanged"},P={type:2,name:"visualLinkButtonClicked"},M={type:2,name:"dataPointsSelected"},T={type:2,name:"dataHyperlinkClicked"},R={type:2,name:"visualClicked"},B={type:1,name:"undoRedoStackUpdated"},N={type:1,name:"undoRedoStackCleared"},x={type:1,name:"onReportChanged"},A={type:4,name:"onReportChanged"},I={type:1,name:"clipboardDataUpdated"},w={type:2,name:"dataSelectionChanged"},F={type:2,name:"drillModeChanged"},O={type:2,name:"refreshExploration"},L={type:2,name:"clearAnnotations"},j={type:1,name:"sectionLayoutRemoved"},z={type:1,name:"canvasChanged"},G={type:2,name:"visualContainerParentActivityLinkingDone"},te={type:2,name:"fieldWellFieldRemoved"},Q={type:2,name:"visualContainerChanged"},H={type:2,name:"fieldParametersApplied"},de={type:2,name:"visualContainerAdded"},Y={type:2,name:"cancelVisualQuery"},se={type:2,name:"triggerDataRefresh"},ce={type:2,name:"visualContainerGroupChanged"},pe={type:2,name:"visualContainerGroupRendered"},ve={type:2,name:"visualContainerDataRenderingStarted"},De={type:2,name:"visualContainerDataRendered"},We={type:2,name:"canvasItemContainerPositionChanged"},je={type:2,name:"visualContainerLoadingStarted"},Ae={type:2,name:"visualContainerLoadingStopped"},_e={type:2,name:"visualContainerQueryExecutionEnded"},le={type:2,name:"updateVisualMatrix"},Z={type:2,name:"visualConversion"},ie={type:3,name:"focusExplorationEvent"},me={type:4,name:"explorationInitializeEvent"},ye={type:2,name:"focusVisualContainerEvent"},oe={type:2,name:"canvasSizeChanged"},X={type:2,name:"visualPluginsChanged"},ue={type:2,name:"addCustomVisual"},Se={type:2,name:"deleteCustomVisual"},Be={type:0,name:"modelingContextChanged"},Ke={type:2,name:"changeViewMode"},Ze={type:2,name:"requestViewModeChange"},qe={type:2,name:"editModeChanged"},it={type:2,name:"getClusters"},be={type:2,name:"toggleSortVisualContainer"},Fe={type:2,name:"toggleSortDirectionVisualContainer"},ee={type:1,name:"saveEventViaCtrlS"},k={type:1,name:"highContrastModeChanged"},Ce={type:1,name:"canvasDisplayChanged"},J={type:1,name:"canvasZoomChanged"},re={type:1,name:"canvasZoomScaleUpdated"},Ie={type:1,name:"canvasDimensionChanged"},ot={type:3,name:"explorationObjectsLoaded"},we={type:3,name:"explorationObjectsChanged"},he={type:1,name:"sectionObjectsEvaluated"},Te={type:1,name:"sectionObjectsChanged"},Oe={type:3,name:"showDataSourceVariablesDialog"},fe={type:2,name:"visibilityChanged"},ne={type:2,name:"canvasItemHiddenChanged"},Ne={type:1,name:"align"},et={type:1,name:"deleteSectionInitiated"},tt={type:1,name:"sectionNameChanged"},xe={type:1,name:"sectionDeleted"},Ve={type:1,name:"renameSection"},Le={type:1,name:"sectionChanged"},at={type:1,name:"podParameterChanged"},ft={type:2,name:"missingTableRelationship"},ht={type:1,name:"addVisualContainer"},Ge={type:3,name:"addCustomVisualToCanvas"},Re={type:2,name:"deleteVisualContainer"},Xe={type:1,name:"addInsightContainer"},Me={type:1,name:"addQnaContainer"},He={type:1,name:"showQnaPopoutEventArgs"},ct={name:"canvasPinched",type:1},It={type:1,name:"arrangeVisualsOrder"},jt={type:1,name:"createBasicShape"},Kt={type:1,name:"createShape"},Yt={type:1,name:"createActionButton"},Zt={type:1,name:"createPageNavigator"},or={type:1,name:"createTextbox"},_r={type:1,name:"importVisual"},mt={type:1,name:"installVisual"},Rt={type:1,name:"downloadVisual"},Xt={type:2,name:"newQueryCacheResultAvailable"},dr={type:2,name:"exportVisualData"},ar={type:1,name:"exportVisualDataFromPane"},gr={type:2,name:"addCommentVisual"},Cr={type:2,name:"shareToTeamsVisual"},Br={type:1,name:"createSection"},Ir={type:1,name:"deleteSection"},Or={type:1,name:"duplicateSection"},Kr={type:1,name:"insertSection"},zr={type:1,name:"reorderSection"},Ur={type:1,name:"switchSection"},hr={type:3,name:"explorationNextPage"},Rr={type:3,name:"explorationPreviousPage"},Tt={type:3,name:"startExplorationContainerLoading"},Ut={type:3,name:"stopExplorationContainerLoading"},Ct={type:2,name:"showEnableScriptVisualsDialog"},Nt={type:1,name:"canvasResized"},st={type:4,name:"openReportFinished"},lt={type:4,name:"openReportLoadingScreenHidden"},ut={type:4,name:"visualQueryThrottled"},yt={type:4,name:"datasetNotFound"},Ft={type:4,name:"ShowVisuals"},Lt={type:1,name:"bookmarkApplied"},kt={type:1,name:"exploreCanvasVisualRendered"},Gt={type:2,name:"ReportVisualError"},er={type:4,name:"ReportVisualError"},sr={type:3,name:"visualThumbnailDoubleClicked"},tr={type:2,name:"removeVisualContainerFromLayout"},nr={type:1,name:"pauseQueriesChanged"},Dt={type:2,name:"deleteCustomVisuals"},nt={type:4,name:"resetPersistentUserState"},ae={type:1,name:"resetUserStateKeyPressedEvent"},q={type:4,name:"resetUserStateEvent"},Qe={type:3,name:"reloadPersistenState"},dt={type:1,name:"togglePaneVisibility"},Pt={type:2,name:"visualDrillFilterOtherVisualsSettingChanged"},Qt={type:0,name:"emulationChanged"},ir={type:3,name:"showOtherBookmarks"},yr={type:2,name:"parentExpandCollapseAction"},ur={type:3,name:"bookmarkViewStateChanged"},Er={type:0,name:"exportDataEnded"},Ar={type:2,name:"visualContainerControllerLinked"},Lr={type:4,name:"insightsInFocusPaneClose"},$e={type:4,name:"insightSelected"},gt={type:4,name:"getRelatedInsights"},Ue={type:4,name:"viewInsightInFocus"},Pe={type:0,name:"autoPageRefreshTriggered"},ke={type:2,name:"drillthroughActionTriggered"},Ye={type:4,name:"anchorTimeUpdated"},pt={type:4,name:"visualCancelLoadEvent"},St={type:2,name:"shareVisual"},bt={type:2,name:"shareVisualToPPT"},Jt={type:2,name:"findAnomalies"},$t={type:2,name:"forecast"},qt={type:2,name:"toggleDataTable"};function rr(vr,cr){return vr.visualContainer===cr}},382964:function(ze,K,r){r.d(K,{A:function(){return m}});var t=r(489470),c=r(787941),i=r(353705),s=r(989516),p=r(35801),V=r(809395);function m(e,h){return c.fF.assertValue(e,"visualPlugin"),c.fF.assertValue(h,"featureSwitch"),new v(e)}var v=function(){function e(h){this.visualPlugin=h}return e.prototype.getExpandCollapseRoles=function(h){(0,t.wS)(h,"visual should have a value");var n=this.visualPlugin.capabilities((0,p.s)(h));if(n&&n.expandCollapse&&!_.isEmpty(n.expandCollapse.roles)){var o=(0,V.Xf)(h);if(null==o||!o.isDrillDisabled)return n.expandCollapse.roles}},e.prototype.isSupported=function(h,n,o){if(!n||!h||!h.supportsInstanceFilters)return!1;var u=(0,V.Xf)(n);return!(!u||!_.isEmpty(o)&&_.some(o,function(a){return 3===u.currentDrillMode(a)})||u.isDrillDisabled)},e.prototype.isEnabled=function(h,n){if((0,t.wS)(h,"visual should have a value"),_.isEmpty(n))return!1;var o=this.getExpandCollapseRoles(h);return!(_.isEmpty(o)||_.some(n,function(u){return-1===_.indexOf(o,u)}))},e.prototype.getMaximumExpansionDepth=function(h,n){if(this.isEnabled(h,n)){var o=(0,V.Xf)(h);if(o){var u=o.getRolesProjectionRefs(n);return c.fF.assertValue(u,"getRolesProjectionRefs should have returned an array"),u.length}}},e.prototype.getAllowedActions=function(h,n,o){var u=(0,V.Xf)(h);if(u&&this.isEnabled(h,n)&&!_.isEmpty(o)&&1===o.length){var a=o[0];if(a&&a.dataMap&&!_.isEmpty(a.dataMap)){var l=(0,s.CT)((0,s.tV)(a));if(!_.isEmpty(l)){var d=u.getRolesUniqueProjectionRefs(n),b=u.getRolesUniqueActiveProjectionsRefs(n,this.canCollapseRoot(h)),f=b.length===d.length,g=_.some(n,function(M){return 3===u.currentDrillMode(M)});if(1===d.length||g)return{};var S=this.getSelectorRefs(a);if(!_.some(S,function(M){return!_.includes(b,M)})){var y=l.length,C=y===d.length,E=y===b.length,D=(0,i.Vt)(u.expansionStates,n);if(D){var P=D.getNodeLevelState(l,D.root,0);return c.fF.assertValue(P,"getNodeLevelState returned undefined"),{expandNode:!C&&!!P.isNodeCollapsed,collapseNode:!E&&!P.isNodeCollapsed,expandLevel:!C&&(P.levelHasToggledNodes||!!P.isNodeCollapsed),collapseLevel:!E&&(P.levelHasToggledNodes||!P.isNodeCollapsed),expandHierarchy:!f||!D.isHierarchyExpanded(),collapseHierarchy:!D.isWholeLevelCollapsed(0)}}return{expandNode:!C&&E,collapseNode:!E,expandLevel:!C&&E,collapseLevel:!E,expandHierarchy:!f,collapseHierarchy:b.length>1}}}}}},e.prototype.getSelectorRefs=function(h){if(!h||!h.dataMap||_.isEmpty(h.dataMap))return[];var n=[];for(var o in h.dataMap)n.push(o);return n},e.prototype.expandNode=function(h,n,o){var u=this,a=this.setNodeState(h,n,o,!1);if(a){var l=this.ensureExpansionState(h,n),d=this.getSelectorRefs(o);c.fF.assert(function(){return u.canCollapseRoot(h)||!_.isEmpty(d)},"selectorRefs must not be empty when root node cannot be collapsed");var f=l.getVisibleDescendentsDepth(a,d.length-1),g=(0,V.Xf)(h);g&&f>g.getRolesUniqueActiveProjectionsRefs(n,this.canCollapseRoot(h)).length&&this.setActiveProjections(h,n,f)}},e.prototype.collapseNode=function(h,n,o){this.setNodeState(h,n,o,!0);var u=this.ensureExpansionState(h,n),a=u.getVisibleDescendentsDepth(u.root,-1);this.setActiveProjections(h,n,a)},e.prototype.expandLevel=function(h,n,o,u){void 0===u&&(u=!1);var a=this.ensureExpansionState(h,n);this.setLevelState(h,n,o,!1,u);var l=a.getVisibleDescendentsDepth(a.root,-1);this.setActiveProjections(h,n,l)},e.prototype.collapseLevel=function(h,n,o,u){void 0===u&&(u=!1),this.setLevelState(h,n,o,!0,u),this.setActiveProjections(h,n,o+1)},e.prototype.expandAll=function(h,n){this.setAllLevelsState(h,n,!1);var o=this.ensureExpansionState(h,n);this.setActiveProjections(h,n,o.levels.length)},e.prototype.collapseAll=function(h,n){this.setAllLevelsState(h,n,!0),this.setActiveProjections(h,n,this.canCollapseRoot(h)?0:1)},e.prototype.pinLevels=function(h,n,o){this.ensureExpansionState(h,n).pinLevels(o)},e.prototype.unpinLevels=function(h,n,o){this.ensureExpansionState(h,n).unpinLevels(o)},e.prototype.lockLevels=function(h,n,o){this.ensureExpansionState(h,n).lockLevels(o)},e.prototype.unlockLevels=function(h,n,o){this.ensureExpansionState(h,n).unlockLevels(o)},e.prototype.setAILevelInformation=function(h,n,o,u,a){var l=this.ensureExpansionState(h,n);c.fF.assert(function(){return _.isEqual(l.levels[o].queryRefs,u)},"Level at index ".concat(o," does not match expected query refs")),l.setAILevelInformation(o,a)},e.prototype.getAILevelInformation=function(h,n,o){var u=(0,V.Xf)(h);return(0,i.DX)(u.expansionStates,n,o)},e.prototype.clearAILevelsInformation=function(h,n){for(var o=this.ensureExpansionState(h,n),u=0;u<_.size(o.levels);u++)o.setAILevelInformation(u,void 0)},e.prototype.setNodeState=function(h,n,o,u){var a=this.ensureExpansionState(h,n);c.fF.assertValue(a,"expansionState"),c.fF.assertValue(o,"selector");var l=this.getSelectorRefs(o);if(!_.isEmpty(l)||this.canCollapseRoot(h))return c.fF.assert(function(){return l.length<=a.levels.length},"attempt to expand a node from an inactive level"),a.setNodeState((0,s.tV)(o),u);c.fF.assertFail("Collapse to root capability is not enabled")},e.prototype.setLevelState=function(h,n,o,u,a){var l=this.ensureExpansionState(h,n);if(c.fF.assertValue(l,"expansionState"),c.fF.assertNonEmpty(l.levels,"expansionState.levels"),a)for(var d=0;d<o;d++)c.fF.assertValue(l.levels[d],"expandCollapseService.setLevelState - level for index ".concat(d," doesn't exist")),l.setLevelState(d,!1);l.setLevelState(o,u)},e.prototype.setAllLevelsState=function(h,n,o){var u=this.ensureExpansionState(h,n);c.fF.assertValue(u,"expansionState"),c.fF.assertNonEmpty(u.levels,"expansionState.levels"),this.canCollapseRoot(h)&&u.setLevelState(-1,o);for(var a=u.levels,l=0;l<a.length-1;l++)u.setLevelState(l,o)},e.prototype.ensureExpansionState=function(h,n){var o=this;c.fF.assertValue(h,"VisualContainer"),c.fF.assert(function(){return o.isEnabled(h,n)},"Expand/Collapse is not enabled");var u=(0,V.Xf)(h);c.fF.assertValue(u,"VisualQuery");var a=this.visualPlugin.capabilities((0,p.s)(h)),l=a&&a.expandCollapse&&a.expandCollapse.supportsMerge,d=a&&a.expandCollapse&&a.expandCollapse.collapseParentAfterRemovingChildLevel,b=this.canCollapseRoot(h),f=u.ensureExpansionState(n,{supportsMerge:l,canCollapseRoot:b,collapseParentAfterRemovingChildLevel:d});return c.fF.assertValue(f,"expansionState"),c.fF.assertNonEmpty(f.levels,"expansionState.levels"),f},e.prototype.canCollapseRoot=function(h){var n=this.visualPlugin.capabilities((0,p.s)(h));return!(!n||!n.noDefaultProjections)},e.prototype.setActiveProjections=function(h,n,o){c.fF.assertValue(h,"visualContainer"),c.fF.assertNonEmpty(n,"roles"),this.canCollapseRoot(h)||c.fF.assert(function(){return o>0},"totalUniqueActiveProjectionsCount");var u=(0,V.Xf)(h);c.fF.assertValue(u,"query"),u.setActiveProjections(n,o)},e}()},703357:function(ze,K,r){r.d(K,{F:function(){return p}});var t=r(787941),c=r(658353),i=r(969072),s=r(1745);function p(v,e,h,n,o,u,a,l){return new V(v,e,h,n,o,u,a,l)}var V=function(){function v(e,h,n,o,u,a,l,d){this.state=e,this.navigation=h,this.eventBridge=n,this.visibility=o,this.filterGenerator=u,this.explorationActivity=a,this.telemetryService=l,this.runningVisualService=d,t.fF.assertValue(e,"state"),t.fF.assertValue(h,"navigation"),t.fF.assertValue(n,"eventBridge"),t.fF.assertValue(o,"visibility")}return v.prototype.exploration=function(){return this.navigation.getCurrentExploration()},v.prototype.capture=function(e,h){var n=this.exploration();if(n)return this.state.capture(n,e,h)},v.prototype.apply=function(e,h,n,o){var u=this.exploration(),a=this.state.apply(e,u,h,n);return this.applyImpact(a,u,n,o),a},v.prototype.captureFilterState=function(e){return this.state.captureFilterState(e)},v.prototype.applyFilterState=function(e,h){var n=this;if(!_.isEmpty(e)){var o=this.state.applyFilterState(e,h);this.explorationActivity.doActivity(function(u){n.eventBridge.publishToChannel(s.jCS,{affectContainer:function(l){return _.includes(o.visualContainers,l)},parentActivity:u})},function(u){return n.telemetryService.startChildActivity(u&&u.event,c.bt)})}},v.prototype.applyImpact=function(e,h,n,o){var u=this;t.fF.assertValue(h,"exploration"),t.fF.assertValue(n,"applyStateOption"),o&&o.setProperty("options",function(v){var e,h,n;return!0===v.suppressDisplay||!1===v.suppressDisplay||null==v.suppressDisplay?e=h=!0===v.suppressDisplay:(e=v.suppressDisplay.outspacePane,h=v.suppressDisplay.visuals),v.defaultPresentationState&&(n=_.mapValues(v.defaultPresentationState,function(o){return _.mapValues(o,function(u){return{visualType:u.visualType,autoSelectVisualType:u.autoSelectVisualType,projections:_.map(_.filter(_.map(u.projections,function(a,l){return{exprs:a,role:l}}),function(a){return!_.isEmpty(a.exprs)}),function(a){return a.role})}})})),{applyPresentationChanges:v.applyPresentationChanges,clearQueryCaches:v.clearQueryCaches,clearUnmatchedData:v.clearUnmatchedData,defaultPresentationState:n,stopDataQueries:v.stopDataQueries,suppressActiveSection:v.suppressActiveSection,suppressDataSourceVariables:v.suppressDataSourceVariables,suppressData:v.suppressData,suppressOutspacePaneDisplayOptions:e,suppressUnmatchedClearHidden:v.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:h,targetVisualNames:v.targetVisualNames}}(n)),this.explorationActivity.doActivity(function(a){var l=e.dataSourceVariables,d=[];if(l&&t.fF.assert(function(){return!n.suppressDataSourceVariables},"suppressDataSourceVariables"),e.objects&&u.eventBridge.publishToChannel(s.sEi),2===e.filterScope&&(t.fF.assert(function(){return!n.suppressData},"suppressData"),u.eventBridge.publishToChannel(s.VuV,{container:h}),l=!0),e.activeSection)t.fF.assert(function(){return!n.suppressActiveSection},"suppressActiveSection"),u.navigation.updateActiveSection({targetSectionIndex:h.activeSectionIndex,forceUpdate:!0,parentActivity:a,parentContextActivity:o});else if(1===e.filterScope){t.fF.assert(function(){return!n.suppressData},"suppressData");var b=u.navigation.getCurrentSection();u.eventBridge.publishToChannel(s.mke,{container:b}),d=_.union(d,b.visualContainers)}else(0===e.filterScope||!_.isEmpty(e.visualContainers))&&(t.fF.assert(function(){return!n.suppressData||!n.suppressDisplay},"suppressData || suppressDisplay"),d=_.union(d,e.visualContainers));var f=[];l?(u.eventBridge.publishToChannel(s.jCS,{affectContainer:_.stubTrue,parentActivity:a,parentContextActivity:o}),b=u.navigation.getCurrentSection(),f.push.apply(f,b.visualContainers||[])):_.isEmpty(d)||(u.eventBridge.publishToChannel(s.jCS,{affectContainer:function(x){return _.includes(d,x)},parentActivity:a,parentContextActivity:o}),f.push.apply(f,d||[]));var g=e.visualContainerGroups;if(_.isEmpty(g)||(u.eventBridge.publishToChannel(s.ICs,{affectContainer:function(x){return _.includes(g,x)}}),f.push.apply(f,g||[])),!n.suppressDisplay){if(e.visibility)u.visibility.set(e.visibility.visual,e.visibility.mode);else if(n.targetVisualNames){var S=h.sections[h.activeSectionIndex],y=_.filter(S.visualContainers,function(N){return _.includes(n.targetVisualNames,N.name)});u.visibility.clearForVisualContainers(y)}else u.visibility.clear();_.isEmpty(f)||u.eventBridge.publishToChannel(s.cyb,{changedItems:f})}if(!n.suppressData){var C=e.pendingHighlights,E=u.navigation.getCurrentSection();if(C){u.filterGenerator.setMultipleFiltersOnSelectData(h,E,C,a,void 0);for(var D=0,P=C;D<P.length;D++){var M=P[D],T=M.sourceVisualContainer,R=u.runningVisualService.getVisual(T),B=T.config.singleVisual;R?(M.filterExpressionMetadata&&(0,i.XV)(M.selection,M.filterExpressionMetadata),R.setSelectedDatapoints(M.selection,!0)):B.pendingSelection=M.selection}}else n.targetVisualNames?(S=h.sections[h.activeSectionIndex],y=_.filter(S.visualContainers,function(A){return _.includes(n.targetVisualNames,A.name)}),u.filterGenerator.clearCrossHighlightForVisualContainers(S,y,a,void 0)):u.filterGenerator.clearCrossHighlight(E,a,void 0)}},function(a){return u.telemetryService.startChildActivity(a&&a.event,c.bt)})},v}()},636629:function(ze,K,r){r.d(K,{e:function(){return A},O:function(){return N}});var t=r(226514),c=r(39326),i=r(883863),s=r(787941),p=r(750311),V=r(353705),m=r(426827),v=r(989516);function e(H,de){return H===de||null!=H&&null!=de&&H.objectName===de.objectName&&H.propertyName===de.propertyName}var h=r(668268),n=r(620108),o=r(967908),u=r(188238),a=r(13106),l=r(324356),d=r(334048),b=r(474147),f=r(272039),g=r(505876),S=r(160046),y=r(273139),C=r(277632),E=r(658353),D=r(156319),P=r(571330),M=r(647863),T=r(249185),R=r(809395),B=r(815636);function N(H,de,Y,se,ce,pe,ve,De,We,je,Ae,_e){return new te(H,de,Y,se,ce,pe,ve,De,We,je,Ae,_e)}function x(H,de,Y){if(s.fF.assertAnyValue(H,"contracts"),s.fF.assertValue(de,"filterScopeType"),!_.isEmpty(H)){for(var se={},ce=0,pe=H;ce<pe.length;ce++){var ve=pe[ce];Y(ve)||(O(ve)?(se.transientFilters||(se.transientFilters=[]),se.transientFilters.push(A(ve))):W(ve)&&!_.isEmpty(ve.name)?(se.nameIdentifiedMerges||(se.nameIdentifiedMerges={}),se.nameIdentifiedMerges[ve.name]=A(ve)):L(ve)?(se.exprIdentifiedMerges||(se.exprIdentifiedMerges=[]),se.exprIdentifiedMerges.push(A(ve))):U(ve)?(se.typeIdentifiedMerges||(se.typeIdentifiedMerges=[]),se.typeIdentifiedMerges.push(A(ve))):(_.isEmpty(ve.name)&&(ve.name=D.l.getNextFilterName(H)),se.nameIdentifiedMerges||(se.nameIdentifiedMerges={}),se.nameIdentifiedMerges[ve.name]=A(ve)))}if(!_.isEmpty(se))return se}}function A(H){return s.fF.assertValue(H,"filterContainer"),{name:H.name,type:H.type,filter:H.filter,expression:H.expression,restatement:H.restatement,howCreated:H.howCreated,isTransient:H.isTransient,cachedValueItems:H.cachedValueItems,filterExpressionMetadata:_.cloneDeep(H.filterExpressionMetadata)}}function I(H){return s.fF.assertValue(H,"filterContainerState"),s.fF.assertAnyValue(name,"name"),{name:H.name,type:H.type,filter:H.filter,expression:H.expression,restatement:H.restatement,howCreated:H.howCreated,isTransient:H.isTransient,cachedValueItems:H.cachedValueItems,filterExpressionMetadata:_.cloneDeep(H.filterExpressionMetadata),displayName:H.displayName}}function w(H,de){H.filter=de.filter,H.cachedValueItems=de.cachedValueItems,H.filterExpressionMetadata=_.cloneDeep(de.filterExpressionMetadata),H.type=de.type}function F(H){H.filter=void 0,H.cachedValueItems=void 0,H.filterExpressionMetadata=void 0}function O(H){return!!H.isTransient}function L(H){return!!H.expression}function W(H){return H.isHiddenInViewMode||H.isLockedInViewMode}function U(H){return 3===H.howCreated||4===H.howCreated}function z(H,de,Y){if(de.filterState)return!0;var se=(0,n.MD)(Y);return _.some([se],H)}function G(H){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],H)}var te=function(){function H(de,Y,se,ce,pe,ve,De,We,je,Ae,_e,le){this.expandCollapse=de,this.filterGenerator=Y,this.plugins=se,this.visualPluginOps=ce,this.aggrOps=pe,this.featureSwitchService=ve,this.sortService=De,this.drillService=We,this.telemetryService=_e,this.nonDrillthroughIsLinkedAsAggregationCallback=function(Z){return s.fF.assertValue(Z,"filter"),s.fF.assert(function(){return 5!==Z.howCreated},"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1},this.visualAuthoringCore=(0,B.Vz)(se,je,pe,ve,Ae,le)}return H.prototype.capture=function(de,Y,se){s.fF.assertValue(de,"exploration"),s.fF.assert(function(){return null!=de.activeSectionIndex},"exploration.activeSectionIndex != null");var ce=de.sections[de.activeSectionIndex],pe={activeSection:ce.name,filters:x(de.filters,2,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!se.suppressDataSourceVariables&&(pe.dataSourceVariables=de.dataSourceVariables),de.objects&&(pe.objects=this.captureExplorationObjects(de.objects)),se.captureAllSections)for(var ve=0,De=de.sections;ve<De.length;ve++){var We=De[ve];pe.sections[We.name]=this.captureSection(We,Y,de,se.capturePresentation)}else pe.sections[ce.name]=this.captureSection(ce,Y,de,se.capturePresentation);return pe},H.prototype.captureExplorationObjects=function(de){return this.captureObjects(f.W,de,G)},H.prototype.captureFilterState=function(de){var Y=this.captureFilterStateObjects(de.visualType,de.objects);return{visualType:de.visualType,objects:Y,cachedFilterDisplayItems:de.cachedFilterDisplayItems,filterExpressionMetadata:de.filterExpressionMetadata}},H.prototype.captureSection=function(de,Y,se,ce){s.fF.assertValue(de,"contract");var ve=this.getCrossHighlights(de);return{filters:x(de.filters,1,function(je){return(0,M.fF)(se,de,je)}),visualContainers:this.captureVisualContainers(de.visualContainers,ve,Y,ce),visualContainerGroups:this.captureVisualContainerGroups(de.visualContainerGroups)}},H.prototype.getCrossHighlights=function(de){return de&&de.crossFilterSource&&de.crossFilterSource.highlight},H.prototype.captureVisualContainerGroups=function(de){s.fF.assertValue(de,"contracts");for(var Y,se=0,ce=de;se<ce.length;se++){var pe=ce[se];if((0,y.q4)(pe)){var ve={};if(null!=pe.isHidden&&(ve.isHidden=pe.isHidden),!_.isEmpty(pe.children)){var De=this.captureVisualContainerGroups(pe.children);ve.children=De}(null!=ve.isHidden||null!=ve.children)&&((Y=Y||{})[pe.name]=ve)}}return Y},H.prototype.captureVisualContainers=function(de,Y,se,ce){s.fF.assertValue(de,"contracts");for(var pe={},ve=function(le){s.fF.assertValue(le.name,"contract.name");var Z=le.config.singleVisual;if(!Z)return"continue";var ie=void 0;if(!_.isEmpty(Y)){var me=_.find(Y,function(Be){return Be.sourceVisualContainer.config.singleVisual===Z&&!_.isEmpty(Be.selection)});me&&(ie={selection:me.selection,filterExpressionMetadata:me.filterExpressionMetadata?me.filterExpressionMetadata:void 0})}var oe={filters:x(_.union(le.filters,De.getAdditionalVisualFiltersToCapture(le,se)),0,De.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:Z.visualType,objects:De.captureVisualObjects(Z.visualType,Z.objects),cachedFilterDisplayItems:Z.cachedFilterDisplayItems,filterExpressionMetadata:Z.filterExpressionMetadata},highlight:ie};null!=Z.autoSelectVisualType&&(oe.singleVisual.autoSelectVisualType=Z.autoSelectVisualType);var X=le.visibility;null!=X&&0!==X&&16!==X&&(oe.visibility=X),(0,S.xj)(Z)&&(oe.singleVisual.hidden=!0);var ue=Z.query,Se=ce&&Z.presentationChangesApplied;(Se||ue&&ue.hasQueryFieldParameters())&&(Se&&(oe.singleVisual.targetType=Z.visualType),null!=Z.autoSelectVisualType&&(oe.singleVisual.targetAutoSelectVisualType=Z.autoSelectVisualType),ue&&ue.projections&&ue.defn&&(oe.singleVisual.projections=(0,T.rl)(ue,Se))),ue&&ue.projections&&De.featureSwitchService.featureSwitches.fieldParameters&&(oe.singleVisual.parameters=(0,T.xF)(ue)),ue&&ue.defn&&(oe.singleVisual.orderBy=ue.defn.orderBy()),ue&&ue.projections&&(oe.singleVisual.activeProjections=De.captureActiveProjections(ue)),ue&&ue.expansionStates&&(oe.singleVisual.expansionStates=(0,V.d9)(ue.expansionStates)),ue&&ue.isDrillDisabled&&(oe.singleVisual.isDrillDisabled=ue.isDrillDisabled),pe[le.name]=oe},De=this,We=0,je=de;We<je.length;We++)ve(je[We]);return pe},H.prototype.captureActiveProjections=function(de){var Y,se=de.defn.select();for(var ce in de.projections){var ve=de.projections[ce].activeProjectionRefs;if(!_.isEmpty(ve)){var De=_.map(ve,function(We){var je=se.withName(We);return je?je.expr:null});Y||(Y={}),Y[ce]=De}}return Y},H.prototype.captureVisualObjects=function(de,Y){return this.captureFilterStateObjects(de,Y)},H.prototype.captureFilterStateObjects=function(de,Y){var se=this.plugins.capabilities(de);return se&&se.objects?this.captureObjects(se.objects,Y,z):{}},H.prototype.captureObjects=function(de,Y,se){var ce={};for(var ve in de){var De=de[ve];for(var We in De.properties){var je=De.properties[We],Ae={objectName:ve,propertyName:We};if(je.captureState||se(Ae,je,de)){var _e=(0,h.NA)(Y,Ae,null);_e&&(0,h.sO)(ce,Ae,null,_e)}}}var le={};return _.isEmpty(ce)||(le.merge=ce),le},H.prototype.apply=function(de,Y,se,ce){s.fF.assertValue(de,"state"),s.fF.assertValue(Y,"exploration");var pe={visualContainers:[],visualContainerGroups:[],issues:[]};for(var ve in ce.suppressActiveSection||this.applyActiveSection(de.activeSection,Y,pe),!ce.suppressData&&!ce.targetVisualNames&&this.applyFilters(de.filters,Y,2,pe,ce.clearUnmatchedData,[],void 0,se,this.nonDrillthroughIsLinkedAsAggregationCallback),de.objects&&this.applyExplorationObjects(de.objects,Y,pe,ce),de.sections){var De=(0,i.rC)(Y.sections,ve);if(De){var We=de.sections[ve],je=!ce.suppressActiveSection||this.isActiveSection(De.name,Y);this.applySection(Y,We,De,se,pe,ce,je)}}return pe.activeSection&&null!=pe.filterScope&&(0,R.Dl)(Y.sections[Y.activeSectionIndex]),ce.suppressDataSourceVariables||this.applyDataSourceVariables(de.dataSourceVariables,Y,pe),_.isEmpty(pe.issues)||this.telemetryService.logEvent(E.b_,{context:"apply",issues:_.reduce(pe.issues,function(_e,le){return _e|le.type},0)}),pe},H.prototype.applyExplorationObjects=function(de,Y,se,ce){var pe={};de&&de.merge&&(pe.merge=(0,h.d9)(de.merge));var ve=Y.objects||{};for(var De in pe.merge)for(var We=0,je=pe.merge[De];We<je.length;We++){var Ae=je[We],_e=(0,h.zx)(ve,De,Ae.selector);for(var le in Ae.properties){var Z=Ae.properties[le];this.shouldApplyExplorationProperty(De,ce)&&!(0,h.ES)(_e.properties[le],Z)&&(se.objects=!0,_e.properties[le]=Z)}}return se.objects&&!Y.objects&&(Y.objects=ve),se},H.prototype.isDisplayOptions=function(de){return void 0!==de&&void 0!==de.outspacePane&&void 0!==de.visuals},H.prototype.shouldApplyExplorationProperty=function(de,Y){return"outspacePane"===de&&this.isDisplayOptions(Y.suppressDisplay)?!Y.suppressDisplay.outspacePane:!Y.suppressDisplay},H.prototype.applyFilterState=function(de,Y){for(var se={visualContainers:[],visualContainerGroups:[],issues:[]},ce=0,pe=de;ce<pe.length;ce++){var ve=pe[ce],De=ve.visual,We=ve.state,je=De.config.singleVisual,Ae=this.plugins.capabilities(je.visualType),_e=ve.impacted;(_e=this.applyObjects(We,je,We.objects,Ae.objects,Y,se)||_e)&&!_.includes(se.visualContainers,De)&&se.visualContainers.push(De)}return _.isEmpty(se.issues)||this.telemetryService.logEvent(E.b_,{context:"applyFilterState",issues:_.reduce(se.issues,function(le,Z){return le|Z.type},0)}),se},H.prototype.isActiveSection=function(de,Y){return de===Y.sections[Y.activeSectionIndex].name},H.prototype.applyActiveSection=function(de,Y,se){if(s.fF.assertValue(de,"activeSection"),s.fF.assertValue(Y,"target"),s.fF.assertValue(se,"impact"),!this.isActiveSection(de,Y)){var ce=(0,i.g2)(Y.sections,de);ce>=0?(Y.activeSectionIndex=ce,se.activeSection=!0):se.issues.push({type:1})}},H.prototype.applyDataSourceVariables=function(de,Y,se){s.fF.assertValue(Y,"target"),s.fF.assertValue(se,"impact"),de?(Y.dataSourceVariables=de,se.dataSourceVariables=!0):Y.dataSourceVariables=void 0},H.prototype.applyFilters=function(de,Y,se,ce,pe,ve,De,We,je){var Ae=!1,_e=[],le={nameIdentifiedMerges:_.clone(de&&de.nameIdentifiedMerges||{}),exprIdentifiedMerges:(0,t.__spreadArray)([],de&&de.exprIdentifiedMerges||[],!0),typeIdentifiedMerges:(0,t.__spreadArray)([],de&&de.typeIdentifiedMerges||[],!0),transientFilters:(0,t.__spreadArray)([],de&&de.transientFilters||[],!0)};if(Ae=this.applyRemainingFilters(le,Y,0===se,ce,_e,ve,De,We,je)||Ae,pe&&Y.filters)for(var Z=Y.filters.length-1;Z>=0;Z--){var ie=Y.filters[Z];ie?ie.type!==g.vA.Passthrough&&(_.includes(_e,ie)||(2===ie.howCreated?(Y.filters.splice(Z,1),this.addImpactCrossDrillSourceUpdate(De,Y,0===se,ce)):F(ie),Ae=!0)):Y.filters.splice(Z,1)}return Ae&&this.setMinimumFilterScope(ce,se),Ae},H.prototype.applyRemainingFilters=function(de,Y,se,ce,pe,ve,De,We,je){var Ae=this.applyTransientFilters(de,Y,pe,ce);if(Ae=this.applyMatchingFilterByName(de,Y,pe,ce)||Ae,!_.isEmpty(de.nameIdentifiedMerges)){for(var _e in de.nameIdentifiedMerges)de.exprIdentifiedMerges.push(de.nameIdentifiedMerges[_e]);de.nameIdentifiedMerges={}}Ae=this.applyMatchingFilterByExpr(de,Y,se,pe,We,je,ce)||Ae,Ae=this.applyMatchingFilterByType(de,Y,pe,ce)||Ae;var le=this.applyDrillFilters(de,Y,pe,ve,ce);return Ae=le||Ae,le&&this.addImpactCrossDrillSourceUpdate(De,Y,se,ce),Ae},H.prototype.addImpactCrossDrillSourceUpdate=function(de,Y,se,ce){if(function(H,de){return!!H&&!!de}(Y,se)){s.fF.assertValue(de,"section");var ve=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(de,[Y]);ce.visualContainers=_.union(ce.visualContainers,ve)}else s.fF.assertFail("FiltersContainer of a drill filter should be VisualContainer."),ce.issues.push({type:64})},H.prototype.applyMatchingFilterByName=function(de,Y,se,ce){if(s.fF.assertAnyValue(de,"remainingFiltersState"),s.fF.assertValue(Y,"target"),s.fF.assertValue(se,"appliedTargetFilters"),_.isEmpty(de)||_.isEmpty(de.nameIdentifiedMerges)||_.isEmpty(Y.filters))return!1;var pe=!1,ve=[],De=function(Ae){var _e=de.nameIdentifiedMerges[Ae];_e.name!==Ae&&(s.fF.assertFail("mismatched filter names"),ce.issues.push({type:4}));var le=_.findIndex(Y.filters,function(Z){return Z.howCreated===_e.howCreated&&!_.includes(se,Z)&&Z.name===Ae});-1!==le&&(a.yl.isSameFilter(Y.filters[le].filter,_e.filter)||(w(Y.filters[le],_e),pe=!0),ve.push(Ae),se.push(Y.filters[le]))};for(var We in de.nameIdentifiedMerges)De(We);return ve.forEach(function(je){delete de.nameIdentifiedMerges[je]}),pe},H.prototype.applyMatchingFilterByExpr=function(de,Y,se,ce,pe,ve,De){if(s.fF.assertAnyValue(de,"remainingFiltersState"),s.fF.assertValue(Y,"target"),s.fF.assertValue(se,"isVisualScope"),s.fF.assertValue(ce,"appliedTargetFilters"),_.isEmpty(de)||_.isEmpty(de.exprIdentifiedMerges))return!1;for(var Ae,le,We=!1,je=!1,_e=(0,t.__spreadArray)([],de.exprIdentifiedMerges||[],!0),Z=function(){var ye=le.howCreated;if(2===ye)return _e.splice(0,1),"continue";var oe=_.remove(_e,function(it){return it===le||it.howCreated===ye&&(0,b.fS)(it.expression,le.expression)}),X=[];if((Y.filters||[]).forEach(function(it,be){it&&it.howCreated===ye&&!_.includes(ce,it)&&!ve(it)&&(0,b.fS)(it.expression,le.expression)&&(!W(it)||it.name===le.name)&&X.push(be)}),_.isEmpty(X)&&se&&0===ye)if(le.filter){1!==oe.length&&(s.fF.assertFail("expecting <= 1 visual-level auto filter for an expression."),De.issues.push({type:8})),je||(je=!0,Ae=(0,R.i4)(Y,ie.visualPluginOps,pe,ie.aggrOps));var ue=_.find(Ae,function(it){return(0,b.fS)(it.expression,le.expression)});ue&&((Y.filters||(Y.filters=[])).push(ue),X.push(Y.filters.length-1))}else _.remove(de.exprIdentifiedMerges,le),_.remove(oe,le);if(X.length>0){for(var Se=Math.min(oe.length,X.length);oe.length>Se;){var Be=_.findIndex(oe,function(it){return _.isEmpty(it.filter)});if(-1===Be)break;oe.splice(Be,1)}for(var Ke=0;Ke<Se;Ke++)a.yl.isSameFilter(Y.filters[Ze=X[Ke]].filter,oe[Ke].filter)||(w(Y.filters[Ze],oe[Ke]),We=!0),ce.push(Y.filters[Ze]);for(Ke=Se;Ke<oe.length;Ke++){var qe=I(oe[Ke]);(Y.filters||(Y.filters=[])).push(qe),ce.push(qe),We=!0}for(Ke=Se;Ke<X.length;Ke++){var Ze;F(Y.filters[Ze=X[Ke]]),We=!0}de.exprIdentifiedMerges=_.difference(de.exprIdentifiedMerges,oe)}},ie=this;le=_.head(_e);)Z();return We},H.prototype.applyDrillFilters=function(de,Y,se,ce,pe){var ve=!1;if(_.isEmpty(ce)||_.isEmpty(de)||_.isEmpty(de.exprIdentifiedMerges))return ve;for(var De=[],We=function(Z){if(2!==Z.howCreated)return"continue";if(!_.find(ce,function(oe){return(0,b.fS)(Z.expression,oe)}))return pe.issues.push({type:32}),"continue";var me=_.find(Y.filters,function(oe){return 2===oe.howCreated&&!_.includes(se,oe)&&(0,b.fS)(oe.expression,Z.expression)});if(me)a.yl.isSameFilter(me.filter,Z.filter)||(w(me,Z),ve=!0),se.push(me);else{var ye=I(Z);(Y.filters||(Y.filters=[])).push(ye),se.push(ye),ve=!0}De.push(Z)},je=0,Ae=de.exprIdentifiedMerges;je<Ae.length;je++)We(Ae[je]);return de.exprIdentifiedMerges=_.difference(de.exprIdentifiedMerges,De),ve},H.prototype.applyMatchingFilterByType=function(de,Y,se,ce){var pe=!1;if(_.isEmpty(de)||_.isEmpty(de.typeIdentifiedMerges))return pe;for(var ve=[],De=function(le){3===le.howCreated||4===le.howCreated||(s.fF.assertFail("Only include/exclude supported"),ce.issues.push({type:16}));var Z=_.find(Y.filters,function(me){return me.howCreated===le.howCreated&&!_.includes(se,me)});if(Z)w(Z,le),se.push(Z);else{var ie=I(le);(Y.filters||(Y.filters=[])).push(ie),se.push(ie)}ve.push(le),pe=!0},We=0,je=de.typeIdentifiedMerges;We<je.length;We++)De(je[We]);return de.typeIdentifiedMerges=_.difference(de.typeIdentifiedMerges,ve),pe},H.prototype.applyTransientFilters=function(de,Y,se,ce){var pe=!1;if(!_.isEmpty(de)&&!_.isEmpty(de.transientFilters)){for(var ve=function(le){5===le.howCreated&&!0===le.isTransient||(s.fF.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),ce.issues.push({type:2}));var Z=_.find(Y.filters,function(me){return me.isTransient&&!_.includes(se,me)&&a.yl.isSameFilter(me.filter,le.filter)});if(Z)w(Z,le),se.push(Z);else{var ie=I(le);(Y.filters||(Y.filters=[])).push(ie),se.push(ie)}pe=!0},De=0,We=de.transientFilters;De<We.length;De++)ve(We[De]);de.transientFilters=[]}var Ae=_.remove(Y.filters,function(_e){return _e&&_e.isTransient&&!_.includes(se,_e)});return pe=pe||!_.isEmpty(Ae)},H.prototype.applySection=function(de,Y,se,ce,pe,ve,De){ve.suppressData||ve.targetVisualNames||this.applyFilters(Y.filters,se,1,pe,ve.clearUnmatchedData,[],se,ce,function(Se){return(0,M.fF)(de,se,Se)});for(var je=function(Se){var Be,Ke=Se.name;if(ve.targetVisualNames&&!_.includes(ve.targetVisualNames,Ke))return"continue";var Ze=Y.visualContainers&&Y.visualContainers[Ke],qe=void 0;if(null!=Ze?(qe=Ae.applyVisualState(de,Ze,se,Se,ce,pe,ve,De,!0),Ze.highlight&&!ve.suppressData&&De&&(s.fF.assert(function(){return!_.isEmpty(Ze.highlight.selection)},"Selection is empty"),Ae.isSelectionValid(Ze.highlight.selection,Se.config.singleVisual,ce)&&(null==pe.pendingHighlights&&(pe.pendingHighlights=[]),s.fF.assert(function(){return!ve.suppressData},"suppressData"),pe.pendingHighlights.push({selection:Ze.highlight.selection,sourceVisualContainer:Se,filterExpressionMetadata:Ze.highlight.filterExpressionMetadata})))):ve.clearUnmatchedData&&(qe=Ae.applyVisualState(de,{},se,Se,ce,pe,ve,De,!1)),!_.isEmpty(qe)){var be=_.without.apply(_,(0,t.__spreadArray)([qe],pe.visualContainers||[],!1));(Be=pe.visualContainers).push.apply(Be,be||[])}},Ae=this,_e=0,le=se.visualContainers;_e<le.length;_e++)je(le[_e]);for(var ie=this.getCrossHighlights(se),me=0,ye=se.visualContainerGroups;me<ye.length;me++){var oe=ye[me];if((0,y.q4)(oe)){var X=Y.visualContainerGroups&&Y.visualContainerGroups[oe.name];null!=X&&this.applyVisualGroupState(X,se,oe,pe,ve,ie)}}},H.prototype.applyVisualState=function(de,Y,se,ce,pe,ve,De,We,je){var Ae,_e,le;s.fF.assertValue(pe,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var Z=!1,ie=Y.singleVisual;if(!De.suppressData){var me=null===(_e=null===(Ae=De.defaultPresentationState)||void 0===Ae?void 0:Ae[se.name])||void 0===_e?void 0:_e[ce.name],oe=!1,X=!1;if(this.presentationChangesAllowed(de,De,ce,ie,this.visualPluginOps)){var ue=this.applyPresentationChanges(ce,ie,me,ie&&ie.parameters,pe);oe=ue.changesApplied,X=ue.parametersRemoved}var Se=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(Se=this.applyParameterStateByRole(pe,ce,ie,X));var Ke=this.applySort(ce.config.singleVisual,ie&&ie.orderBy,De.clearUnmatchedData),qe=ie?!!ie.isDrillDisabled:!(null===(le=ce.config.singleVisual.query)||void 0===le||!le.isDrillDisabled),it=this.applyActiveProjectionsAndDrillState(ce.config.singleVisual,ie&&ie.activeProjections,De.clearUnmatchedData,qe),be=this.collectValidDrillExprs(ce.config.singleVisual),Fe=this.applyFilters(Y.filters,ce,0,ve,De.clearUnmatchedData,be,se,pe,this.nonDrillthroughIsLinkedAsAggregationCallback),k=this.applyExpansionStates(ce,ie&&ie.expansionStates,De.clearUnmatchedData,pe,ve),Ce=this.plugins.capabilities(ce.config.singleVisual.visualType),re=!1;Ce&&Ce.objects&&(re=this.applyObjects(ie,ce.config.singleVisual,ie&&ie.objects,Ce.objects,pe,ve)),Z=re||oe||Ke||it||Fe||k||Se}var Ie=[];if(!this.getSuppressDisplayOptions(De).visuals){var we=Y.visibility;if(null!=we&&We&&(ve.visibility={visual:ce,mode:we}),!je||ie){var Te=!1;ie?Te=!!ie.hidden:De.suppressUnmatchedClearHidden&&(Te=(0,S.xj)(ce.config.singleVisual)),Ie.push.apply(Ie,this.applyHidden(Te,ce,se)||[])}}return Z&&!_.includes(Ie,ce)&&Ie.push(ce),Ie},H.prototype.applyPresentationChanges=function(de,Y,se,ce,pe){var ve=de.config.singleVisual;if(!Y)return{changesApplied:!1,parametersRemoved:!1};var De=!Y.targetType;if(De&&!ve.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var We=!1,je=De?null==se?void 0:se.visualType:Y.targetType,Ae=De?null==se?void 0:se.autoSelectVisualType:Y.targetAutoSelectVisualType,_e=De?null==se?void 0:se.projections:Y.projections;je&&(We=je!==ve.visualType,ve.visualType=je),null!=Ae&&(We=We||Ae!==ve.autoSelectVisualType,ve.autoSelectVisualType=Ae),!ve.query&&_e&&(ve.query=new C.g(a.vQ.create(),{},[]));var le=ve.query;return _e&&le?(this.applyVisualQueryPresentationChanges(le,_e,ce,de,pe),ve.presentationChangesApplied=!De,{changesApplied:!0,parametersRemoved:!0}):(ve.presentationChangesApplied=We,{changesApplied:We,parametersRemoved:!1})},H.prototype.applyParameterStateByRole=function(de,Y,se,ce){if(!se||!se.parameters)return!1;var pe=Y.config.singleVisual;if(!pe.query&&ce)pe.query=new C.g(a.vQ.create(),{},[]);else if(!pe.query)return!1;var ve=se.parameters,De=pe.query,We={},je=De.getResolveParameterResultsByRole();for(var Ae in ve){var _e=ve[Ae];We[Ae]=[];var le=De.projections[Ae];if(!le&&ce&&_e.length>0&&(le=De.projections[Ae]=new m.NQ([])),le)for(var Z=function(X){var Se,ue=_e[X];if(ce){var Be=De.addParameter(ue.expr,Ae,ue.index);Se=le.getParameterByFieldIndex(Be);var Ke=je[Ae];Ke||(Ke=je[Ae]=[]),Ke.push({parameter:Se,result:[]})}else{var Ze=_.find(We[Ae],function(k){return(0,b.fS)(k.expr,ue.expr)}),qe=Ze?Ze.count:0,it=_.sortBy(le.findParameterBySQExpr(ue.expr),function(k){return k.index});if(qe>=it.length)return"continue";Se=it[qe],Ze?Ze.count++:We[Ae].push({expr:ue.expr,count:1})}var Fe=_.find(je[Ae],function(k){return k.parameter.index===Se.index}),ee=ie.getProjectionsForParameter(_e,X,se.projections,Ae);Fe.result=_.map(ee,function(k){return{expr:k,alias:void 0}})},ie=this,me=0;me<_e.length;me++)Z(me)}return this.visualAuthoringCore.resolveParameters(de,Y,je,this.drillService,this.sortService,void 0).queryChange},H.prototype.getProjectionsForParameter=function(de,Y,se,ce){var pe=[],ve=de[Y];if(void 0!==ve.length&&ve.length>0)for(var De=(0,u.VZ)(ve.index,de),We=De;We<De+ve.length;We++)pe.push(se[ce][We]);return pe},H.prototype.applyVisualQueryPresentationChanges=function(de,Y,se,ce,pe){for(var ve in de.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(ve,ce,pe,this.drillService,this.sortService);for(var ve in Y){var De=this.getNonParameterExpressions(Y[ve],se,ve),We=void 0;for(We=0;We<De.length;We++){var je=De[We],Ae=!1;if(de.projections[ve])for(var _e=de.tryGetExprs(ve),le=We;le<_e.length;le++)if((0,b.fS)(_e[le],je,!0,!0,!0)){Ae=!0,le!==We&&de.moveProjection(ve,le,We,1);break}Ae||de.add(je,ve,{fieldIndex:We})}if(de.projections[ve])for(var ie=de.tryGetExprs(ve).length;ie>De.length&&ie>0;)de.removeProjection(ve,{fieldIndex:--ie})}for(var ve in de.projections)if(null==(De=this.getNonParameterExpressions(Y[ve],se,ve))||!De.length){ie=de.tryGetExprs(ve).length;for(var me=0;me<ie;me++)de.removeProjection(ve,{fieldIndex:0})}},H.prototype.getNonParameterExpressions=function(de,Y,se){if(de){for(var ce=[],pe=function(We){var je=Y&&Y[se];if(je&&je.length>0&&_.find(je,function(_e){var le=(0,u.VZ)(_e.index,je);return void 0!==_e.length&&_e.length>0&&We>=le&&We<=le+_e.length-1}))return"continue";null!==de[We]&&ce.push(de[We])},ve=0;ve<de.length;ve++)pe(ve);return ce}},H.prototype.applyVisualGroupState=function(de,Y,se,ce,pe,ve){if(!pe.targetVisualNames||_.includes(pe.targetVisualNames,se.name)){var We=void 0;if(!this.getSuppressDisplayOptions(pe).visuals){var Ae=de.isHidden;if(null!=Ae&&Ae!==se.isHidden&&(se.isHidden=Ae,We=!0),Ae&&!_.isEmpty(ve)){var le=this.clearCrossHighlightsForGroup(se,Y,ve);ce.visualContainers=_.chain(ce.visualContainers).concat(le).uniq().value()}}We&&ce.visualContainerGroups.push(se)}if(!_.isEmpty(de.children)){var Z=function(oe){var X=de.children[oe],ue=_.find(se.children,function(Se){return Se.name===oe});if(!X||!ue||!(0,y.q4)(ue))return"continue";ie.applyVisualGroupState(X,Y,ue,ce,pe,ve)},ie=this;for(var me in de.children)Z(me)}},H.prototype.getSuppressDisplayOptions=function(de){var Y=de.suppressDisplay;return this.isDisplayOptions(Y)?Y:{outspacePane:Y,visuals:Y}},H.prototype.applyFilterExpressionCache=function(de,Y,se){se?this.clearFilterExpressionCache(Y):(Y.filterExpressionMetadata=de.filterExpressionMetadata,Y.cachedFilterDisplayItems=de.cachedFilterDisplayItems)},H.prototype.clearFilterExpressionCache=function(de){de.filterExpressionMetadata=void 0,de.cachedFilterDisplayItems=void 0},H.prototype.applyHidden=function(de,Y,se){var ce=Y.config.singleVisual;if(de!==(0,S.xj)(ce)){(0,S.Zk)(ce,de);var pe=[Y];return de&&(pe=_.chain(pe).concat(this.clearCrossHighlightsForVisual(Y,se)).uniq().value()),pe}},H.prototype.clearCrossHighlightsForGroup=function(de,Y,se){var pe,ce=[];return(0,y.Iw)([de],function(De){(0,y.Vz)(De)&&_.some(se,function(We){return We.sourceVisualContainer===De})&&ce.push(De)}),_.isEmpty(ce)||(pe=this.clearCrossHighlightsForVisuals(ce,Y)),pe||[]},H.prototype.clearCrossHighlightsForVisual=function(de,Y){return this.clearCrossHighlightsForVisuals([de],Y)},H.prototype.clearCrossHighlightsForVisuals=function(de,Y){var se=(0,t.__spreadArray)([],de||[],!0);return se.push.apply(se,this.filterGenerator.clearCrossHighlightForVisualContainersOperation(Y,de)||[]),_.uniq(se)},H.prototype.collectValidDrillExprs=function(de){var Y=de.query;if(!Y)return[];var se=Y.defn.select();if(_.isEmpty(se))return[];var ce=[];for(var pe in Y.projections)for(var ve=Y.projections[pe],We=_.last(ve.activeProjectionRefs||[]),je=0,Ae=ve.all();je<Ae.length;je++){var _e=Ae[je];if(We&&_e.queryRef===We)break;var le=se.withName(_e.queryRef);ce.push(le.expr)}return ce},H.prototype.applyActiveProjectionsAndDrillState=function(de,Y,se,ce){var pe=de.query;if(!pe)return!1;var ve=pe.defn.select(),De=this.plugins.capabilities(de.visualType),We=De&&De.drilldown||{roles:[],suppresDrillOperations:!1},je=We.roles,Ae=We.suppresDrillOperations,_e=!1,le={},Z=function(Se){if(!_.includes(je,Se))return"continue";var Be=Y[Se];s.fF.assertNonEmpty(Be,"activeExprsForRole"),le[Se]||(le[Se]=[]);var Ke=pe.projections[Se];if(!Ke)return _e=!0,"continue";var Ze=Ke.all();if(_.isEmpty(Ze)||Be.length>Ze.length)return _e=!0,"continue";if(1!==Be.length||Ae)for(var be=function(k){s.fF.assert(function(){return k<=Ze.length},"existingProjections.length");var Ce=Be[k],J=Ze[k],re=ve.withName(J.queryRef);if(s.fF.assertValue(re,"found queryRef with no corresponding select"),!(0,b.fS)(re.expr,Ce))return _e=!0,"continue";le[Se].push(J.queryRef)},Fe=0;Fe<Be.length;Fe++)be(Fe);else{var qe=Be[0],it=_.find(Ze,function(ee){var k=ve.withName(ee.queryRef);return s.fF.assertValue(k,"found queryRef with no corresponding select"),(0,b.fS)(k.expr,qe)});if(!it)return _e=!0,"continue";le[Se].push(it.queryRef)}};for(var ie in Y)Z(ie);if(_e)for(var ie in pe.projections)le[ie]=[];var me=!1;if(pe.isDrillDisabled!==ce&&(0,P.S1)(De))pe.changeDrillStateValue(je,ce,le),me=!0;else for(var ie in pe.projections)if(_.includes(je,ie)){var ye=pe.projections[ie],oe=le[ie];if(_.isEmpty(oe)&&!ce){if(!se)continue;var X=ye.all();_.isEmpty(X)||(oe=[_.head(X).queryRef])}(0,i.NF)(ye.activeProjectionRefs,oe,function(Se,Be){return Se===Be})||(ye.activeProjectionRefs=oe,me=!0)}return me},H.prototype.applySort=function(de,Y,se){var ce=de.query;if(!ce)return!1;var pe=ce.defn.orderBy()||[];return!(!Y&&!se||(Y=Y||[],(0,i.NF)(pe,Y,b.ll))||(ce.orderBy(Y),0))},H.prototype.applyObjects=function(de,Y,se,ce,pe,ve){s.fF.assertValue(Y,"singleVisual"),s.fF.assertAnyValue(se,"contractUpdates"),s.fF.assertAnyValue(pe,"schema"),s.fF.assertValue(ce,"objectDescs");var De={};se&&(se.merge&&(De.merge=(0,h.d9)(se.merge)),se.remove&&(De.remove=se.remove.slice()));var Ae,We=Y.objects||{},je=(0,n.MD)(ce),_e=this.plugins.getPlugin(Y.visualType);this.applyPluginUpdateSemantics(_e,De,We,ce),De.remove||(De.remove=this.getVisualPropertiesToRemove(Y.visualType,We,De.merge));var le=this.mergeObjects(de,Y,De.merge,We,ve,pe,je);return Ae=Ae||le.visualImpacted,De.remove=De.remove.concat(le.removeList),this.removeObjects(Y,We,De.remove,ve,je)||Ae},H.prototype.updateQueryProjectionsFromExpansionState=function(de,Y,se){var ce=this;if(_.isEmpty(Y))return!1;for(var pe=function(_e){var le=_e.getVisibleDescendentsDepth(_e.root,-1),Z=Math.max(_.findLastIndex(_e.levels,function(Se){return Se.isPinned})+1,le),ie=function(Be){var Ke=_e.roles[Be];return s.fF.assertValue(de.projections[Ke],"Invalid role ".concat(Ke)),de.projections[Ke]&&de.projections[Ke].all()},me=function(Be){var qe,Ke=0,Ze=ie(0),it=0,be=function(){if(it===_.size(Ze)&&(it=0,++Ke>=_.size(_e.roles)||!(Ze=ie(Ke))))return"break";var k=_e.levels[qe];s.fF.assert(function(){return 1===_.size(k.queryRefs)},"Composite groups are not supported, expected only one queryRef.");var Ce=_.findIndex(Ze,function(J){var re,Ie=null===(re=(0,u.SA)(de.defn,J))||void 0===re?void 0:re.expr;return J.queryRef===_.first(k.queryRefs)&&ce.verifyExpansionIdentities(k,Ie,se)},Be?it:0);if(-1===Ce)return"break";Be&&it!==Ce&&de.moveProjection(_e.roles[Ke],Ce,it,1)};for(qe=0;qe<_.size(_e.levels)&&"break"!==be();qe++,it++);return qe};if(!(me(!1)>=Z))return{value:!1};_.remove(de.expansionStates,function(Se){return _.isEqual(Se.roles,_e.roles)}),me(!0);var oe=_e.clone();de.setActiveProjections(oe.roles,le);var X=de.getRolesUniqueProjectionRefs(oe.roles),ue=_.findIndex(oe.levels,function(Se){return Se.isCollapsed});oe.updateLevels(X,-1===ue?le:ue),de.expansionStates||(de.expansionStates=[]),de.expansionStates.push(oe)},ve=0,De=Y;ve<De.length;ve++){var je=pe(De[ve]);if("object"==typeof je)return je.value}return!0},H.prototype.applyExpansionStates=function(de,Y,se,ce,pe){var ve=this,De=de.config.singleVisual,We=De.query;if(!We)return!1;if(!Y&&!se||(0,V.wy)(We.expansionStates||[],Y=Y||[]))return!1;var Ae=this.plugins.capabilities(De.visualType);return Ae&&Ae.expandCollapse&&Ae.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(We,Y,ce):(We.expansionStates=(0,V.d9)(_.filter(Y,function(le){1!==le.roles.length&&(s.fF.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),pe.issues.push({type:256}));var Z=We.projections[le.roles[0]],ie=Z&&Z.all()||[];return!(!ve.expandCollapse.isEnabled(de,le.roles)||1!==le.roles.length||ie.length<le.levels.length)&&_.every(le.levels,function(me,ye){var oe;s.fF.assert(function(){return 1===me.queryRefs.length},"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var X=ie[ye],ue=null===(oe=(0,u.SA)(We.defn,X))||void 0===oe?void 0:oe.expr;return X.queryRef===me.queryRefs[0]&&ve.verifyExpansionIdentities(me,ue,ce)})})),!0)},H.prototype.verifyExpansionIdentities=function(de,Y,se){var ce=new c.H;return _.isEmpty(de.identityKeys)||(0,i.NF)(de.identityKeys,Y.accept(ce,se),b.fS)},H.prototype.applyPluginUpdateSemantics=function(de,Y,se,ce){if(Y&&de&&de.mergeObjects){var pe=(0,p.Ue)(),De=(0,o.G3)(se,ce,pe,this.featureSwitchService.featureSwitches).dataViewObjects,We=(0,o.G3)(Y.merge||{},ce,pe,this.featureSwitchService.featureSwitches),Ae=de.mergeObjects({objects:De,changes:We.dataViewObjects});if(Ae){if(s.fF.assert(function(){return null==Ae.removeObject&&null==Ae.replace},"Unsupported merge actions"),Ae.merge){Y.merge={};for(var _e=0,le=Ae.merge;_e<le.length;_e++){var Z=le[_e];for(var ie in Z.properties){var ye=(0,h.Lo)(Z.properties[ie],de.capabilities.objects[Z.objectName].properties[ie].type);(0,h.sO)(Y.merge,{objectName:Z.objectName,propertyName:ie},Z.selector,ye)}}}if(Ae.remove){Y.remove=[];for(var oe=0,X=Ae.remove;oe<X.length;oe++)for(var ie in(Z=X[oe]).properties)Y.remove.push({object:Z.objectName,property:ie,selector:Z.selector})}}}},H.prototype.mergeObjects=function(de,Y,se,ce,pe,ve,De){var We={visualImpacted:!1,removeList:[]};if(_.isEmpty(se))return We;for(var je in se)for(var Ae=0,_e=se[je];Ae<_e.length;Ae++){var le=_e[Ae],Z=(0,h.zx)(ce,je,le.selector);for(var ie in le.properties){var me=le.properties[ie];if(!(0,h.ES)(Z.properties[ie],me)){if(De&&e(De,{objectName:je,propertyName:ie})){var ye=!!this.isFilterValid(me,Y,ve);if(this.applyFilterExpressionCache(de,Y,!ye),!ye){pe.issues.push({type:128}),We.removeList.push({object:De.objectName,property:De.propertyName,selector:null});continue}this.setMinimumFilterScope(pe,1)}Z.properties[ie]=me,We.visualImpacted=!0,Y.objects||(Y.objects=ce)}}}return We},H.prototype.removeObjects=function(de,Y,se,ce,pe){if(_.isEmpty(se))return!1;for(var ve=!1,De=0,We=se;De<We.length;De++){var je=We[De],_e=je.object,le=je.property;(0,h.E2)(Y,_e,je.selector,le)&&(ve=!0,pe&&e(pe,{objectName:_e,propertyName:le})&&(this.clearFilterExpressionCache(de),this.setMinimumFilterScope(ce,1)))}return ve},H.prototype.getVisualPropertiesToRemove=function(de,Y,se){var ce=this.plugins.capabilities(de);if(!ce||!ce.objects)return[];var ve=(0,n.MD)(ce.objects),De=[];for(var We in ce.objects){var je=ce.objects[We];for(var Ae in je.properties){var _e=je.properties[Ae];if(!_e.persistUnmatchedState&&(_e.filterState||_e.captureState||ve&&e(ve,{objectName:We,propertyName:Ae}))){var le={objectName:We,propertyName:Ae},Z=(0,h.NA)(se,le,null);(0,h.NA)(Y,le,null)&&!Z&&De.push({object:We,property:Ae,selector:null})}}}return De},H.prototype.isFilterValid=function(de,Y,se){s.fF.assertAnyValue(se,"if no schema is specified, we will not check for group-on key inclusion in a query");var ce=Y.query;if(!ce)return!1;var pe=new Q(ce.defn,se);return de.rewrite(pe),pe.valid},H.prototype.isSelectionValid=function(de,Y,se){var ce=(0,v.k_)(de);if(!ce)return s.fF.assertFail("Could not create filter from selection"),!1;var ve=new a.Je(l.F0.instance).rewriteFrom(ce.from()),De=_.map(ce.where(),function(We){return{condition:We.condition.accept(l.F0.instance)}});return ce=new a.yl(ve,De),this.isFilterValid(ce,Y,se)},H.prototype.setMinimumFilterScope=function(de,Y){de.filterScope=de.filterScope?Math.max(Y,de.filterScope):Y},H.prototype.getAdditionalVisualFiltersToCapture=function(de,Y){for(var se=[],pe=function(Ae){_.find(de.filters,function(_e){return(0,b.fS)(_e.expression,Ae.expression)})||se.push(Ae)},ve=0,De=(0,R.i4)(de,this.visualPluginOps,Y,this.aggrOps)||[];ve<De.length;ve++)pe(De[ve]);return se},H.prototype.presentationChangesAllowed=function(de,Y,se,ce,pe){if(!de.settings||!de.settings.allowInlineExploration||!Y.applyPresentationChanges)return!1;var ve=se&&se.config&&se.config.singleVisual;if(!ve)return!1;var We=ce&&ce.visualType;if(![function(le){return pe.isQnaVisual(le)},function(le){return pe.isQueryVisual(le)}].some(function(le){return le(We)}))return!1;var _e=(0,h.NA)(ve&&ve.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(_e&&!1===_e.value)},H}(),Q=function(H){function de(Y,se){var ce=this;return s.fF.assertValue(Y,"query"),s.fF.assertAnyValue(se,"if no schema is provided, we do not check group-on keys"),(ce=H.call(this)||this).valid=!0,ce.query=Y,ce.schema=se,ce}return(0,t.__extends)(de,H),de.prototype.visitColumnRef=function(Y){return this.valid=this.valid&&this.exprInSelects(Y),Y},de.prototype.exprInSelects=function(Y){var se=_.some(this.query.select(),function(je){return(0,b.fS)(je.expr,Y,!0,!0)});if(se)return!0;if(!this.schema)return se;for(var pe=0,ve=this.query.select();pe<ve.length;pe++){var We=ve[pe].expr.getKeyColumns(this.schema);if(_.some(We,function(je){return(0,b.fS)(Y,je,!0,!0)}))return!0}return!1},de}(d.b)},312088:function(ze,K,r){r.d(K,{TW:function(){return p}});var t=r(853811),c=r(658353),i=r(285262),s=r(809395);function p(e,h){var n={},o=h.getCurrentSection(),u=h.getCurrentExploration(),a=h.getExplorationTelemetryData();switch(o&&(n={activeSectionId:o.id,sectionGuid:o.objectId,sectionIndex:u&&u.activeSectionIndex},(e.name===c.GD||e.name===c.Ef||e.name===c.z6||e.name===c.OX||e.name===c.jn)&&(n.visualTypesAndCounts=JSON.stringify((0,s.a8)(o)))),a&&(n.modelId=a.modelId,n.reportGuid=a.reportGuid,n.dataCacheMode=a.dataCacheMode,n.datasetHost=a.datasetHost,n.dbName=a.dbName,n.enterpriseCapacitySkuTier=a.enterpriseCapacitySkuTier,n.isDirectQuery=a.isDirectQuery,n.isOnPrem=a.isOnPrem,n.exid=a.exid,n.exsid=a.exsid),e.name){case c.GD:(function(e,h){h&&!_.isEmpty(h.sections)&&(e.areAnySectionQuickExplore=(0,i.sk)(h.sections),e.creationSource=h.creationSource)})(n,u),m(n,o,a);break;case c.Ef:m(n,o,a)}if(!_.isEmpty(n)){var l=e.formatted||function(){return{}};e.formatted=function(){return(0,t.lG)(l.apply(e),n)}}}function m(e,h,n){h&&(e.usageReportSection=n&&n.isNewUsageMetrics?h.displayName:void 0),n&&(e.isNewUsageMetrics=n.isNewUsageMetrics,e.isUsageMetrics=n.isUsageMetrics)}},376193:function(ze,K,r){r.d(K,{n:function(){return V}});var t=r(787941),c=r(690016),i=function(v){return v[v.None=0]="None",v[v.DuplicatedName=1]="DuplicatedName",v}({}),p=function(){function v(e,h){this.federatedConceptualSchema=e,this.localizationService=h}return v.prototype.validateExistingMeasureName=function(e){for(var h=v.normalizeModelItemName(e.name),n=0,o=this.federatedConceptualSchema.schemas;n<o.length;n++)for(var a=0,l=o[n].entities;a<l.length;a++)for(var d=l[a],b=0,f=d.properties;b<f.length;b++){var g=f[b];if(g!==e&&v.normalizeModelItemName(g.name)===h)return{error:i.DuplicatedName,reason:this.localizationService.format(g.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[g.name,d.name])}}return{error:i.None}},v.normalizeModelItemName=function(e){return(0,c.m5)(e)},v}();function V(v){return new m(v)}var m=function(){function v(e){this.localization=e}return v.prototype.validate=function(e){if(e)for(var h=function(v,e){return new p(v,e)}(e,this.localization),n=0,o=e.schemas;n<o.length;n++){var u=o[n];if(u.isExtensionSchema){var a=e.schema(u.extends);t.fF.assertValue(a,"mainSchema");for(var l=0,d=u.entities;l<d.length;l++){var b=d[l],f=!1;a.entities.withName(b.name)||(f=!0,b.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),b.queryable=1,b.isAbandoned=!0);for(var y=0,C=b.properties;y<C.length;y++){var E=C[y];if(1===E.kind){var D=h.validateExistingMeasureName(E);D.error===i.DuplicatedName?(E.errorMessage=D.reason,E.queryable=1):f&&(E.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),E.queryable=1)}}}}}},v}()},781412:function(ze,K,r){r.d(K,{X:function(){return R}});var t=r(226514),c=r(135487),i=r(31499),s=r(787941),p=r(989516),V=r(668268),m=r(620108),v=r(601139),e=r(13106),h=r(983172),n=r(505876),o=r(334281),u=r(160046),a=r(156319),l=r(899027),d=r(809395),b=r(35801),f=r(961046),g=function(){function N(x){this.visualPlugins=x,this.collectedFilters=[]}return N.prototype.collectFilters=function(x,A,I){if(!_.isEmpty(x))for(var w=0,F=x;w<F.length;w++){var O=F[w];!O||!O.filter||this.collectFilter(O.filter,O,I,A)}},N.prototype.collectFiltersForFilterContainer=function(x,A,I,w){if(x)for(var F=0,O=x;F<O.length;F++){var L=O[F];!L.filter||L===I||this.collectFilter(L.filter,L,w,A)}},N.prototype.collectFilter=function(x,A,I,w,F){var O;s.fF.assertAnyValue(x,"filter"),s.fF.assertAnyValue(A,"filterContainer"),s.fF.assertAnyValue(I,"sourceVisualContainer"),x&&(I&&(O=(0,d.cj)(I,this.visualPlugins)),this.collectedFilters.push({filter:x,filterContainer:A,sourceVisualContainer:I,sourceVisualContainerCapabilities:O,scopeType:w,collectedFilterSource:F}))},N.prototype.getCollectedFilters=function(){return this.collectedFilters},N}(),S=r(456535),y=r(145315),C=r(324356),E=r(334048),D=function(){function N(x){s.fF.assertValue(x,"options"),this.options=x}return N.prototype.resolveSemanticQuery=function(x){return x?x.where(this.resolveFilters(x.where()),x.from()):null},N.prototype.resolveFilters=function(x){var A=this;return x?_.map(x,function(I){return A.resolveFilter(I)}):null},N.prototype.resolveFilter=function(x){if(!x)return null;if(x.target)return x;if(x.condition)switch((0,v._)(x.condition)){case 0:return this.resolveColumnFilter(x);case 2:return this.resolveExistsFilter(x);case 1:return this.resolveMeasureFilter(x);case 3:return this.resolveSubqueryFilter(x);default:return void s.fF.assertFail("Unsupported filter kind!")}},N.prototype.resolveColumnFilter=function(x){return{condition:x.condition,annotations:x.annotations}},N.prototype.resolveMeasureFilter=function(x){var A=this,I=null;this.options.mappings&&this.options.mappings.measureFilter&&(I=this.options.mappings.measureFilter.targetRoles),(!I||!_.some(I,function(de){return A.options.queryProjections[de]}))&&(I=this.getDefaultMeasureFilterTargetRoles());var w,F,O=x.condition;if(I){for(var L=0,W=I;L<W.length;L++){var j=this.options.queryProjections[W[L]];if(j)for(var z=function(){var Y=G.options.select.filter(function(De){return De.name===H.queryRef});s.fF.assert(function(){return!_.isEmpty(Y)&&1===Y.length},"Expected exactly one projection with the specified name.");var se=Y[0].expr,ce=Y[0].name;s.fF.assert(function(){return null!==ce},"Expected select name to be populated");var pe=se.getMetadata(G.options.schema);pe&&1!==pe.kind&&(!w||!w[ce])&&(F||(F=[],w={}),F.push(se),w[ce]=!0)},G=this,te=0,Q=j.all();te<Q.length;te++){var H=Q[te];z()}}s.fF.assertNonEmpty(F,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),O=P.rewrite(O,I)}return{target:F,condition:O,annotations:x.annotations}},N.prototype.resolveExistsFilter=function(x){return s.fF.assertNonEmpty(x.target,"Exists filters must specify targets."),x},N.prototype.resolveSubqueryFilter=function(x){return{condition:x.condition,annotations:x.annotations}},N.prototype.getDefaultMeasureFilterTargetRoles=function(){return(this.options.dataRoles?this.options.dataRoles.filter(function(A){return A.kind===y.DW.Grouping||A.kind===y.DW.GroupingOrMeasure}):[]).map(function(A){return A.name})},N}(),P=function(N){function x(A){var I=N.call(this)||this;return I.filterTargetRoles=A,I}return(0,t.__extends)(x,N),x.rewrite=function(A,I){s.fF.assertValue(A,"filterCondition"),s.fF.assertValue(I,"filterTargetRoles");var w=new x(I);return A.accept(w)},x.prototype.visitScopedEval=function(A){var I=this,w=_.filter(A.scope,function(F){return!(0,S.yL)(F)||_.includes(I.filterTargetRoles,F.role)});return w.length===A.scope.length?A:new C.kC(A.expression,w)},x}(E.b),M=r(374952),T=r(600348);function R(N,x,A,I,w,F,O,L,W){return new B(N,x,A,I,w,F,O,L)}var B=function(){function N(x,A,I,w,F,O,L,W){this.eventBridge=x,this.visualPlugins=A,this.aggrOps=I,this.relationshipService=w,this.hostFilters=F,this.telemetryService=O,this.scriptVisuals=L,this.featureSwitchService=W,s.fF.assertValue(this.eventBridge,"eventBridge"),s.fF.assertValue(this.visualPlugins,"visualPlugin"),s.fF.assertValue(this.aggrOps,"aggrOps"),s.fF.assertValue(this.relationshipService,"visualRelationship"),s.fF.assertValue(this.hostFilters,"hostFiltersService"),s.fF.assertValue(this.telemetryService,"telemetryService"),s.fF.assertValue(this.scriptVisuals,"scriptVisuals")}return N.prototype.collectVisualContainerFilters=function(x,A,I){var w=new g(this.visualPlugins);w.collectFilters(I.filters,0,I),A&&(w.collectFilters(A.filters,1),this.collectCrossFilter(w,A,I)),this.collectSelfFilter(w,I,null),x&&w.collectFilters(x.filters,2);var F=this.hostFilters.getSelectedHostFilters();return F&&w.collectFilters(F.filters,1),w.getCollectedFilters()},N.prototype.collectVisualContainerDrillFilters=function(x){var A=new g(this.visualPlugins),I=_.filter(x.filters,function(w){return s.fF.assertValue(w,"collectVisualContainerDrillFilters: visualContainer with name ".concat(x.name," contains blank value in .filters")),null!=w&&2===w.howCreated});return A.collectFilters(I,0,x),A.getCollectedFilters()},N.prototype.addVisualContainerFilters=function(x,A,I,w,F,O){void 0===O&&(O=!1),x.addCollectedFilters(this.collectVisualContainerFilters(A,I,w),!0,this.getShouldApplyFilter(w,F,I,O)),I&&(this.addHighlightFilter(x,I,w,F),this.addCrossDrillFilters(x,I,w,F))},N.prototype.calculateVisualContainerFilter=function(x,A,I,w,F,O){void 0===F&&(F=!1),void 0===O&&(O=!1);var L=new f.ME(I);this.addVisualContainerFilters(L,x,A,I,w,F);var W=L.getFilters(O);return W.queryRefsForSingleItemDrillFilters=a.l.getQueryRefsForSingleItemDrillFilters(I,w,this.aggrOps),W},N.prototype.calculateDetailVisualFilter=function(x,A,I,w,F){var O=new f.ME(I);this.addVisualContainerFilters(O,x,A,I,w),0===F&&(F=1);var L=O.getHighlightFilters();L&&(O.clearHighlightFilters(),O.mergeHighlightFiltersBasedOnRelationship(L,F));var W=O.getFilters();return W.queryRefsForSingleItemDrillFilters=a.l.getQueryRefsForSingleItemDrillFilters(I,w,this.aggrOps),W},N.prototype.clearCrossHighlight=function(x,A,I){var w=this.clearCrossHighlightOperation(x);(0,d.M2)(this.eventBridge,w,"UserAction_CrossHighlight",A,I)},N.prototype.clearCrossHighlightForVisualContainers=function(x,A,I,w){var F=this.clearCrossHighlightForVisualContainersOperation(x,A);(0,d.M2)(this.eventBridge,F,"UserAction_CrossHighlight",I,w)},N.prototype.clearCrossHighlightForVisualContainersOperation=function(x,A){var I=x.crossFilterSource&&x.crossFilterSource.highlight;if(!_.isEmpty(I)){for(var F=[],O=0,L=_.chain(I).map(function(j){return j.sourceVisualContainer}).filter(function(j){return _.includes(A,j)}).valueOf();O<L.length;O++){var U=this.setCrossHighlightOperation(null,null,x,3,L[O]);F.push.apply(F,U||[])}return _.uniq(F)}},N.prototype.clearFiltersFromVisualContainers=function(x,A,I){var w=this,F=x&&x.crossFilterSource,O=F&&F.drill,L=F&&F.highlight,W=[];if(!_.isEmpty(L)&&_.some(A,function(z){return _.some(L,function(G){return z===G.sourceVisualContainer})})&&(W=this.clearCrossHighlightOperation(x)),!_.isEmpty(O)){var U=this.clearCrossDrillFromVisualContainersOperation(x,A);W=_.union(W,U)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var j=[];_.forEach(A,function(z){var G=(0,d.Qg)(z),te=(0,V.NA)(G,{objectName:"visualLink",propertyName:"type"},void 0);(null==te?void 0:te.value)===u.cy&&j.push(z)}),W=_.union(W,j)}_.some(A,function(z){return w.supportsFilterOutput(z)})?(0,d.M2)(this.eventBridge,x.visualContainers,I):_.isEmpty(W)||(0,d.M2)(this.eventBridge,W,I)},N.prototype.updateCrossHighlightCollectedFilters=function(x,A,I){var w=x&&x.crossFilterSource&&x.crossFilterSource.highlight;if(w){var F=_.find(w,function(O){return O.sourceVisualContainer===I});F&&!_.isEmpty(F.selection)&&(F.collectedFilters=this.collectVisualContainerFilters(A,x,I),(0,d.Rr)(this.eventBridge,I))}},N.prototype.calculateFilterContainerInputFilter=function(x,A,I,w,F){if(I&&A&&F){var O;0===F.scopeType&&(O=F.container);var L=new g(this.visualPlugins);if(x&&L.collectFiltersForFilterContainer(x.filters,2,I),1===F.scopeType){var W=5===I.howCreated?_.filter(A.filters,function(j){return null!=j&&5===j.howCreated}):A.filters;L.collectFiltersForFilterContainer(W,1,I)}else 2!==F.scopeType&&L.collectFiltersForFilterContainer(A.filters,1,I);this.collectSelfFilter(L,null,I),O&&(L.collectFiltersForFilterContainer(O.filters,0,I,O),this.collectCrossFilter(L,A,O));var U=new f.ME(O,I);return U.addCollectedFilters(L.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(I,O,w,A)),U.getFilters()}},N.prototype.getVisualContainerCrossFilters=function(x,A,I){var w=new g(this.visualPlugins);this.collectCrossFilter(w,x,A);var F=new f.ME(A);return F.addCollectedFilters(w.getCollectedFilters(),!1,this.getShouldApplyFilter(A,I,x)),this.addHighlightFilter(F,x,A,I),this.addCrossDrillFilters(F,x,A,I),{dataFilters:F.getCrossFilters()||[],highlightFilters:F.getHighlightFilters()}},N.prototype.checkSelectionLimit=function(x,A,I,w){var F=this.countSelectedDataPoints(x,A,w),O=I.length;return{existingSelectionLength:F,newSelectionLength:O,allowed:!(F+O>i.tv)}},N.prototype.logRFilterTelemetry=function(x,A,I,w){var F=(0,l.aG)(A,this.scriptVisuals);_.isEmpty(F)||this.telemetryService.logChildEvent(w&&w.event,x,{filterType:I,visualIds:JSON.stringify(F)})},N.prototype.setCrossHighlightOperation=function(x,A,I,w,F,O,L){var W=I.crossFilterSource&&I.crossFilterSource.highlight,U=!1;if(F){U=!0,I.crossFilterSource||(I.crossFilterSource={highlight:[]}),I.crossFilterSource.highlight||(I.crossFilterSource.highlight=[]);var j=I.crossFilterSource.highlight,z=void 0;3!==w&&1!==w||!this.newAndPreviousSelectionsSupportMultiVisualSelection(F,j)?(I.crossFilterSource.highlight=j=[],z=0):-1===(z=_.findIndex(j,function(De){return De.sourceVisualContainer===F}))&&(z=j.length),null==A?(_.isEmpty(j)||((j=(0,t.__spreadArray)([],j||[],!0)).splice(z,1),I.crossFilterSource.highlight=j),F=null):j[z]={sourceVisualContainer:F,selection:A,selectorFilter:(0,p.k_)(A),collectedFilters:_.isEmpty(A)?[]:this.collectVisualContainerFilters(x,I,F),filterExpressionMetadata:O},this.logRFilterTelemetry(c.qi,I,"Highlight",L)}else W&&(U=!0,I.crossFilterSource.highlight=void 0);if(U){var G=I.crossFilterSource&&I.crossFilterSource.highlight;if(!_.isEmpty(W)){for(var te=function(We){-1===_.findIndex(G,function(je){return je.sourceVisualContainer===We.sourceVisualContainer})&&(0,d.kK)(Q.eventBridge,We.sourceVisualContainer)},Q=this,H=0,de=W;H<de.length;H++)te(de[H]);for(var se=function(We){if(We.sourceVisualContainer!==F&&-1===_.findIndex(G,function(Ae){return Ae.sourceVisualContainer===We.sourceVisualContainer}))return F=null,"break"},ce=0,pe=W;ce<pe.length&&"break"!==se(pe[ce]);ce++);}return _.filter(I.visualContainers,function(De){return De!==F})}},N.prototype.newAndPreviousSelectionsSupportMultiVisualSelection=function(x,A){return s.fF.assertValue(A,"highlights"),!(!this.supportsMultiVisualSelection(x)||1===A.length&&!this.supportsMultiVisualSelection(A[0].sourceVisualContainer))},N.prototype.supportsMultiVisualSelection=function(x){var A=(0,d.cj)(x,this.visualPlugins);return A&&A.supportsMultiVisualSelection},N.prototype.clearCrossHighlightOperation=function(x){if(x.crossFilterSource&&x.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,x)},N.prototype.clearCrossDrillFromVisualContainersOperation=function(x,A){if(!_.isEmpty(A)){for(var I=[],w=0,F=A;w<F.length;w++){var L=this.updateCrossDrillFromVisualContainerOperation(x,F[w],!0);I=_.union(I,L)}return I}},N.prototype.updateCrossDrillFromVisualContainerOperation=function(x,A,I){s.fF.assert(function(){return I||_.includes(x.visualContainers,A)},"sourceVisualContainer should be a VisualContainer of the given section.");var O,w=x.crossFilterSource&&x.crossFilterSource.drill,F=!1;if(!I){var L=this.collectVisualContainerDrillFilters(A);_.isEmpty(L)||(O={sourceVisualContainer:A,collectedFilters:L})}var W=_.findIndex(w,function(U){return U.sourceVisualContainer===A});if(W>=0?(F=!0,O?w[W]=O:w.splice(W,1)):O&&(F=!0,x.crossFilterSource||(x.crossFilterSource={}),(x.crossFilterSource.drill||(x.crossFilterSource.drill=[])).push(O)),F)return _.filter(x.visualContainers,function(U){return U!==A})},N.prototype.collectSelfFilter=function(x,A,I){var F,w=this;if(s.fF.assertValue(x,"collector"),A)(F=this.getFilterFromFilterPropertyInVisualContainer(A,function(W){return w.tryGetSelfFilterProperty(W)}))&&((L=e.yl.clone(F)).setIgnoreMParameter(),x.collectFilter(L,null,A,0,o.w.Self));else if(F=this.getFilterFromFilterPropertyInFilterContainer(I,function(W){return w.tryGetSelfFilterProperty(W)})){var L;(L=e.yl.clone(F)).setIgnoreMParameter(),x.collectFilter(L,I,null,0,o.w.Self)}},N.prototype.collectCrossFilter=function(x,A,I){var w=this;s.fF.assertValue(x,"collector"),s.fF.assertValue(A,"section"),s.fF.assertValue(I,"targetVisualContainer");for(var F=0,O=A.visualContainers;F<O.length;F++){var L=O[F];if(L!==I){var W=this.getFilterFromFilterPropertyInVisualContainer(L,function(U,j){return w.tryGetFilterPropertyIdentifier(U,j)});W&&x.collectFilter(W,null,L,0,o.w.Slicer)}}},N.prototype.getFilterFromFilterPropertyUtil=function(x,A,I){var w=I(x,A&&A.visualType);if(w){var F=A.objects;if(F)return(0,V.NA)(F,w,null)}},N.prototype.getFilterFromFilterPropertyInVisualContainer=function(x,A){s.fF.assertValue(x,"visualContainer must be defined"),s.fF.assertValue(A,"getFilterPropertyIdentifierFunc must be defined");var I=(0,d.cj)(x,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(I,x.config&&x.config.singleVisual,A)},N.prototype.getFilterFromFilterPropertyInFilterContainer=function(x,A){s.fF.assertValue(x,"visualContainer must be defined"),s.fF.assertValue(A,"getFilterPropertyIdentifierFunc must be defined");var I=(0,d.oE)(x,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(I,x.config&&x.config.singleVisual,A)},N.prototype.addHighlightFilter=function(x,A,I,w){var F=A.crossFilterSource&&A.crossFilterSource.highlight;if(!_.isEmpty(F)&&(0,b.s)(I)!==T.D.slicer)for(var O=0,L=F;O<L.length;O++){var W=L[O];if(W.sourceVisualContainer!==I){var U=this.buildHighlightFiltersForRelatedTargets(W,w,A);if(U){var j=this.relationshipService.relationshipFilterAction(A,W.sourceVisualContainer,I,w,!1),z=(0,d.cj)(I,this.visualPlugins);0===j&&(j=this.relationshipService.defaultFilterAction(W.sourceVisualContainer,I)),x.mergeHighlightFiltersBasedOnRelationship(U,j,!z.supportsHighlight)}}}},N.prototype.addCrossDrillFilters=function(x,A,I,w){var F=A.crossFilterSource&&A.crossFilterSource.drill;if(!_.isEmpty(F)){for(var O=[],L=0,W=F;L<W.length;L++){var U=W[L],j=U.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(A,j,I,w)){var G=new f.ME(j);G.addCollectedFilters(U.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(j,w,A));var te=G.getUnmergedDrillCrossFilter();if(te)for(var Q=function(ce){x.addCrossFilter(ce);var pe=_.find(U.collectedFilters,function(ve){return ve.filter===ce.filter});s.fF.assertValue(pe,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),pe&&O.push(pe.filterContainer)},H=0,de=te;H<de.length;H++)Q(de[H])}}return O}},N.prototype.buildHighlightFiltersForRelatedTargets=function(x,A,I){var w=new f.ME(x.sourceVisualContainer);return x.selectorFilter&&w.setSelectorFilter({filter:x.selectorFilter,filterExpressionMetadata:x.filterExpressionMetadata,type:n.vA.Include}),w.addCollectedFilters(x.collectedFilters,!1,this.getShouldApplyHighlightFilter(x.sourceVisualContainer,A,I)),w.getCrossHighlightFilters()},N.prototype.getShouldApplyFilterContainerInputFilter=function(x,A,I,w){var F=this;return function(O,L,W){return F.shouldApplyFilterContainerInputFilter(O,L,W,x,A,I,w)}},N.prototype.shouldApplyFilterContainerInputFilter=function(x,A,I,w,F,O,L){if(s.fF.assertValue(x,"filter"),A===w)return!0;if(!this.shouldApplyFilter(x,A,I,F,O,L))return!1;var W=A&&A.expression;return!(W&&(0,M.k)(W)||_.some(x.conditions(),function(U){return 3===(0,v._)(U)}))},N.prototype.getShouldApplyHighlightFilter=function(x,A,I){var w=this;return function(F,O,L){return w.shouldApplyHighlightFilter(F,O,L,x,A,I)}},N.prototype.getShouldApplyDrillCrossFilter=function(x,A,I){var w=this;return function(F,O,L){return w.shouldApplyDrillCrossFilter(F,O,L,x,A,I)}},N.prototype.shouldApplyHighlightFilter=function(x,A,I,w,F,O){return!(!this.shouldApplyFilter(x,A,I,w,F,O)||_.some(x.conditions(),function(L){return 1===(0,v._)(L)}))},N.prototype.shouldApplyDrillCrossFilter=function(x,A,I,w,F,O){return!(!this.shouldApplyFilterForCrossDrill(x,A,I,w,F,O)||_.some(x.conditions(),function(L){return 1===(0,v._)(L)}))},N.prototype.getShouldApplyFilter=function(x,A,I,w){var F=this;return void 0===w&&(w=!1),function(O,L,W){return F.shouldApplyFilter(O,L,W,x,A,I,w)}},N.prototype.shouldApplyFilter=function(x,A,I,w,F,O,L){var W=this;return void 0===L&&(L=!1),this.shouldApplyFilterInternal(x,A,I,w,F,O,L?function(){return 1}:function(j,z,G,te,Q){return W.relationshipService.relationshipFilterAction(j,z,G,te,Q)})},N.prototype.shouldApplyFilterForCrossDrill=function(x,A,I,w,F,O){var L=this;return this.shouldApplyFilterInternal(x,A,I,w,F,O,function(j,z,G,te,Q){return L.relationshipService.drillRelationshipFilterAction(j,z,G,te)})},N.prototype.shouldApplyFilterInternal=function(x,A,I,w,F,O,L){var W,U,j;if(s.fF.assertValue(x,"filter"),A&&a.l.shouldDisableFilter(A,F,I,this.aggrOps,this.visualPlugins)||!_.isEmpty(x.validate(F,this.aggrOps))&&(!I||I!==w))return!1;if(I&&w&&I!==w){var z=null===(j=null===(U=null===(W=w.config)||void 0===W?void 0:W.singleVisual)||void 0===U?void 0:U.query)||void 0===j?void 0:j.projections;if(3===L(O,I,w,F,h.m.isFilterForFieldParameter(z,x,F)))return!1;var Q=I.config.singleVisual.syncGroup,H=w.config.singleVisual.syncGroup;if(Q&&H&&Q.groupName===H.groupName)return!1}return!0},N.prototype.countSelectedDataPoints=function(x,A,I){var w;s.fF.assertAnyValue(x,"sourceVisualContainer"),s.fF.assertValue(A,"section");var F=null===(w=A.crossFilterSource)||void 0===w?void 0:w.highlight;return I?_.chain(F).reduce(function(O,L){return O+(L.sourceVisualContainer!==x?L.selection.length:0)},0).value():0},N.prototype.setMultipleFiltersOnSelectData=function(x,A,I,w,F){for(var O=this.clearCrossHighlightOperation(A),L=0,W=I;L<W.length;L++){var U=W[L];O=_.union(O,this.setCrossHighlightOperation(x,U.selection,A,3,U.sourceVisualContainer,U.filterExpressionMetadata))}(0,d.M2)(this.eventBridge,O,"UserAction_CrossHighlight",w,F)},N.prototype.setFilterOnSelectData=function(x,A,I,w,F,O,L,W){if(this.supportsFilterOutput(w))this.logRFilterTelemetry(c.qi,I,"Data",F);else{var U=this.setCrossHighlightOperation(x,A,I,L,w,W,F);(0,d.M2)(this.eventBridge,U,"UserAction_CrossHighlight",F,O)}},N.prototype.updateCrossFilterOnDrill=function(x,A){var I=this.updateCrossDrillFromVisualContainerOperation(x,A,!1);(0,d.M2)(this.eventBridge,I)},N.prototype.updateCrossDrillFromVisualContainers=function(x,A){var I=this.updateCrossDrillFromVisualContainersOperation(x,A);(0,d.M2)(this.eventBridge,I)},N.prototype.updateCrossDrillFromVisualContainersOperation=function(x,A){if(!_.isEmpty(A)){for(var I=[],w=0,F=A;w<F.length;w++){var L=this.updateCrossDrillFromVisualContainerOperation(x,F[w],!1);I=_.union(I,L)}return I}},N.prototype.updateCrossDrillOfSection=function(x){var A=this.updateCrossDrillOfSectionOperation(x);(0,d.M2)(this.eventBridge,A)},N.prototype.updateCrossDrillOfSectionOperation=function(x){return this.updateCrossDrillFromVisualContainersOperation(x,x.visualContainers)},N.prototype.getDrillCrossFiltersToApply=function(x,A,I){var w=new f.ME(A);return this.addCrossDrillFilters(w,x,A,I)},N.prototype.supportsFilterOutput=function(x){return a.l.supportsFilterOutput((0,d.cj)(x,this.visualPlugins))},N.prototype.tryGetFilterPropertyIdentifier=function(x,A){return a.l.tryGetFilterPropertyIdentifier(x,A,this.visualPlugins)},N.prototype.tryGetSelfFilterEnabledProperty=function(x){if(x)return(0,m.H_)(x.objects)},N.prototype.tryGetSelfFilterProperty=function(x){if(x)return(0,m.Cr)(x.objects)},N.prototype.resolveFilterTargets=function(x,A,I,w,F){if(!e.vQ.willFiltersAffectQuery(A.defn))return A.defn;var O={dataRoles:I,mappings:w,queryProjections:A.projections,select:A.defn.select(),schema:x},L=new D(O),W=A.defn;return F&&(W=W.addSemanticFilter(F)),L.resolveSemanticQuery(W)},N.prototype.applyFilterOutput=function(x){this.supportsFilterOutput(x)&&(0,d.Rr)(this.eventBridge,x)},N}()},961046:function(ze,K,r){r.d(K,{ME:function(){return y},i3:function(){return g},tA:function(){return b}});var t=r(322487),c=r(883863),i=r(787941),s=r(13106),p=r(226514),V=r(474147),m=r(116170),v=r(138030),h=function(C){function E(){var D=C.call(this)||this;return D.fieldsBeingFiltered=[],D}return(0,p.__extends)(E,C),E.prototype.visitCondition=function(D){return D.accept(this,0)},E.prototype.visitIn=function(D,P){if(0!==P||!D.args)return!1;for(var M=0,T=D.args;M<T.length;M++)if(!T[M].accept(this,1))return!1;return!(!D.values||D.table)},E.prototype.visitColumnRef=function(D,P){return 1===P&&(this.fieldsBeingFiltered.push(D),!0)},E}(m.Ml),n=r(334281),o=r(156319),u=r(809395),a=r(601139);function d(C){if(_.isEmpty(C))return!1;for(var E=0,D=C;E<D.length;E++)if(_.some(D[E].filter.where(),function(M){return 3===(0,a._)(M.condition)}))return!0;return!1}function b(C,E,D,P,M,T,R){i.fF.assert(function(){return!!C},"Filter required");var B={filter:C,scope:E,filterExpressionMetadata:R};if(D)B.restatement=D.restatement,B.type=D.type,B.isHidden=!!D.isHiddenInViewMode,B.filterExpressionMetadata=D.expression?{expressions:[D.expression]}:void 0,B.displayName=D.displayName,D.cachedValueItems&&B.filterExpressionMetadata?B.filterExpressionMetadata.cachedValueItems=S(D.cachedValueItems,0):D.filterExpressionMetadata&&(B.filterExpressionMetadata=D.filterExpressionMetadata);else if(P&&o.l.supportsFilterOutput(M)&&P.config.singleVisual.query){var N=P.config.singleVisual.query.defn.select(),x=P.config.singleVisual.cachedFilterDisplayItems,A=P.config.singleVisual.filterExpressionMetadata;if(i.fF.assert(function(){return null==x||null==A},"We should not have both caches defined at the same time"),N.length>=1&&x&&T===n.w.Slicer)B.filterExpressionMetadata={expressions:[N[0].expr],cachedValueItems:S(x,0)};else if(A)B.filterExpressionMetadata=A;else{B.filterExpressionMetadata={expressions:[]};for(var I=0,w=N;I<w.length;I++)B.filterExpressionMetadata.expressions.push(w[I].expr)}}return B}function f(C){if(null!=C){var E={Restatement:C.restatement,type:C.type};return C.expression&&(E.expression=t.ib.serializeExpr(C.expression)),E}}function g(C){if(!_.isEmpty(C)){for(var E=[],D=0,P=C;D<P.length;D++)E.push(f(P[D]));return E}}function S(C,E){for(var D=[],P=0,M=C;P<M.length;P++){var T=M[P],R={identities:[T.identity],valueMap:{}};R.valueMap[E]=T.displayName,D.push(R)}return D}var y=function(){function C(E,D){if(this.visualContainer=E,this.filterContainer=D,E){var P=(0,u.Xf)(E);P&&(this.visualSemanticQuery=P.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}return C.prototype.setSelectorFilter=function(E){var D=this;i.fF.assertValue(E,"filter"),i.fF.assert(function(){return!D.selectorFilter},"should not call setSelectorFilter twice"),this.selectorFilter=E,this.shouldPruneUnnecessaryFilters=!0},C.prototype.addDrillFilter=function(E){i.fF.assertValue(E,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(E)},C.prototype.addVisualFilter=function(E){i.fF.assertValue(E,"filter"),this.visualSemanticQuery&&(E.filter=(0,s.d3)(E.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(E),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0},C.prototype.addDrillthroughFilter=function(E){i.fF.assertValue(E,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addSectionFilter=function(E){i.fF.assertValue(E,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addReportFilter=function(E){i.fF.assertValue(E,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addCrossFilter=function(E){i.fF.assertValue(E,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addHighlight=function(E){i.fF.assertValue(E,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(E)},C.prototype.addCollectedFilters=function(E,D,P){i.fF.assertValue(E,"collectedFilters");for(var M=0,T=E;M<T.length;M++){var R=T[M],B=R.filter,N=R.filterContainer,x=R.sourceVisualContainer;if(!P||P(B,N,x)){var A=N;R.filterContainer&&R.filterContainer===this.filterContainer&&(A=null);var I=b(B,R.scopeType,A,x,R.sourceVisualContainerCapabilities,R.collectedFilterSource);!N||2!==N.howCreated&&0!==N.precedence?R.sourceVisualContainer?R.sourceVisualContainer===this.visualContainer?this.addVisualFilter(I):this.addCrossFilter(I):5===N.howCreated?this.addDrillthroughFilter(I):1===R.scopeType?this.addSectionFilter(I):2===R.scopeType?this.addReportFilter(I):R.filterContainer&&R.filterContainer===this.filterContainer&&this.addVisualFilter(I):this.addDrillFilter(I),D&&N&&(this.metadata=this.metadata||[],this.metadata.push(f(N)))}}},C.prototype.mergeHighlightFiltersBasedOnRelationship=function(E,D,P){var M=this;switch(D){case 0:i.fF.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case 2:if(!P){_.each(E,function(T){return M.addHighlight(T)});break}case 1:E&&_.each(E,function(T){return M.addCrossFilter(T)});break;case 3:break;default:i.fF.assertFail("Unknown visual relationship filter action")}},C.prototype.getFilters=function(E){var D=this.getFilterData(E),P=this.highlightFilters&&s.yl.merge(this.highlightFilters.map(function(M){return M.filter}));return{dataFilter:D?s.yl.merge(_.map(D,function(M){return M.filter})):void 0,dataFiltersUnmerged:D,highlightFilter:P,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}},C.prototype.getFilterData=function(E){var D=this;if(i.fF.assert(function(){return!D.selectorFilter},"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),E||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var T=this.sectionFilters||[],R=this.drillthroughFilters||[],B=this.reportFilters||[],N=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(N).concat(T).concat(R).concat(B)}},C.prototype.getCrossHighlightFilters=function(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])},C.prototype.getHighlightFilters=function(){return this.highlightFilters},C.prototype.clearHighlightFilters=function(){this.highlightFilters=void 0},C.prototype.getUnmergedDrillCrossFilter=function(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters},C.prototype.getCrossFilters=function(){return this.crossFilters},C.prototype.ensurePrecedence=function(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(C){if(i.fF.assertValue(C,"filterScope"),i.fF.assert(function(){return!d(C.sectionFilters)},"Page filters are not expected to have the subqueries."),i.fF.assert(function(){return!d(C.reportFilters)},"Report filters are not expected to have the subqueries."),_.isEmpty(C.visualFilters))return C.visualFilters;for(var E=!1,D=[],P=0,M=C.visualFilters;P<M.length;P++){var B=(T=M[P]).filter.where().filter(function(F){return 0===(0,a._)(F.condition)});E=E||d([T]),D.push.apply(D,B.map(function(F){return s.yl.fromSQExpr(F.condition)}))}if(!E)return C.visualFilters;for(var N=[],x=0,A=C.visualFilters;x<A.length;x++){var T,I=T=A[x];if(d([T])){var w=T.filter;_.isEmpty(D)||(w=(0,s.RD)(w,D)),_.isEmpty(C.crossFilters)||(w=(0,s.RD)(w,C.crossFilters.map(function(O){return O.filter}))),_.isEmpty(C.sectionFilters)||(w=(0,s.RD)(w,C.sectionFilters.map(function(O){return O.filter}))),_.isEmpty(C.drillThroughFilters)||(w=(0,s.RD)(w,C.drillThroughFilters.map(function(O){return O.filter}))),_.isEmpty(C.reportFilters)||(w=(0,s.RD)(w,C.reportFilters.map(function(O){return O.filter}))),I={filter:w}}N.push(I)}return N}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)},C.prototype.pruneUnnecessaryFilters=function(){var E=this;this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,c.Rl)(this.visualFilters,function(D,P){return D.filter=function(C,E){if(!E||!C)return C;var D=E.conditions();if(!D||1!==D.length)return C;var P=new h;if(!P.visitCondition(D[0]))return C;for(var B,M=P.fieldsBeingFiltered,T=C.from(),R=C.where(),N=function(w,F){var O=R[w],L=(0,v.J_)(O,T);L&&_.find(M,function(W){return(0,V.fS)(L.fieldBeingFiltered,W)})?B||(B=_.take(R,w)):B&&B.push(O)},x=0,A=R.length;x<A;x++)N(x);return B?s.yl.fromSQFromAndSQFilters(T,B):C}(D.filter,E.selectorFilter.filter),D.filter.where().length>0})),this.shouldPruneUnnecessaryFilters=!1)},C}()},726934:function(ze,K,r){r.d(K,{Q:function(){return n}});var t=r(226514),c=r(489680),i=r(267698),s=r(358724),p=r(942983),V=r(777300),m=r(658353),v=r(656011),e=r(1745),h="apr_error_notification_bar";function n(a,l,d,b,f,g,S,y,C,E,D,P){return new u(a,l,d,b,f,g,S,y,C,E,D,P)}var o={autoRefreshEnabled:!0,refreshIntervalSeconds:1},u=function(){function a(l,d,b,f,g,S,y,C,E,D,P,M){this.telemetryService=l,this.eventBridge=d,this.explorationNavigation=b,this.dataSourcesService=f,this.conceptualSchemaProxy=g,this.globalEventBridge=S,this.visualTimeSynchronizationService=y,this.notificationBarService=C,this.localizationService=E,this.errorService=D,this.reportRefreshCacheService=P,this.reportRefreshConfigProxy=M,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=d.createChannelSubscriptionManager()}return a.prototype.subscribeEvents=function(){var l=this;null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(e.yVh,function(){return l.onSectionChanged()}).subscribe(i.dm,function(){return l.onVisualsLoaded()}).subscribe(e.jsX,function(){return l.onSectionsObjectsEvaluated()}).subscribe(e.CCe,function(){return l.onModelChanged()})},a.prototype.init=function(l){return void 0===l&&(l=!0),(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(d){switch(d.label){case 0:return this.triggerNotifications=l,[4,this.loadPageSettings()];case 1:return d.sent(),[4,this.updateRefreshState()];case 2:return d.sent(),this.subscribeEvents(),[2]}})})},a.prototype.destroy=function(){var l;this.stopRefresh(),null===(l=this.subscriptionManager)||void 0===l||l.unsubscribeAll(),this.subscriptionManager=void 0},a.prototype.refreshData=function(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(e.jCS,{affectContainer:function(){return!0}})},a.prototype.setRefreshPaused=function(l){this.refreshPaused=l},a.prototype.getRefreshStats=function(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}},a.prototype.loadAdminSettings=function(){var l,d;return(0,t.__awaiter)(this,void 0,void 0,function(){var b,f,g;return(0,t.__generator)(this,function(S){switch(S.label){case 0:return[4,this.isPageRefreshSupported()];case 1:if(!S.sent())return[2];if(!this.reportRefreshConfigProxy)return this.adminConfig=o,[2];b=null===(d=null===(l=this.explorationNavigation.getCurrentExploration())||void 0===l?void 0:l.report)||void 0===d?void 0:d.modelId,S.label=2;case 2:return S.trys.push([2,4,,5]),f=this,[4,this.reportRefreshConfigProxy.getAPRConfig(b)];case 3:return f.adminConfig=S.sent(),[3,5];case 4:return g=S.sent(),this.telemetryService.logEvent(m.Hl,{modelId:b}),this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,g,"FailedToGetAPRAdminConfig"),this.adminConfig=void 0,[2];case 5:return this.adminConfig?this.adminConfig.autoRefreshEnabled||this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0),[2]}})})},a.prototype.loadPageSettings=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l,d,b;return(0,t.__generator)(this,function(f){switch(f.label){case 0:return d=this.explorationNavigation.getCurrentSection(),[4,this.isAPREnabledInSection(d)];case 1:return f.sent()?(l=this.refreshIntervalInMilliseconds,b=(0,v.bW)(d.evaluatedObjects.pageRefresh.duration||p.oK),this.refreshIntervalInMilliseconds=(0,v.A9)(b)):this.refreshIntervalInMilliseconds=void 0,[2,this.refreshIntervalInMilliseconds!==l]}})})},a.prototype.onSectionsObjectsEvaluated=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.loadPageSettings()];case 1:return l=d.sent(),this.refreshIntervalInMilliseconds&&l?this.updateRefreshState():!this.refreshIntervalInMilliseconds&&this.isRunning&&this.stopRefresh(),[2]}})})},a.prototype.onModelChanged=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.getRefreshInterval()];case 1:return(l=d.sent())&&!this.isRunning?this.updateRefreshState():!l&&this.isRunning&&this.stopRefresh(),[2]}})})},a.prototype.getRefreshInterval=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.isPageRefreshSupported()];case 1:return d.sent()?this.refreshIntervalInMilliseconds&&this.adminConfig&&this.adminConfig.autoRefreshEnabled?(l=_.max([this.refreshIntervalInMilliseconds,1e3*this.adminConfig.refreshIntervalSeconds]),[2,_.min([s.c41,l])]):[2]:[2,null]}})})},a.prototype.isPageRefreshSupported=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())];case 1:return l=b.sent(),[3,3];case 2:return b.sent(),[2,!1];case 3:return[2,_.some(l.schemas,function(f){return f.capabilities&&f.capabilities.supportsFastRefresh})]}})})},a.prototype.updateRefreshState=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return this.stopRefresh(),this.isRunning=!0,this.adminConfig||null==this.refreshIntervalInMilliseconds?[3,2]:[4,this.loadAdminSettings()];case 1:d.sent(),d.label=2;case 2:return[4,this.getRefreshInterval()];case 3:return null!=(l=d.sent())?this.runTimer(l):this.isRunning=!1,[2]}})})},a.prototype.triggerRefreshUponSectionChange=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return l=this.explorationNavigation.getCurrentSection(),[4,this.isAPREnabledInSection(l)];case 1:return d.sent()&&this.triggerRefresh(),[2]}})})},a.prototype.onSectionChanged=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(l){switch(l.label){case 0:return[4,this.triggerRefreshUponSectionChange()];case 1:return l.sent(),this.lastUpdateDate=void 0,[4,this.loadPageSettings()];case 2:return l.sent(),[4,this.updateRefreshState()];case 3:return l.sent(),[2]}})})},a.prototype.onVisualsLoaded=function(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()},a.prototype.stopRefresh=function(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(h)},a.prototype.clearTimeoutAndAnimationFrame=function(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0},a.prototype.runTimer=function(l){var d=this;this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+l),this.notifyReportRefreshStateChanged(),this.timeoutId=setTimeout(function(){d.timeoutId=void 0,d.animationFrameId=requestAnimationFrame(function(){d.animationFrameId=void 0,d.onTimerTriggered()})},l)},a.prototype.onTimerTriggered=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return this.timerExpired=!0,this.visualsLoaded?this.onTimerExpired():this.refreshDelayedCount+=1,[4,this.loadAdminSettings()];case 1:return d.sent(),[4,this.getRefreshInterval()];case 2:return null!=(l=d.sent())?this.runTimer(l):this.stopRefresh(),[2]}})})},a.prototype.triggerRefresh=function(){var l=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(l),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(e.tYc)},a.prototype.calculateEffectiveInterval=function(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0},a.prototype.onTimerExpired=function(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())},a.prototype.logTriggerRefresh=function(l){return(0,t.__awaiter)(this,void 0,void 0,function(){var d,b,f,g,S,y,C,E,D,P,M;return(0,t.__generator)(this,function(T){switch(T.label){case 0:return d=this.explorationNavigation.getCurrentSection(),b=this.explorationNavigation.getCurrentExploration().report,f=this.explorationNavigation.getExplorationTelemetryData(),g="",S=-1,y="",C="-1",E="-1",b&&b.model&&(g=(D=b.model).dbName,y=b.objectId,S=D.id),P=d.objectId,[4,this.getRefreshInterval()];case 1:return M=T.sent(),f&&(C=f.exid,E=f.exsid),this.telemetryService.logEvent(c._3,{reportId:y,pageId:P,dbName:g,modelId:S,interval:M,delayCount:l,exid:C,exsid:E}),[2]}})})},a.prototype.notifyReportRefreshStateChanged=function(){if(this.triggerNotifications){var l=void 0,d=this.explorationNavigation.getCurrentExploration().report;d&&(l=d.objectId),this.globalEventBridge.publishToChannel(i.VF,{reportId:l,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}},a.prototype.sendNotification=function(l,d,b,f){var g=this;void 0===d&&(d=!1);var S={id:h,message:l,notificationType:1,actions:[]};b&&(S.secondaryLink={action:function(){g.errorService.error(l,f,{requestId:b.requestId,statusCode:b.status&&b.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),d&&S.actions.push({action:function(){g.notificationBarService.hide(h),g.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(S)},a.prototype.isAPREnabledInSection=function(l){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.isPageRefreshSupported()];case 1:return d.sent()?[2,l&&l.evaluatedObjects&&l.evaluatedObjects.pageRefresh&&l.evaluatedObjects.pageRefresh.show&&(null==l.evaluatedObjects.pageRefresh.refreshType||l.evaluatedObjects.pageRefresh.refreshType===V.wO)]:[2,!1]}})})},a}()},316590:function(ze,K,r){r.d(K,{e:function(){return c}});var t=r(787941);function c(){return new i}var i=function(){function s(){this.runningVisuals={}}return s.prototype.getVisual=function(p){t.fF.assertValue(p&&p.name,"contract");var V=this.runningVisuals[p.name];if(null!=V&&V.contract===p)return V.visual},s.prototype.setVisual=function(p,V){t.fF.assertValue(p&&p.name,"contract"),t.fF.assertValue(V,"visual"),this.runningVisuals[p.name]={contract:p,visual:V}},s.prototype.removeVisual=function(p){t.fF.assertValue(p&&p.name,"contract"),delete this.runningVisuals[p.name]},s}()},753355:function(ze,K,r){r.d(K,{s:function(){return s}});var t=r(787941),c=r(899027),i=r(35801);function s(V,m,v,e,h,n){return new p(V,m,v,e,h,n)}var p=function(){function V(m,v,e,h,n,o){t.fF.assertValue(m,"visualPluginService"),t.fF.assertValue(v,"featureSwitchService"),t.fF.assertValue(e,"localizationService"),t.fF.assertAnyValue(h,"userInfo"),t.fF.assertValue(o,"licenseEnforcementServiceExtend"),this.services={visualPlugin:m,featureSwitchService:v,localizationService:e,userInfo:h,embedModeService:n,licenseServiceExtend:o}}return V.prototype.addScriptVisualInfo=function(m,v){var e=(0,i.s)(m);if(this.services.visualPlugin.isScriptVisual(e)&&m.id){var h={id:m.id,scriptType:(0,c.lX)(e)};v.push(h)}},V.prototype.showEnableScriptVisualDialogIfRequiredAsync=function(m,v,e){return t.fF.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null},V.prototype.getScriptVisualErrorDetails=function(m,v){var e,h=this.services.localizationService,n=this.services.featureSwitchService.featureSwitches;if(0!==m||n.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return n.scriptVisualAnonymousEmbeddingEnabled||(e=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",m)))),e;var a=this.getUserInfoForErrorDetails();if(a&&a.isViralTenant)e=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",m)));else if(!1===n.rScriptVisualEnabled)e=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",m)));else{var l=!1,d=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!d&&(l=v&&this.services.licenseServiceExtend.isReportInPremiumCapacity(v)),a&&!1===a.isPremiumUser&&!l?e=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsIsProFeature",m))):a&&void 0===a.isPremiumUser&&void 0===a.isViralTenant&&void 0===v&&(e=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",m))))}}else e=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupported",m)));return e},V.prototype.overrideEmbeddedErrorDetails=function(m,v){var e=this.services.embedModeService&&(this.services.embedModeService.isAppTokenEmbed()||this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),h=this.services&&this.services.localizationService;if(e&&v){var n=v;return n.helpLink="",n.message=h.get(this.getLocalizationKey("Error_VisualsEmbeddedText",m)),n.displayableErrorInfo=[{errorInfoKey:h.get(this.getLocalizationKey("Error_VisualsEmbeddedText",m)),errorInfoValue:h.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",m))}],n}},V.prototype.getLocalizationKey=function(m,v){var e;switch(v){case 0:e="R";break;case 1:e="Py";break;default:e=""}return e+m},V.prototype.shouldBlockScriptVisual=function(m,v){var e=this.services.featureSwitchService.featureSwitches,h=this.getUserInfoForErrorDetails(),n=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),o=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(m){case 0:if(n)return!e.scriptVisualAnonymousEmbeddingEnabled||!e.scriptVisualEnabled;var u=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!o&&(u=v&&this.services.licenseServiceExtend.isReportInPremiumCapacity(v)),!u&&(!e.scriptVisualEnabled||h&&h.isViralTenant||!e.rScriptVisualEnabled||h&&!h.isPremiumUser);case 1:return n?!e.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!o&&(u=v&&this.services.licenseServiceExtend.isReportInPremiumCapacity(v)),!u&&(h&&h.isViralTenant||h&&!h.isPremiumUser))}},V.prototype.canLaunchExternalIDE=function(){return!1},V.prototype.launchExternalIDE=function(m){return null},V.prototype.openOptionsDialogAsync=function(){return null},V.prototype.refreshScriptCustomVisuals=function(m){t.fF.assertFail("Function not implemented for Service")},V.prototype.triggerDataRefresh=function(){var m="Visual_Error_RefreshFailed",v=this.services.localizationService.get(m),e=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:e,displayableErrorInfo:[{errorInfoKey:v,errorInfoValue:e}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:1,hideDebugInfo:!0,resourceKey:m}},V.prototype.buildErrorDetails=function(m){return{message:m,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:1}},V.prototype.getUserInfoForErrorDetails=function(){var m=this.services.userInfo,v=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(m&&!Array.isArray(m)&&!v)return{isViralTenant:m.userMetadata&&m.userMetadata.tenantMetadata&&0===m.userMetadata.tenantMetadata.tenantType,isPremiumUser:m.isPremiumUser}},V}()},555161:function(ze,K,r){r.d(K,{Oz:function(){return v},UP:function(){return p},_g:function(){return m}});var t=r(787941),c=r(273139),i=r(35801),s=r(281482),p=function(){function e(){}return e.getSelectedVisualContainer$=function(h){return h.selectedElements$.pipe((0,s.U)(function(n){if(1===_.size(n)){var u=n[0].canvasItem;return u&&(0,c.Vz)(u)?u:void 0}}))},e.selectCanvasItem=function(h,n,o,u){void 0===o&&(o=0);var a=V.createSelectableCanvasItem(h);n.selectElement(a,o,u)},e.unselectCanvasItem=function(h,n){var o=e.getSelectedCanvasItems(n);_.includes(o,h)&&e.selectCanvasItems(_.without(o,h),n)},e.selectSubSelection=function(h,n,o,u){var a=V.createSubSelectableCanvasItem(n,o);h.selectElement(a,u)},e.selectCanvasItems=function(h,n,o){var u=_.map(h,function(a){return V.createSelectableCanvasItem(a)});n.selectElements(u,0,o)},e.isCanvasItemSelected=function(h,n){var o=e.getSelectedCanvasItems(n);return _.includes(o,h)},e.getSelectedCanvasItem=function(h){return _.first(e.getSelectedCanvasItems(h))},e.getSelectedCanvasItems=function(h){return _.chain(h.getSelectedElements()).map(function(n){return n.canvasItem}).compact().value()},e.getSelectedVisualContainers=function(h){return _.chain(e.getSelectedCanvasItems(h)).filter(function(n){return(0,c.Vz)(n)}).compact().value()},e.getSelectedVisualContainerGroups=function(h){return _.chain(e.getSelectedCanvasItems(h)).filter(function(n){return(0,c.q4)(n)}).compact().value()},e.hasMultipleVisualContainerSelection=function(h){return e.getSelectedCanvasItems(h).length>1},e.getSelectedVisual=function(h){var n=e.getSelectedCanvasItems(h);if(1===n.length){var o=n[0];return(0,c.Vz)(o)?o:void 0}},e.getDefaultSelectedVisualInSingleOrMultiCase=function(h){var n=_.isArray(h)?h:e.getSelectedCanvasItems(h),o=n[0];if(o){var u=(0,i.s)(o);return _.every(n,function(a){return(0,i.s)(a)===u})?o:void 0}},e.clearSubSelections=function(h){var n=h.getSelectedElements();if(n){for(var o=e.getSelectedVisualContainers(h),u=[],a=!1,l=0,d=n;l<d.length;l++){var b=d[l];_.isEmpty(b.subSelections)?u.push(b):(a=!0,u.push(V.createSubSelectableCanvasItem(b.canvasItem,[])))}a&&h.selectElements(u,o.length>1?1:0)}return n},e}(),V=function(){function e(){}return e.createSelectableCanvasItem=function(h){return v.createFromCanvasItem(h)},e.createSubSelectableCanvasItem=function(h,n){return v.createFromSubSelections(h,n)},e}(),m=function(){function e(){}return e.equals=function(h,n){if(h.length!==n.length)return!1;for(var o=0,u=h.length;o<u;o++)if(!v.equals(h[o],n[o]))return!1;return!0},e}(),v=function(){function e(){}return Object.defineProperty(e.prototype,"id",{get:function(){if(this._canvasItem)return this._canvasItem.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasItem",{get:function(){return this._canvasItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subSelections",{get:function(){return this._subSelections},enumerable:!1,configurable:!0}),e.createFromCanvasItem=function(h){var n=new e;return n._canvasItem=h,n},e.createFromSubSelections=function(h,n){var o=e.createFromCanvasItem(h);return o._subSelections=n,o},e.equals=function(h,n){return(h=h||null)===(n=n||null)||!(!h!=!n||(t.fF.assertValue(h,"left"),t.fF.assertValue(n,"right"),h.id!==n.id||h.canvasItem!==n.canvasItem||!_.isEqual(h.subSelections,n.subSelections)))},e}()},798379:function(ze,K,r){r.d(K,{F:function(){return i}});var t=r(693825),c=r(568837);function i(p){return new s(p)}var s=function(){function p(V){this.downgraders=V,this.objectsDowngrader=(0,c.x)(this.downgraders)}return p.prototype.getFinalExplorationVersion=function(V,m){m=(0,t.Fp)(m,this.getFinalExplorationForObjectsVersion(V,m));for(var v=0,e=this.downgraders;v<e.length;v++)m=(0,t.Fp)(m,e[v].getMinDowngradeVersionForContract(V));return m},p.prototype.downgrade=function(V,m){this.downgradeVisualObjects(V,m);for(var v=0,e=this.downgraders;v<e.length;v++)e[v].downgrade(V,m)},p.prototype.downgradeVisualObjects=function(V,m){var v=V&&V.sections;if(v)for(var e=0,h=v;e<h.length;e++){var n=h[e],o=n&&n.visualContainers;if(!o)return;for(var u=0,a=o;u<a.length;u++){var l=a[u],d=l&&l.config&&l.config.singleVisual;if(d){var b=d.visualType,f=d.vcObjects;f&&this.objectsDowngrader.downgrade(2,f,b,m);var g=d.objects;g&&this.objectsDowngrader.downgrade(1,g,b,m)}}}},p.prototype.getFinalExplorationForObjectsVersion=function(V,m){var v=V&&V.sections;if(v){for(var e=0,h=v;e<h.length;e++){var n=h[e],o=n&&n.visualContainers;if(!o)return;for(var u=0,a=o;u<a.length;u++){var l=a[u],d=l&&l.config&&l.config.singleVisual;if(d){var b=d.visualType,f=d.vcObjects;f&&(m=(0,t.Fp)(m,this.objectsDowngrader.getFinalVisualObjectsVersion(2,f,m,b)));var g=d.objects;g&&(m=(0,t.Fp)(m,this.objectsDowngrader.getFinalVisualObjectsVersion(1,g,m,b)))}}}return m}},p}()},873879:function(ze,K,r){r.d(K,{bZ:function(){return oe}});var t=r(226514),c=r(415859),i=r(95788),s=r(718706),p=r(962210),V=r(890795),m=r(322487),v=r(338780),e=r(776791),h=r(159803),n=r(693825),o=r(535909),u=r(497610),a=r(935270),l=r(36629),d=r(761565),b=r(883863),f=r(787941),g=r(299747),S=r(826691),y=r(690016),C=r(261374),E=r(353705),D=r(426827),P=r(668268),M=r(324356),T=r(926201),R=r(796899),B=r(942983),N=r(8590),x=r(860141),A=r(272039),I=r(505876),w=r(90117),F=r(160046),O=r(859541),L=r(273139),W=r(277632),U=r(658353),j=r(571330),z=r(156319),G=r(85091),te=r(809395),Q=r(67093),H=r(798379),de=r(361908),Y=r(793688),se=r(764830),ce=r(425148),pe=r(89858),ve=r(915455),De=r(456535),We=r(374952),je=r(600348),Ae=r(465829),_e=r(944854),le=r(565146),Z="Gradient",ie="Size";function me(ee,k){var Ce=void 0,J=!0;if(!_.isEmpty(ee)){for(var re=new Map,Ie=0,ot=ee;Ie<ot.length;Ie++){var he=k(ot[Ie]),Te=re.get(he);null!=Te?(J=!1,re.set(he,Te+1)):re.set(he,1)}J||(Ce=Object.fromEntries(re.entries()))}return{allUnique:J,itemCounts:Ce}}function ye(ee,k,Ce,J){for(var Ie=0,ot=0,we=0,he=0,Te=0,Oe=Object.keys(J);Te<Oe.length;Te++){var fe=J[Oe[Te]];Ie+=fe,fe>1?(ot++,he=Math.max(he,fe)):we++}ee.logEvent(U.mY,{type:k,deserializationId:Ce,totalCount:Ie,duplicateCount:ot,uniqueCount:we,maxDuplicateCount:he})}function oe(ee,k,Ce,J,re,Ie,ot){return new X(ee,k,Ce,J,re,Ie,ot)}var X=function(){function ee(k,Ce,J,re,Ie,ot,we){this.visualPlugins=k,this.telemetryService=Ce,this.featureSwitchService=J,this.canvasListOrderNormalizeService=re,this.contextActivityService=Ie,this.userState=ot,this.explorationUpgrader=(0,ce.$)(J),this.explorationDowngrader=(0,H.F)(we)}return ee.prototype.deepCopyExploration=function(k,Ce){return this.deserializeExploration(this.serializeExploration(k,Ce),[],!0)},ee.prototype.ensureInitialized=function(){return this.visualPlugins.ensureBuiltInPlugins()},ee.prototype.deserializeExploration=function(k,Ce,J,re){var ot,we,Ie=this;if(k){var he=null!=re?re:{},Te=he.model,Oe=he.counters,Je=he.getExplorationActivity,fe=he.logDuplicateTelemetry,ne=fe?o.q.generateId():void 0,Ne=void 0;Je&&(Ne=Je.createChildActivity({name:"Upgrade Exploration"}));var et=this.explorationUpgrader.upgrade(k,Ce,J,Oe);if(Ne&&(Ne.setProperty("upgraderCount",null==Oe?void 0:Oe.upgraderCount),Ne.resolve()),!et)return;f.fF.assertValue(et.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var tt=et.config;if(f.fF.assertValue(tt,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),we={id:et.id,sections:void 0,dataSources:void 0,reportId:et.reportId,themeCollection:R.P.cloneThemeCollection(tt.themeCollection),bookmarks:[],mwcToken:et.mwcToken,capacityUri:et.capacityUri,publicCustomVisuals:et.publicCustomVisuals,isStoredInBlob:et.isStoredInBlob},tt.tags&&(we.tags=_.cloneDeep(tt.tags)),tt.slowDataSourceSettings&&(we.slowDataSourceSettings=_.cloneDeep(tt.slowDataSourceSettings)),tt.settings&&(we.settings=_.cloneDeep(tt.settings)),tt.objects&&(we.objects=(0,c.wN)(tt.objects,A.W)),tt.bookmarks){var xe=(0,y.zb)(function(){var jt=Ie.deserializeBookmarks(tt.bookmarks);if(fe){var Kt=me(jt,function(or){return or.name}),Zt=Kt.itemCounts;Kt.allUnique||(f.fF.assertFail("bookmark names must be unique"),ye(Ie.telemetryService,"BookmarkNames",ne,Zt))}we.bookmarks=jt});Je&&Je.setProperty("bookmarkDeserializationDuration",xe)}this.contextActivityService.upsertExplorationProperties({bookmarkCount:we.bookmarks?we.bookmarks.length:0}),et.userState&&(we.userState=(0,ve.U6)(et.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),et.activeWebBookmark&&(we.activeWebBookmark=(0,ve.a5)(et.activeWebBookmark,J,this.visualPlugins,this.featureSwitchService,this.telemetryService));var Ve=et.activeBookmark;if(Ve)for(var at=0,ft=null!==(ot=we.bookmarks)&&void 0!==ot?ot:[];at<ft.length;at++){var ht=ft[at];if(!N.J.isBookmarkGroup(ht)&&ht.name===Ve.name){we.activeBookmark=ht;break}}if(et.sections){var Ge=_.sortBy(et.sections,function(jt){return void 0!==jt.ordinal?jt.ordinal:0}),Re=we.settings&&we.settings.useStylableVisualContainerHeader;if(we.sections=_.map(Ge,function(jt){return Ie.deserializePage(jt,(0,t.__assign)((0,t.__assign)({},re),{enableVisualContainerGrouping:Re}))}),fe){var Xe=me(we.sections,function(jt){return jt.name}),He=Xe.itemCounts;Xe.allUnique||(f.fF.assertFail("page names must be unique"),ye(this.telemetryService,"PageNames",ne,He))}if(we.filters=this.deserializeFilterContainers(et.filters),we.dataSources=(0,x.yd)(),et.resourcePackages&&(we.resourcePackages=this.deserializeResourcePackages(et.resourcePackages)),et.pods&&(we.pods=_.map(et.pods,function(jt){return Ie.deserializePod(jt)}),fe)){var ct=me(we.pods,function(jt){return jt.name}),It=ct.itemCounts;ct.allUnique||(f.fF.assertFail("pod names must be unique"),ye(this.telemetryService,"PodNames",ne,It))}if(_.isNumber(tt.activeSectionIndex)&&tt.activeSectionIndex<et.sections.length&&(we.activeSectionIndex=tt.activeSectionIndex),tt.modelExtensions&&(we.modelExtensions=this.deserializeModelExtensions(tt.modelExtensions)),Te)if(Te.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty(Te.onPremModelConnectionString)){var Bt=(0,v.cN)(Te.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(we,Bt,function(jt){jt.useInitialCachedQuery=!0},function(jt){jt.useInitialCachedQuery=!1})}else _.isEmpty(Te.onPremModelConnectionString)&&Te.dataCacheMode===u.Vv.Import&&Te.lastRefreshTime&&(Bt=(0,v.cN)(Te.lastRefreshTime),this.updateVisualContainerCachingOptions(we,Bt,function(Kt){Kt.disableCacheOnServerForInitialLoad=!0},function(Kt){Kt.disableCacheOnServerForInitialLoad=!1}))}et.report&&(we.report=(0,g.ED)(et.report),et.report.linguisticSchemaId&&(we.reportHasLinguisticSchema=!0)),null!=tt.defaultDrillFilterOtherVisuals&&(we.defaultDrillFilterOtherVisuals=tt.defaultDrillFilterOtherVisuals),tt.filterSortOrder&&(we.filterSortOrder=tt.filterSortOrder),tt.dataSourceVariables&&(we.dataSourceVariables=tt.dataSourceVariables),tt.creationSource&&(we.creationSource=tt.creationSource),we.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(tt.linguisticSchemaSyncVersion)}return we},ee.prototype.deserializeLinguisticSchemaSyncVersion=function(k){return null==k?A.u.Unspecified:(f.fF.assert(function(){return k in A.u},"unexpected linguisticSchemaSyncVersion"),k)},ee.prototype.updateVisualContainerCachingOptions=function(k,Ce,J,re){for(var Ie=0,ot=k.sections;Ie<ot.length;Ie++)for(var he=0,Te=ot[Ie].visualContainers;he<Te.length;he++){var Oe=Te[he];Oe.cachedData&&Oe.cachedData.dataUpdatedTime&&Oe.cachedData.data&&+Oe.cachedData.dataUpdatedTime-+Ce>=0?J(Oe):re(Oe)}},ee.prototype.deserializeResourcePackages=function(k){return f.fF.assertValue(k,"contract"),(0,ve.sQ)(k.map(function(Ce){return Ce.resourcePackage}))},ee.prototype.deserializeLinkField=function(k){f.fF.assertValue(k,"linkField");var Ce=m.ib.deserializeExpr(k.fieldExpr);return f.fF.assert(function(){return(0,De.kb)(Ce)&&!1===k.asAggregation||(0,De.t3)(Ce)||(0,De.ez)(Ce)},"invalid linkField"),{asAggregation:k.asAggregation,fieldExpr:Ce}},ee.prototype.deserializePage=function(k,Ce){var J=this;if(k){var re={id:k.id,objectId:k.objectId,name:k.name,displayName:k.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==k.displayOption?k.displayOption:0,height:k.height||B.LU,width:k.width||B.Z9},filters:this.deserializeFilterContainers(k.filters)};(k.originalHeight||k.originalWidth||k.originalDisplayOption)&&(re.originalSize={displayOption:k.originalDisplayOption,height:k.originalHeight,width:k.originalWidth}),k.transient&&(re.transient=k.transient);var Ie=k.config;if(re.acceptsAllFiltersWhenLinked=Ie.acceptsAllFiltersWhenLinked,Ie.objects&&(re.objects=(0,c.wN)(Ie.objects,w.C7)),null!=Ie.visibility&&(re.visibility=Ie.visibility),null!=Ie.type&&(re.type=Ie.type),null!=Ie.filterSortOrder&&(re.filterSortOrder=Ie.filterSortOrder),_.isEmpty(Ie.linkFields)||(re.linkFields=_.map(Ie.linkFields,function(et){return J.deserializeLinkField(et)})),Ie.dynamicConfig&&(re.dynamicConfig=this.deserializeDynamicConfig(Ie.dynamicConfig)),k.visualContainers){var ot=null!=Ce?Ce:{},we=ot.enableVisualContainerGrouping,he=ot.deserializationId,Te=ot.logDuplicateTelemetry,Oe=void 0===Te?o.q.generateId():Te,Je=this.deserializeCanvasItems(k.visualContainers,null,we);if(Je){if(re.visualContainers=Je.visualContainers,re.visualContainerGroups=Je.visualContainerGroups,Oe){var fe=me(Je.visualContainers,function(et){return et.name}),Ne=fe.itemCounts;fe.allUnique||(f.fF.assertFail("VisualContainer names must be unique within a section."),ye(this.telemetryService,"VisualsNamePerPage",he,Ne))}}else re.visualContainers=[],re.visualContainerGroups=[];Ie.relationships&&(re.relationships=this.deserializeRelationships(Ie.relationships,re.visualContainers))}return Ie.howCreated&&(re.howCreated=Ie.howCreated),re}},ee.prototype.deserializePod=function(k){if(k)return{id:k.id,name:k.name,boundSection:k.boundSection,parameters:this.deserializePodParameters(k.parameters),cortanaEnabled:k.cortanaEnabled,type:void 0===k.type?0:k.type,referenceScope:void 0===k.referenceScope?0:k.referenceScope,config:this.deserializePodConfig(k.config)}},ee.prototype.deserializeRelationships=function(k,Ce){if(!_.isEmpty(k)){for(var J,re=0,Ie=k;re<Ie.length;re++){var we=this.deserializeRelationship(Ie[re],Ce);we&&(J||(J=[])).push(we)}return J}},ee.prototype.deserializeBookmarks=function(k){var Ce=this;if(k)return _.map(k,function(J){if(Ce.isBookmarkGroup(J)){var re={displayName:J.displayName,name:J.name,children:Ce.deserializeBookmarks(J.children)};return _.each(re.children,function(we){return we.parentGroup=re}),re}var ot={displayName:J.displayName,name:J.name,explorationState:(0,de.vB)(J.explorationState,Ce.visualPlugins,Ce.featureSwitchService)};return J.options&&(ot.options=Ce.deserializeBookmarkOptions(J.options)),ot})},ee.prototype.deserializeBookmarkOptions=function(k){return k},ee.prototype.deserializeModelExtensions=function(k){var Ce=this;return f.fF.assertAnyValue(k,"model extension wireContracts"),(0,b.z8)(_.map(k,function(J){var re={name:J.name,extends:J.extends};return J.entities&&(re.entities=Ce.deserializeModelExtensionEntities(J.entities)),re}))},ee.prototype.deserializeModelExtensionEntities=function(k){var Ce=this;return f.fF.assertAnyValue(k,"model extension entities wireContracts"),(0,b.z8)(_.map(k,function(J){var re;return re=J.extends?{name:J.name,extends:J.extends}:{name:J.name},J.measures&&(re.measures=Ce.deserializeModelExtensionMeasures(J.measures)),re}))},ee.prototype.deserializeModelExtensionMeasures=function(k){var Ce=this;return f.fF.assertAnyValue(k,"model extension measures wireContracts"),(0,b.z8)(_.map(k,function(J){var re={name:J.name,dataCategory:J.dataCategory,dataType:J.dataType,expression:J.expression,errorMessage:J.errorMessage,hidden:J.hidden,references:Ce.deserializeExpressionReferences(J.references),formulaOverride:J.formulaOverride,formatInformation:J.formatInformation,displayFolder:J.displayFolder};return J.annotations&&(re.annotations=Ce.deserializeModelExtensionAnnotations(J.annotations)),J.measureTemplate&&(re.measureTemplate={daxTemplateName:J.measureTemplate.daxTemplateName,version:J.measureTemplate.version}),J.description&&(re.description=J.description),re}))},ee.prototype.deserializeExpressionReferences=function(k){return k?{unrecognizedReferences:!!k.unrecognizedReferences,measures:k.measures||[]}:{unrecognizedReferences:!1,measures:[]}},ee.prototype.deserializeModelExtensionAnnotations=function(k){return f.fF.assertAnyValue(k,"model extension annotations wireContracts"),(0,b.z8)(_.map(k,function(Ce){return{name:Ce.name,value:Ce.value}}))},ee.prototype.deserializeDynamicConfig=function(k){var Ce;if(k.quickExplore){var re=k.quickExplore.visualContainerConfigurations,Ie=k.quickExplore.layout;Ce||(Ce={}),Ce.quickExplore={selectedFields:_.map(k.quickExplore.selectedFields,function(ot){return m.ib.deserializeExpr(ot)}),visualContainerConfigurations:_.map(re,function(ot){return{name:ot.name,fields:_.map(ot.fields,function(we){return m.ib.deserializeExpr(we)})}})},Ie&&(Ce.quickExplore.layout=this.deserializeQuickExploreLayout(Ie))}return Ce},ee.prototype.deserializeQuickExploreLayout=function(k){if(k.combination){var Ce={version:k.combination.version};return k.combination.dataTableName&&(Ce.dataTableName=k.combination.dataTableName),{combination:Ce}}if(k.related){var J={version:k.related.version};return k.related.dataTableName&&(J.dataTableName=k.related.dataTableName),{related:J}}},ee.prototype.deserializeFilterCollection=function(k,Ce,J){if(k){var re=this.explorationUpgrader.upgradeFilterCollection(k,Ce,J);if(re)return this.deserializeFilterContainers(re.filters)}},ee.prototype.deserializeFilterContainer=function(k){return{name:k.name,type:I.vA[k.type],expression:k.expression?m.ib.deserializeExpr(k.expression):void 0,filter:k.filter&&k.filter.Where?m.ib.deserializeFilter(k.filter):void 0,restatement:k.restatement,cachedValueItems:(0,s.kE)(k.cachedDisplayNames),howCreated:k.howCreated,isLinkedAsAggregation:k.isLinkedAsAggregation,isTransient:k.isTransient,isHiddenInViewMode:k.isHiddenInViewMode,objects:k.objects?(0,c.wN)(k.objects,I.XW):void 0,isLockedInViewMode:k.isLockedInViewMode,filterExpressionMetadata:k.filterExpressionMetadata?(0,V.hE)(k.filterExpressionMetadata):void 0,displayName:k.displayName,ordinal:k.ordinal}},ee.prototype.deserializeCanvasItems=function(k,Ce,J,re){if(!_.isEmpty(k)){for(var Ie=[],ot=[],we={},he={},Te=0,Oe=k;Te<Oe.length;Te++){var Je=Oe[Te];f.fF.assertValue(Je&&Je.config,"explorationSerializer.deserializePage - vc config should exist");var fe=Je.config,ne=fe.name,Ne=re&&re(Je),et=this.deserializeCanvasItem(Je,Ce,Ne);he[ne]=et.name,(0,L.Vz)(et)&&Ie.push(et),void 0===fe.parentGroupName?ot.push(et):(we[fe.parentGroupName]||(we[fe.parentGroupName]=[]),we[fe.parentGroupName].push(et))}var xe={};for(var Ve in we){var Le=he[Ve];Le?xe[Le]=we[Ve]:ot.push.apply(ot,we[Ve]||[])}return this.ensureVisualContainerGrouping(ot,xe,J),this.ensureNames(Ie),J?(this.ensureGroupZIndexNormalized(ot),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized(ot,Ie):this.ensureListOrderNormalized(Ie,!1)):(ot=(0,t.__spreadArray)([],Ie||[],!0),this.ensureListOrderNormalized(Ie)),{visualContainerGroups:ot,visualContainers:Ie}}},ee.prototype.deserializeCanvasItem=function(k,Ce,J){f.fF.assertValue(k&&k.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var re=k.config;return re.singleVisual?this.deserializeVisualContainer(k,Ce,J):re.singleVisualGroup?this.deserializeVisualContainerGroup(k,Ce,J):(f.fF.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(U.M))},ee.prototype.deserializeVisualContainer=function(k,Ce,J){var re;f.fF.assertValue(k,"input");var Ie=k.config,ot={name:J||Ie.name,id:Ce?void 0:k.id,layouts:(0,b.UR)(),config:{singleVisual:this.deserializeSingleVisual(Ie.singleVisual,k.prototypeQuery)}};null!=k.visibility&&(ot.visibility=k.visibility),null!=k.detailVisualLayout&&(ot.detailVisualLayout=k.detailVisualLayout),Ie.name&&(ot.prevName=Ie.name),Ie.howCreated&&(ot.howCreated=Ie.howCreated),(void 0!==k.dataBinaryBase64Encoded||void 0!==k.query||void 0!==k.dataTransforms)&&(ot.cachedData={data:k.dataBinaryBase64Encoded,query:k.query,transforms:k.dataTransforms,dataUpdatedTime:k.dataUpdatedTime?(0,v.jC)(k.dataUpdatedTime):void 0}),ot.filters=this.deserializeFilterContainers(k.filters);var we=Ie.singleVisual.drillFilterOtherVisuals;null!=we&&(ot.drillFilterOtherVisuals=we);var he=Ie.singleVisual.filterSortOrder;return null!=he&&(ot.filterSortOrder=he),(re=ot.layouts).push.apply(re,_.cloneDeep(Ie.layouts)||[]),_.forEach(ot.layouts,function(Te){Te.position&&it(Te.position)}),ot},ee.prototype.deserializeVisualContainerGroup=function(k,Ce,J){var re;f.fF.assertValue(k,"input");var Ie=k.config,ot=Ie.singleVisualGroup,we={name:J||Ie.name,id:Ce?void 0:k.id,children:[],displayName:ot.displayName,groupMode:ot.groupMode,layouts:(0,b.UR)(),isHidden:ot.isHidden};return Ie.name&&(we.prevName=Ie.name),(re=we.layouts).push.apply(re,_.cloneDeep(Ie.layouts)||[]),ot.objects&&(we.objects=(0,c.wN)(ot.objects,O.C7)),we},ee.prototype.deserializeRelationship=function(k,Ce){f.fF.assertValue(k,"input"),f.fF.assertValue(Ce,"visualContainers");var J=(0,b.rC)(Ce,k.source),re=(0,b.rC)(Ce,k.target);if(f.fF.assertValue(J,"source"),f.fF.assertValue(re,"target"),0!==k.type&&J&&re)return{source:J,target:re,type:k.type}},ee.prototype.deserializeFilterContainers=function(k){var Ce=this;if(!(0,C.g)(k)){var J=[],re=(0,e.K)(k);return re&&(J=re.map(function(Ie){return Ce.deserializeFilterContainer(Ie)})),J}},ee.prototype.deserializePodParameters=function(k){var Ce=this,J=[];if(!(0,C.g)(k)){var re=(0,e.K)(k);re&&(J=re.map(function(Ie){return Ce.deserializePodParameter(Ie)}))}return J},ee.prototype.deserializePodParameter=function(k){return{name:k.name,boundFilter:k.boundFilter,fieldExpr:k.fieldExpr?m.ib.deserializeExpr(k.fieldExpr):void 0,asAggregation:k.asAggregation,isLegacySingleSelection:k.isLegacySingleSelection}},ee.prototype.deserializePodConfig=function(k){if((0,C.g)(k))return{acceptsFilterContext:0};var Ce=(0,e.K)(k);return f.fF.assert(function(){return void 0!==Ce},"Incorrect PodConfig contents"),void 0===Ce.acceptsFilterContext&&(Ce.acceptsFilterContext=0),Ce},ee.prototype.deserializeVisualQuery=function(k,Ce,J,re,Ie,ot,we){var he=this.visualPlugins.capabilities(k.visualType),Te=he&&he.expandCollapse&&he.expandCollapse.supportsMerge,Oe=he&&he.expandCollapse&&he.expandCollapse.collapseParentAfterRemovingChildLevel,Je=he&&he.noDefaultProjections,fe=new W.g(Ce,this.convertProjections(J,Ce.select(),Ie,ot),(0,p.bX)(re,{supportsMerge:Te,canCollapseRoot:Je,collapseParentAfterRemovingChildLevel:Oe}),we);this.upgradeVisualQuery(fe,k.visualType),k.query=fe},ee.prototype.deserializeSingleVisual=function(k,Ce){var J=this,re={visualType:k.visualType||k.visualConfig.visualType};f.fF.assertValue(re.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=k.autoSelectVisualType&&(re.autoSelectVisualType=k.autoSelectVisualType);var Ie=k.visualConfig?k.visualConfig.projections:void 0,ot=k.projections||{};if(Ie)for(var we=0,he=Ie;we<he.length;we++)(Oe=ot[(Te=he[we]).role])||(ot[Te.role]=Oe=[]),Oe.push(Te);else if(ot&&ot.length>0){Ie=ot,ot={};for(var Je=0,fe=Ie;Je<fe.length;Je++){var Te,Oe;(Oe=ot[(Te=fe[Je]).role])||(ot[Te.role]=Oe=[]),Oe.push(Te)}}var ne=k.prototypeQuery?k.prototypeQuery:Ce?(0,e.K)(Ce):null;if(ne){var Ne=m.ib.deserializeQuery(ne);this.deserializeVisualQuery(re,Ne,ot,k.expansionStates,k.showAllRoles,k.queryFieldParametersByRole,k.isDrillDisabled)}null!=k.display&&(re.display=k.display),k.columnProperties&&(re.columnProperties=_.cloneDeep(k.columnProperties));var tt=k.queryOptions;tt&&(re.queryOptions=_.cloneDeep(tt));var xe=k.syncGroup;null!=xe&&(re.syncGroup=_.cloneDeep(xe));var Ve=k.hasDefaultSort;return null!=Ve&&(re.hasDefaultSort=Ve),k.objects&&this.addItemLocationObjects(re.visualType,k.objects),(0,c.kO)(k.objects,function(){var Le;return null===(Le=J.visualPlugins.capabilities(re.visualType))||void 0===Le?void 0:Le.objects},re),k.vcObjects&&(re.vcObjects=(0,c.wN)(k.vcObjects,F.XW)),this.deserializeMobileState(re,k),k.cachedFilterDisplayItems&&(re.cachedFilterDisplayItems=(0,s.kE)(k.cachedFilterDisplayItems)),k.filterExpressionMetadata&&(re.filterExpressionMetadata=(0,V.hE)(k.filterExpressionMetadata)),re},ee.prototype.addItemLocationObjects=function(k,Ce){var J,Ve,re=function(xe,Ve){var Le=xe[Ve.objectName];if(null!=Le&&1===Le.length)return Le[0].properties[Ve.propertyName]};if(k===je.D.scorecard){var ot=Ae.A.scorecard.scorecardReference,we=Ae.A.scorecard.scorecardId,he=re(Ce,we);if(null==he)return;var Oe=m.ib.deserializeExpr(he.expr).value,Je=null!==(Ve=_.toLower(_.trim(Oe)),J=(0,le.HH)(Ve,!1)?Ve.split("/scorecards/")[1]:Ve)&&void 0!==J?J:Oe;Ce[ot.objectName][0].properties[ot.propertyName]={kind:"ItemLocation",byReference:{itemId:{expr:m.ib.serializeExpr((0,M.fL)(Je))}}},delete Ce[we.objectName][0].properties[we.propertyName]}if(k===je.D.rdlVisual){ot=_e.eH.reportInfo.reference;var fe=_e.eH.reportInfo.reportId,ne=_e.eH.reportInfo.workspaceId,Ne=re(Ce,fe),et=re(Ce,ne);if(null==Ne||null==et)return;Ce[ot.objectName][0].properties[ot.propertyName]={kind:"ItemLocation",byReference:{itemId:Ne,workspaceId:et}},delete Ce[fe.objectName][0].properties[fe.propertyName],delete Ce[ne.objectName][0].properties[ne.propertyName]}},ee.prototype.deserializeMobileState=function(k,Ce){var J=this;Ce.mobileVcObjects&&(k.mobileVcObjects=(0,c.wN)(Ce.mobileVcObjects,F.XW)),Ce.mobileObjects&&(0,c.kO)(Ce.mobileObjects,function(){var re;return null===(re=J.visualPlugins.capabilities(k.visualType))||void 0===re?void 0:re.objects},k,"mobileObjects")},ee.prototype.isBookmarkGroup=function(k){return void 0!==k.children},ee.prototype.ensureVisualContainerGrouping=function(k,Ce,J,re){for(var Ie=0,ot=k;Ie<ot.length;Ie++){var we=ot[Ie];if(re&&(we.parentGroup=re),!J&&(0,L.Vz)(we)&&we.parentGroup){var he=we.layouts.withId(0),Te=(0,te.hP)(he.position,0,we.parentGroup);he.position=Te,we.parentGroup=void 0}(0,L.q4)(we)&&(f.fF.assertValue(Ce[we.name],"deserializePage - visual container group must have children"),we.children=Ce[we.name]||[],this.ensureVisualContainerGrouping(we.children,Ce,J,we))}},ee.prototype.ensureGroupZIndexNormalized=function(k){if(f.fF.assertValue(k,"visualContainerGroups"),!_.isEmpty(k)){this.ensureListOrderNormalizedInternal(k,!0,"z");for(var Ce=0,J=k;Ce<J.length;Ce++){var re=J[Ce];(0,L.q4)(re)&&this.ensureGroupZIndexNormalized(re.children)}}},ee.prototype.ensureGroupTabOrderNormalized=function(k,Ce){if(f.fF.assertValue(k,"visualContainerGroups"),!_.isEmpty(k)){if(_.every(Ce,function(J){var re=J.layouts.withId(0);return re&&re.position&&null==re.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(k)||this.upgradeTabOrderToHierarchy(k),this.ensureGroupTabOrderNormalizedHelper(k)}},ee.prototype.upgradeTabOrderToHierarchy=function(k){var Ce=this;_.map(k,function(J){var re,Ie;if((0,L.q4)(J)&&void 0===(null===(Ie=null===(re=J.layouts)||void 0===re?void 0:re.withId(0).position)||void 0===Ie?void 0:Ie.tabOrder)){Ce.upgradeTabOrderToHierarchy(J.children);var ot=Number.NEGATIVE_INFINITY;(0,L.Iw)([J],function(we){var he,Te,Oe=null===(Te=null===(he=we.layouts)||void 0===he?void 0:he.withId(0).position)||void 0===Te?void 0:Te.tabOrder;Oe&&(ot=_.max([ot,Oe])),ot!==Number.NEGATIVE_INFINITY&&(J.layouts.withId(0).position.tabOrder=ot)})}})},ee.prototype.ensureGroupsHaveTabOrders=function(k){for(var Ce,J=0,re=k;J<re.length;J++){var Ie=re[J];if((0,L.q4)(Ie)){var ot=Ie.layouts.withId(0);if(void 0===(null===(Ce=null==ot?void 0:ot.position)||void 0===Ce?void 0:Ce.tabOrder)||!this.ensureGroupsHaveTabOrders(Ie.children))return!1}}return!0},ee.prototype.ensureGroupTabOrderNormalizedHelper=function(k){this.ensureTabOrderNormalized(k,!0),this.ensureTabOrderNormalized(k,!1);for(var Ce=0,J=k;Ce<J.length;Ce++){var re=J[Ce];(0,L.q4)(re)&&this.ensureGroupTabOrderNormalizedHelper(re.children)}},ee.prototype.ensureListOrderNormalized=function(k,Ce){void 0===Ce&&(Ce=!0),f.fF.assertValue(k,"visualContainers"),!_.isEmpty(k)&&(Ce&&this.ensureListOrderNormalizedInternal(k,!0,"z"),!_.every(k,function(J){var re=J.layouts.withId(0);return re&&re.position&&null==re.position.tabOrder})&&(this.ensureTabOrderNormalized(k,!0),this.ensureTabOrderNormalized(k,!1)))},ee.prototype.ensureTabOrderNormalized=function(k,Ce){var J=this,re=_.filter(k,function(Ie){var ot=J.getListOrderPropertyFunction(Ie,"tabOrder");return Ce?ot>=0||void 0===ot:ot&&ot<0});this.ensureListOrderNormalizedInternal(re,Ce,"tabOrder")},ee.prototype.getListOrderPropertyFunction=function(k,Ce){var J=k.layouts.withId(0);return J&&J.position&&J.position[Ce]},ee.prototype.setListOrderPropertyFunction=function(k,Ce,J){var re=k.layouts.withId(0);re&&re.position&&(re.position[Ce]=J)},ee.prototype.ensureListOrderNormalizedInternal=function(k,Ce,J){var re=this,Ie=this.canvasListOrderNormalizeService.getContainerListOrders(k,function(ot){return re.getListOrderPropertyFunction(ot,J)});this.canvasListOrderNormalizeService.shouldNormalizeListOrder(Ie,Ce)&&(Ie=this.canvasListOrderNormalizeService.normalizeListOrder(Ie,Ce,function(ot){return re.getListOrderPropertyFunction(ot,J)}),this.updateListOrders(k,Ie,J))},ee.prototype.updateListOrders=function(k,Ce,J){for(var re=0,Ie=k;re<Ie.length;re++){var ot=Ie[re],we=Ce[ot.name];null!=we&&we!==this.getListOrderPropertyFunction(ot,J)&&this.setListOrderPropertyFunction(ot,J,we)}},ee.prototype.ensureNames=function(k){f.fF.assertValue(k,"items");for(var re,Ce=k.length,J={},Ie=0;Ie<Ce;Ie++){var ot=k[Ie].name;_.isEmpty(ot)?re=!0:J[ot]=!0}if(re)for(Ie=0;Ie<Ce;Ie++){var we=k[Ie];_.isEmpty(we.name)&&(we.name=(0,te.vr)(J),J[we.name]=!0)}},ee.prototype.convertProjections=function(k,Ce,J,re){f.fF.assertValue(k,"contract"),f.fF.assertValue(Ce,"select");for(var Ie={},ot=_.keys(re),we=_.keys(k),Te=0,Oe=_.union(ot,we);Te<Oe.length;Te++){var Je=Oe[Te],fe=_.includes(J,Je);Ie[Je]=this.convertProjectionArray(k[Je],Ce,fe,re?re[Je]:void 0)}return Ie},ee.prototype.convertProjectionArray=function(k,Ce,J,re){var ot,Ie=[];if(!_.isEmpty(k))for(var we=0,he=k;we<he.length;we++){var Te=he[we],Oe=this.convertProjection(Te,Ce);Te.active&&(ot=ot||[]).push(Oe.queryRef),Ie.push(Oe)}var Je=[];if(!_.isEmpty(re))for(var fe=0,ne=re;fe<ne.length;fe++){var Ne=ne[fe],et={index:Ne.index,length:Ne.length,expr:m.ib.deserializeExpr(Ne.expr)};Je.push(et)}return new D.NQ(Ie,ot,J,Je)},ee.prototype.convertProjection=function(k,Ce){f.fF.assertValue(k,"contract");var J=k.queryRef;_.isNumber(k.queryRef)&&(J=Ce[k.queryRef].name);var re={queryRef:J};return k.format&&(re.format=k.format),k.hidden&&(re.hidden=!0),re},ee.prototype.serializeExploration=function(k,Ce){return this.createSerializer().serializeExploration(k,Ce)},ee.prototype.serializeModelExtensions=function(k){return this.createSerializer().serializeModelExtensions(k)},ee.prototype.serializePage=function(k,Ce,J){return this.createSerializer().serializePage(k,Ce,J)},ee.prototype.serializePageShallow=function(k,Ce,J){return this.createSerializer().serializePageShallow(k,Ce,J)},ee.prototype.serializeVisualContainer=function(k,Ce){return this.createSerializer().serializeVisualContainer(k,Ce)},ee.prototype.serializeVisualContainerGroup=function(k){return this.createSerializer().serializeVisualContainerGroup(k)},ee.prototype.serializePod=function(k){return this.createSerializer().serializePod(k)},ee.prototype.serializeFilterCollection=function(k){return this.createSerializer().serializeFilterCollection(k)},ee.prototype.serializeResourcePackages=function(k){return this.createSerializer().serializeResourcePackages(k)},ee.prototype.createSerializer=function(){return new Ke(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)},ee.prototype.upgradeVisualQuery=function(k,Ce){if(Ce===je.D.filledMap&&k.projections[Z]){var J=k.projections[Z],re=k.projections[ie];if(re&&re.all.length>0)for(var ot=re.all().length-1;ot>=0;ot--)k.removeProjection(ie,{fieldIndex:ot});k.projections[ie]=J,delete k.projections[Z]}var we=this.visualPlugins.capabilities(Ce);if(we){var he=(0,j.WO)(we,k.isDrillDisabled),Te=k.ensureDrillableRoles(he);if(!_.isEmpty(Te)){for(var Oe={},Je=0,fe=Te;Je<fe.length;Je++){var ne=fe[Je],Ne=k.projections[ne],et=0;Ne&&(et=_.size(Ne.all())),Oe[ne]=et}this.telemetryService.logEvent(U.Zk,{visualType:Ce,fixedRoleByProjectionCount:JSON.stringify(Oe)})}}},ee.prototype.upgradeResourcePackage=function(k){void 0===k.type&&(k.type=0)},ee.prototype.getReferencedStaticResources=function(k){var Ce={},J=k.themeCollection.customTheme,re=k.themeCollection.baseTheme;if(this.addItemReference(Ce,k.resourcePackages,J&&J.type,J&&J.name),this.addItemReference(Ce,k.resourcePackages,re&&re.type,re&&re.name),!_.isEmpty(k.sections))for(var Ie=0,ot=k.sections;Ie<ot.length;Ie++){var we=ot[Ie];if((0,Q.WP)(we.objects,w.C7,k.resourcePackages,Ce),!_.isEmpty(we.visualContainers))for(var he=0,Te=we.visualContainers;he<Te.length;he++){var Je=Te[he].config.singleVisual,fe=Je.objects,ne=this.visualPlugins.capabilities(Je.visualType);(0,Q.WP)(fe,ne&&ne.objects,k.resourcePackages,Ce)}}return Ce},ee.prototype.addItemReference=function(k,Ce,J,re){if(re&&J){var Ie=(0,T.Yu)(Ce,J,re);if(Ie){var ot=(0,T.RJ)(J);(0,Q.be)(k,ot,J,re,Ie.type)}}},ee.prototype.parseExplorationConfigs=function(k){var Ce=this;if(k){var J=this.parseConfig(k);return J.sections=_.map(k.sections,function(re){return Ce.parsePageConfigs(re)}),J}},ee.prototype.parseConfig=function(k){var Ce=_.clone(k);return Ce.config=(0,e.K)(k.config)||{},Ce},ee.prototype.parsePageConfigs=function(k){var Ce=this,J=this.parseConfig(k);return J.visualContainers=_.map(k.visualContainers,function(re){return Ce.parseConfig(re)}),J},ee.prototype.stringifyExplorationConfigs=function(k){var Ce=this,J=this.stringifyConfig(k);return J.sections=_.map(k.sections,function(re){return Ce.stringifyPageConfigs(re)}),J},ee.prototype.stringifyConfig=function(k){var Ce=_.clone(k);return Ce.config=JSON.stringify(k.config),Ce},ee.prototype.stringifyPageConfigs=function(k){var Ce=this,J=this.stringifyConfig(k);return J.visualContainers=_.map(k.visualContainers,function(re){return Ce.stringifyConfig(re)}),J},ee.prototype.parseFilterCollectionConfig=function(k){if(k)return this.parseConfig(k)},ee.prototype.stringifyFilterCollectionConfig=function(k){if(k)return this.stringifyConfig(k)},ee}(),ue=pe.H3n.v5_37,Ke=function(){function ee(k,Ce,J,re){this.visualPlugins=k,this.explorationDowngrader=Ce,this.telemetryService=J,this.featureSwitchService=re,this.version=ue}return ee.prototype.serializeExploration=function(k,Ce){var re,J=this,Ie=k.sections;(!Ce||!Ce.withTransientPages)&&(Ie=(0,w.yG)(Ie));var we,ot=_.map(Ie,function(Ne,et){return J.serializePage(Ne,et,Ce)});_.isEmpty(k.pods)||(this.removeInvalidPods(k.sections,k.pods,this.telemetryService),we=_.map(k.pods,function(Ne){return J.serializePod(Ne)}),f.fF.assert(function(){return me(k.pods,function(Ne){return Ne.name}).allUnique},"pod names must be unique"));var he=this.serializeExplorationShallowWithResourcePackages(k,Ce);if(he.sections=ot,he.pods=we,!Ce||!Ce.forSave){var Te=k.activeBookmark;if(Te)for(var Je=0,fe=null!==(re=he.config.bookmarks)&&void 0!==re?re:[];Je<fe.length;Je++){var ne=fe[Je];if(!be(ne)&&ne.name===Te.name){he.activeBookmark=ne;break}}}return Ce&&Ce.forSave&&this.explorationDowngrader.downgrade(he,this.version),f.fF.assert(function(){return J.version===he.config.version},"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),he},ee.prototype.serializeBookmarks=function(k,Ce){var J=this;if(k){var re=se.Zh,Ie=_.map(k,function(ot){if(N.J.isBookmarkGroup(ot)){var we={displayName:ot.displayName,name:ot.name,children:J.serializeBookmarks(ot.children,Ce)};return J.version=(0,n.Fp)(J.version,pe.VSH),we}(0,de.oJ)(ot.explorationState,Ce);var he={displayName:ot.displayName,name:ot.name,explorationState:(0,de.qC)(ot.explorationState,J.featureSwitchService)};return re=(0,n.Fp)(he.explorationState.version,re),ot.options&&(he.options=J.serializeBookmarkOptions(ot.options),J.version=(0,n.Fp)(J.version,pe.q4D)),he});switch(re){case se.Zh:this.version=(0,n.Fp)(this.version,pe.hGr);break;case se.U1:this.version=(0,n.Fp)(this.version,pe.rAF);break;case se.aN:this.version=(0,n.Fp)(this.version,pe.htK);break;case se.Aq:this.version=(0,n.Fp)(this.version,pe.$tC);break;case se.Zl:this.version=(0,n.Fp)(this.version,pe.fke);break;case se.XX:this.version=(0,n.Fp)(this.version,pe.vqL);break;case se.uZ:this.version=(0,n.Fp)(this.version,pe.UCJ);break;case se.rb:this.version=(0,n.Fp)(this.version,pe.dKN);break;case se.C7:this.version=(0,n.Fp)(this.version,pe.C7j);break;default:f.fF.assertFail("Unknown exploration state version.")}return Ie}},ee.prototype.serializeBookmarkOptions=function(k){return k},ee.prototype.serializeExplorationShallowWithResourcePackages=function(k,Ce){var J=this,re=k.activeSectionIndex,Ie=this.createVersionedElementConfig(ue);if(this.version=(0,n.Fp)(this.version,Ie.version),Ie.themeCollection=R.P.cloneThemeCollection(k.themeCollection),_.isNumber(re)&&(Ie.activeSectionIndex=re),_.isEmpty(k.modelExtensions)||(this.version=(0,n.Fp)(this.version,pe.H3n.v3_0),Ie.modelExtensions=this.serializeModelExtensions(k.modelExtensions)),!_.isEmpty(k.bookmarks)){var ot=this.serializeBookmarks(k.bookmarks,k);Ie.bookmarks=ot}Ce&&Ce.excludeHighContrastTheme&&delete Ie.themeCollection.highContrastTheme,Ce&&Ce.forSave&&delete Ie.themeCollection.transientUserSetTheme;var we=k.themeCollection.baseTheme;if(we&&(this.version=(0,n.Fp)(this.version,(0,G.TO)(we.name))),(0,C.g)(k.dataSourceVariables)||(this.version=(0,n.Fp)(this.version,pe.H3n.v4_2),Ie.dataSourceVariables=k.dataSourceVariables),k.tags&&(Ie.tags=k.tags),null!=k.defaultDrillFilterOtherVisuals&&(Ie.defaultDrillFilterOtherVisuals=k.defaultDrillFilterOtherVisuals,k.defaultDrillFilterOtherVisuals&&(this.version=(0,n.Fp)(this.version,pe.U$u))),null!=k.filterSortOrder&&(Ie.filterSortOrder=k.filterSortOrder,k.filterSortOrder&&(this.version=(0,n.Fp)(this.version,pe.faH))),k.slowDataSourceSettings){var he=_.cloneDeep(k.slowDataSourceSettings);(he.isCrossHighlightingDisabled||he.isFieldWellButtonEnabled||he.isFilterSelectionsButtonEnabled||he.isSlicerSelectionsButtonEnabled||he.isApplyAllButtonEnabled)&&(this.version=(0,n.Fp)(this.version,he.isApplyAllButtonEnabled?pe.m5F:pe.qq3)),Ie.slowDataSourceSettings=he}if(null!=k.linguisticSchemaSyncVersion&&(Ie.linguisticSchemaSyncVersion=k.linguisticSchemaSyncVersion,k.linguisticSchemaSyncVersion!==A.u.Unspecified&&(this.version=(0,n.Fp)(this.version,pe.ugh))),k.settings){var Te=_.cloneDeep(k.settings);(Te.isPersistentUserStateDisabled||Te.hideVisualContainerHeader)&&(this.version=(0,n.Fp)(this.version,pe.Awj)),Te.useStylableVisualContainerHeader&&(this.version=(0,n.Fp)(this.version,pe.qdh)),void 0!==Te.exportDataMode&&0!==Te.exportDataMode&&(this.version=(0,n.Fp)(this.version,pe.m7e)),Te.useNewFilterPaneExperience&&(this.version=(0,n.Fp)(this.version,pe.z1y)),Te.isReportAnnotationsDisabled&&(this.version=(0,n.Fp)(this.version,pe.sE2)),!0===Te.defaultFilterActionIsDataFilter&&(this.version=(0,n.Fp)(this.version,pe.iXZ)),Te.useCrossReportDrillthrough&&(this.version=(0,n.Fp)(this.version,pe.xSu)),Te.allowChangeFilterTypes&&(this.version=(0,n.Fp)(this.version,pe.kdg)),Te.allowInlineExploration&&(this.version=(0,n.Fp)(this.version,pe.UCJ)),Te.optOutNewFilterPaneExperience&&(this.version=(0,n.Fp)(this.version,pe.YA8)),Te.filterPaneHiddenInEditMode&&(this.version=(0,n.Fp)(this.version,pe.UAC)),Te.disableFilterPaneSearch&&(this.version=(0,n.Fp)(this.version,pe.np7)),Te.pagesPosition&&(this.version=(0,n.Fp)(this.version,pe.IwG)),Te.useEnhancedTooltips&&(this.version=(0,n.Fp)(this.version,pe.TQL)),Te.useScaledTooltips&&(this.version=(0,n.Fp)(this.version,pe.elY)),Te.allowAutomatedInsightsNotification&&(this.version=(0,n.Fp)(this.version,pe.VTu)),Te.useDefaultAggregateDisplayName&&(this.version=(0,n.Fp)(this.version,pe.GwY)),Te.pauseQueries&&(this.version=(0,n.Fp)(this.version,pe.tCF)),(Te.queryLimitOption||Te.customMemoryLimit||Te.customTimeoutLimit)&&(this.version=(0,n.Fp)(this.version,pe.ckf)),Ie.settings=Te}k.objects&&(Ie.objects=this.serializeObjects(k.objects,A.W,"report",Ce)),Ce&&Ce.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(k,this.version),f.fF.assert(function(){return!(0,n.lt)(J.version,Ie.version)},"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=Y.t;var Oe=this.serializeFilterContainers(k.filters,Ce);return k.creationSource&&(Ie.creationSource=k.creationSource,this.version=(0,n.Fp)(this.version,pe.Eo9)),Ie.version=this.version,{id:k.id,report:k.report,reportId:k.reportId,theme:k.themeCollection.customTheme&&k.themeCollection.customTheme.name,filters:Oe,resourcePackages:this.serializeResourcePackages(k.resourcePackages,Ce),sections:void 0,config:Ie,layoutOptimization:this.getLayoutOptimizations(k),publicCustomVisuals:k.publicCustomVisuals,isStoredInBlob:k.isStoredInBlob}},ee.prototype.serializeLinkField=function(k){f.fF.assertValue(k,"linkfield");var Ce=k.fieldExpr;return f.fF.assert(function(){return(0,De.kb)(Ce)&&!1===k.asAggregation||(0,De.t3)(Ce)||(0,De.ez)(Ce)},"invalid linkField"),{asAggregation:k.asAggregation,fieldExpr:m.ib.serializeExpr(Ce)}},ee.prototype.serializeFilterCollection=function(k){if(!_.isEmpty(k)){var Ce=this.createVersionedElementConfig(ue);return{filters:this.serializeFilterContainers(k),config:Ce}}},ee.prototype.serializePage=function(k,Ce,J){var re=this.serializePageShallow(k,Ce,J);if(re.visualContainers=[],k.visualContainerGroups)this.serializeVisualContainerTreeToList(k.visualContainerGroups,re.visualContainers,J);else for(var Ie=0,ot=k.visualContainers;Ie<ot.length;Ie++)re.visualContainers.push(this.serializeVisualContainer(ot[Ie],J));return re},ee.prototype.serializeVisualContainerTreeToList=function(k,Ce,J){for(var re=!1,Ie=0,ot=k;Ie<ot.length;Ie++){var we=ot[Ie];(0,L.q4)(we)?(re||(this.version=(0,n.Fp)(pe.F1S.getVersionForVisualContainerGroup(we),this.version),re=!0),Ce.push(this.serializeVisualContainerGroup(we)),this.serializeVisualContainerTreeToList(we.children,Ce,J)):Ce.push(this.serializeVisualContainer(we,J))}},ee.prototype.isRegularPageUsingMeasureDrillthrough=function(k){var Ce=!1,J=!1;return(null==k.type||0===k.type)&&(Ce=!0===k.acceptsAllFiltersWhenLinked,J=_.some(k.filters,function(re){return re&&5===re.howCreated&&!re.isTransient&&(re.isLinkedAsAggregation||re.expression&&(0,De.kb)(re.expression))})),Ce||J},ee.prototype.isMeasureDrillthroughPod=function(k){var Ce=!1,J=!1;return 1===k.type&&(Ce=k.config&&0===k.config.acceptsFilterContext,J=_.some(k.parameters,function(re){return re.asAggregation||re.fieldExpr&&(0,De.kb)(re.fieldExpr)})),Ce||J},ee.prototype.serializePageShallow=function(k,Ce,J){var Ie,re=this;f.fF.assert(function(){return me(k.visualContainers,function(he){return he.name}).allUnique},"VisualContainer names must be unique within a section.");var ot={id:k.id,name:k.name,displayName:k.displayName,filters:this.serializeFilterContainers(k.filters,J),ordinal:Ce,visualContainers:void 0,transient:k.transient,objectId:k.objectId,config:{}};k.size&&(ot.displayOption=k.size.displayOption,ot.width=k.size.width,ot.height=k.size.height),J&&J.forSave&&(k.isNew=void 0),(null==J||!J.forSave)&&k.originalSize&&(ot.originalDisplayOption=k.originalSize.displayOption,ot.originalWidth=k.originalSize.width,ot.originalHeight=k.originalSize.height);var we=ot.config;return _.isEmpty(k.relationships)||(we.relationships=this.serializeRelationships(k.relationships),J&&J.featureUsage&&(J.featureUsage.hasVisualRelationships=!0)),k.objects&&(we.objects=this.serializeObjects(k.objects,w.C7,"page",J)),null!=k.visibility&&(we.visibility=k.visibility,this.version=(0,n.Fp)(this.version,pe.ftA)),null!=k.type&&(we.type=k.type,this.version=(0,n.Fp)(this.version,pe.x7c)),null!=k.filterSortOrder&&(we.filterSortOrder=k.filterSortOrder,this.version=(0,n.Fp)(this.version,pe.faH)),we.acceptsAllFiltersWhenLinked=k.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(k)&&(this.version=(0,n.Fp)(this.version,pe.oq_)),_.isEmpty(k.linkFields)||(we.linkFields=_.map(k.linkFields,function(he){return re.serializeLinkField(he)}),this.version=(0,n.Fp)(this.version,pe.x7c)),k.dynamicConfig&&(we.dynamicConfig=this.serializePageDynamicConfig(k.dynamicConfig),this.version=(0,n.Fp)(this.version,pe.Eo9),!(null===(Ie=we.dynamicConfig.quickExplore)||void 0===Ie)&&Ie.layout&&(this.version=(0,n.Fp)(this.version,pe.KQG))),k.howCreated&&"Default"!==k.howCreated&&(we.howCreated=k.howCreated,this.version=(0,n.Fp)(this.version,pe.q0O)),ot},ee.prototype.serializePod=function(k){var Ce=this.serializePodParameters(k.parameters);return this.isMeasureDrillthroughPod(k)&&(this.version=(0,n.Fp)(this.version,pe.oq_)),1===k.referenceScope&&(this.version=(0,n.Fp)(this.version,pe.xSu)),{id:k.id,name:k.name,boundSection:k.boundSection,parameters:_.isEmpty(Ce)?void 0:JSON.stringify(Ce),cortanaEnabled:k.cortanaEnabled?k.cortanaEnabled:void 0,type:0!==k.type?k.type:void 0,referenceScope:0!==k.referenceScope?k.referenceScope:void 0,config:this.serializePodConfig(k.config)}},ee.prototype.serializeVisualContainer=function(k,Ce){_.forEach(k.layouts,function(we){we.position&&it(we.position)});var J,re=this.serializeVisualContainerConfig(k,Ce),Ie=k.layouts&&k.layouts.withId(0);if(Ie?(f.fF.assertValue(Ie.position,"Master layout should contain a position"),J={id:k.id,x:Ie.position.x,y:Ie.position.y,z:Ie.position.z,width:Ie.position.width,height:Ie.position.height,config:re,filters:this.serializeFilterContainers(k.filters)},Ie.position.tabOrder&&(J.tabOrder=Ie.position.tabOrder)):J={id:k.id,config:re,filters:this.serializeFilterContainers(k.filters)},!_.isEmpty(k.filters)){var ot=this.visualPlugins.capabilities(k.config.singleVisual.visualType);z.l.supportsFilterOutput(ot)&&(this.version=(0,n.Fp)(this.version,pe.NsA))}return Ce&&Ce.forSave&&(k.isNew=void 0),Ce&&Ce.withVisibility&&(null!=k.visibility&&(J.visibility=k.visibility),null!=k.detailVisualLayout&&(J.detailVisualLayout=k.detailVisualLayout)),Ce&&k.cachedData&&((Ce.withQuery||Ce.withData)&&(J.query=k.cachedData.queryObject?JSON.stringify(k.cachedData.queryObject):k.cachedData.query,J.dataTransforms=k.cachedData.transformsObject?i.F.serializeTransformActions(k.cachedData.transformsObject):k.cachedData.transforms,J.dataUpdatedTime=k.cachedData.dataUpdatedTime?k.cachedData.dataUpdatedTime.toISOString():void 0),Ce.withData&&(J.dataBinaryBase64Encoded=k.cachedData.dataObject?(0,h.nN)(JSON.stringify(k.cachedData.dataObject)):k.cachedData.data)),J},ee.prototype.serializeVisualContainerGroup=function(k,Ce){this.version=(0,n.Fp)(this.version,pe.bFC);var J={name:k.name,layouts:_.cloneDeep(k.layouts),singleVisualGroup:{displayName:k.displayName,groupMode:k.groupMode,isHidden:k.isHidden}};k.parentGroup&&(J.parentGroupName=k.parentGroup.name),k.objects&&(J.singleVisualGroup.objects=this.serializeObjects(k.objects,O.C7,O.$m,Ce));var re,Ie=k.layouts&&k.layouts.withId(0);return Ie?(f.fF.assertValue(Ie.position,"Master layout should contain a position"),re={id:k.id,x:Ie.position.x,y:Ie.position.y,z:Ie.position.z,width:Ie.position.width,height:Ie.position.height,config:J},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&Ie.position.tabOrder&&(re.tabOrder=Ie.position.tabOrder)):re={id:k.id,config:J},re},ee.prototype.serializeModelExtensions=function(k){var Ce=this;if(k)return _.map(k,function(J){return{name:J.name,extends:J.extends,entities:Ce.serializeModelExtensionEntities(J.entities)}})},ee.prototype.serializeRelationship=function(k){return f.fF.assertValue(k,"relationship"),f.fF.assertValue(k.source.name,"relationship.source.name"),f.fF.assertValue(k.target.name,"relationship.target.name"),{source:k.source.name,target:k.target.name,type:k.type}},ee.prototype.serializeVisualContainerConfig=function(k,Ce){var J=k.config&&k.config.singleVisual;f.fF.assertValue(k.name,"VisualContainer name is missing."),f.fF.assertValue(J,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),f.fF.assertValue(J.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var re=J.query,Ie=re?re.projections:void 0,ot={name:k.name,layouts:_.cloneDeep(k.layouts),singleVisual:{visualType:J.visualType,projections:this.serializeQueryProjections(Ie),prototypeQuery:re?m.ib.serializeQuery(re.defn):void 0}};re&&re.isDrillDisabled&&(this.version=(0,n.Fp)(this.version,pe.hCh),ot.singleVisual.isDrillDisabled=re.isDrillDisabled),this.featureSwitchService.featureSwitches.visualCalculations&&function(ee){return!!ee&&ee.defn.select().some(function(k){return(0,De.jX)(k.expr)})}(re)&&(this.version=(0,n.Fp)(this.version,pe.H_y)),null!=J.autoSelectVisualType&&(this.version=(0,n.Fp)(this.version,pe.C7j),ot.singleVisual.autoSelectVisualType=J.autoSelectVisualType);var we=this.serializeQueryFieldParameters(Ie);if(_.isEmpty(we)||(this.version=(0,n.Fp)(this.version,pe.dKN),ot.singleVisual.queryFieldParametersByRole=we),_.some(k.layouts,function(ht){return ht.position&&void 0!==ht.position.tabOrder})&&(this.version=(0,n.Fp)(this.version,pe.$gq)),re&&(0,E.if)(re.expansionStates)){var he=(0,p.hI)(re.expansionStates);_.isEmpty(he)||(ot.singleVisual.expansionStates=he,this.version=(0,n.Fp)(this.version,pe.RrR))}var Te=J.columnProperties;if(Te&&!_.isEmpty(Te)&&(this.version=(0,n.Fp)(this.version,pe.H3n.v3_4),ot.singleVisual.columnProperties=_.cloneDeep(Te)),J.queryOptions&&(null!=J.queryOptions.allowBinnedLineSample&&(this.version=(0,n.Fp)(this.version,pe.H3n.v3_3)),null!=J.queryOptions.allowOverlappingPointsSample&&(this.version=(0,n.Fp)(this.version,pe.H3n.v3_5)),null!=J.queryOptions.keepProjectionOrder&&(this.version=(0,n.Fp)(this.version,pe.H3n.v4_1)),ot.singleVisual.queryOptions=_.cloneDeep(J.queryOptions)),J.display&&(this.version=(0,n.Fp)(this.version,pe.g3O),ot.singleVisual.display=_.cloneDeep(J.display)),re&&re.defn){if(J.visualType===je.D.slicer){var Oe=re.projections;Oe&&Oe[d.CT.value]&&Oe[d.CT.value].all().length>1&&(this.version=(0,n.Fp)(this.version,pe.XVx))}(0,te.J6)(J)&&(this.version=_.some(pe.WWC,function(ht){return ht===J.visualType})?(0,n.Fp)(this.version,pe.Xfb):(0,n.Fp)(this.version,pe.XRk));for(var fe=0,ne=re.defn.select();fe<ne.length;fe++)this.version=(0,n.Fp)(this.version,pe.F1S.getVersionForSQExpr(ne[fe].expr));this.version=(0,n.Fp)(this.version,pe.F1S.getVersionForSortDefinitions(re.defn.orderBy()))}var et=this.serializeShowAllRoles(re?re.projections:void 0);_.isEmpty(et)||(ot.singleVisual.showAllRoles=et,Ce&&Ce.featureUsage&&(Ce.featureUsage.hasShowAllEnabled=!0)),J.visualType===je.D.ribbonChart&&(this.version=(0,n.Fp)(this.version,pe.H3n.v3_5)),J.visualType===je.D.actionButton&&(this.version=(0,n.Fp)(this.version,pe.Kkx)),J.visualType===je.D.pythonVisual&&(this.version=(0,n.Fp)(this.version,pe.H3n.v3_17)),J.visualType===je.D.keyDriversVisual&&(this.version=(0,n.Fp)(this.version,pe.H3n.v4_1),J.query&&!_.isEmpty(J.query.tryGetExprs(a.qG.details))&&(this.version=(0,n.Fp)(this.version,pe.ukM))),J.visualType===je.D.qnaVisual&&(this.version=(0,n.Fp)(this.version,pe.H3n.v5_4)),J.visualType===je.D.decompositionTreeVisual&&(this.version=(0,n.Fp)(this.version,pe.H3n.v5_5)),J.visualType===je.D.azureMap&&(this.version=(0,n.Fp)(this.version,pe.H3n.v5_13)),J.visualType===je.D.cardVisual&&(this.version=(0,n.Fp)(this.version,pe.VRY)),J.visualType===je.D.shape&&(this.version=(0,n.Fp)(this.version,pe.$qz)),J.visualType===je.D.pageNavigator&&(this.version=(0,n.Fp)(this.version,pe.aWu)),J.visualType===je.D.bookmarkNavigator&&(this.version=(0,n.Fp)(this.version,pe.aWu)),J.visualType===je.D.rdlVisual&&(this.version=(0,n.Fp)(this.version,pe.iuU)),J.visualType===je.D.scorecard&&(this.version=(0,n.Fp)(this.version,pe.pj3)),J.visualType===je.D.aiNarratives&&(this.version=(0,n.Fp)(this.version,pe.LlV)),J.visualType===je.D.advancedSlicerVisual&&(this.version=(0,n.Fp)(this.version,pe.tji)),J.visualType===je.D.hundredPercentStackedAreaChart&&(this.version=(0,n.Fp)(this.version,pe.Hg9)),J.syncGroup&&(ot.singleVisual.syncGroup=_.cloneDeep(J.syncGroup),this.version=(0,n.Fp)(this.version,pe.$IK)),null!=k.drillFilterOtherVisuals&&(ot.singleVisual.drillFilterOtherVisuals=k.drillFilterOtherVisuals,this.version=(0,n.Fp)(this.version,pe.U$u)),null!=k.filterSortOrder&&(ot.singleVisual.filterSortOrder=k.filterSortOrder,this.version=(0,n.Fp)(this.version,pe.faH)),k.parentGroup&&(ot.parentGroupName=k.parentGroup.name,this.version=(0,n.Fp)(this.version,pe.bFC)),k.howCreated&&"Default"!==k.howCreated&&(ot.howCreated=k.howCreated,this.version=(0,n.Fp)(this.version,pe.q0O)),J.hasDefaultSort&&(ot.singleVisual.hasDefaultSort=J.hasDefaultSort);var tt=re?J.query.defn.select():(0,b.bv)();if(J.objects){var xe=this.visualPlugins.capabilities(J.visualType),Ve=xe&&xe.objects;if(ot.singleVisual.objects=this.serializeObjects(J.objects,Ve,J.visualType,Ce,tt),function(ee){return ee.visualType===je.D.scatterChart&&ee.query&&ee.query.projections.Play&&!_.isEmpty(ee.query.projections.Play.all())}(J)){var Le=!1;(0,P.rQ)(J.objects,Ve,function(Ge,Re,Xe,Me,He){"fill"===Re&&"dataPoint"===Me&&null!=Xe&&(Le=!0)}),Le&&(this.version=(0,n.Fp)(this.version,pe.H3n.v5_1))}this.supportsScalarMarkers(J)&&(0,n.lt)(this.version,pe.Cc1)&&this.upgradeIfScalarMarkersAreSet(J.objects)}var ft=J.vcObjects;return ft&&(ot.singleVisual.vcObjects=this.serializeObjects(ft,F.XW,J.visualType,Ce,tt)),this.serializeMobileState(J,ot.singleVisual,null==Ce?void 0:Ce.forSave),J.cachedFilterDisplayItems&&(ot.singleVisual.cachedFilterDisplayItems=(0,s.vX)(J.cachedFilterDisplayItems)),J.filterExpressionMetadata&&(ot.singleVisual.filterExpressionMetadata=(0,V.Qe)(J.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,n.Fp)(this.version,pe.vqL)),this.version<pe.jJX&&function(ee){if(ee.visualType!==je.D.scatterChart)return!1;var k=l.TL.x,Ce=ee.query,J=Ce?Ce.getRolesProjectionRefs([k]):void 0,re=_.size(J);if(re>1)return!0;if(1===re){var Ie=Ce.tryGetExpr(k,0);if(Ie&&!(0,We.k)(Ie))return!0}return!1}(J)&&(this.version=pe.jJX),ot},ee.prototype.serializeMobileState=function(k,Ce,J){var re;J||(k.mobileVcObjects&&(Ce.mobileVcObjects=(0,c.xF)(k.mobileVcObjects,F.XW,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,J)),k.mobileObjects&&(Ce.mobileObjects=(0,c.xF)(k.mobileObjects,null===(re=this.visualPlugins.capabilities(k.visualType))||void 0===re?void 0:re.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,J)))},ee.prototype.serializeObjects=function(k,Ce,J,re,Ie){f.fF.assertValue(k,"explorationSerializer.serializeObjects - objects should exist"),f.fF.assertValue(J,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var ot=(0,c.xF)(k,Ce,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,null==re?void 0:re.forSave);return ot&&this.removeItemLocationObjects(J,ot),this.isAtLatestVersion()||(this.version=(0,n.Fp)(this.version,(0,pe.P_5)(k,Ce,J,this.version,Ie))),ot},ee.prototype.removeItemLocationObjects=function(k,Ce){var J=function(Je,fe){var ne=Je[fe.objectName];if(null!=ne&&1===ne.length)return ne[0].properties[fe.propertyName]};if(k===je.D.scorecard){var re=Ae.A.scorecard.scorecardReference,Ie=Ae.A.scorecard.scorecardId,ot=J(Ce,Ae.A.scorecard.scorecardReference);null!=ot&&(delete Ce[re.objectName][0].properties[re.propertyName],Ce[Ie.objectName][0].properties[Ie.propertyName]=ot.byReference.itemId)}if(k===je.D.rdlVisual){var we=_e.eH.reportInfo.reportId,he=_e.eH.reportInfo.workspaceId,Te=J(Ce,re=_e.eH.reportInfo.reference);null!=Te&&(delete Ce[re.objectName][0].properties[re.propertyName],Ce[we.objectName][0].properties[we.propertyName]=Te.byReference.itemId,Ce[he.objectName][0].properties[he.propertyName]=Te.byReference.workspaceId)}},ee.prototype.isAtLatestVersion=function(){return this.version===Y.t},ee.prototype.serializeShowAllRoles=function(k){if(f.fF.assertAnyValue(k,"projections"),k){var Ce=_.pickBy(k,function(J){return!0===J.showAll});return _.keys(Ce)}},ee.prototype.serializeQueryProjections=function(k){if(f.fF.assertAnyValue(k,"projections"),k){var Ce={};for(var J in k){var re=k[J].all(),Ie=k[J].activeProjectionRefs;if(re.length>0){Ce[J]=[];for(var ot=0,we=re;ot<we.length;ot++){var he=we[ot],Te=he.queryRef,Oe={queryRef:Te};he.format&&(Oe.format=he.format),_.includes(Ie,Te)&&(Oe.active=!0),he.hidden&&(Oe.hidden=he.hidden,this.version=(0,n.Fp)(this.version,pe.H_y)),Ce[J].push(Oe)}}}return Ce}},ee.prototype.serializeQueryFieldParameters=function(k){if(f.fF.assertAnyValue(k,"projections"),k){var Ce={};for(var J in k){var re=k[J].getFieldParameters();if(re.length>0){Ce[J]=[];for(var Ie=0,ot=re;Ie<ot.length;Ie++){var we=ot[Ie],he={index:we.index,length:we.length,expr:m.ib.serializeExpr(we.expr)};Ce[J].push(he)}}}return Ce}},ee.prototype.serializeModelExtensionEntities=function(k){var Ce=this;if(k)return _.map(k,function(J){var re={name:J.name};return J.extends&&(re.extends=J.extends),J.measures&&(re.measures=Ce.serializeModelExtensionMeasures(J.measures)),re})},ee.prototype.serializeExpressionReferences=function(k){if(k&&(k.unrecognizedReferences||!_.isEmpty(k.measures))){var Ce={unrecognizedReferences:k.unrecognizedReferences};return _.isEmpty(k.measures)||(Ce.measures=k.measures),Ce}},ee.prototype.serializeModelExtensionAnnotations=function(k){if(k)return _.map(k,function(Ce){return{name:Ce.name,value:Ce.value}})},ee.prototype.serializeModelExtensionMeasures=function(k){var Ce=this;if(k)return _.map(k,function(J){var re={name:J.name,dataType:J.dataType,dataCategory:J.dataCategory,expression:J.expression,errorMessage:J.errorMessage,hidden:J.hidden,references:Ce.serializeExpressionReferences(J.references),formulaOverride:J.formulaOverride,formatInformation:J.formatInformation,displayFolder:J.displayFolder};return J.annotations&&(re.annotations=Ce.serializeModelExtensionAnnotations(J.annotations)),J.measureTemplate&&(re.measureTemplate={daxTemplateName:J.measureTemplate.daxTemplateName,version:J.measureTemplate.version}),J.description&&(re.description=J.description,Ce.version=(0,n.Fp)(Ce.version,pe.WL3)),re})},ee.prototype.serializeFilterContainers=function(k,Ce){var J;if(k){for(var re=[],Ie=0,ot=k;Ie<ot.length;Ie++){var we=ot[Ie];if(we&&(0!==we.howCreated||z.l.isFilterModified(we))&&(!we.isTransient||Ce&&Ce.withTransientFilters)){7===we.howCreated&&Ce&&Ce.forSave&&(we.howCreated=1),5===we.howCreated&&(this.version=(0,n.Fp)(this.version,pe.H3n.v3_5)),we.isHiddenInViewMode&&(this.version=(0,n.Fp)(this.version,pe.yfQ)),we.isLockedInViewMode&&(this.version=(0,n.Fp)(this.version,pe.yfQ)),we.displayName&&(this.version=(0,n.Fp)(this.version,pe.$Tv)),we.ordinal&&(this.version=(0,n.Fp)(this.version,pe.faH)),we.type===I.vA.RelativeTime&&(this.version=(0,n.Fp)(this.version,pe.nue)),we.type===I.vA.Advanced&&!(null===(J=we.filter)||void 0===J)&&J.conditions().some(function(Te){var Oe=(0,De.Ym)(Te)?Te.arg:Te;return(0,De.$Q)(Oe)&&(0,De.AW)(Oe.right)&&""===Oe.right.value})&&(this.version=(0,n.Fp)(this.version,pe.VFg)),we.filterExpressionMetadata&&!_.isEmpty(we.filterExpressionMetadata.expressions)&&!_.isEmpty(we.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(we.filterExpressionMetadata.jsonFilter)?(0,n.Fp)(this.version,pe.Upn):(0,n.Fp)(this.version,pe.kJo));var he=we.filterExpressionMetadata?(0,V.Qe)(we.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;re.push({name:we.name,expression:we.expression?m.ib.serializeExpr(we.expression):void 0,filter:we.filter?m.ib.serializeFilter(we.filter):void 0,type:I.vA[we.type],restatement:we.restatement,cachedDisplayNames:(0,s.vX)(we.cachedValueItems),howCreated:we.howCreated,isLinkedAsAggregation:we.isLinkedAsAggregation,isTransient:we.isTransient,objects:we.objects?this.serializeObjects(we.objects,I.XW,I.LP,Ce):void 0,isHiddenInViewMode:we.isHiddenInViewMode,isLockedInViewMode:we.isLockedInViewMode,filterExpressionMetadata:he,displayName:we.displayName,ordinal:we.ordinal})}}return JSON.stringify(re)}},ee.prototype.createVersionedElementConfig=function(k){return{version:k}},ee.prototype.serializeResourcePackages=function(k,Ce){if(!_.isEmpty(k))return(0,ve.pz)(k,Ce).map(function(J){return{resourcePackage:J}})},ee.prototype.getLayoutOptimizations=function(k){var Ce=this.getDistinctLayouts(k);return this.getLayoutOptimizationFromLayouts(Ce)},ee.prototype.getLayoutOptimizationFromLayouts=function(k){for(var Ce=0,J=0,re=k;J<re.length;J++)1===re[J].id&&(Ce|=1);return Ce},ee.prototype.getDistinctLayouts=function(k){for(var Ce=k.sections,J=(0,b.UR)(),re=0,Ie=Ce;re<Ie.length;re++)for(var we=0,he=Ie[re].visualContainers;we<he.length;we++)for(var Oe=0,Je=he[we].layouts;Oe<Je.length;Oe++){var fe=Je[Oe];J.withId(fe.id)||J.push(fe)}return J},ee.prototype.serializePodParameters=function(k){if(!_.isEmpty(k)){for(var Ce=[],J=0,re=k;J<re.length;J++){var Ie=re[J];Ce.push({name:Ie.name,boundFilter:Ie.boundFilter,fieldExpr:Ie.fieldExpr?m.ib.serializeExpr(Ie.fieldExpr):void 0,asAggregation:Ie.asAggregation?Ie.asAggregation:void 0,isLegacySingleSelection:Ie.isLegacySingleSelection?Ie.isLegacySingleSelection:void 0})}return Ce}},ee.prototype.serializePodConfig=function(k){return _.isEmpty(k)||0===k.acceptsFilterContext?"{}":JSON.stringify(k)},ee.prototype.serializeRelationships=function(k){if(!_.isEmpty(k)){for(var Ce,J=0,re=k;J<re.length;J++){var ot=this.serializeRelationship(re[J]);ot&&(Ce||(Ce=[])).push(ot)}return Ce}},ee.prototype.removeInvalidPods=function(k,Ce,J){var re=_.map(k,function(Oe){return Oe.name}),Ie=_.remove(Ce,function(Oe){return!_.includes(re,Oe.boundSection)}),ot=_.size(Ie);if(ot>0&&J.logEvent(U.Jw,{errorType:"NonExistingBoundSection",count:ot}),!(_.size(Ce)<=_.size(k))){var we=_.groupBy(Ce,function(Oe){return Oe.boundSection}),he=0;_.forEach(we,function(Oe){var Je=Oe.length;if(Je>1){he++;for(var fe=Oe[0].boundSection,ne=_.findLastIndex(Ce,function(et){return et.boundSection===fe}),Ne=Je-1;Ne>0&&ne>=0;)Ce.splice(ne,1),Ne--,ne=_.findLastIndex(Ce,function(et){return et.boundSection===fe},ne-1)}}),he>0&&J.logEvent(U.Jw,{errorType:"DuplicateBoundSection",count:he});var Te=_.size(Ce)-_.size(k);Te>0&&(f.fF.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),Ce=Ce.slice(0,_.size(k)),J.logEvent(U.Jw,{errorType:"ExceedingPodsNumberAfterInitialFix",count:Te}))}},ee.prototype.supportsScalarMarkers=function(k){return _.some([je.D.lineChart,je.D.areaChart,je.D.stackedAreaChart,je.D.hundredPercentStackedAreaChart],function(J){return J===k.visualType})},ee.prototype.upgradeIfScalarMarkersAreSet=function(k){var Ce=(0,P.NA)(k,{objectName:"categoryAxis",propertyName:"axisType"},null);if(Ce&&"Scalar"===M.jz.getTextValue(Ce)){var J=(0,P.NA)(k,{objectName:"lineStyles",propertyName:"showMarker"},null);J&&M.jz.getBooleanValue(J)&&(this.version=(0,n.Fp)(this.version,pe.Cc1))}},ee.prototype.serializePageDynamicConfig=function(k){var Ce;if(k.quickExplore){var re=k.quickExplore.visualContainerConfigurations,Ie=k.quickExplore.layout;Ce||(Ce={}),Ce.quickExplore={selectedFields:_.map(k.quickExplore.selectedFields,function(ot){return m.ib.serializeExpr(ot)}),visualContainerConfigurations:_.map(re,function(ot){return{name:ot.name,fields:_.map(ot.fields,function(we){return m.ib.serializeExpr(we)})}})},Ie&&(Ce.quickExplore.layout=this.serializeQuickExploreLayout(Ie),this.version=(0,n.Fp)(this.version,pe.KQG))}return Ce},ee.prototype.serializeQuickExploreLayout=function(k){if(k.combination){var Ce={version:k.combination.version};return k.combination.dataTableName&&(Ce.dataTableName=k.combination.dataTableName),{combination:Ce}}if(k.related){var J={version:k.related.version};return k.related.dataTableName&&(J.dataTableName=k.related.dataTableName),{related:J}}},ee}();function it(ee){null!=ee.x&&null!=ee.y&&null!=ee.width&&null!=ee.height||(S.f.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:ee.x,y:ee.y,width:ee.width,height:ee.height})),null==ee.x&&(ee.x=0),null==ee.y&&(ee.y=0),null==ee.width&&(ee.width=0),null==ee.height&&(ee.height=0))}function be(ee){return void 0!==ee.children}},915455:function(ze,K,r){r.d(K,{U6:function(){return v},a5:function(){return m},pz:function(){return n},sQ:function(){return e}});var t=r(658353),c=r(138363),i=r(787941),s=r(282310),p=r(261374),V=r(776791);function m(o,u,a,l,d){i.fF.assertValue(o,"webBookmark");var b=(0,s.v)(o,a,l);if(b.errors&&!u)for(var f=0,g=b.errors;f<g.length;f++){var S=g[f];d.logEvent(t.TH,{type:"WebBookmark",errorCode:S.code,stack:S.stack,message:S.message})}return b.contract}function v(o,u,a,l,d){if(!(0,p.g)(o)){var b=(0,V.K)(o);if(b)try{return u.deserialize(b,a,l)}catch(f){return f&&d.logEvent(t.rj,{stack:f.stack,message:f.message}),{explorationState:null}}}}function e(o){i.fF.assertValue(o,"resourcePackageWireContracts");for(var u=[],a=0,l=o;a<l.length;a++){var d=l[a];h(d),u.push(d)}for(var b=0;b<u.length;++b)if(u[b])for(var f=u.length;--f>b;)u[f]&&u[b].name===u[f].name&&(u[f].id>u[b].id&&(u[b]=u[f]),u.splice(f,1));return u}function h(o){void 0===o.type&&(o.type=0)}function n(o,u){if(!_.isEmpty(o)){for(var a=[],l=function(S){var y=_.find(S.items,function(P){return P.type===c.Ut.CustomVisualMetadata});if(y&&void 0!==y.content){var C=_.isString(y.content)?(0,V.K)(y.content):y.content;C&&(C.content=void 0,y.content=JSON.stringify(C))}var E=S.items;if(E){var D=["contentBlob","contentBlobUrl","promise"];u&&u.excludeResourceItemContent&&D.push("content"),E=_.map(E,function(P){return _.omit(P,D)})}a.push({id:S.id,name:S.name,type:S.type,items:E,disabled:!!S.disabled})},d=0,b=o;d<b.length;d++)l(b[d]);return a}}},361908:function(ze,K,r){r.d(K,{oJ:function(){return E},Ay:function(){return D},vB:function(){return P},qC:function(){return W},jp:function(){return z}});var t=r(415859),c=r(718706),i=r(962210),s=r(890795),p=r(322487),V=r(693825),m=r(883863),v=r(787941),e=r(272039),h=r(505876),n=r(160046),o=r(568837),u=r(798379),l=function(){function Q(H){var de=(0,u.F)(H).downgraders;this.objectsDowngrader=(0,o.x)(de)}return Q.prototype.getFinalExplorationVersion=function(H,de){var Y,se,ce=H&&H.sections;if(ce){for(var pe=0,ve=Object.keys(ce);pe<ve.length;pe++)for(var We=ce[ve[pe]],je=0,Ae=Object.keys(We.visualContainers);je<Ae.length;je++){var le=We.visualContainers[Ae[je]],Z=le.singleVisual;if(Z){var ie=Z.visualType,me=null===(Y=le.singleVisual)||void 0===Y?void 0:Y.mobileVcObjects;me&&(de=(0,V.Fp)(de,this.objectsDowngrader.getFinalVisualObjectsVersion(2,me,de,ie)));var ye=null===(se=le.singleVisual)||void 0===se?void 0:se.mobileObjects;ye&&(de=(0,V.Fp)(de,this.objectsDowngrader.getFinalVisualObjectsVersion(1,ye,de,ie)))}}return de}},Q.prototype.downgrade=function(H,de){var Y=H&&H.sections;if(Y)for(var se=0,ce=Object.keys(Y);se<ce.length;se++)for(var ve=Y[ce[se]],De=0,We=Object.keys(ve.visualContainers);De<We.length;De++){var _e=ve.visualContainers[We[De]].singleVisual;if(_e){var le=_e.visualType,Z=_e.mobileVcObjects;Z&&this.objectsDowngrader.downgrade(2,Z,le,de);var ie=_e.mobileObjects;ie&&this.objectsDowngrader.downgrade(1,ie,le,de)}}},Q}(),d=r(861089),b=r(92832),f=r(425148),S=function(){function Q(H){this.objectsUpgrader=(0,b.U)((0,f.$)(H).getVersionUpgraders())}return Q.prototype.upgrade=function(H,de){var Y=H&&H.sections;if(Y){for(var se=0,ce=Object.keys(Y);se<ce.length;se++)for(var ve=Y[ce[se]],De=0,We=Object.keys(ve.visualContainers);De<We.length;De++){var _e=ve.visualContainers[We[De]].singleVisual;if(_e){var le=_e.visualType,Z=_e.mobileVcObjects;Z&&this.objectsUpgrader.upgrade(2,Z,le,de);var ie=_e.mobileObjects;ie&&this.objectsUpgrader.upgrade(1,ie,le,de)}}return H}},Q}(),y=r(764830),C=r(89858);function E(Q,H){for(var de={},Y=0,se=H.sections;Y<se.length;Y++)for(var pe=0,ve=(ce=se[Y]).visualContainers;pe<ve.length;pe++)de[ve[pe].name]=!0;for(var We in Q.sections){var ce=Q.sections[We];for(var je in ce.visualContainers)de[je]||delete ce.visualContainers[je]}}function D(Q,H,de){return x(z(Q,null,de,H),H)}function P(Q,H,de,Y){if(v.fF.assertValue(Q,"input"),null!=Y&&Y.runUpgraders){var se=(0,C.KQq)(Q.version),ce=function(Q){return new S(Q)}(de);Q=ce.upgrade(Q,se)}var pe={activeSection:Q.activeSection,filters:M(Q.filters),sections:_.mapValues(Q.sections,function(ve){return function(Q,H){return v.fF.assertValue(Q,"input"),{filters:M(Q.filters),visualContainers:_.mapValues(Q.visualContainers,function(de){return function(Q,H){v.fF.assertValue(Q,"input");var de=x(Q.singleVisual,H);return{filters:M(Q.filters),singleVisual:de,visibility:Q.singleVisual?L(Q.singleVisual.display):void 0,highlight:Q.highlight?O(Q.highlight):void 0}}(de,H)}),visualContainerGroups:Q.visualContainerGroups&&_.mapValues(Q.visualContainerGroups,N)}}(ve,H)})};return Q.objects&&(pe.objects=w(Q.objects,function(){return e.W})),Q.dataSourceVariables&&(pe.dataSourceVariables=Q.dataSourceVariables),pe}function M(Q){if(v.fF.assertAnyValue(Q,"input"),Q){var H={};return Q.byName&&(H.nameIdentifiedMerges=_.mapValues(Q.byName,T)),Q.byExpr&&(H.exprIdentifiedMerges=_.map(Q.byExpr,T)),Q.byType&&(H.typeIdentifiedMerges=_.map(Q.byType,T)),Q.byTransientState&&(H.transientFilters=_.map(Q.byTransientState,T)),H}}function T(Q){return v.fF.assertValue(Q,"input"),{name:Q.name,type:h.vA[Q.type],filter:Q.filter?p.ib.deserializeFilter(Q.filter):void 0,expression:Q.expression?p.ib.deserializeExpr(Q.expression):void 0,restatement:Q.restatement,howCreated:Q.howCreated,precedence:Q.precedence,isTransient:Q.isTransient,cachedValueItems:(0,c.kE)(Q.cachedDisplayNames),filterExpressionMetadata:Q.filterExpressionMetadata?(0,s.hE)(Q.filterExpressionMetadata):void 0}}function N(Q){return v.fF.assertValue(Q,"input"),{isHidden:Q.isHidden,children:Q.children&&_.mapValues(Q.children,function(H){return N(H)})}}function x(Q,H){if(v.fF.assertAnyValue(Q,"input"),Q){var de={visualType:Q.visualType};if(null!=Q.isDrillDisabled&&(de.isDrillDisabled=Q.isDrillDisabled),null!=Q.autoSelectVisualType&&(de.autoSelectVisualType=Q.autoSelectVisualType),Q.objects&&(de.objects=w(Q.objects,function(){var De;return Q.visualType&&(null===(De=H.capabilities(Q.visualType))||void 0===De?void 0:De.objects)})),Q.orderBy&&(de.orderBy=p.ib.deserializeSortDefinitions(Q.orderBy,null)),Q.targetType&&(de.targetType=Q.targetType),null!=Q.targetAutoSelectVisualType&&(de.targetAutoSelectVisualType=Q.targetAutoSelectVisualType),Q.activeProjections&&(de.activeProjections=A(Q.activeProjections)),_.isEmpty(Q.parameters)||(de.parameters=function(Q){var H;for(var de in Q){var Y=Q[de];_.isEmpty(Y)||(H||(H={}),H[de]=_.map(Y,function(se){return{expr:p.ib.deserializeExpr(se.expr),index:se.index,length:se.length}}))}return H}(Q.parameters)),Q.projections&&(de.projections=A(Q.projections)),Q.display&&"hidden"===Q.display.mode&&(de.hidden=!0),Q.cachedFilterDisplayItems&&(de.cachedFilterDisplayItems=(0,c.kE)(Q.cachedFilterDisplayItems)),Q.filterExpressionMetadata&&(de.filterExpressionMetadata=(0,s.hE)(Q.filterExpressionMetadata)),Q.expansionStates){var Y=H.capabilities(Q.visualType);de.expansionStates=(0,i.bX)(Q.expansionStates,{supportsMerge:Y&&Y.expandCollapse&&Y.expandCollapse.supportsMerge,canCollapseRoot:Y&&Y.noDefaultProjections,collapseParentAfterRemovingChildLevel:Y&&Y.expandCollapse&&Y.expandCollapse.collapseParentAfterRemovingChildLevel})}return Q.mobileVcObjects&&(de.mobileVcObjects=(0,t.wN)(Q.mobileVcObjects,n.XW)),Q.mobileObjects&&(Y=H.capabilities(Q.visualType),de.mobileObjects=(0,t.wN)(Q.mobileObjects,Y&&Y.objects)),de}}function A(Q){var H;for(var de in Q){var Y=Q[de];_.isEmpty(Y)||(H||(H={}),H[de]=_.map(Y,function(se){return null===se?null:p.ib.deserializeExpr(se)}))}return H}function w(Q,H){v.fF.assertValue(Q,"input");var de={};return Q.merge&&(0,t.kO)(Q.merge,H,de,"merge"),Q.remove&&(de.remove=_.map(Q.remove,F)),de}function F(Q){return v.fF.assertValue(Q,"input"),{object:Q.object,property:Q.property,selector:(0,t.L1)(Q.selector)}}function O(Q){return v.fF.assertValue(Q,"input"),{selection:(0,t.OT)(Q.selection),filterExpressionMetadata:Q.filterExpressionMetadata?(0,s.hE)(Q.filterExpressionMetadata):void 0}}function L(Q){if(v.fF.assertAnyValue(Q,"display"),Q&&Q.mode)switch(Q.mode){case"maximize":switch(Q.maximizedOptions&&Q.maximizedOptions.dataTable){case"accessible":return 8;case"normal":return 2;default:return 1}case"spotlight":return 4}}function W(Q,H,de,Y,se){v.fF.assertValue(Q,"input");var ce=new G(H),pe={version:void 0,activeSection:Q.activeSection,filters:ce.serializeFilters(Q.filters),sections:_.mapValues(Q.sections,function(We){return ce.serializeSection(We,de)})};if(Q.objects&&(pe.objects=ce.serializeObjects(Q.objects,e.W),ce.version=(0,V.Fp)(ce.version,y.Aq)),Q.dataSourceVariables&&(pe.dataSourceVariables=Q.dataSourceVariables,ce.version=(0,V.Fp)(ce.version,y.Zl)),null!=Y&&Y.runDowngraders&&ce.version!==d.K){var ve=function(Q){return new l(Q)}(se),De=(0,C.KQq)(ce.version);De=ve.getFinalExplorationVersion(Q,De),ve.downgrade(pe,De),pe.version=(0,C.eGA)(De),v.fF.assertValue(pe.version,"exploration state version should exist")}return pe.version=pe.version||ce.version,pe}function z(Q,H,de,Y){return new G(de).serializeSingleVisual(Q,H,Y)}var G=function(){function Q(H){this.featureSwitchService=H,this.version=y.Zh}return Q.prototype.serializeFilters=function(H){var de=this;if(v.fF.assertAnyValue(H,"input"),H){var Y={};return H.nameIdentifiedMerges&&(Y.byName=_.mapValues(H.nameIdentifiedMerges,function(se){return de.serializeFilterContainer(se)})),H.exprIdentifiedMerges&&(Y.byExpr=_.map(H.exprIdentifiedMerges,function(se){return de.serializeFilterContainer(se)})),H.typeIdentifiedMerges&&(Y.byType=_.map(H.typeIdentifiedMerges,function(se){return de.serializeFilterContainer(se)})),H.transientFilters&&(Y.byTransientState=_.map(H.transientFilters,function(se){return de.serializeFilterContainer(se)})),Y}},Q.prototype.serializeFilterContainer=function(H){v.fF.assertValue(H,"input");var de=H.filterExpressionMetadata?(0,s.Qe)(H.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:H.name,type:null!=H.type?h.vA[H.type]:void 0,filter:H.filter?p.ib.serializeFilter(H.filter):void 0,expression:H.expression?p.ib.serializeExpr(H.expression):void 0,restatement:H.restatement,howCreated:H.howCreated,isTransient:H.isTransient,cachedDisplayNames:(0,c.vX)(H.cachedValueItems),filterExpressionMetadata:de}},Q.prototype.serializeSection=function(H,de){var Y=this;return v.fF.assertValue(H,"input"),_.chain(H.visualContainers).values().sumBy(function(se){return null==se.highlight?0:1}).value()>1&&(this.version=(0,V.Fp)(this.version,y.aN)),{filters:this.serializeFilters(H.filters),visualContainers:_.mapValues(H.visualContainers,function(se){return Y.serializeVisualContainer(se,de)}),visualContainerGroups:H.visualContainerGroups&&_.mapValues(H.visualContainerGroups,function(se){return Y.serializeVisualContainerGroup(se)})}},Q.prototype.serializeVisualContainer=function(H,de){return v.fF.assertValue(H,"input"),H.highlight&&(this.version=(0,V.Fp)(this.version,y.U1)),{filters:this.serializeFilters(H.filters),singleVisual:this.serializeSingleVisual(H.singleVisual,H.visibility,de),highlight:H.highlight?this.serializeHighlightState(H.highlight):void 0}},Q.prototype.serializeVisualContainerGroup=function(H){var de=this;return v.fF.assertValue(H,"input"),{isHidden:H.isHidden,children:H.children&&_.mapValues(H.children,function(Y){return de.serializeVisualContainerGroup(Y)})}},Q.prototype.serializeSingleVisual=function(H,de,Y){var se;if(v.fF.assertAnyValue(H,"input"),H){var ce={visualType:H.visualType};if(H.isDrillDisabled&&(ce.isDrillDisabled=H.isDrillDisabled,this.version=(0,V.Fp)(this.version,y.hC)),null!=H.autoSelectVisualType&&(ce.autoSelectVisualType=H.autoSelectVisualType,this.version=(0,V.Fp)(this.version,y.C7)),H.objects&&(ce.objects=this.serializeObjects(H.objects,null===(se=null==Y?void 0:Y.capabilities(H.visualType))||void 0===se?void 0:se.objects)),H.orderBy&&(ce.orderBy=p.ib.serializeSortDefinitions(H.orderBy,!0)),H.activeProjections&&(ce.activeProjections=this.serializeActiveProjections(H.activeProjections)),H.targetType&&(ce.targetType=H.targetType,this.version=(0,V.Fp)(this.version,y.uZ)),null!=H.targetAutoSelectVisualType&&(ce.targetAutoSelectVisualType=H.targetAutoSelectVisualType,this.version=(0,V.Fp)(this.version,y.C7)),H.projections&&(ce.projections=this.serializeActiveProjections(H.projections),this.version=(0,V.Fp)(this.version,y.uZ)),_.isEmpty(H.parameters)||(ce.parameters=this.serializeParameters(H.parameters),this.version=(0,V.Fp)(this.version,y.rb)),H.cachedFilterDisplayItems&&(ce.cachedFilterDisplayItems=(0,c.vX)(H.cachedFilterDisplayItems)),H.filterExpressionMetadata&&(ce.filterExpressionMetadata=(0,s.Qe)(H.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,V.Fp)(this.version,y.XX)),H.mobileVcObjects&&(ce.mobileVcObjects=this.serializeMobileObjects(H.mobileVcObjects,n.XW,H.visualType)),H.mobileObjects&&Y){var pe=Y.capabilities(H.visualType);ce.mobileObjects=this.serializeMobileObjects(H.mobileObjects,pe&&pe.objects,H.visualType)}return _.isEmpty(H.expansionStates)||(ce.expansionStates=(0,i.hI)(H.expansionStates)),v.fF.assert(function(){return!(H.hidden&&de)},"cannot mix hidden & visibility states"),H.hidden?ce.display={mode:"hidden"}:de&&(ce.display=function(Q){switch(v.fF.assertAnyValue(Q,"mode"),Q){case 1:return{mode:"maximize"};case 2:return{mode:"maximize",maximizedOptions:{dataTable:"normal"}};case 8:return{mode:"maximize",maximizedOptions:{dataTable:"accessible"}};case 4:return{mode:"spotlight"}}}(de)),ce}},Q.prototype.serializeMobileObjects=function(H,de,Y){this.version=(0,V.Fp)(this.version,y.DA);var se=(0,t.xF)(H,de,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===d.K)return se;var ce=(0,C.KQq)(this.version);ce=(0,C.P_5)(H,de,Y,ce,(0,m.bv)());var pe=(0,C.eGA)(ce);return this.version=(0,V.Fp)(this.version,pe),se},Q.prototype.serializeActiveProjections=function(H){var de;for(var Y in H){var se=H[Y];_.isEmpty(se)||(de||(de={}),de[Y]=_.map(se,function(ce){return null===ce?null:p.ib.serializeExpr(ce)}))}return de},Q.prototype.serializeParameters=function(H){var de;for(var Y in H){var se=H[Y];_.isEmpty(se)||(de||(de={}),de[Y]=_.map(se,function(ce){return{expr:p.ib.serializeExpr(ce.expr),index:ce.index,length:ce.length}}))}return de},Q.prototype.serializeObjects=function(H,de){var Y=this;v.fF.assertValue(H,"input");var se={};return H.merge&&(se.merge=(0,t.xF)(H.merge,de,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),H.remove&&(se.remove=_.map(H.remove,function(ce){return Y.serializeObjectPropSelector(ce)})),se},Q.prototype.serializeObjectPropSelector=function(H){return v.fF.assertValue(H,"input"),{object:H.object,property:H.property,selector:(0,t.UZ)(H.selector)||null}},Q.prototype.serializeHighlightState=function(H){return v.fF.assertValue(H,"input"),H.filterExpressionMetadata&&(this.version=(0,V.Fp)(this.version,y.Aq)),{selection:(0,t.Vg)(H.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:H.filterExpressionMetadata?(0,s.Qe)(H.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}},Q}()},861089:function(ze,K,r){r.d(K,{K:function(){return t}});var t="1.29"},793688:function(ze,K,r){r.d(K,{t:function(){return t}});var t="5.53"},764830:function(ze,K,r){r.d(K,{$K:function(){return D},$j:function(){return C},Aq:function(){return s},C7:function(){return I},DA:function(){return x},DG:function(){return R},I8:function(){return b},LL:function(){return n},M5:function(){return u},Ny:function(){return o},RT:function(){return l},U1:function(){return c},Vb:function(){return E},X2:function(){return y},XS:function(){return S},XX:function(){return V},Zh:function(){return t},Zl:function(){return p},_b:function(){return P},aB:function(){return B},aN:function(){return i},eA:function(){return g},hC:function(){return w},nx:function(){return f},rb:function(){return A},sZ:function(){return T},uZ:function(){return m},ud:function(){return M},ur:function(){return d},vH:function(){return N},wh:function(){return h},xm:function(){return e},zW:function(){return a}});var t="1.0",c="1.1",i="1.2",s="1.3",p="1.4",V="1.5",m="1.6",e="1.8",h="1.9",n="1.10",o="1.11",u="1.12",a="1.13",l="1.14",d="1.15",b="1.16",f="1.17",g="1.18",S="1.19",y="1.20",C="1.21",E="1.22",D="1.23",P="1.24",M="1.25",T="1.26",R="1.27",B="1.28",N="1.29",x=e,A=o,I=d,w=T},425148:function(ze,K,r){r.d(K,{$:function(){return $e}});var t=r(776791),c=r(693825),i=r(787941),s=r(92832),p=r(793688),V=r(415859),m=r(322487),v=r(719661),e=r(525963),h=r(210683),n=r(326899),o=r(324356),u=r(89858),a=r(600348),d=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe,ke){if(i.fF.assertValue(Pe,"exploration"),Pe&&(Pe.filters=this.upgradeFilterContainers(Pe.filters),Pe.sections))for(var Ye=0,pt=Pe.sections;Ye<pt.length;Ye++){var St=pt[Ye];if(St.filters=this.upgradeFilterContainers(St.filters),St.visualContainers)for(var bt=0,vt=St.visualContainers;bt<vt.length;bt++){var At=vt[bt];At.filters=this.upgradeFilterContainers(At.filters);var zt=At.config.singleVisual;zt&&(zt.objects=this.upgradeObjects(zt.objects,zt.visualType||zt.visualConfig.visualType,ke))}}},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeFilterCollection=function(Pe){i.fF.assertValue(Pe,"filterCollection"),Pe&&Pe.filters&&(Pe.filters=this.upgradeFilterContainers(Pe.filters))},Ue.prototype.getVersion=function(){return u.H3n.v1_0},Ue.prototype.upgradeFilterContainers=function(Pe){if(!_.isEmpty(Pe)){var ke=(0,t.K)(Pe);if(ke)for(var Ye=0,pt=ke;Ye<pt.length;Ye++)this.upgradeFilterContainer(pt[Ye]);return JSON.stringify(ke)}},Ue.prototype.upgradeFilterContainer=function(Pe){if(!Pe.expression&&Pe.field){var ke=function(Ue){return function(Ue){var Pe=Ue.aggregate;if(void 0!==Pe){var ke=g(Ue)||y(Ue);if(ke)return(0,o.m_)(ke,Pe)}}(Ue)||g(Ue)||function(Ue){var Pe=Ue.measure;if(Pe){var ke=y(Ue);if(ke)return(0,o.mv)(ke,Pe)}}(Ue)||y(Ue)}(Pe.field);ke&&(Pe.expression=m.ib.serializeExpr(ke))}void 0===Pe.howCreated&&(Pe.howCreated=Pe.autoGenerated?0:1)},Ue.prototype.upgradeObjects=function(Pe,ke,Ye){switch(i.fF.assertAnyValue(Pe,"allObjectDefns"),this.dropMalformedSelectors(Pe),ke){case a.D.filledMap:return this.upgradeObjectsFilledMap(Pe);case a.D.card:return this.upgradeObjectsCard(Pe);case a.D.donutChart:case a.D.pieChart:return Ye&&(0,c.gt)(Ye,"1.0")?Pe:this.upgradeObjectsDonutChart(Pe)}return Pe},Ue.prototype.dropMalformedSelectors=function(Pe){if(i.fF.assertAnyValue(Pe,"allObjectDefns"),Pe)for(var ke in Pe){var Ye=Pe[ke];if(Ye)for(var pt=Ye.length-1;pt>=0;pt--){var bt=Ye[pt].selector;bt&&(bt.metadata||delete bt.metadata,_.isEmpty(Object.keys(bt))&&Ye.splice(pt,1))}}},Ue.prototype.upgradeObjectsFilledMap=function(Pe){i.fF.assertAnyValue(Pe,"allObjectDefns");var ke="dataPoint",Ye="fillRule";Pe||(Pe={});var pt=Pe[ke];pt||(Pe[ke]=pt=[]);for(var St,bt=0,vt=pt;bt<vt.length;bt++){var At=vt[bt];if(!At.selector){St=At;break}}return St||pt.push(St={selector:null,properties:{}}),i.fF.assertValue(St,"targetObjectDefn"),null==St.properties[Ye]&&(St.properties[Ye]=(0,V.W7)((0,h.yw)(),(0,e.XN)().objects[ke].properties[Ye])),Pe},Ue.prototype.upgradeObjectsCard=function(Pe){i.fF.assertAnyValue(Pe,"allObjectDefns");var ke="cardTitle";if(Pe){var pt=Pe[ke];pt&&(Pe.categoryLabels=pt,delete Pe[ke])}return Pe},Ue.prototype.upgradeObjectsDonutChart=function(Pe){i.fF.assertAnyValue(Pe,"allObjectDefns");var ke="categoryLabels",Ye="labels",pt="labelStyle",St="show";if(Pe){var zt,bt=this.getMetadataOnceObjectDefn(Pe,Ye),vt=this.getPropertyExpr(bt,St),At=!!vt&&m.ib.deserializeExpr(vt).value,Jt=this.getMetadataOnceObjectDefn(Pe,ke);if(Jt){var $t=this.getPropertyExpr(Jt,St),qt=!!$t&&m.ib.deserializeExpr($t).value;At&&qt?zt=n.f3:At&&!qt?zt=n.aT:!At&&qt&&(zt=n.W3),delete Pe[ke]}else bt&&bt.properties[pt]||(zt=At?n.f3:n.W3);if(null!=zt){var vr=(0,v.cw)().objects[Ye].properties;if(!bt){var cr=Pe[Ye];cr||(Pe[Ye]=cr=[]),(bt=_.find(cr,function(br){return!br.selector}))||cr.push(bt={properties:{}})}bt.properties[St]=(0,V.W7)((0,o.O7)(!0),vr[St]),bt.properties[pt]=(0,V.W7)((0,o.fL)(zt),vr[pt])}return Pe}},Ue.prototype.getMetadataOnceObjectDefn=function(Pe,ke){if(Pe){var Ye=Pe[ke];if(!_.isEmpty(Ye))return _.find(Ye,function(pt){return!pt.selector})}},Ue.prototype.getPropertyExpr=function(Pe,ke){if(Pe){var Ye=Pe.properties[ke];if(Ye)return Ye.expr}},Ue}();function g(Ue){var Pe=Ue.column;if(Pe){var ke=y(Ue);if(ke)return(0,o.Oh)(ke,Pe)}}function y(Ue){return(0,o.nw)(Ue.schema,Ue.entity,Ue.entityVar)}var E=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];if(pt.visualContainers)for(var St=0,bt=pt.visualContainers;St<bt.length;St++){var vt=bt[St],At=vt.config;At.layouts||(At.layouts=[{id:0,position:{x:vt.x,y:vt.y,z:vt.z,width:vt.width,height:vt.height}}])}}},Ue.prototype.upgradeFilterCollection=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v2_0},Ue}(),P=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeFilterCollection=function(Pe){i.fF.assertValue(Pe,"filterCollection"),Pe&&Pe.filters&&(Pe.filters=this.upgradeFilterContainers(Pe.filters))},Ue.prototype.upgradeFilterContainers=function(Pe){if(!_.isEmpty(Pe)){var ke=(0,t.K)(Pe);if(ke)for(var Ye=0,pt=ke;Ye<pt.length;Ye++)this.upgradeFilterContainer(pt[Ye]);return JSON.stringify(ke)}},Ue.prototype.upgradeFilterContainer=function(Pe){2===Pe.howCreated&&!Pe.precedence&&(Pe.precedence=0)},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v2_2},Ue}(),M=r(761565),T=r(759510),R=r(668268),N=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];if(pt.visualContainers)for(var St=0,bt=pt.visualContainers;St<bt.length;St++){var At=bt[St].config.singleVisual;At&&(At.objects=this.upgradeObjects(At.objects,At.visualType||At.visualConfig.visualType))}}},Ue.prototype.upgradeFilterCollection=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v2_3},Ue.prototype.upgradeObjects=function(Pe,ke){return i.fF.assertAnyValue(Pe,"allObjectDefns"),ke===a.D.slicer?this.upgradeSlicerObjects(Pe):Pe},Ue.prototype.upgradeSlicerObjects=function(Pe){i.fF.assertAnyValue(Pe,"allObjectDefns");var Ye="mode";Pe||(Pe={});var pt=(0,R.zx)(Pe,"data",null),St=(0,M.st)().objects.data.properties;return null==pt.properties[Ye]&&(pt.properties[Ye]=(0,V.W7)((0,o.fL)(T.RB),St[Ye])),Pe},Ue}(),A=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];if(pt.visualContainers)for(var St=0,bt=pt.visualContainers;St<bt.length;St++){var At=bt[St].config.singleVisual;At&&(At.objects=this.upgradeObjects(At.objects,At.visualType||At.visualConfig.visualType))}}},Ue.prototype.upgradeFilterCollection=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v2_5},Ue.prototype.upgradeObjects=function(Pe,ke){return i.fF.assertAnyValue(Pe,"allObjectDefns"),ke===a.D.gauge?this.upgradeGaugeTarget(Pe):Pe},Ue.prototype.upgradeGaugeTarget=function(Pe){i.fF.assertAnyValue(Pe,"allObjectDefns"),Pe||(Pe={});var St=(0,R.my)(Pe,"labels",null);if(!St)return Pe;for(var bt=(0,R.zx)(Pe,"target",null),vt=0,At=["show","labelDisplayUnits","labelPrecision","color"];vt<At.length;vt++){var zt=At[vt];null!=St.properties[zt]&&(bt.properties[zt]=St.properties[zt])}return Pe},Ue}(),w=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];if(pt.visualContainers)for(var St=0,bt=pt.visualContainers;St<bt.length;St++){var At=bt[St].config.singleVisual;At&&(At.objects=this.upgradeObjects(At.objects,At.visualType||At.visualConfig.visualType))}}},Ue.prototype.upgradeFilterCollection=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v3_12_1},Ue.prototype.upgradeObjects=function(Pe,ke){return i.fF.assertAnyValue(Pe,"allObjectDefns"),ke===a.D.slicer?this.upgradeSlicerObjects(Pe):Pe},Ue.prototype.upgradeSlicerObjects=function(Pe){i.fF.assertAnyValue(Pe,"allObjectDefns"),Pe||(Pe={});var pt=(0,R.my)(Pe,"general",null),St=pt&&pt.properties.filter,bt=St&&St.filter;if(bt&&this.isAndFilter(bt)){var At=(0,R.my)(Pe,"data",null);if(At){var zt=At.properties.startDate,Jt=At.properties.endDate,$t=At.properties.numericStart,qt=At.properties.numericEnd;(zt&&!Jt||$t&&!qt)&&this.BetweenToBeforeOrAfterFilter(bt,1),(Jt&&!zt||qt&&!$t)&&this.BetweenToBeforeOrAfterFilter(bt,0)}}return Pe},Ue.prototype.isAndFilter=function(Pe){if(1===Pe.Where.length){var ke=Pe.Where[0].Condition;if(ke&&ke.And)return!0}return!1},Ue.prototype.BetweenToBeforeOrAfterFilter=function(Pe,ke){var Ye=Pe.Where[0].Condition;return i.fF.assertValue(Ye,"Filter condition cannot be null or undefined."),Pe.Where[0].Condition=0===ke?Ye.And.Right:Ye.And.Left,Pe},Ue}(),O=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];if(pt.visualContainers)for(var St=0,bt=pt.visualContainers;St<bt.length;St++){var At=bt[St].config.singleVisual;At&&this.upgradeSQExprToInt(At.objects)}}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v3_14_1},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeSQExprToInt=function(Pe){for(var ke in i.fF.assertAnyValue(Pe,""),Pe)if("labels"===ke||"bubbles"===ke||"categoryLabels"===ke)for(var Ye=0,pt=Pe[ke];Ye<pt.length;Ye++){var St=pt[Ye];for(var bt in St.properties)if("bubbleSize"===bt||"labelDensity"===bt||"backgroundTransparency"===bt){var vt=St.properties[bt],At=vt&&vt.expr&&vt.expr.Literal;At&&(i.fF.assertValue(At.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test(At.Value)&&(At.Value=this.convertLiteralSQTextIntoNumber(At.Value)+"L"))}}},Ue.prototype.convertLiteralSQTextIntoNumber=function(Pe){return Math.floor(_.parseInt(Pe.substr(1,Pe.length-2)))},Ue}();function L(Ue){return new W(Ue)}var W=function(){function Ue(Pe){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke],St=pt.config,bt=(0,t.K)(pt.filters)||[];1===St.type?this.upgradeTooltipPage(bt,St):(0===St.type||null==St.type)&&this.upgradeRegularPage(bt,St),pt.filters=JSON.stringify(bt)}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v3_14},Ue.prototype.upgradeTooltipPageLinkFields=function(Pe,ke){var Ye=_.map(ke.linkFields,function(pt){return{howCreated:5,isTransient:!1,isLinkedAsAggregation:pt.asAggregation,expression:pt.fieldExpr}});Pe.push.apply(Pe,Ye||[]),ke.linkFields=[]},Ue.prototype.upgradeTooltipPage=function(Pe,ke){ke.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(Pe,ke)},Ue.prototype.upgradeRegularPage=function(Pe,ke){if(ke.acceptsAllFiltersWhenLinked=!1,Pe)for(var Ye=0,pt=Pe;Ye<pt.length;Ye++)pt[Ye].isLinkedAsAggregation=!1},Ue}(),j=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections)for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];if(pt.visualContainers)for(var St=function($t){var qt=$t.config.singleVisual;if(qt){i.fF.assert(function(){return void 0===qt.vcObjects},"VC Object can't exist if you are in this version");var rr={};if(qt.altText&&(rr.general=[{properties:{altText:bt.toExpr((0,o.fL)(qt.altText))}}],delete qt.altText),qt.aspectRatio){var vr=qt.aspectRatio;rr.lockAspect=[{properties:{show:null!=vr.show?bt.toExpr((0,o.O7)(vr.show)):void 0}}],delete qt.aspectRatio}if(qt.background){var cr=qt.background;rr.background=[{properties:{color:null!=cr.color?{solid:{color:bt.toExpr((0,o.fL)(cr.color))}}:void 0,show:null!=cr.show?bt.toExpr((0,o.O7)(cr.show)):void 0,transparency:null!=cr.transparency?bt.toExpr((0,o.cA)(cr.transparency)):void 0}}],delete qt.background}if(qt.border){var br=qt.border;rr.border=[{properties:{color:null!=br.color?{solid:{color:bt.toExpr((0,o.fL)(br.color))}}:void 0,show:null!=br.show?bt.toExpr((0,o.O7)(br.show)):void 0}}],delete qt.border}if(qt.stylePresetName&&(rr.stylePreset=[{properties:{name:bt.toExpr((0,o.fL)(qt.stylePresetName))}}],delete qt.stylePresetName),qt.title){var Mr=qt.title;Mr.show=null!=Mr.hidden?!Mr.hidden:Mr.show,rr.title=[{properties:{alignment:null!=Mr.alignment?bt.toExpr((0,o.fL)(Mr.alignment)):void 0,background:null!=Mr.background?{solid:{color:bt.toExpr((0,o.fL)(Mr.background))}}:void 0,fontColor:null!=Mr.fontColor?{solid:{color:bt.toExpr((0,o.fL)(Mr.fontColor))}}:void 0,fontFamily:null!=Mr.fontFamily?bt.toExpr((0,o.fL)(Mr.fontFamily)):void 0,fontSize:null!=Mr.fontSize?bt.toExpr((0,o.cA)(Mr.fontSize)):void 0,show:null!=Mr.show?bt.toExpr((0,o.O7)(Mr.show)):void 0,text:null!=Mr.text?bt.toExpr((0,o.fL)(Mr.text)):void 0}}],delete qt.title}if(qt.visualLink){var jr=qt.visualLink;rr.visualLink=[{properties:{bookmark:null!=jr.bookmark?bt.toExpr((0,o.fL)(jr.bookmark)):void 0,qna:jr.qna,show:null!=jr.show?bt.toExpr((0,o.O7)(jr.show)):void 0,type:null!=jr.type?bt.toExpr((0,o.fL)(jr.type)):void 0}}],delete qt.visualLink}if(qt.visualTooltip){var xr=qt.visualTooltip;rr.visualTooltip=[{properties:{section:null!=xr.section?bt.toExpr((0,o.fL)(xr.section)):void 0,type:null!=xr.type?bt.toExpr((0,o.fL)(xr.type)):void 0}}],delete qt.visualTooltip}bt.clearUndefinedPropertiesVCObjects(rr),_.isEmpty(rr)||(qt.vcObjects=rr)}},bt=this,vt=0,At=pt.visualContainers;vt<At.length;vt++)St(At[vt])}},Ue.prototype.toExpr=function(Pe){return{expr:m.ib.serializeExpr(Pe)}},Ue.prototype.clearUndefinedPropertiesVCObjects=function(Pe){for(var ke in Pe){var Ye=Pe[ke][0].properties;for(var pt in Ye)Ye[pt]||delete Ye[pt];_.isEmpty(Ye)&&delete Pe[ke]}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v3_15},Ue}(),z=r(85091),te=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe){var ke={},Ye=Pe.config;Ye.themeCollection=ke,Pe.theme&&(ke.customTheme=(0,z.Mi)(Pe.theme,1,this.getVersion()),delete Pe.theme),Ye.baseTheme&&(ke.baseTheme=(0,z.Mi)(Ye.baseTheme,2,this.getVersion()),delete Ye.baseTheme)}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v3_18},Ue}(),Q=r(210775),H=r(888142),de=r(883863),Y=r(261374),se=r(690016),pe=function(){function Ue(){this.podNamePrefix="Pod"}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections)){for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)this.upgradeSectionAcceptsAllFiltersWhenLinked(Ye[ke]);for(var St=Pe.pods||[],bt={},vt=0,At=St;vt<At.length;vt++)bt[At[vt].name]=!0;for(var Jt=0,$t=Pe.sections;Jt<$t.length;Jt++)this.upgradeSection($t[Jt],St,bt);_.isEmpty(St)||(Pe.pods=St)}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v3_24},Ue.prototype.upgradeSectionAcceptsAllFiltersWhenLinked=function(Pe){Pe.config||(Pe.config={}),null==Pe.config.acceptsAllFiltersWhenLinked&&(1===Pe.config.type?Pe.config.acceptsAllFiltersWhenLinked=!0:0===Pe.config.type||null==Pe.config.type?Pe.config.acceptsAllFiltersWhenLinked=!1:i.fF.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+Pe.config.type))},Ue.prototype.upgradeSection=function(Pe,ke,Ye){if(Pe&&Pe.name){var pt=(0,t.K)(Pe.filters)||[],St=_.some(pt,function(vt){return 5===vt.howCreated}),bt=this.findPodForSectionName(ke,Pe.name);bt?this.upgradeExistingPod(bt,Pe.config,St):St&&(bt=this.createPod(ke,Pe.name,Pe.config,Ye)),Pe.config&&(Pe.config.acceptsAllFiltersWhenLinked=void 0),bt&&(this.upgradeFilters(bt,pt),Pe.filters=JSON.stringify(pt))}},Ue.prototype.upgradeFilters=function(Pe,ke){var Ye=[];(0,Y.g)(Pe.parameters)||(Ye=(0,t.K)(Pe.parameters));for(var pt=0,St=ke;pt<St.length;pt++){var bt=St[pt];if(bt.name&&!bt.isTransient){var vt=5===bt.howCreated,At=this.findParamForFilterName(Ye,bt.name);At?(At.fieldExpr=bt.expression,At.asAggregation=bt.isLinkedAsAggregation,vt||(At.isLegacySingleSelection=!0)):vt&&Ye.push({name:"Param_"+bt.name,boundFilter:bt.name,fieldExpr:bt.expression,asAggregation:bt.isLinkedAsAggregation}),bt.isLinkedAsAggregation=void 0}}Pe.parameters=JSON.stringify(Ye)},Ue.prototype.upgradeExistingPod=function(Pe,ke,Ye){Pe.config=this.createPodConfig(ke),Pe.referenceScope=0,Pe.type=Ye?this.determineType(ke):0},Ue.prototype.findParamForFilterName=function(Pe,ke){if(i.fF.assertValue(ke,"filterName"),!_.isEmpty(Pe))return _.find(Pe,function(Ye){return Ye.boundFilter===ke})},Ue.prototype.findPodForSectionName=function(Pe,ke){if(i.fF.assertValue(ke,"sectionName"),!_.isEmpty(Pe))return _.find(Pe,function(Ye){return Ye.boundSection===ke})},Ue.prototype.createPod=function(Pe,ke,Ye,pt){i.fF.assertValue(Pe,"pods"),i.fF.assertValue(ke,"sectionName");var St={name:(0,se.zE)(pt,this.podNamePrefix),boundSection:ke,type:this.determineType(Ye),referenceScope:0,config:this.createPodConfig(Ye)};return Pe.push(St),pt[St.name]=!0,i.fF.assert(function(){return(0,de.iv)(Pe)},"pod names must be unique"),St},Ue.prototype.createPodConfig=function(Pe){return JSON.stringify({acceptsFilterContext:!Pe||Pe.acceptsAllFiltersWhenLinked?0:1})},Ue.prototype.determineType=function(Pe){return Pe&&0!==Pe.type&&void 0!==Pe.type?Pe&&1===Pe.type?2:void 0:1},Ue}(),ve=r(636490),De=r(138363),We=r(926201),Ae=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe){var ke=Pe.resourcePackages||[],Ye=_.find(ke,function(vr){return 2===vr.resourcePackage.type}),pt=!Ye,St=(Ye=Ye||{resourcePackage:{id:void 0,items:[],name:(0,We.RJ)(2),type:2}}).resourcePackage.items;if(Pe.sections)for(var bt=0,vt=Pe.sections;bt<vt.length;bt++){var At=vt[bt];if(At.visualContainers)for(var zt=0,Jt=At.visualContainers;zt<Jt.length;zt++){var qt=Jt[zt].config.singleVisual;qt&&this.upgradeSharedResourcePackages(qt.objects,St)}}var rr=Pe.config&&Pe.config.baseTheme;rr&&(_.find(St,function(vr){return vr.name===rr})||St.push({name:rr,type:De.Ut.BaseTheme,path:"BaseThemes/".concat(rr,".json")})),pt&&Ye.resourcePackage.items.length>0&&(ke.push(Ye),Pe.resourcePackages||(Pe.resourcePackages=ke))}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v3_6_1},Ue.prototype.upgradeSharedResourcePackages=function(Pe,ke){for(var Ye in i.fF.assertAnyValue(Pe,""),i.fF.assertValue(ke,"items should exist while upgrading shared resources"),Pe)for(var pt=0,St=Pe[Ye];pt<St.length;pt++){var bt=St[pt],vt=function($t){var qt=bt.properties[$t],rr=qt&&qt.geoJson;if(rr){var vr=rr.type.expr,cr=vr.Literal&&vr.Literal.Value;if(cr&&At.removeQuotes(cr)===ve.c1){var br=At.removeQuotes(rr.name.expr.Literal.Value);_.find(ke,function(Mr){return Mr.name===br})||ke.push({name:br,type:De.Ut.ShapeMap,path:"Shapemaps/".concat(br,".json")})}}},At=this;for(var zt in bt.properties)vt(zt)}},Ue.prototype.removeQuotes=function(Pe){return Pe.substr(1,Pe.length-2)},Ue}(),_e=r(563246),Z=function(){function Ue(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St],At=vt.config&&vt.config.singleVisual;At&&At.visualType===a.D.keyDriversVisual&&(At.objects=this.upgradeKeyDriversVisualObjects(At.objects))}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v4_1},Ue.prototype.upgradeKeyDriversVisualObjects=function(Pe){Pe||(Pe={});var ke=Pe[this.keyDriverObjectName];if(ke||(ke=Pe[this.keyDriverObjectName]=[{properties:{}}]),i.fF.assert(function(){return 1===ke.length},"only one keyDrivers object should exist"),!ke[0].properties[this.selectedNumericAnalysisPropertyName]){var pt={enumeration:_e.dt},St=(0,o.kQ)(_e.Pf,pt);ke[0].properties[this.selectedNumericAnalysisPropertyName]=(0,V.W7)(St,{type:pt})}return Pe},Ue}(),ie=r(849),ye=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St];(0,ie.jF)(vt.config&&vt.config.singleVisual)}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v4_2},Ue}(),X=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++){var pt=Ye[ke];Se(pt),Be(pt)}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v5_1},Ue}(),ue=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function Se(Ue){if(Ue&&Ue.config&&Ue.config.objects)for(var Pe=0,ke=ue;Pe<ke.length;Pe++)(0,ie.pr)(Ue.config.objects,ke[Pe])}function Be(Ue){if(Ue&&Ue.config&&Ue.config.objects&&Ue.config.objects.filterCard)for(var ke=0,Ye=Ue.config.objects.filterCard;ke<Ye.length;ke++){var pt=Ye[ke],St=pt&&pt.properties;if(St){var bt=St.textSize;if(bt){var vt=m.ib.deserializeExpr(bt.expr);St.textSize=(0,ie.Mi)((0,ie.nc)(vt))}}}}var Ze=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St];(0,ie.Rd)(vt.config&&vt.config.singleVisual)}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v5_3},Ue}();function qe(Ue){return new it(Ue)}var it=function(){function Ue(Pe){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St],At=vt.config&&vt.config.singleVisual;if(At&&At.objects){var zt=At&&At.visualType;"pivotTable"!==zt&&"tableEx"!==zt||this.upgradeTablixProperties(At.objects,zt)}}},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeTablixProperties=function(Pe,ke){i.fF.assertValue(Pe,"objects");var Ye=Pe.values;if(Ye)for(var pt=0,St=Ye;pt<St.length;pt++){var bt=St[pt];this.isValidRoleWildcard(bt.selector,ke)&&(!bt.properties||!bt.properties.backColor&&!bt.properties.fontColor||(bt.selector.data=[{dataViewWildcard:{matchingOption:1}}]))}},Ue.prototype.isValidRoleWildcard=function(Pe,ke){return!(!Pe||_.isEmpty(Pe.data)||1!==Pe.data.length||_.isEmpty(Pe.data[0].roles))&&("tableEx"===ke&&_.isEqual(Pe.data[0].roles,["Values"])||"pivotTable"===ke&&_.isEqual(Pe.data[0].roles,["Rows","Columns"]))},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_9},Ue}(),Fe=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){this.forAllSectionsAllContainers(Pe,[a.D.lineChart,a.D.areaChart,a.D.stackedAreaChart],this.upgradeLineChartDotProperties)},Ue.prototype.forAllSectionsAllContainers=function(Pe,ke,Ye){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var pt=0,St=Pe.sections;pt<St.length;pt++)for(var vt=function(qt){var rr=qt.config&&qt.config.singleVisual;if(!rr||!rr.objects)return"continue";var vr=rr&&rr.visualType;if(_.findIndex(ke,function(cr){return cr===vr})<0)return"continue";Ye(rr.objects,rr.projections)},At=0,zt=St[pt].visualContainers;At<zt.length;At++)vt(zt[At])},Ue.prototype.upgradeLineChartDotProperties=function(Pe,ke){i.fF.assertValue(Pe,"objects");var Ye=Pe.categoryAxis,pt=Pe.dataPoint,St=Pe.lineStyles;if(Ye&&0!==Ye.length){var bt,At=Ye[0].properties;if(At&&At.axisType){if(bt=At.axisType.expr.Literal.Value.replace(/['"]+/g,""),pt&&"Categorical"===bt&&ke&&ke.Category&&1===ke.Category.length&&ke.Category[0]){var Jt=ke.Category[0].queryRef;if(Jt)for(var qt,$t=function(Fr){var Jr=pt[Fr].properties;if(i.fF.assert(function(){return _.keys(Jr).length<=1},"expected data point object to only have one or no properties"),!Jr||!Jr.fill||_.keys(Jr).length>1)return qt=Fr,"continue";var Hr=pt[Fr].selector;if(Hr&&Hr.data&&1===Hr.data.length&&Hr.data[0]){var Ot=Hr.data[0];if(Ot.scopeId&&Ot.scopeId.Comparison&&Ot.scopeId.Comparison.Left&&Ot.scopeId.Comparison.Left.Column){var Ee=Ot.scopeId.Comparison.Left.Column,Vt=Ee.Property;if(Vt&&Ee.Expression&&Ee.Expression.SourceRef){var wt=Ee.Expression.SourceRef.Entity;wt&&"".concat(wt,".").concat(Vt)===Jt&&(pt.splice(Fr,1),Fr--)}}}qt=Fr},rr=0;rr<pt.length;rr++)$t(rr),rr=qt}if(St&&St.length>0&&"Scalar"===bt)for(var vr=0,cr=St;vr<cr.length;vr++){var br=cr[vr];if(!br.selector){var Mr=br.properties;if(Mr&&Mr.showMarker){var jr=Mr.showMarker;"true"===jr.expr.Literal.Value&&(jr.expr.Literal.Value="false")}}}}}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.getVersion=function(){return u.H3n.v5_11},Ue}(),ee=r(890795),k=r(266983),Ce=r(369138);function J(Ue){return new re(Ue)}var re=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(i.fF.assertValue(Pe,"exploration"),Pe&&!(_.isEmpty(Pe.config.bookmarks)&&_.isEmpty(Pe.filters)&&_.isEmpty(Pe.sections)))){_.isEmpty(Pe.config.bookmarks)||this.upgradeBookmarks(Pe.config.bookmarks),Pe.filters&&(Pe.filters=this.upgradeFilterContainers(Pe.filters));for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St],At=vt.config&&vt.config.singleVisual;At&&At.filterExpressionMetadata&&(0,ee.R6)(At.filterExpressionMetadata)&&(At.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(At.filterExpressionMetadata)),vt.filters&&(vt.filters=this.upgradeFilterContainers(vt.filters)),!At||!At.objects||(At&&At.visualType)!==a.D.textbox||this.upgradeFilterContextProperties(At.objects)}}},Ue.prototype.upgradeFilterContextProperties=function(Pe){var ke=this;for(var Ye in i.fF.assertValue(Pe,"objects"),Pe)for(var St=0,bt=Pe[Ye];St<bt.length;St++){var vt=bt[St];for(var At in vt.properties){var zt=vt.properties[At];if((0,V.CA)(zt)){var Jt=zt.context,$t=Jt&&Jt.filterContext;_.isEmpty($t)||_.forEach($t,function(qt){qt.metadata&&(0,ee.R6)(qt.metadata)&&(qt.metadata=ke.upgradeFilterExpressionMetadata(qt.metadata))})}}}},Ue.prototype.upgradeBookmarks=function(Pe){for(var ke=0,Ye=Pe;ke<Ye.length;ke++){var pt=Ye[ke];if(Ie(pt))this.upgradeBookmarks(pt.children);else{this.upgradeSectionState(pt.explorationState.sections);var bt=pt.explorationState.filters;bt&&this.upgradeFilters(bt)}}},Ue.prototype.upgradeSectionState=function(Pe){var ke=this;_.forEach(Pe,function(Ye){_.forEach(Ye.visualContainers,function(pt){var St=pt.highlight;St&&St.selection&&(0,V.kS)(St.selection)&&(St.selection=ke.upgradeSelectorsByColumn(St.selection)),St&&St.filterExpressionMetadata&&(0,ee.R6)(St.filterExpressionMetadata)&&(St.filterExpressionMetadata=ke.upgradeFilterExpressionMetadata(St.filterExpressionMetadata));var bt=pt.singleVisual;bt.filterExpressionMetadata&&(0,ee.R6)(bt.filterExpressionMetadata)&&(bt.filterExpressionMetadata=ke.upgradeFilterExpressionMetadata(bt.filterExpressionMetadata))}),Ye.filters&&ke.upgradeFilters(Ye.filters)})},Ue.prototype.upgradeFilters=function(Pe){var ke=this;Pe.byName&&_.forEach(Pe.byName,function(Ye){Ye.filterExpressionMetadata&&(0,ee.R6)(Ye.filterExpressionMetadata)&&(Ye.filterExpressionMetadata=ke.upgradeFilterExpressionMetadata(Ye.filterExpressionMetadata))}),Pe.byExpr&&this.upgradeFilterContainerState(Pe.byExpr),Pe.byTransientState&&this.upgradeFilterContainerState(Pe.byTransientState),Pe.byType&&this.upgradeFilterContainerState(Pe.byType)},Ue.prototype.upgradeFilterContainerState=function(Pe){var ke=this;_.forEach(Pe,function(Ye){Ye.filterExpressionMetadata&&(0,ee.R6)(Ye.filterExpressionMetadata)&&(Ye.filterExpressionMetadata=ke.upgradeFilterExpressionMetadata(Ye.filterExpressionMetadata))})},Ue.prototype.upgradeSelectorsByColumn=function(Pe){var ke=_.map(Pe,function(pt){return(0,V.JF)(pt)}),Ye=(0,Ce.od)(ke);return(0,V.B6)(Ye)},Ue.prototype.upgradeFilterExpressionMetadata=function(Pe){var ke=(0,ee._q)(Pe),Ye=(0,Ce.s0)(ke);return(0,k.LF)(Ye)},Ue.prototype.upgradeFilterCollection=function(Pe){i.fF.assertValue(Pe,"filterCollection"),Pe&&Pe.filters&&(Pe.filters=this.upgradeFilterContainers(Pe.filters))},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeFilterContainers=function(Pe){if(!_.isEmpty(Pe)){var ke=(0,t.K)(Pe);if(ke)for(var Ye=0,pt=ke;Ye<pt.length;Ye++)this.upgradeFilterContainer(pt[Ye]);return JSON.stringify(ke)}},Ue.prototype.upgradeFilterContainer=function(Pe){Pe.filterExpressionMetadata&&(0,ee.R6)(Pe.filterExpressionMetadata)&&(Pe.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Pe.filterExpressionMetadata))},Ue.prototype.getVersion=function(){return u.H3n.v5_16},Ue}();function Ie(Ue){return void 0!==Ue.children}var we=r(118670);function he(Ue){return new Te(Ue)}var Te=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(i.fF.assertValue(Pe,"exploration"),Pe&&Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St],At=vt.config&&vt.config.singleVisual;if(At&&"actionButton"===At.visualType&&At.objects){var zt=At.objects;if(zt.text)for(var Jt=0,$t=zt.text;Jt<$t.length;Jt++)if((rr=null==(qt=$t[Jt])?void 0:qt.properties)&&(vr=rr.padding)){var cr,br;cr=rr.horizontalAlignment?Oe(rr.horizontalAlignment):we.D.right,br=rr.verticalAlignment?Oe(rr.verticalAlignment):"middle","left"===cr?qt.properties.leftMargin=vr:"right"===cr&&(qt.properties.rightMargin=vr),"top"===br?qt.properties.topMargin=vr:"bottom"===br&&(qt.properties.bottomMargin=vr),delete qt.properties.padding}if(zt.icon)for(var Mr=0,jr=zt.icon;Mr<jr.length;Mr++){var rr,vr;(rr=null==(qt=jr[Mr])?void 0:qt.properties)&&(vr=rr.padding)&&(qt.properties.leftMargin=vr,qt.properties.rightMargin=vr,qt.properties.topMargin=vr,qt.properties.bottomMargin=vr,delete qt.properties.padding)}if(zt.outline)for(var xr=0,Fr=zt.outline;xr<Fr.length;xr++){var qt,Jr=null==(qt=Fr[xr])?void 0:qt.properties.roundEdge;Jr&&(zt.shape=zt.shape||[],zt.shape.push({properties:{roundEdge:Jr},selector:qt.selector}),delete qt.properties.roundEdge)}}}},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_25},Ue}();function Oe(Ue){return m.ib.deserializeExpr(Ue.expr).value}var fe=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){if(i.fF.assertValue(Pe,"exploration"),Pe&&!_.isEmpty(Pe.sections))for(var ke=0,Ye=Pe.sections;ke<Ye.length;ke++)for(var St=0,bt=Ye[ke].visualContainers;St<bt.length;St++){var vt=bt[St],At=vt.config&&vt.config.singleVisual;At&&At.objects&&(At&&At.visualType)===a.D.azureMap&&this.upgradeAzureMapProperties(At.objects)}},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeAzureMapProperties=function(Pe){i.fF.assertValue(Pe,"objects");var ke=Pe.heatMapLayer;if(ke&&0!==ke.length)for(var Ye=0,pt=ke;Ye<pt.length;Ye++){var St=pt[Ye];if(!St.selector){var bt=St.properties;if(bt&&bt.heatMapOpacity){var At=Number(ne(bt.heatMapOpacity)),zt=isNaN(At)?0:100-100*At;delete bt.heatMapOpacity,bt.mapTransparency=(0,ie.Mi)((0,o.cA)(zt))}}}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_28},Ue}();function ne(Ue){return m.ib.deserializeExpr(Ue.expr).value}var Ne=r(226514),et=r(664723),tt=r(939523),xe=r(281835);function Ve(Ue){return new Re(Ue)}var Le=[a.D.tableEx,a.D.pivotTable,a.D.slicer,a.D.filterSlicer,a.D.multiRowCard],at=[a.D.barChart,a.D.clusteredBarChart,a.D.clusteredColumnChart,a.D.columnChart,a.D.hundredPercentStackedBarChart,a.D.hundredPercentStackedColumnChart,a.D.ribbonChart],ft=[a.D.areaChart,a.D.barChart,a.D.clusteredBarChart,a.D.clusteredColumnChart,a.D.columnChart,a.D.hundredPercentStackedBarChart,a.D.hundredPercentStackedColumnChart,a.D.lineChart,a.D.lineClusteredColumnComboChart,a.D.lineStackedColumnComboChart,a.D.ribbonChart,a.D.scatterChart,a.D.stackedAreaChart,a.D.waterfallChart],ht=[a.D.lineClusteredColumnComboChart,a.D.lineStackedColumnComboChart],Ge=[a.D.lineChart,a.D.areaChart,a.D.stackedAreaChart,a.D.lineStackedColumnComboChart,a.D.lineClusteredColumnComboChart],Re=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){1===Pe&&(_.some(at,function(St){return St===Ye})&&(this.upgradeCartesianAxisScale(ke,et.p.categoryAxis.logAxisScale.objectName),this.upgradeCartesianAxisPosition(ke,et.p.categoryAxis.switchAxisPosition.objectName)),_.some(ft,function(St){return St===Ye})&&(this.upgradeCartesianAxisScale(ke,et.p.valueAxis.logAxisScale.objectName),this.upgradeCartesianAxisPosition(ke,et.p.valueAxis.switchAxisPosition.objectName)),_.some(ht,function(St){return St===Ye})&&this.upgradeCartesianSecAxisScale(ke,et.p.valueAxis.secLogAxisScale.objectName),_.some(Ge,function(St){return St===Ye})&&(this.upgradeCartesianSecAxisScale(ke,et.p.y2Axis.secLogAxisScale.objectName),this.upgradeDefaultToCircle(ke,tt.zK.legend.legendMarkerRendering.objectName)),this.featureSwitchService.featureSwitches.outlineDropdownToCheckboxes&&_.some(Le,function(St){return St===Ye})&&this.upgradeOutlineProperties(ke,Ye),this.featureSwitchService.featureSwitches.splitSubTotals&&Ye===a.D.pivotTable&&this.upgradeSubTotalsProperties(ke),this.featureSwitchService.featureSwitches.splitGrandTotals&&Ye===a.D.pivotTable&&this.upgradeTotalProperties(ke),Ye===a.D.scatterChart&&this.upgradeScatterChartFillPoint(ke)),2===Pe&&(this.featureSwitchService.featureSwitches.splitHelpTooltip&&this.upgradeVisualHeaderTooltip(ke),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(ke))},Ue.prototype.upgradeCartesianAxisScale=function(Pe,ke){var Ye=et.p.categoryAxis;this.upgradeAxisScale(Pe,ke,Ye.axisScale.propertyName,Ye.logAxisScale.propertyName)},Ue.prototype.upgradeCartesianSecAxisScale=function(Pe,ke){var Ye=et.p.valueAxis;this.upgradeAxisScale(Pe,ke,Ye.secAxisScale.propertyName,Ye.secLogAxisScale.propertyName)},Ue.prototype.upgradeVisualHeaderTooltip=function(Pe){i.fF.assertValue(Pe,"objects");var ke=Pe[Mt];if(ke&&ke.length>0)for(var Ye=0,pt=ke;Ye<pt.length;Ye++){var bt=pt[Ye].properties;if(bt&&bt[Bt]&&!bt[It]){var vt=bt[Bt],At=vt&&Xe(vt);At&&At!==ct&&(bt[It]=(0,ie.Mi)((0,o.fL)(He)))}}},Ue.prototype.upgradeSubTotalsProperties=function(Pe){i.fF.assertValue(Pe,"objects");var ke=Pe.subTotals;if(ke&&ke.length>0)for(var Ye=ke.length,pt=0;pt<Ye;pt++){var St=ke[pt],bt=St.properties,vt={properties:{}};if(bt&&!St.selector){for(var At=0,zt=Me;At<zt.length;At++){var Jt=zt[At],$t=bt[Jt.propertyName];$t&&(vt.properties[Jt.propertyName]=$t,delete bt[Jt.propertyName])}_.isEmpty(vt.properties)||(ke.push((0,Ne.__assign)((0,Ne.__assign)({},vt),{selector:{id:"Column"}})),ke.push((0,Ne.__assign)((0,Ne.__assign)({},vt),{selector:{id:"Row"}})))}}},Ue.prototype.upgradeVisualLink=function(Pe){if(this.featureSwitchService.featureSwitches.useModernFormatPane){i.fF.assertValue(Pe,"objects");var ke=Pe[jt];if(ke&&ke.length>0)for(var Ye=0,pt=ke;Ye<pt.length;Ye++){var bt=pt[Ye].properties;if(bt&&bt[Kt]){var vt=bt[Kt],At=vt&&Xe(vt),zt=(0,ie.Xv)(At);bt[Yt]=(0,ie.Mi)((0,o.O7)(zt)),delete bt[Kt]}}}},Ue.prototype.upgradeOutlineProperties=function(Pe,ke){i.fF.assertValue(Pe,"objects");for(var pt=0,St=this.getPropertiesToUpgrade(ke);pt<St.length;pt++){var bt=St[pt],At=bt.propertyName,zt=Pe[bt.objectName];if(zt&&0!==zt.length)for(var Jt=0,$t=zt;Jt<$t.length;Jt++){var rr=$t[Jt].properties;if(rr&&rr[At]){var cr=Xe(rr[At]),br=(0,ie.s8)(cr);rr[Zt]=(0,ie.Mi)((0,o.cA)(br)),delete rr[At]}}}},Ue.prototype.upgradeTotalProperties=function(Pe){i.fF.assertValue(Pe,"objects");var ke=Pe.total;ke&&ke.length>0&&(Pe.rowTotal=_.cloneDeep(ke),Pe.columnTotal=_.cloneDeep(ke),delete Pe.total)},Ue.prototype.getPropertiesToUpgrade=function(Pe){switch(Pe){case a.D.tableEx:return or;case a.D.pivotTable:return _r;case a.D.slicer:return Pr;case a.D.filterSlicer:return mt;case a.D.multiRowCard:return Rt;default:return i.fF.assertFail("unexpected visual type"),[]}},Ue.prototype.upgradeDefaultToCircle=function(Pe,ke){var Ye=Pe[ke],pt="defaultToCircle",St=tt.zK.legend.legendMarkerRendering.propertyName;if(Ye&&Ye.length>0){var bt=Ye[0].properties;if(bt&&bt[pt]){var vt=void 0;bt[St]&&(vt=Xe(bt[St]));var At=Xe(bt[pt]);vt!==xe._.markerOnly&&vt||At?vt===xe._.markerOnly&&At&&(bt[St]=(0,ie.Mi)((0,o.fL)(xe._.markerCircleDefault))):bt[St]=(0,ie.Mi)((0,o.fL)(xe._.markerOnly)),delete bt[pt]}}},Ue.prototype.upgradeAxisScale=function(Pe,ke,Ye,pt){var St=Pe[ke];if(St&&St.length>0){var bt=St[0].properties;if(bt&&bt[Ye]){var vt=Xe(bt[Ye]),At=(0,ie.Dq)(vt);bt[pt]=(0,ie.Mi)((0,o.O7)(At)),delete bt[Ye]}}},Ue.prototype.upgradeCartesianAxisPosition=function(Pe,ke){i.fF.assertValue(Pe,"objects");var Ye=Pe[ke],pt=et.p.categoryAxis.position.propertyName,St=et.p.categoryAxis.switchAxisPosition.propertyName;if(Ye&&Ye.length>0){var bt=Ye[0].properties;if(bt&&bt[pt]){var vt=Xe(bt[pt]),At=(0,ie.QK)(vt);bt[St]=(0,ie.Mi)((0,o.O7)(At)),delete bt[pt]}}},Ue.prototype.upgradeScatterChartFillPoint=function(Pe){i.fF.assertValue(Pe,"objects");var ke=Pe.fillPoint;if(ke&&ke.length>0)for(var Ye=0,pt=ke;Ye<pt.length;Ye++){var St=pt[Ye];if(!St.selector){var bt=St.properties;if(bt&&bt.show){var vt=Xe(bt.show),At=(0,ie.fw)(vt);bt.style=(0,ie.Mi)((0,o.fL)(At)),delete bt.show}}}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_31},Ue}();function Xe(Ue){return m.ib.deserializeExpr(Ue.expr).value}var Me=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],He="Canvas",ct="none",Mt="visualHeaderTooltip",It="type",Bt="section",jt="visualLink",Kt="suppressDefaultTooltip",Yt="showDefaultTooltip",Zt="outlineStyle",or=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],_r=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],Pr=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],mt=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Rt=[{objectName:"card",propertyName:"outline"}];function Xt(Ue){return new ar(Ue)}var dr=[a.D.areaChart,a.D.lineChart,a.D.lineClusteredColumnComboChart,a.D.lineStackedColumnComboChart,a.D.scatterChart,a.D.stackedAreaChart],ar=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||1===Pe&&_.some(dr,function(St){return St===Ye})&&this.upgradeCartesianAxisScale(ke,et.p.categoryAxis.logAxisScale.objectName)},Ue.prototype.upgradeCartesianAxisScale=function(Pe,ke){var Ye=et.p.categoryAxis;this.upgradeAxisScale(Pe,ke,Ye.axisScale.propertyName,Ye.logAxisScale.propertyName)},Ue.prototype.upgradeAxisScale=function(Pe,ke,Ye,pt){var St=Pe[ke];if(St&&St.length>0){var bt=St[0].properties;if(bt)if(bt[pt]&&bt[Ye])delete bt[Ye];else if(bt[Ye]){var vt=function(Ue){return m.ib.deserializeExpr(Ue.expr).value}(bt[Ye]),At=(0,ie.Dq)(vt);bt[pt]=(0,ie.Mi)((0,o.O7)(At)),delete bt[Ye]}}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_33},Ue}();function Cr(Ue){return new pr(Ue)}var pr=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(Pe)},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_38},Ue.prototype.upgradeDrillthroughTargetRegularSections=function(Pe){var ke;if(!_.isEmpty(null==Pe?void 0:Pe.sections)&&!_.isEmpty(Pe.pods)){for(var Ye={},pt=0,St=Pe.pods;pt<St.length;pt++){var bt=St[pt],vt=bt.boundSection;if(!_.isEmpty(vt)&&!Ye[vt]&&1===bt.type&&!(0,Y.g)(bt.parameters)){var At=(0,t.K)(bt.parameters);_.some(At,function(vr){return!!vr.fieldExpr})&&(Ye[bt.boundSection]=!0)}}for(var zt=0,Jt=Pe.sections;zt<Jt.length;zt++){var $t=Jt[zt],qt=null===(ke=$t.config)||void 0===ke?void 0:ke.type;(null==qt||0===qt)&&Ye[$t.name]&&($t.config||($t.config={}),$t.config.type=2)}}},Ue}(),Br=[a.D.barChart,a.D.clusteredBarChart,a.D.hundredPercentStackedBarChart],Or=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){var St=et.p.categoryAxis;if(1===Pe&&_.some(Br,function(zt){return zt===Ye})){var bt=ke[St.concatenateLabels.objectName];_.isEmpty(bt)&&(ke[St.concatenateLabels.objectName]=[{properties:{}}],bt=ke[St.concatenateLabels.objectName]);var vt=bt[0].properties,At=vt[St.concatenateLabels.propertyName];At&&At.expr?At.expr.Literal.Value="true":vt[St.concatenateLabels.propertyName]=(0,ie.Mi)((0,o.O7)(!0))}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_42},Ue}(),Kr=[a.D.lineChart,a.D.areaChart,a.D.stackedAreaChart,a.D.lineStackedColumnComboChart,a.D.lineClusteredColumnComboChart],Ur=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){if(1===Pe&&_.some(Kr,function(Jt){return Jt===Ye})){var St=ke.lineStyles;if(St&&!_.isEmpty(St))for(var bt=0,vt=St;bt<vt.length;bt++){var At=vt[bt];if(At){var zt=At.properties.stepped;zt&&zt.expr&&"true"===zt.expr.Literal.Value&&(At.properties.lineChartType=(0,ie.Mi)((0,o.fL)("step")),delete At.properties.stepped)}}}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_46},Ue}(),hr=r(663406),Rr=r(51033);function Tt(Ue){return new Ut(Ue)}var Ut=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){this.featureSwitchService.featureSwitches.azureMapsBubbleSizeRevamp&&ke&&1===Pe&&Ye===a.D.azureMap&&this.upgradeAzureMapsVisual(ke)},Ue.prototype.upgradeAzureMapsVisual=function(Pe){var ke=hr.MC.bubbleLayer.markerRangeType,Ye=ke.objectName,pt=ke.propertyName,St=Pe[Ye];_.isEmpty(St)&&(Pe[Ye]=[{properties:{}}],St=Pe[Ye]);for(var bt=0,vt=St;bt<vt.length;bt++){var At=vt[bt];null!=At&&At.properties&&(At.properties[pt]=(0,ie.Mi)((0,o.fL)(Rr.Dl.deprecated)))}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_48},Ue}(),lt=function(){function Ue(){}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){ke&&1===Pe&&([a.D.barChart,a.D.columnChart,a.D.hundredPercentStackedBarChart,a.D.hundredPercentStackedColumnChart,a.D.ribbonChart,a.D.stackedAreaChart,a.D.lineStackedColumnComboChart,a.D.lineClusteredColumnComboChart].includes(Ye)&&Ue.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},ke),[a.D.ribbonChart].includes(Ye)&&(Ue.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},ke),Ue.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},ke),Ue.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},ke),Ue.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},ke)))},Ue.updatePropertyName=function(Pe,ke,Ye){var pt=Ye[Pe.objectName];if(pt&&0!==pt.length)for(var St=0,bt=pt;St<bt.length;St++){var At=bt[St].properties[Pe.propertyName];if(At)return void(Ue.getObject(Ye,ke.objectName)[0].properties[ke.propertyName]=At)}},Ue.getObject=function(Pe,ke){var Ye=Pe[ke];return _.isEmpty(Ye)&&(Pe[ke]=[{properties:{}}],Ye=Pe[ke]),Ye},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_49},Ue}(),yt=r(456535),Ft=r(318220),er_propertyName="dynamicLabelValue";function nr(Ue){return new Dr(Ue)}var Dr=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){ke&&1===Pe&&this.featureSwitchService.featureSwitches.labelEnhancementsM0&&([Ft.L.hundredPercentStackedBarChart.name,Ft.L.hundredPercentStackedColumnChart.name].includes(Ye)&&this.update100StackedProperties(ke),u.M58.includes(Ye)&&this.updateDynamicLabelProperties(ke))},Ue.prototype.updateDynamicLabelProperties=function(Pe){var ke=Pe.labels;if(!_.isEmpty(ke)&&function(Ue){return Ue.some(function(Pe){return Pe.properties.showDynamicLabels||Pe.properties[er_propertyName]})}(ke)){var Ye=ke.find(function(At){return At.properties.showDynamicLabels&&!At.selector}),pt=Dt(null==Ye?void 0:Ye.properties.showDynamicLabels),St=ke.find(function(At){return At.properties[er_propertyName]&&At.selector&&!At.selector.metadata}),bt=nt(null==St?void 0:St.properties[er_propertyName]);pt&&!bt&&Ye&&(Ye.properties.enableValueDataLabel=(0,ie.Mi)((0,o.O7)(!1))),!pt&&bt&&(null==St||delete St.properties[er_propertyName]),ke.some(function(At){return At.selector&&At.selector.metadata})&&this.updatePropertiesForMultiStaticSeries(ke,pt,bt),this.deleteInvalidProperties(ke),Pe.labels=ke.filter(function(At){return!_.isEmpty(At.properties)})}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_50},Ue.prototype.update100StackedProperties=function(Pe){var ke=Pe.labels;if(ke){var Ye=ke.find(function(Jt){return!Jt.selector&&Dt(null==Jt?void 0:Jt.properties.showDynamicLabels)}),pt=ke.find(function(Jt){return Jt.selector&&!Jt.selector.metadata&&nt(null==Jt?void 0:Jt.properties[er_propertyName])});if(Ye&&pt)Ye.properties.enableValueDataLabel=(0,ie.Mi)((0,o.O7)(!0)),Ye.properties.enableDetailDataLabel=(0,ie.Mi)((0,o.O7)(!1));else for(var St=0,bt=ke;St<bt.length;St++){var vt=bt[St];vt.properties.enableValueDataLabel=(0,ie.Mi)((0,o.O7)(!1)),vt.properties.enableDetailDataLabel=(0,ie.Mi)((0,o.O7)(!0)),vt.properties.detailContentType=(0,ie.Mi)((0,o.fL)("Percent of total"));var At={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var zt in At)vt.properties[zt]&&(vt.properties[At[zt]]=vt.properties[zt],delete vt.properties[zt])}}},Ue.prototype.updatePropertiesForMultiStaticSeries=function(Pe,ke,Ye){for(var pt,St=function($t){if(null===(pt=$t.selector)||void 0===pt||!pt.metadata||_.isEmpty($t.properties))return"continue";var qt=void 0;if($t.properties.showDynamicLabels){var rr=Dt($t.properties.showDynamicLabels),vr=Pe.find(function(cr){var br,Mr;return(null===(br=cr.selector)||void 0===br?void 0:br.metadata)&&cr.selector.metadata===(null===(Mr=$t.selector)||void 0===Mr?void 0:Mr.metadata)&&cr.properties[er_propertyName]});vr&&(qt=nt(vr.properties[er_propertyName])),rr?bt.updatePropertiesIfSeriesDynamicLabelEnabled($t,qt,Ye):!1===rr&&bt.updatePropertiesIfSeriesDynamicLabelDisabled($t,vr,qt,rr,Ye)}},bt=this,vt=0,At=Pe;vt<At.length;vt++)St(At[vt])},Ue.prototype.updatePropertiesIfSeriesDynamicLabelEnabled=function(Pe,ke,Ye){ke&&(Pe.properties.enableValueDataLabel=(0,ie.Mi)((0,o.O7)(!0))),(!1===ke||!ke&&!Ye)&&(Pe.properties.enableValueDataLabel=(0,ie.Mi)((0,o.O7)(!1)))},Ue.prototype.updatePropertiesIfSeriesDynamicLabelDisabled=function(Pe,ke,Ye,pt,St){Ye&&ke&&delete ke.properties[er_propertyName],!Ye&&!St&&(Pe.properties.enableValueDataLabel=(0,ie.Mi)((0,o.O7)(!0)))},Ue.prototype.deleteInvalidProperties=function(Pe){if(!_.isEmpty(Pe))for(var ke=0,Ye=Pe;ke<Ye.length;ke++){var pt=Ye[ke];pt.properties.showDynamicLabels&&delete pt.properties.showDynamicLabels,pt.properties[er_propertyName]&&ae(pt.properties[er_propertyName])&&delete pt.properties[er_propertyName]}},Ue}();function Dt(Ue){if(null!=Ue&&Ue.expr)return m.ib.deserializeExpr(Ue.expr).value}function nt(Ue){if(null==Ue||!Ue.expr)return!1;var Pe=m.ib.deserializeExpr(Ue.expr);return(0,yt.kb)(Pe)||(0,yt.iV)(Pe)}function ae(Ue){if(null==Ue||!Ue.expr)return!1;var Pe=m.ib.deserializeExpr(Ue.expr);return(0,yt.VC)(Pe)}function dt(Ue){return new Pt(Ue)}var Pt=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){var St;if(ke&&1===Pe){if(this.featureSwitchService.featureSwitches.cardVisualRefUpdate&&Ye===Ft.L.cardVisual.name){var bt=ke.referenceLabelDetail;if(_.isEmpty(bt))return;for(var zt,vt=function(qt){var rr=bt[qt];if(_.isEmpty(rr))return zt=qt,"continue";if(At.isValidMetadataOnlySelector(rr.selector)){var vr=null===(St=rr.properties)||void 0===St?void 0:St.detailValue;if(vr){var cr=(0,Ne.__assign)((0,Ne.__assign)({},rr.selector),{data:[{dataViewWildcard:{matchingOption:0}}]}),br=_.find(bt,function(Mr){return _.isEqual(Mr.selector,cr)});br&&br.properties?br.properties.detailValue=vr:bt.push({properties:{detailValue:vr},selector:cr}),delete rr.properties.detailValue,_.isEmpty(rr.properties)&&(bt.splice(qt,1),qt--)}}zt=qt},At=this,Jt=0;Jt<bt.length;Jt++)vt(Jt),Jt=zt}this.featureSwitchService.featureSwitches.labelEnhancementsM0&&u.M58.includes(Ye)&&this.updateDynamicLabelProperties(ke)}},Ue.prototype.isValidMetadataOnlySelector=function(Pe){return Pe&&!_.isEmpty(Pe.id)&&!_.isEmpty(Pe.metadata)&&_.isEmpty(Pe.data)},Ue.prototype.updateDynamicLabelProperties=function(Pe){var ke=Pe.labels;if(!_.isEmpty(ke)&&function(Ue){return Ue.some(function(Pe){return Pe.properties.dynamicLabelValue})}(ke)){var Ye=ke.filter(function(vt){var At;return vt.properties.dynamicLabelValue&&!(null!==(At=null==vt?void 0:vt.selector)&&void 0!==At&&At.data)});if(!_.isEmpty(Ye))for(var pt=0,St=Ye;pt<St.length;pt++){var bt=St[pt];null==bt||delete bt.properties.dynamicLabelValue}Pe.labels=ke.filter(function(vt){return!_.isEmpty(vt.properties)})}},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return u.H3n.v5_51},Ue}(),ir=r(939942),yr=r(707903);function wr(Ue){return new Er(Ue)}var Er=function(){function Ue(Pe){this.featureSwitchService=Pe}return Ue.prototype.upgrade=function(Pe){var ke;null!==(ke=this.featureSwitchService.featureSwitches)&&void 0!==ke&&ke.lineExtStyles&&this.resolveShadeArea(Pe)},Ue.prototype.upgradeVisualObjects=function(Pe,ke,Ye,pt){var St,bt;if(ke&&1===Pe&&this.featureSwitchService.featureSwitches.matrixLayouts&&Ye===Ft.L.pivotTable.name){var vt=_.find(ke.rowHeaders,function($t){return _.isEmpty($t.selector)});if(_.isEmpty(vt))return;var At=null===(St=vt.properties)||void 0===St?void 0:St.stepped,zt=_.find(ke.subTotals,function($t){return _.isEmpty($t.selector)}),Jt=null===(bt=null==zt?void 0:zt.properties)||void 0===bt?void 0:bt.rowSubtotalsPosition;Ar(At)?Lr(ke,ir.t.Compact):Ar(Jt)===yr.we?Lr(ke,ir.t.Outline):Lr(ke,ir.t.Tabular),void 0!==At&&delete vt.properties.stepped,ke.rowHeaders=_.filter(ke.rowHeaders,function($t){return!_.isEmpty(null==$t?void 0:$t.properties)}),_.isEmpty(ke.rowHeaders)&&delete ke.rowHeaders}},Ue.prototype.resolveShadeArea=function(Pe){var ke,Ye,pt,St,bt,vt,At,zt,Jt;if(Pe&&!_.isEmpty(Pe.sections))for(var $t=0,qt=Pe.sections;$t<qt.length;$t++)for(var vr=function(xr){var Fr=null===(ke=null==xr?void 0:xr.config)||void 0===ke?void 0:ke.singleVisual;if(!Fr)return"continue";if(![a.D.lineStackedColumnComboChart,a.D.lineClusteredColumnComboChart].includes(null==Fr?void 0:Fr.visualType))return"continue";var Hr=null===(Ye=Fr.projections)||void 0===Ye?void 0:Ye.Y2;if(_.isEmpty(Hr))return"continue";var Ot=null===(pt=Fr.objects)||void 0===pt?void 0:pt.lineStyles;if(_.isEmpty(Ot))return"continue";var Ee=void 0,Vt={};Hr.forEach(function(Ci){Vt[Ci.queryRef]=void 0});for(var wt=!1,rt=!1,xt=0,_t=Ot;xt<_t.length;xt++){var Ht=null===(St=(Wt=_t[xt]).properties)||void 0===St?void 0:St.shadeArea;Ht&&(Wt.properties.areaShow=_.cloneDeep(Ht)),Wt.selector?Ht&&(Vt[Wt.selector.metadata]=Ht,wt||(wt="true"===(null===(vt=null===(bt=null==Ht?void 0:Ht.expr)||void 0===bt?void 0:bt.Literal)||void 0===vt?void 0:vt.Value))):(rt=!0,Ht&&(Ee=Ht))}if("true"===(null===(zt=null===(At=null==Ee?void 0:Ee.expr)||void 0===At?void 0:At.Literal)||void 0===zt?void 0:zt.Value)||!wt)return"continue";rt||Ot.push({properties:{}});for(var Tr=0,ti=Ot;Tr<ti.length;Tr++){var Wt;(Wt=ti[Tr]).selector?(Wt.properties||(Wt.properties={}),Wt.properties.areaShow||(Wt.properties.areaShow={expr:{Literal:{Value:"false"}}},Vt[Wt.selector.metadata]=Wt.properties.areaShow)):((Jt=Wt.properties).areaShow||(Jt.areaShow={}),Wt.properties.areaShow.expr={Literal:{Value:"true"}})}for(var Xr=0,ri=Object.entries(Vt);Xr<ri.length;Xr++){var ni=ri[Xr];ni[1]||Ot.push({properties:{areaShow:{expr:{Literal:{Value:"false"}}}},selector:{metadata:ni[0]}})}},cr=0,br=qt[$t].visualContainers;cr<br.length;cr++)vr(br[cr])},Ue.prototype.upgradeFilterCollection=function(){},Ue.prototype.getVersion=function(){return i.fF.assert(function(){return u.WA9===u.Hg9},"This upgrader covers both features. If features get different release versions, we should get an error."),u.H3n.v5_53},Ue}();function Ar(Ue){if(Ue&&"expr"in Ue)return m.ib.deserializeExpr(Ue.expr).value}function Lr(Ue,Pe){Ue.general||(Ue.general=[{properties:{}}]),Ue.general[0].properties.layout=(0,ie.Mi)((0,o.fL)(Pe))}function $e(Ue){return new gt(Ue)}var gt=function(){function Ue(Pe){this.versionUpgraders=[new d,new E,new P,new N,new A,new Ae,new w,L(Pe),new O,new j,new te,(0,Q.ps)(),(0,H.ps)(Pe),new pe,new Z,new ye,new X,new Ze,qe(Pe),new Fe,J(Pe),he(Pe),new fe,Ve(Pe),Xt(Pe),Cr(Pe),new Or,new Ur,Tt(Pe),new lt,nr(Pe),dt(Pe),wr(Pe)],this.objectsUpgrader=(0,s.U)(this.versionUpgraders)}return Ue.prototype.upgrade=function(Pe,ke,Ye,pt){if(this.upgradeElement(Pe,ke,Ye,function(bt,vt,At){return bt.upgrade(vt,At)},pt)){var St=Pe;return this.upgradeVisualObjects(St,Pe.config.version),Pe.config.version=p.t,St}},Ue.prototype.upgradeFilterCollection=function(Pe,ke,Ye){if(this.upgradeElement(Pe,ke,Ye,function(pt,St){return pt.upgradeFilterCollection(St)}))return Pe.config.version=p.t,Pe},Ue.prototype.getVersionUpgraders=function(){return this.versionUpgraders},Ue.prototype.upgradeElement=function(Pe,ke,Ye,pt,St){i.fF.assertValue(Pe,"element"),i.fF.assert(function(){return ke&&_.isEmpty(ke)},"errors should be defined and empty"),i.fF.assertValue(pt,"runUpgrade");var bt=this.getVersionedElementConfig(Pe),vt=bt.version&&_.isString(bt.version)?bt.version:c.aD;if((0,c.gt)(vt,p.t)){if(ke.push({errorType:0}),!Ye)return}else for(var At=0,zt=this.versionUpgraders;At<zt.length;At++){var Jt=zt[At],$t=Jt.getVersion();((0,c.lt)($t,"2.2")||(0,c.gt)($t,vt))&&(pt(Jt,Pe,vt),St&&St.upgraderCount++)}return Pe},Ue.prototype.upgradeVisualObjects=function(Pe,ke){ke=ke||c.aD;var Ye=Pe&&Pe.sections;if(Ye)for(var pt=0,St=Ye;pt<St.length;pt++){var bt=St[pt],vt=bt&&bt.visualContainers;if(!vt)return;for(var At=0,zt=vt;At<zt.length;At++){var Jt=zt[At],$t=Jt&&Jt.config&&Jt.config.singleVisual;if($t){var qt=$t.visualType,rr=$t.vcObjects;rr&&this.objectsUpgrader.upgrade(2,rr,qt,ke);var vr=$t.objects;vr&&this.objectsUpgrader.upgrade(1,vr,qt,ke)}}}},Ue.prototype.getVersionedElementConfig=function(Pe){return _.isString(Pe.config)&&(Pe.config=(0,t.K)(Pe.config),i.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),Pe.config||(Pe.config={version:c.aD},i.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),Pe.config},Ue}()},89858:function(ze,K,r){r.d(K,{$IK:function(){return Q},$Tv:function(){return ot},$gq:function(){return Lr},$qz:function(){return Dr},$tC:function(){return oe},Awj:function(){return H},C7j:function(){return Ci},Cc1:function(){return mt},Eo9:function(){return ut},F1S:function(){return w},FL3:function(){return ie},GwY:function(){return Ti},H3n:function(){return x},H_y:function(){return $i},Hg9:function(){return Oi},IwG:function(){return Ur},KQG:function(){return yr},KQq:function(){return na},Kkx:function(){return Y},LlV:function(){return ra},M58:function(){return Gr},NsA:function(){return Te},P_5:function(){return xa},RrR:function(){return Z},TQL:function(){return nt},U$u:function(){return z},UAC:function(){return jt},UCJ:function(){return Kt},Upn:function(){return Ce},VFg:function(){return yt},VRY:function(){return pa},VSH:function(){return We},VTu:function(){return Ye},WA9:function(){return Wi},WL3:function(){return U},WWC:function(){return qr},XRk:function(){return Ct},XVx:function(){return Mt},Xfb:function(){return nr},YA8:function(){return xe},aWu:function(){return pt},bFC:function(){return Ve},ckf:function(){return Gi},dKN:function(){return xt},eGA:function(){return oa},elY:function(){return Ri},faH:function(){return J},fke:function(){return fe},ftA:function(){return G},g3O:function(){return O},gMq:function(){return zi},hCh:function(){return Ji},hGr:function(){return F},htK:function(){return te},iXZ:function(){return Ke},iuU:function(){return q},jJX:function(){return _e},kJo:function(){return $e},kdg:function(){return Ie},m5F:function(){return _r},m7e:function(){return le},np7:function(){return He},nue:function(){return Yt},oq_:function(){return pe},pj3:function(){return zt},q0O:function(){return Yi},q4D:function(){return j},qdh:function(){return De},qq3:function(){return L},rAF:function(){return W},sE2:function(){return ne},tCF:function(){return ta},tji:function(){return ia},ugh:function(){return Zt},ukM:function(){return tt},v0X:function(){return ha},vqL:function(){return Me},x7c:function(){return de},xSu:function(){return re},yfQ:function(){return me},z1y:function(){return X}});var t=r(226514),c=r(456535),i=r(460564),s=r(693825),p=r(464925),V=r(465829),m=r(36623),v=r(345563),e=r(600348),h=r(346816),n=r(244945),o=r(771803),u=r(210770),a=r(51033),l=r(759510),d=r(14083),b=r(787941),f=r(989516),g=r(499995),S=r(668268),y=r(324356),C=r(116170),E=r(60495),D=r(939141),P=r(822311),M=r(160046),T=r(861089),R=r(793688),B=r(764830),N=r(849),x={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50",v5_51:"5.51",v5_52:"5.52",v5_53:"5.53"},A={};A[41]=x.v3_5,A[42]=x.v3_7,A[33]=x.v3_8;var I=function(Sr){function lr(mr){var fr=Sr.call(this)||this;return fr.highestVersion=mr,fr}return(0,t.__extends)(lr,Sr),lr.prototype.visitAllRolesRef=function(mr){this.highestVersion=(0,s.Fp)(this.highestVersion,x.v5_1),Sr.prototype.visitAllRolesRef.call(this,mr)},lr.prototype.visitRangePercent=function(mr){this.highestVersion=(0,s.Fp)(this.highestVersion,x.v5_1),Sr.prototype.visitRangePercent.call(this,mr)},lr.prototype.visitArithmetic=function(mr){(0,c.g5)(mr.right)||(this.highestVersion=(0,s.Fp)(this.highestVersion,x.v5_15)),Sr.prototype.visitArithmetic.call(this,mr)},lr.prototype.visitSparklineData=function(mr){this.highestVersion=(0,s.Fp)(this.highestVersion,rr),Sr.prototype.visitSparklineData.call(this,mr)},lr}(C.PA),w=function(){function Sr(){}return Sr.getVersionForSQExpr=function(lr){b.fF.assertValue(lr,"expr should exist to get its version");var mr=A[lr.kind]||s.aD,fr=new I(mr);return lr.accept(fr),fr.highestVersion},Sr.getVersionForSQExprWithDescriptor=function(lr,mr){b.fF.assertValue(lr,"expr should exist to get its version"),b.fF.assertAnyValue(mr,"typeDescriptor can be undefined in an unloaded custom visual");var fr=this.getVersionForSQExpr(lr);return mr&&mr.fill&&mr.fill.solid&&mr.fill.solid.color&&(fr=(0,s.Fp)(fr,this.getVersionForFillDefinition(lr))),fr},Sr.getVersionForFillDefinition=function(lr){if(b.fF.assertValue(lr,"expr should exist to get its version"),(0,c.Tu)(lr)&&lr.input&&!(0,c.NH)(lr.input))return ce;if((0,c.Gs)(lr)){var mr=function(Wr){return(0,c.$Q)(Wr)&&!(0,c.NH)(Wr.left)};if(_.some(lr.cases,function(Nr){return Nr.condition.isOrdinalEvaluation()}))return Ni;if(_.some(lr.cases,function(Nr){return!!(mr(Wr=Nr.condition)||(0,c.un)(Wr)&&(mr(Wr.left)||mr(Wr.right)));var Wr}))return ce}return(0,c.kb)(lr)||(0,c.iV)(lr)?je:s.aD},Sr.getVersionForSortDefinitions=function(lr){if(!_.isEmpty(lr))for(var mr=0,fr=lr;mr<fr.length;mr++)if((0,c.g5)(fr[mr].expr))return x.v5_23;return s.aD},Sr.getVersionForVisualContainerGroup=function(lr){return lr.objects&&void 0!==lr.objects.lockAspect?er:Ve},Sr}(),F=x.v3_6,O=x.v3_6,L=x.v3_7,W=x.v3_8,U=x.v3_8,j=x.v3_8,z=x.v3_8,G=x.v3_9,te=x.v3_10,Q=x.v3_11,H=x.v3_11,de=x.v3_12,Y=x.v3_13,se=x.v3_13,ce=x.v3_14,pe=x.v3_14,ve=x.v3_15,De=x.v3_15,We=x.v3_17,je=x.v3_17,_e=x.v3_18,le=x.v3_19,Z=x.v3_20,ie=x.v3_20,me=x.v3_20,ye=x.v3_20,oe=x.v3_20,X=x.v3_20,Se=x.v3_21,Be=x.v3_21,Ke=x.v3_22,qe=x.v3_22,it=x.v3_22,be=x.v3_23,Fe=x.v3_23,ee=x.v3_23,k=x.v3_23,Ce=x.v3_23,J=x.v3_23,re=x.v3_24,Ie=x.v3_24,ot=x.v3_24,we=x.v4_0,he=x.v4_2,Te=x.v4_2,Oe=x.v4_2,Je=x.v4_2,fe=x.v4_2,ne=x.v4_2,Ne=x.v5_0,et=x.v5_1,tt=x.v5_2,xe=x.v5_2,Ve=x.v5_2,Le=x.v5_3,at=x.v5_3,ft=x.v5_3,ht=x.v5_4,Ge=x.v5_5,Re=x.v5_6,Xe=x.v5_7,Me=x.v5_8,He=x.v5_8,ct=x.v5_8,Mt=x.v5_8,It=x.v5_8,Bt=x.v5_9,jt=x.v5_9,Kt=x.v5_9,Yt=x.v5_9,Zt=x.v5_9,or=x.v5_9,_r=x.v5_10,Pr=x.v5_10,mt=x.v5_11,Rt=x.v5_11,Xt=x.v5_12,dr=x.v5_12,ar=x.v5_13,gr=x.v5_13,Cr=x.v5_13,pr=x.v5_14,Br=x.v5_14,Ir=x.v5_14,Kr=x.v5_15,zr=x.v5_15,Ur=x.v5_15,hr=x.v5_15,Rr=x.v5_15,Ut=x.v5_16,Et=x.v5_16,Ct=x.v5_16,Nt=x.v5_16,st=x.v5_16,lt=x.v5_16,ut=x.v5_17,yt=x.v5_18,Ft=x.v5_18,Lt=x.v5_18,kt=x.v5_19,Gt=x.v5_19,er=x.v5_19,sr=x.v5_19,tr=x.v5_20,nr=x.v5_20,Dr=x.v5_20,Dt=x.v5_20,nt=x.v5_21,ae=x.v5_21,q=x.v5_22,Qe=x.v5_22,dt=x.v5_22,Pt=x.v5_22,Qt=x.v5_22,ir=x.v5_22,yr=x.v5_23,ur=x.v5_23,wr=x.v5_23,Er=x.v5_24,Ar=x.v5_24,Lr=x.v5_24,$e=x.v5_24,gt=x.v5_25,Ue=x.v5_25,Pe=x.v5_25,ke=x.v5_26,Ye=x.v5_26,pt=x.v5_27,St=x.v5_27,bt=x.v5_27,vt=x.v5_27,At=x.v5_27,zt=x.v5_27,Jt=x.v5_28,$t=x.v5_28,qt=x.v5_28,rr=x.v5_28,cr=x.v5_30,br=x.v5_30,Mr=x.v5_31,jr=x.v5_31,xr=x.v5_31,Fr=x.v5_31,Jr=x.v5_31,Hr=x.v5_31,Ot=x.v5_31,Ee=x.v5_31,Vt=x.v5_31,rt=x.v5_31,xt=x.v5_32,_t=x.v5_33,Wt=x.v5_33,Ht=x.v5_33,Vr=x.v5_33,Tr=x.v5_34,ti=x.v5_34,Xr=x.v5_34,ri=x.v5_34,ni=x.v5_34,_i=x.v5_34,ii=x.v5_35,Ci=x.v5_36,Ti=x.v5_36,bi=x.v5_37,Ui=x.v5_39,Vi=x.v5_39,xi=x.v5_40,Ei=x.v5_40,Di=x.v5_40,mi=x.v5_41,Ai=x.v5_41,Pi=x.v5_41,Ni=x.v5_41,ui=x.v5_41,wi=x.v5_42,ci=x.v5_42,Ri=x.v5_43,Hi=x.v5_44,Gi=x.v5_44,Mi=x.v5_44,ua=x.v5_44,ca=x.v5_46,Ii=x.v5_46,Qi=x.v5_47,Xi=x.v5_48,di=x.v5_49,da=x.v5_49,Qr=x.v5_50,Ji=x.v5_50,Yi=x.v5_50,yi=x.v5_50,$i=x.v5_51,Zi=x.v5_51,gi=x.v5_51,qi=x.v5_52,ea=x.v5_52,Wi=x.v5_53,Oi=x.v5_53,fa=R.t,Li=R.t,ta=R.t,oi=R.t,ra=R.t,pa=R.t,ia=R.t,ji=R.t,aa=[[B.xm,x.v5_29],[B.wh,x.v5_30],[B.LL,x.v5_31],[B.Ny,x.v5_32],[B.M5,x.v5_33],[B.zW,x.v5_34],[B.RT,x.v5_35],[B.ur,x.v5_37],[B.I8,x.v5_39],[B.nx,x.v5_40],[B.eA,x.v5_41],[B.XS,x.v5_42],[B.X2,x.v5_43],[B.X2,x.v5_44],[B.$j,x.v5_45],[B.Vb,x.v5_46],[B.$K,x.v5_47],[B._b,x.v5_48],[B.ud,x.v5_49],[B.sZ,x.v5_50],[B.DG,x.v5_51],[B.aB,x.v5_52],[B.vH,x.v5_53]];function na(Sr){for(var lr=0,mr=aa;lr<mr.length;lr++){var fr=mr[lr];if(Sr===fr[0])return fr[1]}return b.fF.assertFail("No exploration version matching ".concat(Sr)),R.t}function oa(Sr){for(var lr=0,mr=aa;lr<mr.length;lr++){var fr=mr[lr];if(Sr===fr[1])return fr[0]}return b.fF.assertFail("No exploration state version matching ".concat(Sr)),T.K}var zi=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],si=[e.D.barChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.ribbonChart],fi=[e.D.clusteredBarChart,e.D.clusteredColumnChart],Fi=[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],li=[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],Sa=[e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart],qr=(0,t.__spreadArray)([],li,!0),ei=(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),si,!0),Fi,!0),ai=(0,t.__spreadArray)((0,t.__spreadArray)([],ei,!0),qr,!0),kr=(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),si,!0),Fi,!0),li,!0),[e.D.realTimeLineChart,e.D.scatterChart,e.D.waterfallChart],!1),_a=_.without(kr,e.D.realTimeLineChart,e.D.scatterChart),pi=_.without(kr,e.D.realTimeLineChart),Ca=[e.D.stackedAreaChart,e.D.columnChart,e.D.clusteredColumnChart,e.D.barChart,e.D.clusteredBarChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],va=[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],ba=((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),si,!0),li,!0),[e.D.lineChart],!1),[e.D.azureMap,e.D.filledMap,e.D.heatMap,e.D.map]),Gr=(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],si,!0),fi,!0),Fi,!0),li,!0),Va=(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([{property:{objectName:"general",propertyName:"altText"},version:x.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:x.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:function(lr){return lr.value===M.rp}},version:F},{property:{objectName:"labels",propertyName:"enableBackground"},version:x.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:x.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:x.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:x.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:x.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:x.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:x.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:x.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:x.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:x.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:x.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:function(lr){return lr.value===P.Xz}},version:de},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:x.v3_13,types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:x.v3_13,types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:x.v3_13,types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:x.v3_13,types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:function(lr){return lr.value===M.sv}},version:se},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:x.v3_14,types:[e.D.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:Ki},version:x.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:Ki},version:x.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:Ki},version:x.v3_15},{property:{objectName:"outspace",propertyName:i.p5},version:ve,types:["page"]},{property:{objectName:"visualHeader",propertyName:i.p5},version:De},{property:{objectName:"visualTooltip",propertyName:"show"},version:x.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:function(lr){return lr.value===n.w.categorical}},version:_e,types:[e.D.scatterChart]},{property:{objectName:"searchBox",propertyName:i.p5},version:x.v3_19,types:[e.D.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:Z,types:[e.D.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(lr,mr){return mr&&mr.data&&1===mr.data.length&&(0,f.qm)(mr.data[0])}},version:ie,types:zi},{property:{objectName:"filterCard",propertyName:i.p5},version:ye,types:["page"]},{property:{objectName:"outspacePane",propertyName:i.p5},version:ye,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:ye,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:ye,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:Se},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:Be,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:qe},{property:{objectName:"border",propertyName:"radius"},version:it},{property:{objectName:"visualLink",propertyName:"webUrl"},version:be},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:Fe,types:[e.D.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:ee},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:ee},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:ee},{property:{objectName:"visualTooltip",propertyName:"background"},version:ee},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:ee},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:k,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:k,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:we},{property:{objectName:"indicator",propertyName:"fontSize"},version:x.v4_1,types:[e.D.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:x.v4_1,types:[e.D.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:function(lr,mr){var Nr=lr&&lr.solid&&lr.solid.color;return!((0,c.VC)(Nr)||(0,c.wt)(Nr))}},version:he},{property:{objectName:"title",propertyName:"background",matchByContents:function(lr,mr){var Nr=lr&&lr.solid&&lr.solid.color;return!((0,c.VC)(Nr)||(0,c.wt)(Nr))}},version:he},{property:{objectName:"labels",propertyName:"color",matchByContents:function(lr,mr){var Nr=lr&&lr.solid&&lr.solid.color;return!((0,c.VC)(Nr)||(0,c.wt)(Nr))}},version:he,types:[e.D.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:function(lr,mr){var Nr=lr&&lr.solid&&lr.solid.color;return!((0,c.VC)(Nr)||(0,c.wt)(Nr))}},version:he,types:[e.D.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[e.D.pivotTable],version:x.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[e.D.pivotTable],version:x.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[e.D.pivotTable],version:x.v4_2},{property:{objectName:"total",propertyName:"label"},types:[e.D.tableEx],version:x.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:Je},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(lr,mr){return!(0,c.VC)(lr&&lr.solid&&lr.solid.color)}},version:Oe,types:[e.D.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:function(lr,mr){var Nr=lr&&lr.solid&&lr.solid.color;return!((0,c.VC)(Nr)||(0,c.wt)(Nr))}},version:Ne},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:function(lr){return!0===lr.value}},version:et},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"values",propertyName:"icon"},version:x.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[e.D.textbox],version:x.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[e.D.textbox],version:x.v5_3},{property:{objectName:"text",propertyName:"color"},types:[e.D.textbox],version:x.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:at},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:Le},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:ft,types:[e.D.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:ft,types:[e.D.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:ft,types:[e.D.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:ft,types:[e.D.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:ht,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:ht,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:Ge,types:[e.D.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:Ge,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:Ge,types:[e.D.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:Ge,types:[e.D.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:Ge,types:[e.D.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:Ge},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:Re},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:Re},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:Re},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:Re},{types:[e.D.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"goalText"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:Re},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"direction"},version:Re},{types:[e.D.kpi],property:{objectName:"period",propertyName:"show"},version:Re},{types:[e.D.kpi],property:{objectName:"period",propertyName:"fontSize"},version:Re},{types:[e.D.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:Re},{types:[e.D.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:Re},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"values",propertyName:"webURL"},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.categoryLabels,propertyName:p.hq.categoryLabelFontColor},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.categoryLabels,propertyName:p.hq.categoryLabelFontFamily},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.categoryLabels,propertyName:p.hq.categoryLabelFontSize},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataLabels,propertyName:p.hq.dataLabelFontColor},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataLabels,propertyName:p.hq.dataLabelFontFamily},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataLabels,propertyName:p.hq.dataLabelFontSize},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataLabels,propertyName:p.hq.dataLabelDisplayUnits},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataLabels,propertyName:p.hq.dataLabelPrecision},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataBars,propertyName:p.hq.dataBarBackgroundColor},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataBars,propertyName:p.hq.dataBarWidthPercent},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelHeaderBackgroundColor},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelTitleFontColor},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelTitleFontFamily},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelTitleFontSize},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelSubtitleFontColor},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelSubtitleFontFamily},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.levelSubtitleFontSize},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.levelHeader,propertyName:p.hq.showSubtitles},version:x.v5_6},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.tree,propertyName:p.hq.connectorDefaultColor},version:x.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:Xe},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:Xe},{types:[e.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:x.v5_8},{types:[e.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:x.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:It},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:It},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:It},{property:{objectName:"y2Axis",propertyName:"secStart"},version:It},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:It},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:It},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:It},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:It},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:It},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:It},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:It},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:It},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:It},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:It},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:It},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:It},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.tree,propertyName:p.hq.barsPerLevel},version:ct},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:Bt},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:Kt},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:or,types:["filter"]},{types:[e.D.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:function(lr){return lr.value===l.GV}},version:Yt},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:function(lr,mr){return void 0!==ki(mr)}},version:x.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:function(lr,mr){return void 0!==ki(mr)}},version:x.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:function(lr,mr){var fr=ki(mr);return void 0!==fr&&1!==fr}},version:x.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:function(lr,mr){var fr=ki(mr);return void 0!==fr&&1!==fr}},version:x.v5_9},{types:[e.D.actionButton],property:{objectName:"fill",propertyName:"image"},version:x.v5_10},{types:[e.D.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:x.v5_10},{types:[e.D.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:x.v5_10},{types:[e.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:x.v5_10},{types:[e.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:x.v5_10},{types:[e.D.image,e.D.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:x.v5_10},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:x.v5_10},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:x.v5_10},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:Pr},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:Pr},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:mt},{types:[e.D.map,e.D.filledMap,e.D.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:Rt},{types:[e.D.map,e.D.filledMap,e.D.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:Rt},{types:[e.D.map,e.D.filledMap,e.D.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:Rt},{types:[e.D.map,e.D.filledMap,e.D.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:Rt},{types:[e.D.filledMap],property:{objectName:"stroke",propertyName:"show"},version:Rt},{types:[e.D.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:Rt},{types:[e.D.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:Rt},{types:[e.D.textbox],property:(0,t.__assign)((0,t.__assign)({},m.RL.general.paragraphs),{matchByContents:function(lr,mr){if((0,D.Fq)(lr))for(var fr=0,Nr=lr;fr<Nr.length;fr++){var Wr=Nr[fr];if(Wr&&!_.isEmpty(Wr.textRuns))for(var Yr=0,$r=Wr.textRuns;Yr<$r.length;Yr++)if((0,E.Kt)($r[Yr]))return!0}return!1}}),version:Xt},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.tree,propertyName:p.hq.defaultClickAction},version:dr},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.tree,propertyName:p.hq.responsiveLayout},version:dr},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.tree,propertyName:p.hq.effectiveBarsPerLevel},version:dr},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataBars,propertyName:p.hq.dataBarColor},version:dr},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataBars,propertyName:p.hq.axisStart},version:dr},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.dataBars,propertyName:p.hq.axisEnd},version:dr},{types:[e.D.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:dr},{types:[e.D.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:gr},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"header",propertyName:"text"},version:Cr},{types:[e.D.barChart,e.D.columnChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:ar},{types:[e.D.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:pr},{property:{objectName:"dropShadow",propertyName:"*"},version:Br},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:Ir},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:Kr},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:zr},{property:m.RL.values.expr,types:[e.D.textbox],version:hr},{property:m.RL.values.formatString,types:[e.D.textbox],version:hr},{types:[e.D.areaChart,e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:Rr},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:Rr},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:Ut},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.show},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.transform},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.oR},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.displayName},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.markerShape},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.markerShapeSize},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.markerColor},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.confidenceBandStyle},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.transparency},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.MA.confidenceBandColor},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.CategoryValue},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.Value},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.ExpectedValue},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.ExpectedLow},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.ExpectedHigh},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.BatchStart},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.K1.BatchEnd},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.Bx},version:Et},{types:[e.D.lineChart],property:{objectName:v.xn,propertyName:v.It},version:Et},{types:[e.D.decompositionTreeVisual],property:{objectName:p.I8.insights,propertyName:p.hq.isAINode},version:st},{types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:Nt},{types:ei,property:{objectName:"subheader",propertyName:"fontFamily"},version:Ct},{types:ei,property:{objectName:"subheader",propertyName:"fontSize"},version:Ct},{types:ei,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Ct},{types:ei,property:{objectName:"subheader",propertyName:"alignment"},version:Ct},{types:ei,property:{objectName:"subheader",propertyName:"position"},version:Ct},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Ct},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Ct},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Ct},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:lt,types:[e.D.azureMap]},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Ft},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Ft},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Ft},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Ft},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Ft},{types:ei,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Ft},{types:[e.D.map,e.D.filledMap,e.D.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Lt},{types:[e.D.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:Gt},{types:ei,property:{objectName:"subheader",propertyName:"titleWrap"},version:kt},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:er},{types:[e.D.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:sr},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:tr},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:tr},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:tr},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:tr},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:tr},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:tr},{types:qr,property:{objectName:"subheader",propertyName:"fontFamily"},version:nr},{types:qr,property:{objectName:"subheader",propertyName:"fontSize"},version:nr},{types:qr,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:nr},{types:qr,property:{objectName:"subheader",propertyName:"alignment"},version:nr},{types:qr,property:{objectName:"subheader",propertyName:"position"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:nr},{types:qr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:nr},{types:qr,property:{objectName:"subheader",propertyName:"titleWrap"},version:nr},{types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:Dt},{types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart,e.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:Dt},{types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:Dt},{types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:Dt},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:nt},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:nt},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:nt},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:nt},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:x.v5_21,types:[e.D.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:x.v5_21,types:[e.D.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:x.v5_21,types:[e.D.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:x.v5_21,types:[e.D.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:x.v5_21,types:[e.D.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:x.v5_21,types:[e.D.shape]},{types:[e.D.map,e.D.filledMap,e.D.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:ae},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(lr,mr){return!mr||mr&&mr.data&&1===mr.data.length&&(0,f.qm)(mr.data[0])}},version:dt},{types:[e.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:function(lr){if(lr){var fr=lr.name;if(fr)return fr.value===d.G}return!1}},version:Qe},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:Qt},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:Qt},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:ir},{types:ai,property:{objectName:"subheader",propertyName:"show"},version:Pt},{types:ai,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:x.v5_22},{types:ai,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:x.v5_22},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.donutChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap],kr,!0),property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:ur},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.donutChart,e.D.pieChart,e.D.funnel,e.D.map,e.D.filledMap,e.D.shapeMap],pi,!0),property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:ur},{types:(0,t.__spreadArray)([e.D.donutChart,e.D.pieChart,e.D.funnel,e.D.map,e.D.filledMap,e.D.treemap],_a,!0),property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:ur},{types:Ca,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:ur},{types:[e.D.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:ur},{types:[e.D.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:ur},{types:pi,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:ur},{types:pi,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:ur},{types:pi,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:ur},{types:pi,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:ur},{types:kr,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:ur},{types:pi,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:ur},{types:pi,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:ur},{types:pi,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:ur},{types:pi,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:ur},{types:kr,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:ur},{types:va,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:ur},{types:va,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:ur},{types:[e.D.areaChart,e.D.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:ur},{types:[e.D.areaChart,e.D.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:ur},{types:[e.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:ur},{types:[e.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:ur},{types:[e.D.multiRowCard,e.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:ur},{types:[e.D.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:ur},{types:[e.D.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:ur},{types:[e.D.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:ur},{types:[e.D.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:ur},{types:[e.D.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:ur},{types:[e.D.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:ur},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:wr},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:Er,types:[e.D.shape,e.D.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Ar,types:[e.D.areaChart,e.D.columnChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineStackedColumnComboChart,e.D.lineClusteredColumnComboChart,e.D.ribbonChart,e.D.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:Ar,types:[e.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:Ar,types:[e.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:Ar,types:[e.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:Ar,types:[e.D.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:Lr},{property:{objectName:"text",propertyName:"leftMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:gt,types:[e.D.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:gt,types:[e.D.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:gt,types:[e.D.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:gt,types:[e.D.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:gt,types:[e.D.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:gt,types:[e.D.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:Ue,types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart]},{types:[e.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:Pe},{types:[e.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:ke},{types:[e.D.pageNavigator,e.D.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:pt},{types:[e.D.pageNavigator,e.D.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:pt},{property:{objectName:"slices",propertyName:"startAngle"},version:At,types:[e.D.donutChart,e.D.pieChart]},{types:[e.D.donutChart,e.D.pieChart],property:{objectName:"slices",propertyName:"borderWidth"},version:St},{types:[e.D.donutChart,e.D.pieChart],property:{objectName:"slices",propertyName:"borderColor"},version:St},{types:[e.D.donutChart,e.D.pieChart],property:{objectName:"slices",propertyName:"explode"},version:St},{types:[e.D.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:St},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.donutChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap,e.D.heatMap],kr,!0),property:{objectName:"legend",propertyName:"bold"},version:vt},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.donutChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap,e.D.heatMap],kr,!0),property:{objectName:"legend",propertyName:"italic"},version:vt},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.donutChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap,e.D.heatMap],kr,!0),property:{objectName:"legend",propertyName:"underline"},version:vt},{types:(0,t.__spreadArray)([e.D.funnel,e.D.scatterChart],kr,!0),property:{objectName:"categoryAxis",propertyName:"bold"},version:vt},{types:(0,t.__spreadArray)([e.D.funnel,e.D.scatterChart],kr,!0),property:{objectName:"categoryAxis",propertyName:"italic"},version:vt},{types:(0,t.__spreadArray)([e.D.funnel,e.D.scatterChart],kr,!0),property:{objectName:"categoryAxis",propertyName:"underline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"categoryAxis",propertyName:"titleBold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:vt},{types:(0,t.__spreadArray)([e.D.scatterChart],kr,!0),property:{objectName:"valueAxis",propertyName:"bold"},version:vt},{types:(0,t.__spreadArray)([e.D.scatterChart],kr,!0),property:{objectName:"valueAxis",propertyName:"italic"},version:vt},{types:(0,t.__spreadArray)([e.D.scatterChart],kr,!0),property:{objectName:"valueAxis",propertyName:"underline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"titleBold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"titleItalic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"secBold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"secItalic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"secUnderline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"y2Axis",propertyName:"secBold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"y2Axis",propertyName:"secItalic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"y2Axis",propertyName:"secUnderline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:vt},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.card,e.D.donutChart,e.D.funnel,e.D.gauge,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap],kr,!0),property:{objectName:"labels",propertyName:"bold"},version:vt},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.card,e.D.donutChart,e.D.funnel,e.D.gauge,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap],kr,!0),property:{objectName:"labels",propertyName:"italic"},version:vt},{types:(0,t.__spreadArray)([e.D.azureMap,e.D.card,e.D.donutChart,e.D.funnel,e.D.gauge,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap],kr,!0),property:{objectName:"labels",propertyName:"underline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"seriesLabels",propertyName:"bold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"seriesLabels",propertyName:"italic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"seriesLabels",propertyName:"underline"},version:vt},{types:[e.D.azureMap,e.D.card,e.D.multiRowCard,e.D.donutChart,e.D.scatterChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap,e.D.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:vt},{types:[e.D.azureMap,e.D.card,e.D.multiRowCard,e.D.donutChart,e.D.scatterChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap,e.D.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:vt},{types:[e.D.azureMap,e.D.card,e.D.multiRowCard,e.D.donutChart,e.D.scatterChart,e.D.pieChart,e.D.map,e.D.filledMap,e.D.shapeMap,e.D.treemap,e.D.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:vt},{types:[e.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:vt},{types:[e.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:vt},{types:[e.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:vt},{types:[e.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:vt},{types:[e.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:vt},{types:[e.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:vt},{types:[e.D.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:vt},{types:[e.D.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:vt},{types:[e.D.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:vt},{types:[e.D.gauge],property:{objectName:"target",propertyName:"bold"},version:vt},{types:[e.D.gauge],property:{objectName:"target",propertyName:"italic"},version:vt},{types:[e.D.gauge],property:{objectName:"target",propertyName:"underline"},version:vt},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:vt},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:vt},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:vt},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"bold"},version:vt},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"italic"},version:vt},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"underline"},version:vt},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:vt},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:vt},{types:[e.D.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:vt},{types:[e.D.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:vt},{types:[e.D.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:vt},{types:[e.D.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:vt},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"bold"},version:vt},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"italic"},version:vt},{types:[e.D.kpi],property:{objectName:"indicator",propertyName:"underline"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:vt},{types:[e.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"subheader",propertyName:"bold"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"subheader",propertyName:"italic"},version:vt},{types:(0,t.__spreadArray)([],kr,!0),property:{objectName:"subheader",propertyName:"underline"},version:vt},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:vt},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:vt},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:vt},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"values",propertyName:"bold"},version:vt},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"values",propertyName:"italic"},version:vt},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"values",propertyName:"underline"},version:vt},{types:[e.D.tableEx],property:{objectName:"total",propertyName:"bold"},version:vt},{types:[e.D.tableEx],property:{objectName:"total",propertyName:"italic"},version:vt},{types:[e.D.tableEx],property:{objectName:"total",propertyName:"underline"},version:vt},{types:[e.D.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:vt},{types:[e.D.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:vt},{types:[e.D.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:vt},{types:[e.D.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:vt},{types:[e.D.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:vt},{types:[e.D.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:vt},{types:[e.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:vt},{types:[e.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:vt},{types:[e.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:vt},{types:[e.D.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:vt},{types:[e.D.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:vt},{types:[e.D.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:vt},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:vt},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:vt},{types:[e.D.barChart,e.D.columnChart,e.D.lineStackedColumnComboChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:vt},{types:[e.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:vt},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:vt},{property:{objectName:"title",propertyName:"bold"},version:vt},{property:{objectName:"title",propertyName:"italic"},version:vt},{property:{objectName:"title",propertyName:"underline"},version:vt},{property:{objectName:"visualTooltip",propertyName:"bold"},version:vt},{property:{objectName:"visualTooltip",propertyName:"italic"},version:vt},{property:{objectName:"visualTooltip",propertyName:"underline"},version:vt},{types:[e.D.textbox],property:(0,t.__assign)((0,t.__assign)({},m.RL.general.paragraphs),{matchByContents:function(lr,mr){if((0,D.Fq)(lr))for(var fr=0,Nr=lr;fr<Nr.length;fr++){var Wr=Nr[fr];if(Wr&&!_.isEmpty(Wr.listType))return!0}return!1}}),version:bt},{types:[e.D.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"show"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:$t},{types:[e.D.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:$t},{property:V.A.scorecard.showCommandBar,types:[e.D.scorecard],version:qt},{types:[e.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:Jt},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:rr},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:br},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:br},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:br},{types:[e.D.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:cr},{types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:Hr},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:rt},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:rt},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:rt},{types:[e.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:rt},{types:[e.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:rt},{types:[e.D.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:rt},{types:[e.D.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:rt},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:rt},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:rt},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:Ee},{property:{objectName:"legend",propertyName:"position",matchByContents:function(lr,mr){var Nr=lr&&lr.value;return Nr===u.tV.topRight||Nr===u.tV.bottomRight}},version:xr,types:[e.D.areaChart,e.D.azureMap,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.donutChart,e.D.filledMap,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.map,e.D.pieChart,e.D.ribbonChart,e.D.scatterChart,e.D.shapeMap,e.D.stackedAreaChart,e.D.treemap,e.D.waterfallChart]},{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:function(lr){return lr.value===h.pJ}},version:Wt},{types:[e.D.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:Ht},{types:[e.D.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:Vr},{types:[e.D.lineChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.lineStackedColumnComboChart,e.D.lineClusteredColumnComboChart,e.D.barChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.ribbonChart],property:{objectName:"error",propertyName:"*"},version:Tr},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:ti},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:ti},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:ti},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:ti},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:Xr},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:Xr},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:Xr},{types:[e.D.actionButton,e.D.shape,e.D.pageNavigator,e.D.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:ri},{types:[e.D.actionButton,e.D.shape,e.D.pageNavigator,e.D.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:ri},{types:[e.D.actionButton,e.D.shape,e.D.pageNavigator,e.D.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:ri},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:ni},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:ni},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:ni},{types:[e.D.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:_i},{types:[e.D.scatterChart,e.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:ii},{types:[e.D.scatterChart,e.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:ii},{types:[e.D.scatterChart,e.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:ii},{types:[e.D.scatterChart,e.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:ii},{types:[e.D.scatterChart,e.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:ii},{types:[e.D.scatterChart,e.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:ii},{types:[e.D.waterfallChart,e.D.treemap,e.D.lineChart,e.D.areaChart,e.D.columnChart,e.D.barChart,e.D.pieChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.donutChart,e.D.funnel,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineStackedColumnComboChart,e.D.lineClusteredColumnComboChart,e.D.ribbonChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:function(lr,mr){return!_.isEmpty(null==mr?void 0:mr.data)}},version:bi},{types:[e.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:function(lr,mr){return!_.isEmpty(null==mr?void 0:mr.data)}},version:bi},{types:[e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineStackedColumnComboChart,e.D.stackedAreaChart,e.D.barChart,e.D.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:function(lr,mr){return!_.isEmpty(null==mr?void 0:mr.data)}},version:bi},{types:[e.D.barChart,e.D.columnChart,e.D.ribbonChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineStackedColumnComboChart,e.D.lineClusteredColumnComboChart,e.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:Ui},{types:[e.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:function(lr){if(lr){var fr=lr.name;if(fr)return fr.value===d.sp}return!1}},version:Vi},{types:[e.D.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:xi},{types:[e.D.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:Ei},{types:ai,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:Di},{types:ai,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:Di},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:Ai},{types:[e.D.tableEx,e.D.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:mi},{types:[e.D.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:mi},{types:[e.D.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:mi},{types:[e.D.textbox],property:(0,t.__assign)((0,t.__assign)({},m.RL.general.paragraphs),{matchByContents:function(lr,mr){if((0,D.Fq)(lr))for(var fr=0,Nr=lr;fr<Nr.length;fr++){var Wr=Nr[fr];if(Wr&&!_.isEmpty(Wr.indent))return!0}return!1}}),version:Pi},{types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:ui},{types:[e.D.areaChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:ui},{types:[e.D.areaChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:ui},{types:[e.D.lineChart,e.D.lineStackedColumnComboChart,e.D.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:ui},{types:[e.D.barChart,e.D.hundredPercentStackedBarChart,e.D.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:wi},{property:{objectName:"padding",propertyName:"*"},version:ci},{property:{objectName:"subTitle",propertyName:"*"},version:ci},{property:{objectName:"divider",propertyName:"*"},version:ci},{property:{objectName:"spacing",propertyName:"*"},version:ci},{types:ba,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:function(lr){return(0,o.xF)(lr.value,o.ST.v2_0)}},version:Hi},{types:[e.D.barChart,e.D.columnChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.ribbonChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:Mi},{types:[e.D.barChart,e.D.columnChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.ribbonChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:Mi},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:Mi},{types:[e.D.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:Mi},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:ua},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart,e.D.lineStackedColumnComboChart,e.D.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:ca},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:Ii},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:Ii},{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:Ii},{types:[e.D.scatterChart,e.D.map,e.D.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:Qi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:function(lr){return!(lr.value===a.Dl.deprecated)}},version:Xi}],["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderPreset","borderTransparency","borderIntensity"].map(function(Sr){return{types:(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),si,!0),li,!0),property:{objectName:"dataPoint",propertyName:Sr},version:di}}),!0),[{types:(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),si,!0),li,!0),[e.D.stackedAreaChart],!1),property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:di},{types:(0,t.__spreadArray)((0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),si,!0),li,!0),property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:di},{types:(0,t.__spreadArray)((0,t.__spreadArray)([],si,!0),[e.D.lineStackedColumnComboChart],!1),property:{objectName:"layout",propertyName:"stackedGapSize"},version:di},{types:(0,t.__spreadArray)([e.D.barChart,e.D.columnChart,e.D.ribbonChart],Sa,!0),property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:di},{types:[e.D.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:di},{types:[e.D.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:di},{types:[e.D.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:di},{types:[e.D.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:da},{types:Gr,property:{objectName:"labels",propertyName:"titleBold"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleColor"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleContentType"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleFontFamily"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleFontSize"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleItalic"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleTransparency"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"titleUnderline"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailBold"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailColor"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailFontFamily"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailFontSize"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailItalic"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailTransparency"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailUnderline"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"detailContentType"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"showBlankAs"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"transparency"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"wordWrap"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"labelContentLayout"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:Qr},{types:Gr,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:Qr},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:yi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:yi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:yi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:yi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:yi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:yi},{types:[e.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:yi},{types:[e.D.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},version:Zi},{types:[e.D.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:function(lr){if(lr){var fr=lr.name;if(fr)return fr.value.endsWith(".wkt")||fr.value.endsWith(".kml")}return!1}},version:Zi},{types:[e.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:$i}],!1),["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(function(Sr){return{types:(0,t.__spreadArray)((0,t.__spreadArray)([],fi,!0),[e.D.lineClusteredColumnComboChart],!1),property:{objectName:"layout",propertyName:Sr},version:gi}}),!0),[{types:(0,t.__spreadArray)((0,t.__spreadArray)([],si,!0),[e.D.lineStackedColumnComboChart],!1),property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:gi},{types:[e.D.barChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart],property:{objectName:"ribbonBands",propertyName:"*"},version:gi},{types:[e.D.barChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:gi},{types:[e.D.ribbonChart],property:{objectName:"totals",propertyName:"*"},version:gi},{types:[e.D.ribbonChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:gi},{types:Gr,property:{objectName:"labels",propertyName:"horizontalAlignment"},version:qi}],!1),["leaderLineColor","leaderLineTransparency","leaderLineWidth"].map(function(Sr){return{types:[e.D.lineChart,e.D.areaChart],property:{objectName:"labels",propertyName:Sr},version:qi}}),!0),[{types:[e.D.pivotTable,e.D.tableEx],property:{objectName:"columnFormatting",propertyName:"dataBars",matchByContents:function(lr,mr){return null!=(lr&&lr.totalMatchingOption)}},version:ea}],!1),["strokeTransparency","interpolationStep","interpolationSmooth","interpolationSmoothParam","areaShow","areaColor","areaMatchStrokeColor"].map(function(Sr){return{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],property:{objectName:"lineStyles",propertyName:Sr},version:Oi}}),!0),[{objectName:"general",propertyName:"layout"},{objectName:"rowHeaders",propertyName:"repeatRowHeaders"},{objectName:"blankRows",propertyName:"showBlankRows"},{objectName:"blankRows",propertyName:"blankRowColor"},{objectName:"blankRows",propertyName:"blankRowTransparency"},{objectName:"blankRows",propertyName:"showBorder"},{objectName:"blankRows",propertyName:"borderPosition"},{objectName:"blankRows",propertyName:"borderColor"},{objectName:"blankRows",propertyName:"borderTransparency"},{objectName:"blankRows",propertyName:"borderWidth"}].map(function(Sr){return{types:[e.D.pivotTable],property:{objectName:Sr.objectName,propertyName:Sr.propertyName},version:Wi}}),!0),[{types:[e.D.textbox],property:(0,t.__assign)((0,t.__assign)({},m.RL.general.paragraphs),{matchByContents:function(lr,mr){if((0,D.Fq)(lr))for(var fr=0,Nr=lr;fr<Nr.length;fr++){var Wr=Nr[fr];if(Wr&&!_.isEmpty(Wr.textRuns))for(var Yr=0,$r=Wr.textRuns;Yr<$r.length;Yr++){var Zr=$r[Yr];if((0,E.IM)(Zr)&&Zr.mentionEmail)return!0}}return!1}}),version:fa},{types:[e.D.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:Li},{types:[e.D.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:Li},{types:[e.D.scorecard],property:{objectName:"visualization",propertyName:i.p5},version:Li},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:oi},{types:[e.D.slicer,e.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:oi}],!1),["leaderLineStyle"].map(function(Sr){return{types:[e.D.lineChart,e.D.areaChart],property:{objectName:"labels",propertyName:Sr},version:ji}}),!0),["strokeDashArray","strokeDashCap","strokeAutoScale"].map(function(Sr){return{types:[e.D.lineChart,e.D.areaChart,e.D.stackedAreaChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],property:{objectName:"lineStyles",propertyName:Sr},version:ji}}),!0);function ki(Sr){if(Sr&&!_.isEmpty(Sr.data)&&1===Sr.data.length&&(0,f.qm)(Sr.data[0]))return Sr.data[0].matchingOption}var Ea=["minColor","midColor","maxColor","nullColor"];function Ki(Sr){if(Sr instanceof y.jz)return!!_.find(Ea,function(Wr){return Wr===Sr.value});if(Sr instanceof Object&&!(Sr instanceof Function))for(var mr=0,fr=Object.keys(Sr);mr<fr.length;mr++)if(Ki(Sr[fr[mr]]))return!0;return!1}var Sr,lr,mr,Da=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:x.v3_19,types:zi},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[e.D.pivotTable],version:Vt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[e.D.pivotTable],version:Jr,upgrader:N.Xv,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[e.D.scatterChart],version:Fr,upgrader:N.fw},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.ribbonChart],version:jr,upgrader:N.QK},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:jr,types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart,e.D.waterfallChart],upgrader:N.QK},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:Mr,types:[e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.ribbonChart,e.D.waterfallChart],upgrader:N.Dq},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:Mr,types:[e.D.areaChart,e.D.barChart,e.D.clusteredBarChart,e.D.clusteredColumnChart,e.D.columnChart,e.D.hundredPercentStackedBarChart,e.D.hundredPercentStackedColumnChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.ribbonChart,e.D.scatterChart,e.D.stackedAreaChart,e.D.waterfallChart],upgrader:N.Dq},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:Mr,types:[e.D.areaChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.stackedAreaChart],upgrader:N.Dq},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:Mr,types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],upgrader:N.Dq},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:Ot,types:[e.D.pivotTable,e.D.tableEx],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:Ot,types:[e.D.pivotTable,e.D.tableEx],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:Ot,types:[e.D.pivotTable,e.D.tableEx],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:Ot,types:[e.D.tableEx],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:Ot,types:[e.D.pivotTable,e.D.tableEx],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:Ot,types:[e.D.slicer,e.D.filterSlicer],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:Ot,types:[e.D.slicer,e.D.filterSlicer],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:Ot,types:[e.D.slicer,e.D.filterSlicer],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:Ot,types:[e.D.multiRowCard],upgrader:N.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:_t,types:[e.D.areaChart,e.D.lineChart,e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart,e.D.scatterChart,e.D.stackedAreaChart],upgrader:N.Dq,featureSwitch:"remainingCartesianCategoryLogAxisScale"},{currentId:{objectName:"lineStyle",propertyName:"stepped"},previousId:{objectName:"lineStyle",propertyName:"lineChartType"},version:x.v5_52,types:(0,t.__spreadArray)((0,t.__spreadArray)([],Fi,!0),li,!0),upgrader:N.xx},{currentId:{objectName:"lineStyles",propertyName:"shadeArea"},previousId:{objectName:"lineStyles",propertyName:"areaShow"},version:Oi,types:[e.D.lineClusteredColumnComboChart,e.D.lineStackedColumnComboChart],featureSwitch:"lineExtStyles"}],ha=(Sr=Va,lr=Da,mr=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:x.v4_2,upgrader:N.KI},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:x.v5_1,upgrader:N.KI},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:x.v5_1,upgrader:N.KI},{property:{objectName:"filterCard",propertyName:"textSize"},version:x.v5_1,upgrader:N.KI}],b.fF.assert(function(){return!_.find(lr,function(fr){return _.find(Sr,function(Nr){return(!fr.types||!Nr.types||_.find(fr.types,function(Yr){return _.find(Nr.types,function($r){return $r===Yr})}))&&Nr.property.objectName===fr.previousId.objectName&&Nr.property.propertyName===fr.previousId.propertyName&&(0,s.lt)(Nr.version,fr.version)})})},"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(Sr){for(var lr={},mr=function(Wr){var Yr=Sr[Wr];if(b.fF.assert(function(){return!Wr||!(0,s.lt)(Yr.version,Sr[Wr-1].version)},"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=Yr.types)for(var $r=0,Zr=Yr.types;$r<Zr.length;$r++)ma(Zr[$r],Yr,lr);else ma(i.p5,Yr,lr)},fr=0;fr<Sr.length;fr++)mr(fr);return lr}(Sr),renamed:function(Sr){for(var lr={},mr=function(Yr,$r){var Zr=Sr[Yr];if(b.fF.assert(function(){return Zr.currentId.objectName!==Zr.previousId.objectName||Zr.currentId.propertyName!==Zr.previousId.propertyName},"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),b.fF.assert(function(){return!Yr||!(0,s.lt)(Zr.version,Sr[Yr-1].version)},"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=Zr.types)for(var vi=0,Si=Zr.types;vi<Si.length;vi++)sa(hi=Si[vi],Zr,lr);else for(var hi in sa(i.p5,Zr,lr),lr)sa(hi,Zr,lr)},fr=0,Nr=Sr.length;fr<Nr;fr++)mr(fr);return lr}(lr),updated:mr});function sa(Sr,lr,mr){var fr=mr[Sr];mr[Sr]||(fr=mr[Sr]={});var Nr=lr.currentId.objectName,Wr=fr[Nr];Wr||(Wr=fr[Nr]={});var Yr=lr.previousId,$r=function(Si,hi){var la=Si&&Si[hi.objectName];return la&&la[hi.propertyName]},Zr=$r(fr,Yr)||$r(mr[i.p5],Yr);Wr[lr.currentId.propertyName]=(0,t.__assign)((0,t.__assign)({},lr),{previous:Zr})}function ma(Sr,lr,mr){var fr=mr[Sr];mr[Sr]||(fr=mr[Sr]={});var Nr=lr.property.objectName,Wr=fr[Nr];Wr||(Wr=fr[Nr]={});var Yr=lr.property.propertyName,$r=Wr[Yr];$r||($r=Wr[Yr]=[]),$r.push(lr),b.fF.assert(function(){return 1===$r.length||!(0,s.lt)($r[$r.length-1].version,$r[$r.length-2].version)},"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function xa(Sr,lr,mr,fr,Nr){return(0,S.Vj)({definitions:Sr,descriptors:lr,visitor:function(Yr,$r,Zr,vi){fr=(0,s.Fp)(w.getVersionForSQExprWithDescriptor(Yr,vi),fr)}}),(0,S.rQ)(Sr,lr,function(Wr,Yr,$r,Zr,vi){var hi=Wr[Yr];fr=(0,s.Fp)(fr,(0,i.KB)(ha.added,hi,$r,mr,Zr,Yr,fr,function(){var ya=(0,S.NA)(Sr,{objectName:Zr,propertyName:Yr},$r);if(ya){var Aa=(0,g.oA)(ya,$r,Nr);if(!_.isEmpty(Aa))return!0}return!1})),(0,S.er)(hi)&&(fr=(0,s.Fp)(fr,hr))}),fr}},849:function(ze,K,r){r.d(K,{Dq:function(){return o},KI:function(){return f},Mi:function(){return B},QK:function(){return u},Rd:function(){return S},Xv:function(){return l},fw:function(){return a},jF:function(){return g},nc:function(){return N},pr:function(){return D},s8:function(){return b},xx:function(){return d}});var t=r(456535),c=r(322487),i=r(454967),s=r(666683),p=r(887948),V=r(787941),m=r(520907),v=r(324356),e=r(60495),h=r(600348);function n(I){return Math.round(100*m.FP.toPoint(I))/100}function o(I){return void 0!==I&&"log"===I}function u(I){return void 0!==I&&"Right"===I}function a(I){return I?i.f.fillOnly:i.f.borderOnly}function l(I){return!I}function d(I){return I?p.Fu.step:p.Fu.linear}function b(I){switch(I){case s.YP:return s.$m.Nil;case s.j0:return s.$m.Top;case s.wI:return s.$m.Bottom;case s.LI:return s.$m.Left;case s.RH:return s.$m.Right;case s.b_:return s.$m.Top|s.$m.Bottom;case s.v3:return s.$m.Left|s.$m.Right;case s.Wi:return s.$m.Top|s.$m.Right|s.$m.Bottom|s.$m.Left;default:return V.fF.assertFail("unexpected outline type"),s.$m.Nil}}function f(I){switch(typeof I){case"string":I=+I;case"number":return V.fF.assert(function(){return!isNaN(I)},"pxToPt upgrader encountered NaN"),n(I);default:return V.fF.assertFail("pxToPt upgrader encountered non-numerical parameter"),I}}function g(I){I&&(I.objects&&function(I){if(I)for(var w=0,F=y;w<F.length;w++)D(I,F[w])}(I.objects),I.vcObjects&&function(I){if(I){var w=I.visualTooltip&&I.visualTooltip[0]&&I.visualTooltip[0].properties;if(w){var F=w.fontSize;if(F)if(M(F))w.fontSize=N(F);else{var O=c.ib.deserializeExpr(F.expr);w.fontSize=B(N(O))}}}}(I.vcObjects))}function S(I){I&&I.objects&&I.visualType===h.D.textbox&&function(I){if(I){var w=P(I,"general");if(w)for(var O=0,L=w.paragraphs;O<L.length;O++)for(var U=0,j=L[O].textRuns;U<j.length;U++){var z=j[U];if((0,e.IM)(z)&&z.textStyle&&z.textStyle.fontSize){var G=z.textStyle.fontSize,te=G.indexOf("px");if(-1!==te){var Q=+G.substr(0,te);z.textStyle.fontSize=n(Q)+"pt"}}}}}(I.objects)}var y=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function D(I,w){var F=P(I,w.objectName);if(F){var O=F[w.propertyName];if(O)if(M(O))F[w.propertyName]=N(O);else{var L=c.ib.deserializeExpr(O.expr);F[w.propertyName]=B(N(L))}}}function P(I,w){if(I){var F=I[w];if(F)for(var O=0,L=F;O<L.length;O++){var W=L[O];if(null==W.selector)return W.properties}}}function M(I){return I instanceof v.Il&&(0,t.VC)(I)}function B(I){return{expr:c.ib.serializeExpr(I)}}function N(I){var F=n(I.value);return(0,v.gH)(F)}},210775:function(ze,K,r){r.d(K,{fm:function(){return V},ps:function(){return s},zW:function(){return m}});var t=r(776791),c=r(787941),i=r(89858);function s(){return new p}var p=function(){function v(){}return v.prototype.upgrade=function(e){if(c.fF.assertValue(e,"exploration"),e)for(var h=0,n=e.sections;h<n.length;h++)for(var u=0,a=n[h].visualContainers;u<a.length;u++){var l=a[u],d=l.config.singleVisual;if(d){var b=d.objects;if(!m(d.visualType))continue;V(b);var g=(0,t.K)(l.dataTransforms);g&&(V(g.objects),l.dataTransforms=JSON.stringify(g))}}},v.prototype.upgradeFilterCollection=function(){},v.prototype.upgradeVisualObjects=function(e,h,n,o){},v.prototype.getVersion=function(){return i.H3n.v3_19},v}();function V(v){var e="dataPoint",h="defaultCategoryColor";if(v&&v[e])for(var o=0,u=v[e];o<u.length;o++){var a=u[o];null==a.selector&&a.properties[h]&&(a.properties.fill=a.properties[h],delete a.properties[h])}}function m(v){return _.includes(i.gMq,v)}},888142:function(ze,K,r){r.d(K,{Am:function(){return a},ps:function(){return v}});var t=r(415859),c=r(322487),i=r(776791),s=r(787941),p=r(45696),V=r(324356),m=r(89858);function v(S){return new e(S)}var e=function(){function S(y){this.featureSwitchService=y}return S.prototype.upgrade=function(y){if(s.fF.assertValue(y,"exploration"),y)for(var C=0,E=y.sections;C<E.length;C++)for(var P=0,M=E[C].visualContainers;P<M.length;P++){var T=M[P],R=T.config.singleVisual;if(R){var B=R.visualType,N=R.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(R.objects=h(R.objects,N,B),l(R.objects,N,B,R.prototypeQuery));var x=(0,i.K)(T.dataTransforms);x&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(x.objects=h(x.objects,N,B),l(x.objects,N,B,R.prototypeQuery)),T.dataTransforms=JSON.stringify(x))}}},S.prototype.upgradeFilterCollection=function(){},S.prototype.upgradeVisualObjects=function(y,C,E,D){},S.prototype.getVersion=function(){return m.FL3},S}();function h(S,y,C){var E=n(C),D=y&&!_.isEmpty(y[E]);return"scatterChart"===C&&D&&null==(0,t.un)(S,"fillPoint")&&(S||(S={}),S.fillPoint=[{properties:{show:{expr:c.ib.serializeExpr((0,V.O7)(!0))}}}]),S}function n(S){switch(S){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function o(S){switch(S){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function u(S,y){return"filledMap"===S&&y&&!_.isEmpty(y.Series)&&!_.isEmpty(y.Size)}function a(S,y,C){var P=n(C);if(P){var M=null==y?void 0:y.getQueryRef(P,{fieldIndex:0});if(M){s.fF.assertValue(y.defn,"upgradeGradientOnObjectDef - semantic query should exist");var T=y.defn.select().withName(M);s.fF.assertValue(T,"upgradeGradientOnObjectDef - query named expr should exist");var R=S&&S.dataPoint;if(!_.isEmpty(R))for(var B=0,N=R;B<N.length;B++){var x=N[B],A=x.properties.fillRule;if(null==x.selector&&A){if(u(C,y.projections)||R.push({selector:{data:[(0,p.Ue)(1)]},properties:{fill:{solid:{color:(0,V.x5)(T.expr,A)}}}}),R.splice(R.indexOf(x),1),1===y.getUsageCount(M)){var I=y.tryGetExpr(P,0),w=o(C);s.fF.assertValue(w,"tooltips role should exist for visuals with gradient upgrade."),y.add(I,w)}y.removeProjection(P,{fieldIndex:0});break}}}}}function l(S,y,C,E){var D,P,T="fillRule",B=n(C);if(B){var N=y&&y[B];if(!_.isEmpty(N)){var x=N[0].queryRef;if(x){var A=_.cloneDeep(_.find(E&&E.Select,function(G){return G.Name===x}));if(A){delete A.Name;var I=A.Aggregation||A.Measure;if(I){var w=I.Expression.Column&&I.Expression.Column.Expression.SourceRef||I.Expression.SourceRef;if(w){var F=_.find(E.From,function(G){return G.Name===w.Source});if(F){w.Entity=F.Entity,delete w.Source;var O=S&&S.dataPoint;if(!_.isEmpty(O))for(var L=0,W=O;L<W.length;L++){var U=W[L];if(null==U.selector&&U.properties[T]){if(!u(C,y)){var j=_.cloneDeep(U.properties[T]);O.push({selector:{data:[{dataViewWildcard:{matchingOption:1}}]},properties:(D={},D.fill={solid:{color:{expr:{FillRule:{FillRule:g(j),Input:A}}}}},D)})}if(O.splice(O.indexOf(U),1),delete y[B],!d(x,y)){var z=o(C);s.fF.assertValue(z,"tooltips role should exist for visuals with gradient upgrade."),y[z]||(y[z]=[]),(P=y[z]).push.apply(P,N||[])}break}}}}}}}}}}function d(S,y){for(var C in y)if(_.some(y[C],function(D){return D.queryRef===S}))return!0;return!1}function b(S){S.color&&(S.color=S.color.expr),S.value&&(S.value=S.value.expr),S.strategy&&(S.strategy=S.strategy.expr)}function f(S){b(S.min),b(S.max),S.mid&&b(S.mid),S.nullColoringStrategy&&b(S.nullColoringStrategy)}function g(S){return S.linearGradient2&&f(S.linearGradient2),S.linearGradient3&&f(S.linearGradient3),S}},568837:function(ze,K,r){r.d(K,{x:function(){return c}});var t=r(693825);function c(s){return new i(s)}var i=function(){function s(p){this.downgraders=p}return s.prototype.getFinalVisualObjectsVersion=function(p,V,m,v){for(var e=0,h=this.downgraders;e<h.length;e++)m=(0,t.Fp)(m,h[e].getMinDowngradeVersionForVisualObjects(p,V,v));return m},s.prototype.downgrade=function(p,V,m,v){for(var e=0,h=this.downgraders;e<h.length;e++)h[e].downgradeVisualObjects(p,V,m,v)},s}()},92832:function(ze,K,r){r.d(K,{U:function(){return c}});var t=r(693825);function c(s){return new i(s)}var i=function(){function s(p){this.upgraders=p}return s.prototype.upgrade=function(p,V,m,v){for(var e=0,h=this.upgraders;e<h.length;e++){var n=h[e],o=n.getVersion();(0,t.gt)(o,v)&&n.upgradeVisualObjects(p,V,m,v)}},s}()},282310:function(ze,K,r){r.d(K,{q:function(){return p},v:function(){return s}});var t=r(776791),c=r(787941),i=r(361908);function s(V,m,v,e){c.fF.assertValue(V,"input");var h=[],n={objectId:V.objectId,name:V.objectId,type:V.type};V.creationTime&&(n.creationTime=new Date(Date.parse(V.creationTime))),V.expirationTime&&(n.expirationTime=new Date(Date.parse(V.expirationTime))),V.displayName&&(n.displayName=V.displayName),V.isDefault&&(n.isDefault=V.isDefault),null!=V.id&&(n.id=V.id);try{var o=void 0;V.explorationState&&((o=(0,t.K)(V.explorationState))||h.push({code:0})),o&&(n.explorationState=(0,i.vB)(o,m,v,e))}catch(a){h.push({code:1,message:a.message,stack:a.stack})}var u={contract:n};return _.isEmpty(h)||(u.errors=h),u}function p(V,m,v,e,h){c.fF.assertValue(V,"input");var n={objectId:V.objectId,type:V.type};if(V.creationTime&&(n.creationTime=V.creationTime.toISOString()),V.expirationTime&&(n.expirationTime=V.expirationTime.toISOString()),V.displayName&&(n.displayName=V.displayName),V.isDefault&&(n.isDefault=V.isDefault),null!=V.id&&(n.id=V.id),V.explorationState){var o=(0,i.qC)(V.explorationState,m,e,h,v);n.explorationState=JSON.stringify(o)}return n}},290267:function(ze,K,r){r.d(K,{y:function(){return c}});var t=r(787941);function c(){return new i}var i=function(){function s(){this.isPaused=!1}return s.prototype.register=function(p){var V=jQuery.extend(!0,{},p);return this.updateService(V),V},s.prototype.pause=function(){this.isPaused=!0},s.prototype.resume=function(){this.isPaused=!1},s.prototype.updateService=function(p){t.fF.assertAnyValue(p,"service");var V=function(h){if(_.isFunction(p[h])){var n=p[h],o=m;p[h]=function(){if(!o.isPaused)return n.apply(p,arguments)}}},m=this;for(var v in p)V(v)},s}()},327756:function(ze,K,r){r.d(K,{I:function(){return a}});var u,t=r(633888),c=r(787941),i=r(145315),s=r(426827),p=r(283427),V=r(722089),m=r(324356),v=r(983172),e=r(942983),h=r(277632),n=r(809395),o=r(474147);function a(b,f,g){return new l(b,f,g)}var l=function(){function b(f,g,S){c.fF.assertValue(f,"displayNameService"),c.fF.assertValue(S,"visualPluginService"),this.displayNameService=f,this.featureSwitches=g,this.visualPluginService=S}return b.prototype.getSortableFields=function(f){c.fF.assertValue(f,"options");var g=f.visualType,S=this.visualPluginService.capabilities(g);if(!S||!this.isVisualSortable(S))return{sortableFields:[],sortGroups:[]};var y=this.createIsRoleSortableDelegate(g,f.compiledMappings);return this.getGroupedSortableFieldsFromProjections(f.query,f.schema,S,f.columnProperties,y)},b.prototype.createIsRoleSortableDelegate=function(f,g){var S=this.visualPluginService.getPlugin(f),y=this.visualPluginService.capabilities(f);if(!S.getSortableRoles||!y.sorting)return function(E){return!0};var C=S.getSortableRoles({dataViewMappings:g});return _.isEmpty(C)?function(E){return!1}:function(E){return C.indexOf(E)>=0}},b.prototype.addSort=function(f,g){f&&f.defn&&g&&(f.defn=f.defn.orderBy(g))},b.prototype.removeSort=function(f,g){if(f&&f.defn&&g)for(var S=0,y=g;S<y.length;S++)f.defn=f.defn.removeOrderBy(y[S].expr)},b.prototype.resetSort=function(f){if(f&&f.defn){var g=f.defn.orderBy();this.removeSort(f,g)}},b.prototype.applyImplicitSort=function(f,g){if(c.fF.assertValue(f,"query"),c.fF.assertAnyValue(g,"implicitSort"),!g)return f;var S=f.defn;if(!S)return f;for(var y=g.clauses,C=S.select(),E=[],D=0,P=y;D<P.length;D++){var M=P[D],T=(0,s.cY)(f.projections,M.role);if(T){var R=M.direction;E.push.apply(E,_.map(T.all(),function(B){return{expr:C.withName(B.queryRef).expr,direction:R}}))}}return _.isEmpty(E)?f:new h.g(S.orderBy(E),f.projections,f.expansionStates,f.isDrillDisabled)},b.prototype.shouldApplyDefaultSort=function(f,g){var S,y,C;if(null!==(S=g.sorting)&&void 0!==S&&S.custom||null!==(y=g.sorting)&&void 0!==y&&y.implicit)return!1;var E=f.query;if(!E)return!1;var D=(0,n.i1)(E),P=(0,p.Lo)(E.projections,g.dataViewMappings,D,this.featureSwitches.featureSwitches),M=null===(C=null==P?void 0:P.supportedMappings)||void 0===C?void 0:C[0];return!((null==M?void 0:M.matrix)&&(0,t.D4)(M))&&(f.hasDefaultSort||_.isEmpty(f.query.defn.orderBy()))},b.prototype.ensureValidSorting=function(f){c.fF.assertValue(f,"options");var g=f.query,S=g.defn;if(!S)return g;var y=S.orderBy();if(_.isEmpty(y))return g;var C=this.getSortableFields(f).sortableFields,E=[];if(!_.isEmpty(C))for(var D=0,P=C;D<P.length;D++)E.push.apply(E,this.createSortDefinitions(P[D]));for(var T=!1,R=function(x){if(_.find(E,function(A){return(0,o.fS)(A.expr,y[x].expr)}))return"continue";y.splice(x,1),T=!0},B=y.length-1;B>=0;B--)R(B);return T?new h.g(S.orderBy(y),g.projections,g.expansionStates,g.isDrillDisabled):g},b.prototype.isVisualSortable=function(f){return _.some(f.dataRoles,function(g){return g.kind!==i.DW.Measure})},b.prototype.getGroupedSortableFieldsFromProjections=function(f,g,S,y,C){var E=this,D=f.defn.select(),P=f.defn.orderBy(),M=(0,n.i1)(f),T=(0,p.Lo)(f.projections,S.dataViewMappings,M,this.featureSwitches.featureSwitches),B=new d(C,function(w,F,O,L){var W=f.getRolesActiveProjectionsRefs([w],!1,!0);return _.isEmpty(W)?[]:E.createSortableFieldsForQueryRefs(g,D,W,P,S,y,0!==O,F,L)});if(T.supportedMappings)for(var N=0,x=T.supportedMappings;N<x.length;N++){var A=x[N];A.matrix&&(0,t.D4)(A)?(0,V.Jj)(A.matrix,B):A.categorical&&(0,V.aU)(A.categorical,B)}return _.isEmpty(B.groups)?this.getDefaultGroupSortableFieldsFromProjections(f,T,g,S,y,C):{sortableFields:B.allSortableFields,sortGroups:B.groups}},b.prototype.getDefaultGroupSortableFieldsFromProjections=function(f,g,S,y,C,E){c.fF.assertNonEmpty(y.dataRoles,"Unexpected empty dataRoles");for(var D=[],P=f.defn.select(),M=f.defn.orderBy(),T=_.some(g.supportedMappings,function(O){return O.categorical}),R=0,B=y.dataRoles;R<B.length;R++){var x=B[R].name;if(E(x)){var A=f.getRolesActiveProjectionsRefs([x],!1,!0);if(!_.isEmpty(A)){var I=!_.isEmpty(f.projections[x].activeProjectionRefs),F=this.createSortableFieldsForQueryRefs(S,P,A,M,y,C,T&&I,b.DefaultSortGroupKey);D.push.apply(D,F)}}}return this.createResultWithSortGroup(D)},b.prototype.createSortableFieldsForQueryRefs=function(f,g,S,y,C,E,D,P,M){for(var R,T=!1,B=Number.MAX_VALUE,N=[],x=[],A=[],I=function(j){var z=g.withName(j),G=null==z?void 0:z.expr;if(!G||!v.m.isExprValidForSorting(G))return"continue";var te=w.getDisplayNameFromQueryRef(f,g,j,C,E),Q=w.applySortingScope(G,M),H=_.findIndex(y,function(de){return(0,o.fS)(de.expr,Q)});H!==e.bN&&(B=Math.min(B,H)),D?((T=T||H!==e.bN)&&!R&&(c.fF.assert(function(){return H!==e.bN},"invalidSortExprIndex"),R=y[H].direction),x.push({name:j,expr:G}),A.push(te)):N.push({displayName:te,exprs:[z],active:T=H!==e.bN,orderByIndex:T?H:void 0,sortDirection:R=T?y[H].direction:void 0,groupKey:P,scope:M})},w=this,F=0,O=S;F<O.length;F++)I(O[F]);return D?_.isEmpty(x)?[]:[{displayName:A.join(" "),exprs:x,active:T,orderByIndex:T?B:void 0,sortDirection:T?R:void 0,groupKey:P,scope:M}]:N},b.prototype.getDisplayNameFromQueryRef=function(f,g,S,y,C){var E,D=null===(E=g.withName(S))||void 0===E?void 0:E.expr;return D?this.displayNameService.getDisplayName(D,f,y,S,C):""},b.prototype.createResultWithSortGroup=function(f){var g=[];return _.isEmpty(f)||g.push({key:b.DefaultSortGroupKey,displayName:null,fields:f,isDefaultGroup:!0}),{sortableFields:f,sortGroups:g}},b.prototype.createSortDefinitions=function(f){for(var g,S=[],y=0,C=f.exprs;y<C.length;y++)S.push({expr:this.applySortingScope(C[y].expr,f.scope),direction:null!==(g=f.sortDirection)&&void 0!==g?g:2});return S},b.prototype.applySortingScope=function(f,g){return _.isEmpty(g)?f:(0,m.ed)(f,g)},b.DefaultSortGroupKey="Default",b}(),d=function(){function b(f,g){this.isRoleSortable=f,this.getSortableFieldsForRole=g,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}return b.prototype.visitRole=function(f,g){if(this.isRoleSortable(f))switch(g){case"MatrixColumnsGroup":case"CategoricalSeries":this.addRole(f,"Legend",1);break;case"MatrixRowsGroup":return void this.addRole(f,f,1);case"CategoricalCategory":return void this.addRole(f,"Category",1);case"MatrixIntersection":case"MatrixRowsScopedValue":return void this.addRole(f,"Rows",0,!0,[(0,m.Wu)("Rows")]);case"CategoricalValue":case"CategoricalValueGroup":return void this.addRole(f,"Category",0,!0);default:return void c.fF.assertFail("Unexpected context: "+g)}},b.prototype.addRole=function(f,g,S,y,C){var E,D,P;if(void 0===y&&(y=!1),y){if(!(P=_.find(this.groups,function(T){return T.key===g})))return}else P={key:g,displayName:b.RoleToSortGroupDisplayName[g],fields:[]};var M=this.getSortableFieldsForRole(f,g,S,C);_.isEmpty(M)||(_.includes(this.uniqueRoles,f)||((E=this.allSortableFields).push.apply(E,M),this.uniqueRoles.push(f)),(D=P.fields).push.apply(D,M),!y&&!_.includes(this.uniqueGroupKeys,P.key)&&(this.groups.push(P),this.uniqueGroupKeys.push(P.key)))},b.prototype.visitReduction=function(){},b.prototype.enterComposite=function(){},b.prototype.exitComposite=function(){},b.RoleToSortGroupDisplayName=((u={}).Rows="Sort_Group_Small_multiples",u.Category="Sort_Group_Axis",u.Legend="Sort_Group_Legend",u),b}()},67093:function(ze,K,r){r.d(K,{WP:function(){return v},be:function(){return h},nT:function(){return m}});var t=r(787941),c=r(565146),i=r(668268),s=r(431325),p=r(926201),V=r(456535);function m(l,d,b,f,g){return new a(l,d,b,f,g)}function v(l,d,b,f){t.fF.assertValue(f,"references"),t.fF.assertAnyValue(d,"descriptors"),l&&(0,i.Vj)({definitions:l,descriptors:d,visitor:function(S){if((0,V.MI)(S)){var y=(0,p.pd)(b,S.packageType,S.packageName),C=(0,p.NW)(y,S.itemName);C&&h(f,y.name,y.type,C.name,C.type)}}})}function e(l,d,b){return t.fF.assertValue(l,"references should exist."),l[d]||(l[d]={items:{},name:d,type:b}),l[d]}function h(l,d,b,f,g){t.fF.assertValue(l,"references should exist.");var S=e(l,d,b).items;return S[f]=S[f]||{name:f,type:g}}function n(l,d,b){var f=l[d];return f&&f.items&&f.items[b]}function u(l,d){for(var b in l){var f=l[b];for(var g in f.items)d(f,f.items[g])}}var a=function(){function l(d,b,f,g,S){this.promiseFactory=d,this.resourceLoader=b,this.explorationNavigation=f,this.explorationSerializer=g,this.resourceRegistration=S,this.restorableReferenceSources=[],this.preservedReferences={}}return l.prototype.addReferenceSource=function(d){this.restorableReferenceSources.push(d)},l.prototype.removeReferenceSource=function(d){_.pull(this.restorableReferenceSources,d)},l.prototype.garbageCollectUnreferencedStaticResources=function(){var d=this.explorationNavigation.getCurrentExploration(),b=d&&d.resourcePackages;if(b){for(var f=this.explorationSerializer.getReferencedStaticResources(d),g=this.getRestorableReferences(),S=[],y=b.length-1;y>=0;y--){var C=b[y];(0,p.In)(C)&&(this.garbageCollectItems(C,f,this.preservedReferences,g,S),_.isEmpty(C.items)&&_.pull(b,C))}return _.isEmpty(b)&&delete d.resourcePackages,this.cleanPreservedReferences(f,g),S}},l.prototype.cleanPreservedReferences=function(d,b){var f=this;u(this.preservedReferences,function(g,S){(n(d,g.name,S.name)||!n(b,g.name,S.name))&&function(l,d,b){var f=l[d];if(f){var g=f.items;delete g[b],0===_.size(g)&&delete l[d]}}(f.preservedReferences,g.name,S.name)})},l.prototype.getRestorableReferences=function(){for(var d={},b=0,f=this.restorableReferenceSources;b<f.length;b++)u(f[b].getReferences(),function(S,y){h(d,S.name,S.type,y.name,y.type)});return d},l.prototype.garbageCollectItems=function(d,b,f,g,S){t.fF.assertValue(d,"Resource package should exist in order to be garbage collected"),t.fF.assertValue(b,"referencedResources should exist in order to garbage collect items"),t.fF.assertValue(f,"perservedReferences should exist in order to garbage collect items"),t.fF.assertValue(g,"restorableReferences should exist in order to garbage collect items"),t.fF.assertValue(S,"unreferencedResources should exist in order to garbage collect items");for(var y=d.items,C=d.name,E=_.size(y)-1;E>=0;E--){var D=y[E],P=D.name;n(b,C,P)||(n(g,C,P)&&this.preserveItem(d,P,D.type),S.push(C+"/"+D.path),_.pull(y,D))}},l.prototype.preserveItem=function(d,b,f){var g=h(this.preservedReferences,d.name,d.type,b,f);g.uri||(g.uri=(0,s.dR)(d,b,this.resourceLoader,this.promiseFactory).then(function(S){return(0,c.pU)(S)||(S=(0,c.wo)(S)),S}))},l.prototype.loadItemsContent=function(d){var b=[],f=this.explorationNavigation.getCurrentExploration(),g=f&&f.resourcePackages;for(var S in d){var y=d[S];if(1===y.type){var C=y.items,E=function(T){var R=C[T];b.push((0,s.k4)(D.promiseFactory,D.resourceLoader,g,R.name).then(function(B){R.content=B}))},D=this;for(var P in C)E(P)}}return this.promiseFactory.all(b).then(function(){})},l.prototype.addItemsContent=function(d){var b=this.explorationNavigation.getCurrentExploration();for(var f in d){var g=d[f],S=g.items;for(var y in S){var C=S[y];this.addResource(b.resourcePackages,f,g.type,C.name,C.type,C.content)}}},l.prototype.needingRestore=function(d){var b=this;if(!_.isEmpty(d)){var f=this.explorationNavigation.getCurrentExploration();if(f){var g=f&&f.resourcePackages;if(!_.isEmpty(g)){var S={};return u(d,function(y,C){var E=y.name,D=C.name,P=n(b.preservedReferences,E,D);P&&!(0,p.Yu)(g,y.type,C.name,E)&&(e(S,E,y.type).items[D]=P)}),S}}}},l.prototype.addResource=function(d,b,f,g,S,y){(0,p.Yu)(d,f,g,b)||this.resourceRegistration.add(g,f,S,{content:y,skipUniqueName:!0})},l.prototype.restoreReferences=function(d){var b=this,f=this.needingRestore(d),g=[];return u(f,function(S,y){g.push(y.uri.then(function(C){b.resourceRegistration.restore(y.name,S.type,y.type,C)}))}),this.promiseFactory.all(g).then(function(){})},l}()},373669:function(ze,K,r){r.d(K,{Z:function(){return c}});var t=r(787941),c=function(){function i(){}return i.prototype.register=function(s,p,V){var m=p();return{actionResult:m,succeeded:!(_.isBoolean(m)&&!m)}},i.prototype.getTopUndoFrame=function(){t.fF.assertFail("Can not get top undo frame")},i.prototype.canRedo=function(){return!1},i.prototype.canUndo=function(){return!1},i.prototype.canClear=function(){return!1},i.prototype.undo=function(){return t.fF.assertFail("Undo is not supported"),!1},i.prototype.redo=function(){return t.fF.assertFail("Redo is not supported"),!1},i.prototype.clear=function(){return t.fF.assertFail("Clear is not supported"),!1},i.prototype.getReferences=function(){return{}},i}()},89946:function(ze,K,r){r.d(K,{T:function(){return s},x:function(){return p}});var t=r(787941),c=r(1745),i=r(373669),s=function(){function m(v,e){this.visualContainerName=v,this.action=e}return m.prototype.equals=function(v){return!!v&&this.action===v.action&&this.visualContainerName===v.visualContainerName},m}();function p(m,v,e,h){return void 0===e&&(e="UndoRedo"),void 0===h&&(h=new i.Z),new V(m,v,e,h)}var V=function(){function m(v,e,h,n){this.eventBridge=v,this.loggerService=e,this.undoRedoLogEntryType=h,this.strategy=n}return m.prototype.setStrategy=function(v){this.clear(),this.strategy=v},m.prototype.undo=function(){var v=this;!this.verifyStrategy()||!this.canUndo()||setTimeout(function(){v.strategy&&v.strategy.undo()&&(v.runSideEffects(),v.fireEvents())})},m.prototype.redo=function(){var v=this;!this.verifyStrategy()||!this.canRedo()||setTimeout(function(){v.strategy&&v.strategy.redo()&&(v.runSideEffects(),v.fireEvents())})},m.prototype.registerSideEffect=function(v){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(v)},m.prototype.clear=function(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(c.WR7))},m.prototype.canRedo=function(){return this.verifyStrategy()&&this.strategy.canRedo()},m.prototype.canUndo=function(){return this.verifyStrategy()&&this.strategy.canUndo()},m.prototype.getTopUndoFrame=function(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()},m.prototype.undoRedoPostProcessing=function(v){this.loggerService.addUserAction({message:v,type:this.undoRedoLogEntryType}),setTimeout(_.noop)},m.prototype.register=function(v,e,h){var n,o=!1;if(this.verifyStrategy()){var u=this.strategy.register(v,e,h);n=u.actionResult,o=u.succeeded}else n=e(),o=!(_.isBoolean(n)&&!n);return o&&(this.runSideEffects(v),this.fireEvents()),this.undoRedoPostProcessing(v),n},m.prototype.fireEvents=function(){this.eventBridge.publishToChannel(c.t4l,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(c.WR7)},m.prototype.runSideEffects=function(v){if(!_.isEmpty(this.sideEffects))for(var e=0,h=this.sideEffects;e<h.length;e++)h[e].run(v)},m.prototype.verifyStrategy=function(){var v=this;return t.fF.assert(function(){return!!v.strategy},"undoRedoService functions should not be called without a strategy"),!!this.strategy},m}()},565773:function(ze,K,r){r.d(K,{gp:function(){return p}});var t=r(787941),c=function(){function v(e){this.count=0,this.top=-1,t.fF.assert(function(){return e>=1},"Size cant be less than 1"),this.size=e,this.data=new Array(e)}return v.prototype.item=function(e){var h=this;t.fF.assert(function(){return e>=0&&e<h.count},"index out of range");var n=this.top-(this.count-1);return n<0&&(n+=this.size),this.data[(e+n)%this.size]},v.prototype.push=function(e){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=e},v.prototype.pop=function(){if(0!==this.count){this.count--;var e=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),e}},v.prototype.peek=function(){return this.data[this.top]},v.prototype.clear=function(){this.count=0,this.top=-1,this.data=new Array(this.size)},Object.defineProperty(v.prototype,"length",{get:function(){return this.count},enumerable:!1,configurable:!0}),v}(),i=r(658353),p=function(){function v(e,h,n,o){this.handler=e,this.staticResourceReferences=h,this.telemetry=n,this.visibilityService=o,this.undoStack=new c(10),this.redoStack=new c(10),this.staticResourceReferences.addReferenceSource(this)}return v.prototype.register=function(e,h,n){var o=this,u=this.withTelemetry(function(){return o.captureUndoFrame(o.handler)},"Capture",e);u.recurringActionInfo=n;var a=this.canMergeWithTopFrame(n),l=this.startTransaction(u),d=h();t.fF.assert(function(){return!o.isIPromise(d)},"UndoRedoService.register does not support promise types");var b=!(_.isBoolean(d)&&!d);return b?this.endTransaction(l,a):this.cancelTransaction(l),{succeeded:b,actionResult:d}},v.prototype.getReferences=function(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))},v.prototype.addStackReferences=function(e,h){h=h||{};for(var n=e.length;n-- >0;)_.merge(h,e.item(n).getReferences());return h},v.prototype.undo=function(){var e=this,h=!1;return this.canUndo()&&(h=this.withTelemetry(function(){return e.rollbackTop(e.undoStack,e.redoStack)},"Undo",""),this.telemetry.logEvent(i.s$,{times:this.redoStack.length})),h},v.prototype.redo=function(){var e=this,h=!1;return this.canRedo()&&(h=this.withTelemetry(function(){return e.rollbackTop(e.redoStack,e.undoStack)},"Redo","")),h},v.prototype.clear=function(){return this.undoStack.clear(),this.redoStack.clear(),!0},v.prototype.canRedo=function(){return this.redoStack.length>0},v.prototype.canUndo=function(){return this.undoStack.length>0},v.prototype.canClear=function(){return!0},v.prototype.getTopUndoFrame=function(){var e=this.undoStack.peek();return e?e.getFrame():void 0},v.prototype.withTelemetry=function(e,h,n){var o=this.visibilityService.get(),a=this.telemetry.startEvent(i.hs,{description:n,event:h,visibility:null==o?void 0:o.visibility}),l=e();return a.resolve(),l},v.prototype.canMergeWithTopFrame=function(e){if(!e)return!1;if(this.canUndo()){var h=this.getTopUndoFrame();if(h&&void 0!==h.recurringActionInfo&&h.recurringActionInfo.equals(e))return!0}return!1},v.prototype.rollbackTop=function(e,h){var n=e.pop();if(n){var o=n.rollbackFrame(),u=this.validTransactionCheck(o);return u&&h.push(o),u}t.fF.assertFail("UndoRedoService.rollbackTop received an empty source")},v.prototype.isIPromise=function(e){return e&&e.finally},v.prototype.startTransaction=function(e){t.fF.assertValue(e,"undoFrame");var h=new m;return this.currentTransaction||(this.currentTransaction=h,this.currentTransaction.addUndoFrame(e)),this.currentTransaction},v.prototype.endTransaction=function(e,h){var n=this;t.fF.assertValue(e,"transaction"),t.fF.assert(function(){return e===n.currentTransaction},"nested transactions are not allowed"),h||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0},v.prototype.cancelTransaction=function(e){var h=this;t.fF.assertValue(e,"transaction"),t.fF.assert(function(){return e===h.currentTransaction},"nested transactions are not allowed"),this.currentTransaction=void 0},v.prototype.captureUndoFrame=function(e){return t.fF.assertValue(e,"container"),new V(e)},v.prototype.validTransactionCheck=function(e){return t.fF.assertValue(e,"null or undefined transaction values cannot be put on undo or redo stack."),!!e},v}(),V=function(){function v(e,h){t.fF.assertValue(e,"handler"),this.handler=e,this.snapshot=this.handler.takeSnapshot(h)}return v.prototype.rollbackFrame=function(){var e=new v(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),e},v.prototype.getReferences=function(){return this.snapshot.getReferences&&this.snapshot.getReferences()},v}(),m=function(){function v(e){this.frames=e||[]}return v.prototype.addUndoFrame=function(e){this.frames.push(e)},v.prototype.rollbackFrame=function(){return new v(_.map(this.frames,function(h){if(t.fF.assertValue(h,"frame"),h)return h.rollbackFrame()}))},v.prototype.getFrame=function(){var e=this;return t.fF.assert(function(){return 1===e.frames.length},"frame length"),this.frames[0]},v.prototype.getReferences=function(){for(var e={},h=0,n=this.frames;h<n.length;h++)_.merge(e,n[h].getReferences());return e},v}()},388172:function(ze,K,r){r.d(K,{J:function(){return m}});var t=r(787941),c=r(273139),i=r(658353),s=r(35801),p=r(1745),V=r(555161);function m(n,o,u,a){return new v(n,o,u,a)}var v=function(){function n(o,u,a,l){var d=this;this.telemetryService=o,this.eventBridge=u,this.selectionService=a,this.explorationNavigation=l,t.fF.assertValue(o,"telemetryService"),t.fF.assertValue(u,"eventBridge"),t.fF.assertValue(a,"selection"),this.selectionService=a,u.createChannelSubscriptionManager().subscribe(p.tRg,function(){return d.updatePopOutMode()})}return n.prototype.get=function(o){t.fF.assert(function(){return 0!==o},"mode !== VisualVisibility.None");var u=this.explorationNavigation.getCurrentSection(),a=u&&u.poppedOutElement;if(a&&(o||(o=27),o&a.visibility))return a.visualContainer},n.prototype.set=function(o,u,a){if(void 0===a&&(a=!0),t.fF.assertValue(o,"visualContainer"),t.fF.assertValue(u,"visibility"),0!==u){!V.UP.isCanvasItemSelected(o,this.selectionService)&&32!==u&&V.UP.selectCanvasItem(o,this.selectionService);var l={visualContainer:o,visibility:u},d=this.explorationNavigation.getAllSections(),b=_.find(d,function(g){return g.visualContainers.indexOf(o)>=0});b&&(function(n,o){return(n=n||null)===(o=o||null)||!(!n!=!o||(t.fF.assertValue(n,"left"),t.fF.assertValue(o,"right"),n.visualContainer!==o.visualContainer||n.visibility!==o.visibility))}(l,b&&b.poppedOutElement)||(this.clearInternal(!1,!1),this.setMode(l,u,a),b.poppedOutElement=l,this.poppableItem=l,this.raiseEvent(this.generateVisibilityChangedEventArgs(u))))}else this.clearInternal(!0,a)},n.prototype.clear=function(){this.clearInternal()},n.prototype.clearForVisualContainers=function(o){var u=this.explorationNavigation.getCurrentSection(),a=u&&u.poppedOutElement;if(a)for(var l=0,d=o;l<d.length;l++)if(a.visualContainer===d[l]){this.clearInternal();break}},n.prototype.clearInternal=function(o,u){void 0===o&&(o=!0),void 0===u&&(u=!0);var a=this.explorationNavigation.getCurrentSection(),l=a&&a.poppedOutElement;if(l){var d=this.poppableItem.visibility;this.setMode(l,0,u),a.poppedOutElement=void 0,o&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===l.visualContainer?this.generateVisibilityChangedEventArgs(d):void 0),this.poppableItem=void 0}},n.prototype.isSeeDataMode=function(o){return o&&(2===o||8===o||16===o)},n.prototype.updatePopOutMode=function(){var o=V.UP.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);o&&(0,c.Vz)(o)&&null!=o.visibility&&0!==o.visibility?this.set(o,o.visibility,!1):this.clearInternal(!0,!1)},n.prototype.raiseEvent=function(o){this.eventBridge.publishToChannel(p.y5h,o)},n.prototype.setMode=function(o,u,a){var l=o.visualContainer;if(a){var d=function(n){switch(n){case 1:return"Maximized";case 2:return"MaximizedWithData";case 8:return"MaximizedWithAccessibleData";case 4:return"Spotlight";case 32:return"Elevation";case 16:return"VisualCalcEditing";default:return"Normal"}}(u);this.telemetryService.logEvent(i.F,{visualType:(0,s.s)(l),displayType:d,visualName:o.visualContainer.name})}l.visibility=u},n.prototype.generateVisibilityChangedEventArgs=function(o){return{preserveScroll:4===o||32===o}},n}()},815636:function(ze,K,r){r.d(K,{_6:function(){return pe},Vz:function(){return Y},hQ:function(){return ve}});var t=r(39326),c=r(664723),i=r(935270),s=r(633888),p=r(210683),V=r(883863),m=r(787941),v=r(520907),e=r(261374),h=r(145315),n=r(426827),o=r(989516),u=r(283427),a=r(668268),l=r(41941),d=r(620108),b=r(389521),f=r(19632),g=r(454262),S=r(44615),y=r(597098),C=r(217926),E=r(13106),D=r(324356),P=r(435795),M=r(983172),T=r(799818),R=r(505876),B=r(822311),N=r(277632),x=r(571330),A=r(156319),I=r(821850),w=r(953016),F=r(809395),L=r(608794),W=r(714725),U=r(286972),j=r(226514),G=function(je){function Ae(_e,le,Z){var ie=je.call(this)||this;return ie.visualCalcDaxParserServiceContext=Z,ie.oldNativeRefereName=_e,ie.newNativeReferenceName=le,ie}return(0,j.__extends)(Ae,je),Ae.prototype.visitNativeVisualCalc=function(_e){if(_e.name===this.newNativeReferenceName)return _e;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var le=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,_e.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,D.YU)(_e.name,le,_e.getAnnotations())},Ae}(r(334048).b),te=r(456535),Q=r(374952),H=r(474147),de=r(600348);function Y(je,Ae,_e,le,Z,ie){return new We(je,Ae,_e,le,Z,ie)}function pe(je,Ae,_e,le){if(!je)return!1;var Z=!1;function ie(re,Ie,ot,we){le&&le(re.objectName,re.selector,Ie,ot,we,we&&re.properties&&re.properties[Ie])}if(je.replace)for(var me=0,ye=je.replace;me<ye.length;me++){var X=(0,a.zx)(_e,(oe=ye[me]).objectName,oe.selector),ue={};for(var Se in oe.properties)(0,l.e4)(Se)?ue[Se]=De(oe,Se,Ae):m.fF.assertFail("Invalid property name");var Be=X.properties;if(!(0,a.Pg)(Be,ue)){Z=!0;for(var Ze=0,qe=(0,a.hu)(Be,ue);Ze<qe.length;Ze++)ie(oe,Se=qe[Ze],Be[Se],ue[Se]);X.properties=ue}}if(je.merge)for(var it=0,be=je.merge;it<be.length;it++)for(var Se in X=(0,a.zx)(_e,(oe=be[it]).objectName,oe.selector),oe.properties)if((0,l.e4)(Se)){var Fe=De(oe,Se,Ae);(0,a.ES)(X.properties[Se],Fe)||(Z=!0,ie(oe,Se,X.properties[Se],Fe),X.properties[Se]=Fe)}else m.fF.assertFail("Invalid property name");if(je.remove)for(var ee=0,k=je.remove;ee<k.length;ee++)if(X=(0,a.my)(_e,(oe=k[ee]).objectName,oe.selector))for(var Se in oe.properties)(0,l.e4)(Se)?X.properties.hasOwnProperty(Se)&&(Z=!0,ie(oe,Se,X.properties[Se],void 0),delete X.properties[Se]):m.fF.assertFail("Invalid property name");if(je.removeObject)for(var Ce=0,J=je.removeObject;Ce<J.length;Ce++){var oe;if(X=(0,a.my)(_e,(oe=J[Ce]).objectName,oe.selector)){if(le)for(var Se in X.properties)ie(oe,Se,X.properties[Se],void 0);Z=(0,a.AV)(_e,oe.objectName,oe.selector)||Z}}return Z}function ve(je,Ae,_e){if(je.name!==c.x.rows||!(0,s.qU)(null==_e?void 0:_e.dataViewMappings))return!0;var le=Ae.query;if(!le||!le.defn)return!1;var Z=(0,n.cY)(le.projections,je.name);return!!Z&&_.size(Z.all())>0||Ae.hasUsedSmallMultiples}function De(je,Ae,_e){var Z;return m.fF.assertValue(je,"instance"),_e&&_e[je.objectName]&&_e[je.objectName].properties[Ae]&&(Z=_e[je.objectName].properties[Ae].type),(0,a.Lo)(je.properties[Ae],Z||{})}var We=function(){function je(Ae,_e,le,Z,ie,me){this.visualPluginService=Ae,this.geoTaggingService=_e,this.aggrOps=le,this.featureSwitchService=Z,this.visualAuthoringCustomizeOperations=ie,this.displayNameService=me,m.fF.assertValue(Ae,"visualPluginService"),m.fF.assertValue(_e,"geoTaggingService"),m.fF.assertValue(le,"aggrOps"),this.visualPluginOps=(0,W.f)(Ae,Z)}return je.prototype.create=function(Ae){m.fF.assertValue(Ae,"options");var _e=this.visualPluginService.capabilities(Ae.visualType),le=Ae.query||new N.g(E.vQ.create(),{},[]),Z=(0,L.F)().create(_e,this.geoTaggingService,le.isDrillDisabled);if(Z){var ie={visualType:Ae.visualType,query:le};for(var me in Ae.autoSelectVisualType&&(ie.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(ie,Ae.schema),ie.query.projections)this.ensureDependentObjectDefn(Z.objectDescs,me,ie);var ye=Ae.expr,oe=!Ae.inFilterVisualContainer&&ye&&!_.isArray(ye)&&M.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Ae.schema,Ae.expr,!A.l.supportsFilterOutput(_e),this.visualPluginOps.isAnalysisVisual(Ae.visualType));if(_.isEmpty(ye)||this.tryAdd(Z,ie,oe,Ae))return{singleVisual:ie}}},je.prototype.add=function(Ae,_e,le){var Z;m.fF.assertValue(Ae,"options"),m.fF.assertValue(_e,"target");var ie=_e.singleVisual;if(!ie)return!1;var me=this.visualPluginService.capabilities(ie.visualType),ye=!(null===(Z=ie.query)||void 0===Z||!Z.isDrillDisabled);ie.query||(ye=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,x.dR)(me));var oe=(0,L.F)().create(me,this.geoTaggingService,ye);return!!oe&&!!(ie.query?this.tryAdd(oe,ie,le,Ae):this.tryAddWithUndefinedQuery(oe,ie,le,Ae))&&(this.visualAuthoringCustomizeOperations.customizeOptions(ie,Ae.schema),je.clearConversionSourceContext(ie),!0)},je.prototype.toggleHidden=function(Ae,_e,le){var Z=Ae.getQueryRef(_e,{fieldIndex:le});Ae.toggleHidden(Z)},je.prototype.remove=function(Ae,_e,le){m.fF.assertValue(Ae,"options"),m.fF.assertValue(_e,"target");var Z=_e.singleVisual;return!(!Z||!this.tryRemove(Z.query,Z.columnProperties,Ae,le)||(je.clearConversionSourceContext(Z),0))},je.prototype.removeAllParametersAndProjectionsFromRole=function(Ae,_e,le,Z,ie){var me=_e&&_e.config;if(me){var ye=me&&me.singleVisual&&me.singleVisual.query;if(ye){var oe=ye.getQueryFieldParametersByRole(Ae);if(oe&&oe.length>0){for(var X={},ue=X[Ae]=[],Se=0,Be=oe;Se<Be.length;Se++)ue.push({parameter:Be[Se],result:[]});this.resolveParameters(le,_e,X,Z,ie,void 0);for(var Ze=oe.length-1;Ze>=0;Ze--)this.remove({count:void 0,projOptions:{parameter:oe[Ze]},role:Ae,shouldRemoveParameter:!0},me,le)}}}},je.prototype.move=function(Ae,_e){var le;m.fF.assertValue(Ae,"options"),m.fF.assertValue(_e,"target"),m.fF.assert(function(){return _.isNumber(Ae.sourceIndex)&&_.isNumber(Ae.targetIndex)&&Ae.targetIndex>=0&&Ae.sourceIndex>=0},"Invalid replace index"),m.fF.assert(function(){return _.isNumber(Ae.sourceCount)&&Ae.sourceCount>0},"Invalid number of items to replace");var Z=_e.singleVisual;if(!Z)return!1;if(Ae.sourceRole===Ae.targetRole&&!Ae.replacementExpressions)return!!Z.query.moveProjection(Ae.targetRole,Ae.sourceIndex,Ae.targetIndex,Ae.sourceCount)&&(je.clearConversionSourceContext(Z),!0);var me=[];if(!(null===(le=Z.query)||void 0===le?void 0:le.getParameterByFieldIndex(Ae.sourceIndex,Ae.sourceRole))){var ye=Z.query.tryGetFieldExprs(Ae.sourceRole);if(_.isEmpty(ye)||ye.length<Ae.sourceCount)return!1;for(var oe=0;oe<Ae.sourceCount;oe++)if(me[oe]=ye[Ae.sourceIndex+oe],!me[oe])return!1}return this.moveProjectionCore(_e,me,Ae)},je.prototype.convert=function(Ae){var _e;m.fF.assertValue(Ae,"options");var le=Ae.source;if(!le)return!1;var Z=le.conversionSourceContext;Z||(Z=le.conversionSourceContext=this.createConversionSourceContext(le.query,le.visualType,le.syncGroup));var ie=this.visualPluginService.capabilities(Z.visualType),me=this.visualPluginService.capabilities(Ae.target);if(!ie||!me||_.isEmpty(me.dataRoles))return!1;if((0,v.fS)(ie,me)){var ye=this.visualPluginService.capabilities(le.visualType);return this.convertRoleWildCardProperties(ye,me,le.objects),le.query=Z.query,le.visualType=Ae.target,le.visualType===Ae.target&&me.supportsSynchronizingFilterState&&(le.syncGroup=Z.syncGroup),!0}if(Ae.skipRoleMapping)return le.query=Z.query,le.visualType=Ae.target,!0;var X=Ae.schema,ue=this.convertDrillableRoles(Z.query,ie,me,Ae.target,X),Se=ue.query,Be=(0,x.WO)(me,Se.isDrillDisabled),Ke=this.getUniqueQueryFields(Z.query,Ae.target);Ke=_.differenceWith(Ke,ue.convertedFields,N.g.isEqualQueryFields);var Ze=(0,L.F)().create(me,this.geoTaggingService,Se.isDrillDisabled),qe=(0,L.F)().create(ie,this.geoTaggingService,Z.query.isDrillDisabled);Ze.orderByRolePreferences(X,Ke);var it=(0,n.d9)(Se.projections),be=this.getExpressionRoleMappings(le.query,Ke),Fe=this.getConversionExprRoleList(be,qe,Ze,X,Ae.target,le,it,Be);if(_.isEmpty(Fe)&&_.isEmpty(Se.projections))return!1;for(var ee=0,k=Fe;ee<k.length;ee++){var Ce=k[ee];Ce.isFieldParameter?Se.addParameter(Ce.expr,Ce.roleName):Se.add(Ce.expr,Ce.roleName,{nativeReferenceName:Ce.nativeReferenceName,isHidden:Ce.isHidden}),this.ensureDependentObjectDefn(Ze.objectDescs,Ce.roleName,le)}var re,Ie,J=(0,x.WO)(this.visualPluginService.capabilities(le.visualType),!(null===(_e=le.query)||void 0===_e||!_e.isDrillDisabled));_.isEmpty(J)?(re=(0,x.WO)(ie,Z.query.isDrillDisabled),Ie=Z.query):(re=J,Ie=le.query);for(var ot=0,we=Be;ot<we.length;ot++){var he=we[ot];if(Se.projections[he]){Se.ensureActiveItems(he);for(var Te=0,Oe=re;Te<Oe.length;Te++){var Je=Oe[Te];Ie.projections[Je]&&(Se.projections[he].activeProjectionRefs=Ie.projections[Je].activeProjectionRefs)}}}return this.updateTargetShowAllInfo(Z,Se,Ze),Se.removeUnusedOrderBy(),Se.resetExpansionStates(),this.convertRoleWildCardProperties(ie,me,le.objects),this.upgradePivotTableProperties(le.objects,le.visualType,Ae.target),le.query=Se,le.visualType=Ae.target,this.visualAuthoringCustomizeOperations.customizeOptions(le,X),!0},je.prototype.convertRoleWildCardProperties=function(Ae,_e,le){if(m.fF.assertValue(Ae,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),m.fF.assertValue(_e,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(le)){var Z=_.chain(Ae.dataRoles).filter(function(qe){return qe.kind!==h.DW.Measure}).map(function(qe){return qe.name}).value(),ie=_.chain(_e.dataRoles).filter(function(qe){return qe.kind!==h.DW.Measure}).map(function(qe){return qe.name}).value();if(!_.isEmpty(Z)&&!_.isEmpty(ie))for(var me in le){var ye=le[me];if(!_.isEmpty(ye))for(var oe=0,X=ye;oe<X.length;oe++){var Se=X[oe].selector;if(Se&&!_.isEmpty(Se.data))for(var Be=0,Ke=Se.data.length;Be<Ke;Be++){var Ze=Se.data[Be];(0,o.j9)(Ze)&&_.isEqual(_.sortBy(Ze.roles),_.sortBy(Z))&&(Se.data[Be]=(0,b.Yp)(ie))}}}}},je.prototype.upgradePivotTableProperties=function(Ae,_e,le){("matrix"===_e||"table"===_e)&&("pivotTable"===le||"tableEx"===le)&&((0,a.TX)(Ae,"general",void 0,"textSize","grid"),(0,a.TX)(Ae,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===_e&&"pivotTable"===le&&((0,a.TX)(Ae,"general",void 0,"columnSubtotals","subTotals"),(0,a.TX)(Ae,"general",void 0,"rowSubtotals","subTotals")),"table"===_e&&"tableEx"===le&&(0,a.TX)(Ae,"general",void 0,"totals","total")},je.prototype.setAggregate=function(Ae,_e){if(!_e.singleVisual.query.setAggregate(Ae.role,Ae.index,Ae.newAggregate))return!1;var le=this.generateNativeReferenceNameForOperation(Ae,_e);return this.setNativeReferenceNameByRoleAndProjectionIndex(_e.singleVisual.query,Ae.index,Ae.role,le,Ae),je.clearConversionSourceContext(_e.singleVisual),!0},je.prototype.removeAggregate=function(Ae,_e){if(!_e.singleVisual.query.removeAggregate(Ae.role,Ae.index))return!1;var le=this.generateNativeReferenceNameForOperation(Ae,_e);return this.setNativeReferenceNameByRoleAndProjectionIndex(_e.singleVisual.query,Ae.index,Ae.role,le,Ae),je.clearConversionSourceContext(_e.singleVisual),!0},je.prototype.setPercentOfGrandTotal=function(Ae,_e){if(!_e.singleVisual.query.setPercentOfGrandTotal(Ae.role,Ae.index))return!1;var le=this.generateNativeReferenceNameForOperation(Ae,_e);return this.setNativeReferenceNameByRoleAndProjectionIndex(_e.singleVisual.query,Ae.index,Ae.role,le,Ae),je.clearConversionSourceContext(_e.singleVisual),!0},je.prototype.removePercentOfGrandTotal=function(Ae,_e){if(!_e.singleVisual.query.removePercentOfGrandTotal(Ae.role,Ae.index))return!1;var le=this.generateNativeReferenceNameForOperation(Ae,_e);return this.setNativeReferenceNameByRoleAndProjectionIndex(_e.singleVisual.query,Ae.index,Ae.role,le,Ae),je.clearConversionSourceContext(_e.singleVisual),!0},je.prototype.setPercentOfRoleTotal=function(Ae,_e){if(!_e.singleVisual.query.setPercentOfRoleTotal(Ae.roleRefs,Ae.role,Ae.index))return!1;var le=this.generateNativeReferenceNameForOperation(Ae,_e);return this.setNativeReferenceNameByRoleAndProjectionIndex(_e.singleVisual.query,Ae.index,Ae.role,le,Ae),je.clearConversionSourceContext(_e.singleVisual),!0},je.prototype.removePercentOfRoleTotal=function(Ae,_e){if(!_e.singleVisual.query.removePercentOfRoleTotal(Ae.role,Ae.index))return!1;var le=this.generateNativeReferenceNameForOperation(Ae,_e);return this.setNativeReferenceNameByRoleAndProjectionIndex(_e.singleVisual.query,Ae.index,Ae.role,le,Ae),je.clearConversionSourceContext(_e.singleVisual),!0},je.prototype.updateVisualCalculation=function(Ae,_e,le,Z,ie,me,ye){var oe=Ae.singleVisual.query;if(!oe||!oe.updateVisualCalculation(_e,le,Z,ie))return!1;if(ye){var X=oe.getQueryRef(le,{fieldIndex:_e});oe.resetHiddenState(X);var Be=(0,L.F)().create(this.visualPluginService.capabilities(Ae.singleVisual.visualType),this.geoTaggingService,oe.isDrillDisabled).getNumberRangesForRoles(oe)[le],Ke=oe.projections[le].projected().length;Be&&Be.max<Ke&&this.tryHideOnOverflow(le,oe,u.zS.conditionRangeTooLarge,_e)}return this.setNativeReferenceNameByRoleAndProjectionIndex(oe,_e,le,Z,me),je.clearConversionSourceContext(Ae.singleVisual),!0},je.prototype.setNativeReferenceNameByRoleAndProjectionIndex=function(Ae,_e,le,Z,ie){var me=Ae.getQueryRefByProjectionIndex(le,_e);if(null!=me){var ye=Ae.defn.select(),oe=(0,V.g2)(ye,me);this.setNativeReferenceNameAt(Ae,oe,Z,ie)}},je.prototype.setNativeReferenceNameAt=function(Ae,_e,le,Z){var ie,me=Ae.defn.getNativeReferenceNameAt(_e);if(me!==le&&(Ae.defn.setNativeReferenceNameAt(_e,le),!(0,e.g)(me)&&null!=(null===(ie=null==Z?void 0:Z.visualCalcDaxParserServiceContext)||void 0===ie?void 0:ie.service))){var ye=new G(me,le,Z.visualCalcDaxParserServiceContext);new U.$(ye).rewriteQuery(Ae)}},je.prototype.toggleShowAll=function(Ae,_e){_e.singleVisual.query.toggleShowAll(Ae),je.clearConversionSourceContext(_e.singleVisual)},je.prototype.changeDrillState=function(Ae,_e,le){_e.query.changeDrillStateValue(Ae,!le),je.clearConversionSourceContext(_e)},je.prototype.changeActiveProjection=function(Ae,_e,le){var Z=_e.query.projections[Ae];if(Z){var ye,ie=_.uniqBy(Z.all(),function(X){return X.queryRef}),me=_.uniq(Z.activeProjectionRefs);_.isEmpty(me)||(ye=me.length);var oe=ye&&_.findIndex(ie,function(X){return X.queryRef===me[ye-1]});if(!(null==oe||oe<0)){if(1===le){if(!(oe>=1))return;me.pop(),(1===ye||me[ye-2]!==ie[oe-1].queryRef)&&me.push(ie[oe-1].queryRef)}else{if(3===le&&(me.length=0),m.fF.assert(function(){return ie.length>=oe+1},"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(ie.length>oe+1))return;me.push(ie[oe+1].queryRef)}return je.clearConversionSourceContext(_e),Z.activeProjectionRefs=me,me}}},je.prototype.addDrillFilter=function(Ae,_e,le,Z,ie){this.addDrill(Ae,_e,le,Z,ie,2,!0)},je.prototype.addDrillToDetailsFilter=function(Ae,_e,le,Z,ie){_.remove(_e,function(me){return!!me.expression&&(0,Q.k)(me.expression)}),this.addDrill(Ae,_e,le,Z,ie,0,!1)},je.prototype.addDrill=function(Ae,_e,le,Z,ie,me,ye){if(_e&&le&&!_.isEmpty(Z)&&ie)for(var oe=function(Ke){var Ze=le.defn.select().withName(Ke).expr,qe=ie.expr,it=(0,te.Ym)(qe);it&&(qe=qe.arg);var be=(0,C.FD)(qe),Fe=[],ee=void 0,k=Ze.getKeyColumns(Ae);if(!_.isEmpty(be.values))for(var Ce=function(Oe){var Je=be.args[Oe];if(Je&&-1!==M.m.indexOfExpr(k,Je)){Fe.push(Je);var fe=_.map(be.values,function(ne){return[ne[Oe]]});ee=_.isEmpty(ee)?fe:_.chain(ee).zip(fe).map(function(ne){return _.flatten(ne)}).value()}},J=0;J<be.args.length;J++)Ce(J);if(!_.isEmpty(Fe)&&!_.isEmpty(ee)){var re=(0,D.Sh)(Fe,ee||[]);it&&(re=(0,D.ff)(re));var we,Ie=(0,f.SN)([{kind:1,expr:re,key:ie.key}]),ot=_.filter(_e,function(Te){return(0,H.fS)(Ze,Te.expression)});ye&&(we=_.find(ot,function(Te){return Te.howCreated===me})),we?(m.fF.assert(function(){return!we.filter||we.howCreated===me&&ye},"The filter to overwrite should be empty or the specified kind we want to overwrite"),we.filter=Ie,we.howCreated=me,we.precedence=0):_e.push({name:null,expression:Ze,filter:Ie,type:R.vA.Categorical,howCreated:me,precedence:0})}},X=0,ue=Z;X<ue.length;X++)oe(ue[X])},je.prototype.removeDrillFilter=function(Ae,_e){return this.removeDrillFilterCore(Ae,_e)},je.prototype.removeAllDrillFilters=function(Ae){return this.removeDrillFilterCore(Ae)},je.prototype.removeDrillFilterCore=function(Ae,_e){if(!Ae)return!1;this.ensureFiltersArrayIsValid(Ae);for(var le=[],Z=0,ie=Ae.length;Z<ie;Z++){var me=Ae[Z];if(me&&2===me.howCreated)if(void 0===_e)le.push(Z);else if((0,H.fS)(_e,me.expression)){le.push(Z);break}}return _.forEachRight(le,function(ye){return Ae.splice(ye,1)}),!!le.length},je.prototype.setMatchingFilterToAuto=function(Ae,_e){if(_e.filters){var le=_.find(_e.filters,function(Z){return null!=Z&&(0,H.fS)(Z.expression,Ae)});le&&(le.howCreated=0)}},je.prototype.removeAutoFilterFromContract=function(Ae,_e,le){if(Ae){var Z=Ae.filters;if(Z){var ie=Ae.config.singleVisual.query,me=null!=le?le:this.getRemoveOptionsQueryRefs(_e,ie);_.forEach(me,function(ye){var oe=ie.defn.select().withName(ye),X=oe?oe.expr:void 0,ue=(0,V.Rl)(Z,function(Be){return m.fF.assertValue(Be,"removeAutoFilterFromContract: visualContainer with name ".concat(Ae.name," contains blank value in .filters")),null!=Be&&0===Be.howCreated&&(0,H.fS)(Be.expression,X)});if(ue.length>0){m.fF.assertValue(1===ue.length,"More than one auto filter found");var Se=A.l.isFilterModified(ue[0]);Se?Se&&(ue[0].howCreated=1):_.remove(Ae.filters,ue[0])}}),this.ensureFiltersArrayIsValid(Z)}}},je.prototype.ensureFiltersArrayIsValid=function(Ae){if(null!=Ae)for(var _e=Ae.length-1;_e>=0;_e--)null==Ae[_e]&&(m.fF.assertFail("filters array contains null element"),Ae.splice(_e,1))},je.prototype.getRemoveOptionsQueryRefs=function(Ae,_e){var le,Z,ie=[],me=Ae,ye=me.projOptions;if(me.role&&null!==ye.fieldIndex){var oe=ye.fieldIndex,X=ye.parameter;if(X)for(var ue=null!==(le=X.length)&&void 0!==le?le:0,Se=0;Se<ue;Se++){var Be=_e.getQueryRef(me.role,{parameter:X,indexInParameter:Se});ie.push(Be)}else{var Ke=null!==(Z=me.count)&&void 0!==Z?Z:1;for(Se=0;Se<Ke;Se++)(Be=_e.getQueryRef(me.role,{fieldIndex:oe+Se}))&&ie.push(Be)}}else if(Ae.expr){var qe=(0,V.rY)(Ae.expr),it=_e.defn.select();_.forEach(qe,function(be){var Fe=_.filter(it,function(ee){var k=ee.expr;return(0,te.iV)(k)&&(k=k.arg),(0,H.fS)(k,be)});_.forEach(Fe,function(ee){ee&&ee.name&&ie.push(ee.name)})})}return ie},je.prototype.isEmptyQueryVisual=function(Ae){var _e=Ae.config.singleVisual;if(_e&&this.visualPluginOps.isQueryVisual(_e.visualType)&&_e.query&&0===_e.query.defn.select().length&&_.isEmpty(_e.query.getQueryFieldParameters())){var le=this.visualPluginService.capabilities(_e.visualType);if(le){var Z=(0,g.$T)(le.dataViewMappings,_e.objects);return!(Z&&!(0,e.g)(Z.source))}return!1}return!1},je.prototype.setDefaultSort=function(Ae,_e,le,Z){if(Ae.config&&Ae.config.singleVisual){var ie=Ae.config.singleVisual,me=Z.capabilities(ie.visualType);if(le.shouldApplyDefaultSort(ie,me)){var ye=ie.query;if(ye){var oe=ye.defn,X=ye.projections,ue=oe.select(),Se=[],Be=_.filter(me.dataRoles,function(fe){return!(_.has(fe,"joinPredicate")||0===fe.joinPredicate)});if(_.some(Be,function(fe){var ne=(0,n.cY)(X,fe.name);if(ne){var Ne=_.map(ne.all(),function(et){return ue.withName(et.queryRef)});return _.some(Ne,function(et){return et&&et.expr&&!_.isEmpty(et.expr.getOrderByColumns(_e))})}}))return void(ie.hasDefaultSort&&(ie.query=new N.g(oe.orderBy([]),ye.projections,ye.expansionStates,ye.isDrillDisabled),ie.hasDefaultSort=!1));for(var Ze=!1,qe=0,it=Be;qe<it.length;qe++){var be=it[qe],Fe=(0,n.cY)(X,be.name);if(Fe){var ee=_.map(Fe.all(),function(fe){return fe.queryRef});if(ee){for(var k=!1,Ce=[],J=this.shouldDefaultExpandSort(be.name,me.expandAndSort,ee.length),re={direction:1,expr:null},Ie=0,ot=ee;Ie<ot.length;Ie++){var we=ot[Ie],he=ue.withName(we),Te=he&&he.expr;if(Te&&M.m.isExprValidForSorting(Te)){var Oe=Te.getMetadata(_e);if(Oe){var Je=1===Oe.kind&&Oe.type.numeric;if(J&&(Oe.type.text||Oe.type.temporal||Oe.type.numeric&&_.first(ee)!==we?Ce.push({direction:1,expr:Te}):J=!1),null==re.expr&&(Te&&Je&&(re.direction=2),re.expr=Te),Oe.type.temporal&&(k=Ze=!0,!J)||Je&&(k=!0,!J))break}}}if(J&&_.isEmpty(Se)){m.fF.assertValue(_.isEmpty(Ce),"hierarchical sort has no expr (setDefaultSort)"),Se=Ce;break}if(k&&(_.isEmpty(Se)||Ze)&&(m.fF.assertValue(re.expr,"first projection sort has no expr (setDefaultSort)"),Se=[re]),Ze||J)break}}}_.isEmpty(Se)||(ie.hasDefaultSort=!0,ie.query=new N.g(oe.orderBy(Se),ye.projections,ye.expansionStates,ye.isDrillDisabled))}}}},je.prototype.setDefaultExpandLevel=function(Ae,_e,le,Z,ie,me){var ye=this,oe=_e.capabilities(Ae.config.singleVisual.visualType);if(le&&oe.expandAndSort&&_.includes(oe.expandAndSort,le)&&Ae.config&&Ae.config.singleVisual){var X=Ae.config.singleVisual.query;X&&oe.expandAndSort.forEach(function(ue){var Se=(0,n.cY)(X.projections,ue);if(Se){var Be=Se.getQueryRefs();if(ye.shouldDefaultExpandSort(ue,oe.expandAndSort,Be.length)){var Ke=!1;if(ie)if(1===me){var Ze=Be.indexOf(ie[ue].projectionName);if(Ze<0)return;Ze===Be.length-2&&Be.length-1===ie[ue].totalNumberOfProjections?Ke=!0:Ze<Be.length-1&&Be.splice(Ze+1),Ke=!0}else 2===me&&(Ke=!!_.isEmpty(ie)||ie[ue].currentPosition===ie[ue].totalNumberOfProjections);Ke&&(Se.activeProjectionRefs=_.map(Be,function(qe){return qe}),ye.setDrillMode(Ae,2,Z))}}})}},je.prototype.ensureValidDrillState=function(Ae,_e,le){for(var Z=0,ie=_e;Z<ie.length;Z++){var me=ie[Z];this.removeDrillFilter(Ae.filters,me.expr);var ye=Ae.config.singleVisual.query,oe=ye.projections[me.roleName];if(oe){var X=_.last(oe.activeProjectionRefs);if(null!=X){var ue=ye.defn.select().withName(X).expr;this.removeDrillFilter(Ae.filters,ue)}}}this.ensureValidDrillMode(Ae,le)},je.prototype.ensureValidDrillMode=function(Ae,_e){var le=Ae.drillMode;(1===le&&0===_e.getSupportedDrillDirections(Ae)||2===le&&!_e.canDrillToDetails(Ae))&&this.setDrillMode(Ae,0,_e)},je.prototype.resolveParameters=function(Ae,_e,le,Z,ie,me){var ye={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},oe=_e&&_e.config&&_e.config.singleVisual&&_e.config.singleVisual.query;if(!oe)return ye;var X=[];for(var ue in le)for(var Se=oe.projections[ue],Be=Se.getFieldParameters(),Ke=function(k){var Ce=k.parameter,J=k.result,re=_.find(Be,function(Me){return Me.index===Ce.index});if(!re||!(0,H.fS)(Ce.expr,re.expr))return"continue";for(var Ie=Se.getParameterProjections(re),ot=_.map(Ie,function(Me){return oe.defn.select().withName(Me.queryRef).expr}),we=_.map(J,function(Me){return Me.expr}),he=(0,V.f1)(we,ot,H.fS),Te=he.length-1,Oe=[],Je=[],fe=[],ne=ot.length-1;ne>=0;ne--)Te>=0&&(0,H.fS)(ot[ne],he[Te])?Te--:(Je.push(Ne={role:ue,projOptions:{parameter:re,indexInParameter:ne}}),Oe.push(Ie[ne].queryRef),fe.push({expr:ot[ne],roleName:ue}));if(Je.length>0){var tt=Ze.removeWithValidation(oe,Oe,Je,_e,Ae,fe,Z,ie,void 0,!0),Ve=tt.removeAttemptCount,Le=tt.outputFilterChange;ye.totalRemoveSuccessCount+=tt.removeSuccessCount,ye.totalRemoveAttemptCount+=Ve,ye.outputFilterChange||(ye.outputFilterChange=Le)}Te=0;var at=0,ft=0;for(ne=0;ne<we.length;ne++){var ht=J[ne].alias,Ne={parameter:re,indexInParameter:ne-(at-ft)};if(he.length>0&&(0,H.fS)(we[ne],he[Te]))Te++,me&&(ye.aliasChange=me(Ae,_e,Ne,ue,ht)||ye.aliasChange);else{var Ge=we[ne];at++,Ze.add({expr:Ge,schema:Ae,targetRole:ue,projOptions:Ne},_e.config,!1)&&(ft++,(0,te.t3)(Ge)?ye.totalSuccessColumnCount++:(0,te.kb)(Ge)?ye.totalSuccessMeasureCount++:(0,te.ez)(Ge)&&ye.totalSuccessDateHierarchyCount++,X.push(Ge),me&&(ye.aliasChange=me(Ae,_e,Ne,ue,ht)||ye.aliasChange))}}ye.totalAddAttemptCount+=at},Ze=this,qe=0,it=le[ue];qe<it.length;qe++)Ke(it[qe]);if(ye.totalAddSuccessCount=X.length,ye.totalAddSuccessCount>0){var Fe=this.runAddFieldValidation(_e,Ae,X,Z,ie,void 0,!0);ye.outputFilterChange||(ye.outputFilterChange=Fe)}return(ye.totalAddSuccessCount>0||ye.totalRemoveSuccessCount>0)&&(this.setDefaultSort(_e,Ae,ie,this.visualPluginService),(0,F.Hr)(_e),ye.queryChange=!0),ye},je.prototype.runAddFieldValidation=function(Ae,_e,le,Z,ie,me,ye,oe,X,ue){this.ensureValidDrillMode(Ae,Z);var Se=!1;if(!ye||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var Ke=(me||this.updateFilterState.bind(this))(_e,Ae,!1,!0,!0,void 0,ue);Se=(null==Ke?void 0:Ke.clearOrDefault)||(null==Ke?void 0:Ke.updateAll)}if(ye||(this.setDefaultExpandLevel(Ae,this.visualPluginService,oe,Z,X,2),this.setDefaultSort(Ae,_e,ie,this.visualPluginService),(0,F.Hr)(Ae)),_.isArray(le))for(var qe=0,it=le;qe<it.length;qe++)this.setMatchingFilterToAuto(it[qe],Ae);else this.setMatchingFilterToAuto(le,Ae);return Se},je.prototype.removeWithValidation=function(Ae,_e,le,Z,ie,me,ye,oe,X,ue){var Se,Be=0,Ke=[],Ze=!1;this.removeAutoFilterFromContract(Z,void 0,_e);for(var qe=0;qe<le.length;qe++){var it=this.remove(le[qe],Z.config,ie);Be+=it?1:0,it||Ke.push(qe)}if(Be>0){if(Ke.length>0){_e=_.clone(_e);for(var be=Ke.length-1;be>=0;be--)_e.splice(Ke[be],1)}if(!ue){var Fe=this.captureCurrentActiveProjectionsByRole(Z);this.setDefaultExpandLevel(Z,this.visualPluginService,null===(Se=_.first(le))||void 0===Se?void 0:Se.role,ye,Fe,0)}if(this.ensureValidDrillState(Z,me,ye),this.isEmptyQueryVisual(Z)?Ae=Z.config.singleVisual.query=void 0:ue||(this.setDefaultSort(Z,ie,oe,this.visualPluginService),(0,F.Hr)(Z)),!ue||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var k=(X||this.updateFilterState.bind(this))(ie,Z,!0,!0,!0,null);Ze=(null==k?void 0:k.clearOrDefault)||(null==k?void 0:k.updateAll)}ue||this.clearUnusedObjectDefinitions(Z,Ae,_e)}return{removeAttemptCount:le.length,removeSuccessCount:Be,outputFilterChange:Ze}},je.prototype.clearUnusedObjectDefinitions=function(Ae,_e,le){_.forEach(le,function(Z){if(!_e||!_e.isUsed(Z)){var ie=Ae.config.singleVisual.objects;_.forEach(ie,function(me,ye){var oe=[];_.forEach(me,function(X){X.selector&&X.selector.metadata===Z&&oe.push(X.selector)}),_.forEach(oe,function(X){(0,a.AV)(ie,ye,X)})})}})},je.prototype.updateFilterState=function(Ae,_e,le,Z,ie,me){var ye=_e.config.singleVisual,oe=this.visualPluginService.capabilities(ye.visualType),X=oe?oe.objects:null;if(Z&&this.ensureDefaultFilterApplied(Ae,ye,le))return{clearOrDefault:!0,updateAll:!1};var ue=!1;if(ie){var Se=this.updateFilterOutput(ye,X,Ae);if(2===Se)return{clearOrDefault:!0,updateAll:!1};ue=1===Se}var Be=_e.config.singleVisual;return!ue&&me&&Be&&Be.objects&&(0,a.NA)(Be.objects,me,null)&&(ue=!0),{clearOrDefault:!1,updateAll:ue}},je.prototype.ensureDefaultFilterApplied=function(Ae,_e,le){var Z=this.visualPluginService.capabilities(_e.visualType),ie=Z?Z.objects:null,me=(0,d.Ln)(ie),ye=_e.query&&_e.query.getUniqueQueryRefs();if(!me||_.isEmpty(ye))return this.clearDefaultFilterOutput(_e,ie);for(var oe=_e.query.defn.select(),ue=[],Se=[],Be=!0,Ke=0,Ze=_.map(ye,function(ee){return oe.withName(ee).expr});Ke<Ze.length;Ke++){var qe=Ze[Ke];M.m.getDefaultValue(qe,Ae)?Be?ue.push.apply(ue,this.getExprKeyColumns(qe,Ae)):Se.push.apply(Se,this.getExprKeyColumns(qe,Ae)):Be=!1}if(_.isEmpty(ue)&&_.isEmpty(Se)||le)return this.clearDefaultFilterOutput(_e,ie);_e.objects||(_e.objects={});var be=(0,d.MD)(ie),Fe=E.yl.getDefaultAnyValueFilter(ue,Se);return(0,a.sO)(_e.objects,be,null,Fe),!0},je.prototype.getExprKeyColumns=function(Ae,_e){var le=(0,y.Q)(Ae);return le.column||le.groupingColumn||le.hierarchyLevel?Ae.getKeyColumns(_e):[Ae]},je.prototype.clearDefaultFilterOutput=function(Ae,_e){if(!Ae.objects)return!1;var le=(0,d.MD)(_e);if(!le)return!1;var Z=(0,a.NA)(Ae.objects,le,null);return!(!Z||!E.yl.isDefaultFilter(Z)||((0,a.E2)(Ae.objects,le.objectName,null,le.propertyName),0))},je.prototype.updateFilterOutput=function(Ae,_e,le){if(!Ae.objects)return 0;var Z=(0,d.MD)(_e);if(!Z)return 0;var ie=(0,a.NA)(Ae.objects,Z,null);if(ie){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!Ae.query)return(0,a.E2)(Ae.objects,Z.objectName,null,Z.propertyName),2;var me=this.updateFilterOutputForVisual(Ae.query,ie,le);return E.yl.isSameFilter(me,ie)?0:me?((0,a.sO)(Ae.objects,Z,null,me),1):((0,a.E2)(Ae.objects,Z.objectName,null,Z.propertyName),2)}return 0},je.prototype.updateFilterOutputForVisual=function(Ae,_e,le){var Z=Ae.getUniqueQueryRefs();if(!_.isEmpty(Z)){var ie=new t.H,me=Ae.defn.select(),ye=_.map(Z,function(it){return me.withName(it).expr.accept(ie,le)}).reduce(function(it,be){return it.concat(be)},[]);if(!_.isEmpty(ye)){for(var oe,ue=[],Se=0,Be=_e.where();Se<Be.length;Se++){var Ke=Be[Se],Ze=M.m.syncSQExprWithFilterIdenities(ye,Ke.condition);Ze&&ue.push({target:Ke.target,condition:Ze,annotations:Ke.annotations})}return ue.length>0&&(oe=new E.yl(_e.from(),ue)),oe}}},je.prototype.moveProjectionCore=function(Ae,_e,le){var Z,ie=Ae.singleVisual;if(!ie||!ie.query)return!1;var me=le.sourceRole,ye=le.targetRole,oe=le.sourceIndex,X=le.targetIndex,ue=le.replacementExpressions,Se=le.schema,Be=le.allowPartialReplace,Ke=(0,B.d9)(ie),Ze=Ke.query.getParameterByFieldIndex(oe,me);m.fF.assert(function(){return!!Ze||_e.length>0},"No items specified to replace");var qe=Ke.query.defn.orderBy(),it=_e;_.isEmpty(ue)||(it=_.map(ue,function(ne,Ne){var et=it[Ne];return et?{expr:ne,isFieldParameter:et.isFieldParameter,isHidden:et.isHidden,nativeReferenceName:et.nativeReferenceName}:{expr:ne}}));var be_getColumnPropertiesForExprs=function(_e,le){var Z=[];if(le.columnProperties)for(var ie=0,me=_e;ie<me.length;ie++){var ye=me[ie],oe=le.query.defn.selectNameOf(ye),X=le.columnProperties[oe];X&&Z.push({originalExpr:ye,columnProperty:X})}return Z},be_applyColumnPropertiesByExpr=function(_e,le,Z,ie){var me=_.find(ie,function(oe){return oe.originalExpr===_e});if(me){var ye=Z.query.defn.selectNameOf(le);Z.columnProperties[ye]||(Z.columnProperties[ye]=me.columnProperty)}},Fe=be_getColumnPropertiesForExprs(_.map(it,function(ne){return ne.expr}),Ke);if(!this.tryRemoveProjections(Ke.query,Ke.columnProperties,{role:me,projOptions:{fieldIndex:oe,parameter:Ze},count:_e.length,shouldRemoveParameter:!0}))return!1;qe.length>0&&Ke.query.orderBy(qe);var k=this.visualPluginService.capabilities(ie.visualType),Ce=(0,L.F)().create(k,this.geoTaggingService,!(null===(Z=ie.query)||void 0===Z||!Z.isDrillDisabled));if(!Ce)return!1;var J=Ce.roles.withName(ye);if(!J)return!1;var re=me===ye&&X===oe,Ie=!1;if(re){if(1===it.length&&M.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Se,it[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!A.l.supportsFilterOutput(k),this.visualPluginOps.isAnalysisVisual(Ke.visualType))&&!(Ie=this.tryAdd(Ce,Ke,!0,{expr:it[0].expr,schema:Se,targetRole:ye,projOptions:{fieldIndex:X}})))return!1}else if(Ze&&!(Ie=this.tryAdd(Ce,Ke,!0,{expr:Ze.expr,schema:Se,targetRole:ye,projOptions:{fieldIndex:X},hideOnOverflow:le.hideOnOverflow})))return!1;if(!Ie)for(var he=0;he<it.length;he++){var Te=it[he].expr,Oe=it[he];if(Oe.expr=this.aggregateIfNecessary(Oe.expr,J,Se),Oe.isHidden=Oe.isHidden&&(0,Q.k)(Oe.expr),!this.tryAdd(Ce,Ke,!1,{expr:Oe.expr,schema:Se,targetRole:ye,projOptions:{fieldIndex:X+he,nativeReferenceName:re?void 0:it[he].nativeReferenceName,isHidden:Oe.isHidden},hideOnOverflow:le.hideOnOverflow})){if(he>0&&Be)break;return!1}if(ie.query.projections[me].showAll){var fe=it[he].expr.getMetadata(Se);this.isShowAllRole(J.kind)&&fe&&1!==fe.kind&&(Ke.query.projections[ye].showAll=!0)}be_applyColumnPropertiesByExpr(Te,Oe.expr,Ke,Fe)}return Ae.singleVisual=Ke,this.visualAuthoringCustomizeOperations.customizeOptions(Ae.singleVisual,Se),je.clearConversionSourceContext(Ae.singleVisual),!0},je.prototype.aggregateIfNecessary=function(Ae,_e,le){return null!=(0,S._L)((0,y.Q)(Ae,le))||_e.kind!==h.DW.Measure||M.m.discourageAggregation(Ae,le)?_e.kind===h.DW.Grouping?(0,P.n)(Ae,le):Ae:this.aggrOps.createExprWithAggregate(Ae,le,!0,_e.requiredTypes)},je.clearConversionSourceContext=function(Ae){Ae.conversionSourceContext=null},je.prototype.getConversionExprRoleList=function(Ae,_e,le,Z,ie,me,ye,oe){var X=this,ue=function(Ke){for(var Ze=[],qe=0,it=Ae;qe<it.length;qe++){var be=it[qe];if(be.isFieldParameter)Ze.push({expr:be.expr,isFieldParameter:be.isFieldParameter,roleName:be.roleName});else{var ee=Ke(be.expr);ee&&Ze.push({expr:ee,nativeReferenceName:be.nativeReferenceName})}}if(!_.isEmpty(Ze))return X.getCompatRolesForExprs(Ze,_e,le,Z,ie,me,!0,ye,oe)},Se=this.getCompatRolesForExprs(Ae,_e,le,Z,ie,me,!1,ye,oe);return _.isEmpty(Se)&&(Se=ue(function(Be){return(0,Q.k)(Be)?Be:X.aggrOps.createExprWithAggregate(Be,Z,!0,null)})),_.isEmpty(Se)&&(Se=ue(function(Be){return(0,Q.k)(Be)?(0,P.n)(Be,Z):Be})),Se||[]},je.prototype.getCompatRolesForExprs=function(Ae,_e,le,Z,ie,me,ye,oe,X){for(var ue=[],Se=oe||{},Be=new w.W(I.Sd),Ke=_.some(Ae,function(et){return(0,te.jX)(et.expr)}),Ze=0,qe=Ae;Ze<qe.length;Ze++){var it=qe[Ze],be=void 0,Fe=it.expr,ee=it.isFieldParameter,k=it.roleName,Ce=it.nativeReferenceName,J=it.isHidden;k&&(be=_e.roles.withName(k));var re=this.getTargetRoleForConversion(it,_e,le),Ie=Ke&&(0,Q.k)(Fe),ot=le.findCompatibleRole({queryProjections:Se,schema:Z,expr:Fe,targetRole:re,preferDrillableRoles:!1,roleToExprMap:Be,useStrict:!0,isFieldParameter:ee,sourceRole:ee&&be,isHidden:J,overflowIsWarning:Ie}),we=ot&&ot.role,he=ot&&ot.error===u.zS.conditionRangeTooLarge;if(we&&(!he||Ie)){var Oe=!!he||J;we=this.ensureCorrectKeyInfluencersRole(ie,we,void 0);var Je=this.ensureCorrectSmallMultiplesRole(me,le.capabilities,we,_e.capabilities,k).name;if(!ee){this.updateProjections(Se,Je,X,Oe);var fe=le.getNumberRangesForRoles(Se);if(this.shouldUseVariation(Fe,Z,Je,X,fe[Je],_.size(Ae))){var Ne=(0,T.ZB)(Fe);return ue.push({expr:Ne,roleName:Je,nativeReferenceName:Ce}),ue}}if(ue.push({expr:Fe,isFieldParameter:ee,roleName:Je,nativeReferenceName:Ce,isHidden:Oe}),ye)return ue}}return ue},je.prototype.shouldUseVariation=function(Ae,_e,le,Z,ie,me){if(!_.includes(Z,le)&&ie&&ie.max<me){var ye=(0,y.Q)(Ae,_e);if(ye&&ye.columnHierarchyLevelVariation)return!0}return!1},je.prototype.getExpressionRoleMappings=function(Ae,_e){return _.map(_e,function(le){return{expr:le.expr,roleName:Ae.getRoleNameForExpr(le.expr),isFieldParameter:le.isFieldParameter,nativeReferenceName:le.nativeReferenceName,isHidden:le.isHidden}})},je.prototype.getTargetRoleForConversion=function(Ae,_e,le){if(!le.hasPreferredTypes()){var Z=Ae.roleName,me=_e.capabilities,ye=le.roles,oe=le.capabilities,X=_e.roles.withName(Z),ue=ye.withName(Z);if(X&&ue&&_.isEqual(X.kind,ue.kind)){var Se=this.getDataViewMappingConditions(me),Be=this.getDataViewMappingConditions(oe);if(!Se&&!Be||this.getDoesTargetRoleMatchSourceRole(Z,Se,Be))return Z}}},je.prototype.getDoesTargetRoleMatchSourceRole=function(Ae,_e,le){return _e&&le&&!_e.some(function(Z,ie){var me=_.get(Z,Ae,null),ye=_.get(le[ie],Ae,null);return me&&ye&&!_.isEqual(me,ye)})},je.prototype.getDataViewMappingConditions=function(Ae){var _e=Ae.dataViewMappings&&Ae.dataViewMappings[0];return _e&&_e.conditions},je.prototype.updateProjections=function(Ae,_e,le,Z){var ie={queryRef:_e,hidden:Z},me=(0,n.cY)(Ae,_e);me||(Ae[_e]=me=new n.NQ([])),me.addProjection(ie),_.includes(le,_e)&&me.addActiveQueryReference(me.all()[0].queryRef)},je.prototype.createConversionSourceContext=function(Ae,_e,le){return{query:Ae,visualType:_e,syncGroup:le}},je.prototype.convertDrillableRoles=function(Ae,_e,le,Z,ie){var me;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,x.S1)(le)&&(me=(0,x.S1)(_e)?Ae.isDrillDisabled:(0,x.dR)(le));var ye=new N.g(Ae.defn.select([]),{},[],me),oe=(0,x.WO)(_e,Ae.isDrillDisabled);return _.isEmpty(oe)?{query:ye,convertedFields:[]}:{query:ye,convertedFields:this.convertDrillableProjections(le,Z,Ae,ie,oe,ye)}},je.prototype.convertDrillableProjections=function(Ae,_e,le,Z,ie,me){for(var ye=(0,x.WO)(Ae,me.isDrillDisabled),oe=[],X=0,ue=ie;X<ue.length;X++){var Be=this.getQueryFieldsForRole(le,ue[X],_e);if(Be=this.convertDrillableFields(Be,Z,Ae,me),oe=_.unionWith(oe,Be,N.g.isEqualQueryFields),_.isEmpty(ye))break}return me.ensureDrillableRoles(ye),oe},je.prototype.getQueryFieldsForRole=function(Ae,_e,le){return Ae.projections[_e]?this.getQueryFields(le,function(){return Ae.tryGetFieldExprs(_e)}):[]},je.prototype.getUniqueQueryFields=function(Ae,_e){return this.getQueryFields(_e,function(){return Ae.getUniqueQueryFields()})},je.prototype.getQueryFields=function(Ae,_e){var le=_e();if(this.visualPluginOps.isAnalysisVisual(Ae))for(var Z=0,ie=le;Z<ie.length;Z++)ie[Z].isFieldParameter=!1;return le},je.prototype.convertDrillableFields=function(Ae,_e,le,Z){for(var Ze,ie=(0,L.F)().create(le,this.geoTaggingService,Z.isDrillDisabled),me=ie.getNumberRangesForRoles(Z),ye=(0,x.WO)(le,Z.isDrillDisabled),oe=_.isEmpty(ye),X=new w.W(I.Sd),ue=[],Se=[],Be=function(ee){var k=ee.expr,Ce=ee.queryName,J=ee.nativeReferenceName,re=ee.isHidden;if((0,te.ez)(k)){var Ie=(0,T.ZB)(ee.expr);if(Ie&&_.find(Se,function(ne){return(0,H.fS)(ne,Ie)}))return ue.push(ee),"continue"}var ot=ie.findCompatibleRole({queryProjections:Z.projections,schema:_e,expr:k,preferDrillableRoles:!0,roleToExprMap:X,useStrict:!0,isFieldParameter:ee.isFieldParameter}),we=ot&&ot.role;if(we){var he=we.name,Te=me[he],Oe=-1;if(ee.isFieldParameter)Oe=Z.addParameter(k,we.name),ue.push(ee);else{var Je=Z.projections[he];if(oe&&Je&&(Ze=Je.all().length,Te&&Te.max&&Te.max<=Ze))return"continue";if(Ke.shouldUseVariation(ee.expr,_e,we.name,ye,Te,_.size(Ae))){var fe=(0,T.ZB)(ee.expr);return Se.push(fe),Oe=Z.add(fe,he,{exprName:Ce,nativeReferenceName:J}),"continue"}Oe=Z.add(k,he,{exprName:Ce,nativeReferenceName:J,isHidden:re})}Oe>-1&&ue.push(ee)}},Ke=this,qe=0,it=Ae;qe<it.length;qe++)Be(it[qe]);return ue},je.prototype.tryRemove=function(Ae,_e,le,Z){return function(je){return void 0!==je.role}(le)?this.tryRemoveProjections(Ae,_e,le):!!function(je){return void 0!==je.expr}(le)&&this.tryRemoveExpressions(Ae,le,Z)},je.prototype.tryRemoveExpressions=function(Ae,_e,le){var Z,ie=!1,me=_e.fieldParameter;if(_.isArray(_e.expr))for(var ye=0,oe=_e.expr;ye<oe.length;ye++)ie=Ae.removeExpr(oe[ye],!!_e.ignoreAggregates,le,null==me?void 0:me.expr)||ie;else ie=Ae.removeExpr(_e.expr,!!_e.ignoreAggregates,le,null==me?void 0:me.expr);return _e.shouldRemoveParameter&&me&&0===(null!==(Z=me.length)&&void 0!==Z?Z:0)&&(ie=Ae.removeParameter(me)||ie),ie},je.prototype.tryRemoveProjections=function(Ae,_e,le){var Z,ie=le.role,me=le.projOptions.parameter,ye=!1;if(me)ye=this.removeParameterProjections(Ae,_e,me,ie,le.shouldRemoveParameter,le.projOptions.indexInParameter);else for(var ue=le.projOptions.fieldIndex,Be=(null!==(Z=le.count)&&void 0!==Z?Z:1)-1;Be>=0;Be--)if(!(ye=this.removeProjection(Ae,_e,ie,{fieldIndex:ue})))return!1;return ye},je.prototype.removeParameterProjections=function(Ae,_e,le,Z,ie,me){var ye,oe,X=!1;if(null!=me)X=this.removeProjection(Ae,_e,Z,{parameter:le,indexInParameter:me});else for(var Be=(null!==(ye=le.length)&&void 0!==ye?ye:0)-1;Be>=0;Be--)if(!(X=this.removeProjection(Ae,_e,Z,{parameter:le,indexInParameter:Be})))return!1;return ie&&0===(null!==(oe=le.length)&&void 0!==oe?oe:0)&&(X=Ae.removeParameterByRoleName(le,Z)||X),X},je.prototype.removeProjection=function(Ae,_e,le,Z){var ie=Ae.getQueryRef(le,Z),me=Ae.removeProjection(le,Z);return ie&&!Ae.isUsed(ie)&&_e&&_e[ie]&&delete _e[ie],me},je.prototype.tryAddWithUndefinedQuery=function(Ae,_e,le,Z){var ie=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,x.dR)(Ae.capabilities);_e.query=new N.g(E.vQ.create(),{},[],ie);var me=this.tryAdd(Ae,_e,le,Z);return me||(_e.query=void 0),me},je.prototype.tryAdd=function(Ae,_e,le,Z){var ie;m.fF.assertValue(Ae,"capabilitiesHelper"),m.fF.assertValue(_e,"config"),m.fF.assertValue(Z,"options");var me=Z.expr;m.fF.assertValue(me,"expr");var ye=new w.W(I.Sd),oe=!1,X=Z.projOptions;if(_.isArray(me))for(var ue=X&&X.fieldIndex,Se=0,Be=me;Se<Be.length;Se++)oe=null!=this.tryAddQuery(Ae,_e,Z,Be[Se],X,ye,le)||oe,null!=ue&&X.fieldIndex++;else if(null==this.tryAddQuery(Ae,_e,Z,me,X,ye,le))return!1;if(!le){var Ze=(0,x.WO)(Ae.capabilities,!(null===(ie=_e.query)||void 0===ie||!ie.isDrillDisabled));if(_e.query.ensureDrillableRoles(Ze),_.isArray(me))return oe}return!0},je.prototype.tryAddQuery=function(Ae,_e,le,Z,ie,me,ye){m.fF.assertValue(Ae,"capabilities"),m.fF.assertValue(_e,"config"),m.fF.assertValue(Z,"expr"),m.fF.assertValue(_e,"query");var oe=ie&&ie.isHidden,X=Ae.findCompatibleRole({queryProjections:_e.query.projections,schema:le.schema,expr:Z,preferDrillableRoles:!1,roleToExprMap:me,targetRole:le.targetRole,isFieldParameter:ye,overflowIsWarning:le.hideOnOverflow,isHidden:oe});if(X&&X.role){var ue=X.error;if(!(ue===u.zS.conditionRangeTooLarge&&oe||this.tryHideOnOverflow(X.role.name,_e.query,ue)))return;var Se=this.ensureCorrectKeyInfluencersRole(_e.visualType,X.role,le.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!ve(Se,_e,Ae.capabilities)&&(Se=this.ensureCorrectSmallMultiplesRole(_e,Ae.capabilities,Se,void 0,void 0)),!Ae.validateDuplicateColumnsInRole(Se,Z,_e.query,ye))return;var Be=Se.name,Ke=void 0;if(ye)Ke=_e.query.addParameter(Z,Be,ie&&ie.fieldIndex);else{var Ze=null==ie?{}:Object.assign({},ie);null==Ze.nativeReferenceName&&(Ze.nativeReferenceName=this.displayNameService.createUniqueNativeReference(Z,le.schema,_e.query,Ae.capabilities,void 0)),Ke=_e.query.add(Z,Be,Ze)}return this.ensureDependentObjectDefn(Ae.objectDescs,Be,_e),me.add(Z,Se),Ke}},je.prototype.tryHideOnOverflow=function(Ae,_e,le,Z){if(!le)return!0;if(le===u.zS.conditionRangeTooLarge){var ie=_e.tryGetFieldExprs(Ae);if(_.isEmpty(ie))return!1;for(var me=0;me<ie.length;me++){var ye=ie[me];if((!_.isNumber(Z)||Z!==me)&&!ye.isFieldParameter&&(0,Q.k)(ye.expr)&&!ye.isHidden)return this.toggleHidden(_e,Ae,me),!0}}return!1},je.prototype.generateNativeReferenceNameForOperation=function(Ae,_e){var le=_e.singleVisual.query.getQueryRefByProjectionIndex(Ae.role,Ae.index);if(null==le)return m.fF.assertFail("queryRef does not exist while role ".concat(Ae.role,", projection index ").concat(Ae.index)),"";var Z=_e.singleVisual.query.defn.select().withName(le),ie=this.visualPluginService.capabilities(_e.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(Z.expr,Ae.schema,_e.singleVisual.query,ie,le)},je.prototype.captureCurrentActiveProjectionsByRole=function(Ae){if(Ae){var _e=this.visualPluginService.capabilities(Ae.config.singleVisual.visualType),le=Ae.config.singleVisual.query;if(le){var Z={};if(_e&&_e.expandAndSort)return _e.expandAndSort.forEach(function(ie){var me=(0,n.cY)(le.projections,ie);!me||!me.activeProjectionRefs||(Z[ie]={projectionName:_.last(me.activeProjectionRefs),currentPosition:me.activeProjectionRefs.length,totalNumberOfProjections:me.getQueryRefs().length})}),Z}}},je.prototype.ensureCorrectKeyInfluencersRole=function(Ae,_e,le){return Ae!==de.D.keyDriversVisual||_e.name!==i.qG.details||le?_e:_.find((0,i.yM)().dataRoles,function(Z){return Z.name===i.qG.explainBy})},je.prototype.ensureCorrectSmallMultiplesRole=function(Ae,_e,le,Z,ie){var me;return null!==(me=this.featureSwitchService.featureSwitches)&&void 0!==me&&me.cartesianMultiplesAuthoring||!(0,s.qU)(null==_e?void 0:_e.dataViewMappings)||le.name!==c.x.rows||Z&&ie===c.x.rows&&(0,s.qU)(null==Z?void 0:Z.dataViewMappings)||Ae.hasUsedSmallMultiples?le:_.find(_e.dataRoles,function(ye){return ye.name===c.x.category})},je.prototype.ensureDependentObjectDefn=function(Ae,_e,le){if(Ae)for(var Z in Ae){var ie=Ae[Z];for(var me in ie.properties){var ye=ie.properties[me];if(ye.rule&&ye.rule.inputRole===_e){var oe=le.objects;oe||(oe=le.objects={});var X=(0,a.zx)(oe,Z,null);X.properties[me]||(X.properties[me]=this.createDefaultDefinition(ye.type))}}}},je.prototype.createDefaultDefinition=function(Ae){if(Ae.fillRule)return(0,p.yw)()},je.prototype.getSourceShowAllInfo=function(Ae){for(var _e={},le=0,Z=_.values(Ae);le<Z.length;le++)for(var ie=Z[le],me=ie.showAll,ye=0,oe=ie.all();ye<oe.length;ye++)_e[oe[ye].queryRef]=me;return _e},je.prototype.updateTargetShowAllInfo=function(Ae,_e,le){for(var Z=this.getSourceShowAllInfo(Ae.query.projections),ie=0,me=_.keys(_e.projections);ie<me.length;ie++){var ye=me[ie],oe=le.roles.withName(ye).kind;if(this.isShowAllRole(oe))for(var X=0,ue=_e.projections[ye].all();X<ue.length;X++){var Be=Z[ue[X].queryRef];Be&&(_e.projections[ye].showAll=Be)}}},je.prototype.isShowAllRole=function(Ae){return Ae===h.DW.Grouping||Ae===h.DW.GroupingOrMeasure},je.prototype.shouldDefaultExpandSort=function(Ae,_e,le){return _.includes(_e,Ae)&&le>1},je.prototype.setDrillMode=function(Ae,_e,le){le.setDrillMode(Ae,_e)},je}()},608794:function(ze,K,r){r.d(K,{F:function(){return d}});var t=r(226514),c=r(456535),i=r(474147);function s(b,f){return null==b||isNaN(b)?f:null==f||isNaN(f)?b:Math.min(b,f)}function p(b,f){return null==b||isNaN(b)?f:null==f||isNaN(f)?b:Math.max(b,f)}var V=r(883863),m=r(787941),v=r(145315),e=r(283427),h=r(722089),n=r(597098),u=(r(324356),r(592042)),a=r(277632),l=r(571330);function d(){var f=a.g,g=u.Ge;function S(M){return M&&M.geography&&(M.geography.latitude||M.geography.longitude)}function y(M){return _.some(M.preferredTypes,function(T){return S(T)||T.numeric})}function C(M){return 0===M.cartesianKind||1===M.cartesianKind}var E=function(){function M(T,R,B,N){m.fF.assertValue(T,"capabilities"),m.fF.assertValue(R,"roles"),m.fF.assertAnyValue(B,"objectDescs"),m.fF.assertValue(N,"roleMappings"),this.capabilities=T,this.roles=R,this.objectDescs=B,this.roleMappings=N}return M.prototype.findCompatibleRole=function(T){m.fF.assertValue(T.queryProjections,"config"),m.fF.assertValue(T.schema,"schema"),m.fF.assertValue(T.expr,"expr"),m.fF.assertAnyValue(T.targetRole,"targetRole"),m.fF.assertAnyValue(T.roleToExprMap,"roleToExprMap");var R=T.expr,B=T.roleToExprMap,N=T.targetRole,x=T.preferDrillableRoles;if((0,c.ez)(R)){x=!0;var A=this.getExistingTargetRoleForHierarchyLevelIfAny(R,B);if(A){if(N&&N!==A.name)return;N=A.name}}var w,I=(0,n.Q)(R,T.schema);I&&(w=I.column||I.columnAggr||I.groupingColumn||I.groupingColumnAggr||I.measure);var F={projections:T.queryProjections,metadata:R.getMetadata(T.schema),columnName:w?w.name:void 0,preferDrillableRoles:x,targetRole:N,isFieldParameter:T.isFieldParameter,useStrict:T.useStrict,sourceRole:T.sourceRole,overflowIsWarning:T.overflowIsWarning,isHidden:T.isHidden},O=this.findRole(F);if(!O||!_.isEmpty(null==O?void 0:O.error)){F.preferDrillableRoles=!T.preferDrillableRoles;var L=this.findRole(F);_.isEmpty(null==L?void 0:L.error)&&(O=L)}return O&&B&&B.add(R,O.role),O},M.prototype.findRole=function(T){var B,R=this.roleMappings;if(!_.isEmpty(R)){for(var N=R[0].getValueType(T.metadata?T.metadata.type:void 0,T.columnName),x=this.roles.allRolesWithPreference(N?N.extendedType:void 0,T.projections,T.preferDrillableRoles,T.useStrict,T.sourceRole),I=0,w=T.targetRole?[T.targetRole]:x;I<w.length;I++)for(var F=w[I],O=0,L=R;O<L.length;O++){var U=L[O].checkRoleCompatibility(T,F,x);if(U&&!U.error)return U;U&&(B=U)}return B}},M.prototype.getExistingTargetRoleForHierarchyLevelIfAny=function(T,R){return m.fF.assertValue(R,"roleToExprMap"),R.get(T)},M.prototype.orderByRolePreferences=function(T,R){m.fF.assertValue(T,"schema"),m.fF.assertValue(R,".orderRoleByPreferences - fields is undefined");for(var B=this.roles.defns,N=0,x=R.length,A=0,I=B.length;A<I;A++){var w=B[A].preferredTypes;if(!_.isEmpty(w))for(var F=N;F<x;F++){var O=R[F],W=O.expr.getMetadata(T);if(W){var U=W.type;if(U)for(var j=0,z=w.length;j<z;j++)if(U.extendedType===g.fromDescriptor(w[j]).extendedType){R.splice(F,1),R.splice(N,0,O),N++;break}}}}},M.prototype.getNumberRangesForRoles=function(T){var B,R=_.map(this.roles.defns,function(de){return de.name});m.fF.assertValue(B=T instanceof f?T.projections:T,"projectionsByRole");for(var N={},x=0,A=R;x<A.length;x++)N[I=A[x]]={min:1/0,max:0};for(var F=0,O=_.filter(this.roleMappings,function(de){return void 0===de.verifyMappingConditions({projections:B,roleNames:R,preferDrillableRoles:!0,ignoreMin:!0})});F<O.length;F++)for(var W=O[F].getCondition(),U=0,j=R;U<j.length;U++){var G,I=j[U],z=W&&W[I];G=z?{min:p(z.min,0),max:s(z.max,1/0)}:{min:0,max:1/0},(te=N[I]).min=Math.min(G.min,te.min),te.max=Math.max(G.max,te.max)}for(var Q=0,H=_.values(N);Q<H.length;Q++){var te;(te=H[Q]).min=Math.min(te.min,te.max)}return N},M.prototype.getNonLatLongRoles=function(){var T=this.getLatLongRoleNames();return this.getFilteredRoleNames(T)},M.prototype.getFilteredRoleNames=function(T){for(var N=[],x=0,A=this.capabilities.dataViewMappings;x<A.length;x++){var I=A[x];I.categorical&&(0,h.Sr)(I.categorical.categories,{visitRole:function(O){N.push(O)}}),I.matrix&&(0,h.Ay)(I.matrix.rows,{visitRole:function(O){N.push(O)}})}return _.without.apply(_,(0,t.__spreadArray)([_.uniq(N)],T||[],!1))},M.prototype.getLatLongRoleNames=function(){return this.getRoleNames(function(T){return y(T)})},M.prototype.getCartesianGroupingOrMeasureRoleNames=function(){return this.getRoleNames(function(T){return C(T)})},M.prototype.getRoleNames=function(T){return _.chain(this.capabilities.dataRoles).filter(T).map(function(R){return R.name}).value()},M.prototype.hasPreferredTypes=function(){return _.some(this.capabilities.dataRoles,function(T){return!_.isEmpty(T.preferredTypes)})},M.prototype.validateDuplicateColumnsInRole=function(T,R,B,N){if(m.fF.assertValue(T,"targetRole"),m.fF.assertValue(R,"expr"),m.fF.assertValue(B,"VisualQuery"),!T.noDuplicates)return!0;var x=T.name,A=B.projections;if(A&&A[x]){var I=void 0;if(N){var W=A[x].getFieldParameters(),U=_.map(W,function(j){return j.expr});I=_.some(U,function(j){return(0,i.fS)(R,j)})}else{var w=A[x].all(),F=_.map(w,function(j){return j.queryRef}),O=B&&B.defn&&B.defn.select(),L=_.map(F,function(j){return O.withName(j).expr});I=_.some(L,function(j){return(0,i.fS)(R,j)})}return!I}return!0},M}(),D=function(){function M(T,R,B,N){m.fF.assertValue(T,"roles"),this.roles=T,this.geoTaggingService=R,this.condition=N,this.drillableRoles=B}return M.prototype.getCondition=function(){return this.condition},M.prototype.checkRoleCompatibility=function(T,R,B){if(m.fF.assertValue(T.projections,"projections"),m.fF.assertAnyValue(T.metadata,"metadata"),T.metadata){var N=this.roles.withName(R);if(N){if(T.isFieldParameter)return{role:N};var x=(0,e.sw)(R,T.projections);T.isHidden||x++;var A=this.validateRoleCompatibility(N,T.metadata,x,T.preferDrillableRoles),I=A?{code:A,roleName:R}:void 0;if(!I&&!this.verifyMappingConditions({projections:T.projections,roleNames:_.without(B,R),preferDrillableRoles:T.preferDrillableRoles,ignoreMin:!1}))return{role:N};if(I&&I.roleName===R&&I.code===e.zS.conditionRangeTooLarge&&T.overflowIsWarning)return{role:N,error:I.code}}}},M.prototype.getValueType=function(T,R){if(T&&null==T.categoryString){var B=R&&this.geoTaggingService.getFieldType(R);null!=B&&(T=g.fromPrimitiveTypeAndCategory(T.primitiveType,B))}return T},M.prototype.verifyMappingConditions=function(T){m.fF.assertValue(T.projections,"projections"),m.fF.assertValue(T.roleNames,"roleNames");for(var R=0,B=T.roleNames;R<B.length;R++){var N=B[R],x=this.roles.withName(N);if(!x)return{code:"roleDoesNotExist",roleName:N};var A=(0,e.sw)(N,T.projections),I=this.validateRange({count:A,roleName:x.name,preferDrillableRoles:T.preferDrillableRoles,ignoreMin:T.ignoreMin});if(I)return{code:I,roleName:N}}},M.prototype.validateRoleCompatibility=function(T,R,B,N){var x,A;m.fF.assertValue(T,"roleInfo"),m.fF.assertValue(R,"exprMetadata");var I=T.kind;if(1===R.kind){if(I===v.DW.Grouping)return e.zS.conditionKindExpectedGrouping}else if(I===v.DW.Measure)return e.zS.conditionKindExpectedMeasure;var w=T.requiredTypes;return w&&!g.isCompatibleTo(R.type,w)?"exprTypeMismatch":null!==(A=null===(x=R.type)||void 0===x?void 0:x.misc)&&void 0!==A&&A.sparkline&&!T.supportsSparklines?"sparklineSupportMismatch":this.validateRange({count:B,roleName:T.name,preferDrillableRoles:N,ignoreMin:!1})||void 0},M.prototype.isRoleDrillable=function(T){return _.includes(this.drillableRoles,T)&&(!this.condition[T]||void 0===this.condition[T].max||1===this.condition[T].max)},M.prototype.validateRange=function(T){if(this.condition&&(!T.preferDrillableRoles||!this.isRoleDrillable(T.roleName))){var R=this.condition[T.roleName];return R?(0,e.JU)(T.count,R,T.ignoreMin):void 0}},M}(),P=function(){function M(T){m.fF.assertValue(T,"roles"),this.defns=T}return M.prototype.withName=function(T){return(0,V.rC)(this.defns,T)},M.prototype.allRolesWithPreference=function(T,R,B,N,x){var A=this,I=_.map(this.defns,function(w){return w.name});return x?this.promoteAndPenalize(I,function(w){return A.getRoleWeight(x,w)}):this.promoteAndPenalize(I,function(w){return A.getTypeWeightForRole(T,w.preferredTypes)},N),this.promoteAndPenalize(I,function(w){return A.getProjectionWeightForRole(w,R,B)}),I},M.prototype.promoteAndPenalize=function(T,R,B){for(var N=0,x=0,A=this.defns;x<A.length;x++){var I=A[x],w=R(I);if(null!=w){var F=T.splice(T.indexOf(I.name),1)[0];w!==M.penalize||B?w===M.promote&&T.splice(N++,0,F):T.push(F)}}},M.prototype.getRoleWeight=function(T,R){return T.kind===R.kind||this.hasCommonTypes(T.requiredTypes,R.requiredTypes)||this.hasCommonTypes(T.requiredTypes,R.preferredTypes)||this.hasCommonTypes(T.preferredTypes,R.requiredTypes)||this.hasCommonTypes(T.preferredTypes,R.preferredTypes)?M.promote:M.penalize},M.prototype.hasCommonTypes=function(T,R){return!_.isEmpty(T)&&!_.isEmpty(R)&&!_.isEmpty(_.intersectionWith(T,R,_.isEqual))},M.prototype.getTypeWeightForRole=function(T,R){if(R){for(var B=M.penalize,N=0,x=R;N<x.length;N++)if(T===g.fromDescriptor(x[N]).extendedType){B=M.promote;break}return B}},M.prototype.getProjectionWeightForRole=function(T,R,B){var N=R[T.name],x=N&&N.projected();if(!B&&!_.isEmpty(x)&&T.kind!==v.DW.Measure||B&&T.kind===v.DW.Measure)return M.penalize},M.penalize=-1,M.promote=1,M}();return{create:function(T,R,B){if(m.fF.assertAnyValue(T,"capabilities"),T&&!_.isEmpty(T.dataRoles)){for(var N=T.dataViewMappings,x=new P(T.dataRoles),A=[],I=0,w=N;I<w.length;I++){var O=w[I].conditions;if(_.isEmpty(O))A.push(new D(x,R,(0,l.WO)(T,B)));else for(var L=0,W=O;L<W.length;L++){var U=W[L];A.push(new D(x,R,(0,l.WO)(T,B),U))}}return new E(T,x,T.objects,A)}},dataRoleWrapper:function(T){return new P(T)},isValueTypeDescriptorLatLong:S,isRoleCompatibleWithLatLong:y,isRoleCompatibleWithScatterXY:C}}},619588:function(ze,K,r){r.d(K,{I:function(){return i}});var t=r(787941),c=r(620108);function i(p){return new s(p)}var s=function(){function p(V){this.visualPlugins=V,t.fF.assertValue(this.visualPlugins,"visualPlugin")}return p.prototype.hasFilterCapabilities=function(V){var m=this.visualPlugins.getPlugin(V);return!!(m&&m.capabilities&&m.capabilities.objects&&(0,c.MD)(m.capabilities.objects))},p}()},962622:function(ze,K,r){r.d(K,{w:function(){return S}});var t=r(226514),c=r(782504),i=r(95788),s=r(338780),p=r(379139),V=r(325333),m=r(787941),v=r(16062),e=r(927928),h=r(876128),n=r(431325),o=r(926201),u=r(658353),a=r(577982),l=r(809395),d=r(400455),b=r(1745),f=r(312088),g=r(961046);function S(C,E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,U,j,z,G,te,Q){return new y(C,E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,Q,te,U,j,z,G)}var y=function(){function C(E,D,P,M,T,R,B,N,x,A,I,w,F,O,L,W,U,j,z,G,te,Q,H){this.queryExecutionServices=E,this.hostServices=D,this.promiseFactory=P,this.conceptualSchemaProxy=M,this.featureSwitchService=T,this.telemetryService=R,this.visualQueryGenerator=B,this.visualPlugin=N,this.visualPluginOps=x,this.filterGenerator=A,this.displayNameService=I,this.explorationNavigation=w,this.visualValidationService=F,this.resourceLoader=O,this.eventBridge=L,this.dataProxyService=W,this.dataSources=U,this.visualLifecycleService=j,this.resourceRegistration=z,this.cachePolicyProviderService=G,this.visualInsightsAnalysisHandler=te,this.visualParameterService=Q,this.visualDataProxyExecutionService=H}return C.prototype.attach=function(E){this.queryExecutionServices=E},C.prototype.cancelQuery=function(E){this.visualDataProxyExecutionService.cancelQuery(E),this.visualParameterService.cancelResolve(E)},C.prototype.generateApplicationContext=function(E,D){var P,M,T=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,R=T&&T.objectId;return{DatasetId:null===(M=null===(P=this.dataSources.get().filter(function(N){return!!N.dsr})[0])||void 0===P?void 0:P.dsr)||void 0===M?void 0:M.dbName,Sources:[{ReportId:R,Operation:E,VisualId:D&&D.name}]}},C.prototype.runQuery=function(E){var T,D=this,P=(0,d.O)(E.performanceActivity,u.V6,this.telemetryService),M=E.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(T=this.startResolveParametersPerformanceActivity(M));var R=this.startQueryPerformanceActivity(M),B=this.dataSources.get(),N=E.contract,x=N.config.singleVisual,A=x.query&&x.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(N)||!(E.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(x,B)||this.visualParameterService.shouldExecute(x,B)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,T,R),R&&R.queryActivity.resolve(),P&&P.resolve(),!1;this.queryExecutionServices.notifyStart(R&&R.telemetryActivity),T&&T.setProperty("start",(0,v.z)());var F=this.resolveQueryParameters(E,T);return(this.visualInsightsAnalysisHandler.supportsInsights(N)?F.then(function(O){if((O.queryChange||O.aliasChange)&&D.queryExecutionServices.applyResolveParametersUpdate(),D.featureSwitchService.featureSwitches.resolveParametersEvent&&D.transitionResolveParametersToQuery(!0,T,R),!A||D.visualQueryGenerator.shouldExecute(x,B))return D.visualInsightsAnalysisHandler.runInsights(N).then(function(L){if(L){if(L.error)throw L.error;L.queryExecutionOptions&&_.merge(E,L.queryExecutionOptions)}return D.runQueryImpl(E,B,N,R,L&&L.warnings)})}):F.then(function(O){if((O.queryChange||O.aliasChange)&&D.queryExecutionServices.applyResolveParametersUpdate(),D.featureSwitchService.featureSwitches.resolveParametersEvent&&D.transitionResolveParametersToQuery(!0,T,R),!A||D.visualQueryGenerator.shouldExecute(x,B))return D.runQueryImpl(E,B,N,R,void 0)})).catch(function(O){D.queryExecutionServices.handleErrors(O,R)}).finally(function(){D.queryExecutionServices.notifyEnd(),P&&P.resolve()}),!0},C.prototype.transitionResolveParametersToQuery=function(E,D,P){D&&D.isRunning()&&(P&&P.queryActivity.isRunning()&&P.queryActivity.setProperty("start",(0,v.z)()),E&&D.getProperty("metadataParameterCount")>0?D.resolve():D.cancel(!0))},C.prototype.resolveQueryParameters=function(E,D){var P=this,M=this.dataSources.get();return this.conceptualSchemaProxy.get(M).then(function(T){var R=P.generateApplicationContext(E.queryOperation,E.contract),B=P.getDatasetCacheOptions(E,M,!1),N={dataSources:M,schema:T,additionalFilters:P.hostServices.getFilters(P.filterGenerator,T),config:E.contract.config.singleVisual,cacheOptions:B,allowResultFromClientCache:E.allowResultFromClientCache,applicationContext:R,cacheResponseOnServer:E.cacheResponseOnServer,visual:E.contract,performanceActivity:D,metricsKind:E.executionMetricsKind};return P.visualParameterService.resolve(N)})},C.prototype.runQueryImpl=function(E,D,P,M,T){var R=this;!E.initialLoad&&this.hostServices&&this.updateCachedData(E);var x,A,B=this.getDatasetCacheOptions(E,D,!0),N=E.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;N&&(x=this.startVisualFirstLoadTelemetryEvent(B,D,P.name,M&&M.telemetryActivity)),A=this.generateApplicationContext(E.queryOperation,P);var I=this.visualDataProxyExecutionService.runQuery({dataSources:D,contract:P,viewport:E.viewport,hostServices:this.hostServices,initialLoad:E.initialLoad,useVisualContainerCache:E.useVisualContainerCache,preferCurrentData:E.preferCurrentData,allowResultFromClientCache:E.allowResultFromClientCache,cacheResponseOnServer:E.cacheResponseOnServer,cacheResponseOnContract:E.cacheResponseOnContract,cacheOptions:B,clientCacheOnly:E.clientCacheOnly,visualFirstLoadEvent:x,performanceActivity:M&&M.queryActivity,executionMetricsKind:E.executionMetricsKind,canDefer:E.canDefer,requestPriority:E.requestPriority,applicationContext:A,windowExpansionTransform:E.windowExpansionTransform,skipShouldRunQueryVerification:E.skipShouldRunQueryVerification,previewGate:E.previewGate,customizeQueryOverride:E.customizeQueryOverride}),w=P.config.singleVisual.visualType,O=this.loadResourcePackageReferences(w,P.config.singleVisual.objects);E.geocodingTracker&&E.geocodingTracker.newQuery(M&&M.rootActivity);var L=!1;return I.previewPromise.then(function(W){W&&!L&&R.resolveResourcePackageReferences(w,W.dataProxyQuery.transforms.objects,M&&M.rootActivity).then(function(U){R.handleQueryResult(P,W.result,W.dataProxyQuery,U,null,null,!0,M,T)})},function(W){m.fF.assert(function(){return W.ignorable},"Preview promise should be rejected with ignorable errors only")}),I.finalPromise.then(function(W){var U=W&&W.result&&W.result.dataReaderResult,j=!!(B&e.U.AllowCache);U&&j&&x&&(x.event.info.cacheResultFromServer=W.result.dataReaderResult.fromCache);var z=R.getLastRefreshTime(D);if(j&&U&&R.isResultStale(z,W.result.dataReaderResult.timestamp)){var te=e.U.AllowQuery|e.U.CacheResult;return te=B&e.U.PreventRefresh?te|e.U.PreventRefresh:te,x&&(x.event.info.staleCacheResultFromServer=!0),R.visualDataProxyExecutionService.runQuery({dataSources:D,contract:P,viewport:E.viewport,hostServices:R.hostServices,initialLoad:E.initialLoad,useVisualContainerCache:!1,preferCurrentData:E.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:te,visualFirstLoadEvent:x,performanceActivity:M&&M.queryActivity,executionMetricsKind:E.executionMetricsKind,requestPriority:E.requestPriority,canDefer:E.canDefer}).finalPromise}return W}).then(function(W){return O.then(function(){R.processQueryResult(E,W,M,T)})}).finally(function(){L=!0,N&&x&&x.resolve()})},C.prototype.startQueryPerformanceActivity=function(E){if(E&&E.isRunning())return{rootActivity:E,queryActivity:E.createChildActivity({name:"Query"}),telemetryActivity:this.telemetryService.getOpenActivityById(E&&E.getProperty("telemetryActivityId"))}},C.prototype.startResolveParametersPerformanceActivity=function(E){if(E)return E.createChildActivity({name:"Resolve Parameters"})},C.prototype.startVisualFirstLoadTelemetryEvent=function(E,D,P,M){var B,T=!!(E&e.U.AllowCache),R=(0,l.L2)(D);return B=M?this.telemetryService.startChildEvent(M.event,u.II,{onPrem:R,isServerCacheEligible:T,visualName:P}):this.telemetryService.startEvent(u.II,{onPrem:R,isServerCacheEligible:T,visualName:P}),(0,f.TW)(B.event,this.explorationNavigation),B},C.prototype.getCachedQueryOrGenerate=function(E){return(0,t.__awaiter)(this,void 0,void 0,function(){var D,P,M;return(0,t.__generator)(this,function(T){switch(T.label){case 0:if(D=(0,d.O)(E.performanceActivity,u.v$,this.telemetryService),P=this.dataProxyService.lastExecutedQuery())return this.cachedQueryResult=void 0,[2,P];T.label=1;case 1:return T.trys.push([1,,4,5]),(M=this.cachedQueryResult)?[3,3]:[4,this.generateQuery(E)];case 2:M=T.sent(),T.label=3;case 3:return[2,M];case 4:return D&&D.resolve(),[7];case 5:return[2]}})})},C.prototype.generateQuery=function(E){return(0,t.__awaiter)(this,void 0,void 0,function(){var D,P,T;return(0,t.__generator)(this,function(R){switch(R.label){case 0:return D=this.dataSources.get(),[4,this.conceptualSchemaProxy.get(D)];case 1:return P=R.sent(),T=this.visualDataProxyExecutionService.generateQuery({dataSources:D,schema:P,config:E.contract.config.singleVisual,hostServices:this.hostServices,visualQueryGenerator:this.visualQueryGenerator,executionType:0,preferCurrentData:null==E.preferCurrentData||E.preferCurrentData,viewport:E.viewport,allowResultFromClientCache:null==E.allowResultFromClientCache||E.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:E.performanceActivity,executionMetricsKind:E.executionMetricsKind}),this.cachedQueryResult=this.dataProxyService.lastExecutedQuery()?void 0:T,[2,T]}})})},C.prototype.updateCachedData=function(E){return(0,t.__awaiter)(this,void 0,void 0,function(){var D,P,M;return(0,t.__generator)(this,function(T){switch(T.label){case 0:return!1===E.cacheResponseOnContract?[2]:[4,this.generateQuery((0,t.__assign)((0,t.__assign)({},E),{performanceActivity:void 0}))];case 1:return D=T.sent(),P=E.contract,D&&!D.error&&P.cachedData?(P.cachedData.dataUpdatedTime=void 0,M=this.visualPlugin.capabilities(P.config.singleVisual.visualType),P.cachedData.transformsObject=i.F.serializeDataViewTransformActions(D.transforms,M.objects),P.cachedData.queryObject=D.options.query.command,P.cachedData.dataObject=void 0,[2]):[2]}})})},C.prototype.loadMoreData=function(E){var D=this,P=this.startQueryPerformanceActivity(E.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(E,P).then(function(M){M&&D.mergeMoreData(M.result,M.dataProxyQuery,E.currentData,M.performanceActivityContext)}).catch(function(){P&&P.queryActivity.reject()}).finally(function(){D.queryExecutionServices.notifyEnd()})},C.prototype.canLoadMoreData=function(){return this.visualDataProxyExecutionService.canLoadMoreData()},C.prototype.loadWindow=function(E){var D=this,P=this.startQueryPerformanceActivity(E.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:E.contract,hostServices:this.hostServices,viewport:E.viewport,useVisualContainerCache:E.useVisualContainerCache,performanceActivity:null==P?void 0:P.queryActivity,executionMetricsKind:E.executionMetricsKind,windowExpansionState:E.windowExpansionState}).then(function(M){D.handleLoadMoreDataWarnings(M&&M.result,M&&M.dataProxyQuery),D.processQueryResult(E,M,P,void 0)}).catch(function(M){D.queryExecutionServices.handleErrors(M),P&&P.queryActivity.reject()}).finally(function(){D.queryExecutionServices.notifyEnd()})},C.prototype.getNextDataSegment=function(E,D){var P=this,M=D||this.startQueryPerformanceActivity(E.performanceActivity),T=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:E.contract,hostServices:this.hostServices,viewport:E.viewport,useVisualContainerCache:E.useVisualContainerCache,performanceActivity:null==M?void 0:M.queryActivity,executionMetricsKind:E.executionMetricsKind}).then(function(R){P.handleLoadMoreDataWarnings(R&&R.result,R&&R.dataProxyQuery);var B=R;M&&(B=(0,t.__assign)((0,t.__assign)({},B),{performanceActivityContext:M})),T.resolve(B)},function(R){P.queryExecutionServices.handleErrors(R),M&&M.queryActivity.reject(),T.reject(R)}):(M&&M.queryActivity.reject(),T.reject("Cannot load more data")),T.promise},C.prototype.reloadDataSegment=function(E,D){var P=E.currentData&&E.currentData.dataView&&E.currentData.dataView.matrix&&E.currentData.dataView.matrix.rows&&E.currentData.dataView.matrix.rows.root;if(P){var M=this.dataProxyService.getNodeSegment(D);if(M&&0!==M.index){this.dataProxyService.discardSegmentsFrom(M.index);var T=this.dataProxyService.getLastNodeIndex();(0,h.dp)(P,T)?this.loadMoreData(E):this.runQuery(E)}else this.runQuery(E)}else this.runQuery(E)},C.prototype.mergeMoreData=function(E,D,P,M){var T=C.getDataProxyQueryExecutionResultWarnings(E,D),R=E&&E.dataReaderResult?E.dataReaderResult.dataView:null;if(R){m.fF.assert(function(){return null!=P&&null!=P.dataView},"Expected to have previous segment already");var B=P.dataView;(0,h.$n)(B,R);var N={dataView:B,dataViewSource:E&&E.dataViewSource,performanceActivities:E&&E.dataReaderResult&&E.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(T)||(N.warnings=T),this.queryExecutionServices.loadMergedData(N,M)}else M&&M.queryActivity.resolve()},C.prototype.visualizeDataViewSource=function(E,D,P,M){var T=this;m.fF.assertValue(D,"dataViewSource");var R=this.startQueryPerformanceActivity(M),B=E.config.singleVisual,N=this.visualPluginOps.targetedDataViewKinds(B.visualType,B.query),x=(0,c.ij)(N,D.data,(0,p.u)(this.featureSwitchService.featureSwitches)),A=x.error;if(A)this.queryExecutionServices.handleErrors(A);else{var I=this.dataSources.get();m.fF.assertValue(I,"dataSources");var w=E&&E.config&&E.config.singleVisual;!I||!w||this.conceptualSchemaProxy.get(I).then(function(F){var O=T.visualQueryGenerator.execute({config:w,dataSources:I,schema:F,additionalFilters:T.hostServices.getFilters(T.filterGenerator,F),restartToken:x.restartToken,dataWindow:P,dataSourceVariables:T.hostServices.getDataSourceVariables(),disableAnchorTime:!!T.hostServices.disableAnchorTime||T.visualPluginOps.isQnaVisual(w.visualType)});if(O){var L=T.promiseFactory.defer();L.resolve(O.options),T.handleQueryResult(E,{dataViewSource:D,dataReaderResult:x},{transforms:O.transforms,error:O.error,warnings:O.warnings,options:L.promise},null,{updateContractCache:!0},null,!1,R)}})}},C.prototype.updateNonQueryVisual=function(E,D,P){var M=this,T=this.startQueryPerformanceActivity(P),R={dataView:null,dataViewSource:null};if(D){var B=E.config.singleVisual.visualType,N=E.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(B,N,P).then(function(x){M.queryExecutionServices.applyUpdate(R,D,x,T)}).finally(function(){M.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(R,D,null,T)},C.prototype.updateContractCache=function(E,D,P){var M=this;if(m.fF.assertAnyValue(D,"result"),!E)return this.promiseFactory.reject(null);var T=this.dataSources.get();if(!T)return this.promiseFactory.reject(null);m.fF.assertValue(P,"dataProxyQuery is expected to be defined when there is a dataSource");var R=E.cachedData&&E.cachedData.dataUpdatedTime?E.cachedData.dataUpdatedTime:null,B=D&&D.dataViewSource?D.dataViewSource.data:void 0,N=P&&P.error;return D&&D.dataReaderResult&&D.dataReaderResult.disallowPersisting&&(R=null,B=null,N=new V.qw("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(T).then(function(x){return P.options.then(function(A){E.cachedData=(0,l.s9)(M.visualPlugin,M.displayNameService,B,{transforms:P.transforms,error:N,warnings:P.warnings,options:A,compiledMappings:P.compiledMappings},x,E.config.singleVisual,M.featureSwitchService.featureSwitches,(0,g.i3)(E.filters),R)})})},C.prototype.getLastRefreshTime=function(E){for(var D=0,P=E;D<P.length;D++){var M=P[D];if(M&&M.dsr&&M.dsr.lastRefreshTime)return M.dsr.lastRefreshTime}},C.prototype.processQueryResult=function(E,D,P,M){var R,B,T=this;D&&(B={updateContractCache:null===(R=E.cacheResponseOnContract)||void 0===R||R,updateServerCache:D.updateServerVisualContainerCache},this.resolveResourcePackageReferences(E.contract.config.singleVisual.visualType,D.dataProxyQuery.transforms.objects,P&&P.rootActivity).then(function(N){T.handleQueryResult(E.contract,D&&D.result,D.dataProxyQuery,N,B,E.currentData,!1,P,M)}))},C.prototype.isResultStale=function(E,D){var P=(0,s.TX)(E),M=(0,s.Kk)(D);return m.fF.assert(function(){return!!M},"A result date should be returned -- this is needed to check for freshness."),!(!P||!M)&&P>M},C.prototype.getDatasetCacheOptions=function(E,D,P){var T=E.initialLoad,R=this.visualLifecycleService&&this.visualLifecycleService.has(E.contract.id,P);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(D))return this.cachePolicyProviderService.getInteractiveQueryPolicy(T&&R,E.interactiveQueryCachingSetting)}else if(T&&R&&this.isQueryCachingEnabledForAnyDataset(D))return e.U.AllowCache|e.U.AllowQuery|e.U.CacheResult},C.prototype.isQueryCachingEnabledForAnyDataset=function(E){return!!_.some(E,function(D){return D.dsr&&D.dsr.isQueryCachingEnabled})},C.prototype.handleQueryResult=function(E,D,P,M,T,R,B,N,x){var I,w,F,O,L,W,U,A=this;if(void 0===T&&(T={}),void 0===B&&(B=!1),this.queryExecutionServices.clearErrors(),D){W={dataView:D.dataReaderResult?D.dataReaderResult.dataView:null,dataViewSource:D.dataViewSource?D.dataViewSource:null,performanceActivities:D.dataReaderResult?D.dataReaderResult.performanceActivities:null},U=C.getDataProxyQueryExecutionResultWarnings(D,P)||[],x&&(U=_.concat(U,x)),_.isEmpty(U)||(W.warnings=U);var j=(0,l.A8)(W.dataView);j&&(W.isFirstSegment=j),null!==(w=null===(I=this.featureSwitchService)||void 0===I?void 0:I.featureSwitches)&&void 0!==w&&w.queryContext&&(z=null===(F=D.dataReaderResult)||void 0===F?void 0:F.queryContext)&&(W.queryContext=z)}else if(W={dataView:R&&R.dataView,dataViewSource:R&&R.dataViewSource,isFirstSegment:R&&R.isFirstSegment},U=R&&R.warnings||[],x&&(U=_.concat(U,x)),_.isEmpty(U)||(W.warnings=U),null!==(L=null===(O=this.featureSwitchService)||void 0===O?void 0:O.featureSwitches)&&void 0!==L&&L.queryContext){var z;(z=null==R?void 0:R.queryContext)&&(W.queryContext=z)}if(this.queryExecutionServices.handleWarnings(U,P&&P.transforms),this.queryExecutionServices.applyUpdate(W,P.transforms,M,N,B),T&&T.updateContractCache){var te=this.updateContractCache(E,D&&D.dataViewSource?D.dataViewSource.data:void 0,P);T.updateServerCache&&te.then(function(){P.options.then(function(Q){if(!_.isEmpty(Q.query.command)){var de={visualContainerId:E.id,query:JSON.stringify(Q.query.command),dataTransforms:A.getCachedTransformsString(E)};A.eventBridge.publishToChannel(b.BmV,de)}})})}},C.prototype.handleLoadMoreDataWarnings=function(E,D){this.queryExecutionServices.clearErrors();var P=C.getDataProxyQueryExecutionResultWarnings(E,D)||[];this.queryExecutionServices.handleWarnings(P,D&&D.transforms)},C.prototype.getCachedTransformsString=function(E){var D=E.cachedData;if(D){var P=D.transformsObject;if(P)return i.F.serializeTransformActions(P)}},C.prototype.loadResourcePackageReferences=function(E,D){var P=this,M=this.visualPlugin.capabilities(E),T=M&&M.objects,R=this.explorationNavigation.getCurrentExploration();return m.fF.assert(function(){return!!R||!(0,n.z_)(D,T)},"currentExploration"),(0,n.CJ)(D,T,function(){return R?R.resourcePackages:null},this.resourceLoader,this.promiseFactory,function(B,N){return P.ensureSharedResource(R,B,N)})},C.prototype.ensureSharedResource=function(E,D,P){if(this.resourceRegistration){var M=(0,a.Hg)(E,2);(0,o.NW)(M,D)||this.resourceRegistration.add(D,2,P)}},C.prototype.resolveResourcePackageReferences=function(E,D,P){var M=this.visualPlugin.capabilities(E),T=M&&M.objects,R=this.explorationNavigation.getCurrentExploration();return m.fF.assert(function(){return!!R||!(0,n.z_)(D,T)},"currentExploration"),(0,n.sQ)(D,T,R?R.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,P)},C.getDataProxyQueryExecutionResultWarnings=function(E,D){var P;return D&&!_.isEmpty(D.warnings)&&(P=P||[]).push.apply(P,D.warnings||[]),E&&E.dataReaderResult&&!_.isEmpty(E.dataReaderResult.warnings)&&(P=P||[]).push.apply(P,E.dataReaderResult.warnings||[]),P},C}()},21276:function(ze,K,r){r.d(K,{nW:function(){return o}});var t=r(226514),c=r(563233),i=r(235635),s=r(955307),p=r(787941),V=r(690016),m=r(647639),v=r(233643),e=r(876128),h=r(600348),n=function(){function l(d,b,f){this.index=d,this.restartToken=b,f&&(this.hierarchyLastNodeIndex=f)}return l.prototype.endsBeforeNode=function(d){p.fF.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var b=this.hierarchyLastNodeIndex,f=Math.min(b.length,d.length),g=0;g<f;g++){var S=b[g],y=d[g];if(S<y)return!0;if(S>y)return!1}return d.length>b.length},l}();function o(l,d,b,f,g){return void 0===g&&(g=!1),new u(l,d,b,f,g)}var u=function(){function l(d,b,f,g,S){this.hasExecutedQuery=!0,this.dataProxy=d,this.promiseFactory=f,this.filterGenerator=b,this.dataSegments=[],this.telemetryV2Enabled=S,this.visualPluginService=g}return l.prototype.generateQuery=function(d){var b=(0,V.BL)("visualQueryGenerator(".concat(d.config.visualType,")")),f=d.visualQueryGenerator.execute({config:d.config,dataSources:d.dataSources,schema:d.schema,additionalFilters:d.hostServices.getFilters(this.filterGenerator,d.schema),restartToken:this.getRestartToken(d),cacheResponseOnServer:!(!d.isInitialLoad&&!d.cacheResponseOnServer),allowResultFromClientCache:d.allowResultFromClientCache,dataWindow:d.viewport,cacheOptions:d.cacheOptions,clientCacheOnly:d.clientCacheOnly,dataSourceVariables:d.hostServices.getDataSourceVariables(),performanceActivity:d.performanceActivity,executionMetricsKind:d.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:d.requestPriority,applicationContext:d.applicationContext,windowExpansion:this.getWindowExpansion(d),disableAnchorTime:!!d.hostServices.disableAnchorTime||d.config.visualType===h.D.qnaVisual,drillableRoles:d.drillableRoles,useNativeReferenceNameAsDisplayNames:d.useNativeReferenceNameAsDisplayNames,disableHidden:d.disableHidden,enableAllSubtotal:d.enableAllSubtotal,enableHierarchicalGrouping:d.enableHierarchicalGrouping,customizeQueryOverride:d.customizeQueryOverride,isPivoted:d.isPivoted,disableMeasureSorts:d.disableMeasureSorts});return b(),f},l.prototype.getSegmentRestartToken=function(d){var b=this;if(!(d<=0))return p.fF.assert(function(){return d<=b.dataSegments.length},"SegmentIndex out of bounds"),this.dataSegments[d-1].restartToken},l.prototype.runQuery=function(d){var b=this;p.fF.assertValue(d.config,"config"),p.fF.assert(function(){return 1!==d.executionType||!0!==d.preferCurrentData},"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var f=this.promiseFactory.defer(this.telemetryV2Enabled),g=_.last(this.dataSegments);if(1!==d.executionType||g&&g.restartToken){var y=d.generatedQuery||this.generateQuery(d);if(y)if(d.additionalDataViewKinds&&y.options&&(y.options.kinds|=d.additionalDataViewKinds),y.error)f.reject(y.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&d.preferCurrentData&&(0,c.Fu)(y.options,this.generatedQuery.options))){if(y=this.ensureRestartToken(d,y),this.shouldDelayExecution(d,y))return this.resolveEmptyResult(y,f),(0,i.U)(f);if(d.performanceActivity){y.options.isColdLoad=function(l){var d=(0,s.sV)(function(b){return"Open Report"===b.name},l);return d&&d.includesBootstrap}(d.performanceActivity);var C=d.performanceActivity.getProperty("parent");C&&"Visual Container Lifecycle"===C.name&&(C.lifecycleFlags|=4096)}var E=this.dataProxy.execute(y.options);return E.then(function(D){return b.handleQueryResult(D,y,E,d.config.query)},function(D){throw b.generatedQuery=void 0,D})}this.generatedQuery=y,f.resolve(null)}else this.generatedQuery=void 0,f.reject()}else f.reject();return(0,i.U)(f)},l.prototype.cancelQuery=function(d){this.dataProxy.cancelQuery(d)},l.prototype.ensureRestartToken=function(d,b){return 1!==d.executionType&&(this.dataSegments=[],d.preferCurrentData&&(b=this.generateQuery(d),d.additionalDataViewKinds&&(b.options.kinds|=d.additionalDataViewKinds))),b},l.prototype.getRestartToken=function(d){var b=this.dataSegments.length-1;return d.preferCurrentData?this.getSegmentRestartToken(b):1===d.executionType?this.getSegmentRestartToken(b+1):void 0},l.prototype.getWindowExpansion=function(d){if(d.config&&d.config.query&&d.config.query.expansionStates){var b=d.config.visualType;p.fF.assertValue(b,"Visual type must be defined");var f=this.visualPluginService.capabilities(b);if(!_.some(f.dataViewMappings,function(S){return S&&S.matrix&&S.matrix.rows&&S.matrix.rows.dataReductionAlgorithm&&S.matrix.rows.dataReductionAlgorithm.topNPerLevel}))return void p.fF.assert(function(){return 3!==d.executionType},"LoadWindow is only supported when data reduction is topNPerLevel");var g=this.windowExpansionState;return 3===d.executionType&&(p.fF.assertValue(d.windowExpansionState,"Missing window information"),g=d.windowExpansionState),d.windowExpansionTransform?d.windowExpansionTransform(g):(p.fF.assert(function(){return _.size(d.config.query.expansionStates)<=1},"Expected at most one expansion state"),(0,m.W7)(_.first(d.config.query.expansionStates),g,d.config.query.defn.select(),d.schema))}},l.prototype.shouldDelayExecution=function(d,b){return!b.options.query.command||b.deferred&&1!==d.executionType&&2!==d.executionType},l.prototype.resolveEmptyResult=function(d,b){this.generatedQuery=d,this.hasExecutedQuery=!1,b.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})},l.prototype.handleQueryResult=function(d,b,f,g){return this.hasExecutedQuery=!0,this.generatedQuery=b,f.matchesLastExecuteQuery&&(d=this.rewriteQueryResultWithoutPerformanceActivities(d)),this.addNewDataSegment(d&&d.dataReaderResult),this.addWindowExpansionState(b,g,d&&d.dataReaderResult),null!=d&&(d.isPivoted=b.isPivoted),d},l.prototype.addWindowExpansionState=function(d,b,f){1===_.size(d.compiledMappings)&&d.compiledMappings[0].matrix&&d.compiledMappings[0].matrix.rows&&d.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&d.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(p.fF.assert(function(){return _.size(b.expansionStates)<=1},"Expected at most one expansion state"),this.windowExpansionState=(0,v.x9)(f.dataView)):this.windowExpansionState=null},l.prototype.addNewDataSegment=function(d){var y,b=d&&d.restartToken,f=d&&d.dataView,g=f&&f.matrix&&f.matrix.rows&&f.matrix.rows.root,S=this.dataSegments.length;if(_.isEmpty(g&&g.children))y=new n(S,b);else{var E,C=_.last(this.dataSegments);C?(p.fF.assertValue(C.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),E=_.clone(C.hierarchyLastNodeIndex)):E=[],(0,e.Iu)(g,E),p.fF.assert(function(){return!C||C.endsBeforeNode(E)},"Segment lastNodeIndex must be incremental"),y=new n(S,b,E)}this.dataSegments.push(y)},l.prototype.rewriteQueryResultWithoutPerformanceActivities=function(d){if(d&&d.dataReaderResult&&d.dataReaderResult.performanceActivities){var b=(0,t.__assign)({},d.dataReaderResult);return delete b.performanceActivities,(0,t.__assign)((0,t.__assign)({},d),{dataReaderResult:b})}return d},l.prototype.canLoadMore=function(){var d=_.last(this.dataSegments);return null!=d&&null!=d.restartToken},l.prototype.lastExecutedQuery=function(){return this.generatedQuery},l.prototype.getNodeSegment=function(d){var b=this;return p.fF.assert(function(){return!_.some(b.dataSegments,function(f){return _.isEmpty(f.hierarchyLastNodeIndex)})},"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,function(f){return!f.endsBeforeNode(d)})},l.prototype.discardSegmentsFrom=function(d){var b=this;p.fF.assert(function(){return d<b.dataSegments.length},"segmentIndex out of bounds"),this.dataSegments.length=d},l.prototype.getLastNodeIndex=function(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex},l.prototype.getSecondToLastNodeIndex=function(){if(this.dataSegments&&!(this.dataSegments.length<2))return(0,t.__spreadArray)([],this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex,!0)},l}()},427379:function(ze,K,r){function t(){return new c}r.d(K,{B:function(){return t}});var c=function(){function i(){this.visualIds={}}return i.prototype.add=function(s){this.visualIds[s]=1},i.prototype.delete=function(s){delete this.visualIds[s]},i.prototype.has=function(s,p){void 0===p&&(p=!0);var V=1===this.visualIds[s];return V&&p&&this.delete(s),V},i}()},714725:function(ze,K,r){r.d(K,{f:function(){return o}});var t=r(826613),c=r(787941),i=r(283427),s=r(474505),p=r(620108),V=r(454262),m=r(731479),v=r(477898),e=r(809395),h=r(35801),n=r(600348);function o(a,l){return new u(a,l)}var u=function(){function a(l,d){this.plugins=l,this.featureSwitchService=d,c.fF.assertValue(l,"VisualUtil - plugins"),c.fF.assertValue(d,"VisualUtil - featureSwitchService")}return a.prototype.canEdit=function(l,d){var b=this.plugins.capabilities(l);switch(b&&b.advancedEditModeSupport){case 1:return!0;case 2:return d;default:return!1}},a.prototype.dataViewKinds=function(l,d){if(l){var b=this.plugins.capabilities(l);if(b){var f=b.dataViewMappings,g=(0,s._1)(f);if(d){var S=(0,e.i1)(d),y=(0,i.Lo)(d.projections,f,S,this.featureSwitchService.featureSwitches);g=(0,s._1)(y.supportedMappings),"map"===l&&1&g&&(0,t.eT)(d.projections,y.supportedMappings)&&(g|=2)}if(g)return g}}},a.prototype.targetedDataViewKinds=function(l,d){var b=this.plugins.getPlugin(l);return(0,m.vh)(b,l)&&!(0,v.fA)(b)?31:this.dataViewKinds(l,d)||31},a.prototype.supportsFocusMode=function(l){var d=this.plugins.capabilities(l);return d&&d.dataViewMappings&&!d.disableFocusMode},a.prototype.isSupportedVisual=function(l){var d=(0,h.s)(l);return!!d&&!!this.plugins.getPlugin(d)},a.prototype.canConvertVisual=function(l){if(!l)return!1;var d=(0,h.s)(l);if(!d)return!1;var b=this.plugins.capabilities(d);return(this.isQueryVisual(d)||!(!b||!b.isConvertible))&&!(0,e.EL)(l)},a.prototype.canFormatVisual=function(l){return!!l&&!(0,e.EL)(l)},a.prototype.canSummarizeVisual=function(l){var d=this.plugins.getPlugin(l);return!!d&&(this.isAnalysisVisualPlugin(d)?!!d.getAnalysisVisualNarrativeSummaryConfiguration:!!d.getNarrativeSummaryBindings)},a.prototype.isAnalysisVisualPlugin=function(l){return this.isAnalysisVisual(l.name)},a.prototype.isQueryVisual=function(l){var d=this.plugins.capabilities(l);return!d||!this.isQueryDisabled(l,d)&&null!=d.dataViewMappings},a.prototype.isQueryDisabled=function(l,d){if(c.fF.assertValue(l,"visualType"),c.fF.assertAnyValue(d,"capabilities"),d&&(0,V.oy)(d.dataViewMappings))return!this.plugins.isScriptVisualQueryable(l)},a.prototype.supportVisualSearch=function(l){var d=this.plugins.capabilities(l);return!(!d||!this.isQueryVisual(l)||!(0,p.Cr)(d.objects))},a.prototype.isAnalysisVisual=function(l){return l===n.D.keyDriversVisual},a.prototype.isQnaVisual=function(l){return l===n.D.qnaVisual},a.prototype.isTableVisual=function(l){return l===n.D.tableEx},a.prototype.isMatrixVisual=function(l){return l===n.D.pivotTable},a}()},53381:function(ze,K,r){r.d(K,{V:function(){return I}});var t=r(226514),c=r(912126),i=r(154369),s=r(883863),p=r(787941),V=r(989516),m=r(647639),v=r(927928),e=r(238435),h=r(668268),n=r(620108),o=r(19632),u=r(411916),a=r(211763),l=r(230762),d=r(13106),b=r(324356),f=r(334048),g=r(983172),S=r(592042),y=r(860141),C=r(160046),E=r(501895),D=r(571330),P=r(456535),M=r(474147),T=r(374952),R=r(425158),B=r(740390),N=r(809395),x=r(693285),A=r(633888);function I(Y){return p.fF.assertValue(Y,"services"),p.fF.assertValue(Y.dataReaders,"services.dataReaders"),p.fF.assertValue(Y.displayNameService,"services.displayNameService"),p.fF.assertValue(Y.plugin,"services.plugin"),p.fF.assertValue(Y.pluginOps,"services.pluginOps"),p.fF.assertValue(Y.sortService,"services.sortService"),p.fF.assertValue(Y.aggrOps,"services.aggrOps"),p.fF.assertValue(Y.filterGenerator,"services.filterGenerator"),p.fF.assertValue(Y.featureSwitchService,"services.featureSwitchService"),p.fF.assertValue(Y.transformPluginService,"services.transformPluginService"),p.fF.assertValue(Y.telemetryService,"services.telemetryService"),p.fF.assertValue(Y.visualTimeSynchronizationService,"services.visualTimeSynchronizationService"),new w(Y.dataReaders,Y.displayNameService,Y.plugin,Y.pluginOps,Y.sortService,Y.filterGenerator,Y.aggrOps,Y.featureSwitchService,Y.transformPluginService,Y.telemetryService,Y.visualTimeSynchronizationService,Y.visualQueryCapabilitiesService,Y.cachePolicyProviderService,Y.localizationService)}var w=function(){function Y(se,ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me,ye){this.dataReaders=se,this.displayNames=ce,this.visualPluginService=pe,this.pluginOps=ve,this.sortService=De,this.filterGenerator=We,this.aggrOps=je,this.featureSwitchService=Ae,this.transformPluginService=_e,this.telemetryService=le,this.visualTimeSynchronizationService=Z,this.visualQueryCapabilitiesService=ie,this.cachePolicyProviderService=me,this.localizationService=ye}return Y.prototype.shouldExecute=function(se,ce){if(p.fF.assertAnyValue(se,"config"),p.fF.assertAnyValue(ce,"dataSources"),!se||_.isEmpty(ce)||(0,C.xj)(se))return!1;var pe=se.visualType,ve=this.visualPluginService.capabilities(pe);if(!ve||this.pluginOps.isQueryDisabled(pe,ve))return!1;if(!this.getQueryGenerator(ce,se))return!1;if(null==se.query||se.query.areAllProjectionsHidden()){var We=(0,N.kT)(se,ve),je=[We.visual];return je.push(We.visualContainer),!_.isEmpty(je)&&(0,i.Sk)(d.vQ.create(),je)}return this.pluginOps.isQueryVisual(pe)&&!this.pluginOps.isAnalysisVisual(pe)},Y.prototype.execute=function(se){var ce,pe,ve;p.fF.assertValue(se,"options"),se.performanceActivity&&se.performanceActivity.isRunning()&&(ve=se.performanceActivity.createChildActivity({name:"Query Generation"}));var De=se.config,We=se.dataSources;if(!_.isEmpty(We)){var je=(0,c.W5)(We,De.query&&De.query.defn);if(!_.isEmpty(je)){var Ae=this.getAnchorTimeQueryOptions(se.cacheOptions,!se.disableAnchorTime,se.additionalFilters,se.config),_e=Ae.anchorTime,le=Ae.cacheOptions,Z=Ae.relativeTimeError;if(Z)return{options:null,error:Z};var ie=this.getVisualCapabilities(se.config.visualType);if(De.query&&(De.query.hasHiddenProjections()||De.query.hasVisualCalcExpressions())){var me=De.query,ye=(0,A.OW)(null!==(ce=ie.dataViewMappings)&&void 0!==ce?ce:[]);if(me.projections[ye]&&(!_.isEmpty(me.projections[ye].all())||!_.isEmpty(me.projections[ye].getFieldParameters())))return{options:null,error:new x.k("NoSupportSmallMultiplesWithVC_Hidden",this.localizationService)}}var X=this.dataReaders.queryGenerator(je),ue=(0,R.p0)(De,De&&De.visualType,se.schema,X,this.getCompileMappingsResultServices(),se.additionalFilters,se.dataViewMappingsOverride,se.performanceActivity,se.customizeQueryOverride),Se=this.dataReaders.queryExtensionLookup(We);if(ue){if(ue.error)return{options:null,error:ue.error};var Be=ue.compiled;if(Be){var Ke;if(Be.query&&Be.query.defn){if(!_.isEmpty(Be.query.defn.select())&&!_.isEmpty(Be.query.defn.transforms())){Ke={};for(var Ze=0,qe=Be.query.defn.select();Ze<qe.length;Ze++){var it=qe[Ze];(0,P.Im)(it.expr)||(Ke[it.name]=it)}}if(se.disableMeasureSorts){var be=Be.query.defn.orderBy().map(function(Ne){return Ne.expr}).filter(function(Ne){return(0,T.k)(Ne)});if(!_.isEmpty(be))for(var Fe=0,ee=be;Fe<ee.length;Fe++)Be.query.defn=Be.query.defn.removeOrderBy(ee[Fe])}}var Ce=Y.compileFilters(se.additionalFilters,ie),J=!(null===(pe=De.query)||void 0===pe||!pe.isDrillDisabled),re=this.getHierarchicalGroupingRoles(ie,J),Ie=this.generateQuery(X,se.schema,Be,ie.dataRoles,De.queryOptions&&De.queryOptions.keepProjectionOrder,ie.filterMappings,Ce.dataFilter,Ce.highlightFilter,se.restartToken,se.dataWindow,se.dataSourceVariables,null,Se,se.executionMetricsKind,ie.noDefaultProjections,this.getWindowExpansionState(De,se.windowExpansion,se.schema),_e,se.disableHidden,se.enableAllSubtotal,se.enableHierarchicalGrouping,re),ot=Ie.result,we=Ie.query,he=Ie.resolvedQuery,Te=se.additionalFilters?se.additionalFilters.queryRefsForSingleItemDrillFilters:void 0,Oe=this.dataReaders.readerType(je);if(Oe){var Je=(0,y.$$)(se.dataSources,he);p.fF.assert(function(){return(0,c.S8)(Je).length<=1},"all data sources needed for query execution should have the same type");var fe={type:Oe,query:{dataSources:(0,y.kB)(Je),command:ot.command,cacheOptions:le,clientCacheOnly:se.clientCacheOnly,cacheResponseOnServer:se.cacheResponseOnServer,allowResultFromClientCache:se.allowResultFromClientCache,allowClientSideFilters:this.getAllowClientSideFiltersOrDefault(se,ie),ignoreViewportForCache:se.ignoreViewportForCache,performanceActivity:se.performanceActivity,applicationContext:se.applicationContext},perfId:se.config.visualType};fe.kinds=this.pluginOps.targetedDataViewKinds(se.config.visualType,we);var ne=function(Y,se,ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me,ye,oe,X,ue,Se,Be,Ke,Ze,qe){var it=ue?ue.dataFilter:null,be={},Fe=g.m.buildExprEvaluationContext(ve.defn.from());if(le&&(be.objects=le,ie&&_.some(ie,function(Bt){return Bt.selectExprReplaced}))){var ee=new j(ve.defn,ie,le,Fe);ee.rewrite(),be.objects=ee.rewrittenObjects}it&&(be.isDataFilterApplied=!0),Z&&(be.splits=Z),_.isEmpty(ve.expansionStates)||(be.expansionStates=ve.expansionStates);var k={options:Y,transforms:be,warnings:me,compiledMappings:ye,deferred:Se},Ce=function(Y,se){if(p.fF.assertValue(Y,"query"),p.fF.assertAnyValue(se,"queryRewrites"),_.isEmpty(se))return{queryForTransformActions:Y,internalToPublicSelectNameMappingsByRole:{}};for(var ce=Y.clone(),pe=function(_e){if(_e.selectExprAdded){var le=ce.defn.select(),Z=_e.selectExprAdded;p.fF.assert(function(){return le.length===Z.selectIndex},"selectExprAdded records are expected to appear in the correct order"),le[Z.selectIndex]=Z.namedSQExpr,ce.defn=ce.defn.select(le)}else if(_e.projectionQueryRefChanged){var ie=_e.projectionQueryRefChanged;ce.projections[ie.role].replaceQueryRef(ie.oldQueryRef,ie.newInternalQueryRef)}else _e.aggregatesAdded||_e.selectExprReplaced||p.fF.assertFail("Unexpected queryRewriteRecord: "+JSON.stringify(_e))},ve=0,De=se;ve<De.length;ve++)pe(De[ve]);var je=_.reduce(se,function(Ae,_e){var le=_e.projectionQueryRefChanged;if(le){var Z=Ae[le.role];Z||(Ae[le.role]=Z={}),Z[le.newInternalQueryRef]=le.oldQueryRef}return Ae},{});return{queryForTransformActions:ce,internalToPublicSelectNameMappingsByRole:je}}(ve,ie),J=Ce.queryForTransformActions,re=Ce.internalToPublicSelectNameMappingsByRole,Ie=J.defn.select(),ot=J.defn.orderBy(),we=J.projections;if(it){var he=it.where(),Te=g.m.buildExprEvaluationContext(it.from());if(_.some(he,function(Bt){return Bt.condition&&!_.isEmpty(Bt.condition.validate(se,je,void 0,Te))}))return k.error=new x.k("Broken_Filters",_e),k}if(k.filterContext={dataFilters:ue.dataFiltersUnmerged,highlightFilters:ue.highlightFilter,highlightFiltersUnmerged:ue.highlightFiltersUnmerged,query:De},we){var Oe=[],Je={},fe=void 0;for(var ne in we){var Ne=Je[ne]=[],et=we[ne];_.isEmpty(et.activeProjectionRefs)||(fe||(fe={}),fe[ne]=_.map(et.activeProjectionRefs,function(Bt){return{queryRef:Bt}}));for(var xe=0,Ve=qe?et.all():et.projected();xe<Ve.length;xe++){var Le=Ve[xe],at=(0,s.g2)(Ie,Le.queryRef);Oe.push({queryRef:Le.queryRef,format:Le.format,queryIndex:at,roleName:ne,displayName:Le.displayName}),Ne.push(at)}}be.selects=[];for(var Xe,ft=[],ht=J.defn.transforms(),Ge=!_.isEmpty(ht),Re=function(jt,Kt){var or,Yt=function(Y,se){return p.fF.assertValue(Y,"projections"),_.chain(Y).compact().filter(function(ce){return ce.queryIndex===se}).value()}(Oe,jt),Zt=Ie[jt],_r=X&&X[Zt.name];if(!Ge||_r){_r&&(Zt=_r);var Pr=g.m.buildExprEvaluationContext(J.defn.from());if(!_.isEmpty(Zt.expr.validate(se,je,void 0,Pr)))return ft.push(Zt.expr),"continue";var mt=Zt.expr.getMetadata(se,Fe);p.fF.assertValue(mt,"exprMetadata"),or={type:mt.type,expr:Zt.expr},!(0,T.k)(Zt.expr)&&(_.isEmpty(Y.query.command)||Se||Ae.keepAllMetadataColumns)&&(or.identityExprs=ce.produceIdentities(Zt.expr,se));var Rt=g.m.getKpiMetadata(Zt.expr,se);if(Rt&&(or.kpi=Rt),Ze&&!_.isEmpty(Zt.nativeReferenceName))or.displayName=Zt.nativeReferenceName;else{var Xt=function(Y,se){if(se)for(var ce=0,pe=se;ce<pe.length;ce++){var De=pe[ce].projectionQueryRefChanged;if(De&&De.newInternalQueryRef===Y)return De.oldQueryRef}return Y}(Zt.name,ie),dr=_.find(Yt,function(Tt){return Tt.queryRef===Zt.name&&Tt.displayName});or.displayName=dr?dr.displayName:We.getDisplayName(Zt.expr,se,Ae,Xt,pe)}var ar=Yt[0];if(ar){var gr=ar.format||mt.format;gr&&(or.format=gr)}}else or={expr:Zt.expr,displayName:Zt.name};or.roles||(or.roles={});for(var Cr=0,pr=Yt;Cr<pr.length;Cr++){var Br=pr[Cr];Br&&Br.roleName&&(or.roles[Br.roleName]=!0)}Xe=Zt.name,or.queryName=_.chain(Object.keys(or.roles)).map(function(Tt){return re[Tt]&&re[Tt][Xe]}).filter(_.isString).value()[0]||Xe;var Ir=_.find(Be,function(Tt){return Tt.queryName===or.queryName});_.isEmpty(null==Ir?void 0:Ir.relatedProjectionsQueryName)||(or.relatedSelects=_.map(Ir.relatedProjectionsQueryName,function(Tt){return{queryName:Tt}})),_.isEmpty(null==Ir?void 0:Ir.relatedObjects)||(or.relatedObjects=Ir.relatedObjects),null!=Ir&&Ir.format&&(or.format=Ir.format);var Or=function(Y,se){return p.fF.assertValue(Y,"orderBy"),p.fF.assertValue(se,"expr"),_.findIndex(Y,function(ce){return(0,M.fS)(ce.expr,se)})}(ot,Zt.expr);-1!==Or&&(or.sort=ot[Or].direction,or.sortOrder=Or);var zr=g.m.getDefaultValue(Zt.expr,se);if(zr){or.defaultValue={value:zr};var Ur=Zt.expr.getKeyColumns(se);or.defaultValue.identityFieldsValues=g.m.getDefaultValues(Ur,se)}1===g.m.getAggregateBehavior(Zt.expr,se)&&(or.discourageAggregationAcrossGroups=!0);var Rr=g.m.getParameterMetadata(Zt.expr,se);Rr&&(or.parameter=Rr),be.selects.push(or)},Me=0,He=Ie.length;Me<He;Me++)Re(Me);if(ie)for(var ct=0,Mt=ie;ct<Mt.length;ct++){var It=Mt[ct];It.aggregatesAdded&&Q(be.selects,It.aggregatesAdded)}be.roles={ordering:Je,drillableRoles:Ke},(0,D.S1)(Ae)&&(be.roles.isDrillDisabled=ve.isDrillDisabled),fe&&(be.roles.activeItems=fe,function(Y,se){var ce=Y&&Y.roles,pe=ce&&ce.activeItems;if(pe)for(var ve in pe)for(var We=0,je=pe[ve];We<je.length;We++){var Ae=je[We];Ae.suppressConcat=_.includes(se,Ae.queryRef)}}(be,oe)),k.error=x.k.create(ft,se,_e)}return k}(fe,se.schema,X,De.columnProperties,we,he,this.displayNames,this.aggrOps,ie,this.localizationService,Be.objectDefinitions,ot.splits,ot.queryRewrites,ue.warnings,Be.mappings,Te,Ke,Ce,Ie.deferred,Be.additionalProjections,se.drillableRoles,se.useNativeReferenceNameAsDisplayNames,se.disableHidden);return ve&&ve.resolve(),ne.options.query&&(ne.options.query.telemetryV2Enabled=se.telemetryV2Enabled,null!=se.requestPriority&&(ne.options.query.requestPriority=se.requestPriority)),ne.isPivoted=Ie.result.isPivoted,ne}}}}}},Y.prototype.getCompileMappingsResultServices=function(){return{displayNameService:this.displayNames,featureSwitchService:this.featureSwitchService,localizationService:this.localizationService,sortService:this.sortService,telemetryService:this.telemetryService,transformPluginService:this.transformPluginService,visualPluginService:this.visualPluginService}},Y.prototype.getCompiledDataViewMapping=function(se){p.fF.assertValue(se,"options");var ce=se.config,pe=this.getQueryGenerator(se.dataSources,ce);if(pe){var ve=(0,R.p0)(ce,ce&&ce.visualType,se.schema,pe,this.getCompileMappingsResultServices());if(ve&&!ve.error)return ve.compiled.mappings}},Y.prototype.getAnchorTimeQueryOptions=function(se,ce,pe,ve){var De,le,We=!(null===(De=this.visualQueryCapabilitiesService)||void 0===De||!De.getCapabilities().disableAnchorTime),je=ce&&this.hasRelativeTimeFilters(pe,ve),Ae=se;if(We&&je)return{anchorTime:null,cacheOptions:Ae,relativeTimeError:new x.k("NoSupportRTS_PublishToWeb",this.localizationService)};if(je){Ae=this.cachePolicyProviderService?this.cachePolicyProviderService.getRelativeTimeFilterQueryPolicy():v.U.AllowQuery;var Z=this.visualTimeSynchronizationService.getAnchorTime();le=(0,l.CI)(Z,S.Ge.fromExtendedType(519))}return{anchorTime:le,cacheOptions:Ae,relativeTimeError:null}},Y.prototype.hasRelativeTimeFilters=function(se,ce){return!(!se||!(0,a.hN)(se.dataFilter))||!!ce&&!!ce.query&&!!ce.query.defn&&(0,a.hN)(ce.query.defn)},Y.prototype.executeForFlattenedQuery=function(se,ce){p.fF.assertValue(se,"options");var pe=se.config,ve=this.getQueryGenerator(se.dataSources,pe);if(ve){var De=(0,R.p0)(pe,pe&&pe.visualType,se.schema,ve,this.getCompileMappingsResultServices(),se.additionalFilters,se.dataViewMappingsOverride,se.performanceActivity,se.customizeQueryOverride);if(De&&!De.error){var We=De.compiled;if(We){var je=this.getVisualCapabilities(se.config.visualType),Ae=Y.compileFilters(se.additionalFilters,je);return this.generateFlattenedQuery(ve,se.schema,We,je.dataRoles,pe.queryOptions&&pe.queryOptions.keepProjectionOrder,je.filterMappings,Ae.dataFilter,Ae.highlightFilter,se.restartToken,se.dataWindow,se.dataSourceVariables,ce,je.noDefaultProjections,se.windowExpansion)}}}},Y.prototype.getQueryGenerator=function(se,ce){if(p.fF.assertAnyValue(se,"dataSources"),p.fF.assertValue(ce,"visualConfig"),!_.isEmpty(se)){var pe=ce.query,ve=(0,c.W5)(se,pe&&pe.defn);if(ve)return this.dataReaders.queryGenerator(ve)}},Y.prototype.getVisualCapabilities=function(se){if(se){var ce=this.visualPluginService.getPlugin(se);return ce&&ce.capabilities}},Y.prototype.getHierarchicalGroupingRoles=function(se,ce){var pe,ve,De=[];return ce||(!(null===(pe=se.expandCollapse)||void 0===pe)&&pe.roles&&De.push.apply(De,se.expandCollapse.roles),!(null===(ve=se.drilldown)||void 0===ve)&&ve.roles&&!se.drilldown.suppresDrillOperations&&De.push.apply(De,(0,D.WO)(se,ce))),De},Y.compileFilters=function(se,ce){var pe,ve,De,We;return p.fF.assertValue(ce,"visualCapabilities"),se&&(ve=se.dataFilter,De=se.dataFiltersUnmerged,pe=se.highlightFilter,We=se.highlightFiltersUnmerged),p.fF.assert(function(){return!pe||ce.supportsHighlight},"should not have generated a highlight filter for a visual that doesn't support it"),{dataFilter:ve,dataFiltersUnmerged:De,highlightFilter:pe,highlightFiltersUnmerged:We}},Y.prototype.getAllowClientSideFiltersOrDefault=function(se,ce){return p.fF.assertValue(se,"options"),p.fF.assertValue(ce,"visualCapabilities"),_.isBoolean(se.allowClientSideFilters)?se.allowClientSideFilters:!!(0,n.Cr)(ce.objects)},Y.prototype.generateQuery=function(se,ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me,ye,oe,X,ue,Se,Be,Ke,Ze){p.fF.assertValue(se,"queryGenerator");var qe=this.getQueryGeneratorOptions(ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me,ye,oe,X,ue,Se,Be,Ke,Ze),it=se.execute(qe);return{result:it,query:pe.query,resolvedQuery:qe.query,deferred:it.deferred}},Y.prototype.generateFlattenedQuery=function(se,ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me,ye){p.fF.assertValue(se,"queryGenerator");var oe=this.getQueryGeneratorOptions(ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,void 0,void 0,me,ye);return se.executeForQueryOnly?se.executeForQueryOnly(oe):oe.query},Y.prototype.getQueryGeneratorOptions=function(se,ce,pe,ve,De,We,je,Ae,_e,le,Z,ie,me,ye,oe,X,ue,Se,Be,Ke){p.fF.assertValue(se,"schema"),p.fF.assertValue(ce,"compiled"),p.fF.assertAnyValue(pe,"dataRoles"),p.fF.assertAnyValue(_e,"dataWindow");var Ze=ce.query,qe=this.filterGenerator.resolveFilterTargets(se,Ze,pe,De,We),it=(0,E.L7)(this.transformPluginService,qe,Ze.projections,pe,(0,B.S)(ce.query,pe),ce.additionalProjections,ce.mappings);it=function(Y){var se=Y.orderBy();if(_.isEmpty(se))return Y;for(var ce=!1,pe=0,ve=se;pe<ve.length;pe++){var De=ve[pe];(0,P.tO)(De.expr)&&(De.expr=De.expr.measure,ce=!0)}return ce?Y.orderBy(se):Y}(it);var be=new F(se,ce.mappings,it);return it=it.rewrite(be),{query:Z?Z(it):it,queryExtensionLookup:ie,mappings:ce.mappings,additionalProjections:ce.additionalProjections,highlightFilter:je,restartToken:Ae,dataWindow:_e,highVolumeOverride:this.featureSwitchService&&this.featureSwitchService.featureSwitches.highVolume,expansionStates:ce.query.expansionStates,dataSourceVariables:le,executionMetricsKinds:me,keepProjectionOrder:ve,noDefaultProjections:ye,windowExpansion:oe,anchorTime:X,disableHidden:ue,enableAllSubtotal:Se,enableHierarchicalGrouping:Be,rolesWithHierarchicalGroupingSupport:Ke}},Y.prototype.getWindowExpansionState=function(se,ce,pe){var ve=this.visualPluginService.capabilities(se.visualType);if(_.some(ve.dataViewMappings,function(We){return We&&We.matrix&&We.matrix.rows&&We.matrix.rows.dataReductionAlgorithm&&We.matrix.rows.dataReductionAlgorithm.topNPerLevel}))return ce||(p.fF.assert(function(){return _.size(se.query.expansionStates)<=1},"Expected at most one expansion state"),(0,m.W7)(_.first(se.query.expansionStates),void 0,se.query.defn.select(),pe));p.fF.assert(function(){return!ce},"Window expansion state is only expected when data reduction is set to topNPerLevel")},Y}(),F=function(Y){function se(ce,pe,ve){var De=Y.call(this)||this;return De.schema=ce,De.compiledMappings=pe,De.query=ve,De.pointsPerSparkline=52,De}return(0,t.__extends)(se,Y),se.prototype.visitSparklineData=function(ce){p.fF.assert(function(){return 1===_.size(ce.grouping)},"only support 1 expr in grouping");var ve,pe=this.pointsPerSparkline+1,De=ce.grouping[0];if((0,P.ez)(De)){var We=De.getMetadata(this.schema),je=null==We?void 0:We.type;if(null!=je&&je.temporal){var Ae=(0,u.YN)(De,this.schema);Ae&&(ve=(0,b.m_)(Ae,3))}}var _e=_.find(this.query.select(),function(oe){return(0,M.fS)(oe.expr,ce)});p.fF.assertValue(_e,"matchingExpr");for(var le=_e.name,Z=!1,ie=0,me=this.compiledMappings;ie<me.length;ie++)(0,e.oF)(me[ie],{visitRole:function(X){var ue,Se=_.find(X.items,function(Be){return Be.queryName===le});null!==(ue=null==Se?void 0:Se.sparklineInfo)&&void 0!==ue&&ue.includeMinGroupingInterval&&(Z=!0)}});return(0,b.Zy)(ce.measure,ce.grouping,ve,pe,Z)},se}(f.b),j=function(Y){function se(ce,pe,ve,De){var We=Y.call(this)||this;return We.query=ce,We.queryRewrites=pe,We.objects=ve,We.context=De,We}return(0,t.__extends)(se,Y),se.prototype.rewrite=function(){for(var ce in this.objects)for(var pe=0;pe<this.objects[ce].length;pe++){var ve=this.objects[ce][pe];if(ve.selector){var We=(0,V.CT)(ve.selector);if(!_.isEmpty(We)){this.rewrittenObjects||(this.rewrittenObjects=(0,h.d9)(this.objects));for(var je=0,Ae=We;je<Ae.length;je++)this.rewrittenObjects[ce][pe].selector={data:[(0,o.TZ)(Ae[je].expr.accept(this))]}}}}},se.prototype.visitSelectRef=function(ce){var pe=ce.expressionName,ve=this.query.select().withName(pe),De=ve.expr;ve&&(0,P.t3)(ve.expr)&&(0,P.jv)(ve.expr.source)&&(De=g.m.getSubqueryExpression(ve.expr,this.context));var We=_.find(this.queryRewrites,function(je){return je.selectExprReplaced&&(0,M.fS)(je.selectExprReplaced.originalExpr,De)});return We?We.selectExprReplaced.replacedExpr:ce},se}(f.b);function Q(Y,se){p.fF.assertValue(Y,"selects"),p.fF.assertValue(se,"rewrite");for(var ce=0,pe=Y;ce<pe.length;ce++){var ve=pe[ce];if(ve.queryName===se.originalQueryRef){var De={},We=se.aggregates;We.min&&(De.min=H(We.min)),We.max&&(De.max=H(We.max)),ve.aggregateSources=De;break}}var je=se.aggregates;de(Y,je.min),de(Y,je.max)}function H(Y){return p.fF.assertValue(Y,"source"),{index:Y.index}}function de(Y,se){if(p.fF.assertValue(Y,"selects"),p.fF.assertAnyValue(se,"aggregateSource"),se){var ce=se.index;Y[ce]||(Y[ce]={displayName:"",queryName:se.queryName,expr:se.expr})}}},74191:function(ze,K,r){r.d(K,{E:function(){return v}});var t=r(886740),c=r(362892),i=r(787941),s=r(156319),p=r(35801),V=r(809395),m=r(600348);function v(h,n,o,u,a){return new e(h,n,o,u,a)}var e=function(){function h(n,o,u,a,l){this.visualPluginService=n,this.pluginOps=o,this.explorationNavigationService=u,this.featureSwitchService=a,this.visualCapabilitiesService=l}return h.prototype.relationship=function(n,o,u){return i.fF.assertValue(n,"section"),this.getRelationship(n.relationships,o,u)},h.prototype.drillRelationship=function(n,o,u){i.fF.assertValue(n,"section");var a=this.getRelationship(n.relationships,o,u);if(a){var l=a;return 2===a.type&&(l={source:a.source,target:a.target,type:1}),l}},h.prototype.getRelationship=function(n,o,u){return i.fF.assertValue(o,"sourceVisual"),i.fF.assertValue(u,"targetVisual"),i.fF.assertAnyValue(n,"relationships"),_.find(n,function(a){return a.source.name===o.name&&a.target.name===u.name})},h.prototype.getIsCrossHighlightingDisabled=function(){var n=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),o=n&&n.slowDataSourceSettings;return o&&o.isCrossHighlightingDisabled},h.prototype.relationshipFilterAction=function(n,o,u,a,l){var d=this.relationship(n,o,u);return this.getRelationshipFilterAction(d,o,u,a,l)},h.prototype.drillRelationshipFilterAction=function(n,o,u,a){if(!o.drillFilterOtherVisuals)return 3;var l=this.drillRelationship(n,o,u);i.fF.assert(function(){return!l||2!==l.type},"Expect drill relationship NOT to be HighlightFilter.");var d=this.getRelationshipFilterAction(l,o,u,a,!1);return i.fF.assert(function(){return 2!==d},"Expect drill relationship filter action NOT to be HighlightFilter."),d},h.prototype.shouldApplyCrossDrill=function(n,o,u,a){if(o===u||(0,p.s)(u)===m.D.slicer)return!1;var l=this.drillRelationshipFilterAction(n,o,u,a);return 1===l||0===l&&1===this.defaultDrillFilterAction(o,u)},h.prototype.getRelationshipFilterAction=function(n,o,u,a,l){if(n&&this.supportsFilterActionTarget(o,u,n.type))return n.type;var d=u&&u.config&&u.config.singleVisual,b=d&&u.config.singleVisual.visualType,f=this.visualPluginService.capabilities(b),g=0;if(n&&2===n.type&&(0,V.iv)(u)&&(g=1),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(f,b)){var y=o&&o.config&&o.config.singleVisual,C=y&&o.config.singleVisual.visualType,E=this.visualPluginService.capabilities(C);if(!this.isFilter(E,C,y&&y.objects))return 3}if(f){var D=d.query;if(D){var P=this.visualPluginService.getPlugin(b);if(P&&P.shouldIgnoreCrossFilter){var T={mappings:f.dataViewMappings,queryDefn:D.defn,queryProjections:D.projections,schema:a,objectDescriptors:f.objects,objectDefinitions:d.objects,roles:f.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,c.S)()},R=(0,t.y)(T);if(P.shouldIgnoreCrossFilter({dataViewMappings:R,filterForFieldParameter:l}))return 3}}}return g},h.prototype.isSlicer=function(n,o){return!!s.l.tryGetFilterPropertyIdentifier(n,o,this.visualPluginService)},h.prototype.isFilter=function(n,o,u){return n?this.isSlicer(n,o):null!=s.l.tryGetFilterProperty(n,o,this.visualPluginService,u)},h.prototype.supportsFilterActionTarget=function(n,o,u){i.fF.assertValue(n,"sourceVisual"),i.fF.assertValue(o,"targetVisual"),i.fF.assertValue(u,"visualRelationshipFilterAction");var a=(0,p.s)(o),l=(0,p.s)(n);if(!_.isEmpty(l)&&!_.isEmpty(a))switch(u){case 1:case 3:return!0;case 2:if((0,V.iv)(o))return!1;var d=this.visualPluginService.capabilities(a);return(!d||d.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(l)}return!1},h.prototype.supportsAnyFilterAction=function(n){i.fF.assertValue(n,"visualContainer");var o=(0,p.s)(n);if(_.isEmpty(o)||!this.pluginOps.isQueryVisual(o)&&!this.pluginOps.isQnaVisual(o))return!1;var u=this.visualPluginService.capabilities(o);return!u||!1!==u.supportsSelection},h.prototype.defaultFilterAction=function(n,o){i.fF.assertValue(n,"sourceVisualContainer"),i.fF.assertValue(o,"targetVisualContainer");var u=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),a=u&&u.settings;return a&&a.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(n,o,2)?this.supportsFilterActionTarget(n,o,1)?1:void 0:2},h.prototype.defaultDrillFilterAction=function(n,o){i.fF.assertValue(n,"sourceVisualContainer"),i.fF.assertValue(o,"targetVisualContainer");var u=this.defaultFilterAction(n,o);return 2===u&&(u=1),i.fF.assert(function(){return!u||1===u||3===u},"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),u},h}()},658353:function(ze,K,r){r.d(K,{Bq:function(){return pe},Ed:function(){return v},Ef:function(){return P},F:function(){return a},Fp:function(){return M},GD:function(){return g},Gh:function(){return A},Hl:function(){return et},II:function(){return o},JL:function(){return xe},Jr:function(){return Z},Jw:function(){return Be},Kh:function(){return s},L9:function(){return c},M:function(){return it},MF:function(){return je},Mr:function(){return Q},Mz:function(){return ot},OX:function(){return B},Ql:function(){return ne},SO:function(){return _e},Sm:function(){return d},TH:function(){return Ze},Ul:function(){return me},Um:function(){return O},V6:function(){return V},Zk:function(){return oe},Zv:function(){return b},b_:function(){return D},bt:function(){return C},dy:function(){return Le},fp:function(){return f},hg:function(){return S},hs:function(){return ft},jn:function(){return x},mY:function(){return Xe},p4:function(){return l},pV:function(){return N},qc:function(){return Te},rj:function(){return ue},s$:function(){return Ge},s5:function(){return w},sw:function(){return k},u1:function(){return Fe},u3:function(){return se},uX:function(){return Je},v$:function(){return h},wQ:function(){return De},z6:function(){return T},zs:function(){return R}});var t=r(853811),c=function(Me){return Me.Normal="Normal",Me.EmailSubscription="EmailSubscription",Me.ReportInvitation="ReportInvitation",Me.SubscribeOthers="SubscribeOthers",Me.Commenting="Commenting",Me.Invalid="Invalid",Me}({}),i="PBI.EX.RetrieveFromVisualContainerCache",s=t.cx[i]=(0,t.b1)(i),p="PBI.EX.RunQuery",V=t.cx[p]=(0,t.b1)(p,{logRatio:0}),m="PBI.EX.RunQueryImpl",v=t.cx[m]=(0,t.b1)(m,{logRatio:0}),e="PBI.EX.GetCachedQueryOrGenerate",h=t.cx[e]=(0,t.b1)(e,{logRatio:0}),n="PBI.EX.VisualFirstLoad",o=t.cx[n]=(0,t.b1)(n),u="PBI.EX.ToggleVisualDisplay",a=t.cx[u]=(0,t.b1)(u,{logExpAssignment:!0}),l="PBI.EX.GetExploration",d=t.cx[l]=(0,t.b1)(l),b="PBI.EX.DeserializeExploration",f=t.cx[b]=(0,t.b1)(b),g="PBI.EX.OpenExploration",S=t.cx[g]=(0,t.b1)(g,{shouldLogStartEnd:!0,logExpAssignment:!0}),y="PBI.EX.ExplorationStateApplyImpact",C=t.cx[y]=(0,t.b1)(y),E="PBI.EX.ExplorationStateApplyImpactIssues",D=t.cx[E]=(0,t.b1)(E),P="PBI.EX.SwitchSection",M=t.cx[P]=(0,t.b1)(P),T="PBI.EX.SwitchToAdjacentSection",R=t.cx[T]=(0,t.b1)(T),B="PBI.EX.NavigateBack",N=t.cx[B]=(0,t.b1)(B,{logExpAssignment:!0}),x="PBI.EX.NavigationButtonClicked",A=t.cx[x]=(0,t.b1)(x,{logExpAssignment:!0}),I="PBI.EX.VisualQueryGeneratorWarning",w=t.cx[I]=(0,t.b1)(I),F="PBI.EX.VisualQueryGeneratorError",O=t.cx[F]=(0,t.b1)(F),L="PBI.EX.Groups.GroupsAction",U=(t.cx[L]=(0,t.b1)(L),"PBI.EX.Groups.BinBySizeAction"),z=(t.cx[U]=(0,t.b1)(U),"PBI.EX.Groups.BinByCountAction"),te=(t.cx[z]=(0,t.b1)(z),"PBI.EX.Groups.Usage"),Q=t.cx[te]=(0,t.b1)(te),H="PBI.EX.Groups.Error",Y=(t.cx[H]=(0,t.b1)(H),"PBI.EX.ModelChange"),se=t.cx[Y]=(0,t.b1)(Y),ce="PBI.EX.Measures",pe=t.cx[ce]=(0,t.b1)(ce),ve="PBI.EX.ReportMeasureDataTypeChange",De=t.cx[ve]=(0,t.b1)(ve),We="PBI.EX.ReportMeasureDataCategoryChange",je=t.cx[We]=(0,t.b1)(We),Ae="PBI.EX.ReportMeasureMoveRoleKind",_e=t.cx[Ae]=(0,t.b1)(Ae),le="PBI.EX.QuickCalcMeasureEdited",Z=t.cx[le]=(0,t.b1)(le),ie="PBI.EX.QuickCalcMeasureDeleted",me=t.cx[ie]=(0,t.b1)(ie),ye="PBI.EX.VisualDrillableRoleActiveItemsFixed",oe=t.cx[ye]=(0,t.b1)(ye),X="PBI.PersistentState.SerializationError",ue=t.cx[X]=(0,t.b1)(X),Se="PBI.Pod.SerializationErrorFixed",Be=t.cx[Se]=(0,t.b1)(Se),Ke="PBI.SerializationError",Ze=t.cx[Ke]=(0,t.b1)(Ke),qe="PBI.EX.EmptyVisualContainerConfig",it=t.cx[qe]=(0,t.b1)(qe),be="PBI.ClipboardService.Paste",Fe=t.cx[be]=(0,t.b1)(be),ee="PBI.ClipboardService.UnsupportedVersion",k=t.cx[ee]=(0,t.b1)(ee),Ce="PBI.DataPointLassoSelect.PreviewSerialized",re=(t.cx[Ce]=(0,t.b1)(Ce),"PBI.EX.LoopingSQExpr"),ot=(t.cx[re]=(0,t.b1)(re),"PBI.EX.GetLinguisticSchema"),he=(t.cx[ot]=(0,t.b1)(ot),"PBI.EX.GetAutoRefreshAdminConfig"),Te=t.cx[he]=(0,t.b1)(he),Oe="PBI.EX.GetChangeDetectionAdminConfig",Je=t.cx[Oe]=(0,t.b1)(Oe),fe="PBI.EX.AnchorTimeUndefined",ne=t.cx[fe]=(0,t.b1)(fe),Ne="PBI.EX.GetAPRConfigFailure",et=t.cx[Ne]=(0,t.b1)(Ne),tt="PBI.EX.DefnsDuplicateSelector",xe=t.cx[tt]=(0,t.b1)(tt),Ve="PBI.EX.CertifiedTelemetryChildrenCountMismatch",Le=t.cx[Ve]=(0,t.b1)(Ve),at="PBI.EX.UndoEventTime",ft=t.cx[at]=(0,t.b1)(at),ht="PBI.EX.ConsecutiveUndoCount",Ge=t.cx[ht]=(0,t.b1)(ht),Re="PBI.EX.DeserializeNonUniqueIdentifier",Xe=t.cx[Re]=(0,t.b1)(Re)},23330:function(ze,K,r){r.d(K,{AJ:function(){return u},Vl:function(){return h},gP:function(){return v},pQ:function(){return e},wd:function(){return n}});var t=r(72911),c=r(787941),i=r(166851),s=r(261374),p=r(448711),V=r(988222),m=r(326621),v=function(){function d(b,f,g){this.op=b,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new e(f,g)}return Object.defineProperty(d.prototype,"operator",{get:function(){return this.op},set:function(f){this.op!==f&&(this.op=f,this.onOperatorChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"operatorLabel",{get:function(){return this.opLabel},set:function(f){this.opLabel=f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"valueRequired",{get:function(){return this.valRequired},enumerable:!1,configurable:!0}),d.prototype.accept=function(b){return b.visit(this)},d.empty=function(){return new d(0)},d.equals=function(b,f){return(b=b||null)===(f=f||null)||!b==!f&&(c.fF.assertValue(b,"x"),c.fF.assertValue(f,"y"),b.operator===f.operator&&e.equals(b.value,f.value))},d.prototype.onOperatorChanged=function(){this.valRequired=u(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)},d}(),e=function(){function d(b,f){null!=b&&(b instanceof Date&&(this.dateValue=b),this.value=b,this.formatter=f,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}return Object.defineProperty(d.prototype,"isDate",{get:function(){return null!=this.dateValue},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasValue",{get:function(){return null!=this.dateValue||!(0,s.g)(this.stringValue)},enumerable:!1,configurable:!0}),d.prototype.isValidDate=function(){return this.isDate&&(!_.isString(this.value)||null!==m.dx.parseDate(this.value))},d.equals=function(b,f){return(b=b||null)===(f=f||null)||!b==!f&&(c.fF.assertValue(b,"left"),c.fF.assertValue(f,"right"),d.compareDateTimeValue(b,f)&&b.stringValue===f.stringValue)},d.compareDateTimeValue=function(b,f){return(b.dateValue?b.dateValue.valueOf():0)===(f.dateValue?f.dateValue.valueOf():0)},d}(),h=function(){function d(b){var f=this;this.localizationService=b,this.isOperator=new i.o(function(){return{value:9,label:f.getLocalize().get("FilterOperator_Is"),tooltip:f.getLocalize().get("FilterOperator_IsTooltip")}}),this.isNotOperator=new i.o(function(){return{value:10,label:f.getLocalize().get("FilterOperator_IsNot"),tooltip:f.getLocalize().get("FilterOperator_IsNotTooltip")}}),this.isBlankOperator=new i.o(function(){return{value:11,label:f.getLocalize().get("FilterOperator_IsBlank"),tooltip:f.getLocalize().get("FilterOperator_IsBlankTooltip")}}),this.isNotBlankOperator=new i.o(function(){return{value:12,label:f.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:f.getLocalize().get("FilterOperator_IsNotBlankTooltip")}}),this.containsOperator=new i.o(function(){return{value:5,label:f.getLocalize().get("FilterOperator_Contains"),tooltip:f.getLocalize().get("FilterOperator_ContainsTooltip")}}),this.doesNotContainOperator=new i.o(function(){return{value:6,label:f.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:f.getLocalize().get("FilterOperator_DoesNotContainTooltip")}}),this.startsWithOperator=new i.o(function(){return{value:7,label:f.getLocalize().get("FilterOperator_StartsWith"),tooltip:f.getLocalize().get("FilterOperator_StartsWithTooltip")}}),this.doesNotStartWithOperator=new i.o(function(){return{value:8,label:f.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:f.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")}}),this.isEmptyString=new i.o(function(){return{value:13,label:f.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:f.getLocalize().get("FilterOperator_IsEmptyStringTooltip")}}),this.isNotEmptyString=new i.o(function(){return{value:14,label:f.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:f.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")}}),this.greaterThanOperator_ForDateTime=new i.o(function(){return{value:3,label:f.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:f.getLocalize().get("FilterOperator_GreaterThan_DT")}}),this.greaterThanOrEqualToOperator_ForDateTime=new i.o(function(){return{value:4,label:f.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:f.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")}}),this.isLessThanOperator_ForDateTime=new i.o(function(){return{value:1,label:f.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:f.getLocalize().get("FilterOperator_LessThan_DT")}}),this.isLessThanOrEqualToOperator_ForDateTime=new i.o(function(){return{value:2,label:f.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:f.getLocalize().get("FilterOperator_LessThanOrEqual_DT")}}),this.greaterThanOperator=new i.o(function(){return{value:3,label:f.getLocalize().get("FilterOperator_GreaterThan"),tooltip:f.getLocalize().get("FilterOperator_GreaterThan")}}),this.greaterThanOrEqualToOperator=new i.o(function(){return{value:4,label:f.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:f.getLocalize().get("FilterOperator_GreaterThanOrEqual")}}),this.isLessThanOperator=new i.o(function(){return{value:1,label:f.getLocalize().get("FilterOperator_LessThan"),tooltip:f.getLocalize().get("FilterOperator_LessThan")}}),this.isLessThanOrEqualToOperator=new i.o(function(){return{value:2,label:f.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:f.getLocalize().get("FilterOperator_LessThanOrEqual")}})}return d.prototype.getLocalize=function(){return(0,t.h1)(this.localizationService)},d.prototype.operatorsForColumnMappedToMParameter=function(){var b=[];return b.push(this.isOperator.getValue()),b},d.prototype.dateTimeOperator=function(){var b=[];return b.push(this.isOperator.getValue()),b.push(this.isNotOperator.getValue()),b.push(this.greaterThanOperator_ForDateTime.getValue()),b.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),b.push(this.isLessThanOperator_ForDateTime.getValue()),b.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),b.push(this.isBlankOperator.getValue()),b.push(this.isNotBlankOperator.getValue()),b},d.prototype.stringTypeOperator=function(){var b=[];return b.push(this.containsOperator.getValue()),b.push(this.doesNotContainOperator.getValue()),b.push(this.startsWithOperator.getValue()),b.push(this.doesNotStartWithOperator.getValue()),b.push(this.isOperator.getValue()),b.push(this.isNotOperator.getValue()),b.push(this.isBlankOperator.getValue()),b.push(this.isNotBlankOperator.getValue()),b.push(this.isEmptyString.getValue()),b.push(this.isNotEmptyString.getValue()),b},d.prototype.numericOperator=function(){var b=[];return b.push(this.isLessThanOperator.getValue()),b.push(this.isLessThanOrEqualToOperator.getValue()),b.push(this.greaterThanOperator.getValue()),b.push(this.greaterThanOrEqualToOperator.getValue()),b.push(this.isOperator.getValue()),b.push(this.isNotOperator.getValue()),b.push(this.isBlankOperator.getValue()),b.push(this.isNotBlankOperator.getValue()),b},d.prototype.tryGetExprFilterOperators=function(b,f,g,S){if(!_.isEmpty(b.validate(f,g)))return{hasError:!0,operators:void 0};var y=b.getMetadata(f);return c.fF.assertValue(y,"metadata"),{hasError:!1,operators:this.getFilterOperators(y.type,S)}},d.prototype.getFilterOperators=function(b,f){return f?this.operatorsForColumnMappedToMParameter():b.text?this.stringTypeOperator():b.integer||b.numeric?this.numericOperator():b.dateTime?this.dateTimeOperator():void 0},d.prototype.isOperatorForColumnMappedToMParameter=function(b){return this.operatorsForColumnMappedToMParameter().some(function(f){return f.value===b})},d}(),n=function(){function d(b){this.localizationService=b}return d.prototype.fromCondition=function(b,f,g){for(var y,S=new l(f,g,this.localizationService),C=0,E=b;C<E.length;C++){var D=E[C];null==D.operator||0===D.operator||(y=D.accept(S))}return y},d.prototype.fromLabels=function(b,f){var g;if(b.length>0){for(var y=[],C=0,E=b;C<E.length;C++)y.push(a(E[C]));g=(0,p.KF)(y),g=(0,s.W)(f?(0,t.h1)(this.localizationService).get("FilterRestatement_NotEqual"):(0,t.h1)(this.localizationService).get("FilterRestatement_Equal"),g)}return g},d.prototype.fromDataViewScopeIdentities=function(b,f,g){for(var S=[],y=0,C=b;y<C.length;y++)S.push(o(C[y],g));return this.fromLabels(S,f)},d.prototype.fromDefault=function(b){if(null!=b)return(0,s.W)((0,t.h1)(this.localizationService).get("FilterRestatement_IsDefault"),a(b))},d}();function o(d,b){var f=(0,V.Xz)(d);return b?b.format(f):f}function u(d){return 11!==d&&12!==d&&0!==d&&13!==d&&14!==d}function a(d){return null===d?null:_.isString(d)?d:d.displayName?d.displayName:"function"!=typeof d||"object"!=typeof d?d:void 0}var l=function(){function d(b,f,g){this.localizationService=g,this.localizationService=(0,t.h1)(this.localizationService),0===b?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):1===b&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=f}return d.prototype.visit=function(b){var f=this,g=this.conditionToString(b);if(g)return _.isEmpty(this.result)?this.result=g:(c.fF.assert(function(){return!_.isEmpty(f.logicalOperatorResourceId)},"Logical operator is not set"),this.result=(0,s.W)(this.logicalOperatorResourceId,this.result,g)),this.result},d.prototype.conditionToString=function(b){var g,f=b.value;if(!u(b.operator)||f&&f.hasValue)switch(f&&(g=this.formatter?this.formatter.format(f.value||f.stringValue):f.stringValue),b.operator){case 9:return(0,s.W)(this.localizationService.get("FilterRestatement_Equal"),g);case 10:return(0,s.W)(this.localizationService.get("FilterRestatement_NotEqual"),g);case 3:return(0,s.W)(this.localizationService.get(f.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),g);case 4:return(0,s.W)(this.localizationService.get(f.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),g);case 1:return(0,s.W)(this.localizationService.get(f.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),g);case 2:return(0,s.W)(this.localizationService.get(f.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),g);case 5:return(0,s.W)(this.localizationService.get("FilterRestatement_Contains"),g);case 6:return(0,s.W)(this.localizationService.get("FilterRestatement_DoesNotContain"),g);case 7:return(0,s.W)(this.localizationService.get("FilterRestatement_StartWith"),g);case 8:return(0,s.W)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),g);case 11:return this.localizationService.get("FilterOperator_IsBlank");case 12:return this.localizationService.get("FilterOperator_IsNotBlank");case 13:return this.localizationService.get("FilterOperator_IsEmptyString");case 14:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return c.fF.assertFail("Not supported filter operator"),""}},d}()},425158:function(ze,K,r){r.d(K,{Go:function(){return w},p0:function(){return I}});var t=r(154369),c=r(886740),i=r(415859),s=r(853811),p=r(36629),V=r(489470),m=r(787941),v=r(261374),e=r(426827),h=r(989516),n=r(238435),o=r(283427),u=r(668268),a=r(411916),l=r(734287),d=r(448711),b=r(44615),f=r(601139),g=r(13106),S=r(324356),y=r(983172),C=r(277632),E=r(658353),D=r(156319),P=r(501895),M=r(809395),T=r(456535),R=r(474147),B=r(693285),N=r(597098),x=r(740390),A=r(600348);function I(X,ue,Se,Be,Ke,Ze,qe,it,be){if(m.fF.assertValue(X,"visualConfig"),m.fF.assertValue(ue,"visualType"),m.fF.assertValue(Se,"schema"),X&&ue&&Se){var Fe=Ke.visualPluginService.getPlugin(ue);if(Fe){var Ie,ee=Fe.capabilities,k=qe||ee.dataViewMappings,Ce=X.query,J=ee.sorting?ee.sorting.implicit:null,re=Ce?(0,M.i1)(Ce):{};if(k&&Ce){var we=(0,o.Lo)(Ce.projections,k,re,Ke.featureSwitchService.featureSwitches,ee.objects,X.objects,Ce.defn.select(),Se);if(!we.supportedMappings){var he=function(X,ue,Se,Be,Ke){var Ze,qe=[];switch(X.name){case A.D.map:case A.D.azureMap:Ze=function(X){var ue=_.some(X,function(Ke){return"Category"===Ke.roleName&&Ke.code===o.zS.conditionRangeTooLarge}),Se=_.some(X,function(Ke){return"X"===Ke.roleName&&Ke.code===o.zS.conditionKindExpectedGrouping}),Be=_.some(X,function(Ke){return"Y"===Ke.roleName&&Ke.code===o.zS.conditionKindExpectedGrouping});return ue?"DataViewMappingError_LocationAndLatLongGroup":Se||Be?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(ue);break;case A.D.scatterChart:Ze=function(X,ue){var Se=_.some(X,function(Ze){return Ze.roleName===p.TL.category&&Ze.code===o.zS.conditionRangeTooLarge}),Be=_.some(X,function(Ze){return Ze.roleName===p.TL.play&&Ze.code===o.zS.conditionRangeTooLarge}),Ke=_.some(X,function(Ze){return Ze.roleName===p.TL.x&&(Ze.code===o.zS.conditionKindExpectedGrouping||Ze.code===o.zS.conditionKindExpectedMeasure)});return Se?ue.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":Be?"DataViewMappingError_ScatterGroupingPlayAxis":Ke?"DataViewMappingError_ScatterXMismatchType":void 0}(ue,Be);break;case A.D.slicer:_.find(ue,function(Fe){return Fe.code===o.zS.conditionNotHierarchicallyRelated})&&(Ze="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!Ze&&!_.isEmpty(ue)){var it=function(X){if(_.isEmpty(X))return null;for(var ue=[],Se=0,Be=X;Se<Be.length;Se++){var Ke=Be[Se];if(void 0!==Ke.conditionIndex&&void 0!==Ke.mappingIndex){var Ze=Ke.conditionIndex,qe=Ke.mappingIndex;ue[Ze]||(ue[Ze]=[]),ue[Ze][qe]?ue[Ze][qe]++:ue[Ze][qe]=1}}for(var be,Fe,it=X.length+1,ee=0;ee<ue.length;ee++)for(var k=0;k<ue[ee].length;k++)void 0!==ue[ee][k]&&it>ue[ee][k]&&(be=ee,it=ue[ee][k],Fe=k);var Ce=X[0];return void 0!==be&&(Ce=_.find(X,function(J){return J.conditionIndex===be&&J.mappingIndex===Fe})),Ce}(ue);switch(it.code){case o.zS.conditionRangeTooLarge:Ze="DataViewMappingError_ConditionRangeTooLarge";break;case o.zS.conditionRangeTooSmall:Ze="DataViewMappingError_ConditionRangeTooSmall";break;case o.zS.conditionKindExpectedMeasure:Ze="DataViewMappingError_ConditionKindExpectedMeasure";break;case o.zS.conditionKindExpectedGrouping:Ze="DataViewMappingError_ConditionKindExpectedGrouping";break;case o.zS.conditionNotHierarchicallyRelated:return new B.k(Ze="DataViewMappingError_ConditionNotHierarchicallyRelated",Se);case o.zS.conditionSchemaCapabilities_TupleFilters_InstanceFilters:Ze="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case o.zS.conditionKindExpectedGroupingOrMeasure:break;default:m.fF.assertNever(it.code)}qe=[_e(it,Ke,Se)]}if(Ze)return Ae(Se.format(Ze,qe),Ze)}(Fe,we.mappingErrors,Ke.localizationService,Ke.featureSwitchService,ee.dataRoles);if(he)return{error:he,compiled:null};var Te=(0,e.d9)(Ce.projections);for(var Oe in Te){var Je=Te[Oe];Je.activeProjectionRefs=_.map(Je.activeProjectionRefs,function(at){return"select"+(0,s.H6)(at)});for(var fe=0,ne=Je.all();fe<ne.length;fe++)Je.assignProjection(ne[fe]?{queryRef:"select"+(0,s.H6)(ne[fe].queryRef)}:null,fe)}var Ne=new B.k("ClientError_NoSupportedDataViewMappingFound",Ke.localizationService);return Ne.addDebugInfo("VisualType",ue),Ne.addDebugInfo("QueryProjectionsByRole",JSON.stringify(Te)),Ke.telemetryService.logEvent(E.Um,{code:ue,debugInfo:JSON.stringify(Ne.getDetails(Ke.localizationService).debugErrorInfo)}),{error:Ne,compiled:null}}Ie=function(X,ue,Se,Be,Ke,Ze,qe,it,be,Fe,ee,k,Ce,J,re,Ie,ot,we){m.fF.assertValue(X,"visualType"),m.fF.assertValue(ue,"schema"),m.fF.assertAnyValue(Se,"query"),m.fF.assertNonEmpty(Be,"supportedMappings"),m.fF.assertAnyValue(Ze,"dataRoles"),m.fF.assertAnyValue(ee,"additionalFilters"),m.fF.assertAnyValue(we,"queryGeneratorCapabilities"),Se=(0,P.OB)(Fe.visual.objects,Be,Se,k,qe);var he=(0,c.y)({mappings:Be,queryDefn:Se.defn,queryProjections:Se.projections,schema:ue,objectDescriptors:Fe.visual.descriptors,objectDefinitions:Fe.visual.objects,roles:Ze,featureSwitches:Ce.featureSwitches,transformPluginService:k});if(function(X,ue){var Se;if(X!==A.D.slicer)return!1;for(var Be=0,Ke=ue;Be<Ke.length;Be++){var Ze=Ke[Be],qe=null===(Se=null==Ze?void 0:Ze.metadata)||void 0===Se?void 0:Se.columns;if(1!==(null==qe?void 0:qe.length)&&_.some(qe,function(it){var be;return 1===(null===(be=null==it?void 0:it.parameter)||void 0===be?void 0:be.kind)}))return!0}return!1}(X,he))return{error:new B.k("DQP_No_MappedColumns_In_HierarchySlicers",J),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(Ie){var Te=te(he),Je=Ie({dataViewMappings:he,scopedAggregates:Ce.featureSwitches.scopedAggregates});if(Je&&Je.error){var fe=Je.error.code;return{error:Ae(J.get(fe),fe),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(Se.expansionStates)){var ne=[];m.fF.assert(function(){return 1===he.length},"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var Ne=!_.isEmpty(he)&&he[0].matrix;if(Ne){var et=Ne.rows;et.for?ne=_.map(et.for.in.items,function(mt){return mt}):m.fF.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var tt=0,xe=Se.expansionStates;tt<xe.length;tt++){var Ve=xe[tt];if(!_.isEmpty(Ve.root.children)&&!_.isEmpty(Ve.levels))for(var Le=0,at=Ve.levels;Le<at.length;Le++)for(var ft=at[Le],ht=0,Ge=ne;ht<Ge.length;ht++){var Re=Ge[ht];_.isEmpty(ft.queryRefs)||Re.queryName!==ft.queryRefs[0]||2!==Re.subtotalType&&(Re.subtotalType=1)}}}Se=function(X,ue,Se){if(_.isEqual(ue,Se))return X;for(var Be=[],Ke=X.defn.select(),Ze=0,qe=Se;Ze<qe.length;Ze++)for(var be=_.sortBy(qe[Ze],function(J){return J.sortOrder}),Fe=0,ee=be;Fe<ee.length;Fe++){var k=ee[Fe],Ce=Ke.withName(k.queryName);Be.push({direction:k.sort,expr:Ce.expr})}return new C.g(X.defn.orderBy(Be),X.projections,X.expansionStates,X.isDrillDisabled)}(Se,Te,te(he))}(function(X,ue,Se){for(var Be=0,Ke=X;Be<Ke.length;Be++){var Ze=Ke[Be];ue&&!1===ue.allowBinnedLineSample&&Y(Ze),ue&&!1===ue.allowOverlappingPointsSample&&se(Ze),de(Se)||ce(Ze)}})(he,it,ue),Se=(0,P.hQ)(k,Se,he),Se=re.applyImplicitSort(Se,ot),Se=re.ensureValidSorting({query:Se,schema:ue,visualType:X,columnProperties:be,compiledMappings:he});var Me=function(X,ue,Se,Be,Ke){for(var Ze,qe=[],it=0,be=ue;it<be.length;it++)(0,n.oF)(be[it],{visitRole:function(k){if(k.items)for(var Ce=0,J=k.items;Ce<J.length;Ce++){var re=J[Ce];if(re.scalarKeyInfo&&re.scalarKeyInfo.scalarKeyMinProperty){if(!Ze)if(Be){var Ie=(0,i.xF)(Be,Ke,void 0,!1);Ze=(0,i.wN)(Ie,Ke)}else Ze={};qe.push(ve(X,Se,re,Ze))}}}});return{modifiedObjectDefinitions:Ze||Be,addedScalarKeys:qe}}(ue,he,Se,Fe.visual.objects,Fe.visual.descriptors),He=Me.modifiedObjectDefinitions,ct=Me.addedScalarKeys;He=function(X,ue,Se,Be,Ke,Ze){if(!X||!X.dataFilter)return Ze;for(var Fe,qe=Ke.defn.select(),it=X.dataFilter.where(),be=X.queryRefsForSingleItemDrillFilters,ee=0,k=Be;ee<k.length;ee++){var Ce=k[ee];!Ce||!Ce.categorical||!Ce.categorical.categories||(0,n.Sr)(Ce.categorical.categories,{visitRole:function(re){if(!_.isEmpty(re.items))for(var Ie=0,ot=re.items;Ie<ot.length;Ie++){var we=ot[Ie],he=we.queryName;if(we.filteredToUniqueValueProperty&&_.includes(be,he)){var Oe=We(qe.withName(he).expr,it,Se,ue);Oe&&(Fe||(Fe=Ze?(0,u.d9)(Ze):{}),je(Oe,we,Fe))}}}})}return Fe||Ze}(ee,we,ue,he,Se,He),Fe.visual.objects=He;var Mt=(0,x.S)(Se,Ze),It=[Fe.visual];Fe.visualContainer&&It.push(Fe.visualContainer);var jt,Kt,Yt,Bt=(0,t.l7)(Se.defn,ue,It,Mt,Se.projections,Ke,ee&&ee.dataFilter,!0);if(Bt){jt=new C.g(Bt.queryDefn,Se.projections,Se.expansionStates,Se.isDrillDisabled),Kt=Bt.additionalProjections,Yt=Bt.warnings;for(var Zt=0,or=ct;Zt<or.length;Zt++){var _r=or[Zt],Pr=jt.defn.selectNameOf(_r.expr);m.fF.assertValue(Pr,"scalar key select name"),_r.roleItem.scalarKeyInfo||(_r.roleItem.scalarKeyInfo={}),_r.roleItem.scalarKeyInfo.scalarKeyQueryName=Pr}Fe.visual=W(Fe.visual,ue,y.m.buildExprEvaluationContext(Se.defn.from())),Fe.visual=U(Bt.objectDefinitionRewrites,Fe.visual)}return{query:jt||Se,mappings:he,additionalProjections:Kt,warnings:Yt,objectDefinitions:Fe.visual.objects}}(ue,Se,Ce,we.supportedMappings,re,ee.dataRoles,ee,X.queryOptions,X.columnProperties,(0,M.kT)(X,ee),Ze,Ke.transformPluginService,Ke.featureSwitchService,Ke.localizationService,Ke.sortService,null!=be?be:Fe.customizeQuery,J,Be)}else{var ot=(0,M.kT)(X,ee);Ie=function(X,ue,Se,Be,Ke,Ze,qe,it,be){if(m.fF.assertAnyValue(X,"schema"),m.fF.assertAnyValue(ue,"query"),m.fF.assertAnyValue(Be,"roleMapping"),m.fF.assertAnyValue(Ke,"dataRoles"),m.fF.assertAnyValue(qe,"additionalFilters"),!ue&&_.isEmpty(Be)){ue=new C.g(g.vQ.create(),{},[]);var Fe=(0,x.S)(ue,Ke),ee=[Ze.visual];ee.push(Ze.visualContainer);var k=(0,t.l7)(ue.defn,X,ee,Fe,ue.projections,Se,qe&&qe.dataFilter,!0);if(k){var Ce=new C.g(k.queryDefn,ue.projections,ue.expansionStates,ue.isDrillDisabled),J=k.additionalProjections,re=(0,c.y)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:ue.defn,queryProjections:ue.projections,schema:X,objectDescriptors:Ze.visual.descriptors,objectDefinitions:Ze.visual.objects,roles:Ke,featureSwitches:it.featureSwitches,transformPluginService:be});return Ze.visual=W(Ze.visual,X,y.m.buildExprEvaluationContext(ue.defn.from())),Ze.visual=U(k.objectDefinitionRewrites,Ze.visual),{query:Ce||ue,mappings:re,additionalProjections:J,warnings:k.warnings,objectDefinitions:Ze.visual.objects}}}}(Se,Ce,re,k,ee.dataRoles,ot,Ze,Ke.featureSwitchService,Ke.transformPluginService)}var et=[];if(Ie){if(Ie.error)return{error:Ie.error,compiled:null};et.push.apply(et,function(X,ue,Se,Be,Ke){for(var Ze=new oe(ue.defn,Se,Be,Ke),qe=0,it=X;qe<it.length;qe++)(0,n.oF)(it[qe],Ze);return Ze.warnings}(Ie.mappings,Ie.query,Se,Ke.displayNameService,ee)||[]),et.push.apply(et,function(X){if(X&&X.highlightFilter){var ue=X.highlightFilter.where(),Se=_.find(ue,function(Ke){return 3===(0,f._)(Ke.condition)}),Be=_.find(ue,function(Ke){return(0,T.hV)(Ke.condition)});if(Se||Be)return X.dataFilter=X.dataFilter?g.yl.merge([X.dataFilter,X.highlightFilter]):X.highlightFilter,X.highlightFilter=void 0,[new ye(Se?0:1)]}}(Ze)||[]),Ie.warnings&&et.push.apply(et,Ie.warnings||[]);for(var tt=Ke.telemetryService.getOpenActivityById(it&&it.getProperty("telemetryActivityId")),xe=0,Ve=et;xe<Ve.length;xe++)Ke.telemetryService.logChildEvent(tt&&tt.event,E.s5,{code:Ve[xe].code})}return{compiled:Ie,warnings:et}}}}function w(X){return m.fF.assertValue(X,"compiledMappings"),_.filter(X,function(Se){return!Se.usage||!Se.usage.regression})}function W(X,ue,Se){var Be,Ke={};for(var Ze in X.objects){var qe=X.descriptors[Ze];if(qe)for(var it=0,be=X.objects[Ze];it<be.length;it++){var Fe=be[it];for(var ee in Fe.properties){var k=qe.properties[ee];if(k&&k.formatStringProperty){var Ce=Fe.properties[ee],J=void 0;if((0,u.Rc)(Ce))J=Ce;else{if(!(0,u.er)(Ce))continue;J=Ce.value}if(!(0,u.NA)(X.objects,k.formatStringProperty,Fe.selector)){var Ie=J.getMetadata(ue,Se);if(Ie&&(Ie.type||Ie.format)){var ot=null!==(Be=Ie.format)&&void 0!==Be?Be:(0,d.v1)(Ie.type);ot&&(0,u.sO)(Ke,k.formatStringProperty,Fe.selector,(0,S.fL)(ot))}}}}}}if(!_.isEmpty(Ke))for(var Ze in X.objects=(0,u.d9)(X.objects),Ke)for(var we=0,he=Ke[Ze];we<he.length;we++)for(var ee in(Fe=he[we]).properties)(0,u.sO)(X.objects,{objectName:Ze,propertyName:ee},Fe.selector,Fe.properties[ee]);return X}function U(X,ue){if(!_.isEmpty(X)){ue.objects=(0,u.d9)(ue.objects);for(var Se=0,Be=X;Se<Be.length;Se++){var Ke=Be[Se];for(var Ze in ue.objects)for(var qe=0,it=ue.objects[Ze];qe<it.length;qe++){var be=it[qe];if((0,h.fS)(be.selector,Ke.selector))for(var Fe in be.properties){var ee=be.properties[Fe],k=void 0;if((0,u.Rc)(ee))k=ee;else{if(!(0,u.er)(ee))continue;k=ee.value}(0,R.fS)(k,Ke.from)&&(be.properties[Fe]=Ke.to)}}}}return ue}function te(X){for(var ue=[],Se=0,Be=X;Se<Be.length;Se++){for(var Ze=[],qe=0,it=Be[Se].metadata.columns;qe<it.length;qe++){var be=it[qe];be.sort&&Ze.push({queryName:be.queryName,sort:be.sort,sortOrder:be.sortOrder})}ue.push(Ze)}return ue}function de(X){return _.every(X.schemas,function(ue){return ue.capabilities&&ue.capabilities.supportsTopNPerLevel})}function Y(X){var ue=X.categorical;if(ue&&ue.dataReductionAlgorithm&&ue.dataReductionAlgorithm.binnedLineSample&&(ue.dataReductionAlgorithm=void 0,ue.categories&&(ue.categories.dataReductionAlgorithm={sample:{}}),ue.values)){var Se=ue.values;Se.group&&(Se.group.dataReductionAlgorithm={top:{}})}}function se(X){var ue=X.categorical,Se=X.matrix;if(ue&&ue.dataReductionAlgorithm&&ue.dataReductionAlgorithm.overlappingPointsSample){var Be=ue.dataReductionAlgorithm.overlappingPointsSample.count;ue.dataReductionAlgorithm={sample:{}},Be&&(ue.dataReductionAlgorithm.sample.count=Be)}else Se&&Se.rows&&Se.rows.dataReductionAlgorithm&&Se.rows.dataReductionAlgorithm.overlappingPointsSample&&(Be=Se.rows.dataReductionAlgorithm.overlappingPointsSample.count,Se.rows.dataReductionAlgorithm={sample:{}},Be&&(Se.rows.dataReductionAlgorithm.sample.count=Be))}function ce(X){var ue=X.matrix;if(ue&&ue.rows&&ue.rows.dataReductionAlgorithm&&ue.rows.dataReductionAlgorithm.topNPerLevel){var Se=ue.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;ue.rows.dataReductionAlgorithm={top:{}},Se&&(ue.rows.dataReductionAlgorithm.top.count=Se)}}function ve(X,ue,Se,Be){var Ke=Se.scalarKeyInfo.scalarKeyMinProperty;m.fF.assertValue(Ke,"scalarKeyMinProperty"),(0,V.BF)(Se.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var Ze=ue.defn.select().withName(Se.queryName).expr,qe=(0,S.m_)((0,a.YN)(Ze,X),3);return(0,u.sO)(Be,Ke,Se.scalarKeyInfo.selector,qe),{roleItem:Se,expr:qe}}function We(X,ue,Se,Be){if(!Be||!Be.hasAmbiguousEqualitySemantics)return!0;var Ke=X.getKeyColumns(Se);return _.every(Ke,function(Ze){return _.some(ue,function(qe){var it=D.l.getFilterValuesForColumn(Ze,qe);if(1===_.size(it)){var Fe=it[0];if((0,T.VC)(Fe)&&!Be.hasAmbiguousEqualitySemantics(Fe))return!0}return!1})})}function je(X,ue,Se){var Be=ue.filteredToUniqueValueProperty;m.fF.assertValue(Be,"filteredToUniqueValueProperty");var Ke=(0,S.O7)(X);(0,u.sO)(Se,Be,{metadata:ue.queryName},Ke)}function Ae(X,ue){return{code:ue,getDetails:function(){return{displayableErrorInfo:[],message:X}}}}function _e(X,ue,Se){var Be=X.roleName;if(!_.isEmpty(ue)){var Ke=_.find(ue,function(Ze){return Ze.name===X.roleName});Ke&&Ke.displayName&&(Be=(0,l.G)(Ke.displayName,Se))}return Be}var me=function(){function X(ue){this.errorInfos=ue}return Object.defineProperty(X.prototype,"code",{get:function(){return"ShowAllDiabledWarning"},enumerable:!1,configurable:!0}),X.prototype.getDetails=function(ue){var Se=ue.get("ShowAllDisabledWarning_Value"),Be=_.map(this.errorInfos,function(Ze){return Ze.fieldDisplayName}).join(", ");return{message:ue.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:ue.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,v.W)(Se,Be)}]}},X}(),ye=function(){function X(ue){this.highlightDisableType=ue}return Object.defineProperty(X.prototype,"code",{get:function(){switch(this.highlightDisableType){case 0:return"HighlightWithTOPNDisabledWarning";case 1:return"HighlightWithExistsFiltersDisabledWarning"}},enumerable:!1,configurable:!0}),X.prototype.getDetails=function(ue){var Se=0===this.highlightDisableType,Ke=Se?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",Ze=Se?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:ue.get(Se?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:ue.get(Ke),errorInfoValue:ue.get(Ze)}]}},X}(),oe=function(){function X(ue,Se,Be,Ke){m.fF.assertValue(ue,"query"),m.fF.assertValue(Se,"schema"),m.fF.assertValue(Be,"displayNameService"),this.displayNameService=Be,this.incompatibleExprInfo=[];for(var Ze=0,qe=ue.select();Ze<qe.length;Ze++){var it=qe[Ze],be=(0,N.Q)(it.expr);be&&be.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,b.Hp)(be),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(it.expr,Se,Ke)})}this.warnings=[]}return X.prototype.visitRole=function(ue){ue.showAll&&this.incompatibleExprInfo.length>0&&(ue.showAll=!1,this.warnings.push(new me(this.incompatibleExprInfo)))},X}()},168099:function(ze,K,r){r.d(K,{j:function(){return c}});var t=r(156319),c=function(){function i(){}var s;return s=i,i.DetailVisualBorder=10,i.supportsVisualDetails=function(p,V,m){var v=V.capabilities(p);return!(!v||!m.isQueryVisual(p)||m.isAnalysisVisual(p)||v.disableVisualDetails)&&_.some(v.dataViewMappings,function(e){return e.categorical||e.matrix||e.table||e.tree})},i.supportsMatrixView=function(p,V,m){return s.supportsVisualDetails(p,V,m)&&!m.isTableVisual(p)&&!m.isMatrixVisual(p)&&!t.l.supportsFilterOutput(V.capabilities(p))},i.getDetailVisualViewport=function(p,V){var v,e;return 1===(V||1)?(v=p.width-2*i.DetailVisualBorder,e=p.height-i.DetailVisualBorder):(v=p.width-i.DetailVisualBorder,e=p.height-2*i.DetailVisualBorder),{width:Math.max(v,0),height:Math.max(e,0),scale:p.scale}},i.adjustViewport=function(p,V,m){var e=p||1,h=i.getDetailVisualViewport(V,e);return m&&1===e&&(h={width:h.width,height:Math.max(h.height-33,0),scale:h.scale}),h},i}()},251066:function(ze,K,r){r.d(K,{g:function(){return s},z:function(){return p}});var t=r(745969),c=r(261374),i=r(787941);function s(V,m,v,e,h){var n;if(!_.isEmpty(V)){if(1===V.length)return V[0];var o=null==h?void 0:h.limit;if(null!=o&&o<=0&&(i.fF.assertFail("The given displayIndividualValuesLimitInfo.limit value cannot be a number that is <= 0."),o=null),null!=o&&_.size(V)>o+1){var u=_.take(V,o);if(1===_.size(u))return(0,c.W)(v.stringResourceProvider.get(h.limitedValueShownResourceKey),u[0]);var a=null!==(n=h.multiLimitedValuesShownResourceKey)&&void 0!==n?n:h.limitedValueShownResourceKey;return(0,c.W)(v.stringResourceProvider.get(a),u.join(v.stringResourceProvider.get("ListJoin_Separator")))}var l=V.pop();return 1===_.size(V)?(0,c.W)(v.stringResourceProvider.get(m),V[0],l):(0,c.W)(v.stringResourceProvider.get(null!=e?e:m),V.join(v.stringResourceProvider.get("ListJoin_Separator")),l)}}function p(V,m){var v=(0,t.b)(V);return(3===V||4===V)&&m&&m.type&&(m.type.dateTime?v="Date"+v:m.type.text&&(v="String"+v)),v}},571330:function(ze,K,r){r.d(K,{LG:function(){return m},S1:function(){return s},WO:function(){return i},dR:function(){return p}});var t=r(883863),c=r(787941);function i(o,u){if(c.fF.assertAnyValue(o,"capabilities"),u)return[];var a=o.drilldown;return null!=a&&a.roles?a.roles:[]}function s(o){var u;return c.fF.assertValue(o,"capabilities"),!(null===(u=o.drilldown)||void 0===u||!u.canDisableDrill)}function p(o){return c.fF.assertValue(o,"capabilities"),s(o)&&!!o.drilldown.canDisableDrill.disabledByDefault}function V(o,u,a){c.fF.assert(function(){return null!=u},"queryRef should exist while removing drill filters");var l=o.defn.select().withName(u);return c.fF.assertValue(l,"did not find queryRef in query.select while removing drill filter"),l?{expr:l.expr,roleName:a}:void 0}function m(o,u,a){if(u){var l;switch(a){case 1:l=function(o,u){var a=[],l=o.projections,d=u.sourceCount,b=u.sourceIndex,f=u.sourceRole,g=u.targetRole;if(l[g]){var y=(S=l[g]).all(),C=u.targetIndex;C>=b&&f===g&&(C+=d);for(var D=S.convertFieldIndexToProjectionIndex(C),P=y.length;D<P;D++){for(var M=S.getProjectionsByProjectionIndex(D),T=0,R=M;T<R.length;T++)a.push(V(o,R[T].queryRef,g));D+=M.length-1}}if(l[f])for(var S=l[f],N=d-1;N>=0;N--)for(var A=0,I=S.getProjectionsByFieldIndex(b+N);A<I.length;A++)a.push(V(o,I[A].queryRef,f));return a}(o,u);break;case 0:if(u.expr){l=[];for(var f=0,g=(0,t.rY)(u.expr);f<g.length;f++)l.push(e(o,g[f]))}else l=function(o,u){var a,l=[],d=null!==(a=u.count)&&void 0!==a?a:1,b=u.role,f=o.projections[b];if(f)for(var g=u.projOptions.fieldIndex+d-1,S=d-1;S>=0;S--,g--)for(var C=0,E=f.getProjectionsByFieldIndex(g);C<E.length;C++)l.push(V(o,E[C].queryRef,b));return l}(o,u);break;case 2:break;default:return void c.fF.assertNever(a)}return _.compact(l)}}function e(o,u){var a=o.defn.selectNameOf(u),l=function(o,u){for(var a in o){var l=o[a].all();if(_.findIndex(l,function(b){return b.queryRef===u})>=0)return a}}(o.projections,a);return{expr:u,roleName:l}}},618630:function(ze,K,r){r.d(K,{i:function(){return c}});var t=r(456535);function c(i,s){return(1===i||2===i)&&_.some(s,function(p){return p.asAggregation||p.fieldExpr&&(0,t.kb)(p.fieldExpr)})}},971634:function(ze,K,r){r.d(K,{it:function(){return s},mb:function(){return m},qL:function(){return i},qt:function(){return h},tn:function(){return V},u6:function(){return n}});var t=r(787941),c=r(656011);function i(o,u,a){var l=v(o,u);return(a&&""!==a?(0,c.A9)((0,c.bW)(a)):-Number.MAX_VALUE)>l}function s(o,u,a){var l=v(o,u);return(a&&""!==a?(0,c.A9)((0,c.bW)(a)):Number.MAX_VALUE)<l}function V(o,u){var a=(0,c.bW)(o),l=(0,c.ei)(a);if(l.length<=0)return t.fF.assertFail("Unable to parse the value and units"),"";var d=l[0].value,b=function(o,u){var a=o.value,l=o.unit,d=o.isTimeUnit;switch(l){case"S":return u.get(1===a?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return u.get(d?1===a?"TimeUnit_Minute":"TimeUnit_Minutes":1===a?"TimeUnit_Month":"TimeUnit_Months");case"H":return u.get(1===a?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return u.get(1===a?"TimeUnit_Day":"TimeUnit_Days");case"W":return u.get(1===a?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return u.get(1===a?"TimeUnit_Year":"TimeUnit_Years");default:return t.fF.assertNever(l),""}}(l[0],u);return"".concat(d," ").concat(b)}function m(o){switch(o){case"S":case"M":case"H":return!0;default:return!1}}function v(o,u){var a=[{value:o,unit:u,isTimeUnit:m(u)}],l=(0,c.Gk)(a);return(0,c.A9)(l)}function e(o,u){var a=Math.pow(10,u||0);return Math.round(o*a)/a}function h(o,u){return isNaN(o)?u.get("TwoDashes"):o<60?1===o?u.get("TimeUnit_One_second"):u.format("TimeUnit_seconds_with_value",[e(o,1)]):(o/=60)<60?1===o?u.get("TimeUnit_One_minute"):u.format("TimeUnit_minutes_with_value",[e(o,1)]):1==(o/=60)?u.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):u.format("TimeUnit_hours_with_value",[e(o,1)])}function n(o,u){var a=o.value,l=o.unit,d=o.isTimeUnit;switch(l){case"S":return 1===a?u.get("TimeUnit_One_second"):u.format("TimeUnit_seconds_with_value",a);case"M":return d?1===a?u.get("TimeUnit_One_minute"):u.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",a):1===a?u.get("TimeUnit_One_month"):u.format("TimeUnit_months_with_value",a);case"H":return 1===a?u.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):u.format("TimeUnit_hours_with_value",a);case"D":return 1===a?u.get("TimeUnit_One_day"):u.format("TimeUnit_days_with_value",a);case"W":return 1===a?u.get("TimeUnit_One_week"):u.format("TimeUnit_weeks_with_value",a);case"Y":return 1===a?u.get("TimeUnit_One_year"):u.format("TimeUnit_years_with_value",a);default:return t.fF.assertNever(l),""}}},973298:function(ze,K,r){r.d(K,{v:function(){return p}});var t=r(226514),c=r(787941),i=r(725311),p=function(V){function m(v,e){var h=V.call(this,e)||this;return h.rewriters=v,c.fF.assertValue(v,"rewriters"),h}return(0,t.__extends)(m,V),m.prototype.visitFilterContainer=function(v){(0,i.Oe)(v,this.rewriters)},m}(function(){function V(m){this.visualContainerStateVisitor=m}return V.prototype.visitFilterContainer=function(m){},V.prototype.visitSectionState=function(m){},V}())},897480:function(ze,K,r){r.d(K,{Jh:function(){return h},wD:function(){return p}});var t=r(787941),c=r(8590),i=r(160046),s=r(809395);function p(g,S,y){t.fF.assertValue(S,"visitor"),t.fF.assertValue(g,"exploration"),S.visitExploration(g),a(g.filters,S);var C=g.bookmarks;if(!_.isEmpty(C))for(var E=0,D=C;E<D.length;E++)V(D[E],g.sections,y,S);var M=g.sections;if(!_.isEmpty(M))for(var T=0,R=M;T<R.length;T++)v(R[T],S,y);!function(g,S){if(!_.isEmpty(g))for(var y=0,C=g;y<C.length;y++)S.visitPod(C[y])}(g.pods,S)}function V(g,S,y,C){if(C.visitBookmark(g),c.J.isBookmarkGroup(g))for(var E=0,D=g.children;E<D.length;E++)V(D[E],S,y,C);else!function(g,S,y,C){g&&(l(g.filters,C),_.forOwn(g.sections,function(E,D){!function(g,S,y,C){if(g&&S){C.visitSectionState(g),l(g.filters,C);var E=C.visualContainerStateVisitor;if(E){var D=S.visualContainers;_.forOwn(g.visualContainers,function(P,M){!function(g,S,y,C){!g||!S||(C.visitVisualContainerState(g),l(g.filters,C),function(g,S){if(g){if(!_.isEmpty(g.selection))for(var y=0,C=g.selection;y<C.length;y++)S.visitSelectorsByColumn(C[y]);g.filterExpressionMetadata&&S.visitFilterExpressionMetadata(g.filterExpressionMetadata)}}(g.highlight,C),function(g,S,y,C){if(g){C.visitSingleVisualState(g);var E=g.orderBy;E&&C.visitOrderByStates(E);var D=g.objects;if(D){var P=(0,s.cj)(S,y);if(P){var M=P.objects;M&&C.visitDataViewObjectDefinitionUpdates(D,M)}var T=D.merge;T&&d(T,C);var R=D.remove;if(!_.isEmpty(R))for(var B=0,N=R;B<N.length;B++){var A=N[B].selector;A&&C.visitSelector(A)}}var I=g.activeProjections;I&&C.visitActiveProjectionStates(I)}}(g&&g.singleVisual,S,y,C))}(P,_.find(D,function(R){return R.name===M}),y,E)})}}}(E,_.find(S,function(M){return M.name===D}),y,C)}))}(g.explorationState,S,y,C.explorationStateVisitor)}function v(g,S,y){t.fF.assertValue(g,"section"),S.visitSection(g),a(g.filters,S),function(g,S){if(!_.isEmpty(g))for(var y=0,C=g;y<C.length;y++)S.visitLinkField(C[y])}(g.linkFields,S);var C=g.visualContainers;if(!_.isEmpty(C))for(var E=0,D=C.length;E<D;E++)h(C[E],S.visualContainerVisitor,y)}function h(g,S,y){var C;if(S.visitVisualContainer(g),g.config&&(C=g.config.singleVisual)){S.visitSingleVisualConfig(C);var E=C.query;E&&S.visitQuery(E);var D=function(x,A){A&&S.visitDataViewObjects(x,A),d(x,S)},P=C.objects;if(P){var M=void 0,T=(0,s.cj)(g,y);T&&(M=T.objects),D(P,M)}var R=C.vcObjects;if(R){D(R,M=i.XW);var B=C.vcObjects.visualLink;B&&S.visitVisualLinks(B)}}a(g.filters,S)}function a(g,S){if(!_.isEmpty(g))for(var y=0,C=g;y<C.length;y++){var E=C[y];t.fF.assertValue(E,"traverseFilters: collection contains null filterContainer"),null!=E&&S.visitFilterContainer(E)}}function l(g,S){if(g){_.forOwn(g.nameIdentifiedMerges,function(M){S.visitFilterContainer(M)});var C=g.exprIdentifiedMerges;if(!_.isEmpty(C))for(var E=0,D=C;E<D.length;E++)S.visitFilterContainer(D[E])}}function d(g,S){_.forOwn(g,function(y){if(!_.isEmpty(y))for(var C=0,E=y;C<E.length;C++){var P=E[C].selector;P&&S.visitSelector(P)}})}},909904:function(ze,K,r){r.d(K,{b:function(){return t}});var t=function(){function c(i,s){this.explorationStateVisitor=i,this.visualContainerVisitor=s}return c.prototype.visitBookmark=function(i){},c.prototype.visitFilterContainer=function(i){},c.prototype.visitExploration=function(i){},c.prototype.visitSection=function(i){},c.prototype.visitLinkField=function(i){},c.prototype.visitPod=function(i){},c}()},969072:function(ze,K,r){r.d(K,{HD:function(){return n},Kz:function(){return u},Pb:function(){return C},XV:function(){return a},ac:function(){return g},cr:function(){return b},k:function(){return h},kr:function(){return o}});var t=r(790866),c=r(883863),i=r(787941),s=r(989516),p=r(19632),V=r(217926),m=r(324356),v=r(456535),e=r(474147);function h(E,D,P,M){if(void 0===M&&(M=!1),!_.isEmpty(E)&&function(E,D){if(!_.isEmpty(E)){var P=_.map(E,function(M){return(0,s.tV)(M)});return g(P,D)}}(E,D))return _.some(E,function(B){return B.valueDetails})&&M?function(E,D){if(!_.isEmpty(E)){for(var P={expressions:[],cachedValueItems:[]},M=0,T=E;M<T.length;M++){var R=T[M],B={identities:[],valueMap:{}};if(!R.valueDetails){var N=t.Om.getDataViewKind(D);R.valueDetails=t.Om.query([D],R,N,[],!0)}for(var x=0,A=R.valueDetails;x<A.length;x++){var I=A[x];if(I.expr&&((0,v.t3)(I.expr)||(0,v.ez)(I.expr))){var w=_.indexOf(P.expressions,I.expr);w<0&&(P.expressions.push(I.expr),w=P.expressions.length-1),B.valueMap[w]=I.formattedValue}}if(!_.isEmpty(B.valueMap)){for(var F in R.dataMap)for(var L=0,W=(0,c.rY)(R.dataMap[F]);L<W.length;L++){var U=W[L];1===U.kind?B.identities.push(U):i.fF.assertFail("Unexpected item.kind")}P.cachedValueItems.push(B)}}return P}}(E,P):function(E){if(!_.isEmpty(E)){for(var D={expressions:[],cachedValueItems:[]},P=0,M=E;P<M.length;P++){for(var T=M[P],R={identities:[],valueMap:{}},B=0,N=T.selector.data;B<N.length;B++){var x=N[B];1===x.kind?R.identities.push(x):i.fF.assertFail("Unexpected item.kind")}for(var A=0,I=T.values;A<I.length;A++){var w=I[A];if(w.expr instanceof m.Wh||(0,v.ez)(w.expr)){var F=_.indexOf(D.expressions,w.expr);F<0&&(D.expressions.push(w.expr),F=D.expressions.length-1),R.valueMap[F]=w.formattedValue}}_.isEmpty(R.valueMap)||D.cachedValueItems.push(R)}return D}}(t.Om.getDataPointsDescription(P,E))}function n(E,D){if(!E||!D)return E||D;for(var P={expressions:D.expressions.slice(),cachedValueItems:_.isEmpty(D.cachedValueItems)?[]:D.cachedValueItems.slice()},M={},T=function(F){var O=E.expressions[F],L=_.findIndex(P.expressions,function(W){return W===O||(0,e.fS)(W,O)});-1===L&&(L=D.expressions.length,P.expressions.push(O)),M[F]=L},R=0;R<E.expressions.length;R++)T(R);if(!_.isEmpty(E.cachedValueItems))for(var B=0,N=E.cachedValueItems;B<N.length;B++){var x=N[B],A={};for(var I in x.valueMap)A[M[I]]=x.valueMap[I];P.cachedValueItems.push({identities:x.identities,valueMap:A})}return P}function o(E){for(var D=null,P=0,M=E;P<M.length;P++)D=n(M[P],D);return D}function u(E,D){if(!_.isEmpty(D)&&E){for(var P=[],M=0,T=D;M<T.length;M++){var R=T[M],B={identities:[R.identity],valueMap:{}};B.valueMap[0]=R.displayName,P.push(B)}return{expressions:[E],cachedValueItems:P}}}function a(E,D){if(E.length&&D.cachedValueItems&&D.cachedValueItems.length)for(var P=function(R){var B=E[R],N=B.dataMap,x=R,A=D.cachedValueItems[x].identities,I=!0,w=0;for(var F in N)for(var L=0,W=(0,c.rY)(N[F]);L<W.length;L++){if(!A[w]||!(0,p.fS)(W[L],A[w])){I=!1;break}w++}if(I||(x=_.findIndex(D.cachedValueItems,function(G){var te=0;for(var Q in N)for(var de=0,Y=(0,c.rY)(N[Q]);de<Y.length;de++){if(!G.identities[te]||!(0,p.fS)(Y[de],G.identities[te]))return!1;te++}return!0})),x<0)return i.fF.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),"continue";var j=[],z=D.cachedValueItems[x].valueMap;for(var F in z)j.push({identity:D.cachedValueItems[x].identities[0],expr:D.expressions[F],formattedValue:z[F],value:z[F]});B.valueDetails=j},M=0;M<E.length;M++)P(M)}function b(E){if(E&&!(_.isEmpty(E.expressions)||E.expressions.length>1)){for(var D=[],P=0,M=E.cachedValueItems;P<M.length;P++){var T=M[P];if(_.isEmpty(T.identities)||T.identities.length>1)return;i.fF.assertAnyValue(T.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),D.push({identity:T.identities[0],displayName:T.valueMap[0]})}return D}}function g(E,D){if(!_.isEmpty(E)&&D&&D.query)for(var P=D.query.defn.select(),M=0,T=E;M<T.length;M++){var B=(0,s.CT)(T[M]);if(_.isEmpty(B))return;for(var N=0,x=B;N<x.length;N++){var w=(0,V.RR)(x[N].expr);i.fF.assertNonEmpty(w,"identityFields are expected");for(var F=0,O=w;F<O.length;F++)for(var L=O[F],W=0,U=P;W<U.length;W++)if(!(0,e.fS)(L,U[W].expr))return!0}}}function C(E,D){if(!E)return null;for(var P,M=0;M<E.length;M++){var T=(0,m.Dg)(E[M],D[M]);P=P?(0,m.xD)(P,T):T}return(0,p.TZ)(P)}},156319:function(ze,K,r){r.d(K,{l:function(){return N}});var t=r(226514),c=r(322487),i=r(972817),s=r(535909),p=r(787941),V=r(129035),m=r(668268),v=r(620108),e=r(19632),h=r(448711),n=r(44615),o=r(597098),u=r(601139),a=r(217926),l=r(13106),d=r(983172),b=r(116170),f=r(477898),g=r(942983),S=r(505876),y=r(1745),C=r(555161),E=r(809395),D=r(971028),P=r(456535),M=r(374952),T=r(331115),R=r(474147),N=function(){function I(){}return I.getFormatter=function(w,F){var O=w.getMetadata(F);if(O)return(0,h.Ue)({format:O.format,allowFormatBeautification:!0})},I.getFilterType=function(w,F){return(0,M.k)(w)||!F?S.vA.Advanced:S.vA.Categorical},I.canAdd=function(w,F,O,L,W,U){if(!F||!O)return!1;if(p.fF.assertValue(L,"scope"),!(0,D.Xz)(w,U)&&(0,M.k)(F))return!1;var z=(0,o.Q)(F,O),G=(0,n.Um)(z),te=O.schema(G.schema);if(!te)return!1;var H,de,Q=te.findProperty(G.entity,(0,n.Hp)(z));if(Q||(z.hierarchyLevel?(H=te.findHierarchy(G.entity,z.hierarchyLevel.name))&&(de=H.levels.withName(z.hierarchyLevel.level)):z.columnHierarchyLevelVariation&&(H=te.findHierarchy(z.columnHierarchyLevelVariation.level.entity,z.columnHierarchyLevelVariation.level.name))&&(de=H.levels.withName(z.columnHierarchyLevelVariation.level.level))),!Q&&!de||!L||!L.container||Q&&1===Q.kind&&(0!==L.scopeType||te.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!W)return!1;if(W){var Y=Q&&Q.kind;if(!de&&0!==Y&&1!==Y)return!1;var ce=!1;if(1===L.scopeType){var pe=L.container;pe&&!pe.transient&&(ce=!0)}if(!ce)return!1}if(0===L.scopeType){var ve=L.container;if(!ve||!(0,D.zr)(ve,U))return!1}return!0},I.supportsFilterOutput=function(w){return null!=this.tryGetFilterPropertyIdentifier(w,null,null)},I.tryGetFilterPropertyIdentifier=function(w,F,O){return F&&O&&O.isCustomVisual(F)?f.Ro:w?(0,v.MD)(w.objects):void 0},I.tryGetFilterProperty=function(w,F,O,L){var W=this.tryGetFilterPropertyIdentifier(w,F,O);if(W)return(0,m.NA)(L,W,void 0)},I.add=function(w,F){w.filters||(w.filters=[]),w.filters.push(F)},I.getFiltersContainer=function(w,F,O){switch(w){case 0:return C.UP.getSelectedVisual(F);case 1:return O.getCurrentSection();case 2:return O.getCurrentExploration();default:p.fF.assertNever(w)}},I.convertFilterData=function(w,F,O){if(w){var L={filter:w.filter,name:this.getNextFilterName(F),type:w.type,restatement:w.restatement,howCreated:O};if(w.type===S.vA.Categorical||w.filterExpressionMetadata&&1===w.filterExpressionMetadata.expressions.length){L.expression=w.filterExpressionMetadata.expressions[0];var W=[];if(!_.isEmpty(w.filterExpressionMetadata.cachedValueItems)){for(var U=0,j=w.filterExpressionMetadata.cachedValueItems;U<j.length;U++){var z=j[U];1===z.identities.length&&W.push({identity:z.identities[0],displayName:z.valueMap[0]})}L.cachedValueItems=W}}else w.filterExpressionMetadata&&(L.filterExpressionMetadata=w.filterExpressionMetadata);return L}},I.shouldDisableFilter=function(w,F,O,L,W){if(!O)return!1;var U=w.expression;if(!U)return!1;var j=(0,M.k)(U),z=!_.isEmpty(this.validate(w,F,L)),G=(0,E.e4)(O,F);if(j){if(!G&&!z)return!0;var te=U.getTargetEntity();if(!te)return!0;if(F.schema(te.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,E.jW)(O,F,W)||(0,E.EL)(O))return!0}return!1},I.getValueType=function(w,F){var O=w.getMetadata(F);if(O)return O.type},I.getDefaultRetainedValue=function(w,F){var O=d.m.getDefaultValues(w,F);if(!_.isEmpty(O))return{isNot:!1,scopeIds:[[(0,e.TZ)((0,T.R)(w,O))]]}},I.validate=function(w,F,O){p.fF.assertValue(w,"filterContainer");var W=w.filter,U=d.m.validate(w.expression,F,O);if(W&&(U=W.validate(F,O,U)),!_.isEmpty(U))return U},I.getNextFilterName=function(w){null==w&&(w=[]);for(var F={},O=0,L=w;O<L.length;O++){var W=L[O];p.fF.assertValue(W,"getNextFilterName: collection contains null filter"),null!=W&&(F[W.name]=!0)}return s.q.generateUniqueId(F,"Filter")},I.isCategoricalFilter=function(w){return w===S.vA.Categorical||w===S.vA.Visual},I.getQueryRefsForSingleItemDrillFilters=function(w,F,O){var L=w.filters,W=[];if(L)for(var U=0,j=L;U<j.length;U++){var z=j[U],G=z&&z.filter;if(G&&_.isEmpty(G.validate(F,O))&&2===z.howCreated&&this.areDrillFiltersSingleValue(G.where())){var te=this.getQueryRefFromFilter(w,z.expression);te&&W.push(te)}}return W},I.areDrillFiltersSingleValue=function(w){return!_.isEmpty(w)&&_.every(w,function(F){if(null==F)return!1;var O=F.condition;return(0,P.Hi)(O)?O.values&&1===O.values.length:!!(0,P.Pe)(O)&&0===O.comparison})},I.getQueryRefFromFilter=function(w,F){var O=(0,E.Xf)(w);if(O)return O.defn.selectNameOf(F)},I.getFilterValuesForColumn=function(w,F){if(p.fF.assertAnyValue(F,"filters"),p.fF.assertValue(w,"column"),F){var O=F.condition,L=new A(w);return O.accept(L),L.values}},I.deriveFromSQFilters=function(w,F,O){var L=[],W=O&&O.Filters&&0!==O.Filters.length?O.Filters:null;W&&W.length!==F.length&&(W=null);for(var U=0,j=F.length;U<j;U++){var z=F[U],G=W&&W[U],te=G&&G.expression&&c.ib.deserializeExpr(G.expression);L.push({name:this.getNextFilterName(L),filter:new l.yl(w,[z]),restatement:G&&G.Restatement,expression:te,howCreated:0,type:G&&G.type})}return L},I.extractParameterFilters=function(w,F){p.fF.assertValue(w,"queryDefn"),p.fF.assertAnyValue(F,"queryMetadata");var O=_.filter(w.From,function(j){return 1!==j.Type}),W={RemovedIndexes:[]},U=c.ib.deserializeFilter({Version:w.Version,From:O,Where:w.Where},W);if(F&&!_.isEmpty(W.RemovedIndexes)&&(F.Filters=_.filter(F.Filters,function(j,z){return!_.includes(W.RemovedIndexes,z)})),U)return this.deriveFromSQFilters(U.from(),U.where(),F)},I.mergeExplorationSectionFilters=function(w,F){p.fF.assertValue(w,"exploration"),p.fF.assertValue(F,"section"),_.isEmpty(w.filters)||(F.filters=this.mergeFilters(F.filters,w.filters,"explore"),w.filters=[])},I.isFilterModified=function(w){var U=!0===w.isHiddenInViewMode||!0===w.isLockedInViewMode||!!w.displayName||void 0!==w.ordinal;return!!w.filter||!(0,m.xb)(w.objects)||U},I.ensureFilterHasName=function(w,F){null==w.name&&this.isFilterModified(w)&&(w.name=this.getNextFilterName(F.container&&F.container.filters))},I.applySectionParameterFilters=function(w,F,O,L,W){p.fF.assertValue(w,"section"),p.fF.assertAnyValue(F,"pod"),p.fF.assertAnyValue(L,"parameterFilters"),p.fF.assertAnyValue(O,"additionalSourceFilters");var U=W;if(w.filters=this.getSectionParameterFiltersToApply(F,w.filters,O,L),(!_.isEmpty(L)||!_.isEmpty(O))&&(U=!0),U)for(var j=0,z=w.visualContainers;j<z.length;j++)z[j].cachedData=null},I.getFiltersToApplyFromVisualQueryFilterContext=function(w){if(w){var F=w.dataFilters?w.dataFilters.slice():[];w.highlightFiltersUnmerged&&(F=F.concat(w.highlightFiltersUnmerged));for(var O=[],L=[],W=0,U=F;W<U.length;W++){var j=U[W],z=j.filter.where();if(!_.isEmpty(z)){var G=_.filter(z,function(H){return 1===(0,u._)(H.condition)});if(L.push.apply(L,G||[]),!_.isEmpty(G)){var te=_.filter(z,function(H){return 1!==(0,u._)(H.condition)});if(_.isEmpty(te))continue;j={filter:l.yl.fromSQFromAndSQFilters(j.filter.from(),te)}}O.push(j)}}if(!_.isEmpty(L)){var Q=l.yl.fromMeasureFilters(w.query,L);Q&&O.push({filter:Q})}return O}},I.findValuesInFilterCache=function(w,F,O){if(p.fF.assert(function(){return w.length===F.length},".extractValuesFromMetadata the columns length should be equal to values length"),O&&!_.isEmpty(O.cachedValueItems)){var L=this.findIdentityMapInFilterCache(w,F,O);if(L){var W=[],U=[];for(var j in L.valueMap)W.push(L.valueMap[j]),U.push(O.expressions[j]);return{values:W,columns:U}}}},I.removeEntryFromFilterCache=function(w,F,O){if(p.fF.assert(function(){return w.length===F.length},".removeEntryFromFilterCache the columns length should be equal to values length"),O&&!_.isEmpty(O.cachedValueItems)){var L=this.findIdentityMapInFilterCache(w,F,O);L&&_.remove(O.cachedValueItems,function(W){return W===L})}},I.findIdentityMapInFilterCache=function(w,F,O){if(p.fF.assert(function(){return w.length===F.length},".findIdentityMapInFilterCache the columns length should be equal to values length"),O&&!_.isEmpty(O.cachedValueItems))for(var L=0,W=O.cachedValueItems;L<W.length;L++){for(var U=W[L],j=new a.aL,z=0,G=U.identities;z<G.length;z++)G[z].expr.accept(j);if(j.keys.length===w.length){for(var Q=!0,H=function(ce){var pe=j.keys[ce];if(_.findIndex(w,function(De){return(0,R.fS)(De,pe)})<0||F[ce].value!==j.values[ce].value)return Q=!1,"break"},de=0;de<j.keys.length&&"break"!==H(de);de++);if(Q)return U}}},I.fillMissingValuesFromCache=function(w,F){if(!F||_.isEmpty(F.cachedValueItems))return w;for(var O=new Map,L=function(H){H.identities.forEach(function(de,Y){return O.set(de.key,H.valueMap[Y])})},W=0,U=F.cachedValueItems;W<U.length;W++)L(U[W]);for(var z=function(H){H.identities.forEach(function(de,Y){var se,ce;return null!==(se=(ce=H.valueMap)[Y])&&void 0!==se?se:ce[Y]=O.get(de.key)})},G=0,te=w;G<te.length;G++)z(te[G]);return w},I.getSectionParameterFiltersToApply=function(w,F,O,L){p.fF.assertAnyValue(w,"pod"),p.fF.assertAnyValue(F,"sectionFilters"),p.fF.assertAnyValue(L,"parameterFilters"),p.fF.assertAnyValue(O,"additionalSourceFilters");var W=(0,t.__spreadArray)([],F||[],!0);if(_.isEmpty(L)||w&&!_.isEmpty(w.parameters)&&_.remove(W,function(j){return _.some(w.parameters,function(z){return z.boundFilter===j.name})}),!_.isEmpty(L)||!_.isEmpty(O)){var U=this.getUnOverriddenAndMergedFilters(L,O);return this.getUnOverriddenAndMergedFilters(U,W)}return W},I.getUnOverriddenAndMergedFilters=function(w,F){if(p.fF.assertAnyValue(w,"higherPrecedenceFilters"),p.fF.assertAnyValue(F,"lowerPrecedenceFilters"),_.isEmpty(w))return F;if(_.isEmpty(F))return w;var O=this.getNonoverriddenFilters(w,F);return this.mergeFilters(O||[],w||[],"param")},I.getNonoverriddenFilters=function(w,F){var O=this;if(p.fF.assertAnyValue(w,"higherPrecedenceFilters"),p.fF.assertAnyValue(F,"lowerPrecedenceFilters"),_.isEmpty(w)||_.isEmpty(F))return F;var L=this.extractAllReferencedFields(w);return _.filter(F,function(U){var j=O.extractReferencedFields(U);return!_.some(j,function(z){return _.some(L,function(G){return(0,R.fS)(G,z,!1,!0)})})})},I.extractParameterFiltersFromSection=function(w,F){p.fF.assertAnyValue(w,"sectionFilters"),p.fF.assertAnyValue(F,"originalFilters"),w=w||[];for(var O={},L=[],W=0,U=F=F||[];W<U.length;W++)O[(j=U[W]).name]=j;for(var z=0,G=w;z<G.length;z++){var j,te=O[(j=G[z]).name];(!te||!_.isEqual(te,j))&&L.push(j)}return L},I.mergeFilters=function(w,F,O){for(var L={},W=0,U=w=w||[];W<U.length;W++)L[(j=U[W]).name]=!0;for(var z=0,G=F;z<G.length;z++){var j;(j=G[z]).name=O+"_"+j.name,L[j.name]?p.fF.assertFail("Filter name conflict: "+j.name):L[j.name]=!0}return w.concat(F)},I.canExpandManually=function(w,F,O,L,W){return 6!==w&&!(5===w&&!F&&W!==S.vA.Exclude&&W!==S.vA.Include&&O&&(0,P.kb)(O)||!L)},I.hasMeasureOrAsAggregationLinkField=function(w){return p.fF.assertValue(w,"section"),_.some(w.filters,function(F){return 5===F.howCreated&&!F.isTransient&&(F.isLinkedAsAggregation||F.expression&&(0,P.kb)(F.expression))})},I.notifyFilterContainerChangedByUser=function(w,F){w.publishToChannel(y.d8V,{source:"UserAction_ChangeFilter"}),w.publishToChannel(y.Tuj,F)},I.createChangeFilterActivity=function(w,F){return w.createActivity({name:"Change Filter",operationType:F})},I.notifyBufferedFilterChanges=function(w,F,O,L,W,U){w.publishToChannel(y.Oij,{filterScopeType:F,filterType:O,id:L,canApply:W,wasDeleted:U})},I.isApplyAllEnabled=function(w,F){var O=F.getCurrentExploration();return!!(w&&O&&O.slowDataSourceSettings)&&O.slowDataSourceSettings.isApplyAllButtonEnabled},I.getFilterCardStyle=function(w,F,O,L){var U,j,W=w&&w.filterCard;F?(U=W&&W.$instances&&W.$instances[g.ZF],j=g.Hd):(U=W&&W.$instances&&W.$instances[g.Kc],j=g.$V);var z=this.getDefaultFilterCardStyle(w,F,O,L);return null!=L&&L.forceApplyDefaultStyleOverride?z:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(w&&w.outspacePane,z.checkboxAndApplyColor),borderColor:this.getBorderColor(U,z.borderColor,null==L?void 0:L.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(U,z.backgroundColor,j,F,z.backgroundColorApplied),foregroundColor:this.getColor(U,"foregroundColor",z.foregroundColor),inputBoxBorderColor:this.getBorderColor(U,z.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(U,"inputBoxColor",z.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(U,"foregroundColor",z.inputBoxForegroundColor),fontSize:null!=L&&L.ignoreFontSizeAndFamily?null:z.fontSize,fontFamily:null!=L&&L.ignoreFontSizeAndFamily?null:z.fontFamily}},I.getDefaultFilterCardStyle=function(w,F,O,L){var W,U,z,G,j=w&&w.filterCard;F?(z=j&&j.$instances&&j.$instances[g.ZF],G=O.colorPalette.backgroundLight.value):(z=j&&j.$instances&&j.$instances[g.Kc],G=O.colorPalette.background.value);var te=F?null===(W=null==L?void 0:L.defaultStyleOverride)||void 0===W?void 0:W.backgroundColorApplied:null===(U=null==L?void 0:L.defaultStyleOverride)||void 0===U?void 0:U.backgroundColorAvailable,Q=null==L?void 0:L.defaultStyleOverride,H=te||(null==Q?void 0:Q.backgroundColor);return Q?(0,t.__assign)((0,t.__assign)({},Q),{backgroundColor:H}):{checkboxAndApplyColor:g.mC,borderColor:g.bm,backgroundColor:G,foregroundColor:O.colorPalette.foreground.value,inputBoxBorderColor:g.bm,inputBoxBackgroundColor:g.NC,inputBoxForegroundColor:g.yJ,fontSize:this.getFontSize(z),fontFamily:this.getFontFamily(z)}},I.determineIsLinkedAsAggregation=function(w,F,O){if(5===w.howCreated)return null!=O.defaultAggregate(w.expression,F)},I.getDisplayNameForIncludeExcludeFilters=function(w,F,O){return w.get(F===S.vA.Include?"Include_Label":"FilterPane_Exclude")+" ("+O+")"},I.getCheckboxAndApplyColor=function(w,F){void 0===F&&(F=g.mC);var O=(0,V.y)(w,"checkboxAndApplyColor",F);return(0,i.cD)(O)},I.getBorderColor=function(w,F,O){var L=(0,V.y)(w,"borderColor",F),U=0;return(!0===(0,V.N)(w,"border",g.HX)||O)&&(U=1),(0,i.cD)(L,U)},I.getBackgroundColor=function(w,F,O,L,W){var j=(0,V.y)(w,"backgroundColor",L&&W?W:F),z=(0,i.TD)((0,V.N)(w,"transparency",O));return(0,i.cD)(j,z)},I.getColor=function(w,F,O){var L=(0,V.y)(w,F,O);return(0,i.cD)(L)},I.getFontSize=function(w){var F=(0,V.N)(w,"textSize",g.JM);return"".concat(F,"pt")},I.getFontFamily=function(w){return(0,V.N)(w,"fontFamily",g.h9)},I.extractAllReferencedFields=function(w){var F=this;return _.flatten(_.map(w,function(O){return F.extractReferencedFields(O)}))},I.extractReferencedFields=function(w){var F=[];if(w.expression&&F.push(w.expression),w.filter)for(var O=0,L=w.filter.conditions();O<L.length;O++){var W=L[O],U=new x;W.accept(U),F=F.concat(U.fields)}return F},I.getFilterCapabilities=function(w){return{canClear:this.canClearManually(w),canDelete:this.canDeleteManually(w),canEdit:this.canEditManually(w),canHide:this.canHideManually(w),canLock:this.canLockManually(w),canRename:this.canRenameManually(w),canSort:this.canSortManually(w)}},I.canClearManually=function(w){return!(0!==w.howCreated&&1!==w.howCreated&&2!==w.howCreated&&5!==w.howCreated&&7!==w.howCreated||w.type===S.vA.Passthrough||5===w.howCreated&&(w.type===S.vA.Exclude||w.type===S.vA.Include))},I.canDeleteManually=function(w){return 1===w.howCreated||5===w.howCreated||7===w.howCreated||w.type===S.vA.Passthrough||3===w.howCreated||4===w.howCreated},I.canEditManually=function(w){return(0===w.howCreated||1===w.howCreated||2===w.howCreated||5===w.howCreated||7===w.howCreated||3===w.howCreated||4===w.howCreated)&&w.type!==S.vA.Passthrough},I.canHideManually=function(w){return 0===w.howCreated||1===w.howCreated||5===w.howCreated&&!w.isTransient||w.type===S.vA.Passthrough||3===w.howCreated||4===w.howCreated},I.canLockManually=function(w){return(0===w.howCreated||1===w.howCreated||5===w.howCreated&&!w.isTransient||3===w.howCreated||4===w.howCreated)&&w.type!==S.vA.Passthrough},I.canRenameManually=function(w){return(0===w.howCreated||1===w.howCreated)&&w.type!==S.vA.Passthrough},I.canSortManually=function(w){return 0===w.howCreated||1===w.howCreated||w.type===S.vA.Passthrough||3===w.howCreated||4===w.howCreated},I}(),x=function(I){function w(){var F=null!==I&&I.apply(this,arguments)||this;return F.fields=[],F}return(0,t.__extends)(w,I),w.prototype.visitColumnRef=function(F){this.fields.push(F)},w.prototype.visitHierarchyLevel=function(F){this.fields.push(F)},w.prototype.visitMeasureRef=function(F){this.fields.push(F)},w.prototype.visitEntity=function(F){this.fields.push(F)},w.prototype.visitAggr=function(){},w}(b.PA),A=function(I){function w(F){var O=I.call(this)||this;return O.comparisonColumn=F,O.values=[],O}return(0,t.__extends)(w,I),w.prototype.visitCompare=function(F){0===F.comparison&&(0,P.VC)(F.right)&&(0,R.fS)(F.left,this.comparisonColumn)&&this.values.push(F.right)},w.prototype.visitIn=function(F){var O=this;if(!_.isEmpty(F.values)){var W=_.findIndex(F.args,function(G){return(0,R.fS)(G,O.comparisonColumn,void 0,!0)});if(!(W<0))for(var U=0,j=F.values;U<j.length;U++)this.values.push(j[U][W])}},w}(b.vq)},971028:function(ze,K,r){r.d(K,{NV:function(){return m},Xz:function(){return V},zr:function(){return p}});var t=r(474147),c=r(505876),i=r(35801),s=r(374952);function p(v,e){var h=(0,i.s)(v);return e.isQueryVisual(h)}function V(v,e){var h=(0,i.s)(v);return!e.isAnalysisVisual(h)}function m(v,e,h,n){var o=v.getMetadata(e);if(o){if(5===h)return c.vA.Categorical;var u=o.type,a=u&&(u.text||u.bool||u.dateTime),l=o.idOnEntityKey&&n&&(0,t.fS)(v,n);return!a||(0,s.k)(v)||l?c.vA.Advanced:c.vA.Categorical}}},339432:function(ze,K,r){r.d(K,{DX:function(){return D},Ee:function(){return v},P2:function(){return h},RV:function(){return n},X0:function(){return o},ZP:function(){return C},yl:function(){return e}});var t=r(456535),c=r(787941),i=r(44615),s=r(597098),p=r(324356),V=r(983172);function v(w,F,O){if(c.fF.assertValue(w,"entity"),!F||!F.column||!F.column.groupingMetadata)return 0;if(O){var L=O.getGroupingDesignState(w,F.name);if(!L)return 1;if(L.partitionTable)return 3;if(L.binItem)return 2}return 1}function e(w,F,O){var L=v(w,F,O);return 1===L||2===L}function h(w,F,O){return 3===v(w,F,O)}function n(w,F,O){if(!F||!F.column||!F.column.groupingMetadata)return!1;var L=O.getGroupingDesignState(w,F.name);return!(!L||!L.groupItems&&!L.partitionTable)}function o(w,F){return!(!F||!function(w,F){return function(w,F){var O=(0,i.J1)((0,s.Q)(F));return w.schema(O)}(w,F).capabilities.canEdit}(w,F)||!(0,t.t3)(F)&&!(0,t.wD)(F))&&function(w){return w&&!!(w.type.dateTime||w.type.integer||w.type.numeric||w.type.text)}(F.getConceptualProperty(w))}function C(w,F){return _.chain(w.groupedColumns).map(function(O){if(function(w){return 0===w.kind}(O))return(0,p.Oh)(F,O.name)}).filter(function(O){return null!=O}).value()}function D(w,F){var O=F&&F.defn.select();if(!_.isEmpty(O)&&!_.isEmpty(w)){for(var L=0,W=w;L<W.length;L++){var U=W[L];if(!U||!U.dataMap)return!1;var j=Object.keys(U.dataMap),z=_.size(U.dataMap);if(z>2)return!1;if(2===z){var G=O.withName(j[0]),te=O.withName(j[1]);if(G&&te&&!x(G.expr,te.expr))return!1}else if(1===z){var Q=O.withName(j[0]);if(Q&&!(0,t.t3)(Q.expr)&&!(0,t.wD)(Q.expr))return!1}}return!0}return!1}function x(w,F){return!!function(w,F){if((0,t.wD)(w)&&(0,t.t3)(F)&&I(w,F))return w;if((0,t.wD)(F)&&(0,t.t3)(w)&&I(F,w))return F;if((0,t.wD)(w)&&(0,t.wD)(F)){if(I(w,F))return w;if(I(F,w))return F}}(w,F)}function I(w,F){return V.m.sequenceEqual(w.groupedExprs,[F])}},821850:function(ze,K,r){r.d(K,{Sd:function(){return h},gp:function(){return e},wK:function(){return m}});var t=r(456535),c=r(474147),i=r(145315),s=r(324356),p=r(242895),V=r(799818);function m(a,l,d,b){if(d&&l&&(0,t.ez)(b)){for(var f=b,g=f.arg,S=(0,V.wA)(a,g),y=[],C=function(T){var R=d.tryGetExprs(T.name);if(!R)return"continue";var B=void 0;if((0,t.y3)(g)&&(0,t.jc)(g.arg)){var N=g.arg;B=_((0,p.q)(a,R,{})).filter(function(F){return F.isHierarchyLevelsGroup&&(0,t.t3)(F.expr)&&(0,c.fS)(F.expr.source,N.arg)&&F.expr.ref===N.property}).reverse().value()}else B=_((0,p.q)(a,R,{})).filter(function(F){return(0,c.fS)(F.expr,g)}).reverse().value();for(var x=0,A=B;x<A.length;x++){var I=A[x],w=(0,V.u8)(S,I.children,f);y.push({expr:f,schema:a,targetRole:T.name,projOptions:{fieldIndex:I.selectQueryIndex+w}})}},E=0,D=l.dataRoles;E<D.length;E++)C(D[E]);return y}}function e(a,l,d,b,f,g){var y=(a.singleVisual.query.tryGetExprs(l)||[]).slice(d,d+b);if(!_.isEmpty(y)){var C;if(C=_.isEmpty(g)?y[0]:g[0],(0,t.ez)(C)){var E=function(a,l){if(a&&a.kind===i.DW.Measure){var d=(0,V.cH)(l);if(d)return(0,s.Oh)(d.arg,d.property)}}(f,C);if(E)return[E]}return _.isEmpty(g)?y:g}}function h(a,l){return(0,t.ez)(a)&&(0,t.ez)(l)&&(0,c.fS)(a.arg,l.arg)}},603988:function(ze,K,r){r.d(K,{q:function(){return m}});var t=r(226514),c=r(174665),i=r(787941),s=r(771201),p=r(255780),V=r(374952),m=function(){function v(){}return v.generate=function(e,h,n,o,u,a,l,d){if(i.fF.assertValue(e,"dataView"),i.fF.assertValue(h,"originalSelects"),i.fF.assertValue(o,"originalDataRoleNames"),i.fF.assertAnyValue(u,"originalProjectionOrdering"),e.matrix){for(var b=[],f=[],g=[],S=[],y=e.matrix,C=0,E=h;C<E.length;C++){var P=(0,t.__assign)({},E[C]);P.roles={},b.push(P)}var M=function(F){if(a&&a.featureSwitches.showGeneratedColumnsInDetailView)return!0;var O=h[F.index];return!O||!_.isEmpty(O.roles)||!_.isEmpty(O.relatedSelects)},T=this.getSelectsGroupedByRowHierarchy(n,h,e.matrix,M),B=(l&&d?this.tryProcessDataViewHierarchy(y.rows,b,g,c.r.columns,T,function(w){return!w.isMeasure}):this.tryProcessDataViewHierarchy(y.rows,b,f,c.r.rows,T)&&this.tryProcessDataViewHierarchy(y.columns,b,g,c.r.columns,T,function(w){return!w.isMeasure}))&&this.tryUpdateReferencedSelects(y.valueSources,b,S,c.r.values,T,M),N=_.last(y.rows.levels);if(N&&(B=B&&this.tryUpdateReferencedSelects((0,p.vC)(N),b,S,c.r.values,T,M)),B){var x=e;this.sortMatrixRoleProjectionOrders(o,u,f,g,S,b),_.isEmpty(T)||(x=this.fixMeasuresGroupedByRowHierarchy(e,T));var A={};return f.length>0&&(A[c.r.rows]=f),g.length>0&&(A[c.r.columns]=g),S.length>0&&(A[c.r.values]=S),{transformActions:{selects:b,roles:{ordering:A}},dataView:x}}}},v.getSelectsGroupedByRowHierarchyFromMatrix=function(e,h){var n,o={},u=null===(n=null==e?void 0:e.rows)||void 0===n?void 0:n.levels;if(!_.isEmpty(u)){var a=_.last(u),l=(0,p.vC)(a);if(!_.isEmpty(l))for(var d=0,b=l;d<b.length;d++){var f=b[d];_.isNumber(f.index)&&h(f)&&(o[f.index]=!0)}}return o},v.tryProcessDataViewHierarchy=function(e,h,n,o,u,a){if(!e||_.isEmpty(e.levels))return!0;for(var l=0,d=e.levels;l<d.length;l++)if(!this.tryUpdateReferencedSelects(d[l].sources,h,n,o,u,a))return!1;return!0},v.tryUpdateReferencedSelects=function(e,h,n,o,u,a){if(_.isEmpty(e))return!0;for(var l=function(y){if(!a||a(y)){if(null==y.index&&_.some(e,function(M){return M.formatSource&&M.formatSource.formatString===y}))return"continue";if(u[y.index]){if(!_.isEmpty(h[y.index].relatedSelects))for(var C=function(T){var R=_.findIndex(h,function(B){return B.queryName===T.queryName});u[R]||n.push(y.index)},E=0,D=h[y.index].relatedSelects;E<D.length;E++)C(D[E])}else n.push(y.index);if(!h[y.index])return{value:!1};h[y.index].roles[o]=!0}},d=0,b=e;d<b.length;d++){var g=l(b[d]);if("object"==typeof g)return g.value}return!0},v.sortMatrixRoleProjectionOrders=function(e,h,n,o,u,a){var l;if(i.fF.assertValue(e,"originalDataRoleNames"),i.fF.assertAnyValue(h,"originalProjectionOrdering"),i.fF.assertValue(n,"matrixRowsOrdering"),i.fF.assertValue(o,"matrixColumnsOrdering"),i.fF.assertValue(u,"matrixValuesOrdering"),!_.isEmpty(e)&&h){var d=n.length>=2,b=o.length>=2,f=u.length>=2;if(d||b||f){var g=this.createSelectIndexToSortOrderMappings(e,h);if(g&&(d&&this.applySortOrder(n,g),b&&this.applySortOrder(o,g),f)){this.applySortOrder(u,g);var S=((l={})[c.r.values]=u,l);(0,s.f_)(a,S)}}}},v.createSelectIndexToSortOrderMappings=function(e,h){i.fF.assertNonEmpty(e,"originalDataRoleNames"),i.fF.assertValue(h,"originalProjectionOrdering");var n=_.chain(e).map(function(u){return h[u]}).flatten().filter(function(u){return _.isNumber(u)}).value(),o=_.reduce(n,function(u,a,l){return void 0===u[a]&&(u[a]=l),u},{});return Object.keys(o).length>=2?o:void 0},v.applySortOrder=function(e,h){var n=this;i.fF.assertNonEmpty(e,"matrixRoleSelectIndices"),i.fF.assertValue(h,"selectIndexToSortOrderMapping"),e.sort(function(o,u){return n.getSortOrderOrDefault(o,h)-n.getSortOrderOrDefault(u,h)})},v.getSortOrderOrDefault=function(e,h,n){return void 0===n&&(n=Number.MAX_VALUE),i.fF.assertValue(e,"selectIndex"),i.fF.assertValue(h,"selectIndexToSortOrderMapping"),_.isNumber(h[e])?h[e]:n},v.fixMeasuresGroupedByRowHierarchy=function(e,h){if(i.fF.assertValue(e,"dataView"),i.fF.assertValue(e.matrix,"matrix"),i.fF.assertValue(e.matrix.columns,"matrix.columns"),this.nothingToFix(h,e.matrix))return e;var o=_.cloneDeep(e);return this.addMeasureValuesGroupedByRowHierarchy(o,h),o},v.nothingToFix=function(e,h){return _.isEmpty(Object.keys(e))||_.isEmpty(h.columns.root.children)||_.isEmpty(h.rows.root.children)},v.getSelectsGroupedByRowHierarchy=function(e,h,n,o){var u,a;if(e&&e.length>1){i.fF.assertValue((null===(u=e[0])||void 0===u?void 0:u.selects)&&(null===(a=e[1])||void 0===a?void 0:a.selects),"Split transforms should be defined");var l=this.categorizeSplitSelects(e[0],h);if(_.isEmpty(l.measureSelectIndices))return{};var d=this.categorizeSplitSelects(e[1],h);if(_.isEqual(l.groupingSelectIndices,d.groupingSelectIndices))return{};if(!_.isEmpty(d.measureSelectIndices))for(var b=_.map(_.keys(d.measureSelectIndices),function(D){return h[parseInt(D,10)].queryName}),f=0;f<h.length;f++){var g=h[f];if(!_.isEmpty(g.relatedSelects))for(var S=function(P){null!=_.find(b,function(M){return P.queryName===M})&&(d.measureSelectIndices[f]=!0)},y=0,C=g.relatedSelects;y<C.length;y++)S(C[y])}return d.measureSelectIndices}return v.getSelectsGroupedByRowHierarchyFromMatrix(n,o)},v.categorizeSplitSelects=function(e,h){var n={groupingSelectIndices:{},measureSelectIndices:{}};for(var o in e.selects){var u=h[o];u.expr&&((0,V.k)(u.expr)?n.measureSelectIndices[o]=!0:n.groupingSelectIndices[o]=!0)}return n},v.addMeasureValuesGroupedByRowHierarchy=function(e,h){i.fF.assertNonEmpty(e.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),i.fF.assertValue(h,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var n=e.matrix,o=n.columns.levels[0],u=[],a=_.last(n.rows.levels),l=n.valueSources.length;i.fF.assertAnyValue(a.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var d=(0,p.vC)(a);if(d){for(var b=n.columns.root,f=this.getColumnLeavesCount(b),g=0;g<d.length;g++){var S=d[g];h[S.index]&&(S.formatSource&&delete S.formatSource,n.valueSources.push(S),this.addStaticMeasureColumnHeader(o,S,b),u.push(g))}(0,p.y9)(e.matrix.rows.root,function(y){var C=f,E=(0,p.Lr)(y);if(!_.isEmpty(E))for(var D=0;D<u.length;D++)y.values[C++]={value:E[u[D]].value,valueSourceIndex:l+D}})}},v.getColumnLeavesCount=function(e){var h=0;return(0,p.y9)(e,function(){return h++}),h},v.addStaticMeasureColumnHeader=function(e,h,n){e.sources.push(h),n.children.push({level:0,levelSourceIndex:e.sources.length-1})},v}()},839165:function(ze,K,r){r.d(K,{$:function(){return c}});var t=r(299987),c=function(){function i(s){this.modelExtension=s,this.visited={}}return i.prototype.visitReference=function(s){if(s.schema===this.modelExtension.name){var p=(0,t.rc)(this.modelExtension,s.entity);if(p){var V=(0,t.ef)(p,s.name);if(V){var m=this.toVisitedKey(s);if(!this.visited[m]){this.visitMeasure(this.modelExtension,p,V),this.visited[m]=!0;for(var v=0,e=V.references.measures;v<e.length;v++)this.visitReference(e[v])}}}}},i.prototype.visitMeasure=function(s,p,V){},i.prototype.toVisitedKey=function(s){return JSON.stringify(s)},i}()},299987:function(ze,K,r){r.d(K,{MZ:function(){return m},Mt:function(){return p},Pw:function(){return s},QL:function(){return n},Rx:function(){return d},ZB:function(){return u},bY:function(){return o},ef:function(){return a},fi:function(){return D},ni:function(){return b},qH:function(){return v},rc:function(){return e}});var t=r(249679),c=r(883863),i=r(787941);function s(T,R){return T.modelExtensions&&T.modelExtensions.withName(R)}function p(T,R){var B=s(T,R);if(!B)throw new Error("Unable to find expected model extension: "+R);return B}function m(T,R){return{name:T,extends:R,entities:(0,c.bv)()}}function v(T,R,B){var N=function(T,R,B){T.modelExtensions||(T.modelExtensions=(0,c.bv)());var N=T.modelExtensions.withName(R);return N||(N=m(R,B),T.modelExtensions.push(N)),i.fF.assert(function(){return N.extends===B},"Found model extension with incompatible extends field"),N}(T,R,t.N8);return n(N,B)}function e(T,R){return T.entities.withName(R)}function h(T,R,B){var x=e(p(T,R),B);if(!x)throw new Error("Unable to find expected entity: "+B);return x}function n(T,R){T.entities||(T.entities=(0,c.bv)());var B=T.entities.withName(R);return B||(B={name:R,extends:R,measures:(0,c.bv)()},T.entities.push(B)),i.fF.assert(function(){return B.extends===R},"Found model extension entity with incompatible extends field"),B}function o(T,R){if(T.measures||(T.measures=(0,c.bv)()),T.measures.withName(R.name))throw new Error("Measure ".concat(R.name," already exists and cannot be added"));T.measures.push(R)}function u(T,R,B,N){return l(h(T,R,B),N)}function a(T,R){return T.measures.withName(R)}function l(T,R){var B=a(T,R);if(!B)throw new Error("Unable to find expected measure:"+R);return B}function d(T,R,B,N){var x=h(T,R,B),A=l(x,N),I=x.measures.indexOf(A);x.measures.splice(I,1),0===x.measures.length&&(delete x.measures,function(T,R,B){if(!E(B)){var N=p(T,R),x=N.entities.indexOf(B);N.entities.splice(x,1),0===N.entities.length&&(delete N.entities,function(T,R){if(!E(R)){var B=T.modelExtensions.indexOf(R);T.modelExtensions.splice(B,1),0===T.modelExtensions.length&&delete T.modelExtensions}}(T,N))}}(T,R,x))}function b(T,R,B){null==B?function(T,R){var B=T.annotations&&T.annotations.withName(R);if(B){var N=T.annotations.indexOf(B);T.annotations.splice(N,1),T.annotations&&0===T.annotations.length&&delete T.annotations}}(T,R):function(T,R,B){T.annotations||(T.annotations=(0,c.bv)());var N=T.annotations.withName(R);N?N.value=B:T.annotations.push(N={name:R,value:B})}(T,R,B)}function E(T){var R=Object.keys(T),B=_.chain(R).filter(function(N){return"name"!==N&&"extends"!==N}).filter(function(N){return!(_.isArray(T[N])&&_.isEmpty(T[N]))}).value();return _.some(B)}function D(T){if(T){var R={Version:0,Name:T.name,Extends:T.extends};return T.entities&&(R.Entities=_.map(T.entities,function(B){return function(T){var R={Extends:T.extends,Name:T.name};return T.measures&&(R.Measures=_.map(T.measures,function(B){return function(T){var R=T.dataType;return(6===R||9===R)&&(R=7),{Name:T.name,Expression:T.expression,DataType:R}}(B)})),R}(B)})),R}}},656011:function(ze,K,r){r.d(K,{A9:function(){return h},FY:function(){return o},Gk:function(){return n},bW:function(){return e},ei:function(){return u}});var t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s=36e5;function e(d){return function(d){var b=t.exec(d)||new Array(9),f="-"===b[1]?-1:1;return{years:a(b[2],f),months:a(b[3],f),weeks:a(b[4],f),days:a(b[5],f),hours:a(b[6],f),minutes:a(b[7],f),seconds:a(b[8],f)}}(d)}function h(d){return 31536e6*d.years+2592e6*d.months+6048e5*d.weeks+864e5*d.days+d.hours*s+6e4*d.minutes+1e3*d.seconds}function n(d){for(var b={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0},f=0,g=d;f<g.length;f++){var S=g[f],y=S.value;S.isTimeUnit&&"S"===S.unit?b.seconds=y:S.isTimeUnit&&"M"===S.unit?b.minutes=y:S.isTimeUnit&&"H"===S.unit?b.hours=y:"D"===S.unit?b.days=y:"W"===S.unit?b.weeks=y:"M"===S.unit?b.months=y:"Y"===S.unit&&(b.years=y)}return b}function o(d){var b="P";return d.years>0&&(b+="".concat(d.years)+"Y"),d.months>0&&(b+="".concat(d.months)+"M"),d.weeks>0&&(b+="".concat(d.weeks)+"W"),d.days>0&&(b+="".concat(d.days)+"D"),0===d.hours&&0===d.minutes&&0===d.seconds||(b+="T",d.hours>0&&(b+="".concat(d.hours)+"H"),d.minutes>0&&(b+="".concat(d.minutes)+"M"),d.seconds>0&&(b+="".concat(d.seconds)+"S")),b}function u(d){var b=[];return d.seconds&&b.push({value:d.seconds,unit:"S",isTimeUnit:!0}),d.minutes&&b.push({value:d.minutes,unit:"M",isTimeUnit:!0}),d.hours&&b.push({value:d.hours,unit:"H",isTimeUnit:!0}),d.days&&b.push({value:d.days,unit:"D",isTimeUnit:!1}),d.weeks&&b.push({value:d.weeks,unit:"W",isTimeUnit:!1}),d.months&&b.push({value:d.months,unit:"M",isTimeUnit:!1}),d.years&&b.push({value:d.years,unit:"Y",isTimeUnit:!1}),b}function a(d,b){var f=d&&parseFloat(d.replace(",","."));return(isNaN(f)?0:f)*b}},647863:function(ze,K,r){r.d(K,{Ae:function(){return y},D6:function(){return o},Dt:function(){return M},EA:function(){return A},Iv:function(){return C},Iz:function(){return f},Js:function(){return B},LM:function(){return P},Og:function(){return h},QU:function(){return e},SV:function(){return g},TJ:function(){return I},XY:function(){return u},_3:function(){return v},_n:function(){return d},aQ:function(){return T},bM:function(){return a},bx:function(){return S},fF:function(){return x},k9:function(){return n},kt:function(){return D},rF:function(){return E},tD:function(){return l},u1:function(){return b},wj:function(){return N},zO:function(){return R}});var t=r(226514),c=r(883863),i=r(787941),s=r(690016),p=r(618630),V=r(156319);function v(z,G,te,Q){i.fF.assertValue(G,"sectionName");var H=Q.defer(),de=y(z,G);return-1===de?H.resolve(void 0):te.get(z.reportId,z.pods[de].name).then(function(Y){var se=Y&&Y.words.slice();_.isEmpty(se)?H.resolve(void 0):(se.shift(),H.resolve({altNames:se}))}),H.promise}function e(z,G,te){return(0,t.__awaiter)(this,void 0,void 0,function(){var Q;return(0,t.__generator)(this,function(H){switch(H.label){case 0:return i.fF.assertValue(G,"sectionName"),(Q=y(z,G))>-1?[4,te.set(z.reportId,z.pods[Q].name,[])]:[3,2];case 1:H.sent(),L(z,Q,te,!1),H.label=2;case 2:return[2]}})})}function h(z,G,te){return(0,t.__awaiter)(this,void 0,void 0,function(){var Q;return(0,t.__generator)(this,function(H){switch(H.label){case 0:return i.fF.assertValue(G,"sectionName"),(Q=y(z,G))>-1?[4,te.set(z.reportId,z.pods[Q].name,[])]:[3,2];case 1:H.sent(),W(z,Q),H.label=2;case 2:return[2]}})})}function n(z,G,te){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(Q){switch(Q.label){case 0:return i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"section"),[4,o(z,G.name,G.displayName,te,!0)];case 1:return Q.sent(),[2]}})})}function o(z,G,te,Q,H){return(0,t.__awaiter)(this,void 0,void 0,function(){var de,Y,se;return(0,t.__generator)(this,function(ce){switch(ce.label){case 0:return i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"newSectionDisplayName"),de=H?F(z,G,0,0):C(z,G),H||de?[4,Q.get(z.reportId,de.name)]:[2];case 1:return Y=ce.sent(),se=Y&&Y.words,_.isEmpty(se)?se=[te]:se[0]=te,[4,Q.set(z.reportId,de.name,se)];case 2:return ce.sent(),[2]}})})}function u(z,G,te,Q){return(0,t.__awaiter)(this,void 0,void 0,function(){var H;return(0,t.__generator)(this,function(de){switch(de.label){case 0:return i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"section"),H=F(z,G.name,0,0),te.unshift(G.displayName),[4,Q.set(z.reportId,H.name,te)];case 1:return de.sent(),[2]}})})}function a(z,G,te,Q,H,de,Y){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"filterName"),i.fF.assertValue(Y,"podType");var se=F(z,G,0,0);se.parameters||(se.parameters=[]),se.parameters.push({name:"Param_"+te,boundFilter:te,fieldExpr:Q,asAggregation:H,isLegacySingleSelection:de}),(null==se.type||0===se.type)&&0!==Y&&(se.type=Y)}function l(z,G,te,Q){i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"filterName");var H=y(z,G);if(H>-1){var de=z.pods[H],Y=w(de,te);Y>-1&&(de.parameters.splice(Y,1),L(z,H,Q,!0))}}function d(z,G,te,Q){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"filterName");var H=y(z,G);if(H>-1){var de=z.pods[H],Y=w(de,te);Y>-1&&(de.parameters[Y].asAggregation=Q)}}function b(z,G,te){i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"filterName");var Q=y(z,G);return-1!==Q&&-1!==w(z.pods[Q],te)}function f(z,G,te,Q){i.fF.assertValue(G,"sectionName");var H,de=y(z,G);(-1!==de||te)&&(-1===de?(H=O(z,G,0,0),de=z.pods.length-1):H=z.pods[de],H.cortanaEnabled=te,L(z,de,Q,!0))}function g(z,G){if(z&&z.pods){var Q=_.findIndex(z.pods,function(H){return H.name===G});if(-1!==Q)return Q}}function S(z,G,te,Q,H){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"newSection"),i.fF.assertValue(Q,"linguisticSchemaProxy"),i.fF.assert(function(){return te<=z.sections.length},"Expected target index should be less than or equals sections length.");var de=y(z,z.sections[te].name);if(-1===de)return H.resolve();var Y=z.pods[de],ce=O(z,G.name,Y.referenceScope,void 0!==Y.config?Y.config.acceptsFilterContext:0);return ce.cortanaEnabled=Y.cortanaEnabled,ce.parameters=_.cloneDeep(Y.parameters),ce.type=Y.type,function(z,G,te,Q,H){return H.get(z,Q.name).then(function(de){var Y=de&&de.words.slice();_.isEmpty(Y)||(Y.shift(),Y.unshift(G.displayName),H.set(z,te.name,Y))})}(z.reportId,G,ce,Y,Q)}function y(z,G){return i.fF.assertValue(G,"sectionName"),z&&z.pods?_.findIndex(z.pods,function(te){return te.boundSection===G}):-1}function C(z,G){var te=y(z,G);if(-1!==te)return z.pods[te]}function E(z,G,te){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"acceptsFilterContextKind");var Q=C(z,G);if(!Q&&0!==te&&(Q=O(z,G,0,te)),Q){if(null==Q.config)return void(Q.config={acceptsFilterContext:te});Q.config.acceptsFilterContext!==te&&(Q.config.acceptsFilterContext=te)}}function D(z,G,te){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName"),i.fF.assertValue(te,"referenceScope");var Q=C(z,G);!Q&&0!==te&&(Q=O(z,G,te,0)),Q&&null!=te&&Q.referenceScope!==te&&(Q.referenceScope=te)}function P(z,G){if(!z||!G)return!0;var te=C(z,G.name);return!te||!te.config||0===te.config.acceptsFilterContext}function M(z,G){if(!z||!G)return!1;var te=C(z,G.name);return!(!te||!te.config)&&(0,p.i)(te.type,te.parameters)}function T(z,G){if(!z||!G)return!1;var te=C(z,G.name);return!!te&&1===te.referenceScope}function R(z){return z?1:0}function B(z){return z?0:1}function N(z,G){return i.fF.assertValue(z,"section"),!G&&(0===z.type||null==z.type)||G&&2===z.type?1:1===z.type?2:0}function x(z,G,te){if(!z||!G)return!1;var Q=C(z,G.name);if(!Q||_.isEmpty(Q.parameters))return!1;var H=w(Q,te.name);return-1!==H&&Q.parameters[H].asAggregation}function A(z,G){return G&&1===G.scopeType&&V.l.isCategoricalFilter(z.type)&&!z.isTransient}function I(z,G,te){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName");var Q=y(z,G);if(-1!==Q){var H=z.pods[Q];_.isEmpty(H.parameters)&&(H.type=0),H.type=te}}function w(z,G){return i.fF.assertValue(G,"filterName"),z&&z.parameters?_.findIndex(z.parameters,function(te){return te.boundFilter===G}):-1}function F(z,G,te,Q){return i.fF.assertValue(Q,"acceptsFilterContextKind"),C(z,G)||O(z,G,te,Q)}function O(z,G,te,Q){i.fF.assertValue(z,"exploration"),i.fF.assertValue(G,"sectionName"),z.pods||(z.pods=[]);var H={name:U(z.pods),boundSection:G,parameters:[],type:0,referenceScope:te,config:{acceptsFilterContext:Q}};return z.pods.push(H),i.fF.assert(function(){return(0,c.iv)(z.pods)},"pod names must be unique"),H}function L(z,G,te,Q){var H=z.pods[G];_.isEmpty(H.parameters)&&(H.type=0),!H.cortanaEnabled&&_.isEmpty(H.parameters)&&0===H.config.acceptsFilterContext&&0===H.referenceScope&&(Q?te.get(z.reportId,H.name).then(function(de){(!de||_.isEmpty(de.words))&&W(z,G)}):W(z,G))}function W(z,G){z.pods.splice(G,1),0===z.pods.length&&(z.pods=void 0)}function U(z){for(var G={},te=0,Q=z;te<Q.length;te++)G[Q[te].name]=!0;return(0,s.zE)(G,"Pod")}},249185:function(ze,K,r){function t(s){for(var p={},V=0,m=s.sections;V<m.length;V++){var v=m[V];p[v.name]={};for(var e=0,h=v.visualContainers;e<h.length;e++){var n=h[e];if(n.config.singleVisual){var o=n.config.singleVisual;p[v.name][n.name]={visualType:o.visualType,autoSelectVisualType:o.autoSelectVisualType,projections:o.query?c(o.query,!0):void 0}}}}return p}function c(s,p){var V={},m=s.defn.select();if(!m)return V;for(var v in s.projections){var e=s.projections[v];if(e){V[v]=[];for(var h=e.all(),n=0;n<h.length;n++){var o=e.convertProjectionIndexToFieldIndex(n),u=m.withName(h[n].queryRef);u&&(e.doesParameterExist(o)||p)?V[v].push(u.expr):V[v].push(null)}}}return V}function i(s){var V;if(!s.defn.select())return V;for(var m in s.projections){var v=s.projections[m];if(v){var e=_.sortBy(v.getFieldParameters(),function(d){return d.index});if(!_.isEmpty(e)){V||(V={}),V[m]=[];for(var h=0,n=e;h<n.length;h++){var o=n[h];V[m].push({expr:o.expr,index:o.index,length:o.length})}}}}return V}r.d(K,{Jc:function(){return t},rl:function(){return c},xF:function(){return i}})},60083:function(ze,K,r){r.d(K,{o:function(){return c}});var t=r(787941),c=function(){function i(s){this.container=s,this.context={pendingGeocodingCount:0}}return i.prototype.newQuery=function(s){var p=0!==this.context.pendingGeocodingCount,V=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:s},p&&(V&&V.reject(),this.container.onStopGeocoding())},i.prototype.hasPendingGeocoding=function(){return this.context.pendingGeocodingCount>0},i.prototype.wrapGeocoder=function(s){return{geocode:this.wrapAsyncGeocoderMethod(s,s.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(s,s.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(s,s.geocodePoint),tryGeocodeImmediate:function(V,m,v,e){return s.tryGeocodeImmediate(V,m,v,e)},tryGeocodeBoundaryImmediate:function(V,m,v,e){return s.tryGeocodeBoundaryImmediate(V,m,v,e)}}},i.prototype.wrapAsyncGeocoderMethod=function(s,p){var V=this;return function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];var e=V.context,h=p.apply(s,m);1==++e.pendingGeocodingCount&&(V.context.rootActivity&&(V.context.geocodingActivity=V.context.rootActivity.createChildActivity({name:"Geocoding"})),V.container.onStartGeocoding());var n=function(){e===V.context&&--e.pendingGeocodingCount<=0&&(t.fF.assert(function(){return 0===e.pendingGeocodingCount},"requestContext.pendingGeocodingCount underflow"),V.context.geocodingActivity&&V.context.geocodingActivity.resolve(),V.container.onStopGeocoding())};return h.then(n,n),h}},i}()},577982:function(ze,K,r){r.d(K,{Hg:function(){return s},eI:function(){return V},oo:function(){return p},x_:function(){return i},yf:function(){return m}});var t=r(787941),c=r(926201);function i(v,e,h){return(0,c.x_)(v,e,h)}function s(v,e,h){var n=V(v);return(0,c.NM)(n,e,h)}function p(v){var e=v.publicCustomVisuals;return e||(v.publicCustomVisuals=e=[]),e}function V(v){var e=v.resourcePackages;return e||(v.resourcePackages=e=[]),e}function m(v,e,h){if(void 0===h&&(h=!1),!_.isEmpty(e)&&!_.isEmpty(v))for(var n=function(d){var b=(0,c.pd)(v,d.type,d.name);if(b){t.fF.assertValue(b.id,"ID should exist in new resource package"),t.fF.assert(function(){return 3!==d.type||d.id!==b.id},"Every time we save a resource package it's erased and re-added into the database, which means the ids must differ"),d.id=b.id;for(var f=function(E){var D=(0,c.NW)(b,E.name);D&&(t.fF.assertValue(D.id,"ID should exist in new resource package item"),t.fF.assert(function(){return 3!==d.type||E.id!==D.id},"Every time we save a resource package item it's erased and re-added into the database, which means the ids must differ"),E.id=D.id,h&&(E.path=D.path))},g=0,S=d.items;g<S.length;g++)f(S[g])}},o=0,u=e;o<u.length;o++)n(u[o])}},286972:function(ze,K,r){r.d(K,{$:function(){return o},v:function(){return e}});var t=r(226514),c=r(456535),i=r(474147),s=r(64681),p=r(787941),V=r(597098),m=r(324356);function e(a){p.fF.assertValue(a,"changes");for(var l=[],d=function(y){y.measureMove&&l.push(new o((0,s.dq)(y.measureMove))),y.entityRename&&l.push(new o((0,s.Db)(y.entityRename))),y.propertyRename&&l.push(new o((0,s.Tq)(y.propertyRename))),y.hierarchyLevelRename&&l.push(new o((0,s.Ui)(y.hierarchyLevelRename))),y.removeVariation&&l.push(new u(new n(y.removeVariation),y.removeVariation)),y.newMeasureCreated&&_.find(a,function(C){return C.itemDelete&&C.itemDelete.property===y.newMeasureCreated.name&&C.itemDelete.entity===y.newMeasureCreated.entity&&C.itemDelete.schema!==y.newMeasureCreated.schema})&&l.push(new o((0,s.if)(y.newMeasureCreated)))},b=0,f=a;b<f.length;b++)d(f[b]);return l}function h(a,l){p.fF.assertValue(a,"expr");var d=(0,V.Q)(a);return d.columnHierarchyLevelVariation&&d.columnHierarchyLevelVariation.source.entity===l.entity&&d.columnHierarchyLevelVariation.source.schema===l.schema&&d.columnHierarchyLevelVariation.source.name===l.property&&d.columnHierarchyLevelVariation.variationName===l.name}var n=function(a){function l(d){var b=this;return p.fF.assertValue(d,"change"),(b=a.call(this)||this).change=d,b}return(0,t.__extends)(l,a),l.prototype.visitHierarchyLevel=function(d){return h(d,this.change)?new m.Wh(new m.PN(this.change.schema,this.change.entity),this.change.property):d},l}(r(334048).b),o=function(){function a(l){this.exprRewriter=l}return a.prototype.rewriteQuery=function(l){var d=this,b=l.defn;b=b.rewrite(this.exprRewriter),l.defn=b,l.expansionStates=_.map(l.expansionStates,function(C){return C.rewrite(d.exprRewriter)});var f=l.getQueryFieldParameters();if(!_.isEmpty(f))for(var g=0,S=f;g<S.length;g++){var y=S[g];y.expr=y.expr.accept(this.exprRewriter)}return l},a.prototype.rewriteFilter=function(l){return l.rewrite(this.exprRewriter)},a.prototype.rewriteExpr=function(l){return l.accept(this.exprRewriter)},a}(),u=function(){function a(l,d){this.exprRewriter=l,this.change=d}return a.prototype.rewriteQuery=function(l){var d=this;this.removeDuplicateSQHierarchyLevelExpr(l);var b=l.defn;return b=b.rewrite(this.exprRewriter),l.defn=b,l.expansionStates=_.map(l.expansionStates,function(f){return f.rewrite(d.exprRewriter)}),l},a.prototype.rewriteFilter=function(l){return l.rewrite(this.exprRewriter)},a.prototype.rewriteExpr=function(l){return l.accept(this.exprRewriter)},a.prototype.removeDuplicateSQHierarchyLevelExpr=function(l){for(var d=l.defn.select(),b=0;b<d.length;){var f=d[b];if(b++,(0,c.ez)(f.expr)&&h(f.expr,this.change))for(;b<d.length&&(0,c.ez)(d[b].expr)&&(0,i.fS)(f.expr.arg,d[b].expr.arg);)l.removeExpr(d[b].expr,!1),b++}},a}()},899027:function(ze,K,r){function c(v,e){var h=[];if(!v||!v.visualContainers)return h;for(var n=0,o=v.visualContainers;n<o.length;n++)e.addScriptVisualInfo(o[n],h);return h}function i(v,e){var h={totalVisualsCount:0,info:[]};if(!v||!v.sections)return h;for(var n=0,o=v.sections;n<o.length;n++){var u=o[n];if(u.visualContainers){var a=c(u,e);h.info=h.info.concat(a),h.totalVisualsCount+=u.visualContainers.length}}return h}function s(v,e,h,n,o){var u=[];switch(v){case 0:if(!n)return u;o.addScriptVisualInfo(n,u);break;case 1:u=c(h,o);break;case 2:if(!e)return u;for(var a=0,l=e.sections;a<l.length;a++){var b=c(l[a],o);u=u.concat(b)}break;default:return u}return u}function p(v,e){for(var h=0,n=v;h<n.length;h++){var o=n[h];if(o&&o.config&&o.config.singleVisual){var u=o.config.singleVisual.visualType;if(u&&e.isScriptVisual(u))return!0}}return!1}function V(v){switch(v){case"scriptVisual":return 0;case"pythonVisual":return 1;default:return null}}r.d(K,{OV:function(){return p},R2:function(){return s},aG:function(){return c},kV:function(){return i},lX:function(){return V}})},285262:function(ze,K,r){r.d(K,{X:function(){return v},eN:function(){return s},gs:function(){return m},sk:function(){return p},x8:function(){return V}});var t=r(787941),c=r(273139),i=r(809395);function s(e){var h;return t.fF.assertValue(e,"section"),!(null===(h=e.dynamicConfig)||void 0===h||!h.quickExplore)}function p(e){return _.some(e,function(h){return s(h)})}function V(e){var h,n,o=null===(n=null===(h=null==e?void 0:e.dynamicConfig)||void 0===h?void 0:h.quickExplore)||void 0===n?void 0:n.layout;if(o){if(o.combination)return"Combination.".concat(o.combination.version);if(o.related)return"Related.".concat(o.related.version)}}function m(e,h){var n=_.flatMap(h,function(o){return o.visualContainerGroups});_.isEmpty(n)||(0,c.Iw)(e.visualContainerGroups,function(o){var u=(0,i.yZ)(n);o.name=u,n.push(o)})}function v(e){function h(o,u){var a,l=null!==(a=u.howCreated)&&void 0!==a?a:"Default";o[l]||(o[l]=0),o[l]++}return t.fF.assertValue(e,"sections"),function(){for(var o={},u=0,a=e;u<a.length;u++)h(o,a[u]);return o}()}},953016:function(ze,K,r){r.d(K,{W:function(){return c}});var t=r(456535),c=function(){function i(s){this.key=[],this.value=[],this.comparer=s}return i.prototype.add=function(s,p){this.key.push(s),this.value.push(p)},i.prototype.get=function(s){if((0,t.ez)(s))for(var p=0;p<this.key.length;p++)if(this.comparer(this.key[p],s))return this.value[p]},i}()},85091:function(ze,K,r){r.d(K,{DC:function(){return S},J_:function(){return f},Mi:function(){return g},TO:function(){return b},Xf:function(){return E},aS:function(){return l}});var t=r(616962),c=r(693825),i=r(787941),s=r(668268),p=r(967908),V=r(942983),m=r(272039),v=r(793688),e=r(89858),n="CY24SU02",o={CY17SU10:e.H3n.v3_6,CY17SU12:e.H3n.v3_7,CY18SU04:e.H3n.v3_12,CY18SU07:e.H3n.v3_15,CY19SU06:e.H3n.v5_3,CY19SU12:e.H3n.v5_6,CY20SU07:e.H3n.v5_13,CY20SU09:e.H3n.v5_15,CY21SU02:e.H3n.v5_18,CY21SU03:e.H3n.v5_19,CY21SU04:e.H3n.v5_20,CY21SU07:e.H3n.v5_24,CY21SU11:e.H3n.v5_27,CY22SU03:e.H3n.v5_30,CY22SU08:e.H3n.v5_35,CY22SU09:e.H3n.v5_37,CY22SU11:e.H3n.v5_40,CY23SU04:e.H3n.v5_43,CY23SU08:e.H3n.v5_47,CY23SU11:e.H3n.v5_49,CY24SU02:e.H3n.v5_51},l="Custom";function b(D){return i.fF.assertValue(D,"baseThemeName should exist to get its version"),o[D]||e.H3n.v3_6}function f(D){var P,M=null===(P=null==D?void 0:D.baseTheme)||void 0===P?void 0:P.name;if(null==M)return!1;var T=b(M),R=b(n);return(0,c.ge)(T,R)}function g(D,P,M){return(0,t.M)(D,P,M||v.t)}function S(D){return{name:D&&D.featureSwitches&&D.featureSwitches.useNewCY19SU06BaseTheme?n:"CY18SU07",version:v.t,type:2}}function E(D,P,M){var T=D.themeCollection,B=D.objects,N=P.getVisualObjects(T,V.rw,void 0,m.W);N&&(B=(0,s.d9)(B||{}),(0,s.l7)(B,N));var x=P.getVisualStyle(T),A=(0,p.G3)(B,m.W,x,M);D.evaluatedObjects=A.dataViewObjects}},501895:function(ze,K,r){r.d(K,{L7:function(){return d},OB:function(){return o},hQ:function(){return u},mZ:function(){return b}});var t=r(456535),c=r(474147),i=r(718301),s=r(345563),p=r(787941),V=r(690016),m=r(238435),v=r(474505),e=r(668268),h=r(324356),n=r(374952);function o(M,T,R,B,N){if(p.fF.assertAnyValue(T,"mappings"),p.fF.assertValue(R,"query"),p.fF.assertValue(B,"transformPluginService"),p.fF.assertValue(N,"visualCapabilities"),!M)return R;var x=[],A=N.objects,I=function(G){var te=A[G],Q=function(Y){if(te.properties[Y].type.queryTransform){var se=_.filter(M[G],function(ce){return function(M,T){if(!M.selector||!_.isString(M.selector.metadata))return!0;var R=T.projections;if(!R)return!1;for(var B in R){var N=R[B];if(N){var x=N.all();if(x)for(var A=0,I=x;A<I.length;A++)if(I[A].queryRef===M.selector.metadata)return!0}}return!1}(ce,R)});x.push.apply(x,_.map(se,function(ce){return{objectName:G,propertyName:Y,object:ce}}))}};for(var H in te.properties)Q(H)};for(var w in A)I(w);if(_.isEmpty(x))return R;for(var F=R.clone(),O=0,L=x;O<L.length;O++){var W=L[O],U=(0,e.NA)(M,{objectName:W.objectName,propertyName:W.propertyName},W.object.selector);if(U&&a(U.algorithm,T)){var j=B.getTransformPlugin(U.algorithm);F.addTransform(j,U.parameters,N)}}return F}function u(M,T,R){p.fF.assertValue(M,"transformPluginService"),p.fF.assertValue(T,"query"),p.fF.assertAnyValue(R,"compiledMappings");var B=T.defn.transforms();if(_.isEmpty(B))return T;for(var N=T.clone(),x=0,A=B;x<A.length;x++){var I=A[x];if(!a(I.algorithm,R)){var w=M.getTransformPlugin(I.algorithm);N.removeTransform(w,I.name)}}return N}function a(M,T){switch(M){case i.Gr.Forecast.name:return T.some(function(R){return(0,v.ZZ)(R)});case i.Gr.SampleAndDetectAnomaly.name:return T.some(function(R){return(0,v.VO)(R)});default:return!0}}function d(M,T,R,B,N,x,A){p.fF.assertValue(T,"query"),p.fF.assertAnyValue(B,"dataRoles"),p.fF.assertValue(N,"queryRefsByRole"),p.fF.assertAnyValue(x,"additionalProjections"),p.fF.assertValue(A,"compiledMappings");var I=T.transforms();if(_.isEmpty(I))return T;var w=T.select();if(_.isEmpty(w))return T;for(var F=function(M,T,R,B,N){p.fF.assertValue(M,"query"),p.fF.assertValue(T,"projections"),p.fF.assertAnyValue(R,"dataRoles"),p.fF.assertValue(B,"queryRefsByRole"),p.fF.assertAnyValue(N,"additionalProjections");for(var x=[],A=[],w=function(U){if((0,t.Im)(U.expr))return x.push(U),"continue";var j=Object.keys(B),z=_.filter(j,function(Y){return _.includes(B[Y],U.name)});if(!_.isEmpty(z)){for(var G=!1,te=0,Q=z;te<Q.length;te++){var H=Q[te];if(!T[H].activeProjectionRefs||_.includes(T[H].activeProjectionRefs,U.name)){x.push(U),G=!0;break}}return G||A.push(U),"continue"}if(!_.isEmpty(N)){var de=_.find(N,function(Y){return Y.queryName===U.name});de&&de.selector&&de.selector.data?x.push(U):A.push(U)}},F=0,O=M.select();F<O.length;F++)w(O[F]);return{transformSelects:x,topLevelSelects:A}}(T,R,B,N,x),O=F.transformSelects,L=F.topLevelSelects,W=[],U=0;U<I.length;U++){var j=I[U],z=M.getTransformPlugin(j.algorithm),G="input"+U,te="output"+U;j.input.parameters=P(j.input.parameters,A);var Q={algorithm:j.algorithm,name:j.name,input:{parameters:j.input.parameters,table:{name:G,columns:g(O,N,B,z,A)}},output:{table:{name:te,columns:y(O,G,R)}}};O=_.map(Q.output.table.columns,function(We){var je=(0,h.Oh)((0,h.GB)(te),We.expression.name);return{name:We.expression.name,expr:je}}),W.push(Q)}var Y,H=_.last(W),de=T.orderBy();H&&!_.isEmpty(de)&&(Y=_.map(de,function(We){var je=_.find(w,function(_e){return(0,c.fS)(_e.expr,We.expr)});p.fF.assertValue(je,"orderby clause not found in selects");var Ae=(0,h.Oh)((0,h.GB)(H.output.table.name),je.name);return{direction:We.direction,expr:Ae}}));var se=T.transforms(W);if(!_.isEmpty(L))for(var ce=function(je){var Ae=_.findIndex(w,function(_e){return _e.name===je.name});p.fF.assert(function(){return Ae>=0},"Should be able to find the select in topLevelSelects"),O.splice(Ae,0,je)},pe=0,ve=L;pe<ve.length;pe++)ce(ve[pe]);return se=se.select(O),Y&&(se=se.orderBy(Y)),se}function b(M,T){if(p.fF.assertValue(M,"query"),_.isEmpty(M.transforms())||_.isEmpty(M.select()))return M;var R=[];return _.map(M.select().slice(0,T),function(B){if((0,t.t3)(B.expr)&&(0,t.PA)(B.expr.source)){var N=B.expr.source.source,x=_.find(M.transforms(),function(I){var w;return(null===(w=I.output.table)||void 0===w?void 0:w.name)===N});if(x){var A=function(M,T){var R;p.fF.assertValue(M,"sqTransform"),p.fF.assertValue(M.output.table,"sqTransform.output.table"),p.fF.assertValue(T,"refToOutputColumn");var B=_.find(M.output.table.columns,function(A){return A.expression.name===T.ref});if(B){var N=B.expression.expr;if((0,t.t3)(N)){var x=_.find(null===(R=M.input.table)||void 0===R?void 0:R.columns,function(A){var I;return(null===(I=A.expression)||void 0===I?void 0:I.name)===N.ref});return null==x?void 0:x.expression.expr}}}(x,B.expr);A&&!(0,t.Im)(A)&&R.push({name:B.name,expr:A})}}else R.push(B)}),M.createModified({select:R,transforms:null})}function g(M,T,R,B,N){p.fF.assertValue(M,"selects"),p.fF.assertValue(T,"queryRefsByRole"),p.fF.assertAnyValue(R,"dataRoles"),p.fF.assertValue(B,"transformPlugin"),p.fF.assertValue(N,"compiledMappings");var x=_.filter(M,function(I){return!(0,t.Im)(I.expr)}),A=function(M){for(var T,R,B=0,N=M;B<N.length;B++){var x=N[B];if(x.categorical){var I=x.categorical.categories;_.isEmpty(I)||(0,m.Sr)(I,{visitRole:function(F){var O=_.find(F.items,function(L){var W;return null===(W=L.scalarKeyInfo)||void 0===W?void 0:W.scalarKeyMinProperty});O&&(T=F.role,R=O.scalarKeyInfo.scalarKeyQueryName)}})}if(T&&R)return{roleName:T,queryName:R}}}(N);return _.map(x,function(I){return function(M,T,R,B,N){var x=Object.keys(R),A=M.name===(null==T?void 0:T.queryName),I=A?T.roleName:_.find(x,function(O){return _.includes(R[O],M.name)}),w=_.find(B,function(O){return O.name===I});return{role:(null==T?null!=w:A||null!=I&&I!==T.roleName)?D(M.expr,N,w):void 0,expression:M}}(I,A,T,R,B)})}function y(M,T,R){p.fF.assertValue(M,"selects"),p.fF.assertValue(T,"inputTableName"),p.fF.assertValue(R,"projections");for(var B={},N=0,x=M;N<x.length;N++){var A=x[N];(0,t.Im)(A.expr)||(B[A.name]=!0)}return _.map(M,function(I){var w,F,O;if((0,t.Im)(I.expr)){var L=void 0;for(var W in R){var U=R[W].all();_.some(U,function(j){return j.queryRef===I.name})&&(L=W)}p.fF.assertValue(L,"should be able to find the role in projections"),w=L,F=I.expr,O=(0,V.zE)(B,I.name)}else F=(0,h.Oh)((0,h.GB)(T),I.name),O=I.name;return{role:w,expression:{name:O,expr:F}}})}function D(M,T,R){p.fF.assertValue(T,"transform"),p.fF.assertAnyValue(R,"visualDataRole");var B=_.find(T.inputRoles,function(N){p.fF.assertValue(N,"transform.inputRoles should not contain undefined/null roles");var x=N.visualDataRoleMatching;return!x||!(void 0!==x.cartesianKind&&x.cartesianKind!==R.cartesianKind||void 0!==x.matchGrouping&&x.matchGrouping===(0,n.k)(M)||void 0!==x.matchMeasure&&x.matchMeasure!==(0,n.k)(M)||x.skipJoinPredicateNone&&0===R.joinPredicate)});if(B)return B.name}function P(M,T){p.fF.assertValue(M,"parameters"),p.fF.assertValue(T,"compiledMappings");var R=_.find(T,function(x){return(0,v.VO)(x)});if(R){var B=R.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,N=s.oN;B&&!_.find(M,function(x){return x.name===N})&&M.push({name:N,expr:(0,h.cA)(B)})}return M}},57018:function(ze,K,r){r.d(K,{L:function(){return s}});var t=r(226514),c=r(324356),s=function(p){function V(m){var v=p.call(this)||this;return v.schema=m,v}return(0,t.__extends)(V,p),V.prototype.visitEntity=function(m){var v=this.getVariationMapping(m);return v?new c.PN(m.schema,v.sourceEntity.name):m},V.prototype.visitColumnRef=function(m){var v=m.source.accept(this);if(v!==m.source){var e=this.getVariationMapping(m.source);if(e){var h=_.find(e.variation.defaultHierarchy.levels,function(n){return n.column.name===m.ref});if(h)return new c.vD(new c.jE(new c.c7(v,e.variation.name,e.sourceProperty.name),e.variation.defaultHierarchy.name),h.name)}}return m},V.prototype.getVariationMapping=function(m){var v=this.schema.schema(m.schema).findVariationToHierarchyMappings(m.entity);if(v)return _.last(v)},V}(r(334048).b)},725311:function(ze,K,r){r.d(K,{MF:function(){return B},Me:function(){return S},Nu:function(){return N},Oe:function(){return g},SZ:function(){return x},V:function(){return f},Vd:function(){return b},YN:function(){return y},cf:function(){return T},sS:function(){return u},vw:function(){return I}});var t=r(226514),c=r(883863),i=r(787941),s=r(989516),p=r(668268),V=r(620108),m=r(19632),v=r(755397),e=r(799863),h=r(324356),n=r(60495),o=r(939141);function u(w,F){if(i.fF.assertAnyValue(w,"dataSelectors"),_.isEmpty(w))return w;var O=(0,c.UU)(w,function(L){return(0,s.yN)(L)?a(L,F):(0,s.QV)(L)?function(w,F){i.fF.assertValue(w,"scopeWildcard");var O=(0,c.UU)(w.exprs,function(L){return B(L,F)});return O!==w.exprs?(0,e.ms)(O):w}(L,F):(0,s.j9)(L)||(0,s.qm)(L)?L:(0,s.tQ)(L)?function(w,F){i.fF.assertValue(w,"scopeTotal");var O=(0,c.UU)(w.exprs,function(L){return B(L,F)});return O!==w.exprs?(0,v.ms)(O):w}(L,F):(i.fF.assertFail("Unknown selector type"),L)});return O}function a(w,F){i.fF.assertValue(w,"scopeIdentity");var O=B(w.expr,F);return O!==w.expr?(0,m.TZ)(O):w}function b(w,F){}function f(w,F){M(w,F)}function g(w,F){M(w,F)}function S(w,F,O){i.fF.assertValue(w,"objects"),i.fF.assertValue(F,"descriptors");var L=(0,V.MD)(F);if(L){var W=(0,p.ug)(w,L,null);if(W){var U=L.propertyName,j=W[U];if(j){for(var z=0,G=O;z<G.length;z++)j=G[z].rewriteFilter(j);W[U]=j}}}}function y(w,F,O){function L(G){var te=W(G.value);return{textStyle:G.textStyle,url:G.url,value:te,mentionEmail:G.mentionEmail}}function W(G){var te=G;return te instanceof h.Il&&(te=z(te,O)),te}function j(G){return{textRuns:_.map(G.textRuns,function(Q){return L(Q)})}}function z(G,te){i.fF.assertNonEmpty(te,"rewriters"),i.fF.assertValue(G,"rewriters");for(var Q=0,H=te;Q<H.length;Q++)G=H[Q].rewriteExpr(G);return G}w&&F&&!_.isEmpty(O)&&(0,p.rQ)(w,F,function(G,te,Q,H,de){var Y,se=de&&de.properties[te],ce=G[te];if(ce instanceof h.Il)for(var pe=0,ve=O;pe<ve.length;pe++)ce=(De=ve[pe]).rewriteExpr(ce);else if((0,p.er)(ce))for(var We=0,je=O;We<je.length;We++){var De=je[We];if(!_.isEmpty(null===(Y=ce.context)||void 0===Y?void 0:Y.filterContext))for(var Ae=0,_e=ce.context.filterContext;Ae<_e.length;Ae++){var le=_e[Ae];le.filter=De.rewriteFilter(le.filter)}ce.value=De.rewriteExpr(ce.value)}else{var Z=se.type;if(Z.fill&&Z.fill.solid&&Z.fill.solid.color){if(!(0,o.X2)(ce))return;var ie=ce.solid.color;if(!ie)return;var me=ie;(ie=z(ie,O))!==me&&(ce={solid:{color:ie}})}else if(Z.paragraphs){if(!(0,o.Fq)(ce)||!function(w,F){for(var O=0,L=w;O<L.length;O++)for(var j=0,z=L[O].textRuns;j<z.length;j++){var G=z[j];if((0,n.IM)(G)){if(E(G.value,F))return!0}else if((0,n.Kt)(G)){for(var te=0,Q=G.cases;te<Q.length;te++)if(D(Q[te],F))return!0;if(P(G.defaultCase,F)||E(G.expression,F))return!0}else i.fF.assertNever(G)}return!1}(ce,O))return;ce=_.map(ce,function(Se){return{horizontalTextAlignment:Se.horizontalTextAlignment,textRuns:_.map(Se.textRuns,function(Be){if((0,n.IM)(Be))return L(Be);if((0,n.Kt)(Be)){var Ke=_.map(Be.cases,function(it){return function(G){var te=G.pattern;return te instanceof h.Il&&(te=z(te,O)),(0,t.__assign)({pattern:te},j(G))}(it)});return{cases:Ke,defaultCase:j(Be.defaultCase),expression:W(Be.expression)}}i.fF.assertNever(Be)})}})}else if(Z.icon){if(!(0,o.r)(ce))return;var ye={kind:"Icon",value:ce.value?z(ce.value,O):ce.value,layout:ce.layout?z(ce.layout,O):ce.layout,verticalAlignment:ce.verticalAlignment?z(ce.verticalAlignment,O):ce.verticalAlignment};(ce.value!==ye.value||ce.layout!==ye.layout||ce.layout!==ye.layout)&&(ce=ye)}else if(Z.errorRange){if(!(0,o.ZG)(ce))return;var oe={kind:"ErrorRange"};if(ce.explicit){var ue=oe.explicit={isRelative:z((X=ce.explicit).isRelative,O)};X.lowerBound&&(ue.lowerBound=z(X.lowerBound,O)),X.upperBound&&(ue.upperBound=z(X.upperBound,O))}else if(ce.symmetricalExplicit)oe.symmetricalExplicit={delta:z(ce.symmetricalExplicit.delta,O)};else if(ce.standardDeviation)oe.standardDeviation={value:z((X=ce.standardDeviation).value,O),multiplier:z(X.multiplier,O)};else if(ce.percentage)oe.percentage={lowerBoundDelta:z((X=ce.percentage).lowerBoundDelta,O),upperBoundDelta:z(X.upperBoundDelta,O)};else if(ce.percentile){var X;oe.percentile={lowerBound:z((X=ce.percentile).lowerBound,O),upperBound:z(X.upperBound,O)}}ce=oe}}G[te]=ce})}function E(w,F){if(w instanceof h.Il)for(var O=w,L=0,W=F;L<W.length;L++)if((O=W[L].rewriteExpr(O))!==w)return!0}function D(w,F){if(P(w,F)||E(w.pattern,F))return!0}function P(w,F){for(var O=0,L=w.textRuns;O<L.length;O++)if(E(L[O].value,F))return!0}function M(w,F){var O=w.expression,L=w.filter,W=w.cachedValueItems;O&&(w.expression=B(O,F)),L&&(w.filter=function(w,F){return _.reduce(F,function(O,L){return L.rewriteFilter(O)},w)}(L,F)),W&&T(W,F)}function T(w,F){for(var O=0,L=w;O<L.length;O++){var W=L[O],U=a(W.identity,F);U!==W.identity&&(W.identity=U)}}function B(w,F){return _.reduce(F,function(O,L){return L.rewriteExpr(O)},w)}function N(w,F){var O=w.fieldExpr;i.fF.assertValue(O,"link field expression should always exist"),w.fieldExpr=B(O,F)}function x(w,F){if(!_.isEmpty(w.parameters))for(var O=0,L=w.parameters;O<L.length;O++){var W=L[O];W.fieldExpr&&(W.fieldExpr=B(W.fieldExpr,F))}}function I(w,F){w.expressions=(0,c.UU)(w.expressions,function(O){return B(O,F)}),w.cachedValueItems&&function(w,F){for(var O=0,L=w;O<L.length;O++){var W=L[O];W.identities=(0,c.UU)(W.identities,function(U){return a(U,F)})}}(w.cachedValueItems,F)}},771354:function(ze,K,r){r.d(K,{A:function(){return V}});var t=r(226514),c=r(883863),i=r(787941),s=r(725311),V=function(m){function v(e){var h=m.call(this)||this;return h.rewriters=e,i.fF.assertValue(e,"rewriters"),h}return(0,t.__extends)(v,m),v.prototype.visitActiveProjectionStates=function(e){var h=this;_.forOwn(e,function(n,o){var u=n.map(function(a){return(0,s.MF)(a,h.rewriters)});e[o]=u})},v.prototype.visitFilterContainer=function(e){(0,s.Oe)(e,this.rewriters)},v.prototype.visitDataViewObjectDefinitionUpdates=function(e,h){var n=e.merge;n&&((0,s.Me)(n,h,this.rewriters),(0,s.YN)(n,h,this.rewriters))},v.prototype.visitOrderByStates=function(e){for(var h=0,n=e;h<n.length;h++){var o=n[h];o.expr=(0,s.MF)(o.expr,this.rewriters)}},v.prototype.visitSelector=function(e){var h=(0,s.sS)(e.data,this.rewriters);h!==e.data&&(e.data=h)},v.prototype.visitSelectorsByColumn=function(e){var h=this,n=(0,c.X_)(e.dataMap,function(o,u){return(0,s.sS)(u,h.rewriters)});n!==e.dataMap&&(e.dataMap=n)},v.prototype.visitFilterExpressionMetadata=function(e){(0,s.vw)(e,this.rewriters)},v}(function(){function m(){}return m.prototype.visitActiveProjectionStates=function(v){},m.prototype.visitDataViewObjectDefinitionUpdates=function(v,e){},m.prototype.visitFilterContainer=function(v){},m.prototype.visitOrderByStates=function(v){},m.prototype.visitSelector=function(v){},m.prototype.visitSelectorsByColumn=function(v){},m.prototype.visitSingleVisualState=function(v){},m.prototype.visitVisualContainerState=function(v){},m.prototype.visitFilterExpressionMetadata=function(v){},m}())},809395:function(ze,K,r){r.d(K,{$Z:function(){return Se},A8:function(){return jt},AS:function(){return de},As:function(){return Be},DB:function(){return Kr},Dl:function(){return mt},EL:function(){return Yt},Fk:function(){return Ut},GQ:function(){return X},Hf:function(){return W},Hr:function(){return Z},II:function(){return pe},J6:function(){return oe},L2:function(){return Ve},LW:function(){return ht},M2:function(){return et},Mo:function(){return Me},NY:function(){return It},O$:function(){return Re},OQ:function(){return Ce},P4:function(){return ne},PQ:function(){return ce},PY:function(){return H},Pb:function(){return J},Pu:function(){return Je},QG:function(){return Zt},Qg:function(){return ue},Rr:function(){return Ne},S5:function(){return xe},VH:function(){return ft},X:function(){return at},Xf:function(){return se},Z2:function(){return ct},Z6:function(){return re},ZB:function(){return Fe},Zq:function(){return z},_9:function(){return Kt},_L:function(){return Xe},a8:function(){return dr},cj:function(){return je},d$:function(){return Ae},dw:function(){return zr},e4:function(){return be},gj:function(){return Br},h4:function(){return Bt},hP:function(){return fe},hp:function(){return Mt},hs:function(){return Y},i1:function(){return _r},i4:function(){return ar},iv:function(){return ee},jW:function(){return or},kK:function(){return Ie},kT:function(){return Nt},lX:function(){return Tt},lt:function(){return Rr},o3:function(){return Xt},o8:function(){return Q},oE:function(){return We},oJ:function(){return ve},oU:function(){return Pr},pf:function(){return Ur},ps:function(){return me},qd:function(){return tt},ql:function(){return hr},r:function(){return He},rC:function(){return Et},s9:function(){return ot},tL:function(){return k},uQ:function(){return _e},uo:function(){return Ct},uy:function(){return gr},uz:function(){return G},vr:function(){return he},vz:function(){return Ge},ww:function(){return ye},x3:function(){return ie},y3:function(){return le},y9:function(){return Te},yZ:function(){return we}});var t=r(226514),c=r(415859),i=r(95788),s=r(267698),p=r(972817),V=r(535909),m=r(358724),v=r(664723),e=r(744883),h=r(943079),n=r(883863),o=r(629925),u=r(787941),a=r(14253),l=r(826691),d=r(520907),b=r(145315),f=r(524878),g=r(927928),S=r(283427),y=r(668268),C=r(967908),E=r(983172),D=r(160046),P=r(859541),M=r(273139),T=r(1745),R=r(608794),B=r(35801),N=r(971028),x=r(456535),A=r(374952),I=r(600348),w=r(740390),O="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",W="largeTitle",z="lightLabel",G="foreground",te=d.FP.toPoint(12),Q={size:e.B.createFromPt(te),family:O,color:"#C8C8C8"},H=D.wv,de=D.k8,Y=function(st){return st[st.Title=0]="Title",st[st.SubTitle=1]="SubTitle",st[st.Divider=2]="Divider",st}({});function se(st){return st&&st.config&&st.config.singleVisual?st.config.singleVisual.query:null}function ce(st){return st&&st.config&&st.config.singleVisual}function pe(st){var lt,ut;return null===(ut=null===(lt=null==st?void 0:st.config)||void 0===lt?void 0:lt.singleVisual)||void 0===ut?void 0:ut.autoSelectVisualType}function ve(st){var lt=null==st?void 0:st.config;if(lt){var ut=lt.singleVisual;if(ut&&ut.query)return ut.query.defn.select()}}function De(st,lt){if(st&&lt){var ut=lt.getPlugin(st);if(ut)return ut.capabilities}}function We(st,lt){return De(st&&st.config&&st.config.singleVisual?st.config.singleVisual.visualType:null,lt)}function je(st,lt){return De((0,B.s)(st),lt)}function Ae(st,lt){var ut=je(st,lt);if(ut&&!_.isEmpty(ut.dataRoles))return ut.dataRoles}function _e(st,lt,ut){if(st)return ut||"UserAction_ChangeModel"===lt||"UserAction_Refresh"===lt?g.P.BypassCache:g.P.Default}function le(st,lt){return(0,w.p)(st.config.singleVisual.query,lt)}function Z(st){if(st.config&&st.config.singleVisual){var lt=st.config.singleVisual;lt&&lt.query&&lt.query.hasShowAll()&&(lt.queryOptions=lt.queryOptions||{},lt.queryOptions.keepProjectionOrder=!0)}}function ie(st){if(st){var lt=st.capabilities;if(lt&&!_.isEmpty(lt.dataRoles))return lt.dataRoles}}function me(st,lt,ut){var yt=je(st,lt);if(yt){var Ft=se(st);if(Ft)return(0,R.F)().create(yt,ut,Ft.isDrillDisabled).getNumberRangesForRoles(Ft)}}function ye(st,lt){var ut=(0,B.s)(st);return lt&&lt.isScriptVisual(ut)}function oe(st){var lt;if([I.D.lineChart,I.D.areaChart,I.D.stackedAreaChart,I.D.hundredPercentStackedAreaChart,I.D.barChart,I.D.clusteredBarChart,I.D.hundredPercentStackedBarChart,I.D.columnChart,I.D.clusteredColumnChart,I.D.hundredPercentStackedColumnChart,I.D.lineClusteredColumnComboChart,I.D.lineStackedColumnComboChart].indexOf(st.visualType)>=0){var yt=null===(lt=st.query)||void 0===lt?void 0:lt.projections;if(yt&&yt[v.x.rows]&&yt[v.x.rows].all().length>0)return!0}return!1}function X(st){var lt,ut;return null===(ut=null===(lt=st.config)||void 0===lt?void 0:lt.singleVisual)||void 0===ut?void 0:ut.objects}function ue(st){return st.config&&st.config.singleVisual&&st.config.singleVisual.vcObjects}function Se(st,lt,ut){var Lt=st.config.singleVisual.query.projections[lt].all()[ut];return u.fF.assertValue(Lt,"items[projectionIndex]"),Lt.queryRef}function Be(st,lt,ut,yt,Ft,Lt,kt){if(ut){var Gt=ut.defn.select(),er=ut.projections,sr=[],tr=[],nr=_r(ut),Dt=(0,S.Lo)(ut.projections,Ft.dataViewMappings,nr,Lt).supportedMappings;if(Dt){for(var nt=0,ae=Dt;nt<ae.length;nt++){var Qe=Dt.length>1?Ze(ae[nt]):null,dt=[];for(var Pt in er)if(null==Qe||_.includes(Qe,Pt))for(var Qt=er[Pt],ir=0,yr=Qt.all();ir<yr.length;ir++){var ur=yr[ir],wr=(0,n.g2)(Gt,ur.queryRef);if(-1!==wr){var Er=Gt[wr];if(!(0,x.Im)(Er.expr)){var Ar=Er.expr.getMetadata(lt,E.m.buildExprEvaluationContext(ut.defn.from()));u.fF.assertValue(Ar,"exprMetadata");var Lr={Restatement:st.getDisplayName(Er.expr,lt,Ft,Er.name,yt),Name:ur.queryRef,Type:qe(Ar.type)},$e=E.m.getKpiMetadata(Er.expr,lt);$e&&(Lr.kpi=$e);var gt=ur.format||Ar.format;gt&&(Lr.Format=gt);var Ue=it(Ar.type);Ue&&(Lr.DataCategory=Ue),sr[wr]=Lr,dt.push({Name:Pt,Projection:wr,isActive:_.includes(Qt.activeProjectionRefs,ur.queryRef)})}}}tr.push({DataRoles:dt})}return{queryMetadata:{Select:sr,Filters:kt},visualElements:tr}}}}function Ke(st,lt){if(st.role)lt.push(st.role);else if(st.bind)st.bind.to&&lt.push(st.bind.to);else if(st.for)st.for.in&&lt.push(st.for.in);else{var Lt=st;if(Lt.group){if(Lt.group.by&&lt.push(Lt.group.by),Lt.group.select)for(var kt=0,Gt=Lt.group.select;kt<Gt.length;kt++)Ke(Gt[kt],lt)}else if(st.composite)for(var tr=0,nr=st.composite;tr<nr.length;tr++)Ke(nr[tr],lt);else if(st.select)for(var nt=0,ae=st.select;nt<ae.length;nt++)Ke(ae[nt],lt)}}function Ze(st){var lt=[];return st&&(st.categorical&&(st.categorical.categories&&Ke(st.categorical.categories,lt),st.categorical.values&&Ke(st.categorical.values,lt)),st.table&&st.table.rows&&Ke(st.table.rows,lt),st.single&&Ke(st.single,lt),st.tree&&(st.tree.nodes&&Ke(st.tree.nodes,lt),st.tree.values&&Ke(st.tree.values,lt)),st.matrix&&(st.matrix.columns&&Ke(st.matrix.columns,lt),st.matrix.rows&&Ke(st.matrix.rows,lt),st.matrix.values&&Ke(st.matrix.values,lt))),_.uniq(lt)}function qe(st){switch(u.fF.assertValue(st,"type"),st.extendedType){case 66048:return 67;case 131584:return 35}switch(st.primitiveType){case 1:return 2048;case 2:case 3:return 1;case 4:return 3;case 5:return 4096;case 6:return 20;case 7:return 4;case 9:return 8}}function it(st){return u.fF.assertValue(st,"type"),(0,f.Wt)(st.categoryString)}function be(st,lt){if(st&&st.config&&st.config.singleVisual&&st.config.singleVisual.query&&st.config.singleVisual.query.defn){var ut=st.config.singleVisual.query.projections,yt=st.config.singleVisual.query.defn.select();if(ut&&yt.length>0)for(var Ft in ut)for(var kt=0,Gt=ut[Ft].all();kt<Gt.length;kt++){var sr=(0,n.rC)(yt,Gt[kt].queryRef);if(sr){var nr=sr.expr.getMetadata(lt);if(nr&&0===nr.kind&&null==nr.aggregate)return!0}}return!1}}function Fe(st){return st.some(function(lt){return ee(lt)||k(lt)})}function ee(st){var lt=ve(st);return _.some(lt,function(ut){return(0,x.jX)(ut.expr)})}function k(st){var lt=se(st);return null!=lt&&lt.hasHiddenProjections()}function Ce(st){return function(lt){return st===lt}}function J(st){return function(lt){return st!==lt}}function re(st,lt,ut,yt,Ft){return function(Lt){return st===Lt||3!==(ut&&ut.relationshipFilterAction(lt,st,Lt,yt,Ft))}}function Ie(st,lt){st.publishToChannel(T.$cv,{affectContainer:function(yt){return yt===lt}})}function ot(st,lt,ut,yt,Ft,Lt,kt,Gt,er){if(u.fF.assertAnyValue(ut,"dataAsObject"),Lt){var tr,sr=st.capabilities(Lt.visualType);if(sr){var nr=Be(lt,Ft,Lt.query,Lt.columnProperties,sr,kt,Gt);if(nr){var Dr=(0,c.xF)(Lt.objects,sr.objects,kt.serializeSpaceOptimization,!1);(tr=yt.transforms&&sr&&sr.objects?i.F.serializeDataViewTransformActions(yt.transforms,sr.objects):{objects:Dr}).objects=tr.objects||Dr,tr.visualElements=nr.visualElements,tr.queryMetadata=nr.queryMetadata}}return{queryObject:yt.options.query.command,dataObject:ut,transformsObject:tr,dataUpdatedTime:er}}}function we(st){u.fF.assertValue(st,"visualContainerGroups");var lt={};return(0,M.Iw)(st,function(ut){u.fF.assertValue(ut.name,"visualContainer.name"),lt[ut.name]=!0}),he(lt)}function he(st){return u.fF.assertValue(st,"existingNames"),V.q.generateUniqueId(st)}function Te(st){var lt=[];return(0,M.Iw)(st,function(ut){(0,M.q4)(ut)&&lt.push(ut)}),lt}function Je(st){return(0,D.xj)(st.config.singleVisual)||function(st){for(var lt=st.parentGroup;lt;){if((0,P.xj)(lt))return!0;lt=lt.parentGroup}return!1}(st)}function fe(st,lt,ut){void 0===lt&&(lt=0);var yt=_.cloneDeep(st),Ft=ut;if(1===lt)return yt;for(;Ft;){if(!Ft.layouts.withId(lt))return u.fF.assertFail("must provide a layout for groups for layout".concat(lt)),yt;var Lt=Ft.layouts.withId(lt).position;yt.x+=Lt.x,yt.y+=Lt.y,Ft=Ft.parentGroup}return yt}function ne(st,lt,ut){void 0===ut&&(ut=0);for(var yt=_.cloneDeep(st),Ft=lt.parentGroup;Ft;){var Lt=Ft.layouts.withId(ut).position;yt.x-=Lt.x,yt.y-=Lt.y,Ft=Ft.parentGroup}return yt}function Ne(st,lt,ut,yt,Ft){st.publishToChannel(T.jCS,{affectContainer:function(kt){return kt!==lt},sourceLabelKey:ut,parentActivity:yt,parentContextActivity:Ft})}function et(st,lt,ut,yt,Ft){_.isEmpty(lt)||st.publishToChannel(T.jCS,{affectContainer:function(kt){return _.includes(lt,kt)},sourceLabelKey:ut,parentActivity:yt,parentContextActivity:Ft})}function tt(st,lt){return st.createActivity({name:"Cross Highlight",operationType:lt})}function xe(st){return st.createActivity({name:"Change Slicer"})}function Ve(st){return _.some(st,function(lt){return lt.dsr&&lt.dsr.vsName===m.ly2})}function at(st){var lt=function(st){return st&&null!=st.size?d.FP.fromPoint(st.size.pt):d.FP.toString(12)}(st);return a.b.estimateSvgTextHeight({fontFamily:st&&st.family||O,fontSize:lt})}function ft(st,lt,ut,yt,Ft,Lt,kt){var Gt=ut.config.singleVisual.visualType,er=ut.config.singleVisual.vcObjects,sr=(0,y.NA)(er,{objectName:"stylePreset",propertyName:"name"},void 0),tr=lt.getVisualObjects(st,Gt,sr&&(0,x.VC)(sr)&&sr.value,D.XW);tr&&(er=(0,y.d9)(er||{}),(0,y.l7)(er,tr,!0));var nr=lt.getVisualStyle(st);return(0,C.G3)(er,D.XW,nr,yt,Ft,Lt,kt)}function ht(st,lt){lt.toggleClass("showHover",st)}function Ge(st,lt,ut){ut.publishToChannel(st?s.t1:s.i5,{containerName:lt})}function Re(st,lt,ut,yt,Ft){var Lt={};return Lt[o.mA]=lt||"",Lt[o.zo]=yt||"",Lt[o.wu]=ut||"",Lt[o.CB]=st||"",Lt[o.rb]=Ft||"",Lt}function Xe(st,lt){var ut={};return ut[o.py]=null!=lt?"scale("+lt+")":"scale(1)",ut[o.kP]=st.width,ut[o.ei]=st.height,ut}function Me(st){if(st&&st.show){var lt=(0,h.O4)();return(st.transparency||0===st.transparency)&&(lt.transparency=st.transparency),st.color&&st.color.solid.color&&(lt.color=st.color),(0,p.Et)(lt.color.solid.color,(100-lt.transparency)/100)}}function He(st,lt){return{show:st?st.show:lt.show,color:st&&st.color&&st.color.solid&&st.color.solid.color?st.color:lt.color,radius:st&&st.radius||lt.radius}}function ct(st,lt){return{show:st?st.show:lt.show,preset:st&&st.preset?st.preset:lt.preset,position:st&&st.position?st.position:lt.position,color:st&&st.color&&st.color.solid&&st.color.solid.color?st.color:lt.color,transparency:st&&void 0!==st.transparency?st.transparency:lt.transparency,shadowBlur:st&&void 0!==st.shadowBlur?st.shadowBlur:lt.shadowBlur,shadowSpread:st&&void 0!==st.shadowSpread?st.shadowSpread:lt.shadowSpread,angle:st&&void 0!==st.angle?st.angle:lt.angle,shadowDistance:st&&void 0!==st.shadowDistance?st.shadowDistance:lt.shadowDistance}}function Mt(st,lt,ut){var yt,Ft,Lt,kt;void 0===ut&&(ut=!1);var Gt=null!=lt&&lt.suppressDefaultPadding?0:5;return{top:null!==(yt=(st=st||{}).top)&&void 0!==yt?yt:ut?0:Gt,bottom:null!==(Ft=st.bottom)&&void 0!==Ft?Ft:Gt,left:null!==(Lt=st.left)&&void 0!==Lt?Lt:Gt,right:null!==(kt=st.right)&&void 0!==kt?kt:Gt}}function It(st,lt,ut){return _.isEmpty(lt)&&ut&&((isNaN(ut)||ut<0)&&(ut=0),0!==ut)?{left:st.left+ut,right:st.right+ut,top:st.top+ut,bottom:st.bottom+ut}:st}function Bt(st,lt){var ut;if(null==lt||!lt.customizeSpacing)return null!==(ut=null==lt?void 0:lt.verticalSpacing)&&void 0!==ut?ut:5;switch(st){case Y.Title:return void 0!==(null==lt?void 0:lt.verticalSpacing)&&void 0===(null==lt?void 0:lt.spaceBelowTitle)?null==lt?void 0:lt.verticalSpacing:void 0!==(null==lt?void 0:lt.spaceBelowTitle)?null==lt?void 0:lt.spaceBelowTitle:5;case Y.SubTitle:return void 0!==(null==lt?void 0:lt.verticalSpacing)&&void 0===(null==lt?void 0:lt.spaceBelowSubTitle)?lt.verticalSpacing:void 0!==(null==lt?void 0:lt.spaceBelowSubTitle)?lt.spaceBelowSubTitle:5;case Y.Divider:return void 0!==(null==lt?void 0:lt.verticalSpacing)&&void 0===(null==lt?void 0:lt.spaceBelowTitleArea)?null==lt?void 0:lt.verticalSpacing:void 0!==(null==lt?void 0:lt.spaceBelowTitleArea)?null==lt?void 0:lt.spaceBelowTitleArea:5;default:return u.fF.assertNever(st),5}}function jt(st){return null!=st&&null!=st.metadata&&null!=st.metadata.segment}function Kt(st){if(st&&st.defn){var lt=st.defn.groupBy();return!_.isEmpty(lt)}return!1}function Yt(st){return Kt(se(st))}function Zt(st,lt,ut){var yt=Ae(st,lt),Ft=se(st);if(Ft&&!_.isEmpty(yt)){var kt=Ft.tryGetExprs(yt[0].name);return!_.isEmpty(kt)&&!_.some(kt,function(Gt){var er=Gt.getMetadata(ut);if(er)return!er.type.text})}}function or(st,lt,ut){var yt=function(st,lt){var ut=se(st);if(ut){var yt=je(st,lt);if(yt&&yt.filterMappings&&yt.filterMappings.measureFilter&&yt.filterMappings.measureFilter.targetRoles){for(var Ft=yt.filterMappings.measureFilter.targetRoles,Lt=_.chain(yt.dataRoles).filter(function(nr){return nr.kind===b.DW.Grouping}).map(function(nr){return nr.name}).difference(Ft).value(),kt=[],Gt=0,er=Lt;Gt<er.length;Gt++){var sr=er[Gt];ut.projections[sr]&&kt.push.apply(kt,ut.projections[sr].all())}var tr=ve(st);if(!_.isEmpty(kt))return _.chain(tr).filter(function(nr){return _.some(kt,function(Dr){return Dr.queryRef===nr.name})}).map(function(nr){return nr.expr}).value()}}}(st,ut);if(_.isEmpty(yt))return!1;for(var Ft=0,Lt=yt;Ft<Lt.length;Ft++)if(1===E.m.getAggregateBehavior(Lt[Ft],lt))return!0;return!1}function _r(st){for(var lt={},yt=0,Ft=st.defn.select();yt<Ft.length;yt++){var kt,Lt=Ft[yt];kt=(0,A.k)(Lt.expr)?b.DW.Measure:b.DW.Grouping,lt[Lt.name]=kt}return lt}function Pr(st){u.fF.assertValue(st,"exploration");for(var lt=0,ut=st.sections;lt<ut.length;lt++)mt(ut[lt])}function mt(st){u.fF.assertValue(st,"section");for(var lt=0,ut=st.visualContainers;lt<ut.length;lt++){var yt=ut[lt];delete yt.cachedData,yt.disableCacheOnServerForInitialLoad=!0}}function Xt(st){function lt(yt,Ft){var Lt,kt=null!==(Lt=Ft.howCreated)&&void 0!==Lt?Lt:"Default";yt[kt]||(yt[kt]=0),yt[kt]++}return u.fF.assertValue(st,"section"),function(){for(var yt=st&&st.visualContainers||[],Ft={},Lt=0,kt=yt=_.reject(yt,function(er){return(0,D.xj)(er.config.singleVisual)});Lt<kt.length;Lt++)lt(Ft,kt[Lt]);return Ft}()}function dr(st){function lt(Ft,Lt){var kt=Lt.config.singleVisual.visualType;Ft[kt]||(Ft[kt]=0),Ft[kt]++}function ut(){for(var Ft=st&&st.visualContainers||[],Lt={},kt=0,Gt=Ft=_.reject(Ft,function(sr){return(0,D.xj)(sr.config.singleVisual)});kt<Gt.length;kt++)lt(Lt,Gt[kt]);return Lt}u.fF.assertValue(st,"section");try{return function(){if(_.isEmpty(st&&st.visualContainerGroups))return ut();var Lt={},kt={__hidden:Lt};return(0,M.Iw)(st.visualContainerGroups,function(Gt,er){(0,M.Vz)(Gt)&&lt(er?Lt:kt,Gt)}),kt}()}catch(Ft){return l.f.error("Error getting visuals from groups ".concat(Ft&&Ft.message,": ").concat(Ft&&Ft.stack)),ut()}}function ar(st,lt,ut,yt,Ft){if(void 0===Ft&&(Ft=!1),(0,N.zr)(st,lt)){var Gt=(0,N.Xz)(st,lt),er=ve(st);if(Gt||(er=_.filter(er,function(tr){return!(0,A.k)(tr.expr)})),er=_.filter(er,function(tr){return!(0,x.jX)(tr.expr)}))return _.chain(er).map(function(tr){return tr.expr}).filter(function(tr){return E.m.isExprValidForFiltering(tr)&&_.isEmpty(tr.validate(ut,yt))}).map(function(tr){return{name:void 0,expression:nr=tr,expanded:!1,howCreated:0,type:(0,N.NV)(nr,ut,0),isHiddenInViewMode:Ft};var nr}).value()}}function gr(st,lt,ut,yt){var Ft=ut.getDrillCrossFiltersToApply(st,lt,yt);return _.map(Ft,function(kt){return{name:void 0,type:(Gt=kt).type,filter:Gt.filter,expression:Gt.expression,expanded:!1,howCreated:6,precedence:Gt.precedence};var Gt})}function Br(st){var lt,ut=st.resourcePackages,yt=null!==(lt=st.publicCustomVisuals)&&void 0!==lt?lt:[];if(!ut&&0===yt.length)return!1;for(var Ft=0,Lt=st.sections;Ft<Lt.length;Ft++){var kt=Lt[Ft];if(kt.visualContainers)for(var er=function(nt){if(nt.config&&nt.config.singleVisual&&nt.config.singleVisual.visualType){var ae=nt.config.singleVisual.visualType;if(_(ut).find(function(q){return q.name===ae}))return{value:!0};if(_(yt).includes(ae))return{value:!0}}},sr=0,tr=kt.visualContainers;sr<tr.length;sr++){var Dr=er(tr[sr]);if("object"==typeof Dr)return Dr.value}}return!1}function Kr(st,lt){var ut={usingImprovedFilterExperience:!0,viewMode:0===lt},yt=function(st){var lt=st.objects;if(lt&&lt.outspacePane){var ut=(0,y.NA)(lt,{objectName:"outspacePane",propertyName:"expanded"},null);return ut&&ut.value}}(st);_.isUndefined(yt)||(ut.isOutspacePaneExpanded=yt);var Ft=function(st){var lt=st.objects;if(lt&&lt.outspacePane){var ut=(0,y.NA)(lt,{objectName:"outspacePane",propertyName:"visible"},null);return ut&&ut.value}}(st);return _.isUndefined(Ft)||(ut.isOutspacePaneVisible=Ft),ut}function zr(st,lt){return st.id&&!lt}function Ur(st){return st?3:1}function hr(st,lt,ut){var yt;lt&&(yt=lt.createChildActivity(st));var Ft=ut();return yt&&yt.resolve(),Ft}function Rr(st,lt,ut){return(0,t.__awaiter)(this,void 0,void 0,function(){var yt,Ft;return(0,t.__generator)(this,function(Lt){switch(Lt.label){case 0:return lt&&(yt=lt.createChildActivity(st)),[4,ut()];case 1:return Ft=Lt.sent(),yt&&yt.resolve(),[2,Ft]}})})}function Tt(st){var lt=ce(st);return lt&&lt.columnProperties}function Ut(st){if(_.isEmpty(st))return!1;for(var lt=0,ut=st;lt<ut.length;lt++){var yt=ut[lt];if((0,M.Vz)(yt)){var Ft=Tt(yt);if(Ft)for(var Lt in Ft)if(Ft[Lt].displayName)return!0}}return!1}function Et(st,lt){var ut=(0,B.s)(lt);return st.isQnaVisual(ut)||st.isQueryVisual(ut)}function Ct(st,lt){var ut;return(0,t.__awaiter)(this,void 0,void 0,function(){var yt,Ft,Lt,kt;return(0,t.__generator)(this,function(Gt){switch(Gt.label){case 0:return yt=ce(st),Ft=lt.dataSources.get(),[4,lt.conceptualSchemaProxy.get(Ft)];case 1:return Lt=Gt.sent(),kt=je(st,lt.visualPlugin),[2,null===(ut=lt.displayNameService.getVisualTitle(yt,Lt,kt,void 0,void 0,!0))||void 0===ut?void 0:ut.text]}})})}function Nt(st,lt){return{visual:{objects:st.objects,descriptors:lt.objects},visualContainer:{objects:st.vcObjects,descriptors:D.XW}}}},35801:function(ze,K,r){r.d(K,{s:function(){return i}});var t=r(942983),c=r(273139);function i(s){if(s){if((0,c.q4)(s))return t.SY;if(s.config&&s.config.singleVisual)return s.config.singleVisual.visualType}}},225304:function(ze,K,r){r.d(K,{b:function(){return p}});var t=r(226514),c=r(787941),i=r(725311),p=function(V){function m(v){var e=V.call(this)||this;return e.rewriters=v,c.fF.assertValue(v,"rewriters"),e}return(0,t.__extends)(m,V),m.prototype.visitSingleVisualConfig=function(v){v.cachedFilterDisplayItems&&(0,i.cf)(v.cachedFilterDisplayItems,this.rewriters)},m.prototype.visitQuery=function(v){if(c.fF.assertValue(v,"query"),v.defn)for(var n=0,o=this.rewriters;n<o.length;n++)v=o[n].rewriteQuery(v)},m.prototype.visitDataViewObjects=function(v,e){(0,i.Me)(v,e,this.rewriters),(0,i.YN)(v,e,this.rewriters)},m.prototype.visitFilterContainer=function(v){c.fF.assertValue(v,"filter"),(0,i.V)(v,this.rewriters)},m.prototype.visitVisualLinks=function(v){c.fF.assertValue(v,"visualLink");for(var e=0,h=v;e<h.length;e++)(0,i.Vd)(h[e],this.rewriters)},m.prototype.visitSelector=function(v){var e=(0,i.sS)(v.data,this.rewriters);e!==v.data&&(v.data=e)},m}(function(){function V(){}return V.prototype.visitVisualContainer=function(m){},V.prototype.visitSingleVisualConfig=function(m){},V.prototype.visitQuery=function(m){},V.prototype.visitDataViewObjects=function(m,v){},V.prototype.visitSelector=function(m){},V.prototype.visitFilterContainer=function(m){},V.prototype.visitVisualLinks=function(m){},V}())},772907:function(ze,K,r){r.d(K,{O4:function(){return n},X2:function(){return u}});var t=r(160046),i=t.Jn,s=t.XQ;function n(a,l){var d=a&&a.preset?a.preset:i,b=a&&a.position?a.position:s,f=u(d,b);return{show:!1,preset:d,position:b,color:{solid:{color:l?l.colorPalette.foreground.value:"#000"}},shadowSpread:f?f.shadowSpread:3,shadowBlur:f?f.shadowBlur:10,angle:f?f.angle:45,shadowDistance:f?f.shadowDistance:10,transparency:f?f.transparency:70}}function u(a,l){var d=function(a){var l,d=a===t.$S,b=10,f=d?15:10,g=d?0:3,S=70;return(l={})[t.Jn]={angle:d?225:45,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.qf]={angle:d?270:90,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.C2]={angle:d?315:135,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.PE]={angle:d?180:0,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.uf]={angle:0,shadowDistance:0,shadowBlur:d?20:15,shadowSpread:g,transparency:S},l[t.cS]={angle:d?0:180,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.Fi]={angle:d?135:315,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.tF]={angle:d?90:270,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l[t.f]={angle:d?45:225,shadowDistance:b,shadowBlur:f,shadowSpread:g,transparency:S},l}(l||s);return d.hasOwnProperty(a)?d[a]:null}},400455:function(ze,K,r){r.d(K,{O:function(){return c}});var t=r(787941);function c(i,s,p){if(i&&i.getProperty("telemetryActivityId")){var V=p.getOpenActivityById(i&&i.getProperty("telemetryActivityId"));if(t.fF.assert(function(){return V&&V.isActive()},"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),V&&V.isActive()){var m=p.startChildActivity(V.event,s);return i.setProperty("telemetryActivityId",m.event.id),m}}}},693285:function(ze,K,r){r.d(K,{k:function(){return V}});var t=r(597098),c=r(325333),i=r(787941),s=r(44615),p=r(261374),V=function(){function m(v,e,h){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=v,this.hideErrorHelperText=!1,"Missing_References"===v?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=h,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource="User"):"Broken_Filters"===v?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=e.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===v?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=e.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===v?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=e.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource="User",this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===v?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=e.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===v?(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=e.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278"):"NoSupportSmallMultiplesWithVC_Hidden"===v&&(this.messageId="NoSupportSmallMultiplesWithVC_Hidden",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=e.get("NoSupportSmallMultiplesWithVC_Hidden"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink='https://go.microsoft.com/fwlink/?linkid=2249857"')}return m.create=function(v,e,h){if(!_.isEmpty(v)){for(var n=[],o=function(f,g){return f.hierarchy?f.hierarchy.name:f.hierarchyLevel?f.hierarchyLevel.name+"."+f.hierarchyLevel.level:g},u=function(f){var g=(0,t.Q)(f),S=void 0;if(g.sparklineData){var y=g.sparklineData.measure;i.fF.assert(function(){return 1===_.size(g.sparklineData.grouping)},"expect 1 field in grouping for sparklines");var C=_.first(g.sparklineData.grouping),E=o(y,(0,s.Hp)(y)),D=o(C,(0,s.Hp)(C));S=h.format("VisualTitle_By_Template",E,D)}else{var P=(0,s.Um)(g);if(!P)return"continue";var M=o(g,(0,s.Hp)(g));S="("+P.entity+") "+M;var T=e.schema(P.schema),R=T&&T.findProperty(P.entity,M);R&&R.errorMessage&&(S+=": "+R.errorMessage)}n.push(S)},a=0,l=v;a<l.length;a++)u(l[a]);return new m("Missing_References",h,n.join(", "))}},Object.defineProperty(m.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"source",{get:function(){return this.errorSource},enumerable:!1,configurable:!0}),m.prototype.addDebugInfo=function(v,e){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:v,errorInfoValue:e})},m.prototype.getDetails=function(v){var e,h=v.get(this.displayableErrorInfo[0].errorInfoKey),n=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(n=(0,p.W)(v.get(this.detailsMessageFormat),n)),{message:v.get(this.messageId),displayableErrorInfo:[{errorInfoKey:h,errorInfoValue:n}],debugErrorInfo:(e=[{errorInfoKey:c.zd,errorInfoValue:this.code}]).concat.apply(e,this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}},m}()},740390:function(ze,K,r){function t(i,s){var p={};if(_.isEmpty(s))return p;for(var V=0,m=s;V<m.length;V++){var v=m[V],e=i.tryGetExprs(v.name);p[v.name]=_.map(e,function(h){return i.defn.selectNameOf(h)})}return p}function c(i,s){return!(null==i||!i.projections||!i.projections[s])&&i.projections[s].all().some(function(p){return void 0!==p.queryRef})}r.d(K,{S:function(){return t},p:function(){return c}})},582958:function(ze){ze.exports=function(K){var r={};function t(c){if(r[c])return r[c].exports;var i=r[c]={exports:{},id:c,loaded:!1};return K[c].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}return t.m=K,t.c=r,t.p="",t(0)}([function(K,r){var t=function(){function c(i,s,p){void 0===s&&(s={}),this.defaultHeaders=s,this.defaultTargetWindow=p,this.windowPostMessageProxy=i}return c.addTrackingProperties=function(i,s){return i.headers=i.headers||{},s&&s.id&&(i.headers.id=s.id),i},c.getTrackingProperties=function(i){return{id:i.headers&&i.headers.id}},c.isErrorMessage=function(i){return"number"==typeof(i&&i.statusCode)&&!(200<=i.statusCode&&i.statusCode<300)},c.prototype.get=function(i,s,p){return void 0===s&&(s={}),void 0===p&&(p=this.defaultTargetWindow),this.send({method:"GET",url:i,headers:s},p)},c.prototype.post=function(i,s,p,V){return void 0===p&&(p={}),void 0===V&&(V=this.defaultTargetWindow),this.send({method:"POST",url:i,headers:p,body:s},V)},c.prototype.put=function(i,s,p,V){return void 0===p&&(p={}),void 0===V&&(V=this.defaultTargetWindow),this.send({method:"PUT",url:i,headers:p,body:s},V)},c.prototype.patch=function(i,s,p,V){return void 0===p&&(p={}),void 0===V&&(V=this.defaultTargetWindow),this.send({method:"PATCH",url:i,headers:p,body:s},V)},c.prototype.delete=function(i,s,p,V){return void 0===s&&(s=null),void 0===p&&(p={}),void 0===V&&(V=this.defaultTargetWindow),this.send({method:"DELETE",url:i,headers:p,body:s},V)},c.prototype.send=function(i,s){if(void 0===s&&(s=this.defaultTargetWindow),i.headers=this.assign({},this.defaultHeaders,i.headers),!s)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(s,i)},c.prototype.assign=function(i){for(var s=[],p=1;p<arguments.length;p++)s[p-1]=arguments[p];if(null==i)throw new TypeError("Cannot convert undefined or null to object");var V=Object(i);return s.forEach(function(m){if(null!=m)for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(V[v]=m[v])}),V},c}();r.HttpPostMessage=t}])},169849:function(ze){var K,r;ze.exports=(K=[function(i,s,p){var mt,V=this&&this.__extends||(mt=function(Xt,dr){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ar,gr){ar.__proto__=gr}||function(ar,gr){for(var Cr in gr)Object.prototype.hasOwnProperty.call(gr,Cr)&&(ar[Cr]=gr[Cr])})(Xt,dr)},function(Rt,Xt){if("function"!=typeof Xt&&null!==Xt)throw new TypeError("Class extends value "+String(Xt)+" is not a constructor or null");function dr(){this.constructor=Rt}mt(Rt,Xt),Rt.prototype=null===Xt?Object.create(Xt):(dr.prototype=Xt.prototype,new dr)});Object.defineProperty(s,"__esModule",{value:!0}),s.CommonErrorCodes=s.BookmarksPlayMode=s.ExportDataType=s.QnaMode=s.PageNavigationPosition=s.BrowserPrintAdjustmentsMode=s.AggregateFunction=s.DataCacheMode=s.CredentialType=s.isPercentOfGrandTotal=s.isColumnAggr=s.isHierarchyLevelAggr=s.isHierarchyLevel=s.isColumn=s.isMeasure=s.getFilterType=s.isBasicFilterWithKeys=s.isFilterKeyColumnsTarget=s.HierarchyIdentityFilter=s.HierarchyFilter=s.AdvancedFilter=s.TupleFilter=s.IdentityFilter=s.BasicFilterWithKeys=s.BasicFilter=s.RelativeTimeFilter=s.RelativeDateFilter=s.TopNFilter=s.IncludeExcludeFilter=s.NotSupportedFilter=s.Filter=s.RelativeDateOperators=s.RelativeDateFilterTimeUnit=s.FilterType=s.FiltersLevel=s.FiltersOperations=s.MenuLocation=s.ContrastMode=s.TokenType=s.ViewMode=s.Permissions=s.SectionVisibility=s.ReportAlignment=s.HyperlinkClickBehavior=s.LayoutType=s.VisualContainerDisplayMode=s.BackgroundType=s.DisplayOption=s.PageSizeType=s.TraceType=void 0,s.validateExportDataRequest=s.validateQnaInterpretInputData=s.validateLoadQnaConfiguration=s.validateSaveAsParameters=s.validateUpdateFiltersRequest=s.validateFilter=s.validatePage=s.validateTileLoad=s.validateDashboardLoad=s.validateQuickCreate=s.validateCreateReport=s.validatePaginatedReportLoad=s.validateReportLoad=s.validateMenuGroupExtension=s.validateExtension=s.validateCustomPageSize=s.validateVisualizationsPane=s.validateSyncSlicersPane=s.validateSelectionPane=s.validatePageNavigationPane=s.validateFieldsPane=s.validateFiltersPane=s.validateBookmarksPane=s.validatePanes=s.validateSettings=s.validateCaptureBookmarkRequest=s.validateApplyBookmarkStateRequest=s.validateApplyBookmarkByNameRequest=s.validateAddBookmarkRequest=s.validatePlayBookmarkRequest=s.validateSlicerState=s.validateSlicer=s.validateVisualSelector=s.isIExtensionArray=s.isIExtensions=s.isGroupedMenuExtension=s.isFlatMenuExtension=s.isReportFiltersArray=s.isOnLoadFilters=s.VisualDataRoleKindPreference=s.VisualDataRoleKind=s.CommandDisplayOption=s.SlicerTargetSelector=s.VisualTypeSelector=s.VisualSelector=s.PageSelector=s.Selector=s.SortDirection=s.LegendPosition=s.TextAlignment=void 0,s.validatePrintSettings=s.validateZoomLevel=s.validateCustomTheme=s.validateCommandsSettings=s.validateVisualSettings=s.validateVisualHeader=void 0;var D,m=p(1);!function(mt){mt[mt.Information=0]="Information",mt[mt.Verbose=1]="Verbose",mt[mt.Warning=2]="Warning",mt[mt.Error=3]="Error",mt[mt.ExpectedError=4]="ExpectedError",mt[mt.UnexpectedError=5]="UnexpectedError",mt[mt.Fatal=6]="Fatal"}(s.TraceType||(s.TraceType={})),function(mt){mt[mt.Widescreen=0]="Widescreen",mt[mt.Standard=1]="Standard",mt[mt.Cortana=2]="Cortana",mt[mt.Letter=3]="Letter",mt[mt.Custom=4]="Custom",mt[mt.Mobile=5]="Mobile"}(s.PageSizeType||(s.PageSizeType={})),function(mt){mt[mt.FitToPage=0]="FitToPage",mt[mt.FitToWidth=1]="FitToWidth",mt[mt.ActualSize=2]="ActualSize"}(s.DisplayOption||(s.DisplayOption={})),function(mt){mt[mt.Default=0]="Default",mt[mt.Transparent=1]="Transparent"}(s.BackgroundType||(s.BackgroundType={})),function(mt){mt[mt.Visible=0]="Visible",mt[mt.Hidden=1]="Hidden"}(s.VisualContainerDisplayMode||(s.VisualContainerDisplayMode={})),function(mt){mt[mt.Master=0]="Master",mt[mt.Custom=1]="Custom",mt[mt.MobilePortrait=2]="MobilePortrait",mt[mt.MobileLandscape=3]="MobileLandscape"}(s.LayoutType||(s.LayoutType={})),function(mt){mt[mt.Navigate=0]="Navigate",mt[mt.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",mt[mt.RaiseEvent=2]="RaiseEvent"}(s.HyperlinkClickBehavior||(s.HyperlinkClickBehavior={})),function(mt){mt[mt.Left=0]="Left",mt[mt.Center=1]="Center",mt[mt.Right=2]="Right",mt[mt.None=3]="None"}(s.ReportAlignment||(s.ReportAlignment={})),function(mt){mt[mt.AlwaysVisible=0]="AlwaysVisible",mt[mt.HiddenInViewMode=1]="HiddenInViewMode"}(s.SectionVisibility||(s.SectionVisibility={})),function(mt){mt[mt.Read=0]="Read",mt[mt.ReadWrite=1]="ReadWrite",mt[mt.Copy=2]="Copy",mt[mt.Create=4]="Create",mt[mt.All=7]="All"}(s.Permissions||(s.Permissions={})),function(mt){mt[mt.View=0]="View",mt[mt.Edit=1]="Edit"}(s.ViewMode||(s.ViewMode={})),function(mt){mt[mt.Aad=0]="Aad",mt[mt.Embed=1]="Embed"}(s.TokenType||(s.TokenType={})),function(mt){mt[mt.None=0]="None",mt[mt.HighContrast1=1]="HighContrast1",mt[mt.HighContrast2=2]="HighContrast2",mt[mt.HighContrastBlack=3]="HighContrastBlack",mt[mt.HighContrastWhite=4]="HighContrastWhite"}(s.ContrastMode||(s.ContrastMode={})),function(mt){mt[mt.Bottom=0]="Bottom",mt[mt.Top=1]="Top"}(s.MenuLocation||(s.MenuLocation={})),function(mt){mt[mt.RemoveAll=0]="RemoveAll",mt[mt.ReplaceAll=1]="ReplaceAll",mt[mt.Add=2]="Add",mt[mt.Replace=3]="Replace"}(s.FiltersOperations||(s.FiltersOperations={})),function(mt){mt[mt.Report=0]="Report",mt[mt.Page=1]="Page",mt[mt.Visual=2]="Visual"}(s.FiltersLevel||(s.FiltersLevel={})),function(mt){mt[mt.Advanced=0]="Advanced",mt[mt.Basic=1]="Basic",mt[mt.Unknown=2]="Unknown",mt[mt.IncludeExclude=3]="IncludeExclude",mt[mt.RelativeDate=4]="RelativeDate",mt[mt.TopN=5]="TopN",mt[mt.Tuple=6]="Tuple",mt[mt.RelativeTime=7]="RelativeTime",mt[mt.Identity=8]="Identity",mt[mt.Hierarchy=9]="Hierarchy",mt[mt.HierarchyIdentity=10]="HierarchyIdentity"}(D=s.FilterType||(s.FilterType={})),function(mt){mt[mt.Days=0]="Days",mt[mt.Weeks=1]="Weeks",mt[mt.CalendarWeeks=2]="CalendarWeeks",mt[mt.Months=3]="Months",mt[mt.CalendarMonths=4]="CalendarMonths",mt[mt.Years=5]="Years",mt[mt.CalendarYears=6]="CalendarYears",mt[mt.Minutes=7]="Minutes",mt[mt.Hours=8]="Hours"}(s.RelativeDateFilterTimeUnit||(s.RelativeDateFilterTimeUnit={})),function(mt){mt[mt.InLast=0]="InLast",mt[mt.InThis=1]="InThis",mt[mt.InNext=2]="InNext"}(s.RelativeDateOperators||(s.RelativeDateOperators={}));var T=function(){function mt(Rt,Xt){this.target=Rt,this.filterType=Xt}return mt.prototype.toJSON=function(){var Rt={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(Rt.displaySettings=this.displaySettings),Rt},mt}();s.Filter=T;var R=function(mt){function Rt(Xt,dr,ar){var gr=mt.call(this,Xt,D.Unknown)||this;return gr.message=dr,gr.notSupportedTypeName=ar,gr.schemaUrl=Rt.schemaUrl,gr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.message=this.message,Xt.notSupportedTypeName=this.notSupportedTypeName,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#notSupported",Rt}(T);s.NotSupportedFilter=R;var B=function(mt){function Rt(Xt,dr,ar){var gr=mt.call(this,Xt,D.IncludeExclude)||this;return gr.target=Xt,gr.values=ar,gr.isExclude=dr,gr.schemaUrl=Rt.schemaUrl,gr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.isExclude=this.isExclude,Xt.values=this.values,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#includeExclude",Rt}(T);s.IncludeExcludeFilter=B;var N=function(mt){function Rt(Xt,dr,ar,gr){var Cr=mt.call(this,Xt,D.TopN)||this;return Cr.operator=dr,Cr.itemCount=ar,Cr.schemaUrl=Rt.schemaUrl,Cr.orderBy=gr,Cr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.operator=this.operator,Xt.itemCount=this.itemCount,Xt.orderBy=this.orderBy,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#topN",Rt}(T);s.TopNFilter=N;var x=function(mt){function Rt(Xt,dr,ar,gr,Cr){var pr=mt.call(this,Xt,D.RelativeDate)||this;return pr.operator=dr,pr.timeUnitsCount=ar,pr.timeUnitType=gr,pr.includeToday=Cr,pr.schemaUrl=Rt.schemaUrl,pr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.operator=this.operator,Xt.timeUnitsCount=this.timeUnitsCount,Xt.timeUnitType=this.timeUnitType,Xt.includeToday=this.includeToday,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#relativeDate",Rt}(T);s.RelativeDateFilter=x;var A=function(mt){function Rt(Xt,dr,ar,gr){var Cr=mt.call(this,Xt,D.RelativeTime)||this;return Cr.operator=dr,Cr.timeUnitsCount=ar,Cr.timeUnitType=gr,Cr.schemaUrl=Rt.schemaUrl,Cr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.operator=this.operator,Xt.timeUnitsCount=this.timeUnitsCount,Xt.timeUnitType=this.timeUnitType,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#relativeTime",Rt}(T);s.RelativeTimeFilter=A;var I=function(mt){function Rt(Xt,dr){for(var ar=[],gr=2;gr<arguments.length;gr++)ar[gr-2]=arguments[gr];var Cr=mt.call(this,Xt,D.Basic)||this;if(Cr.operator=dr,Cr.schemaUrl=Rt.schemaUrl,0===ar.length&&"All"!==dr)throw new Error('values must be a non-empty array unless your operator is "All".');return Cr.values=Array.isArray(ar[0])?ar[0]:ar,Cr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.operator=this.operator,Xt.values=this.values,Xt.requireSingleSelection=!!this.requireSingleSelection,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#basic",Rt}(T);s.BasicFilter=I;var w=function(mt){function Rt(Xt,dr,ar,gr){var Cr=mt.call(this,Xt,dr,ar)||this;Cr.keyValues=gr,Cr.target=Xt;var pr=Xt.keys?Xt.keys.length:0;if(pr>0&&!gr)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(pr," keys"));if(0===pr&&gr&&gr.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var Br=0,Ir=Cr.keyValues;Br<Ir.length;Br++){var Or=Ir[Br];if(Or){var Kr=Or.length;if(Kr!==pr)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(Kr," values and ").concat(pr," keys"))}}return Cr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.keyValues=this.keyValues,Xt},Rt}(I);s.BasicFilterWithKeys=w;var F=function(mt){function Rt(Xt,dr){var ar=mt.call(this,Xt,D.Identity)||this;return ar.operator=dr,ar.schemaUrl=Rt.schemaUrl,ar}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.operator=this.operator,Xt.target=this.target,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#identity",Rt}(T);s.IdentityFilter=F;var O=function(mt){function Rt(Xt,dr,ar){var gr=mt.call(this,Xt,D.Tuple)||this;return gr.operator=dr,gr.schemaUrl=Rt.schemaUrl,gr.values=ar,gr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.operator=this.operator,Xt.values=this.values,Xt.target=this.target,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#tuple",Rt}(T);s.TupleFilter=O;var L=function(mt){function Rt(Xt,dr){for(var ar=[],gr=2;gr<arguments.length;gr++)ar[gr-2]=arguments[gr];var pr,Cr=mt.call(this,Xt,D.Advanced)||this;if(Cr.schemaUrl=Rt.schemaUrl,"string"!=typeof dr||0===dr.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(dr));if(Cr.logicalOperator=dr,(pr=Array.isArray(ar[0])?ar[0]:ar).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(ar.length));if(1===pr.length&&"And"!==dr)throw new Error('Logical Operator must be "And" when there is only one condition provided');return Cr.conditions=pr,Cr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.logicalOperator=this.logicalOperator,Xt.conditions=this.conditions,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#advanced",Rt}(T);s.AdvancedFilter=L;var W=function(mt){function Rt(Xt,dr){var ar=mt.call(this,Xt,D.Hierarchy)||this;return ar.schemaUrl=Rt.schemaUrl,ar.hierarchyData=dr,ar}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.hierarchyData=this.hierarchyData,Xt.target=this.target,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#hierarchy",Rt}(T);s.HierarchyFilter=W;var U=function(mt){function Rt(Xt,dr){var ar=mt.call(this,Xt,D.HierarchyIdentity)||this;return ar.schemaUrl=Rt.schemaUrl,ar.hierarchyData=dr,ar}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.hierarchyData=this.hierarchyData,Xt.target=this.target,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#hierarchyIdentity",Rt}(T);function G(mt){if(mt.filterType)return mt.filterType;var Xt=mt;return"string"==typeof mt.operator&&Array.isArray(mt.values)?D.Basic:"string"==typeof Xt.logicalOperator&&Array.isArray(Xt.conditions)?D.Advanced:D.Unknown}function Q(mt){return!(!mt.table||!mt.column||mt.aggregationFunction)}s.HierarchyIdentityFilter=U,s.isFilterKeyColumnsTarget=function(mt){return Q(mt)&&!!mt.keys},s.isBasicFilterWithKeys=function(mt){return G(mt)===D.Basic&&!!mt.keyValues},s.getFilterType=G,s.isMeasure=function(mt){return void 0!==mt.table&&void 0!==mt.measure},s.isColumn=Q,s.isHierarchyLevel=function(mt){return!(!(mt.table&&mt.hierarchy&&mt.hierarchyLevel)||mt.aggregationFunction)},s.isHierarchyLevelAggr=function(mt){return!!(mt.table&&mt.hierarchy&&mt.hierarchyLevel&&mt.aggregationFunction)},s.isColumnAggr=function(mt){return!!(mt.table&&mt.column&&mt.aggregationFunction)},s.isPercentOfGrandTotal=function(mt){return!!mt.percentOfGrandTotal},function(mt){mt[mt.NoConnection=0]="NoConnection",mt[mt.OnBehalfOf=1]="OnBehalfOf",mt[mt.Anonymous=2]="Anonymous"}(s.CredentialType||(s.CredentialType={})),function(mt){mt[mt.Import=0]="Import",mt[mt.DirectQuery=1]="DirectQuery"}(s.DataCacheMode||(s.DataCacheMode={})),function(mt){mt[mt.Default=1]="Default",mt[mt.None=2]="None",mt[mt.Sum=3]="Sum",mt[mt.Min=4]="Min",mt[mt.Max=5]="Max",mt[mt.Count=6]="Count",mt[mt.Average=7]="Average",mt[mt.DistinctCount=8]="DistinctCount"}(s.AggregateFunction||(s.AggregateFunction={})),function(mt){mt[mt.Default=0]="Default",mt[mt.NoAdjustments=1]="NoAdjustments"}(s.BrowserPrintAdjustmentsMode||(s.BrowserPrintAdjustmentsMode={})),function(mt){mt[mt.Bottom=0]="Bottom",mt[mt.Left=1]="Left"}(s.PageNavigationPosition||(s.PageNavigationPosition={})),function(mt){mt[mt.Interactive=0]="Interactive",mt[mt.ResultOnly=1]="ResultOnly"}(s.QnaMode||(s.QnaMode={})),function(mt){mt[mt.Summarized=0]="Summarized",mt[mt.Underlying=1]="Underlying"}(s.ExportDataType||(s.ExportDataType={})),function(mt){mt[mt.Off=0]="Off",mt[mt.Presentation=1]="Presentation"}(s.BookmarksPlayMode||(s.BookmarksPlayMode={})),s.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},s.TextAlignment={Left:"left",Center:"center",Right:"right"},s.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(mt){mt[mt.Ascending=1]="Ascending",mt[mt.Descending=2]="Descending"}(s.SortDirection||(s.SortDirection={}));var Z=function(){function mt(Rt){this.$schema=Rt}return mt.prototype.toJSON=function(){return{$schema:this.$schema}},mt}();s.Selector=Z;var ie=function(mt){function Rt(Xt){var dr=mt.call(this,Rt.schemaUrl)||this;return dr.pageName=Xt,dr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.pageName=this.pageName,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#pageSelector",Rt}(Z);s.PageSelector=ie;var me=function(mt){function Rt(Xt){var dr=mt.call(this,Rt.schemaUrl)||this;return dr.visualName=Xt,dr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.visualName=this.visualName,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#visualSelector",Rt}(Z);s.VisualSelector=me;var ye=function(mt){function Rt(Xt){var dr=mt.call(this,me.schemaUrl)||this;return dr.visualType=Xt,dr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.visualType=this.visualType,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",Rt}(Z);s.VisualTypeSelector=ye;var oe=function(mt){function Rt(Xt){var dr=mt.call(this,me.schemaUrl)||this;return dr.target=Xt,dr}return V(Rt,mt),Rt.prototype.toJSON=function(){var Xt=mt.prototype.toJSON.call(this);return Xt.target=this.target,Xt},Rt.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",Rt}(Z);function Ke(mt){return Array.isArray(mt)}function qe(mt){return mt&&!!mt.groupName}function be(mt){return Array.isArray(mt)}function Fe(mt){var Rt=mt.message;return Rt||(Rt="".concat(mt.path," is invalid. Not meeting ").concat(mt.keyword," constraint")),{message:Rt}}s.SlicerTargetSelector=oe,function(mt){mt[mt.Enabled=0]="Enabled",mt[mt.Disabled=1]="Disabled",mt[mt.Hidden=2]="Hidden"}(s.CommandDisplayOption||(s.CommandDisplayOption={})),function(mt){mt[mt.Grouping=0]="Grouping",mt[mt.Measure=1]="Measure",mt[mt.GroupingOrMeasure=2]="GroupingOrMeasure"}(s.VisualDataRoleKind||(s.VisualDataRoleKind={})),function(mt){mt[mt.Measure=0]="Measure",mt[mt.Grouping=1]="Grouping"}(s.VisualDataRoleKindPreference||(s.VisualDataRoleKindPreference={})),s.isOnLoadFilters=function(mt){return mt&&!Ke(mt)},s.isReportFiltersArray=Ke,s.isFlatMenuExtension=function(mt){return mt&&!qe(mt)},s.isGroupedMenuExtension=qe,s.isIExtensions=function(mt){return mt&&!be(mt)},s.isIExtensionArray=be,s.validateVisualSelector=function(mt){var Rt=m.Validators.visualSelectorValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateSlicer=function(mt){var Rt=m.Validators.slicerValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateSlicerState=function(mt){var Rt=m.Validators.slicerStateValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validatePlayBookmarkRequest=function(mt){var Rt=m.Validators.playBookmarkRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateAddBookmarkRequest=function(mt){var Rt=m.Validators.addBookmarkRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateApplyBookmarkByNameRequest=function(mt){var Rt=m.Validators.applyBookmarkByNameRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateApplyBookmarkStateRequest=function(mt){var Rt=m.Validators.applyBookmarkStateRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateCaptureBookmarkRequest=function(mt){var Rt=m.Validators.captureBookmarkRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateSettings=function(mt){var Rt=m.Validators.settingsValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validatePanes=function(mt){var Rt=m.Validators.reportPanesValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateBookmarksPane=function(mt){var Rt=m.Validators.bookmarksPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateFiltersPane=function(mt){var Rt=m.Validators.filtersPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateFieldsPane=function(mt){var Rt=m.Validators.fieldsPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validatePageNavigationPane=function(mt){var Rt=m.Validators.pageNavigationPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateSelectionPane=function(mt){var Rt=m.Validators.selectionPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateSyncSlicersPane=function(mt){var Rt=m.Validators.syncSlicersPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateVisualizationsPane=function(mt){var Rt=m.Validators.visualizationsPaneValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateCustomPageSize=function(mt){var Rt=m.Validators.customPageSizeValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateExtension=function(mt){var Rt=m.Validators.extensionValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateMenuGroupExtension=function(mt){var Rt=m.Validators.menuGroupExtensionValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateReportLoad=function(mt){var Rt=m.Validators.reportLoadValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validatePaginatedReportLoad=function(mt){var Rt=m.Validators.paginatedReportLoadValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateCreateReport=function(mt){var Rt=m.Validators.reportCreateValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateQuickCreate=function(mt){var Rt=m.Validators.quickCreateValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateDashboardLoad=function(mt){var Rt=m.Validators.dashboardLoadValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateTileLoad=function(mt){var Rt=m.Validators.tileLoadValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validatePage=function(mt){var Rt=m.Validators.pageValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateFilter=function(mt){var Rt=m.Validators.filterValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateUpdateFiltersRequest=function(mt){var Rt=m.Validators.updateFiltersRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateSaveAsParameters=function(mt){var Rt=m.Validators.saveAsParametersValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateLoadQnaConfiguration=function(mt){var Rt=m.Validators.loadQnaValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateQnaInterpretInputData=function(mt){var Rt=m.Validators.qnaInterpretInputDataValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateExportDataRequest=function(mt){var Rt=m.Validators.exportDataRequestValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateVisualHeader=function(mt){var Rt=m.Validators.visualHeaderValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateVisualSettings=function(mt){var Rt=m.Validators.visualSettingsValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateCommandsSettings=function(mt){var Rt=m.Validators.commandsSettingsValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateCustomTheme=function(mt){var Rt=m.Validators.customThemeValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validateZoomLevel=function(mt){var Rt=m.Validators.zoomLevelValidator.validate(mt);return Rt?Rt.map(Fe):void 0},s.validatePrintSettings=function(mt){var Rt=m.Validators.printSettingsValidator.validate(mt);return Rt?Rt.map(Fe):void 0}},function(i,s,p){Object.defineProperty(s,"__esModule",{value:!0}),s.Validators=void 0;var V=p(2),m=p(5),v=p(6),e=p(7),h=p(8),n=p(9),o=p(10),u=p(11),a=p(12),l=p(13),d=p(14),b=p(15),f=p(16),g=p(17),S=p(18),y=p(19),C=p(20),E=p(21),D=p(22),P=p(23),M=p(24),T=p(25),R=p(26),B=p(27),N=p(28),x=p(29),A=p(4),I=p(30),w=p(31),F=p(32),O=p(33),L=p(34);s.Validators={addBookmarkRequestValidator:new m.AddBookmarkRequestValidator,advancedFilterTypeValidator:new A.EnumValidator([0]),advancedFilterValidator:new a.AdvancedFilterValidator,anyArrayValidator:new A.ArrayValidator([new R.AnyOfValidator([new A.StringValidator,new A.NumberValidator,new A.BooleanValidator])]),anyFilterValidator:new R.AnyOfValidator([new a.BasicFilterValidator,new a.AdvancedFilterValidator,new a.IncludeExcludeFilterValidator,new a.NotSupportedFilterValidator,new a.RelativeDateFilterValidator,new a.TopNFilterValidator,new a.RelativeTimeFilterValidator,new a.HierarchyFilterValidator]),anyValueValidator:new R.AnyOfValidator([new A.StringValidator,new A.NumberValidator,new A.BooleanValidator]),actionBarValidator:new V.ActionBarValidator,statusBarValidator:new V.StatusBarValidator,applyBookmarkByNameRequestValidator:new m.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new m.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new R.AnyOfValidator([new m.ApplyBookmarkByNameRequestValidator,new m.ApplyBookmarkStateRequestValidator]),backgroundValidator:new A.EnumValidator([0,1]),basicFilterTypeValidator:new A.EnumValidator([1]),basicFilterValidator:new a.BasicFilterValidator,booleanArrayValidator:new A.BooleanArrayValidator,booleanValidator:new A.BooleanValidator,bookmarksPaneValidator:new b.BookmarksPaneValidator,captureBookmarkOptionsValidator:new m.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new m.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new A.ArrayValidator([new w.ColumnSchemaValidator]),commandDisplayOptionValidator:new A.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new A.ArrayValidator([new u.CommandExtensionValidator]),commandExtensionValidator:new u.CommandExtensionValidator,commandsSettingsArrayValidator:new A.ArrayValidator([new v.CommandsSettingsValidator]),commandsSettingsValidator:new v.CommandsSettingsValidator,conditionItemValidator:new a.ConditionItemValidator,contrastModeValidator:new A.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new x.MapValidator([new A.StringValidator],[new A.StringValidator]),credentialsValidator:new w.CredentialsValidator,credentialTypeValidator:new A.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new A.EnumValidator([0,1,2]),customLayoutValidator:new l.CustomLayoutValidator,customPageSizeValidator:new d.CustomPageSizeValidator,customThemeValidator:new e.CustomThemeValidator,dashboardLoadValidator:new h.DashboardLoadValidator,dataCacheModeValidator:new A.EnumValidator([0,1]),datasetBindingValidator:new n.DatasetBindingValidator,datasetCreateConfigValidator:new w.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new w.DatasourceConnectionConfigValidator,displayStateModeValidator:new A.EnumValidator([0,1]),displayStateValidator:new l.DisplayStateValidator,exportDataRequestValidator:new o.ExportDataRequestValidator,extensionArrayValidator:new A.ArrayValidator([new u.ExtensionValidator]),extensionsValidator:new R.AnyOfValidator([new A.ArrayValidator([new u.ExtensionValidator]),new u.ExtensionsValidator]),extensionPointsValidator:new u.ExtensionPointsValidator,extensionValidator:new u.ExtensionValidator,fieldForbiddenValidator:new B.FieldForbiddenValidator,fieldRequiredValidator:new N.FieldRequiredValidator,fieldsPaneValidator:new b.FieldsPaneValidator,filterColumnTargetValidator:new a.FilterColumnTargetValidator,filterDisplaySettingsValidator:new a.FilterDisplaySettingsValidator,filterConditionsValidator:new A.ArrayValidator([new a.ConditionItemValidator]),filterHierarchyTargetValidator:new a.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new a.FilterMeasureTargetValidator,filterTargetValidator:new R.AnyOfValidator([new a.FilterColumnTargetValidator,new a.FilterHierarchyTargetValidator,new a.FilterMeasureTargetValidator,new A.ArrayValidator([new R.AnyOfValidator([new a.FilterColumnTargetValidator,new a.FilterHierarchyTargetValidator,new a.FilterMeasureTargetValidator,new a.FilterKeyColumnsTargetValidator,new a.FilterKeyHierarchyTargetValidator,new A.ArrayValidator([new R.AnyOfValidator([new a.FilterColumnTargetValidator,new a.FilterHierarchyTargetValidator,new a.FilterMeasureTargetValidator,new a.FilterKeyColumnsTargetValidator,new a.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new a.FilterValidator,filterTypeValidator:new A.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new A.ArrayValidator([new a.FilterValidator]),filtersOperationsUpdateValidator:new A.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new A.EnumValidator([0]),filtersPaneValidator:new b.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new A.EnumValidator([0,1,2]),includeExcludeFilterValidator:new a.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new A.EnumValidator([3]),includeExcludeFilterValuesValidator:new A.ArrayValidator([new R.AnyOfValidator([new A.StringValidator,new A.NumberValidator,new A.BooleanValidator,new A.ArrayValidator([new A.ArrayValidator([new a.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new A.EnumValidator([9]),hierarchyFilterValuesValidator:new A.ArrayValidator([new a.HierarchyFilterNodeValidator]),layoutTypeValidator:new A.EnumValidator([0,1,2,3]),loadQnaValidator:new f.LoadQnaValidator,menuExtensionValidator:new R.AnyOfValidator([new u.FlatMenuExtensionValidator,new u.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new A.ArrayValidator([new u.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new u.MenuGroupExtensionValidator,menuLocationValidator:new A.EnumValidator([0,1]),notSupportedFilterTypeValidator:new A.EnumValidator([2]),notSupportedFilterValidator:new a.NotSupportedFilterValidator,numberArrayValidator:new A.NumberArrayValidator,numberValidator:new A.NumberValidator,onLoadFiltersBaseValidator:new R.AnyOfValidator([new a.OnLoadFiltersBaseValidator,new a.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new x.MapValidator([new A.StringValidator],[new l.VisualLayoutValidator]),pageNavigationPaneValidator:new b.PageNavigationPaneValidator,pageNavigationPositionValidator:new A.EnumValidator([0,1]),pageSizeTypeValidator:new A.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new d.PageSizeValidator,pageValidator:new d.PageValidator,pageViewFieldValidator:new d.PageViewFieldValidator,pagesLayoutValidator:new x.MapValidator([new A.StringValidator],[new l.PageLayoutValidator]),paginatedReportCommandsValidator:new v.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new A.ArrayValidator([new L.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new y.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new D.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new A.ArrayValidator([new y.ReportParameterFieldsValidator]),parametersPanelValidator:new I.ParametersPanelValidator,permissionsValidator:new A.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new m.PlayBookmarkRequestValidator,printSettingsValidator:new O.PrintSettingsValidator,qnaInterpretInputDataValidator:new f.QnaInterpretInputDataValidator,qnaPanesValidator:new b.QnaPanesValidator,qnaSettingValidator:new f.QnaSettingsValidator,quickCreateValidator:new F.QuickCreateValidator,rawDataValidator:new A.ArrayValidator([new A.ArrayValidator([new A.StringValidator])]),relativeDateFilterOperatorValidator:new A.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new A.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new A.EnumValidator([4]),relativeDateFilterValidator:new a.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new A.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new A.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new A.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new A.EnumValidator([7]),relativeTimeFilterValidator:new a.RelativeTimeFilterValidator,reportBarsValidator:new V.ReportBarsValidator,reportCreateValidator:new g.ReportCreateValidator,reportLoadFiltersValidator:new R.AnyOfValidator([new A.ArrayValidator([new a.FilterValidator]),new a.OnLoadFiltersValidator]),reportLoadValidator:new S.ReportLoadValidator,reportPanesValidator:new b.ReportPanesValidator,saveAsParametersValidator:new C.SaveAsParametersValidator,selectionPaneValidator:new b.SelectionPaneValidator,settingsValidator:new D.SettingsValidator,singleCommandSettingsValidator:new v.SingleCommandSettingsValidator,slicerSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.SlicerTargetSelectorValidator]),slicerStateValidator:new P.SlicerStateValidator,slicerTargetValidator:new R.AnyOfValidator([new a.FilterColumnTargetValidator,new a.FilterHierarchyTargetValidator,new a.FilterMeasureTargetValidator,new a.FilterKeyColumnsTargetValidator,new a.FilterKeyHierarchyTargetValidator]),slicerValidator:new P.SlicerValidator,stringArrayValidator:new A.StringArrayValidator,stringValidator:new A.StringValidator,syncSlicersPaneValidator:new b.SyncSlicersPaneValidator,tableDataArrayValidator:new A.ArrayValidator([new w.TableDataValidator]),tableSchemaListValidator:new A.ArrayValidator([new w.TableSchemaValidator]),tileLoadValidator:new M.TileLoadValidator,tokenTypeValidator:new A.EnumValidator([0,1]),topNFilterTypeValidator:new A.EnumValidator([5]),topNFilterValidator:new a.TopNFilterValidator,updateFiltersRequestValidator:new R.AnyOfValidator([new a.UpdateFiltersRequestValidator,new a.RemoveFiltersRequestValidator]),viewModeValidator:new A.EnumValidator([0,1]),visualCommandSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new T.VisualHeaderSettingsValidator,visualHeaderValidator:new T.VisualHeaderValidator,visualHeadersValidator:new A.ArrayValidator([new T.VisualHeaderValidator]),visualizationsPaneValidator:new b.VisualizationsPaneValidator,visualLayoutValidator:new l.VisualLayoutValidator,visualSelectorValidator:new E.VisualSelectorValidator,visualSettingsValidator:new T.VisualSettingsValidator,visualTypeSelectorValidator:new E.VisualTypeSelectorValidator,zoomLevelValidator:new A.RangeValidator(.25,4)}},function(i,s,p){var u,V=this&&this.__extends||(u=function(l,d){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g])})(l,d)},function(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function d(){this.constructor=a}u(a,l),a.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)});Object.defineProperty(s,"__esModule",{value:!0}),s.StatusBarValidator=s.ActionBarValidator=s.ReportBarsValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"actionBar",validators:[e.Validators.actionBarValidator]},{field:"statusBar",validators:[e.Validators.statusBarValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.ReportBarsValidator=h;var n=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.ActionBarValidator=n;var o=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.StatusBarValidator=o},function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.MultipleFieldsValidator=void 0;var p=function(){function V(m){this.fieldValidatorsPairs=m}return V.prototype.validate=function(m,v,e){if(!this.fieldValidatorsPairs)return null;for(var h=v?v+"."+e:e,n=0,o=this.fieldValidatorsPairs;n<o.length;n++)for(var u=o[n],a=0,l=u.validators;a<l.length;a++){var b=l[a].validate(m[u.field],h,u.field);if(b)return b}return null},V}();s.MultipleFieldsValidator=p},function(i,s){var g,p=this&&this.__extends||(g=function(y,C){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(E[P]=D[P])})(y,C)},function(S,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function C(){this.constructor=S}g(S,y),S.prototype=null===y?Object.create(y):(C.prototype=y.prototype,new C)});Object.defineProperty(s,"__esModule",{value:!0}),s.RangeValidator=s.NumberArrayValidator=s.BooleanArrayValidator=s.StringArrayValidator=s.EnumValidator=s.SchemaValidator=s.ValueValidator=s.NumberValidator=s.BooleanValidator=s.StringValidator=s.TypeValidator=s.ArrayValidator=s.ObjectValidator=void 0;var V=function(){function g(){}return g.prototype.validate=function(S,y,C){return null==S?null:"object"!=typeof S||Array.isArray(S)?[{message:void 0!==C?C+" must be an object":"input must be an object",path:y,keyword:"type"}]:null},g}();s.ObjectValidator=V;var m=function(){function g(S){this.itemValidators=S}return g.prototype.validate=function(S,y,C){if(null==S)return null;if(!Array.isArray(S))return[{message:C+" property is invalid",path:(y?y+".":"")+C,keyword:"type"}];for(var E=0;E<S.length;E++)for(var D=(y?y+".":"")+C+"."+E.toString(),P=0,M=this.itemValidators;P<M.length;P++)if(M[P].validate(S[E],D,C))return[{message:C+" property is invalid",path:(y?y+".":"")+C,keyword:"type"}];return null},g}();s.ArrayValidator=m;var v=function(){function g(S){this.expectedType=S}return g.prototype.validate=function(S,y,C){return null==S?null:typeof S!==this.expectedType?[{message:C+" must be a "+this.expectedType,path:(y?y+".":"")+C,keyword:"type"}]:null},g}();s.TypeValidator=v;var e=function(g){function S(){return g.call(this,"string")||this}return p(S,g),S}(v);s.StringValidator=e;var h=function(g){function S(){return g.call(this,"boolean")||this}return p(S,g),S}(v);s.BooleanValidator=h;var n=function(g){function S(){return g.call(this,"number")||this}return p(S,g),S}(v);s.NumberValidator=n;var o=function(){function g(S){this.possibleValues=S}return g.prototype.validate=function(S,y,C){return null==S?null:this.possibleValues.indexOf(S)<0?[{message:C+" property is invalid",path:(y?y+".":"")+C,keyword:"invalid"}]:null},g}();s.ValueValidator=o;var u=function(g){function S(y){var C=g.call(this,[y])||this;return C.schemaValue=y,C}return p(S,g),S.prototype.validate=function(y,C,E){return g.prototype.validate.call(this,y,C,E)},S}(o);s.SchemaValidator=u;var a=function(g){function S(y){var C=g.call(this)||this;return C.possibleValues=y,C}return p(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new o(this.possibleValues).validate(y,C,E)},S}(n);s.EnumValidator=a;var l=function(g){function S(){return g.call(this,[new e])||this}return p(S,g),S.prototype.validate=function(y,C,E){return g.prototype.validate.call(this,y,C,E)?[{message:E+" must be an array of strings",path:(C?C+".":"")+E,keyword:"type"}]:null},S}(m);s.StringArrayValidator=l;var d=function(g){function S(){return g.call(this,[new h])||this}return p(S,g),S.prototype.validate=function(y,C,E){return g.prototype.validate.call(this,y,C,E)?[{message:E+" must be an array of booleans",path:(C?C+".":"")+E,keyword:"type"}]:null},S}(m);s.BooleanArrayValidator=d;var b=function(g){function S(){return g.call(this,[new n])||this}return p(S,g),S.prototype.validate=function(y,C,E){return g.prototype.validate.call(this,y,C,E)?[{message:E+" must be an array of numbers",path:(C?C+".":"")+E,keyword:"type"}]:null},S}(m);s.NumberArrayValidator=b;var f=function(g){function S(y,C){var E=g.call(this)||this;return E.minValue=y,E.maxValue=C,E}return p(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||(y>this.maxValue||y<this.minValue?[{message:E+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(C?C+".":"")+E,keyword:"range"}]:null)},S}(n);s.RangeValidator=f},function(i,s,p){var d,V=this&&this.__extends||(d=function(f,g){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,y){S.__proto__=y}||function(S,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(S[C]=y[C])})(f,g)},function(b,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function g(){this.constructor=b}d(b,f),b.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(s,"__esModule",{value:!0}),s.CaptureBookmarkRequestValidator=s.CaptureBookmarkOptionsValidator=s.ApplyBookmarkStateRequestValidator=s.ApplyBookmarkByNameRequestValidator=s.AddBookmarkRequestValidator=s.PlayBookmarkRequestValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){if(null==f)return null;var y=d.prototype.validate.call(this,f,g,S);if(y)return y;var C=[{field:"playMode",validators:[e.Validators.fieldRequiredValidator,new v.EnumValidator([0,1])]}];return new m.MultipleFieldsValidator(C).validate(f,g,S)},b}(v.ObjectValidator);s.PlayBookmarkRequestValidator=h;var n=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"state",validators:[e.Validators.stringValidator]},{field:"displayName",validators:[e.Validators.stringValidator]},{field:"apply",validators:[e.Validators.booleanValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.AddBookmarkRequestValidator=n;var o=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.ApplyBookmarkByNameRequestValidator=o;var u=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"state",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.ApplyBookmarkStateRequestValidator=u;var a=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[e.Validators.booleanValidator]},{field:"allPages",validators:[e.Validators.booleanValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.CaptureBookmarkOptionsValidator=a;var l=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"options",validators:[e.Validators.fieldRequiredValidator,e.Validators.captureBookmarkOptionsValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.CaptureBookmarkRequestValidator=l},function(i,s,p){var u,V=this&&this.__extends||(u=function(l,d){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g])})(l,d)},function(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function d(){this.constructor=a}u(a,l),a.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)});Object.defineProperty(s,"__esModule",{value:!0}),s.PaginatedReportCommandsValidator=s.SingleCommandSettingsValidator=s.CommandsSettingsValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"copy",validators:[e.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[e.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[e.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[e.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[e.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[e.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[e.Validators.singleCommandSettingsValidator]},{field:"search",validators:[e.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[e.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[e.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[e.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[e.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[e.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[e.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[e.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[e.Validators.singleCommandSettingsValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.CommandsSettingsValidator=h;var n=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"displayOption",validators:[e.Validators.fieldRequiredValidator,e.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[e.Validators.visualCommandSelectorValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.SingleCommandSettingsValidator=n;var o=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"parameterPanel",validators:[e.Validators.parametersPanelValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.PaginatedReportCommandsValidator=o},function(i,s,p){var h,V=this&&this.__extends||(h=function(o,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])})(o,u)},function(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function u(){this.constructor=n}h(n,o),n.prototype=null===o?Object.create(o):(u.prototype=o.prototype,new u)});Object.defineProperty(s,"__esModule",{value:!0}),s.CustomThemeValidator=void 0;var m=p(3),v=p(4),e=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return V(n,h),n.prototype.validate=function(o,u,a){if(null==o)return null;var l=h.prototype.validate.call(this,o,u,a);if(l)return l;var d=[{field:"themeJson",validators:[new v.ObjectValidator]}];return new m.MultipleFieldsValidator(d).validate(o,u,a)},n}(v.ObjectValidator);s.CustomThemeValidator=e},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.DashboardLoadValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"id",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"groupId",validators:[e.Validators.stringValidator]},{field:"pageView",validators:[e.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[e.Validators.stringValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.DashboardLoadValidator=h},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.DatasetBindingValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||(u.datasetId||u.paginatedReportBindings?new m.MultipleFieldsValidator([{field:"datasetId",validators:[e.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[e.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(u,a,l):[{message:"datasetBinding cannot be empty",path:(a?a+".":"")+l,keyword:"invalid"}])},o}(v.ObjectValidator);s.DatasetBindingValidator=h},function(i,s,p){var h,V=this&&this.__extends||(h=function(o,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])})(o,u)},function(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function u(){this.constructor=n}h(n,o),n.prototype=null===o?Object.create(o):(u.prototype=o.prototype,new u)});Object.defineProperty(s,"__esModule",{value:!0}),s.ExportDataRequestValidator=void 0;var m=p(3),v=p(4),e=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return V(n,h),n.prototype.validate=function(o,u,a){if(null==o)return null;var l=h.prototype.validate.call(this,o,u,a);if(l)return l;var d=[{field:"rows",validators:[new v.NumberValidator]},{field:"exportDataType",validators:[new v.EnumValidator([0,1])]}];return new m.MultipleFieldsValidator(d).validate(o,u,a)},n}(v.ObjectValidator);s.ExportDataRequestValidator=e},function(i,s,p){var g,V=this&&this.__extends||(g=function(y,C){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(E[P]=D[P])})(y,C)},function(S,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function C(){this.constructor=S}g(S,y),S.prototype=null===y?Object.create(y):(C.prototype=y.prototype,new C)});Object.defineProperty(s,"__esModule",{value:!0}),s.ExtensionsValidator=s.MenuGroupExtensionValidator=s.ExtensionValidator=s.CommandExtensionValidator=s.ExtensionItemValidator=s.ExtensionPointsValidator=s.GroupedMenuExtensionValidator=s.FlatMenuExtensionValidator=s.MenuExtensionBaseValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"title",validators:[e.Validators.stringValidator]},{field:"icon",validators:[e.Validators.stringValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.MenuExtensionBaseValidator=h;var n=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"menuLocation",validators:[e.Validators.menuLocationValidator]},{field:"groupName",validators:[e.Validators.fieldForbiddenValidator]}]).validate(y,C,E)},S}(h);s.FlatMenuExtensionValidator=n;var o=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"groupName",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"menuLocation",validators:[e.Validators.fieldForbiddenValidator]}]).validate(y,C,E)},S}(h);s.GroupedMenuExtensionValidator=o;var u=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"visualContextMenu",validators:[e.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[e.Validators.menuExtensionValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.ExtensionPointsValidator=u;var a=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"extend",validators:[e.Validators.fieldRequiredValidator,e.Validators.extensionPointsValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.ExtensionItemValidator=a;var l=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"title",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"icon",validators:[e.Validators.stringValidator]},{field:"selector",validators:[e.Validators.commandExtensionSelectorValidator]}]).validate(y,C,E)},S}(a);s.CommandExtensionValidator=l;var d=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"command",validators:[e.Validators.commandExtensionValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.ExtensionValidator=d;var b=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"title",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"menuLocation",validators:[e.Validators.menuLocationValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.MenuGroupExtensionValidator=b;var f=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"commands",validators:[e.Validators.fieldRequiredValidator,e.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[e.Validators.menuGroupExtensionArrayValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.ExtensionsValidator=f},function(i,s,p){var F,V=this&&this.__extends||(F=function(L,W){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,j){U.__proto__=j}||function(U,j){for(var z in j)Object.prototype.hasOwnProperty.call(j,z)&&(U[z]=j[z])})(L,W)},function(O,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function W(){this.constructor=O}F(O,L),O.prototype=null===L?Object.create(L):(W.prototype=L.prototype,new W)});Object.defineProperty(s,"__esModule",{value:!0}),s.OnLoadFiltersValidator=s.OnLoadFiltersBaseRemoveOperationValidator=s.OnLoadFiltersBaseValidator=s.ConditionItemValidator=s.RemoveFiltersRequestValidator=s.UpdateFiltersRequestValidator=s.FilterValidator=s.IncludeExcludePointValueValidator=s.HierarchyFilterNodeValidator=s.HierarchyFilterValidator=s.IncludeExcludeFilterValidator=s.NotSupportedFilterValidator=s.TopNFilterValidator=s.RelativeTimeFilterValidator=s.RelativeDateFilterValidator=s.RelativeDateTimeFilterValidator=s.AdvancedFilterValidator=s.BasicFilterValidator=s.FilterValidatorBase=s.FilterDisplaySettingsValidator=s.FilterMeasureTargetValidator=s.FilterKeyHierarchyTargetValidator=s.FilterHierarchyTargetValidator=s.FilterKeyColumnsTargetValidator=s.FilterColumnTargetValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"table",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"column",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.FilterColumnTargetValidator=h;var n=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"keys",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringArrayValidator]}]).validate(L,W,U)},O}(h);s.FilterKeyColumnsTargetValidator=n;var o=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"table",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"hierarchy",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"hierarchyLevel",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.FilterHierarchyTargetValidator=o;var u=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"keys",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringArrayValidator]}]).validate(L,W,U)},O}(o);s.FilterKeyHierarchyTargetValidator=u;var a=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"table",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"measure",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.FilterMeasureTargetValidator=a;var l=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[e.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[e.Validators.booleanValidator]},{field:"displayName",validators:[e.Validators.stringValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.FilterDisplaySettingsValidator=l;var d=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"target",validators:[e.Validators.fieldRequiredValidator,e.Validators.filterTargetValidator]},{field:"$schema",validators:[e.Validators.stringValidator]},{field:"filterType",validators:[e.Validators.filterTypeValidator]},{field:"displaySettings",validators:[e.Validators.filterDisplaySettingsValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.FilterValidatorBase=d;var b=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"operator",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"values",validators:[e.Validators.fieldRequiredValidator,e.Validators.anyArrayValidator]},{field:"filterType",validators:[e.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[e.Validators.booleanValidator]}]).validate(L,W,U)},O}(d);s.BasicFilterValidator=b;var f=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"logicalOperator",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"conditions",validators:[e.Validators.filterConditionsValidator]},{field:"filterType",validators:[e.Validators.advancedFilterTypeValidator]}]).validate(L,W,U)},O}(d);s.AdvancedFilterValidator=f;var g=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"operator",validators:[e.Validators.fieldRequiredValidator,e.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[e.Validators.numberValidator]},{field:"timeUnitType",validators:[e.Validators.fieldRequiredValidator,e.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[e.Validators.relativeDateTimeFilterTypeValidator]}]).validate(L,W,U)},O}(d);s.RelativeDateTimeFilterValidator=g;var S=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"includeToday",validators:[e.Validators.fieldRequiredValidator,e.Validators.booleanValidator]},{field:"timeUnitType",validators:[e.Validators.fieldRequiredValidator,e.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[e.Validators.relativeDateFilterTypeValidator]}]).validate(L,W,U)},O}(g);s.RelativeDateFilterValidator=S;var y=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"timeUnitType",validators:[e.Validators.fieldRequiredValidator,e.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[e.Validators.relativeTimeFilterTypeValidator]}]).validate(L,W,U)},O}(g);s.RelativeTimeFilterValidator=y;var C=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"operator",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"itemCount",validators:[e.Validators.fieldRequiredValidator,e.Validators.numberValidator]},{field:"filterType",validators:[e.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[e.Validators.fieldRequiredValidator,e.Validators.filterTargetValidator]}]).validate(L,W,U)},O}(d);s.TopNFilterValidator=C;var E=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"message",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"filterType",validators:[e.Validators.notSupportedFilterTypeValidator]}]).validate(L,W,U)},O}(d);s.NotSupportedFilterValidator=E;var D=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"isExclude",validators:[e.Validators.fieldRequiredValidator,e.Validators.booleanValidator]},{field:"values",validators:[e.Validators.fieldRequiredValidator,e.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[e.Validators.includeExludeFilterTypeValidator]}]).validate(L,W,U)},O}(d);s.IncludeExcludeFilterValidator=D;var P=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"hierarchyData",validators:[e.Validators.fieldRequiredValidator,e.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[e.Validators.hierarchyFilterTypeValidator]}]).validate(L,W,U)},O}(d);s.HierarchyFilterValidator=P;var M=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"value",validators:[e.Validators.anyValueValidator]},{field:"keyValues",validators:[e.Validators.anyArrayValidator]},{field:"children",validators:[e.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[e.Validators.stringValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.HierarchyFilterNodeValidator=M;var T=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"value",validators:[e.Validators.fieldRequiredValidator,e.Validators.anyValueValidator]},{field:"keyValues",validators:[e.Validators.anyArrayValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.IncludeExcludePointValueValidator=T;var R=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||e.Validators.anyFilterValidator.validate(L,W,U)},O}(v.ObjectValidator);s.FilterValidator=R;var B=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"filtersOperation",validators:[e.Validators.fieldRequiredValidator,e.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[e.Validators.fieldRequiredValidator,e.Validators.filtersArrayValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.UpdateFiltersRequestValidator=B;var N=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"filtersOperation",validators:[e.Validators.fieldRequiredValidator,e.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[e.Validators.fieldForbiddenValidator,e.Validators.filtersArrayValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.RemoveFiltersRequestValidator=N;var x=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"value",validators:[e.Validators.anyValueValidator]},{field:"operator",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.ConditionItemValidator=x;var A=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"operation",validators:[e.Validators.fieldRequiredValidator,e.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[e.Validators.fieldRequiredValidator,e.Validators.filtersArrayValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.OnLoadFiltersBaseValidator=A;var I=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"operation",validators:[e.Validators.fieldRequiredValidator,e.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[e.Validators.fieldForbiddenValidator,e.Validators.filtersArrayValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.OnLoadFiltersBaseRemoveOperationValidator=I;var w=function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return V(O,F),O.prototype.validate=function(L,W,U){return null==L?null:F.prototype.validate.call(this,L,W,U)||new m.MultipleFieldsValidator([{field:"allPages",validators:[e.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[e.Validators.onLoadFiltersBaseValidator]}]).validate(L,W,U)},O}(v.ObjectValidator);s.OnLoadFiltersValidator=w},function(i,s,p){var a,V=this&&this.__extends||(a=function(d,b){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(f[S]=g[S])})(d,b)},function(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=l}a(l,d),l.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)});Object.defineProperty(s,"__esModule",{value:!0}),s.PageLayoutValidator=s.DisplayStateValidator=s.VisualLayoutValidator=s.CustomLayoutValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"pageSize",validators:[e.Validators.pageSizeValidator]},{field:"displayOption",validators:[e.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[e.Validators.pagesLayoutValidator]}]).validate(d,b,f)},l}(v.ObjectValidator);s.CustomLayoutValidator=h;var n=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"x",validators:[e.Validators.numberValidator]},{field:"y",validators:[e.Validators.numberValidator]},{field:"z",validators:[e.Validators.numberValidator]},{field:"width",validators:[e.Validators.numberValidator]},{field:"height",validators:[e.Validators.numberValidator]},{field:"displayState",validators:[e.Validators.displayStateValidator]}]).validate(d,b,f)},l}(v.ObjectValidator);s.VisualLayoutValidator=n;var o=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"mode",validators:[e.Validators.displayStateModeValidator]}]).validate(d,b,f)},l}(v.ObjectValidator);s.DisplayStateValidator=o;var u=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"visualsLayout",validators:[e.Validators.fieldRequiredValidator,e.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[e.Validators.visualLayoutValidator]}]).validate(d,b,f)},l}(v.ObjectValidator);s.PageLayoutValidator=u},function(i,s,p){var a,V=this&&this.__extends||(a=function(d,b){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(f[S]=g[S])})(d,b)},function(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=l}a(l,d),l.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)});Object.defineProperty(s,"__esModule",{value:!0}),s.PageViewFieldValidator=s.PageValidator=s.CustomPageSizeValidator=s.PageSizeValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"type",validators:[e.Validators.fieldRequiredValidator,e.Validators.pageSizeTypeValidator]}]).validate(d,b,f)},l}(v.ObjectValidator);s.PageSizeValidator=h;var n=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"width",validators:[e.Validators.numberValidator]},{field:"height",validators:[e.Validators.numberValidator]}]).validate(d,b,f)},l}(h);s.CustomPageSizeValidator=n;var o=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(d,b,f)},l}(v.ObjectValidator);s.PageValidator=o;var u=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){return null==d?null:a.prototype.validate.call(this,d,b,f)||(["actualSize","fitToWidth","oneColumn"].indexOf(d)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},l}(v.StringValidator);s.PageViewFieldValidator=u},function(i,s,p){var g,V=this&&this.__extends||(g=function(y,C){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(E[P]=D[P])})(y,C)},function(S,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function C(){this.constructor=S}g(S,y),S.prototype=null===y?Object.create(y):(C.prototype=y.prototype,new C)});Object.defineProperty(s,"__esModule",{value:!0}),s.VisualizationsPaneValidator=s.SyncSlicersPaneValidator=s.SelectionPaneValidator=s.PageNavigationPaneValidator=s.FiltersPaneValidator=s.FieldsPaneValidator=s.BookmarksPaneValidator=s.QnaPanesValidator=s.ReportPanesValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"bookmarks",validators:[e.Validators.bookmarksPaneValidator]},{field:"fields",validators:[e.Validators.fieldsPaneValidator]},{field:"filters",validators:[e.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[e.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[e.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[e.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[e.Validators.visualizationsPaneValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.ReportPanesValidator=h;var n=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"filters",validators:[e.Validators.filtersPaneValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.QnaPanesValidator=n;var o=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.BookmarksPaneValidator=o;var u=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"expanded",validators:[e.Validators.booleanValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.FieldsPaneValidator=u;var a=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]},{field:"expanded",validators:[e.Validators.booleanValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.FiltersPaneValidator=a;var l=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]},{field:"position",validators:[e.Validators.pageNavigationPositionValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.PageNavigationPaneValidator=l;var d=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.SelectionPaneValidator=d;var b=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.SyncSlicersPaneValidator=b;var f=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return V(S,g),S.prototype.validate=function(y,C,E){return null==y?null:g.prototype.validate.call(this,y,C,E)||new m.MultipleFieldsValidator([{field:"expanded",validators:[e.Validators.booleanValidator]}]).validate(y,C,E)},S}(v.ObjectValidator);s.VisualizationsPaneValidator=f},function(i,s,p){var u,V=this&&this.__extends||(u=function(l,d){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g])})(l,d)},function(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function d(){this.constructor=a}u(a,l),a.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)});Object.defineProperty(s,"__esModule",{value:!0}),s.QnaInterpretInputDataValidator=s.QnaSettingsValidator=s.LoadQnaValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"datasetIds",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringArrayValidator]},{field:"question",validators:[e.Validators.stringValidator]},{field:"viewMode",validators:[e.Validators.viewModeValidator]},{field:"settings",validators:[e.Validators.qnaSettingValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"groupId",validators:[e.Validators.stringValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.LoadQnaValidator=h;var n=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[e.Validators.booleanValidator]},{field:"hideErrors",validators:[e.Validators.booleanValidator]},{field:"panes",validators:[e.Validators.qnaPanesValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.QnaSettingsValidator=n;var o=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"datasetIds",validators:[e.Validators.stringArrayValidator]},{field:"question",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.QnaInterpretInputDataValidator=o},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.ReportCreateValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"datasetId",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"groupId",validators:[e.Validators.stringValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"theme",validators:[e.Validators.customThemeValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.ReportCreateValidator=h},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.ReportLoadValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"id",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"groupId",validators:[e.Validators.stringValidator]},{field:"settings",validators:[e.Validators.settingsValidator]},{field:"pageName",validators:[e.Validators.stringValidator]},{field:"filters",validators:[e.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[e.Validators.permissionsValidator]},{field:"viewMode",validators:[e.Validators.viewModeValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"bookmark",validators:[e.Validators.applyBookmarkValidator]},{field:"theme",validators:[e.Validators.customThemeValidator]},{field:"embedUrl",validators:[e.Validators.stringValidator]},{field:"datasetBinding",validators:[e.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[e.Validators.contrastModeValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.ReportLoadValidator=h},function(i,s,p){var o,V=this&&this.__extends||(o=function(a,l){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(d[f]=b[f])})(a,l)},function(u,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=u}o(u,a),u.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(s,"__esModule",{value:!0}),s.ReportParameterFieldsValidator=s.PaginatedReportLoadValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(o){function u(){return null!==o&&o.apply(this,arguments)||this}return V(u,o),u.prototype.validate=function(a,l,d){return null==a?null:o.prototype.validate.call(this,a,l,d)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"id",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"groupId",validators:[e.Validators.stringValidator]},{field:"settings",validators:[e.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[e.Validators.stringValidator]},{field:"type",validators:[e.Validators.stringValidator]},{field:"parameterValues",validators:[e.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[e.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(a,l,d)},u}(v.ObjectValidator);s.PaginatedReportLoadValidator=h;var n=function(){function o(){}return o.prototype.validate=function(u,a,l){return null==u?null:new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"value",validators:[e.Validators.stringValidator]}]).validate(u,a,l)},o}();s.ReportParameterFieldsValidator=n},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.SaveAsParametersValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.SaveAsParametersValidator=h},function(i,s,p){var a,V=this&&this.__extends||(a=function(d,b){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(f[S]=g[S])})(d,b)},function(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=l}a(l,d),l.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)});Object.defineProperty(s,"__esModule",{value:!0}),s.SlicerTargetSelectorValidator=s.VisualTypeSelectorValidator=s.VisualSelectorValidator=void 0;var m=p(3),v=p(4),e=p(4),h=p(1),n=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){if(null==d)return null;var g=a.prototype.validate.call(this,d,b,f);if(g)return g;var S=[{field:"$schema",validators:[h.Validators.stringValidator,new e.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator]}];return new m.MultipleFieldsValidator(S).validate(d,b,f)},l}(v.ObjectValidator);s.VisualSelectorValidator=n;var o=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){if(null==d)return null;var g=a.prototype.validate.call(this,d,b,f);if(g)return g;var S=[{field:"$schema",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator,new e.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator]}];return new m.MultipleFieldsValidator(S).validate(d,b,f)},l}(v.ObjectValidator);s.VisualTypeSelectorValidator=o;var u=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return V(l,a),l.prototype.validate=function(d,b,f){if(null==d)return null;var g=a.prototype.validate.call(this,d,b,f);if(g)return g;var S=[{field:"$schema",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator,new e.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[h.Validators.fieldRequiredValidator,h.Validators.slicerTargetValidator]}];return new m.MultipleFieldsValidator(S).validate(d,b,f)},l}(v.ObjectValidator);s.SlicerTargetSelectorValidator=u},function(i,s,p){var o,V=this&&this.__extends||(o=function(a,l){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(d[f]=b[f])})(a,l)},function(u,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=u}o(u,a),u.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(s,"__esModule",{value:!0}),s.PaginatedReportSettingsValidator=s.SettingsValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(o){function u(){return null!==o&&o.apply(this,arguments)||this}return V(u,o),u.prototype.validate=function(a,l,d){return null==a?null:o.prototype.validate.call(this,a,l,d)||new m.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[e.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[e.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[e.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[e.Validators.booleanValidator]},{field:"extensions",validators:[e.Validators.extensionsValidator]},{field:"layoutType",validators:[e.Validators.layoutTypeValidator]},{field:"customLayout",validators:[e.Validators.customLayoutValidator]},{field:"background",validators:[e.Validators.backgroundValidator]},{field:"visualSettings",validators:[e.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[e.Validators.booleanValidator]},{field:"commands",validators:[e.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[e.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[e.Validators.reportBarsValidator]},{field:"panes",validators:[e.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[e.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[e.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[e.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[e.Validators.booleanValidator]},{field:"printSettings",validators:[e.Validators.printSettingsValidator]}]).validate(a,l,d)},u}(v.ObjectValidator);s.SettingsValidator=h;var n=function(o){function u(){return null!==o&&o.apply(this,arguments)||this}return V(u,o),u.prototype.validate=function(a,l,d){return null==a?null:o.prototype.validate.call(this,a,l,d)||new m.MultipleFieldsValidator([{field:"commands",validators:[e.Validators.paginatedReportCommandsValidator]}]).validate(a,l,d)},u}(v.ObjectValidator);s.PaginatedReportSettingsValidator=n},function(i,s,p){var o,V=this&&this.__extends||(o=function(a,l){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(d[f]=b[f])})(a,l)},function(u,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=u}o(u,a),u.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(s,"__esModule",{value:!0}),s.SlicerStateValidator=s.SlicerValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(o){function u(){return null!==o&&o.apply(this,arguments)||this}return V(u,o),u.prototype.validate=function(a,l,d){return null==a?null:o.prototype.validate.call(this,a,l,d)||new m.MultipleFieldsValidator([{field:"selector",validators:[e.Validators.fieldRequiredValidator,e.Validators.slicerSelectorValidator]},{field:"state",validators:[e.Validators.fieldRequiredValidator,e.Validators.slicerStateValidator]}]).validate(a,l,d)},u}(v.ObjectValidator);s.SlicerValidator=h;var n=function(o){function u(){return null!==o&&o.apply(this,arguments)||this}return V(u,o),u.prototype.validate=function(a,l,d){return null==a?null:o.prototype.validate.call(this,a,l,d)||new m.MultipleFieldsValidator([{field:"filters",validators:[e.Validators.filtersArrayValidator]}]).validate(a,l,d)},u}(v.ObjectValidator);s.SlicerStateValidator=n},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.TileLoadValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"id",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"dashboardId",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"groupId",validators:[e.Validators.stringValidator]},{field:"pageView",validators:[e.Validators.stringValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"width",validators:[e.Validators.numberValidator]},{field:"height",validators:[e.Validators.numberValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.TileLoadValidator=h},function(i,s,p){var u,V=this&&this.__extends||(u=function(l,d){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g])})(l,d)},function(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function d(){this.constructor=a}u(a,l),a.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)});Object.defineProperty(s,"__esModule",{value:!0}),s.VisualHeaderValidator=s.VisualHeaderSettingsValidator=s.VisualSettingsValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"visualHeaders",validators:[e.Validators.visualHeadersValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.VisualSettingsValidator=h;var n=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"visible",validators:[e.Validators.booleanValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.VisualHeaderSettingsValidator=n;var o=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return V(a,u),a.prototype.validate=function(l,d,b){return null==l?null:u.prototype.validate.call(this,l,d,b)||new m.MultipleFieldsValidator([{field:"settings",validators:[e.Validators.fieldRequiredValidator,e.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[e.Validators.visualHeaderSelectorValidator]}]).validate(l,d,b)},a}(v.ObjectValidator);s.VisualHeaderValidator=o},function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.AnyOfValidator=void 0;var p=function(){function V(m){this.validators=m}return V.prototype.validate=function(m,v,e){if(null==m)return null;for(var h=!1,n=0,o=this.validators;n<o.length;n++)if(!o[n].validate(m,v,e)){h=!0;break}return h?null:[{message:e+" property is invalid",path:(v?v+".":"")+e,keyword:"invalid"}]},V}();s.AnyOfValidator=p},function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldForbiddenValidator=void 0;var p=function(){function V(){}return V.prototype.validate=function(m,v,e){return void 0!==m?[{message:e+" is forbidden",path:(v?v+".":"")+e,keyword:"forbidden"}]:null},V}();s.FieldForbiddenValidator=p},function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldRequiredValidator=void 0;var p=function(){function V(){}return V.prototype.validate=function(m,v,e){return null==m?[{message:e+" is required",path:(v?v+".":"")+e,keyword:"required"}]:null},V}();s.FieldRequiredValidator=p},function(i,s,p){var e,V=this&&this.__extends||(e=function(n,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(u[l]=a[l])})(n,o)},function(h,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=h}e(h,n),h.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});Object.defineProperty(s,"__esModule",{value:!0}),s.MapValidator=void 0;var v=function(e){function h(n,o){var u=e.call(this)||this;return u.keyValidators=n,u.valueValidators=o,u}return V(h,e),h.prototype.validate=function(n,o,u){if(null==n)return null;var a=e.prototype.validate.call(this,n,o,u);if(a)return a;for(var l in n)if(n.hasOwnProperty(l)){for(var d=(o?o+".":"")+u+"."+l,b=0,f=this.keyValidators;b<f.length;b++)if(a=f[b].validate(l,d,u))return a;for(var S=0,y=this.valueValidators;S<y.length;S++)if(a=y[S].validate(n[l],d,u))return a}return null},h}(p(4).ObjectValidator);s.MapValidator=v},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.ParametersPanelValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"expanded",validators:[e.Validators.booleanValidator]},{field:"enabled",validators:[e.Validators.booleanValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.ParametersPanelValidator=h},function(i,s,p){var d,V=this&&this.__extends||(d=function(f,g){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,y){S.__proto__=y}||function(S,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(S[C]=y[C])})(f,g)},function(b,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function g(){this.constructor=b}d(b,f),b.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(s,"__esModule",{value:!0}),s.TableDataValidator=s.TableSchemaValidator=s.ColumnSchemaValidator=s.CredentialsValidator=s.DatasourceConnectionConfigValidator=s.DatasetCreateConfigValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){if(null==f)return null;var y=d.prototype.validate.call(this,f,g,S);return y||((y=new m.MultipleFieldsValidator([{field:"locale",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"mashupDocument",validators:[e.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[e.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[e.Validators.tableSchemaListValidator]},{field:"data",validators:[e.Validators.tableDataArrayValidator]}]).validate(f,g,S))?y:f.datasourceConnectionConfig&&null==f.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:f.data&&null==f.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==f.data&&null==f.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},b}(v.ObjectValidator);s.DatasetCreateConfigValidator=h;var n=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"dataCacheMode",validators:[e.Validators.dataCacheModeValidator]},{field:"credentials",validators:[e.Validators.credentialsValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.DatasourceConnectionConfigValidator=n;var o=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"credentialType",validators:[e.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[e.Validators.credentialDetailsValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.CredentialsValidator=o;var u=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"displayName",validators:[e.Validators.stringValidator]},{field:"dataType",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.ColumnSchemaValidator=u;var a=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"columns",validators:[e.Validators.fieldRequiredValidator,e.Validators.columnSchemaArrayValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.TableSchemaValidator=a;var l=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}return V(b,d),b.prototype.validate=function(f,g,S){return null==f?null:d.prototype.validate.call(this,f,g,S)||new m.MultipleFieldsValidator([{field:"name",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"rows",validators:[e.Validators.fieldRequiredValidator,e.Validators.rawDataValidator]}]).validate(f,g,S)},b}(v.ObjectValidator);s.TableDataValidator=l},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.QuickCreateValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"accessToken",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"groupId",validators:[e.Validators.stringValidator]},{field:"tokenType",validators:[e.Validators.tokenTypeValidator]},{field:"theme",validators:[e.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[e.Validators.fieldRequiredValidator,e.Validators.datasetCreateConfigValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.QuickCreateValidator=h},function(i,s,p){var h,V=this&&this.__extends||(h=function(o,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])})(o,u)},function(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function u(){this.constructor=n}h(n,o),n.prototype=null===o?Object.create(o):(u.prototype=o.prototype,new u)});Object.defineProperty(s,"__esModule",{value:!0}),s.PrintSettingsValidator=void 0;var m=p(3),v=p(4),e=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return V(n,h),n.prototype.validate=function(o,u,a){if(null==o)return null;var l=h.prototype.validate.call(this,o,u,a);if(l)return l;var d=[{field:"browserPrintAdjustmentsMode",validators:[new v.EnumValidator([0,1])]}];return new m.MultipleFieldsValidator(d).validate(o,u,a)},n}(v.ObjectValidator);s.PrintSettingsValidator=e},function(i,s,p){var n,V=this&&this.__extends||(n=function(u,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b])})(u,a)},function(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=o}n(o,u),o.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0}),s.PaginatedReportDatasetBindingValidator=void 0;var m=p(3),v=p(4),e=p(1),h=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return V(o,n),o.prototype.validate=function(u,a,l){return null==u?null:n.prototype.validate.call(this,u,a,l)||new m.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]},{field:"targetDatasetId",validators:[e.Validators.fieldRequiredValidator,e.Validators.stringValidator]}]).validate(u,a,l)},o}(v.ObjectValidator);s.PaginatedReportDatasetBindingValidator=h}],r={},function t(i){var s=r[i];if(void 0!==s)return s.exports;var p=r[i]={exports:{}};return K[i].call(p.exports,p,p.exports,t),p.exports}(0))},642686:function(ze){ze.exports=function(K){var r={};function t(c){if(r[c])return r[c].exports;var i=r[c]={exports:{},id:c,loaded:!1};return K[c].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}return t.m=K,t.c=r,t.p="",t(0)}([function(K,r,t){var c=t(1),i=function(){function p(V){this.handlers=V,this.getRouteRecognizer=new c,this.patchRouteRecognizer=new c,this.postRouteRecognizer=new c,this.putRouteRecognizer=new c,this.deleteRouteRecognizer=new c}return p.prototype.get=function(V,m){return this.registerHandler(this.getRouteRecognizer,"GET",V,m),this},p.prototype.patch=function(V,m){return this.registerHandler(this.patchRouteRecognizer,"PATCH",V,m),this},p.prototype.post=function(V,m){return this.registerHandler(this.postRouteRecognizer,"POST",V,m),this},p.prototype.put=function(V,m){return this.registerHandler(this.putRouteRecognizer,"PUT",V,m),this},p.prototype.delete=function(V,m){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",V,m),this},p.prototype.registerHandler=function(V,m,v,e){V.add([{path:v,handler:function(u){var a=new s;return Promise.resolve(e(u,a)).then(function(l){return a})}}]),this.handlers.addHandler({test:function(u){if(u.method!==m)return!1;var a=V.recognize(u.url);if(void 0===a)return!1;var l=a[0];return u.params=l.params,u.queryParams=a.queryParams,u.handler=l.handler,!0},handle:function(u){return u.handler(u)}})},p}();r.Router=i;var s=function(){function p(){this.statusCode=200,this.headers={},this.body=null}return p.prototype.send=function(V,m){this.statusCode=V,this.body=m},p}();r.Response=s},function(K,r,t){var c;(function(i){(function(){function s(T,R,B){this.path=T,this.matcher=R,this.delegate=B}function p(T){this.routes={},this.children={},this.target=T}function V(T,R,B){return function(N,x){var A=T+N;if(!x)return new s(T+N,R,B);x(V(A,R,B))}}function m(T,R,B){for(var N=0,x=0;x<T.length;x++)N+=T[x].path.length;R=R.substr(N),T.push({path:R,handler:B})}function v(T,R,B,N){var x=R.routes;for(var A in x)if(x.hasOwnProperty(A)){var I=T.slice();m(I,A,x[A]),R.children[A]?v(I,R.children[A],B,N):B.call(N,I)}}s.prototype={to:function(R,B){var N=this.delegate;if(N&&N.willAddRoute&&(R=N.willAddRoute(this.matcher.target,R)),this.matcher.add(this.path,R),B){if(0===B.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,R,B,this.delegate)}return this}},p.prototype={add:function(R,B){this.routes[R]=B},addChild:function(R,B,N,x){var A=new p(B);this.children[R]=A;var I=V(R,A,x);x&&x.contextEntered&&x.contextEntered(B,I),N(I)}};var n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function u(T){this.string=T}function a(T){this.name=T}function l(T){this.name=T}function d(){}function b(T,R,B){"/"===T.charAt(0)&&(T=T.substr(1));var N=T.split("/"),x=new Array(N.length);B.val="";for(var A=0;A<N.length;A++){var w,I=N[A];(w=I.match(/^:([^\/]+)$/))?(x[A]=new a(w[1]),R.push(w[1]),B.val+="3"):(w=I.match(/^\*([^\/]+)$/))?(x[A]=new l(w[1]),B.val+="1",R.push(w[1])):""===I?(x[A]=new d,B.val+="2"):(x[A]=new u(I),B.val+="4")}return B.val=+B.val,x}function f(T){this.charSpec=T,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function S(T,R){for(var B=[],N=0,x=T.length;N<x;N++)B=B.concat(T[N].match(R));return B}function C(T){this.queryParams=T||{}}function D(T){var R;T=T.replace(/\+/gm,"%20");try{R=decodeURIComponent(T)}catch(B){R=""}return R}u.prototype={eachChar:function(R){for(var N,B=this.string,x=0;x<B.length;x++)N=B.charAt(x),R=R.put({invalidChars:void 0,repeat:!1,validChars:N});return R},regex:function(){return this.string.replace(n,"\\$1")},generate:function(){return this.string}},a.prototype={eachChar:function(R){return R.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(R){return R[this.name]}},l.prototype={eachChar:function(R){return R.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(R){return R[this.name]}},d.prototype={eachChar:function(R){return R},regex:function(){return""},generate:function(){return""}},f.prototype={get:function(R){if(this.charSpecs[R.validChars])return this.charSpecs[R.validChars];for(var B=this.nextStates,N=0;N<B.length;N++){var x=B[N],A=x.charSpec.validChars===R.validChars;if(A=A&&x.charSpec.invalidChars===R.invalidChars)return this.charSpecs[R.validChars]=x,x}},put:function(R){var B;return(B=this.get(R))||(B=new f(R),this.nextStates.push(B),R.repeat&&B.nextStates.push(B)),B},match:function(R){for(var N,x,A,B=this.nextStates,I=[],w=0;w<B.length;w++)void 0!==(A=(x=(N=B[w]).charSpec).validChars)?-1!==A.indexOf(R)&&I.push(N):void 0!==(A=x.invalidChars)&&-1===A.indexOf(R)&&I.push(N);return I}},C.prototype=(Object.create||function(T){function R(){}return R.prototype=T,new R})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var P=function(){this.rootState=new f,this.names={}};(P.prototype={add:function(R,B){for(var F,N=this.rootState,x="^",A={},I=new Array(R.length),w=[],O=!0,L=0;L<R.length;L++){var W=R[L],U=[],j=b(W.path,U,A);w=w.concat(j);for(var z=0;z<j.length;z++){var G=j[z];G instanceof d||(O=!1,N=N.put({invalidChars:void 0,repeat:!1,validChars:"/"}),x+="/",N=G.eachChar(N),x+=G.regex())}I[L]={handler:W.handler,names:U}}O&&(N=N.put({invalidChars:void 0,repeat:!1,validChars:"/"}),x+="/"),N.handlers=I,N.regex=new RegExp(x+"$"),N.specificity=A,(F=B&&B.as)&&(this.names[F]={segments:w,handlers:I})},handlersFor:function(R){var B=this.names[R];if(!B)throw new Error("There is no route named "+R);for(var N=new Array(B.handlers.length),x=0;x<B.handlers.length;x++)N[x]=B.handlers[x];return N},hasRoute:function(R){return!!this.names[R]},generate:function(R,B){var N=this.names[R],x="";if(!N)throw new Error("There is no route named "+R);for(var A=N.segments,I=0;I<A.length;I++){var w=A[I];w instanceof d||(x+="/",x+=w.generate(B))}return"/"!==x.charAt(0)&&(x="/"+x),B&&B.queryParams&&(x+=this.generateQueryString(B.queryParams,N.handlers)),x},generateQueryString:function(R,B){var N=[],x=[];for(var A in R)R.hasOwnProperty(A)&&x.push(A);x.sort();for(var I=0;I<x.length;I++){var w=R[A=x[I]];if(null!=w){var F=encodeURIComponent(A);if("[object Array]"===Object.prototype.toString.call(w))for(var O=0;O<w.length;O++){var L=A+"[]="+encodeURIComponent(w[O]);N.push(L)}else F+="="+encodeURIComponent(w),N.push(F)}}return 0===N.length?"":"?"+N.join("&")},parseQueryString:function(R){for(var B=R.split("&"),N={},x=0;x<B.length;x++){var O,A=B[x].split("="),I=D(A[0]),w=I.length,F=!1;1===A.length?O="true":(w>2&&"[]"===I.slice(w-2)&&(F=!0,N[I=I.slice(0,w-2)]||(N[I]=[])),O=A[1]?D(A[1]):""),F?N[I].push(O):N[I]=O}return N},recognize:function(R){var N,x,I,B=[this.rootState],w={},F=!1;if(-1!==(I=R.indexOf("?"))){var O=R.substr(I+1,R.length);R=R.substr(0,I),w=this.parseQueryString(O)}for("/"!==(R=decodeURI(R)).charAt(0)&&(R="/"+R),(N=R.length)>1&&"/"===R.charAt(N-1)&&(R=R.substr(0,N-1),F=!0),x=0;x<R.length&&(B=S(B,R.charAt(x))).length;x++);var L=[];for(x=0;x<B.length;x++)B[x].handlers&&L.push(B[x]);B=L.sort(function(R,B){return B.specificity.val-R.specificity.val});var W=L[0];if(W&&W.handlers)return F&&"(.+)$"===W.regex.source.slice(-5)&&(R+="/"),function(T,R,B){var N=T.handlers,A=R.match(T.regex),I=1,w=new C(B);w.length=N.length;for(var F=0;F<N.length;F++){for(var O=N[F],L=O.names,W={},U=0;U<L.length;U++)W[L[U]]=A[I++];w[F]={handler:O.handler,params:W,isDynamic:!!L.length}}return w}(W,R,w)}}).map=function(R,B){var N=new p;R(V("",N,this.delegate)),v([],N,function(x){B?B(this,x):this.add(x)},this)},P.VERSION="0.1.11";var M=P;t(3).amd?void 0!==(c=function(){return M}.call(r,t,r,i))&&(i.exports=c):void 0!==i&&i.exports?i.exports=M:void 0!==this&&(this.RouteRecognizer=M)}).call(this)}).call(r,t(2)(K))},function(K,r){K.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(K,r){K.exports=function(){throw new Error("define cannot be used indirect")}}])},370355:function(ze){ze.exports=function(K){var r={};function t(c){if(r[c])return r[c].exports;var i=r[c]={exports:{},id:c,loaded:!1};return K[c].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}return t.m=K,t.c=r,t.p="",t(0)}([function(K,r){var t=function(){function c(i){var s=this;void 0===i&&(i={processTrackingProperties:{addTrackingProperties:c.defaultAddTrackingProperties,getTrackingProperties:c.defaultGetTrackingProperties},isErrorMessage:c.defaultIsErrorMessage,receiveWindow:window,name:c.createRandomString()}),this.pendingRequestPromises={},this.addTrackingProperties=i.processTrackingProperties&&i.processTrackingProperties.addTrackingProperties||c.defaultAddTrackingProperties,this.getTrackingProperties=i.processTrackingProperties&&i.processTrackingProperties.getTrackingProperties||c.defaultGetTrackingProperties,this.isErrorMessage=i.isErrorMessage||c.defaultIsErrorMessage,this.receiveWindow=i.receiveWindow||window,this.name=i.name||c.createRandomString(),this.logMessages=i.logMessages||!1,this.eventSourceOverrideWindow=i.eventSourceOverrideWindow,this.suppressWarnings=i.suppressWarnings||!1,this.handlers=[],this.windowMessageHandler=function(p){return s.onMessageReceived(p)},this.start()}return c.defaultAddTrackingProperties=function(i,s){return i[c.messagePropertyName]=s,i},c.defaultGetTrackingProperties=function(i){return i[c.messagePropertyName]},c.defaultIsErrorMessage=function(i){return!!i.error},c.createDeferred=function(){var i={resolve:null,reject:null,promise:null},s=new Promise(function(p,V){i.resolve=p,i.reject=V});return i.promise=s,i},c.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},c.prototype.addHandler=function(i){this.handlers.push(i)},c.prototype.removeHandler=function(i){var s=this.handlers.indexOf(i);if(-1===s)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(s,1)},c.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},c.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},c.prototype.postMessage=function(i,s){var p={id:c.createRandomString()};this.addTrackingProperties(s,p),i.postMessage(s,"*");var V=c.createDeferred();return this.pendingRequestPromises[p.id]=V,V.promise},c.prototype.sendResponse=function(i,s,p){this.addTrackingProperties(s,p),i.postMessage(s,"*")},c.prototype.onMessageReceived=function(i){var s=this,p=this.eventSourceOverrideWindow||i.source;if(p){var m,v,V=i.data;if("object"!=typeof V)return;try{m=this.getTrackingProperties(V)}catch(n){}if(m&&(v=this.pendingRequestPromises[m.id]),v){var h=!0;try{h=this.isErrorMessage(V)}catch(n){}h?v.reject(V):v.resolve(V),delete this.pendingRequestPromises[m.id]}else this.handlers.some(function(n){var o=!1;try{o=n.test(V)}catch(a){}if(o){var u=void 0;try{u=Promise.resolve(n.handle(V))}catch(a){u=Promise.resolve()}return u.then(function(a){a||(a={warning:"Handler for message: "+JSON.stringify(V,null,"  ")+" did not return a response message. The default response message will be returned instead."}),s.sendResponse(p,a,m)}),!0}})}},c.messagePropertyName="windowPostMessageProxy",c}();r.WindowPostMessageProxy=t}])},995012:function(ze,K,r){r.d(K,{G:function(){return t}});var t=function(){return function(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVToExportDataToFileTenantEnabled=null,this.allowCVLocalStorageTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.allowCVAuthenticationTenantEnabled=null,this.allowCVLocalStorageV2TenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.enableAOAIEnabled=null,this.EnableOpenAIAdminControl=null,this.allowCVLocalStorageV2TenantSwitch=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.mapCurrentLocationEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.numericSlicerEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.lineStylesEnabled=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.scatterWithDataVolume=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.slowDataSourceModeEnabled=null,this.zOrder=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.outspaceBackground=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.aiCapacityMetrics=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.reorderAdminPortalNav=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiplesAuthoring=null,this.lazyLoadAccessRecords=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.enterDataFooter=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.cesNewUserDayZeroIntent=null,this.cesCustomerVoiceTest=null,this.smallMultiplesConditionalFormatting=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.cartesianMultiplesAccessibility=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.pieChartMarginBetweenSlices=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.comboChartNoColumnsLegend=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.copyPasteMenuMetadata=null,this.copyPasteMenuImage=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.trackActivityLifecycle=null,this.visualSharingEntryPoint=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.supportCenterEditTicket=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookRichDisplay=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.azureMapsBubbleSizeRevamp=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.supportHierarchyView=null,this.disableOnObjectPanesCustomizationDialog=null,this.oneLakeFabricCapacityBanner=null,this.azureMapsBubbleCluster=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.matrixLayouts=null,this.ASVirtualConnectionForFabricTDS=null,this.assistedDateTable=null,this.qnaFuzzyMatch=null,this.copilotErrorChatItem=null,this.bingGeocoderIndexedDB=null,this.a11yShowAsMatrix=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.storytellingTitleSuggestion=null,this.storytellingRefreshNotification=null,this.teamsPersonalAppSideNav=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitStatusAPI=null,this.tridentGitOnShared=null,this.tridentGitSwitchBranch=null,this.tridentGitConflictResolution=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.tridentGitForkBranch=null,this.tridentGitRelatedNavigation=null,this.interactiveOperationUI=null,this.passReportIdToOnloadBookmark=null,this.standaloneUseDashboardNew=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.removeScaleDetector=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.enableGen2DataflowsDisabledScheduleRefreshNotice=null,this.logDataflowGen2MenuItemInformation=null,this.logDataflowsDebugInfo=null,this.disableRetrievalOfGen2DataflowPublishedVersionOnFailureToRetrieveDraft=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableDropdownSlicerPopupOnScroll=null,this.mobileSkipPreloadConceptualSchema=null,this.mobileNewDashboardConsumption=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.spatialAnchorsAdminUI=null,this.quickExploreMultiTable=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.modernGetData=null,this.getDataCSVConnector=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.delayGroupMetadataForQC=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.rlsSwitchReportEnabled=null,this.disambiguationPreferences=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.useBlobForEncryptedExploration=null,this.OneLakeUXS3Cache=null,this.newManageRelationshipDialog=null,this.getDatasetInfoViaStore=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.ASFixedIdentityByDatasourceBindingState=null,this.allowDirectLakeDataValidation=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.supportLargeStorageModePbixDownload=null,this.trialCapacityFAQ=null,this.unifiedHomepageM1=null,this.embedGetIncludeExcludeMultiTargetsFilter=null,this.DetermineIsCloudMonikerDatasourceByOnPremGatewayRequired=null,this.rlsExternalReportImpersonationEnabled=null,this.tridentGitGitHubApis=null,this.downloadPbixAsync=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.showTridentArtifactsOnPBIHomeList=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFreeLicenseAllowances=null,this.createArtifactPanel=null,this.createArtifactPanelCompanyInfo=null,this.tridentMultitasking=null,this.tridentMultitaskingInPBI=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingSJD=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentNonContextualCreation=null,this.tridentPreviewSuffix=null,this.tridentProductApiPlayground=null,this.tridentProductAppDevelopment=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.tridentRecommendationStyle=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedAzureSQLdb=null,this.MountedPostgreSqlFlexibleServer=null,this.MountedAzureSQLManagedInstance=null,this.ASWorkspaceConfigurableServerProperty=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.enableGen2DataflowsIncrementalRefresh=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXS3CompatibleShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXS3CompatibleStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.oneLakeUXDatabricksShortcut=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.oneLakeUXPQGatewaySettingsForADLS=null,this.oneLakeUXPQGatewaySettingsForDataverse=null,this.oneLakeUXPQGatewaySettingsForGCP=null,this.oneLakeUXPQGatewaySettingsForS3=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingCustomRequestAccess=null,this.appArtifactLevelSecurity=null,this.DownloadReportOptionsDialogEnabled=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.onObjectTemplateFlyout=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewNav=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexICMAction=null,this.reflexFabricJobAction=null,this.reflexEnrichmentComponent=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBICoachMark=null,this.reflexPBIMultiDimension=null,this.reflexPBITextMeasure=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIPaneExpOn=null,this.reflexPBIArtifact=null,this.reflexGetEventsWizard=null,this.reflexTriggerPane=null,this.useNewToolbar=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentNotebookMetadataUpdate=null,this.tridentNotebookCommentTagAccessCheck=null,this.tridentSparkMetrics=null,this.tridentTSQLNotebook=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.newMobileTooltip=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.blockExpiredTokenRequestForEmbed=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.eimSensitivityDropdownReactHomeOne=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.directChangeFormFactor=null,this.layoutSwitcher=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.selfServeTenantSettings=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHeaderV2=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.tridentFeedbackPane=null,this.showDataDrivenRdlSubscriptions=null,this.useCommunityNewDomain=null,this.useColoredIcons=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.reportCreationCopilotDebuggingLogs=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.FabricIdentitySharing=null,this.workspacePrivateEndpoints=null,this.privateEndpointsDemoMode=null,this.schemaReduction=null,this.workspacePillFilter=null,this.rdlParamAuthoring=null,this.useLayoutEditor=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almAsyncDiff=null,this.almPartialAsyncDiff=null,this.increaseOrgAppAudiences=null,this.orgAppDeprecation=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.visualDropShadow=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.iaShowCompositeModelsRelationship=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.newMonitoringHubPage=null,this.datahubLastAccessColumn=null,this.newDatasetDetailsPage=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.allowSortColumns_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.hostDetailsRequired_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.refreshHistoryActionDataset_HEAD_L2_FE=null,this.appMetadataSlimEffects_HEAD_DataHub_Embed_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.creatorsEmptyExp_HEAD_PurviewHub_FE=null,this.Creators_HEAD_PurviewHub_BE_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.main_HEAD_ExternalDataSharingV2_FE=null,this.datamartFieldListFiltering=null,this.managePermissions_HEAD_ExternalDataSharing_FE=null,this.nonFabric_HEAD_PurviewHub_FE=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.customizedNavbar=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.itemHoverCard_HEAD_FE=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.ASConfigureParallelSourceQueriesInCapacity=null,this.useModernMashupEditor=null,this.debugReportAuthoring=null,this.enhancedReportFormat=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCustomVisuals=null,this.dataExploreUndoRedo=null,this.dataExploreGrantModelPermission=null,this.dataExploreVisualEP=null,this.dataExploreSaveLayout=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.customVisualsGallery=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.newWorkloadHubPage=null,this.SqlDbNative_QueryAutoCompletion=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.onObjectSmallMultiples=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.goalsMoveScorecard=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.updateScorecardDataset=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.goalsCopyScorecard=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.goalsSkipScorecardCreationPane=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.manageRelationshipAutodetect=null,this.diagramLayoutWebWorker=null,this.dialogReflow=null,this.relationshipEditPane=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmhDeleteCapability=null,this.EnforceDMHWorkloadProvisioning=null,this.EnforceDMHTipsIntegration=null,this.dmhShowImagingCapability=null,this.dmhShowPatientOutreachAnalyticsCapability=null,this.dmrPreloadExtension=null,this.dmsPreloadExtension=null,this.enableM365CapabilityInSustainabilitySolutions=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.lhTableNameWithSpace=null,this.lhSchemaSupport=null,this.lhDataArtifact=null,this.lhAutomaticRouting=null,this.sqlDbNative_PerformanceDashboard=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.dynamicFormatString=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.alignPBIHomeWithTrident=null,this.metricsHub=null,this.metricsHubUseMetricList=null,this.tridentInformationProtectionDSIUI_HEAD_DataProtection_FE=null,this.scorecardSplitColumns=null,this.scorecardListViewSettings=null,this.reportVisualsTutorial=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.taskflowRecommendationForPBIWorkspace=null,this.unifyTaskflowAndListView=null,this.orgAppV2Copilot=null,this.odspSaveBackgroundUpload=null,this.backendNotificationMsgBar=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.testExperimentationSwitch=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.requestAccessNotifV2=null,this.deferExplorationStateCapture=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.DeclutterFirstRunExperienceExp=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.WebModelingSharedAuthoring=null,this.WebModelingAllowXmlaModifiedModels=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domainDelegatedSettings=null,this.domainDelegatedSettingsNewUI_HEAD_FE=null,this.domainDelegatedCertifyDatasetsEnabled=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.moveDomainElements_HEAD_mesh_FE=null,this.allowReassignByTenant_HEAD_DataDomain_FE=null,this.lineageViewCertifiedEvents=null,this.excludeDomainSearch_HEAD_mesh_FE=null,this.domainsForL2_HEAD_DataDomain=null,this.domainsForFlyout_HEAD_DataDomain=null,this.taggingMain_HEAD_tagging_FE=null,this.navigateToDatasetDetails=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.dlpHoverCardPolicies_HEAD_DLP_FE=null,this.restrictAccess_HEAD_DLP_FE=null,this.restrictAccessOverrideAction_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifact_HEAD_DLP_FE=null,this.hoverCardRelatedContent_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.reduceExternalArtifacts_HEAD_Lineage_FE=null,this.enableLineageForViewer_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.workspaceLineageView_HEAD_Lineage_FE=null,this.lineageV3_HEAD_RelationsPlatform_FE=null,this.upstreamV3_HEAD_RelationsPlatform_FE=null,this.downstreamV3_HEAD_RelationsPlatform_FE=null,this.datahubL2RelationsDiagram_HEAD_lineage_FE=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.datahubUnifyRecentAndAll=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.modernOfficeFilePicker=null,this.emCVBundle=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.tridentArtifactAccess=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.preloadDES=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.tenantSettingVisualCue=null,this.tenantSettingsDefaultCheckbox=null,this.tenantSettingsSearchBarFE=null,this.tenantSettingIntProperty=null,this.showDataActivatorDefaultCheckbox=null,this.showHighlightTenantSettingSearchBar=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.createArtifactWithTridentTrial=null,this.createWorkspaceWithTridentTrial=null,this.trialLimit=null,this.trialSignUpGoToFabricHome=null,this.trialSignUpShowSamples=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.fabricConferencePromotionSwitch=null,this.fabricConfMsgBar=null,this.useItemRenderer=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwPipeline=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesIncludeInsights=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT4Turbo=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesDV3=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesReportSummary=null,this.aiNarrativesEmptyState=null,this.aiNarrativesDisablePermanentPaused=null,this.aiNarrativesPreferLowDataVolume=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.tridentLegacyPanel=null,this.saveAsTable=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.datahubEmbedMain_HEAD_LicenseAutoassignmentFailedHandling_FE=null,this.disableLeavePageEnd=null,this.relatedArtifactSharing=null,this.newCard=null,this.notebookNewPythonCompleter=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.tridentAlm_Environment=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.useExtensionsManifestsModule=null,this.useLegacyProductSwitcher=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.disableFabricAdminPortalTitle=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.parentChildInWorkspace=null,this.parentChildWithRelationsStore_HEAD_Relations_FE=null,this.hiddenInWorkspace=null,this.daxQueryView=null,this.dedsEnableAzNBProxy=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.showSharedWithMeInHomeQuickAccess=null,this.sqlCompletionQuickActions=null,this.sqlCopilot=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotPane=null,this.exploreCopilotSuggestions=null,this.exploreCopilotQuestionSkill=null,this.exploreCopilotSkillsInAuthoring=null,this.exploreCopilotReportSummary=null,this.exploreCopilotSendChatHistory=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.extensionCDNAPP=null,this.extensionCDNADX=null,this.rdsCapabilityFBT=null,this.rdsCapabilitySitecore=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.rlsDaxEditor=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.enableHoverCardOnCompactView_HEAD_DataHub_CompactView_FE=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.cartesianExtStylesColumn=null,this.cartesianExtStylesColumn2=null,this.lineExtStyles=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.copilotLicensingUx=null,this.copilotLicensingNoneCapacityHandling=null,this.copilotPanePreview=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racSuggestTopicsDV3Support=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.racConversationalPageCreation=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.OneLakeDataverseBrowse=null,this.allowOnlySingleShortcutCreationInKQL=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.share_HEAD_ExternalDataSharing_FE=null,this.dataflow_HEAD_CompactView_FE=null,this.loadedAllService_HEAD_CompactView_FE=null,this.pipelineCopilotEnabled=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.OnPremRuntimeIntegration=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.daxInlineCopilot=null,this.daxInlineCopilotQueryValidation=null,this.EnableReportExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.ModelingServiceMarkAsDateTable=null,this.detectFabricCapacityStateErrors=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.showMirroredDatabaseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.suppress3pExtensionClientHardening=null,this.directLakeRemoteModeling=null,this.impactOfPaginatedReportInDP=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.OneLakeUXShortcutBatchApi=null,this.OneLakeBrowseWithStorageAudience=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null,this.FuncSetPythonSupport=null,this.FuncSetEventHub=null,this.KustoGenerateQuery=null,this.ArtifactKustoDashboard=null,this.trackLocalizationLoaderIssues=null,this.dedsNotebookResourceUsage=null,this.dedsSparkMonitoringL2DetailPanelSparkConf=null,this.dedsSparkMonitoringRunSeries=null,this.manualTrialInitiationExperiment=null,this.OpenAIMwcForML=null,this.labelEnhancementsM1=null,this.rowLevelSecurity=null,this.getWorkspaceFromSubscriptionInfo=null,this.artifactIdForCopilotCapability=null,this.enablePromptEncodingClientsForAIEndpoint=null,this.artifactIdForUsageMetadata=null,this.disableRelativePositionStrategy=null,this.enableDynamicSubscriptions500RowLimit=null,this.enableDynamicSubscriptions1000RowLimit=null,this.enableDynamicSubscriptionsPbix500RowLimit=null,this.enableDynamicSubscriptionsPbix1000RowLimit=null,this.desktopReportAuthoringCopilot=null,this.copilotWorkspacePicker=null,this.subscriptionDeliveryToODSP=null,this.subscriptionDeliveryToODSPUI=null,this.buttonSlicerTableLayout=null,this.fabricTrialExpirationExperience=null,this.enableGPT4ForDatasetSummary=null,this.enableGPT4ForSuggestTopicSkill=null,this.autoAddDefaultDatasetDefaultValueUpdate=null,this.OneLakeADLSBrowse=null,this.OneLakeS3Browse=null,this.OneLakeGCPBrowse=null,this.OneLakeS3CompatibleBrowse=null,this.feedbackInHelpPane=null,this.homeOnboardingModalExperiment_variantA=null,this.homeOnboardingModalExperiment_variantB=null,this.homeOnboardingModalExperiment_variantC=null,this.homeOnboardingModalExperiment_skip_FRE=null,this.useCDKVirtualScroll=null,this.reportMessageBar=null,this.azureMapGeocodingRequireLocalCache=null,this.dedsNotebookPaneSide=null,this.oneRiverHubPage=null,this.useNewCommunitySearchService=null,this.autoMLDeprecateNewModels=null,this.SortByColumnDataQueryValidation=null,this.ASWritethruDeleteArtifactFolderUI=null,this.showGetDataInGraphql=null,this.AINarrativesForceDV3=null,this.AINarrativesForceGPT4=null,this.AINarrativesForceGPT4Turbo=null,this.copilotSummaryEmbedApi=null,this.showGetDataInFuncSet=null,this.homeOnboardingModalPart2Experiment_variantA=null,this.homeOnboardingModalPart2Experiment_variantB=null,this.enableHorizontalScrollOnL1_HEAD_DataHub=null,this.streamingDataflowQueryTestV2=null,this.tridentStreamingGetDataPoC=null,this.enableEventstreamV2Entry=null,this.simplifiedLeftNavigationPinExperienceTest_variantA=null,this.simplifiedConsumptionHomepageExperienceTest_variantB=null,this.enableOneLakeSecurityDataAccess=null,this.dedsSparkMonitoringLogFilterNB=null,this.adjustCopyVisualViewportInLoadTile=null,this.ShortcutNameAllowSpace=null,this.showThemeSwitcherInTitlebar=null,this.dataQuestionRewording=null,this.subscriptionsCopilotSummary=null,this.OneLakeCSTApiEndpoint=null,this.enableEventstreamDerivedStreams=null,this.enableEventstreamDiscreteEvents=null,this.FuncSetUseUDFs=null,this.notebookUseNewAznbCDN=null}}()},314538:function(ze,K,r){r.d(K,{A:function(){return t}});var t={annotationsUI:8,exp_deferVCLoadingChangeSection:2088959,exp_deferVCLoadingChangeSectionEmbed:8192,exp_noEmptyUpdate:2088959,noEmptyUpdate:2088959,noEmptyUpdateEmbed:8192,personalVisualizationPaneEnabled:2088959,queryCancellation:25,reportAnnotationsUI:10,stickyFeatureSwitches:2088959,userFavoriteResourcePackagesEnabled:2088959}},641484:function(ze,K,r){r.d(K,{pL:function(){return W},MF:function(){return f}});var t=r(723342),c=r(629925),i=r(608014),s=r(452771),p=r(630326),V=r(735006),m=r(868181),v=r(690016),h="infonav-additionalError",n="infonav-showAdditionalError";function a(U,j){var z=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",U));return z.find(".infonav-errorInfoText").text(j||""),z.html(z.html().replace(/\n/g,"<br/>")),z}var d=r(163652),b=function(U){return U[U.Info=0]="Info",U[U.Warning=1]="Warning",U[U.SecurityWarning=2]="SecurityWarning",U}({}),f="https://support.powerbi.com",R="infonav-modalContainerHost",B="."+R,x="infonav-describedBy",A='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="infonav-modalDialog" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="infonav-dialogTitle" id='+x+' role="heading" aria-level="1"></div><input type="button" class="infonav-dialogCloseIcon" data-testid="infonav-modal-dialog-close-btn"></input><div class="infonav-dialogContent" data-testid="infonav-modal-dialog-content"><div class="infonav-dialogActions"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>',w='<input type="button" class='.concat("pbi-fluent-button","></input>"),W=function(){function U(j,z){this.dialogHost=j,this.localizationMap=z,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}return U.prototype.refocus=function(){this.modalContainer.focus()},U.prototype.showMessage=function(j,z,G,te){var Q=this;this.ensureInitialized();var Y,H=[];if(G||(G=this.localizationMap?this.localizationMap.closePromptText:m.Ky),te){var se=$('<a target="_blank"></a>').text(te.label).attr("href",te.url);Y=$("<div></div>").text(z+" ").append(se),z=void 0}H[0]=this.createButton(G,function(){Q.hideDialog()},null,"primary"),this.pushMessage(j,z,Y,H,!0)},U.prototype.showPrompt=function(j,z,G,te){this.ensureInitialized();for(var Q=new Array,H=0;H<G.length;H++){var de=G[H],Y=de.cssClass;0===H&&(Y+=" primary"),Q[H]=this.createButton(de.labelText,de.actionCallback,de.data,Y,de.disabled)}this.pushMessage(j,z,void 0,Q,!!te)},U.prototype.showError=function(j,z,G,te,Q){this.showCustomError(m.g_,j,z,z!==s.U.Fatal,G,te,Q)},U.prototype.showCustomError=function(j,z,G,te,Q,H,de,Y,se,ce,pe,ve,De){var We=this;this.ensureInitialized();var Ae,je=new Array;de?de.forEach(function(oe){je.push(We.createButton(oe.label,function(){We.hideDialog(),$.isFunction(H)&&H(oe.resultValue)},null,oe.cssClass,oe.disabled))}):je[0]=G!==s.U.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:m.Ky,function(){We.hideDialog(),$.isFunction(H)&&H(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:m.Pu,function(){window.location.reload()},null,"primary"),Ae=ce?$("<div></div>").append(ce):$("<div></div>").text(z);var le,_e=$("<div></div>").addClass("infonav-dialogFooter");if(!_.isEmpty(Q)){le=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:m.q5,pe&&(le=pe),Ae.append($("<br/>")).append(le);var Z=this.localizationMap?this.localizationMap.copyPromptText:m._T,ie=this.localizationMap?this.localizationMap.copySuccessText:m.Eu,me={title:j,message:ce?ce.text():z,helperText:le,additionalErrorInfo:Q},ye=$("<button></button>").text(Z).addClass("modalCopyToClipboard").click(function(){We.tryCopyToClipboard(me)&&(ye.text(ie).addClass("modalCopySuccess"),setTimeout(function(){ye.text(Z).removeClass("modalCopySuccess")},3e3))});_e.prepend(ye)}this.addAdditionalErrorInfo(Ae,Q,this.localizationMap?this.localizationMap.showTechnicalDetailsText:m.b),Y&&(Y.url===f||Y.isGetHelpTextReplaced?_e.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(Y.label).attr("href",Y.url)):je.unshift(this.createButton(Y.label,function(){window.open(Y.url)},null,"primary"))),Ae.append(_e),this.pushMessage(j||m.g_,void 0,Ae,je,te,se,void 0,void 0,ve,De)},U.prototype.showCustomDialog=function(j,z,G,te,Q,H,de,Y,se,ce,pe,ve,De,We,je,Ae,_e,le){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var Z=[];je&&(Z[0]=this.createCheckbox(je.labelText,je.actionCallback,je.data));for(var ie=G.findIndex(function(Se){return(null==Se?void 0:Se.type)===d.s.Button}),me=0;me<G.length;me++){var ye=G[me],oe=ye.cssClass;!ve&&me===ie&&(oe+=" primary"),Z[je?me+1:me]=ye.type===d.s.Link?this.createLink(ye.labelText,ye.link):this.createButton(ye.labelText,ye.actionCallback,ye.data,oe,ye.disabled)}if(_e){var ue=$("<p></p>").append($('<a target="_blank"></a>').text(_e.label).attr("href",_e.url));z=z.append(ue)}return this.pushMessage(j,void 0,z,Z,!!Q,se,te,H,de,Y,ce,pe,ve,De,We,Ae,le),this.dialogContent},U.prototype.hideDialog=function(){var j=this;this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,function(){j.modalContainer.css(c.SU,c.zu),j.modalDialogElement.removeClass(j.modalDialogCustomClass),j.modalContainer.removeClass(j.modalContainerCustomClass),j.currentModalDialogMessage&&j.currentModalDialogMessage.onDialogClosed&&j.currentModalDialogMessage.onDialogClosed(),j.messageCurrentlyShown=!1;var z=j.messageQueue.shift();z?j.showDialogInternal(z):(j.modalContainer.off(),j.modalContainer.remove(),$(B).off(),$(B).remove(),j.initialized=!1,j.unregisterFocusManager&&j.unregisterFocusManager())})},U.prototype.ensureInitialized=function(){var j=this;if(!this.initialized){if(this.modalContainer=$(A),this.modalDialogElement=this.modalContainer.find(".infonav-modalDialog"),this.dialogTitle=this.modalContainer.find(".infonav-dialogTitle"),this.dialogCloseButton=this.modalContainer.find(".infonav-dialogCloseIcon"),this.dialogContent=this.modalContainer.find(".infonav-dialogContent"),this.dialogActions=this.modalContainer.find(".infonav-dialogActions"),this.dialogCloseButton.on(i.G6,function(){return j.hideDialog()}).on("keydown",function(G){27===G.keyCode&&j.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:m.Ky).attr("name",this.localizationMap?this.localizationMap.closePromptText:m.Ky).attr("title",this.localizationMap?this.localizationMap.closePromptText:m.Ky),!this.dialogHost){var z=$(B);_.isEmpty(z)||z.remove(),(z=(0,t.hi)().addClass(R)).attr("role","dialog"),z.attr("aria-labelledby",x),this.dialogHost=$(i.iV).append(z),this.dialogHost=z}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=p.IK.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}},U.prototype.updatePosition=function(j){var z=(this.modalContainer.height()-this.modalDialogElement.height())/2,G=(this.modalContainer.width()-this.modalDialogElement.width())/2,te={top:z+c.SJ,left:G+c.SJ};j?this.modalDialogElement.animate(te,250):this.modalDialogElement.css(te)},U.prototype.addAdditionalErrorInfo=function(j,z,G){var te=this;if(!_.isEmpty(z)){for(var Q=$("<p ></p>"),H=0,de=z;H<de.length;H++){var Y=de[H];Q.append(a(Y.errorInfoKey,Y.errorInfoValue))}var se=function(U,j){var z=$("<div ></div>"),G=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return G.addClass(n),G.text(j||m.b),G.on(i.G6,function(){z.find(v.b$.createClassSelector(n)).remove(),z.find(v.b$.createClassSelector(h)).css(c.SU,c.jO)}),U.css(c.SU,c.zu),U.addClass(h),z.append(G),z.append(U),z}(Q,G);j.append($("<br />")),j.append(se),j.find(".showAdditionalDetailsLink").on(i.G6,function(){te.updatePosition(!0)})}},U.prototype.pushMessage=function(j,z,G,te,Q,H,de,Y,se,ce,pe,ve,De,We,je,Ae,_e){void 0===Q&&(Q=!0),void 0===se&&(se=""),void 0===ce&&(ce=""),void 0===_e&&(_e=""),this.messageQueue.push({titleText:j,messageText:z,dialogContent:G,dialogButtons:te,onDialogDisplayed:de,isDismissable:Q,dialogCssClass:se,dialogActionsCssClass:_e,containerCssClass:ce,onDialogClosed:H,notificationType:pe,notificationText:ve,htmlMessageText:We}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),Y,De,je,Ae)},U.prototype.tryCopyToClipboard=function(j){if(!j)return!1;var z=[];if(j.title&&z.push(j.title),j.message&&z.push(j.message),j.helperText&&z.push(j.helperText),j.additionalErrorInfo)for(var G=0,te=j.additionalErrorInfo;G<te.length;G++){var Q=te[G];z.push("".concat(Q.errorInfoKey,": ").concat(Q.errorInfoValue))}var H=z.join("\n");try{return(0,V.Ue)().copyText(H),!0}catch(Y){return!1}},U.prototype.showDialogInternal=function(j,z,G,te,Q){var H=this;if(this.currentModalDialogMessage=j,this.messageCurrentlyShown=!0,this.dialogContentNotification=$('<div class="infonav-dialogContentNotification"><span class="glyphicon"></span><span class= "infonav-dialogContentNotificationText" > </span></div>'),this.dialogContentNotificationIcon=this.dialogContentNotification.find(".glyphicon"),this.dialogContentNotificationText=this.dialogContentNotification.find(".infonav-dialogContentNotificationText"),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(j.titleText).attr("title",j.titleText),te?(this.appendNotification(j.notificationType,j.notificationText),this.appendMessageText(j.dialogContent,j.messageText,j.htmlMessageText)):(this.appendMessageText(j.dialogContent,j.messageText,j.htmlMessageText),this.appendNotification(j.notificationType,j.notificationText)),this.dialogCloseButton.css(c.SU,j.isDismissable?c.jO:c.zu),j.dialogButtons.length>0){this.dialogActions.show();for(var de=0,Y=j.dialogButtons;de<Y.length;de++)this.dialogActions.append(Y[de])}else this.dialogActions.hide();var ce=this.dialogContent.find(".".concat("infonav-dialogFooter"));ce.length>0?ce.append(this.dialogActions):this.dialogContent.after(this.dialogActions),j.dialogCssClass&&(this.modalDialogElement.addClass(j.dialogCssClass),this.modalDialogCustomClass=j.dialogCssClass),j.containerCssClass&&(this.modalContainer.addClass(j.containerCssClass),this.modalContainerCustomClass=j.containerCssClass),j.dialogActionsCssClass&&this.dialogActions.addClass(j.dialogActionsCssClass);var pe=this.modalContainer.css(c.SU)===c.zu?this.modalContainer:this.modalDialogElement;pe.fadeTo(0,0),this.updatePosition(!1),pe.fadeTo(250,1,function(){if(j.onDialogDisplayed&&j.onDialogDisplayed(H.dialogContent),!(H.modalDialogElement.find("dialog-frame").length>0)){0===H.modalDialogElement.find(":focus").length&&H.modalDialogElement.focus(),Q&&H.modalDialogElement.keydown(function(De){27===De.keyCode&&H.hideDialog()});var ve=H.dialogActions.find("input");!G&&ve.length>0&&ve[0].focus(),z&&H.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})},U.prototype.appendMessageText=function(j,z,G){_.isEmpty(z)&&j?this.dialogContent.append(j):this.dialogContent.text(z),_.isEmpty(G)||(this.dialogContentMessage=this.dialogContent.find(".dialogMessage"),this.dialogContentMessage.html(G))},U.prototype.appendNotification=function(j,z){if(null!==j&&!_.isEmpty(z)){switch(j){case b.Info:this.dialogContentNotificationIcon.addClass("pbi-glyph-info glyph-mini"),this.dialogContentNotification.addClass("typeInfo");break;case b.Warning:this.dialogContentNotificationIcon.addClass("pbi-glyph-warning glyph-mini"),this.dialogContentNotification.addClass("typeWarning");break;case b.SecurityWarning:this.dialogContentNotificationIcon.addClass("pbi-glyph-securityalert glyph-mini"),this.dialogContentNotification.addClass("typeSecurityWarning")}this.dialogContentNotificationText.html(z),this.dialogContent.append(this.dialogContentNotification)}},U.prototype.createButton=function(j,z,G,te,Q){var H=this,de=$(w);return de.attr("value",j),de.attr("data-testid","infonav-dialog-action-".concat(j)),de.on(i.G6,function(){z(de,H.dialogContent,G)}),te&&de.addClass(te),Q&&de.prop("disabled",!0),de},U.prototype.createCheckbox=function(j,z,G){var te=this,H=$('<div class="pbi-input checkbox"><input type="checkbox"></input><label class="form-label">'+j+"</label></div>"),de=H.find("input");return de.on(i.AA,function(){z(de,te.dialogContent,G)}),H},U.prototype.createLink=function(j,z,G){void 0===z&&(z=""),void 0===G&&(G=!0);var Q="<div>\n                <br>\n                    <a href=".concat(z," target='_blank' class='pbi-external-link'>\n                        ").concat(j).concat(G?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":"","\n                    </a>\n                <br>\n            </div>");return $(Q)},U.prototype.modalDialogResizeHandler=function(){this.updatePosition(!1)},U}()},163652:function(ze,K,r){r.d(K,{l:function(){return c},s:function(){return t}});var t=function(i){return i.Button="Button",i.Link="Link",i}({}),c=function(){return function(s,p,V,m,v,e,h){this.type=t.Button,this.link="",this.labelText=s,this.actionCallback=p,this.data=V,this.cssClass=m,this.disabled=!!v,this.type=e||this.type,this.link=h||this.link}}()},338780:function(ze,K,r){r.d(K,{IH:function(){return b},Kk:function(){return n},TX:function(){return d},cN:function(){return l},gh:function(){return e},ih:function(){return h},jC:function(){return u},nK:function(){return f},nY:function(){return S},u5:function(){return g},uL:function(){return y},xv:function(){return o}});var t=r(489470),c=r(787941),i=r(764365),s=r(289135),p=r(690016),V=r(993370),m="/Date(";function e(C){return c.fF.assertValue(C,"date"),(C.getTime()-6e4*C.getTimezoneOffset())%864e5==0}function h(){return"undefined"!=typeof moment}function n(C){var E=o(C);if(E)return E;c.fF.assert(function(){return h()},"Moment.js should be loaded for non-fast parseIsoDate.");var D=moment(C);return D.isValid()?D.toDate():null}function o(C){if(C){var E=C.length;if(!(E<=18||E>28)){var D=C[10];if("-"===C[4]&&"-"===C[7]&&("T"===D||" "===D)&&":"===C[13]&&":"===C[16]){var P=(0,V.l)(C,0,4),M=(0,V.l)(C,5,2),T=(0,V.l)(C,8,2),R=(0,V.l)(C,11,2),B=(0,V.l)(C,14,2),N=(0,V.l)(C,17,2),x="Z"===C.charAt(E-1);x&&E--;var A=0;if(E>19){if("."!==C[19])return;var I=E-20,w=(0,V.l)(C,20,I);if(null===w)return;A=w*(0,i.wA)(3-I)}if(null!==P&&null!==M&&null!==T&&null!==R&&null!==B&&null!==N&&null!==A)return x?new Date(Date.UTC(P,M-1,T,R,B,N,A)):(0,s.yI)(P,M-1,T,R,B,N,A)}}}}function u(C){return c.fF.assert(function(){return h()},"Moment.js should be loaded for parseUtcDate."),moment.utc(C).toDate()}function l(C){if(p.b$.throwIfNullOrEmptyString(C,null,"deserializeDate","Cannot deserialize empty string"),(0,t.BF)(0===C.indexOf(m)&&_.endsWith(C,")/"),"Cannot deserialize empty string"),h()){var E=moment(C);return(0,t.BF)(E.isValid(),"parsedValue.isValid must be true"),E.toDate()}var D=C.substring(m.length,C.length-")/".length);(0,t.BF)(/^\-?\d+$/.test(D),"Cannot deserialize invalid date");var P=parseInt(D,10);return(0,t.BF)(!isNaN(P),"Cannot deserialize invalid date"),new Date(P)}function d(C){try{return l(C)}catch(E){}}function b(C,E,D,P){c.fF.assertValue(C,"date");var M=moment().subtract(D,E);return P&&(M=M.startOf(E)),moment(C)>=M}function f(C,E){return c.fF.assertValue(E,"date"),E.toLocaleTimeString(C,{second:"numeric",minute:"numeric",hour:"numeric"})}function g(C,E){return c.fF.assertValue(E,"date"),E.toLocaleDateString(C,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function S(C,E){return c.fF.assertValue(E,"date"),E.toLocaleDateString(C,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function y(){return(new Date).toISOString()}},37743:function(ze,K,r){r.d(K,{s:function(){return i}});var t=r(831917),c={},i=function(){function m(){}return m.clearQueryString=function(v){var e=m.parseQueryString();return delete e[v],m.rebuildQueryString(e)},m.clearQueryStrings=function(v){for(var e=m.parseQueryString(),h=0,n=v;h<n.length;h++)delete e[n[h]];return m.rebuildQueryString(e)},m.addOrUpdateQueryString=function(v,e){var h=m.parseQueryString();return h[v]=e,m.rebuildQueryString(h)},m.addOrUpdateQueryStringToUrl=function(v,e){for(var h=m.parseUrl(v),n=m.clearAllQueriesFromUrl(v),o=0,u=Object.keys(e);o<u.length;o++){var a=u[o];h[a]=e[a]}return n+m.rebuildQueryString(h)},m.getQueryStringValue=function(v){return m.parseQueryString()[v]},m.isQueryParamSet=function(v,e){var h=c[v];if(!e||void 0===h){var n=m.getQueryStringValue(v);h=null!=n&&"false"!==n&&("1"===n||"true"===n.toLowerCase()||n.length>1),e&&(c[v]=h)}return h},m.parseUrl=function(v){var e=v.indexOf("?"),h=e>=0?v.substr(e):void 0;return m.parseQueryString(h)},m.parseQueryString=function(v){void 0===v&&(v=window.location.search);var e={},h=v;if(h&&"?"===h.substr(0,1))for(var o=0,u=h.substr(1).split("&");o<u.length;o++){var l=u[o].split("="),d=l[0],f=l.slice(1).join("=");e[decodeURIComponent(d)]=decodeURIComponent(f)}return e},m.parseQueryStringWithMultipleKeyValues=function(v){void 0===v&&(v=window.location.search);var e={},h=v;if(h&&"?"===h.substr(0,1))for(var o=0,u=h.substr(1).split("&");o<u.length;o++){var l=u[o].split("="),d=l[0],f=l.slice(1).join("="),g=decodeURIComponent(f);e[decodeURIComponent(d)]?e[decodeURIComponent(d)].push(g):e[decodeURIComponent(d)]=[g]}return e},m.rebuildQueryString=function(v){var e="",h=!0;for(var n in v)h||(e+="&"),e+=encodeURIComponent(n)+"=",v[n]&&(e+=encodeURIComponent(v[n])),h=!1;return h||(e="?"+e),e},m.clearAllQueriesFromUrl=function(v){var e=v.indexOf("?"),h=v.indexOf("#");return h>=0&&(h<e||-1===e)&&(e=h),e>=0?v.substr(0,e):v},m.fileOfUrl=function(v){var e=(v=m.clearAllQueriesFromUrl(v)).lastIndexOf("/");return-1!==e&&(v=v.substring(e+1)),v},m.OriginClientActivityIdParameterName="caid",m.OriginRootActivityIdParameterName="raid",m.OriginActivityIdParameterName="aid",m}();function s(){var m=(0,t.kx)();return m.QueryStringUtil||(m.QueryStringUtil={}),m.QueryStringUtil}var V=!1;!function(){if(!V){var m=i.getQueryStringValue;s().getQueryStringValue=function(e){return m(e)};var v=i.parseQueryString;s().parseQueryString=function(e){return void 0===e&&(e=window.location.search),v(e)},V=!0}}()},235635:function(ze,K,r){r.d(K,{U:function(){return i},w:function(){return s}});var c,t=r(787941);function i(V){return new p(V)}function s(V){return new p(V)}var p=function(){function V(m){var v=this;this[c]="Promise",t.fF.assertValue(m,"deferred"),this.deferred=m,this.state=0,m.promise.then(function(){return v.state=1},function(){return v.state=2})}return V.prototype.then=function(m,v){return this.deferred.promise.then(m,v)},V.prototype.catch=function(m){return this.deferred.promise.catch(m)},V.prototype.finally=function(m){return this.deferred.promise.finally(m)},V.prototype.resolved=function(){return 1===this.state},V.prototype.rejected=function(){return 2===this.state},V.prototype.pending=function(){return 0===this.state},V.prototype.reject=function(m){this.pending()&&(this.deferred.reject(m),this.state=2)},V}();c=Symbol.toStringTag},993370:function(ze,K,r){r.d(K,{e:function(){return s},l:function(){return i}});var t=r(787941),c=r(764365);function i(p,V,m){if(t.fF.assertValue(p,"fullString"),t.fF.assertValue(V,"from"),t.fF.assertValue(m,"length"),t.fF.assert(function(){return V>=0},"from >= 0"),t.fF.assert(function(){return m>=0},"length >= 0"),t.fF.assert(function(){return V+m<=p.length},"(from + length) <= fullString.length"),0===m)return null;for(var v=0,e=0,h=V+m-1;e<m;e++,h--){var n=p.charCodeAt(h)-48;if(n<0||9<n)return null;v+=n*(0,c.wA)(e)}return v}function s(p,V){return t.fF.assertValue(p,"literalStringToRegex - string"),t.fF.assertAnyValue(V,"literalStringToRegex - flags"),new RegExp(p.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),V)}},868181:function(ze,K,r){r.d(K,{Eu:function(){return g},Ky:function(){return o},Pu:function(){return u},QA:function(){return d},T8:function(){return l},_T:function(){return f},b:function(){return n},g_:function(){return a},q5:function(){return b}});var n="Show technical details",o="Close",u="Refresh Page",a="oops, something went wrong",l="Unsupported browser detected",d="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",b="Please try again later or contact support. If you contact support, please provide these details.",f="Copy",g="Success!"},838302:function(ze,K,r){function t(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch(a){return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function i(){var o=window.navigator.userAgent.toLowerCase();return o.indexOf("msie ")>-1||o.indexOf("trident/")>-1}function p(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}r.d(K,{G6:function(){return p},TY:function(){return t},rO:function(){return i}})},584452:function(ze,K,r){function t(i,s){if(s&&s.document&&s.document.cookie)for(var V=0,m=s.document.cookie.split(";");V<m.length;V++){var e=m[V].split("=");if(e.length>0&&e[0].trim()===i)return e[1]}}r.d(K,{e:function(){return t}})},249484:function(ze,K,r){function c(v,e){var h=function(v){var e=window.performance.getEntriesByType("resource").filter(function(n){return"xmlhttprequest"===n.initiatorType&&-1!==n.name.indexOf(v)});if(e&&1===e.length)return e[0]}(v);return!!h&&(i(h,e),!0)}function i(v,e){v&&(e.timeOrigin=window.performance.timeOrigin,e.decodedBodySize=v.decodedBodySize,e.duration=v.duration,e.encodedBodySize=v.encodedBodySize,e.transferSize=v.transferSize,e.connectEnd=v.connectEnd,e.connectStart=v.connectStart,e.domainLookupEnd=v.domainLookupEnd,e.domainLookupStart=v.domainLookupStart,e.fetchStart=v.fetchStart,e.redirectEnd=v.redirectEnd,e.redirectStart=v.redirectStart,e.requestStart=v.requestStart,e.responseEnd=v.responseEnd,e.responseStart=v.responseStart,e.secureConnectionStart=v.secureConnectionStart,e.startTime=v.startTime,e.workerStart=v.workerStart,null!=v.responseStart&&null!=v.startTime&&(e.timeToFirstByte=v.responseStart-v.startTime))}function s(v){return v&&v.requestId&&v.responseRequestId?v.requestId===v.responseRequestId:null}function p(v){return v&&v.responseRequestId?v.responseRequestId:null}function V(v){switch(v){case 401:case 403:case 413:case 400:case 404:case 409:case 412:case 422:case 415:return!1;default:return!0}}function m(v){switch(v){case 500:case 503:return!0;default:return!1}}r.d(K,{Cx:function(){return s},Sc:function(){return V},bF:function(){return c},eQ:function(){return i},o7:function(){return m},yC:function(){return p}})},776791:function(ze,K,r){function t(i,s,p){try{return JSON.parse(i,s)}catch(V){}}r.d(K,{K:function(){return t}})},616962:function(ze,K,r){r.d(K,{C:function(){return t},M:function(){return c}});var t=["highContrastTheme","customTheme","baseTheme"];function c(i,s,p){return{name:i,version:p,type:s}}},159803:function(ze,K,r){r.d(K,{I$:function(){return e},P8:function(){return p},Wh:function(){return m},jO:function(){return h},nN:function(){return v}});var t=r(787941),c=r(826691),i=r(37743);function p(){var n;try{n=window.parent.origin}catch(o){t.fF.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),n="blockedBecauseCrossOrigin"}return window.origin!==n}function m(n){if(n)try{var o=atob(n);return pako.inflate(o,{to:"string"})}catch(a){c.f.error("Error while uncompressing TileData: ".concat(JSON.stringify(a)),null==a.stack)}return null}function v(n){if(n)try{var o=pako.gzip(n,{to:"string"});return btoa(o)}catch(a){c.f.error("Error while compressing data: ".concat(JSON.stringify(a)),null==a.stack)}return null}var n,e=function(){return null==n&&(n=!!i.s.getQueryStringValue("isE2ERun2")),n};function h(){return window}},23082:function(ze,K,r){r.d(K,{SY:function(){return s},WQ:function(){return p},Wh:function(){return V},YL:function(){return v},s7:function(){return m}});var t=r(787941),c=r(338780),i=moment.duration;function s(n,o,u){void 0===u&&(u=!1);var a=new Date,l=Intl.DateTimeFormat(o.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(n);if(h(n,a))return o.format("TodayAt",l);var d=new Date;return d.setDate(a.getDate()-1),h(n,d)?o.format("YesterdayAt",l):p(n,o,u)}function p(n,o,u){if(void 0===u&&(u=!1),t.fF.assert(function(){return(0,c.ih)()},"Moment not available"),!n)return"-";var a=moment().diff(n),l=i(a),d=Math.floor;t.fF.assert(function(){return l.asMilliseconds()>=0},"This function is intended to be used only with dates from the past.");var b=d(l.asYears());if(b>1)return o.format("RelativeDate_YearsAgo",[b]);if(1===b)return o.get(e("RelativeDate_YearAgo",u));var f=d(l.asMonths());if(f>1)return o.format("RelativeDate_MonthsAgo",[f]);if(1===f)return o.get(e("RelativeDate_MonthAgo",u));var g=d(l.asDays());if(g>1)return o.format("RelativeDate_DaysAgo",[g]);if(1===g)return o.get(e("RelativeDate_DayAgo",u));var S=d(l.asHours());if(S>1)return o.format("RelativeDate_HoursAgo",[S]);if(1===S)return o.get(e("RelativeDate_HourAgo",u));var y=d(l.asMinutes());if(y>1)return o.format("RelativeDate_MinutesAgo",[y]);if(1===y)return o.get(e("RelativeDate_MinuteAgo",u));var C=d(l.asSeconds());return C>=30?o.format("RelativeDate_SecondsAgo",[C]):o.get("RelativeDate_Now")}function V(n,o,u,a){void 0===u&&(u="DisplayDateTime_Common"),void 0===a&&(a=!1),t.fF.assertValue(n,"timestamp is required param"),t.fF.assertValue(o,"localizationService is required param");var l=m(n,o,a),d=new Date(n).toLocaleTimeString(o.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return o.format(u,[l,d])}function m(n,o,u){void 0===u&&(u=!1),t.fF.assertValue(n,"timestamp is required param"),t.fF.assertValue(o,"localizationService is required param");var a=new Date(n),l=new Date;if(h(a,l))return o.get(u?"TodayTitle":"Today");var d=new Date;return d.setDate(l.getDate()-1),h(a,d)?o.get(u?"YesterdayTitle":"Yesterday"):new Date(n).toLocaleDateString(o.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}function v(n){if(t.fF.assert(function(){return(0,c.ih)()},"Moment not available"),!n)return 0;var o=moment().diff(n),u=i(o),a=Math.floor;if(!(u.asMilliseconds()>=0))return 0;var l=a(u.asYears());if(l>=1)return 1e6+l;var d=a(u.asMonths());if(d>=1)return 1e5+d;var b=a(u.asDays());if(b>=1)return 1e4+b;var f=a(u.asHours());if(f>=1)return 1e3+f;var g=a(u.asMinutes());if(g>=1)return 100+g;var S=a(u.asSeconds());return S>=30?S:0}function e(n,o){return o?n+"_Capitalize":n}function h(n,o){return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()&&n.getDate()===o.getDate()}},107585:function(ze,K,r){r.d(K,{BN:function(){return o},Cn:function(){return g},GA:function(){return l},GR:function(){return M},HX:function(){return y},Hq:function(){return n},Jm:function(){return S},K:function(){return d},NZ:function(){return f},W6:function(){return p},_r:function(){return u},at:function(){return a},bU:function(){return e},cI:function(){return D},d0:function(){return E},es:function(){return P},wc:function(){return m},yZ:function(){return C}});var t=r(629925),c=r(787941),i=r(608014),s=(0,t.CH)("explorationContainer");function p(T){return!!(1&T)}function m(T){return!!(4&T)}function e(T){return!!(16&T)}var n=(0,t.CH)("notDroppable"),o=(0,t.CH)("dropover"),u=(0,t.CH)("prepend"),a=(0,t.CH)("append"),l="dragover",d="drag";function f(T){var R=T.clone();return R.find("[id]").removeAttr(i.pX),R.addClass("dragHelper"),R}function g(T){var R=T.parents(s.selector);return c.fF.assert(function(){return R.length<=1},"We should only append the drag helper to 1 DOM element."),R}function S(T,R){var B=R();return B?(T.data[M]=B,!0):(T.data[P]=!0,!1)}function y(T,R){return!T.data[P]&&T.data[M]===R&&(T.data[P]=!0,!0)}function C(T,R){var B=R.height(),N=R.width(),x=R.offset(),A=T.pageY,I=T.pageX,w=0;return w|=x.top+B/2>A?1:4,w|=x.left+N/2>I?8:2,x.top+B/3<A&&x.top+B/3*2>A&&(w|=16),x.left+N/3<I&&x.left+N/3*2>I&&(w|=32),w}function E(T,R){if(!T)return!0;var B=function(T){return T.attr(d)}(T);return R.indexOf(B)>=0}var D="DragScrollHandler",P="DropEventHandled",M="DropTarget"},749012:function(ze,K,r){r.d(K,{Ng:function(){return c},_1:function(){return i}});var t=r(831917);function c(){var p=(0,t.wg)();return p.telemetry||(p.telemetry={}),p.telemetry}function i(){var p=(0,t.wg)();return p.session||(p.session={}),p.session}},442140:function(ze,K,r){r.d(K,{Xp:function(){return s},kx:function(){return i},uG:function(){return p}});var t=r(608014),c=r(959138),i={type:2,name:"visualThemeChanged"};function s(V){return null!=V.composed&&null!=V.repeat&&(!V.composed||V.repeat&&(17===V.keyCode||(0,c.SF)(V.keyCode)))}function p(V){return!$(V.target).is(t.$U)&&!$(V.target).is(t.CA)}},712174:function(ze,K,r){function c(m,v){void 0===v&&(v=!1);try{if(!m)return;var e=m.stack;if(!e)return;var h=e.indexOf("\n");return-1===h?void 0:(e=e.substring(h+1),v&&(e=e.replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,function(n){var o=n.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=o?" (".concat(o[1],")"):""})),e)}catch(n){return"Error at cleanExceptionStack"}}function i(m){var v;try{if(m instanceof TypeError||m instanceof ReferenceError||"ChunkLoadError"===m.name)return m.message;if(m)return"Error of type ".concat(m.name," had a ").concat(null===(v=m.message)||void 0===v?void 0:v.length," characters long message")}catch(e){return"Error at cleanExceptionMessage"}}function s(m,v,e,h){if(!(e instanceof Error))try{throw new Error("Error wrapper for thrown object: ".concat(JSON.stringify(e)))}catch(u){e=u}if(!e.rejection||!(e.rejection.clientError&&e.rejection.clientError.ignorable||e.rejection.ignorable)){var n=e.message,o=e.stack;try{h?m.logChildEvent(h.event,v,{stack:o,message:n}):m.logEvent(v,{stack:o,message:n})}catch(u){}}}r.d(K,{CX:function(){return i},If:function(){return s},bL:function(){return c}})},345083:function(ze,K,r){r.d(K,{M:function(){return i}});var t=r(608014),c=r(784120),i=function(){function s(p){void 0===p&&(p="Group"),this.focusNavMode=p}return s.prototype.findNext=function(p,V,m){void 0===V&&(V=!0),void 0===m&&(m=!1);var v=this.getDomWalker(V),e=p.getAttribute(c.Qt);return"Group"===e||"Browser"===e||m?this.traverseDown(p,v):this.searchFocusElement(p,v)},s.prototype.searchFocusElement=function(p,V){var m=this.traverseForward(V.getNextSibling(p),V);return m||(p.parentElement&&p.parentElement.getAttribute(c.Qt)!==this.focusNavMode?m=this.searchFocusElement(p.parentElement,V):p.parentNode&&p.parentNode.nodeType===Node.ELEMENT_NODE&&p.parentNode.getAttribute(c.Qt)!==this.focusNavMode&&(m=this.searchFocusElement(p.parentNode,V))),m},s.prototype.traverseForward=function(p,V){var m;if(p)return(0,c.Wq)(p)?p:(null==p.getAttribute(t.Rh)&&(m=this.traverseDown(p,V)),m||(m=this.traverseForward(V.getNextSibling(p),V)),m)},s.prototype.traverseDown=function(p,V){if(p&&"Skip"!==p.getAttribute(c.Qt))return this.traverseForward(V.getNextChild(p),V)},s.prototype.getDomWalker=function(p){var V=this;return p?{getNextSibling:function(v){return v.nextElementSibling},getNextChild:function(v){return _.isEmpty(v.children)?v.hasChildNodes()?V.getNextChildNodes(v,p):void 0:v.children[0]}}:{getNextSibling:function(v){return v.previousElementSibling},getNextChild:function(v){return _.isEmpty(v.children)?v.hasChildNodes()?V.getNextChildNodes(v,p):void 0:v.children[v.children.length-1]}}},s.prototype.getNextChildNodes=function(p,V){var m=p.childNodes,v=m.length,e=V?1:-1,h=V?0:v-1;do{var n=m[h];if(n&&n.nodeType===Node.ELEMENT_NODE)return n;h+=e}while(h>=0&&h<v)},s}()},621464:function(ze,K,r){r.d(K,{m:function(){return m}});var t=r(345083),c=r(784120),i=r(172881),s=r(563394),p=r(608014),V=function(){function v(e){this.groupElement=e}return v.prototype.findNext=function(e,h){var n=this;void 0===h&&(h=!0);var l,o=e===this.groupElement?-1:this.getTabIndex(e),u=e!==this.groupElement&&!isNaN(o),a=h?1/0:0;return u||(o=h?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(function(b){var f=n.getTabIndex(b.elem);isNaN(f)||(h?f>o&&f<=a:f<o&&f>=a)&&(a=f,l=b.elem)}),l},v.prototype.getTabIndex=function(e){return parseFloat(e.getAttribute(c.GY))},v.prototype.buildTabOrderMany=function(e){var h=this,n=[];return e.forEach(function(o){null==o.getAttribute(p.Rh)&&(n=_.concat(n,h.buildTabOrders(o)))}),n},v.prototype.buildTabOrders=function(e){var h=this.getTabIndex(e);return isNaN(h)?this.buildTabOrderMany([].slice.call(e.children)):[{tabOrder:h,elem:e}]},v}(),m=function(){function v(e){void 0===e&&(e=!1),this.skipCyclicNavigation=e}return Object.defineProperty(v.prototype,"name",{get:function(){return"Group"},enumerable:!1,configurable:!0}),v.prototype.shouldHandleFocus=function(e,h){return!$.contains(h,i.M.getTabbableParent(e,h))},v.prototype.findNextElementToFocus=function(e,h){var n=v.getGroupNavigationElement(e);switch(h.keyCode){case 39:case 40:if(v.groupElementSupportsArrows(n)&&!v.canHandleKeyEvents(e))return v.getFocusNextElement(!0);break;case 38:case 37:if(v.groupElementSupportsArrows(n)&&!v.canHandleKeyEvents(e))return v.getFocusNextElement(!1);break;case 9:if(!i.M.isElementContentEditable(e))return v.getFocusNextElement(!h.shiftKey,void 0,this.skipCyclicNavigation);break;case 27:return i.M.getTabbableParent(document.activeElement);case 13:if(n&&null!=n.getAttribute(c.tu))return i.M.getFirstTabbableChild(document.activeElement)}},v.getFocusNextElement=function(e,h,n){void 0===h&&(h=null),void 0===n&&(n=!1);var o=document.activeElement;if(h=h||v.getFirstFocusableParent(o)){var u=v.getGroupNavigationElement(h),a=void 0,l=void 0;if(u&&null!=u.getAttribute(c.tu))l=(a=new V(u)).findNext(h,e);else{var d=(0,s.XC)(h)||(0,s.vI)(h);d&&(l=(a=new s.Pp).findNext(h,e)),(!l||!d)&&(l=(a=new t.M).findNext(h,e))}if(l)return l;if("Group"!==h.getAttribute(c.Qt)&&!n){var b=v.getParentGroupElement(h);return b?a.findNext(b,e):void 0}}},v.getGroupNavigationElement=function(e){var h=e.getAttribute(c.Qt);return h&&"Group"===h?e:v.getParentGroupElement(e)},v.getFirstFocusableParent=function(e){if(!e)return null;if((0,c.Wq)(e)||"Group"===e.getAttribute(c.Qt))return e;for(var h=e.parentElement||e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE?e.parentNode:null;h;){if((0,c.Wq)(h)||"Group"===h.getAttribute(c.Qt))return h;h=h.parentElement||h.parentNode&&h.parentNode.nodeType===Node.ELEMENT_NODE?h.parentNode:null}return h},v.getParentGroupElement=function(e){return $(e).parents(c.yk).get(0)},v.canHandleKeyEvents=function(e){return i.M.isElementContentEditable(e)||i.M.isTextElement(e)},v.groupElementSupportsArrows=function(e){return!e||null==e.getAttribute(c.tu)||null==e.getAttribute(c.CA)},v}()},172881:function(ze,K,r){r.d(K,{M:function(){return t}});var t={isElementContentEditable:function(i){return $(i).closest("[contentEditable]").length>0},isTextElement:function(i){if($(i).is(":disabled"))return!1;var s=i.nodeName.toLowerCase();return i.nodeType===Node.ELEMENT_NODE&&("textarea"===s||"select"===s||"input"===s&&/^(?:text|email|number|search|tel|url|password)$/i.test(i.type))},contains:function(i,s){return 0!=(s.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS)},getFirstMatchingAncestor:function(i,s,p,V){void 0===V&&(V=!0);var m=i;if(m!==(p=p||document.body)||V&&s(m))for(!V&&i&&(m=m.parentElement||m.parentNode||void 0);m&&m!==document.body&&m.nodeType===Node.ELEMENT_NODE;){if(s(m))return m;if(m===p)break;m=m.parentElement||m.parentNode||void 0}},isElementTabbable:function(i){return!0===$(i).is(":tabbable")},getTabbableParent:function(i,s){return s=s||document.body,this.getFirstMatchingAncestor(i,this.isElementTabbable,s,!1)},getFirstTabbableChild:function(i){return this.getTabbableChildren(i)[0]},getTabbableDescendants:function(i){return $(i).find(":tabbable").get()},getTabbableChildren:function(i){var s=this;return _.filter(this.getTabbableDescendants(i),function(p){return!$.contains(i,s.getTabbableParent(p,i))})},getTabbableSiblingsMatch:function(i,s,p){void 0===p&&(p=document.body);var V=t.getTabbableSiblings(i,p);return _.filter(V,s)},getNextTabbableMatchingSibling:function(i,s,p){p=p||document.body;var V=this.getTabbableSiblingsMatch(i,s,p);if(V.length>0)return V[0]},getPrevTabbableMatchingSibling:function(i,s,p){p=p||document.body;var V=this.getTabbableSiblingsMatch(i,s,p);if(V.length>0)return V[V.length-1]},getTabbableSiblings:function(i,s){s=s||document.body;var p=this.getTabbableParent(i,s);if((!p||s&&$.contains(p,s))&&(p=s),p){for(var m=[],v=0,e=0,h=this.getTabbableChildren(p);e<h.length;e++){var n=h[e];n===i||this.contains(i,n)?v=0:m.splice(v++,0,n)}return m}return[]},getNextTabbableSibling:function(i,s){return s=s||document.body,this.getTabbableSiblings(i,s)[0]},getPrevTabbableSibling:function(i,s){s=s||document.body;var p=this.getTabbableSiblings(i,s);return p[p.length-1]},isElementVisible:function(i){return $(i).is(":visible")},getParentFocusElement:function(i){return $(i).parents(":tabbable:first").get(0)}}},563394:function(ze,K,r){r.d(K,{Pp:function(){return i},Sn:function(){return s},XC:function(){return V},vI:function(){return p}});var t=r(784120),c=r(172881),i=function(){function u(a){void 0===a&&(a="Group"),this.focusNavMode=a}return u.prototype.findNext=function(a,l,d,b){var f;if(void 0===l&&(l=!0),void 0===d&&(d=!0),void 0===b&&(b=!1),b||V(a))(f=this.getFirstActiveChild(a))||(f=this.getNextTabOrderChild(a,l,e(l)));else if(p(a))f=this.getNextTabOrderSibling(a,l,d);else if(function(u){return null!=u.getAttribute(t.QW)}(a)){var g=function(u){return function(u,a){var l=$(u).closest("[".concat(a,"]"));return l&&l.get(0)}(u,t.qs)}(a);f=this.getNextTabOrderSibling(g,l,d)}return f},u.prototype.getNextTabOrderSibling=function(a,l,d){var S,b=a.getAttribute(t.qs),f=parseFloat(b);if(!isNaN(f)){var y=function(u,a){var l="HierarchicalTabOrder"===a?t.O:t.yk;return $(u).parents(l)[0]}(a,this.focusNavMode);if(!y)return;!(S=this.getNextTabOrderChild(y,l,f))&&d&&(S=this.getNextTabOrderChild(y,l,e(l)))}return S},u.prototype.getFirstActiveChild=function(a){var l;return $(a).find("[".concat(t._f,"]")).each(function(b,f){m(f)&&(l=f)}),l},u.prototype.getNextTabOrderChild=function(a,l,d){var b,f,g=$(a).find("[".concat(t.qs,"]"));return"HierarchicalTabOrder"===this.focusNavMode&&(g=g.filter(function(S,y){return c.M.getTabbableParent(y)===a})),g.each(function(S,y){var C=s(y);m(y)?b=y:c.M.isElementTabbable(y)&&(l?C<d:C>d)&&(void 0===b&&void 0===f||(l?C>f:C<f))&&(f=C,b=y)}),b},u}();function s(u){if(u.hasAttribute(t.qs))return parseFloat(u.getAttribute(t.qs))}function p(u){return null!=u.getAttribute(t.qs)}function V(u){return null!=u.getAttribute(t.T0)}function m(u){return null!=u.getAttribute(t._f)}function e(u){return u?10000001:-10000001}},784120:function(ze,K,r){r.d(K,{BZ:function(){return t},CA:function(){return n},GY:function(){return h},O:function(){return u},QW:function(){return e},Qt:function(){return s},T0:function(){return p},Wq:function(){return i},_f:function(){return v},n8:function(){return c},qs:function(){return m},tu:function(){return V},yk:function(){return o}});var t="focusManager_focus",c="focusManager_focusOn";function i(a){return!0===$(a).is(":tabbable")&&!1===$(a).is(":disabled")}var s="focus-nav-mode",p="tab-order-enabled",V="tab-order-recursive-enabled",m="tab-order",v="tab-active",e="tab-order-child",h="tabindex",n="skip-arrow-navigation",o="[".concat(s,'="').concat("Group",'"]:first'),u="[".concat(s,'="').concat("HierarchicalTabOrder",'"]:first')},630326:function(ze,K,r){r.d(K,{IK:function(){return o},M0:function(){return g}});var t=r(932178),c=r(710545),i=r(621464),s=r(172881),p=function(){function S(){}return Object.defineProperty(S.prototype,"name",{get:function(){return"Hierarchy"},enumerable:!1,configurable:!0}),S.prototype.shouldHandleFocus=function(){return!0},S.prototype.findNextElementToFocus=function(y,C,E){switch(C.keyCode){case 9:if(s.M.isElementContentEditable(y))return;var D=s.M.getTabbableChildren(E),P=s.M.getTabbableParent(y,E)===E;if(C.shiftKey){if(D.length>0&&(y!==D[0]||P))return s.M.getPrevTabbableSibling(y,E)}else{if(D.length>0&&(y!==D[D.length-1]||P))return s.M.getNextTabbableSibling(y,E);var M=s.M.getTabbableDescendants(E);if(M.length>0)return void M[M.length-1].focus()}break;case 27:if(y!==E)return s.M.getTabbableParent(y);break;case 13:return s.M.getFirstTabbableChild(y)}},S}(),V=r(345083),m=r(784120),v=r(563394),e=function(){function S(){}return Object.defineProperty(S.prototype,"name",{get:function(){return"HierarchicalTabOrder"},enumerable:!1,configurable:!0}),S.prototype.shouldHandleFocus=function(y){return!s.M.isElementContentEditable(y)},S.prototype.findNextElementToFocus=function(y,C){var P,E=y.hasAttribute(m.T0),D="HierarchicalTabOrder"===y.getAttribute(m.Qt);switch(C.keyCode){case 39:case 40:P=S.getFocusNextElement(y,!0,E);break;case 38:case 37:P=S.getFocusNextElement(y,!1,E);break;case 9:P=S.getFocusNextElement(y,!C.shiftKey,E);break;case 27:P=s.M.getTabbableParent(document.activeElement);break;case 13:P=D?S.getFocusNextElement(y,!0,!0):void 0}return P},S.getFocusNextElement=function(y,C,E){var M,D=y.hasAttribute(m.T0);if((void 0!==(0,v.Sn)(y)||D)&&(M=new v.Pp("HierarchicalTabOrder").findNext(y,C,!0,E)),!M){var R=new V.M("HierarchicalTabOrder");if(!(M=R.findNext(y,C,E))&&!E){var B=$(y).parents(m.O)[0];M=R.findNext(B,C,!0)}}return M},S}(),h="return-focus-element-attribute",n=0,o=function(){function S(){this.registeredElements=[],this.shortcutContainer=new g}return Object.defineProperty(S.prototype,"keyboardFocused",{get:function(){return S.keyboardFocused},set:function(C){S.keyboardFocused=C},enumerable:!1,configurable:!0}),S.getInstance=function(){return this._instance||(this._instance=new S)},S.prototype.register=function(y,C,E){var D=this;void 0===C&&(C=!1),void 0===E&&(E=!1);var P=[new i.m(E),new p,new e],M=function(N){return D.handleKeyPress(N,C,P)};_.includes(this.registeredElements,y)||(y.addEventListener("keydown",M),this.registeredElements.push(y));var T=_.find(this.registeredElements,y);return function(){T.removeEventListener("keydown",M),_.pull(D.registeredElements,y)}},S.prototype.registerShortcut=function(y){this.shortcutContainer.add(y)},S.prototype.unregisterShortcut=function(y){this.shortcutContainer.remove(y)},S.focusChildInGroup=function(y,C){var E="Group"===y.getAttribute(m.Qt)?y:$(y).find(m.yk).get(0);E&&S.focus(i.m.getFocusNextElement(!0,E),C)},S.focusChildInCanvas=function(y){var E="HierarchicalTabOrder"===y.getAttribute(m.Qt)?y:$(y).find(m.O)[0];E&&S.focus(e.getFocusNextElement(E,!0,!0))},S.focus=function(y,C){if(void 0===C&&(C=!0),y){var E=document.activeElement;c.l.setTimeout(function(){t.M.focus(y),$(y).triggerHandler(m.n8,E),$(y).trigger(m.BZ,E),C&&(S.keyboardFocused=!0,$("html").attr("data-focus-source","key")),y&&$(y).removeAttr(m._f)})}},S.prototype.focus=function(y,C){void 0===C&&(C=!0),S.focus(y,C)},S.prototype.focusOnGroupByIndex=function(y,C,E,D,P){this.shortcutContainer.handleByPriority(y,C,E,D,P)},S.setFocusOnPreviousElementOnDestroy=function(y,C,E){var D;return y.on(m.BZ,function(P,M){P.stopPropagation(),M&&(!C||void 0===D)&&!$.contains(y[0],M)&&(D=n++,M.setAttribute(h,D.toString()))}),function(){var P=document.activeElement;if(void 0!==D){var M=document.documentElement.querySelector("[".concat(h,'="').concat(D,'"]'));M&&$(M).closest(document.documentElement)&&(!E||$.contains(y[0],P))&&S.focus(M,!1)}}},S.prototype.handleKeyPress=function(y,C,E){if(this.handleShortcut(y))return y.stopPropagation(),void y.preventDefault();var D=document.activeElement;if(D){for(var P,M=s.M.getFirstMatchingAncestor(D,function(B){return B.hasAttribute(m.Qt)},document.body),T=function(){var N=M.getAttribute(m.Qt);if("Browser"===N)return{value:void 0};var x=_.find(E,function(A){return A.name===N});if(x&&x.shouldHandleFocus(D,M)&&(P=x.findNextElementToFocus(D,y,M)),P)return"break";M=s.M.getFirstMatchingAncestor(M,function(A){return A.hasAttribute(m.Qt)},document.body,!1)};M&&M!==document.body;){var R=T();if("object"==typeof R)return R.value;if("break"===R)break}P&&S.focus(P),C&&y.stopPropagation(),P&&13!==y.keyCode&&32!==y.keyCode&&(y.stopPropagation(),y.preventDefault())}},S.prototype.handleShortcut=function(y){return this.shortcutContainer.handle(y)},S.prototype.focusNextElement=function(y){S.focus(i.m.getFocusNextElement(!0,y))},S.keyboardFocused=!1,S}(),g=function(){function S(){this.shortcuts=[],this.scopedShortcuts=[]}return S.prototype.add=function(y){var C=this.getKeyCode(y.keycode,y.shift,y.alt,y.ctrl),E=y.scoped?this.scopedShortcuts:this.shortcuts;E[C]&&!_.find(E[C],function(D){return $(D.element).is(y.element)})?E[C].push(y):_.isEmpty(this.shortcuts[C])&&(E[C]=[y])},S.prototype.remove=function(y){var C=this.getKeyCode(y.keycode,y.shift,y.alt,y.ctrl);_.remove((y.scoped?this.scopedShortcuts:this.shortcuts)[C],function(D){return $(D.element).is(y.element)})},S.prototype.handle=function(y){if(y.keyCode>256)return!1;var C=t.M.isCtrlOrMeta(y),E=this.getKeyCode(y.keyCode,y.shiftKey,y.altKey,C),D=y.shiftKey&&C&&1653===E,P=this.findScopedShortcut(E);if(!P){var M=this.filterGroups(this.shortcuts[D?1141:E]);if(_.isEmpty(M))return!1;P=this.getNextShortcutElementToFocus(M,void 0,D)}return!!P&&(this.focusOnGroup(P),!0)},S.prototype.handleByPriority=function(y,C,E,D,P){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(y,C,E,D)]),P))},S.prototype.focusOnGroup=function(y){"HierarchicalTabOrder"===y.getAttribute(m.Qt)?o.focus(e.getFocusNextElement(y,!0,!0)):o.focus(i.m.getFocusNextElement(!0,y))},S.prototype.getKeyCode=function(y,C,E,D){var P=y;return C&&(P|=512),D&&(P|=1024),E&&(P|=2048),P},S.prototype.filterGroups=function(y){return _.filter(y,function(C){var E=s.M.isElementVisible(C.element);return"HierarchicalTabOrder"===C.element.getAttribute(m.Qt)?E&&!!e.getFocusNextElement(C.element,!0,!0):E&&!!i.m.getFocusNextElement(!0,C.element)})},S.getFocusPriority=function(y,C){if(void 0===C&&(C=!0),y){var E=y.getAttribute("focus-priority");if(null!=E)return parseInt(E,10);if(null!=y.parentElement&&C)return this.getFocusPriority(y.parentElement)}},S.prototype.getFocusPriority=function(y,C){return void 0===C&&(C=!0),S.getFocusPriority(y,C)},S.prototype.findScopedShortcut=function(y){var C=document.activeElement,E=this.findExtendedScope(C),P=this.filterGroups(this.scopedShortcuts[y]);if(!_.isEmpty(P)&&C)for(var M=0,T=P;M<T.length;M++){var R=T[M];if(R&&($(C).is(R.element)||$.contains(C,R.element)||E&&($(E).is(R.element)||$.contains(E,R.element))))return R.element}},S.prototype.findExtendedScope=function(y){for(var C=y;C;){if(C.attributes.getNamedItem("extended-shortcut-scope"))return C;C=C.parentElement}},S.prototype.findCurrentFocusedShortcutElement=function(y){if(document.activeElement)for(var C=document.activeElement;C;){if(C.getAttribute("keyboard-shortcuts")===y)return C;C=C.parentElement}},S.prototype.getNextShortcutElementToFocus=function(y,C,E){void 0===E&&(E=!1);var D=(y=_.sortBy(y,function(N){return N.focusPriority}))[0];if(document.activeElement&&y.length>1)for(var P=null==C?this.findCurrentFocusedShortcutElement(D.shortcutString):null,M=0;M<=y.length-1;M++){var T=y[M];if(null!=C&&C>(T.focusPriority||-1)||P&&$(P).is(T.element)){D=y[(E?0===M?y.length-1:M-1:M+1)%y.length];break}}return null==D?void 0:D.element},S}()},442116:function(ze,K,r){r.d(K,{U:function(){return t}});var t={LuciaDomainModelChangedEvent:{type:4,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:4,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:4,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:4,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:4,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:4,name:"WindowStateChangedEvent"},ReportQueriesChangedEvent:{type:4,name:"ReportQueriesChangedEvent"},UpdateAvailableEvent:{type:4,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:4,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:4,name:"OpenFileMenuEvent"}}},670663:function(ze,K,r){r.d(K,{E8:function(){return p},IH:function(){return V},Od:function(){return v},S_:function(){return m},Z8:function(){return u},eR:function(){return a},pB:function(){return n},ru:function(){return o},sE:function(){return s},uh:function(){return h}});var t=r(226514),c=r(883863),i=r(787941);function s(S,y){var C;if(S&&y)return b(S,y,function(E,D,P){return C=D,E}),C}function p(S,y){var C;return b(S.name,y,function(E,D,P){return C=E,E}),C}function V(S){for(var y=[],C=1;C<arguments.length;C++)y[C-1]=arguments[C];return(0,t.__spreadArray)((0,t.__spreadArray)([],S||[],!0),y||[],!0)}function m(S,y,C){return b(y.name,C,function(E,D,P){if(!g(D))return i.fF.assertFail("should find group item"),E;var M=D.clone?D.clone():_.clone(D);M.children=(0,t.__spreadArray)((0,t.__spreadArray)([],D.children||[],!0),[S],!1);for(var T=0,R=M.children;T<R.length;T++)R[T].parentGroup=M;return(0,c.UU)(E,function(N){return N===D?M:N})})}function v(S,y,C){return void 0===C&&(C=!0),y=b(S.name,y,function(E,D,P){return(0,c.Rl)(E,function(M){return D!==M})}),C&&(y=d(y)),y}function h(S,y){return d(S=f(S,function(C){return(0,c.Rl)(C,function(E){return!y(E)})}))}function n(S,y,C,E){return S.forEach(function(D){return D.parentGroup=void 0}),C=function(S,y,C){return void 0===C&&(C=!0),y=f(y,function(E){var D=_.differenceWith(E,S,function(P,M){return P.name===M.name});return D.length===E.length?E:D}),C&&(y=d(y)),y}(S,C,!1),d(C=b(y.name,C,function(D,P,M){return(0,c.x)(D,function(T){return T===P?E?(0,t.__spreadArray)([T],S,!0):(0,t.__spreadArray)((0,t.__spreadArray)([],S,!0),[T],!1):[T]})}))}function o(S,y){for(var C=0,E=S.children;C<E.length;C++)E[C].parentGroup=S;return y=function(S,y,C){return f(C,function(E){return(0,c.x)(E,function(D){return D===S[0]?[y]:_.includes(S,D)?[]:[D]})})}(S.children,S,y),d(y)}function u(S,y){for(var C=0,E=S.children;C<E.length;C++)E[C].parentGroup=void 0;return b(S.name,y,function(P,M,T){return(0,c.x)(P,function(R){return R===S?S.children:[R]})})}function a(S,y,C){for(var E=C||[],D=0,P=S;D<P.length;D++){var M=P[D];g(M)?E=a(M.children,y,E):y(M)&&(E=(0,t.__spreadArray)((0,t.__spreadArray)([],E||[],!0),[M],!1))}return E}function d(S){return f(S,function(y){return(0,c.Rl)(y,function(C){return!g(C)||!_.isEmpty(C.children)})})}function b(S,y,C){i.fF.assertValue(y,"itemGrouping - itemList"),i.fF.assertValue(S,"itemGrouping - targetName"),i.fF.assertValue(C,"itemGrouping - callback");for(var E=function(T){var R=y[T];if(R.name===S)return{value:C(y,R,T)};if(g(R)){var B=b(S,R.children,C);if(B!==R.children){var N=R.clone?R.clone():_.clone(R);N.children=B;for(var x=0,A=N.children;x<A.length;x++)A[x].parentGroup=N;return{value:(0,c.UU)(y,function(w){return w===R?N:w})}}}},D=0;D<y.length;D++){var P=E(D);if("object"==typeof P)return P.value}return y}function f(S,y){i.fF.assertValue(S,"itemGrouping - itemList"),i.fF.assertValue(y,"itemGrouping - callback");for(var C=function(T){if(g(T)){var R=f(T.children,y);if(R!==T.children){var B=T.clone?T.clone():_.clone(T);B.children=R;for(var N=0,x=B.children;N<x.length;N++)x[N].parentGroup=B;S=(0,c.UU)(S,function(I){return I===T?B:I})}}},E=0,D=S;E<D.length;E++)C(D[E]);return S=y(S)}function g(S){return void 0!==S.children}},735006:function(ze,K,r){r.d(K,{Ue:function(){return p}});var s,t=r(787941),c=r(509775),i=function(){function V(m){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}return V.prototype.copyText=function(m,v,e){var h;t.fF.assertValue(m,"copyText didn't get a value"),"string"==typeof m?h=m:"function"==typeof m?h=m():t.fF.assertNever(m),this.copyToClipboard(h),this.logTelemetry(v,"Value",e)},V.prototype.copyGrid=function(m,v,e){var h=this;t.fF.assertValue(m,"copyGrid didn't get a value");var n=m(),o=n.grid,u=n.coveragePercentage,a=[];if(!_.isEmpty(o))for(var l=0,d=o;l<d.length;l++){var b=d[l];_.isEmpty(b)||a.push(_.map(b,function(f){return null==f?"":h.removeBreaks(f)}).join("\t"))}this.copyToClipboard(a.join("\n")),this.logTelemetry(v,"Selection",e,u)},V.prototype.removeBreaks=function(m){return m.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")},V.prototype.copyToClipboard=function(m){this.element.value=m,document.body.appendChild(this.element);var v=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),v&&v.focus()},V.prototype.logTelemetry=function(m,v,e,h){m&&m.logEvent(c.YG,{copyType:v,visualType:e||"(unknown)",copySelectionPercentage:h||0})},V}();function p(){return s||(s=new i),s}},509775:function(ze,K,r){r.d(K,{A_:function(){return Y},BP:function(){return H},Bf:function(){return ve},Fd:function(){return te},Ir:function(){return E},Lj:function(){return I},O2:function(){return P},U2:function(){return Ke},Wj:function(){return B},YG:function(){return le},ZX:function(){return We},ap:function(){return ie},c5:function(){return je},d3:function(){return A},eb:function(){return X},fM:function(){return n},jj:function(){return u},lu:function(){return ce},mN:function(){return x},py:function(){return De},rH:function(){return L},ry:function(){return ye},u3:function(){return T},xt:function(){return g},zh:function(){return Ae}});var t=r(853811),c="BaseEvent",s=(t.cx[c]=(0,t.b1)(c),"TimedEvent"),V=(t.cx[s]=(0,t.b1)(s),"Verbose"),v=(t.cx[V]=(0,t.b1)(V),"VerboseTimedEvent"),h=(t.cx[v]=(0,t.b1)(v),"Trace"),n=t.cx[h]=(0,t.b1)(h),o="Error",u=t.cx[o]=(0,t.b1)(o),a="ErrorWithStackTrace",d=(t.cx[a]=(0,t.b1)(a),"ErrorWithStackTraceAndSourceDetails"),f=(t.cx[d]=(0,t.b1)(d),"LLMEncodingError"),g=t.cx[f]=(0,t.b1)(f),S="CustomerAction",C=(t.cx[S]=(0,t.b1)(S),"PBI.Dashboard.RootSession"),E=t.cx[C]=(0,t.b1)(C),D="PBI.WFE.Error",P=t.cx[D]=(0,t.b1)(D),M="PBI.Dashboard.ErrorDialog",T=t.cx[M]=(0,t.b1)(M),R="PBI.Dashboard.UnhandledAngularException",B=t.cx[R]=(0,t.b1)(R),N="PBI.Data.Exception",x=t.cx[N]=(0,t.b1)(N),A="PBI.Visual.Exception",I=t.cx[A]=(0,t.b1)(A),w="PBI.Dashboard.UnhandledException",O=(t.cx[w]=(0,t.b1)(w),"PBI.HandledException"),L=t.cx[O]=(0,t.b1)(O),W="PBI.Dashboard.ReportTilePopulateException",j=(t.cx[W]=(0,t.b1)(W),"PBI.Dashboard.UnhandledStacklessException"),G=(t.cx[j]=(0,t.b1)(j,{logRatio:1e-4}),"PBI.Visual.Error"),te=t.cx[G]=(0,t.b1)(G),Q="PBI.WFE.ReopenUserAccount",H=t.cx[Q]=(0,t.b1)(Q),de="PBI.WFE.AccountClosedPage",Y=t.cx[de]=(0,t.b1)(de),se="PBI.WFE.AbtSignoutRedirectPage",ce=t.cx[se]=(0,t.b1)(se),pe="PBI.Visual.Warning",ve=t.cx[pe]=(0,t.b1)(pe),De="PBI.Visual.ApiUsage",We=t.cx[De]=(0,t.b1)(De),je="PBI.Visual.CustomVisualsGenericEvent",Ae=t.cx[je]=(0,t.b1)(je),_e="PBI.EX.CopyActionClicked",le=t.cx[_e]=(0,t.b1)(_e),Z="StartActivity",ie=t.cx[Z]=(0,t.b1)(Z),me="EndActivity",ye=t.cx[me]=(0,t.b1)(me),oe="PBI.App.SignInError",X=t.cx[oe]=(0,t.b1)(oe),ue="PBI.App.TokenRefreshError",Be=(t.cx[ue]=(0,t.b1)(ue),"PBI.Storytelling.BrowserNotSupportedLoaded"),Ke=t.cx[Be]=(0,t.b1)(Be)},955307:function(ze,K,r){function t(s){return!!s&&"Open Report"===s.getProperty("name")}function c(s,p){return p&&i(s,p.getProperty("parent"))}function i(s,p){for(;p;){if(s(p))return p;p=p.parent}}r.d(K,{NN:function(){return i},sV:function(){return c},zK:function(){return t}})},795120:function(ze,K,r){r.d(K,{U:function(){return m},V:function(){return e}});var t=r(226514),c=r(787941),i=r(725182),s=r(159803),p=r(509775);function m(h,n,o){return void 0===n&&(n=3),void 0===o&&(o=0),function(u,a,l){c.fF.assertValue(u,"target"),c.fF.assertValue(a,"propertyKey");var d=l.value;return l.value=function(){for(var b=this,f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];c.fF.assert(function(){return!_.isEmpty(h)},"eventName"),c.fF.assert(function(){return 0!==n},"activityAction");for(var S=(0,s.jO)();!(S==window.top||S.featureSwitchService&&S.telemetryService);)S=S.parent;var D,y=S.featureSwitchService,C=S.telemetryService,E=!1;if(y&&y.isFeatureSwitchesRegistered()&&y.featureSwitches&&y.featureSwitches.telemetryV2&&C||(E=!0),E)return D=d.apply(this,f);var P=Zone&&Zone.current,M=P&&P.get("data"),T=M&&M.monitoredActivity;(0,i.yE)(n,1)&&(T=C.startMonitoredActivity(T,h,{baseVersion:"v2",isFireAndForget:1===o||void 0}),P=T.currentZone),c.fF.assertValue(P,"currentZone");try{P.run(function(){return D=d.apply(b,f)})}catch(R){if((0,i.yE)(n,2))return void v(T,R);throw R}return(0,i.yE)(n,2)&&(c.fF.assert(function(){return P.name===h},"Event name should be same as the current zone name"),D&&_.isObject(D)&&D.then&&_.isFunction(D.then)?D.then(function(){v(T)},function(R){v(T,R)}):(c.fF.assertValue(T,"Decorated method called without a start action"),v(T))),D},l}}function v(h,n){c.fF.assertValue(h,"Decorated method called without a start action"),h&&(n?h.reject(n):h.resolve())}function e(h,n,o){return function(u,a,l){c.fF.assertValue(u,"target"),c.fF.assertValue(a,"propertyKey");var d=l.value,b=l.value.length,f=b-1;return l.value=function(){for(var g,S,y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];var E=y.length,D={},P=function(W){D.telemetryServiceArgs=W.telemetryServiceArgs,D.activityAttributesArgs=W.activityAttributesArgs},M=b>E;(n&&!M||o&&o>=E)&&c.fF.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),y=n&&M?y.concat((0,t.__spreadArray)((0,t.__spreadArray)([],Array(f-y.length),!0),[P],!1)):y;for(var T=this,R=null===(S=null===(g=T.proxy)||void 0===g?void 0:g.plugin)||void 0===S?void 0:S.name,B=o&&o<E?y[o]:R||"",N=(0,s.jO)();!(N===window.top||N.telemetryService&&N.certifiedEventsService);)N=N.parent;var x=N.telemetryService,A=N.certifiedEventsService,I=function(W,U){var j;void 0===U&&(U={}),null==A||A.logStandardizedFeatureEvent({visualId:B,correlationId:null===(j=null==x?void 0:x.root)||void 0===j?void 0:j.id,activityName:p.c5,activityAttributes:(0,t.__assign)((0,t.__assign)({},U),{apiName:h}),activityStatus:W})},w=function(W,U,j){null==x||x.logEvent(p.zh,{apiName:h,visualType:B,errorOccurred:W,reason:j,additionalInfo:U})};try{var F=d.apply(this,y);if(F&&_.isObject(F)&&F.then&&_.isFunction(F.then))return F.then(function(L){var W=n?JSON.stringify(D.telemetryServiceArgs):void 0;return w(!1,W),I("Succeeded",D.activityAttributesArgs),L},function(L){var W=n?JSON.stringify(D.telemetryServiceArgs):void 0;throw w(!0,W,L),I("Failed",D.activityAttributesArgs),L});var O=n?JSON.stringify(D.telemetryServiceArgs):void 0;return w(!1,O),I("Succeeded",D.activityAttributesArgs),F}catch(L){throw w(!0,void 0,L),I("Failed"),L}},l}}},160557:function(ze,K,r){r.d(K,{GB:function(){return p},MQ:function(){return i},Qf:function(){return c},W2:function(){return m},Wk:function(){return s},aK:function(){return V},oG:function(){return e},zg:function(){return v}});var t=r(509838);function c(n){switch(n){case 2:return"External";case 1:return"User";default:return"PowerBI"}}function i(n,o,u){var a=p(n,u);return a&&(a.errorMessage=o),a}function s(n,o){var u=p(n,o);return u&&(u.errorMessage=n.message),u}function p(n,o,u){if(n&&n.code){var a=n.code,l=n["pbi.error"]&&n["pbi.error"].exceptionCulprit;return null!=l?u?{errorCode:a,errorSource:h(l),requestId:u}:{errorCode:a,errorSource:h(l)}:null==o||401!==o&&403!==o?u?{errorCode:a,errorSource:"PowerBI",requestId:u}:{errorCode:a,errorSource:"PowerBI"}:u?{errorCode:a,errorSource:"User",requestId:u}:{errorCode:a,errorSource:"User"}}if(null!=o)return u?{errorCode:"HttpStatusCode = "+o,errorSource:"PowerBI",requestId:u}:{errorCode:"HttpStatusCode = "+o,errorSource:"PowerBI"}}function V(n,o){var u=p(n,o);if(u)return null!=o&&(400===o||401===o||403===o||429===o||404===o)&&(u.errorSource="User"),u}function m(n){if(n)return{errorCode:n.errorCode,errorMessage:"StatusCode="+n.statusCode,errorSource:null!=n.exceptionCulprit?e(n.exceptionCulprit):void 0}}function v(n){if(n){if(n.error)return n.error.code;if(n.status)return n.status.toString()}}function e(n){switch(n){case t.jV:return"External";case t.dB:return"User";default:return"PowerBI"}}function h(n){switch(n){case 2:return"External";case 1:return"User";default:return"PowerBI"}}},853811:function(ze,K,r){r.d(K,{cx:function(){return V},lG:function(){return n},Hi:function(){return d},b1:function(){return l},Gv:function(){return e},c3:function(){return g},H6:function(){return h},l1:function(){return b}});var t=r(226514),c=r(787941),i=r(16062),s=r(690016),V={},m=s.b$.generateGuid,v=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function e(S){var C,D,y=0;if(0===S.length)return y;var P=S.toLowerCase();for(C=0,D=P.length;C<D;C++)y=(y<<5)-y+P.charCodeAt(C),y|=0;return y}function h(S){return e(S).toString()}function n(S,y,C){c.fF.assertAnyValue(S,"requiredFields"),c.fF.assertAnyValue(y,"optionalFields"),c.fF.assertAnyValue(C,"target");var E=C||S||{};if(C&&S&&(C=function(S,y,C){if(S||y)return!S||y?S||!y?$.extend(S,y,C):y:S}(C,S)),y)for(var D in y)if(y.hasOwnProperty(D)){var P=y[D];void 0!==P&&!1!==P&&(E[D]=P)}return E}function l(S,y){return function(C){return(0,t.__assign)((0,t.__assign)({name:S,time:(0,i.z)(),id:m()},y),{info:C,formatted:function(){return function(S,y,C){if(C){var E=[];for(var D in C){var P=y[C[D]];(void 0===P||!1===P)&&E.push(C[D])}y=_.omit(y,E)}return _.extend(S,y),S}({},C,null==y?void 0:y.optionalParameters)}})}}function d(S,y){c.fF.assert(function(){return!_.isEmpty(S)},"eventName"),c.fF.assertValue(y,"info"),c.fF.assertValue(Zone,"Zone");var C=Zone.current;if(C&&C.name===S){var E=C.get("data");if(E){for(var D=0,P=v;D<P.length;D++){var M=P[D];if(void 0!==y[M])throw new Error("Field '"+M+"' is restricted from override.")}_.extend((E.monitoredActivity&&E.monitoredActivity.activityEvent).info,y)}else c.fF.assertFail("No data field is stored in current zone")}else c.fF.assertFail("This method is expected to be used with ZoneJS and current Zone match the event name. event=".concat(S,", currentZone=").concat(C&&C.name))}function b(S,y,C){return S?S.run(function(){return y.apply(C)}):C?C.fn():y()}function f(S){return S&&!0===S.get("isAngularZone")}function g(S){for(var y=!1,C=S;C&&f(C);){if(C._zoneDelegate._taskCounts.microTask>0){y=!0;break}C=C.parent}return y}},886442:function(ze,K,r){r.d(K,{Xe:function(){return p},bG:function(){return i}});var t=r(749012),c=r(48269);function i(){return(0,t._1)().userInfo}var p=function(){function V(){}return V.getFullName=function(){var m=i();return m.givenName+" "+m.surname},V.isInternalUser=function(){var m=i();if(!m||!m.name)return!1;var v=m.name.toLowerCase();return v.indexOf("@microsoft.com")>=0||v.indexOf(".microsoft.com")>=0},V.getUPN=function(){return i().name},V.getEmailAddressForReceivingMail=function(){var m=i();return null==m?"":_.isEmpty(m.alternateEmail)?m.name:m.alternateEmail},V.isEntraExternalUser=function(){var m=i();return!!m&&!!m.idp&&m.idp!==m.iss},V.userAccountStatus=function(){var m=i();return m&&1===m.acct?c.zK.Guest:c.zK.Member},V}()},225202:function(ze,K,r){r.d(K,{N3:function(){return s},t7:function(){return p},xs:function(){return i}});var t=r(749012),c=r(509775),i="PowerBI.com",s="ActivityId",p="RequestId";(0,t.Ng)().WFEError||((0,t.Ng)().WFEError=c.O2),(0,t.Ng)().AppSignInError||((0,t.Ng)().AppSignInError=c.eb,(0,t.Ng)().WFEAccountClosedPage=c.A_,(0,t.Ng)().WFEReopenUserAccount=c.BP),(0,t.Ng)().WFEAbtSignoutRedirectPage||((0,t.Ng)().WFEAbtSignoutRedirectPage=c.lu),(0,t.Ng)().StorytellingBrowserNotSupportedLoaded||((0,t.Ng)().StorytellingBrowserNotSupportedLoaded=c.U2)},946501:function(ze,K,r){function t(){return window.powerbi.telemetrySamplingRules}r.d(K,{L2:function(){return s},fy:function(){return t},zD:function(){return i}});var i=function(V){return V[V.Verbose=0]="Verbose",V[V.CustomerAction=1]="CustomerAction",V[V.CriticalError=2]="CriticalError",V[V.Trace=3]="Trace",V[V.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",V}({}),s=function(V){return V[V.LocalyticsDeprecated=1]="LocalyticsDeprecated",V[V.AppInsightDeprecated=2]="AppInsightDeprecated",V[V.AppInsight=4]="AppInsight",V[V.Etw=8]="Etw",V[V.Mobile=16]="Mobile",V[V.WinJs=32]="WinJs",V[V.Designer=64]="Designer",V[V.NgRx=128]="NgRx",V[V.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",V[V.DatahubEmbedLocal=800]="DatahubEmbedLocal",V}({})},693825:function(ze,K,r){r.d(K,{Fp:function(){return u},OA:function(){return V},SF:function(){return p},aD:function(){return s},eq:function(){return o},ge:function(){return n},gt:function(){return e},lt:function(){return h}});var t=r(787941),c=r(993370),i={major:0,minor:0,patch:0},s="0.0",p="99.9";function V(f){t.fF.assertValue(f,"versionString");for(var C,g=0,S=0,y=0,E=0,D=0,P=0,M=f.length;D<=M;D++){var T=D===M?46:f.charCodeAt(D);switch(T){case 46:case 45:if(D===P)return;var R=(0,c.l)(f,P,D-P);if(null==R)return;switch(E){case 0:g=R;break;case 1:S=R;break;case 2:y=R;break;default:return}if(E++,P=D+1,45===T){if(3!==E||!m(C=f.substr(D+1)))return;D=M}break;default:if(T<48||T>57)return}}var B={major:g,minor:S,patch:y};return C&&(B.prerel=C),B}function m(f){t.fF.assertValue(f,"prerel");for(var g=0,S=f.length;g<S;g++){var y=f.charCodeAt(g);if(!(65<=y&&y<=90||97<=y&&y<=122||48<=y&&y<=57||45===y||46===y))return!1}return!0}function e(f,g){return t.fF.assertValue(f,"v1"),t.fF.assertValue(g,"v2"),l(a(f),a(g))>0}function h(f,g){return t.fF.assertValue(f,"v1"),t.fF.assertValue(g,"v2"),l(a(f),a(g))<0}function n(f,g){return t.fF.assertValue(f,"v1"),t.fF.assertValue(g,"v2"),l(a(f),a(g))>=0}function o(f,g){return t.fF.assertValue(f,"v1"),t.fF.assertValue(g,"v2"),f=a(f),g=a(g),!l(a(f),a(g))}function u(f,g){return e(a(f),a(g))?f:g}function a(f){return _.isString(f)?V(f)||i:f}function l(f,g){var S=d(f.major,g.major);return S||(S=d(f.minor,g.minor))||(S=d(f.patch,g.patch))?S:function(f,g){var S=_.isEmpty(f),y=_.isEmpty(g);if(S)return y?0:1;if(y)return-1;var C=(0,c.l)(f,0,f.length),E=(0,c.l)(g,0,g.length);return null!=C?null!=E?d(C,E):-1:null!=E?1:f.localeCompare(g)}(f.prerel,g.prerel)}function d(f,g){var S=(f=f||0)-(g=g||0);return 0===S?0:S<0?-1:(t.fF.assert(function(){return S>0},"diff > 0"),1)}},937754:function(ze,K,r){r.d(K,{g:function(){return c}});var t=r(641484),c=function(){function i(){}return i.getModalDialog=function(s){return i.modalDialog||(i.modalDialog=new t.pL(null,s)),i.modalDialog},i.errorServiceModalDialogControl=function(s){return i.getModalDialog(s)},i}()},489680:function(ze,K,r){r.d(K,{_3:function(){return m}});var t=r(853811),c="PBI.ShowModalDialogRejected",s=(t.cx[c]=(0,t.b1)(c),"PBI.ShowModalDialogSkippedNestedDialogs"),V=(t.cx[s]=(0,t.b1)(s),"PBI.TriggerRefresh"),m=t.cx[V]=(0,t.b1)(V)},479755:function(ze,K,r){r.d(K,{j:function(){return t}});var t="$$$angularInjectorController"},433196:function(ze,K,r){r.d(K,{L:function(){return t}});var t=function(){return function(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}()},579325:function(ze,K,r){r.d(K,{RZ:function(){return m},Ue:function(){return u}});var t=r(787941),p="[".concat("toolbar-anchor","]"),m="[".concat("toolbar-container","]"),v="overlayActive",h=(".".concat(v),"toolbarOverlay"),o=(".".concat(h),{layout:"overlayedToolbar",preferHorizontalLayout:!1,theme:"darkTheme"});function u(l,d,b){return new a(l,d,b)}var a=function(){function l(d,b,f){var g=this;this.anchor=d.closest(p),this.container=d.closest(m),t.fF.assert(function(){return g.container.length>0},"toolbarOverlay.container"),this.updateOptions(f),this.visible=!1,b&&this.setToolbar(b)}return l.prototype.setToolbar=function(d){var b=this.toolbar;if(b!==d){if(b&&b.remove(),!d)return void(this.toolbar=null);this.toolbar=d,d.addClass(h);var f=this.options,g=f.layout;this.updateTheme(void 0,f.theme),this.updateLayout(void 0,g),this.setVisibility(this.visible),this.container.append(d)}},l.prototype.destroy=function(){var d=this.toolbar;d&&d.remove(),this.toolbar=void 0,this.visible=!1},l.prototype.updateOptions=function(d){var b=this.options;d=this.options=_.defaults({},d,this.options,o),this.updateTheme(b&&b.theme,d.theme),this.updateLayout(b&&b.layout,d.layout)},l.prototype.updateTheme=function(d,b){!this.toolbar||d===b||(null!=d&&this.toolbar.removeClass(d),this.toolbar.addClass(b))},l.prototype.updateLayout=function(d,b){var f=this;!this.toolbar||d===b||(t.fF.assert(function(){return"overlayedToolbar"!==b||!!f.anchor},'Overlayed must have an element matching the "'.concat(p,'" selector')),null!=d&&(this.toolbar.removeClass(d),"overlayedToolbar"===d&&this.clearToolbarPosition()),this.toolbar.addClass(b))},l.prototype.show=function(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(v),this.visible=!0)},l.prototype.hide=function(){this.toolbar&&(this.toolbar.removeClass(v),this.visible=!1)},l.prototype.setVisibility=function(d){d?this.show():this.hide()},l.prototype.isVisible=function(){return this.visible},l.prototype.clearToolbarPosition=function(){this.toolbar&&this.toolbar.removeClass("top right bottom left")},l.prototype.repositionToolbar=function(){if("overlayedToolbar"===this.options.layout){var d=this.toolbar;if(d){t.fF.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var x,b=d.outerWidth(!0),f=d.outerHeight(!0),g=this.anchor.get(0).getBoundingClientRect(),S=g.left,y=g.right,C=g.bottom,E=this.container.get(0).getBoundingClientRect(),D=E.top,P=E.left,M=E.right,T=g.top,R=0,B=!0,N=!0,A=b+17,I=S-P,w=E.width-y;this.options.preferHorizontalLayout&&(I>A||w>A)?I>=w?(R=S-A,x=2):(R=y+17,x=3):((R=S)+b>P+E.width&&(R=S+g.width-b,B=!1),R<0&&(R=0),x=0,(T=g.top-f-27)<D&&(T=g.top+g.height+27,x=1,N=!1));var W=E.bottom,U=T+f+27;if(U>W&&(T-=U-W),this.options.dropdownOptions){var j=this.options.dropdownOptions,z=j.dropdown,G=j.extraWidthOnRight,te=j.extraWidthOnLeft,Q=z.getBoundingClientRect(),H=T-D,de=W-(T+f),Y=R-te>P,se=R+b+G>M;switch(x){case 0:this.updateDropdownVerticalAlignment(z,H,de,y>Q.left),this.updateDropdownHorizontalAlignment(z,Y,se);break;case 1:this.updateDropdownVerticalAlignment(z,H,de),this.updateDropdownHorizontalAlignment(z,Y,se);break;case 2:this.updateDropdownHorizontalAlignment(z,Y,se,C>Q.top),this.updateDropdownVerticalAlignment(z,H,de);break;case 3:this.updateDropdownHorizontalAlignment(z,Y,se),this.updateDropdownVerticalAlignment(z,H,de);break;default:t.fF.assertNever(x)}}d.css({top:T,left:R});var pe="".concat(B?"left":"right"," ").concat(N?"top":"bottom");d.removeClass("top right bottom left"),d.addClass(pe)}}},l.prototype.resetDropdownHorizontalAlignment=function(d){$(d).css("right","")},l.prototype.resetDropdownVerticalAlignment=function(d){$(d).css("top","100%").css("bottom","")},l.prototype.moveDropdownToTheLeft=function(d){$(d).css("right",0)},l.prototype.moveDropdownUp=function(d){$(d).css("top","initial").css("bottom","100%")},l.prototype.updateDropdownVerticalAlignment=function(d,b,f,g){void 0===g&&(g=!1);var S=d.getBoundingClientRect().height,y=b>S,C=f<S;y&&(C||g)?this.moveDropdownUp(d):(this.resetDropdownVerticalAlignment(d),!y&&C&&$(d).css("height","".concat(f,"px")))},l.prototype.updateDropdownHorizontalAlignment=function(d,b,f,g){void 0===g&&(g=!1),b&&(f||g)?this.moveDropdownToTheLeft(d):this.resetDropdownHorizontalAlignment(d)},l}()},375735:function(ze,K,r){r.d(K,{nD:function(){return P},pX:function(){return e},nC:function(){return h},Si:function(){return v}});var t=r(226514),c=r(787941),i=r(932178);function s(M){var T=M.get(0).style,R=T.transform||T.webkitTransform;if(R){var B=R.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(B)return parseFloat(B[1])}return 0}var m=r(690016),v=function(M){return M[M.Parent=1]="Parent",M[M.None=2]="None",M[M.Custom=3]="Custom",M}({}),e=function(M){return M[M.Up=1]="Up",M[M.Down=2]="Down",M[M.Left=4]="Left",M[M.Right=8]="Right",M[M.UpLeft=16]="UpLeft",M[M.UpRight=32]="UpRight",M[M.DownLeft=64]="DownLeft",M[M.DownRight=128]="DownRight",M[M.All=255]="All",M}({}),h=function(M){return M[M.Up=0]="Up",M[M.Down=1]="Down",M[M.Left=2]="Left",M[M.Right=3]="Right",M}({}),b="transformElement",f="dragging",g="resizing",y="resizeHandleGroup-",D={preventDefault:"auto",minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1},P=function(){function M(T,R,B){this.ngZone=R,this.resizeHandleDirections=e.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=T,this.rawElement=this.element.get(0),this.updateOptions(B),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(b),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),M.pointerTrap||(M.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}return M.prototype.attachKeyHandlers=function(){var T=this;this.element.keydown(function(R){var x,B=R.shiftKey,N=R.shiftKey&&R.ctrlKey;if("true"!==$(T.element).attr("drag-resize-disabled")&&(!i.M.isCtrlOrMeta(R)||N)){var A=T.getDimensionsFromElement(T.element,!0),I=B?10:1;if(N){var w=function(U){return U/2===Math.round(U/2)};switch(R.keyCode){case 40:A.height-=1,x=h.Down,w(A.height)&&(A.y+=1);break;case 38:A.height+=1,x=h.Up,w(A.height)||(A.y-=1);break;case 37:A.width-=1,x=h.Left,w(A.width)&&(A.x+=1);break;case 39:A.width+=1,x=h.Right,w(A.width)||(A.x-=1);break;default:return}}else switch(R.which){case 40:x=h.Down,A.y+=I;break;case 38:x=h.Up,A.y-=I;break;case 37:x=h.Left,A.x-=I;break;case 39:x=h.Right,A.x+=I;break;default:return}var F=T.getRestrictionParent();if(F&&0!==F.length){var O=function(M){return{left:parseFloat(M.css("padding-left"))||0,right:parseFloat(M.css("padding-right"))||0,top:parseFloat(M.css("padding-top"))||0,bottom:parseFloat(M.css("padding-bottom"))||0}}(F),L=T.getDimensionsFromElement(F);A=T.restrictTo(A,L,O)}T.transformRelativeDimensionFromElement(T.element,A),R.stopPropagation&&R.stopPropagation(),R.preventDefault&&R.preventDefault(),T.notifyNudge(A,{bigNudge:B,direction:x})}})},M.prototype.restrictTo=function(T,R,B){var x=-B.top||0;return{x:Math.max(-B.left||0,Math.min(T.x,R.width-T.width)),y:Math.max(x,Math.min(T.y,R.height-T.height)),width:Math.min(T.width,R.width+B.left+B.right),height:Math.min(T.height,R.height+B.top+B.bottom)}},M.prototype.destroy=function(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)},M.prototype.getResizeHandleDirectionArray=function(){var T=[],R=this.options.resizeHandleDirections;return R&e.Up&&T.push("up"),R&e.Down&&T.push("down"),R&e.Left&&T.push("left"),R&e.Right&&T.push("right"),R&e.UpLeft&&T.push("up-left"),R&e.UpRight&&T.push("up-right"),R&e.DownLeft&&T.push("down-left"),R&e.DownRight&&T.push("down-right"),T},M.prototype.getRestrictionString=function(){var T;switch(this.options.restriction){case v.Parent:T="parent";break;case v.Custom:T=this.options.getCustomRestrictionSelector();break;default:T=""}return T},M.prototype.getRestrictionParent=function(){var T=this.getRestrictionString();switch(T){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(T)}},M.prototype.getAutoScrollOptions=function(){var T=this.options.autoScrollParent;return null==T?void 0:{enabled:!0,container:T[0]}},M.prototype.updateOptions=function(T){var R=this.options||{};this.options=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},D),R),T),this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==v.None?this.getRestrictionParent():void 0,this.updateHandlers()},M.prototype.updateHandlers=function(){if(this.dragInteractable||this.resizeInteractable){var T=this.getAutoScrollOptions();if(this.dragInteractable){var R=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:R,autoScroll:T})}this.resizeInteractable&&(R={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}},this.resizeInteractable.draggable({restrict:R,autoScroll:T}))}},M.prototype.attachDragHandler=function(){var T=this,R=this.element.get(0),B=this.options.autoScrollParent,N=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(function(){return interact(R).preventDefault(N).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:function(F){return T.ngZone.run(function(){return T.onDragStart(F)})},onmove:function(F){return T.ngZone.run(function(){return T.onDragMove(F)})},onend:function(F){return T.ngZone.run(function(){return T.onDragEnd()})}})}),this.element.on("pointerdown.transform",function(){T.dragInteractable&&T.options.getDragRestriction&&(T.dragInteractable.options.drag.restrict.elementRect=T.options.getDragRestriction())}),B){var x=m.S5,A=0,I=0;this.autoScrollParent=B,this.autoScrollParentScrollHandlerFn=x(function(){var w=B.scrollTop(),F=B.scrollLeft(),O=F-I,L=w-A;if(0!==O||0!==L){var W={dx:O,dy:L};T.element.hasClass(f)?T.onDragMove(W):T.element.hasClass(g)&&T.onResizeMove(W)}A=w,I=F}),B.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}},M.prototype.onDragStart=function(T){this.dragStopped=!1,i.M.isCtrlOrMeta(T)||T.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&M.pointerTrap.setPointerCapture&&T.interaction.pointerIds.length>0&&null!=T.interaction.pointerIds[0]&&M.pointerTrap.setPointerCapture(T.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions=(0,t.__assign)({},this.dimensions),this.element.addClass(f),this.notifyDragStart(this.dimensions))},M.prototype.onDragMove=function(T){this.dragStopped||(this.dimensions.x+=T.dx,this.dimensions.y+=T.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))},M.prototype.onDragEnd=function(){this.dragStopped||(this.element.removeClass(f),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))},M.prototype.attachResizeHandles=function(){for(var R,T=this,B=this.getResizeHandleDirectionArray(),N=this.options,x=N.customHandleClass,A=N.transformId,I=0,w=B.length;I<w;I++){var F=$("<div></div>").addClass("resizeHandle").attr("data-direction",B[I]).appendTo(this.element);x&&F.addClass(x),A&&F.addClass(y+this.options.transformId)}var O=".resizeHandle"+(this.options.transformId?".".concat(y).concat(this.options.transformId):"");this.resizeInteractable=this.ngZone.runOutsideAngular(function(){return interact(O,{context:T.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:function(W){return T.ngZone.run(function(){return T.onResizeStart(W)})},onmove:function(W){return T.ngZone.run(function(){R=W,T.onResizeMove(W)})},onend:function(){return T.ngZone.run(function(){R=null,T.onResizeEnd()})}})}),this.element.bind("keydown","keyup",function(L){var W="keydown"===L.type;T.element.hasClass(g)&&16===L.keyCode&&R&&W!==R.shiftKey&&(R.shiftKey=W,T.onResizeMove(R))})},M.prototype.onResizeStart=function(T){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var R=T.target;this.element.addClass(g),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions=(0,t.__assign)({},this.dimensions),this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var B=R.getAttribute("data-direction");this.resizeDirection={up:/up/.test(B),down:/down/.test(B),left:/left/.test(B),right:/right/.test(B)},this.setTransformDelta(T),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)},M.prototype.setTransformDelta=function(T){this.transformDelta.width=T.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=T.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)},M.prototype.calculateAspectRatio=function(T,R){var B=T.height,N=T.width;return R&&(B+=R.height,N+=R.width),B/N},M.prototype.onResizeMove=function(T){var R=this.options.aspectRatioOffset||{width:0,height:0},B=T.clientY-this.transformDelta.height,N=T.clientX-this.transformDelta.width,x=0;for(var A in this.resizeDirection)x+=this.resizeDirection[A];if(this.resizeDirection.left&&(this.dimensions.x=N,this.dimensions.width=this.resizeStartRect.right-N),this.resizeDirection.up&&(this.dimensions.y=T.clientY,this.dimensions.height=this.resizeStartRect.bottom-B),this.resizeDirection.right&&(this.dimensions.width=N-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=B-this.resizeStartRect.top),(this.preserveAspectRatio||T.shiftKey)&&2===x){var I=void 0,w=this.getRestrictionParent();if(w&&w.length){var F=this.rawElement.getBoundingClientRect().top-w.get(0).getBoundingClientRect().top;I=this.resizeDirection.up?this.dimensions.height+F:w.get(0).clientHeight-F}else I=void 0;M.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,I,R,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=s(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)},M.fixDimensionsBasedOnAspectRatio=function(T,R,B,N,x){void 0===B&&(B=Number.MAX_VALUE);var A=Math.min(x.width,T.maxWidth)+N.width,I=A*R;I>(B=Math.min(T.maxHeight,B)+N.height)&&(A=(I=B)/R),I<T.minHeight+N.height&&(A=(I=T.minWidth+N.height)/R),A<T.minWidth+N.width&&(I=(A=T.minWidth+N.width)*R),x.height=I-N.height,x.width=A-N.width},M.prototype.onResizeEnd=function(){this.isResizing=!1,this.element.removeClass(g),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)},M.prototype.getDimensionsFromElement=function(T,R){var B=this;void 0===R&&(R=!1);var N=this.getPositionFromElement(T);if(R){var x=T.parents("."+b);x.length&&x.each(function(w,F){var O=B.getPositionFromElement($(F));N.x+=O.x,N.y+=O.y})}var A=this.getSizeFromElement(T),I=s(T);return{x:N.x,y:N.y,width:A.width,height:A.height,angle:I}},M.prototype.transformRelativeDimensionFromElement=function(T,R){var B=this,N=T.parents("."+b);N.length&&N.each(function(x,A){var I=B.getPositionFromElement($(A));R.x-=I.x,R.y-=I.y})},M.prototype.getSizeFromElement=function(T){return{width:T.width(),height:T.height()}},M.prototype.getPositionFromElement=function(T){return function(M){var T={x:0,y:0};if(M&&M.length){var R=M.get(0).style,B=R.transform||R.webkitTransform;if(B&&B.length>0){var N=B.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);N?(T.x=parseFloat(N[1]),T.y=parseFloat(N[2])):(N=B.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(T.x=parseFloat(N[1]),T.y=0)}}return T}(T)},M.prototype.draw=function(T){if(!this.options.disableDrawing){var B,R=this.prevDimensions;T=T||this.dimensions,this.options.getIntermediateDimensions&&(B=this.options.getIntermediateDimensions(T)),T=_.extend({},B||T);var N=this.element.get(0).style,x=T.angle;if(!_.isEmpty(this.restrictionElement)){var A=this.getDimensionsFromElement(this.restrictionElement);T.x=Math.max(A.x,T.x),T.y=Math.max(A.y,T.y);var I=Math.max(0,T.x+T.width-(A.x+A.width)),w=Math.max(0,T.y+T.height-(A.y+A.height));this.isResizing?(T.height=T.height-w,T.width=T.width-I):(T.x=T.x-I,T.y=T.y-w,c.fF.assert(function(){return T.x>=A.x},"dimensions.x is less than restriction"),c.fF.assert(function(){return T.y>=A.y},"dimensions.y is less than restriction"))}(T.x!==R.x||T.y!==R.y||T.angle!==R.angle)&&(N.webkitTransform=N.transform="translate("+T.x+"px, "+T.y+"px)"+(x?" rotate("+x+"deg)":""),R.x=T.x,R.y=T.y,R.angle=R.angle),R.width!==T.width&&(N.width=T.width+"px",R.width=T.width),R.height!==T.height&&(N.height=T.height+"px",R.height=T.height)}},M.prototype.snapToGridIfNeeded=function(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))},M.prototype.snapToGrid=function(T){var R=this.options.gridSize;T.x=Math.round(T.x/R.width)*R.width,T.y=Math.round(T.y/R.height)*R.height,T.width=Math.round(T.width/R.width)*R.width,T.height=Math.round(T.height/R.height)*R.height,this.draw(T)},M.prototype.notifyResizeStart=function(T){this.options&&this.options.onResizeStart&&this.options.onResizeStart(T)},M.prototype.notifyResizeMove=function(T){this.options&&this.options.onResizeMove&&this.options.onResizeMove(T)},M.prototype.notifyResizeEnd=function(T){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(T)},M.prototype.notifyDragStart=function(T){this.options&&this.options.onDragStart&&this.options.onDragStart(T)},M.prototype.notifyDragMove=function(T){this.options&&this.options.onDragMove&&this.options.onDragMove(T)},M.prototype.notifyDragEnd=function(T){this.options&&this.options.onDragEnd&&this.options.onDragEnd(T)},M.prototype.notifyNudge=function(T,R){this.options&&this.options.onNudge&&this.options.onNudge(T,R)},M}()},518304:function(ze,K,r){r.d(K,{$V:function(){return E},CT:function(){return n},E9:function(){return h},Fp:function(){return v},IJ:function(){return y},K0:function(){return d},Kj:function(){return i},Kk:function(){return e},LX:function(){return A},MX:function(){return m},Nf:function(){return M},OA:function(){return l},SG:function(){return a},_h:function(){return c},dx:function(){return P},e_:function(){return o},fd:function(){return u},gn:function(){return S},iQ:function(){return t},nt:function(){return V},td:function(){return s},tk:function(){return f},tz:function(){return D},wu:function(){return p},xu:function(){return C}});var t="Explore_ExplorationCreation",c="ExportExcel_EmptyColumnName",i="modelFailednoErrorInfo",s="ModelSizeExceedsSharedCapacityLimit",p="ModelWithIncrementalRefreshIsNotDownloadable",V="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",m="ExportData_DisabledForModelModifiedByXmlaEndpoint",v="ExportData_DisabledForModelWithInferredPartition",e="UnsupportedModelWithRefreshPolicyInSharedCapacity",h="DatasetsWithCompositeModelsNotSupported",n="ServerError_PremiumFilesErrors_ASWLConversionBadRequest",o="ServerError_PremiumFilesErrors_ASWLConversionInternalServerError",u="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModelWithoutCapacity",a="ServerError_PremiumFilesErrors_ASWLConversionConflict",l="PowerBIEntityNotFound",d="PowerBINotAuthorizedException",f="rsErrorOpeningConnection",S="TokenExpired",y="UserNotLicensed",C="NetworkConnectionIssue",E="NavigateAway",D="ChangeDetectionMeasureExecutionDisabledException",P="UnsupportedChangeDetectionMeasureException",M="FailedToAutoAssignLicense",A="PowerBIOperationNotSupported"},772714:function(ze,K,r){r.d(K,{Q:function(){return i},W:function(){return c}});var t=r(831917);function c(s){(0,t.hG)().errorService=s}function i(){return(0,t.hG)().errorService}},267698:function(ze,K,r){r.d(K,{Dd:function(){return h},NJ:function(){return g},OM:function(){return C},PF:function(){return p},Qq:function(){return l},SV:function(){return u},VF:function(){return d},Z:function(){return t},dJ:function(){return i},dm:function(){return e},i5:function(){return m},ii:function(){return S},lH:function(){return a},m:function(){return y},pG:function(){return o},qw:function(){return n},sc:function(){return v},t1:function(){return V},v7:function(){return s}});var t=function(E){return E[E.AzureMapsDomain=1]="AzureMapsDomain",E[E.All=1]="All",E}({}),i={type:2,name:"visualContainerResizeStart"},s={type:2,name:"visualContainerResizeEnd"},p={type:2,name:"visualContainerInteraction"},V={type:2,name:"canvasItemContainerShowHover"},m={type:2,name:"canvasItemContainerHideHover"},v={type:2,name:"liveReportTileReady"},e={type:2,name:"printSectionReady"},h={type:3,name:"reportPrintSectionStarted"},n={type:3,name:"reportPrintSectionFinished"},o={type:4,name:"loadPowerViewReport"},u={type:4,name:"explorationUnloaded"},a={type:4,name:"informationProtectionLoaded"},l={type:4,name:"printModeChanged"},d={name:"reportRefreshStateChanged",type:4},g={name:"externalUrlChanged",type:4},S={type:4,name:"scrollToSelectedTile"},y={type:4,name:"Tile_RLS_NoAccess"},C={name:"dashboardTileScaleChanged",type:2}},180951:function(ze,K,r){r.d(K,{Ed:function(){return h},XP:function(){return s},ZV:function(){return t},aE:function(){return i},ep:function(){return e},jX:function(){return V},qu:function(){return c},qz:function(){return m},rO:function(){return p}});var t={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},c="https://go.microsoft.com/fwlink/?LinkId=532757",i="https://go.microsoft.com/fwlink/?linkid=2179788",s="https://go.microsoft.com/fwlink/?LinkId=525916",p="https://go.microsoft.com/fwlink/?LinkId=823121",V="https://go.microsoft.com/fwlink/?LinkId=786855",m="https://go.microsoft.com/fwlink/?LinkId=823122",e="https://go.microsoft.com/fwlink/?LinkID=825665",h="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},481657:function(ze,K,r){r.d(K,{J8:function(){return m}});var t=r(358724),c=r(787941),i=r(932178),s=r(267698),m=function(){function v(){}return v.getPrintTargetViewPort=function(e){var h={width:t.SZk,height:t.qvT};if(e.width()>e.height()&&(h.width=t.nDG,h.height=t.Td2),i.M.isChrome()){var u=e.parent();h.width=u.width(),h.height=u.height()}return h},v.calculateScaleFactor=function(e,h,n){var o=h.width/e.width,u=h.height/e.height;return n?Math.max(o,u):Math.min(o,u)},v.prototype.getStyleString=function(e){for(var h=Object.keys(e),n="",o=0,u=h.length;o<u;o++){var a=h[o];n=n+a+":"+e[a]+";"}return n},v.prototype.onInit=function(e,h,n,o,u,a,l){var d=this;a||(this.globalSubscriptionManager=l.createChannelSubscriptionManager().subscribe(s.Qq,function(b,f){f===t.WMs?d.insertPrintStylingInDOM(e,h,n,o,u):f===t.IBn&&d.removePrintStylingFromDOM(e)}))},v.prototype.onDestroy=function(e,h){h||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(e,!0)},v.prototype.insertPrintStylingInDOM=function(e,h,n,o,u){if(null!=n){var a=window.location.pathname.toLowerCase();if(!1===u.featureSwitches.printingEnabled&&"/export/report"!==a&&"/reportembedexporthost"!==a){if(!this.printDisabledElement){var d=o.get("PrintingIsDisabledForThisTenantMessage"),b=$("<div>").addClass("errorTitle").text(d),f=$("<div>").attr("id","printDisabledOverlay").append(b);this.printDisabledElement=f,$("body").append(this.printDisabledElement)}return void e.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var g=h(e);c.fF.assertValue(g,"printStylesObject");var S=this.getStyleString(g);this.printStyleElement.get(0).sheet.insertRule(".".concat(n," { ").concat(S," }"))}},v.prototype.removePrintStylingFromDOM=function(e,h){if(void 0===h&&(h=!1),this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,e.show()),this.printStyleElement)if(h)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var n=this.printStyleElement.get(0).sheet,o=n.cssRules.length;o--;)n.removeRule(o)},v}()},49404:function(ze,K,r){r.d(K,{$i:function(){return A},$v:function(){return B},A7:function(){return g},DS:function(){return L},Fk:function(){return O},Gw:function(){return F},KZ:function(){return Q},NQ:function(){return R},OJ:function(){return u},QS:function(){return E},ZW:function(){return l},c9:function(){return S},ee:function(){return d},gF:function(){return de},gY:function(){return y},ov:function(){return a},qg:function(){return f},ql:function(){return N},t6:function(){return H},tL:function(){return w},vs:function(){return T},w$:function(){return Y},xA:function(){return b},yU:function(){return D}});var t=r(776791),c=r(358724),i=r(497610),s=r(239144),p=r(787941),V=r(690016),m=r(772714),v=r(588078),e=2998,n={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},o={year:"2-digit",month:"numeric",day:"numeric"};function u(ce){for(var pe=ce.refreshConnections,ve=void 0!==pe?pe.length:0,De=0;De<ve;De++)if(pe[De].onpremGatewayRequired)return!0;return!1}function a(ce){return u(ce)||l(ce)}function l(ce){var pe=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===ce.onPremModelConnectionString||pe.test(ce.onPremModelConnectionString))&&ce.dataCacheMode!==i.Vv.DirectQuery}function d(ce){try{var pe=V.b$.getDateFromWcfJsonString(ce,!0);return ce&&!pe&&p.fF.assertFail("malformed refresh time could not be parsed to date: "+ce),pe}catch(ve){return p.fF.assertFail(ve.message),null}}function b(ce,pe,ve){void 0===ve&&(ve=!0);try{var De=d(ce);return!ve||!De||De.getFullYear()>e||De.getFullYear()<2?pe.get("ManageDatasets_NextRefresh_NA"):De.toLocaleString()}catch(We){return p.fF.assertFail(We.message),pe.get("ManageDatasets_NextRefresh_NA")}}function f(ce,pe){try{var ve=d(ce);return!ve||ve.getFullYear()>e||ve.getFullYear()<2?pe&&pe.invalidDateTimePlaceholder||"":ve.toLocaleDateString((null==pe?void 0:pe.locale)||void 0,pe&&pe.format||o)}catch(De){return p.fF.assertFail(De.message),pe&&pe.invalidDateTimePlaceholder||""}}function g(ce,pe){try{var ve=d(ce);return!ve||ve.getFullYear()>e||ve.getFullYear()<2?pe&&pe.invalidDateTimePlaceholder||"":ve.toLocaleString(void 0,pe&&pe.format||n)}catch(De){return p.fF.assertFail(De.message),pe&&pe.invalidDateTimePlaceholder||""}}function S(ce,pe,ve){for(var De=new Array,We=0,je=pe;We<je.length;We++){var Ae=je[We],_e=E(ce,Ae,ve);_e.datasourceId=Ae.dataSourceId,_e.dataSourceObjectId=Ae.dataSourceObjectId,_e.gatewayId=Ae.gatewayId,_e.gatewayObjectId=Ae.gatewayObjectId,_e.testConnectionState=Ae.credentialDetails?v.x9.NotStart:v.x9.NotSpecified,_e.alreadyExecutedTestConnection=!1,De.push(_e)}return De}function y(ce,pe){switch(ce){case s.d3.NotSpecified:return pe.get("AuthenticationMethod_NotSpecified");case s.d3.Windows:return pe.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case s.d3.Anonymous:return pe.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case s.d3.Basic:return pe.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case s.d3.Key:return pe.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case s.d3.OAuth2:return pe.get("AuthenticationMethod_OAuth2");case s.d3.EffectiveUserName:return pe.get("AuthenticationMethod_EffectiveUserName");case s.d3.SingleSignOn:return pe.get("AuthenticationMethod_SingleSignOn");case s.d3.WindowsWithoutImpersonation:return pe.get("AuthenticationMethod_WindowsWithoutImpersonation");case s.d3.SAS:return pe.get("AuthenticationMethod_SAS");case s.d3.ServicePrincipal:return pe.get("AuthenticationMethod_ServicePrincipal");default:return s.d3[ce]}}function C(ce,pe){return _.map(ce,function(ve){return y(ve,pe)})}function E(ce,pe,ve){var De=pe.credentialDetails,We={modelId:ce,datasourceId:pe.dataSourceId,dataSourceObjectId:pe.dataSourceObjectId,gatewayId:pe.gatewayId,gatewayObjectId:pe.gatewayObjectId,name:pe.dataSourceName,oAuth2URL:pe.oAuth2Endpoint,oAuth2Nonce:pe.oAuth2Nonce,datasourceType:pe.dataSourceType,datasourceReference:P(pe.dataSourceReference),credentialTypes:pe.supportedAuthenticationTypes,credentialTypesNames:C(pe.supportedAuthenticationTypes,ve),connectionStringGeneralProperties:D(pe.connectionDetails),onpremGatewayRequired:pe.onPremGatewayRequired,singleSignOnType:pe.singleSignOnType,skipTestConnection:!!De&&De.skipTestConnection,selectedCredentialType:De?De.credentialType:void 0,selectedPrivacyLevel:De?De.privacyLevel:void 0,gatewayType:pe.gatewayType};if(We.datasourceType===s.ye.Extension){var je=JSON.parse(pe.dataSourceReference);We.dataSourceKind=je.kind}return We.fullName=I(We,ve),We.displayName=A(We,ve),We}function D(ce){return P(ce)}function P(ce){var pe=new Array;if(ce){var ve=JSON.parse(ce);for(var De in ve)pe.push({name:De,value:ve[De]})}return pe}function M(ce){return ce?null!=ce.server?(p.fF.assertValue(ce.database,"database"),[{name:"Server",value:ce.server},{name:"Database",value:ce.database}]):null!=ce.path?[{name:"path",value:ce.path}]:null!=ce.modelId?[{name:"modelId",value:ce.modelId},{name:"workspaceId",value:ce.workspaceId}]:(p.fF.assertValue(ce.extensionDataSourceKind,"extensionDataSourceKind"),p.fF.assertValue(ce.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:ce.extensionDataSourceKind},{name:"extensionDataSourcePath",value:ce.extensionDataSourcePath}]):[]}function T(ce,pe,ve){var De=(0,t.K)(pe.connectionDetails),We=[];_.includes(pe.supportedAuthenticationTypes,s.d3.Basic)&&We.push(s.d3.Basic),_.includes(pe.supportedAuthenticationTypes,s.d3.OAuth2)&&We.push(s.d3.OAuth2),pe.supportedAuthenticationTypes=We;var je={modelId:ce,datasourceId:pe.dataSourceId,dataSourceObjectId:pe.dataSourceObjectId,name:s.ye[pe.dataSourceType],oAuth2URL:pe.oAuth2Endpoint,oAuth2Nonce:pe.oAuth2Nonce,datasourceType:pe.dataSourceType,credentialTypes:pe.supportedAuthenticationTypes,credentialTypesNames:C(pe.supportedAuthenticationTypes,ve),connectionStringGeneralProperties:M(De),onpremGatewayRequired:!1,gatewayId:pe.gatewayId,gatewayObjectId:pe.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:pe.credentialDetails?null:ve.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:pe.credentialDetails?v.x9.Passed:v.x9.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:pe.singleSignOnType};return je.fullName=I(je,ve),je.displayName=A(je,ve),je}function R(ce,pe){return{importAndRefreshBehavior:ce.importAndRefreshBehavior,refreshEnabled:ce.refreshEnabled,refreshFrequency:se(ce),refreshDays:O(ce.weekDays),refreshTimeWindowIndex:U(ce.executionTime,pe),refreshTimesHourly:te(ce.executionTimeHourly,pe),refreshTimeZoneId:ce.localTimeZoneId,sendFailureEmail:!0,isRefreshable:ce.isRefreshable,refreshNotificationEnabled:ce.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function B(ce,pe){var ve=ce.refreshSchedule,De=R(ve,pe);return 10080===De.refreshFrequency&&ve.refreshFrequency&&ve.refreshFrequency===1440..toString()&&9===ce.contentProviderId&&(De.refreshFrequency=1440,De.refreshEnabled=!0,ce.nextRefreshTime&&((!De.refreshTimesHourly||De.refreshTimesHourly.length<1)&&(De.refreshTimesHourly=function(ce){var pe=d(ce),ve=pe.getMinutes(),De=pe.getHours();return ve>30?(ve=0,++De>24&&(De-=24)):ve=30,[{refreshHourIndex:(De+11)%12,refreshMinuteIndex:Math.floor(ve/30),refreshAmPmIndex:Math.floor(De/12),isIncomplete:!1,isDuplicate:!1}]}(ce.nextRefreshTime)),(!De.refreshTimeWindowIndex||0===De.refreshTimeWindowIndex)&&(De.refreshTimeWindowIndex=function(ce){var pe=d(ce),ve=pe.getHours();return pe.getMinutes()>30&&++ve>24&&(ve-=24),ve}(ce.nextRefreshTime)))),new v.$Z(ce,ce.id,ce.displayName,ce.description,4===ce.lastRefreshStatus||2===ce.lastRefreshStatus,_.isEmpty(ce.refreshHistories)?"":ce.refreshHistories[0].friendlyErrorMessage,d(ce.nextRefreshTime).toString(),De,ce.parameters,pe)}function N(ce,pe){var ve=1440===ce.refreshFrequency,De=10080===ce.refreshFrequency,We=null;ve?We=c.r90:De&&(We=L(ce.refreshDays));var je=null;return!ve&&!De&&(je=ce.refreshFrequency.toString()),{importAndRefreshBehavior:ce.importAndRefreshBehavior,refreshEnabled:ce.refreshEnabled,isDaily:1440===ce.refreshFrequency,refreshFrequency:je,weekDays:We,executionTime:pe?j(6*ce.refreshTimeWindowIndex):null,executionTimeHourly:pe?null:W(ce.refreshTimesHourly),localTimeZoneId:ce.refreshTimeZoneId,refreshNotificationEnabled:ce.refreshNotificationEnabled,refreshContacts:ce.refreshEmails.emailsList?ce.refreshEmails.emailsList.inputUserList:[]}}function A(ce,pe){switch(ce.datasourceType){case s.ye.AnalysisServices:case s.ye.Oracle:case s.ye.SqlServer:case s.ye.MySql:case s.ye.PostgreSql:case s.ye.Sybase:case s.ye.Teradata:case s.ye.DB2:var ve=void 0,De=void 0,We=ce.connectionStringGeneralProperties;if(!We)return s.ye[ce.datasourceType];for(var je=We.length,Ae=0;Ae<je;Ae++){var _e=We[Ae];"database"===_e.name?ve=_e.value:"server"===_e.name&&(De=_e.value)}return ve||De?(ve||"")+(ve&&De?"-":"")+(De||""):s.ye[ce.datasourceType];case s.ye.Folder:case s.ye.File:var le=_.find(ce.connectionStringGeneralProperties,{name:"path"});return V.b$.extractFileNameFromPath(le.value);case s.ye.Extension:return _.find(ce.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case s.ye.AdoDotNet:var ie=_.find(ce.connectionStringGeneralProperties,{name:"workspaceId"}),me=_.find(ce.connectionStringGeneralProperties,{name:"modelId"});return pe.format("SettingsDataset_AdoDotNetText",[ie.value,me.value]);case s.ye.ActiveDirectory:case s.ye.AzureTable:case s.ye.AzureBlob:case s.ye.Web:case s.ye.OData:case s.ye.SharePoint:case s.ye.GoogleAnalytics:case s.ye.Exchange:case s.ye.Facebook:case s.ye.HDInsight:case s.ye.AzureMarketplace:case s.ye.Salesforce:case s.ye.SAPBW:case s.ye.SAP:case s.ye.OleDb:case s.ye.ODBC:case s.ye.Essbase:return s.ye[ce.datasourceType];case s.ye.SharePointList:return"SharePoint";default:return ce.name}}function I(ce,pe){switch(+ce.datasourceType){case s.ye.Folder:case s.ye.File:return _.find(ce.connectionStringGeneralProperties,{name:"path"}).value;default:return A(ce,pe)}}function w(ce,pe){if(!_.isEmpty(ce))for(var ve=0,De=ce;ve<De.length;ve++){var We=De[ve];We.displayName=A(We,pe),We.fullName=I(We,pe)}}function F(ce){if(ce){if(null!=ce.clientCategory)return ce.clientCategory;switch(ce.category){case 1:case 3:case 6:return i.Bs.Service;case 2:case 5:case 4:case 7:return i.Bs.Organizational;default:p.fF.assertFail("Unknown content provider category")}}}function O(ce){for(var pe=new Array,ve=0;ve<7;ve++)pe[ve]=1==(1&ce),ce>>=1;return pe}function L(ce){for(var pe=0,ve=6;ve>=0;ve--)pe<<=1,pe=!0===ce[ve]?1|pe:pe;return pe}function W(ce){for(var pe=[],ve=ce.length,De=0;De<ve;De++){var We=ce[De],Ae=30*We.refreshMinuteIndex;pe.push(((We.refreshHourIndex+1)%12+12*We.refreshAmPmIndex).toString()+":"+(0===Ae?"00":Ae.toString())+":00")}return JSON.stringify(pe)}function U(ce,pe){var ve;if(ce){var De=ce.split(":"),We=parseInt(De[0],10);We>=0&&We<24?ve=Math.floor(We/6):((0,m.Q)().error(pe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),ve=0)}else ve=0;return ve}function j(ce){var pe=new Date;pe.setHours(ce),pe.setMinutes(0),pe.setSeconds(0);var ve=pe.toTimeString(),De=ve.indexOf(" ");return ve.substr(0,De)}function te(ce,pe){var ve=[];if(ce){try{var De=JSON.parse(ce)}catch(me){return void(0,m.Q)().error(pe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var We=De.length,je=0;je<We;je++){var _e=De[je].split(":"),le=parseInt(_e[0],10),Z=parseInt(_e[1],10);if(le<0||le>=24)(0,m.Q)().error(pe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(Z<0||Z>=60)(0,m.Q)().error(pe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var ie={refreshHourIndex:(le+11)%12,refreshMinuteIndex:Math.floor(Z/30),refreshAmPmIndex:Math.floor(le/12),isIncomplete:!1,isDuplicate:!1};ve.push(ie)}}}return ve}function Q(ce){return _.isEmpty(ce.displayName)?ce.qnaSupported:!0===ce.qnaSupported&&(1===ce.pushDataVersion||2===ce.pushDataVersion||ce.dataCacheMode===i.Vv.Import&&!1!==ce.powerBIQnaEnabled||!!ce.onPremModelConnectionString&&ce.powerBIQnaEnabled||(ce.dataCacheMode===i.Vv.DirectQuery||ce.dataCacheMode===i.Vv.Mixed)&&ce.powerBIQnaEnabled)}function H(ce){return!(!ce||ce.dataCacheMode!==i.Vv.DirectQuery&&ce.dataCacheMode!==i.Vv.Mixed&&_.isEmpty(ce.onPremModelConnectionString))}function de(ce){for(var pe=0,ve=ce.monikers;pe<ve.length;pe++){var We=_.filter(ve[pe].monikerDataSources,function(Z){return null==Z.dataSourceId&&1!=(1&Z.monikerDataSourceAttribute)});if(We&&0!==We.length){if(_.every(We,function(Z){return!Z.matchingDataSourceObjectIds||0===Z.matchingDataSourceObjectIds.length}))return!0;for(var je=0,Ae=We;je<Ae.length;je++){var le=_.map(Ae[je].matchingDataSourceObjectIds,function(Z){return _.find(ce.datasources,function(ie){return ie.dataSourceObjectId===Z})});if(_.every(le,function(Z){return"Personal"!==(null==Z?void 0:Z.gatewayType)}))return!0}}}return!1}function Y(ce,pe){for(var ve=[],De=0,We=ce.monikers;De<We.length;De++){var Ae=_.map(We[De].monikerDataSources,function(le){return le.dataSourceObjectId});_.every(Ae,function(le){return le})&&ve.push.apply(ve,Ae||[])}return _.filter(ce.datasources,function(le){return(le.gatewayObjectId===pe||!1===le.onPremGatewayRequired)&&_.includes(ve,le.dataSourceObjectId)})}function se(ce){switch(p.fF.assertValue(ce,"schedule"),parseInt(ce.refreshFrequency,10)){case 15:return 15;case 30:return 30;case 60:return 60;case 120:return 120;case 180:return 180}return ce.isDaily?1440:10080}},884765:function(ze,K,r){r.d(K,{f:function(){return p}});var t=r(358724),c=r(787941),i=r(261374),s=window,p=function(){function V(m,v,e){void 0===e&&(e=!1),this.redirectPath=m,this.appSettings=v,this.useMsPbi=e}return V.webRedirectUrlHelper=function(m){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new V("Redirect",m)),this._webRedirectUrlHelper},V.mobileRedirectUrlHelper=function(m){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new V("MobileRedirect.html",m)),this._mobileRedirectUrlHelper},V.prototype.getAppRedirectUrl=function(m,v,e,h){return c.fF.assertValue(v,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:m,context:h,appId:v,ctid:e})},V.prototype.getDashboardRedirectUrl=function(m,v,e,h,n,o,u,a){return c.fF.assert(function(){return"MSTeams"===u||"ChatInTeams"===u||!_.isEmpty(m)||!_.isEmpty(v)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue("MSTeams"===u||"ChatInTeams"===u||e,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:n,groupObjectId:m,appId:v,dashboardObjectId:e,ctid:h,tileId:o,pbi_source:u,openDashboardSource:a})},V.prototype.getReportRedirectUrl=function(m,v,e,h,n,o,u,a,l){c.fF.assert(function(){return"MSTeams"===a||"ChatInTeams"===a||!_.isEmpty(m)||!_.isEmpty(v)},"getReportRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue("MSTeams"===a||"ChatInTeams"===a||e,"getReportRedirectUrl: reportObjectId");var d={action:1===u?"OpenRdlReport":"OpenReport",context:o,groupObjectId:m,appId:v,reportObjectId:e,ctid:n,pbi_source:a,bookmarkGuid:l};return _.isEmpty(h)||(d.reportPage=h),this.getRedirectUrl(d)},V.prototype.getDatasetRedirectUrl=function(m,v,e,h){return c.fF.assert(function(){return"MSTeams"===h||"ChatInTeams"===h||!_.isEmpty(m)},"getDatasetRedirectUrl: groupId shouldn't be null"),c.fF.assertValue("MSTeams"===h||"ChatInTeams"===h||v,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:e,groupObjectId:m,datasetObjectId:v,pbi_source:h})},V.prototype.getScorecardRedirectUrl=function(m,v,e,h,n){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:m,scorecardObjectId:v,ctid:e,context:h,pbi_source:n})},V.prototype.getWorkbookRedirectUrl=function(m,v,e,h,n){return c.fF.assert(function(){return!_.isEmpty(m)||!_.isEmpty(v)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue(e,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:n,groupObjectId:m,appId:v,workbookUniqueId:e,ctid:h})},V.prototype.getTileRedirectUrl=function(m,v,e,h,n){return c.fF.assert(function(){return!_.isEmpty(m)||!_.isEmpty(v)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue(e,"getDashboardRedirectUrl: dashboardObjectId"),c.fF.assertValue(h,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:n,groupObjectId:m,appId:v,dashboardObjectId:e,tileObjectId:h})},V.prototype.getServiceAppInstallRedirectUrl=function(m,v,e,h){c.fF.assertValue(m,"getAppRedirectUrl: appKey"),c.fF.assertValue(v,"getAppRedirectUrl: packageKey");var n={action:"InstallApp",appId:m,packageKey:v.replace("=",""),ownerId:e};_.isEmpty(h)||(n.buildVersion=h);var u=(window.location.protocol+"//"+window.location.host).replace(s.baseUrl,s.feUrl);return this.getRedirectUrl(n,u)},V.prototype.getLineageViewRedirectUrl=function(m,v){return c.fF.assert(function(){return!_.isEmpty(m)},"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue(v,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:m,reportObjectId:v})},V.prototype.getRedirectUrl=function(m,v){if(c.fF.assertValue(m,"getRedirectUrl: params"),this.useMsPbi){var e=m.action;return m=this.removeEmptyParams(m,this.useMsPbi),(0,i.W)("{0}/{1}?{2}","mspbi://app",e,$.param(m))}return m=this.removeEmptyParams(m),(0,i.W)("{0}/{1}?{2}",v||this.appSettings.baseUrl,this.redirectPath,$.param(m))},V.prototype.removeEmptyParams=function(m,v){void 0===v&&(v=!1);var e=[];return(_.isEmpty(m.groupObjectId)||m.groupObjectId===t.wku)&&e.push("groupObjectId"),_.isEmpty(m.appId)&&e.push("appId"),_.isEmpty(m.context)&&e.push("context"),_.isEmpty(m.reportObjectId)&&e.push("reportObjectId"),_.isEmpty(m.ctid)&&e.push("ctid"),_.isEmpty(m.openDashboardSource)&&e.push("openDashboardSource"),_.isEmpty(m.tileId)&&e.push("tileId"),_.isEmpty(m.dashboardObjectId)&&e.push("dashboardObjectId"),_.isEmpty(m.bookmarkGuid)&&e.push("bookmarkGuid"),_.isEmpty(m.pbi_source)&&e.push("pbi_source"),(_.isEmpty(m.action)||v)&&e.push("action"),e.length>0&&(m=_.omit(m,e)),m},V}()},84867:function(ze,K,r){r.d(K,{B:function(){return i},V:function(){return c}});var t=r(787941);function c(s){switch(s){case 0:return"Master";case 1:return"PhonePortrait";default:t.fF.assertFail("Unsupported telemetry canvas layout")}return null}var i=function(){function s(p){this.options=p}return s.prototype.start=function(p){this.reject(),this.event=p()},s.prototype.resolve=function(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)},s.prototype.reject=function(p){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,p),this.event.reject(p),this.event=void 0)},s}()},909748:function(ze,K,r){function t(c,i,s){var p=_.trim(c),V=_.trim(i);return _.isEmpty(p)?s||"":_.isEmpty(V)?p:"".concat(p," ").concat(V)}r.d(K,{P:function(){return t}})},406585:function(ze,K,r){r.d(K,{Y:function(){return c}});var t=r(787941),c=function(){function i(){this.css={},this.elems=[]}return i.prototype.setDimensionBehavior=function(s){this.skipJqueryDimension=s},i.prototype.addAttributes=function(s){for(var p in s)this.css[p]=s[p]},i.prototype.element=function(s){t.fF.assertValue(s,"element"),this.elems=[s]},i.prototype.addElement=function(s){t.fF.assertValue(s,"element"),this.elems.push(s)},i.prototype.removeElement=function(s){t.fF.assertValue(s,"element"),_.pull(this.elems,s)},i.prototype.position=function(s){t.fF.assertValue(s,"position");var p=this.css;p.WebkitTransform=p.transform="translate("+s.x+"px, "+s.y+"px)"},i.prototype.viewport=function(s){t.fF.assertValue(s,"viewport");var p=this.css;p.height=s.height,p.width=s.width},i.prototype.zIndex=function(s){t.fF.assertValue(s,"zIndex"),this.css.zIndex=s},i.prototype.rotate=function(s){if(t.fF.assertValue(s,"rotate angle"),s){var p=this.css;p.WebkitTransform=p.transform+=" rotate("+s+"deg)"}},i.prototype.apply=function(s){if(this.skipJqueryDimension)if(s)this.applyStyleWithoutDimensionHooks(s);else for(var p=0,V=this.elems;p<V.length;p++)this.applyStyleWithoutDimensionHooks(V[p]);else if(s)s.css(this.css);else for(var v=0,e=this.elems;v<e.length;v++)e[v].css(this.css)},i.prototype.applyStyleWithoutDimensionHooks=function(s){var p=s.get(0);null!=this.css.height&&(p.style.height="".concat(this.css.height,"px")),null!=this.css.width&&(p.style.width="".concat(this.css.width,"px"));var V=_.omit(this.css,["height","width"]);s.css(V)},i.prototype.getCss=function(){return this.css},i}()},749559:function(ze,K,r){r.d(K,{XM:function(){return l},be:function(){return h},bq:function(){return v}});function v(){return 7}function h(){return 7}var l=function(d){return d[d.drag=0]="drag",d[d.resizing=1]="resizing",d[d.resized=2]="resized",d[d.refresh=3]="refresh",d}({})},12617:function(ze,K,r){r.d(K,{H:function(){return p}});var t=r(226514),c=r(497610),i=r(49404),p=function(V){function m(v){var e=V.call(this)||this;return e.contract=v,e.isRefreshInProgress=!1,e.uniqueId=m.getUniqueId(v.id,v.packageId),e.categories=0,e}return(0,t.__extends)(m,V),m.prototype.getPermissions=function(){var v;return this.getPermissionsCallback&&null!=(v=this.getPermissionsCallback())?v:this.contract&&this.contract.permissions},Object.defineProperty(m.prototype,"hasError",{get:function(){return this.contract&&(2===this.packagePublishStatus||4===this.packagePublishStatus||2===this.contract.lastRefreshStatus||4===this.contract.lastRefreshStatus)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"lastRefreshTimeInLocaleString",{get:function(){var e=this.getLastRefreshTime();if(e)return e.toLocaleString()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"lastRefreshEpochTime",{get:function(){var e=this.getLastRefreshTime();if(e)return e.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"contentTileType",{get:function(){return c.ty.Dataset},enumerable:!1,configurable:!0}),m.prototype.getRefreshDisabledReason=function(){var v;return null!==(v=this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)&&void 0!==v?v:0},m.getUniqueId=function(v,e){return"".concat(c.ty.Dataset,"_").concat(v,"_").concat(e)},m.prototype.getLastRefreshTime=function(){var v=this.contract;return(0,i.ee)(v.onPremModelConnectionString?v.lastTimeAModelChangeWasDetectedInTheCluster:v.lastRefreshTime)},m}(r(184343)._)},967480:function(ze,K,r){r.d(K,{Y:function(){return V},y:function(){return p}});var t=r(226514),c=r(497610),i=r(725182),p=function(m){function v(e){var h=m.call(this,void 0===e?0:e.id,0,void 0===e?0:e.packageId)||this;return h.contract=e,h.isRefreshInProgress=!1,h.reportType=h.contract&&1===h.contract.reportType?1:0,h.contentTileType=1===h.reportType?c.ty.RdlReport:c.ty.Report,h}return(0,t.__extends)(v,m),v.prototype.getPermissions=function(){var e;return this.getPermissionsCallback&&null!=(e=this.getPermissionsCallback())?e:this.contract&&this.contract.permissions},Object.defineProperty(v.prototype,"canWrite",{get:function(){return(0,i.yE)(this.getPermissions(),V.Write)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"canCopy",{get:function(){return(0,i.yE)(this.getPermissions(),V.CopyOnWrite)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"canExplore",{get:function(){return(0,i.yE)(this.getPermissions(),V.Explore)},enumerable:!1,configurable:!0}),v}(r(422255).H),V=function(m){return m[m.None=0]="None",m[m.Read=1]="Read",m[m.Write=2]="Write",m[m.ReShare=4]="ReShare",m[m.Explore=8]="Explore",m[m.CopyOnWrite=17]="CopyOnWrite",m[m.ReadWrite=3]="ReadWrite",m[m.ReadReshare=5]="ReadReshare",m[m.Personalized=11]="Personalized",m[m.All=7]="All",m}({})},422255:function(ze,K,r){r.d(K,{H:function(){return i}});var t=r(226514),i=function(s){function p(V,m,v){var e=s.call(this,m)||this;return e.uniqueId=p.getUniqueId(m,V,v),e}return(0,t.__extends)(p,s),p.getUniqueId=function(V,m,v){return V+"_"+m+"_"+v},p}(r(184343)._)},184343:function(ze,K,r){r.d(K,{_:function(){return t}});var t=function(){return function(i){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=i}}()},588078:function(ze,K,r){r.d(K,{$Z:function(){return V},a0:function(){return p},a6:function(){return m},x9:function(){return s}});var t=r(358724),c=r(497610),i=r(239144),s=function(v){return v[v.NotSpecified=0]="NotSpecified",v[v.NotStart=1]="NotStart",v[v.Progressing=2]="Progressing",v[v.Failed=3]="Failed",v[v.Passed=4]="Passed",v}({}),p=function(){function v(e,h){this.localizationService=h,this.refreshSettings=e,this.refreshSectionExpand=!1}return Object.defineProperty(v.prototype,"showWeekDays",{get:function(){return 10080===this.refreshSettings.refreshFrequency},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showRefreshTimeInfo",{get:function(){var h=this.refreshSettings.refreshFrequency;return 1440===h||10080===h},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshFrequencyString",{get:function(){return this.refreshSettings.refreshFrequency.toString()},set:function(h){this.refreshSettings.refreshFrequency=parseInt(h,10)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"weekdayKeys",{get:function(){return m.weekdayKeys()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshTimeWindows",{get:function(){return m.refreshTimeWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshTimeHourWindows",{get:function(){return m.refreshTimeHourWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshTimeMinuteWindows",{get:function(){return m.refreshTimeMinuteWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshTimeAmPmWindows",{get:function(){return m.refreshTimeAmPmWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshTimeZones",{get:function(){return m.refreshTimeZones(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"refreshTimeZonesViewModel",{get:function(){return m.refreshTimeZonesViewModel(this.localizationService)},enumerable:!1,configurable:!0}),v}(),V=function(){function v(e,h,n,o,u,a,l,d,b,f){this.localizationService=f,this.contract=e,this.modelId=h,this.name=n,this.description=o,this.lastRefreshFailed=u,this.lastRefreshFailedMessage=a,this.nextRefresh=l,this.refreshSettingsModel=new p(d,f),this.parameters=b,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=null==e?void 0:e.paSupported,this.paEnabled=null==e?void 0:e.paEnabled,this.paSettings=null==e?void 0:e.paSettings,this.hasAggregationTable=null==e?void 0:e.hasAggregationTable,this.directLakeAutoSync=null==e?void 0:e.directLakeAutoSync,this.directLakeMode=null==e?void 0:e.directLakeMode,this.directLakeAutoSyncResult=null==e?void 0:e.directLakeAutoSyncResult,this.storageMode=null==e?void 0:e.storageMode,this.isQsoSupported=null==e?void 0:e.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=null==e?void 0:e.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=null==e?void 0:e.qsoCommitVersionTimestamp}return Object.defineProperty(v.prototype,"takeoverStatusText",{get:function(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"takeoverButtonText",{get:function(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasDatasourceWithWrongCredentials",{get:function(){return this.datasources&&_.some(this.datasources,function(h){return!h.isCloudDirectQuery&&h.testConnectionState!==s.Passed})},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showSkipTestConnectionWarning",{get:function(){return _.some(this.datasources,function(h){return!0===h.skipTestConnection})},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasDirectQueryDatasourceWithMissingCredentials",{get:function(){return this.datasources&&_.some(this.datasources,function(h){return h.isCloudDirectQuery&&h.testConnectionState===s.Failed})},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasRDataSource",{get:function(){return this.datasources&&_.some(this.datasources,function(h){return h.datasourceType===i.ye.Extension&&(h.name===t.kJ$||h.fullName===t.kJ$)})},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isPlainDirectQueryOrOnPremModel",{get:function(){return v.isPlainDirectQueryOrOnPremModel(this.contract)},enumerable:!1,configurable:!0}),v.isPlainDirectQueryOrOnPremModel=function(e){return e.dataCacheMode===c.Vv.DirectQuery||!_.isEmpty(e.onPremModelConnectionString)},v.prototype.getTakeoverStatusTextForUser=function(e){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+e+'">'+e+"</a>"])},v}(),m=function(){function v(){}return v.weekdayKeys=function(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]},v.refreshTimeWindows=function(e){return[e.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),e.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),e.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),e.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]},v.refreshTimeHourWindows=function(e){return[e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),e.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]},v.refreshTimeMinuteWindows=function(e){return[e.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),e.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]},v.refreshTimeAmPmWindows=function(e){return[e.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),e.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]},v.refreshTimeZones=function(e){return{"Dateline Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":e.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":e.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":e.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":e.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:e.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":e.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":e.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}},v.refreshTimeZonesViewModel=function(e){var h=[];return _.forOwn(this.refreshTimeZones(e),function(n,o){h.push({key:o,value:n})}),h},v}()},75554:function(ze,K,r){function t(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}r.d(K,{Q:function(){return t}})},819523:function(ze,K,r){r.d(K,{y:function(){return m}});var t=r(787941),c=r(826691),i=r(261374),m=function(){function v(e,h){this.promiseFactory=e,this.httpService=h,t.fF.assertValue(e,"promiseFactory"),t.fF.assertValue(h,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}return v.prototype.startMonitoring=function(e){var h=this;void 0===e&&(e=0),this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(function(){h.sendLongPollRequest()},e))},v.prototype.setLongPollInitialized=function(e){this.longPollInitialized=e},v.prototype.cancelCurrentRequest=function(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)},v.prototype.pause=function(){this.paused=!0,this.cancelCurrentRequest()},v.prototype.resume=function(){this.paused=!1,this.startMonitoring()},v.prototype.trySendRequest=function(e){var h=this.requestOptions,n=h.headers.Authorization,o=!1;if(n){var u=n.split(" ");o=u.length>1&&!(0,i.g)(u[1])&&"undefined"!==u[1]}if(o)return this.httpService.post(this.getEndpointUrl(),{request:e},h);c.f.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")},Object.defineProperty(v.prototype,"requestHeader",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"longPollDurationInMs",{get:function(){return 6e4},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"requestOptions",{get:function(){var h=this,n=this.requestDeferred;t.fF.assertValue(n,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(function(){h.lastLongPollTimedOut=!0,n.resolve(null)},this.longPollDurationInMs);var o=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return o.retryCount=0,o.timeout=n.promise,o.silentlyFailOnExpiry=!0,o},enumerable:!1,configurable:!0}),v.prototype.sendLongPollRequest=function(){var e=this;if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var h=this.getRequest();if(!h)return void this.reset();var n=this.trySendRequest(h);if(!n)return;n.then(function(o){e.retryCount=0,e.requestDeferred.resolve(null),e.processResponse(o.data),e.sendLongPollRequest()},function(o){e.requestDeferred.resolve(null),e.lastLongPollTimedOut?(e.retryCount=0,e.sendLongPollRequest()):e.lastLongPollCancelled?e.retryCount=0:e.retryCount<3?(e.retryCount++,e.sendLongPollRequest()):(e.processError(o&&o.error),e.suspend())})}},v.prototype.suspend=function(){var e=this,h=this.promiseFactory.defer();h.promise.then(function(){e.cancelCurrentRequest(),e.startMonitoring()}),this.httpService.registerResponseCallback(function o(u){u&&(e.httpService.unregisterResponseCallback(o),h.resolve(null))}),setTimeout(function(){h.resolve(null)},12e4)},v.prototype.reset=function(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1},v}()},784683:function(ze,K,r){r.d(K,{z:function(){return v}});var t=r(226514),c=r(37743),i=r(787941),s=r(778186),p=r(543054),V=window;function m(e,h,n,o){void 0===n&&(n=!0);var l,d,u=(0,s.Xr)(),a="";switch(n&&(a=c.s.getQueryStringValue("unmin")?"":".min"),h){case 0:l="scripts",d=".js";break;case 1:l="styles",d=".css";break;case 2:l="externals",d=".js";break;case 3:l="externals",d=".css";break;default:i.fF.assertNever(h)}var b=[u];if("True"===V.useCDN&&V.hashMappings){var f=void 0;f=o?[o,l,"".concat(e).concat(a).concat(d)].join("/"):[l,"".concat(e).concat(a).concat(d)].join("/");var g=(0,p.i)();g.isRtlLayout&&(1===h||3===h)&&(f=f.indexOf(".min")>-1?f.replace(".min.css",".rtl.min.css"):f.replace(".css",".rtl.css"));var S=V.hashMappings[f];if(!S&&g.isRtlLayout&&(1===h||3===h)&&(f=f.replace(".rtl.min.css",".min.rtl.css"),S=V.hashMappings[f]),S)return[b=V.cdnUrl,S.substring(0,S.indexOf(d))].join("/")}return o&&b.push(o),(0,t.__spreadArray)((0,t.__spreadArray)([],b||[],!0),[l,"".concat(e).concat(a)],!1).join("/")}function v(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":m("angular-ui-datetimepicker",2,!0),"d3-array":m("d3-array",2,!0),"d3-geo":m("d3-geo",2,!0),"es6-promise":m("es6-promise",2,!0),filesaver:m("filesaver",2,!0),"jquery-qrcode":m("jquery-qrcode",2,!0),"jquery-ui":m("jquery-ui",2,!0),msrcrypto:m("msrcrypto",2,!0),ngTagsInput:m("ngTagsInput",2,!0),pubnub:m("pubnub",2,!0),quill:m("quill",2,!0),resizeSensor:m("resizeSensor",2,!0),"powerbi-models":m("powerbi-models",2,!0),topojson:m("topojson",2,!0),cropperjs:m("cropper",2,!0),"globalize.cultures":m("jquery.globalize/globalize.cultures",0,!1)},bundles:{},cssPaths:{"jquery-ui":m("jquery-ui.min",3,!1),ngTagsInput:m("ngTagsInput",3,!0),"quill.core":m("quill.core",3,!1),cropperjs:m("cropper",3,!1),accessibleTableVisual:m("accessibleTableVisual",1,!0),adminPortal:m("adminPortal",1,!0),advancedSlicerVisual:m("advancedSlicerVisual",1,!0),aiNarrativesVisual:m("aiNarrativesVisual",1,!0),azureMapVisuals:m("azureMapVisuals",1,!0),capacityAdmin:m("capacityAdmin",1,!0),cardVisual:m("cardVisual",1,!0),exploreUIDialogs:m("exploreUIDialogs",1,!0),getData:m("getData",1,!0),mobileAuthoring:m("mobileAuthoring",1,!0),permissions:m("permissions",1,!0),pivotTableVisuals:m("pivotTableVisuals",1,!0),rdlVisual:m("rdlVisual",1,!0),scorecardVisual:m("scorecardVisual",1,!0),settings:m("settings",1,!0),sharing:m("sharing",1,!0)}}}},221364:function(ze,K,r){r.d(K,{I:function(){return i}});var t=r(912126),c=r(454869);function i(s,p,V){return(0,c.I)((0,t.k2)(s,p),V)}},320569:function(ze,K,r){r.d(K,{CJ:function(){return o},I:function(){return c},Zg:function(){return i},a9:function(){return h},av:function(){return n},eg:function(){return m},gY:function(){return v},lV:function(){return s},lZ:function(){return e},p2:function(){return d},sw:function(){return a}});var t=r(613181),c=44,i=50,s=4,m=1,v=1,e=2*m,h=2*v,n=3*m,o=3*v;function a(){return{rowSpan:e,colSpan:h}}function d(E){return{height:E.rowSpan*t.lT-t.zy,width:E.colSpan*t.A4-t.zy}}a()},613181:function(ze,K,r){r.d(K,{A4:function(){return t},lT:function(){return c},zy:function(){return i}});var t=260,c=180,i=10},456232:function(ze,K,r){r.d(K,{Ue:function(){return s},pi:function(){return V},rc:function(){return c},yx:function(){return i}});var t=r(831917),c="x-powerbi-error-info",i="x-powerbi-error-details";function s(m,v,e,h){var n={method:m,url:v};return void 0!==h&&(n.data=h),Object.assign(n,e)}function V(m){(0,t.hG)().httpService=m}},72911:function(ze,K,r){r.d(K,{h1:function(){return c},oY:function(){return i},pm:function(){return V}});var t=r(831917);function c(v){return v||(0,t.hG)().localize}function i(v){(0,t.hG)().localize=v}function V(){return(0,t.hG)().localizedStrings}},823542:function(ze,K,r){r.d(K,{n$:function(){return c},uD:function(){return s}});var t=r(831917);function c(){return(0,t.hG)().cultureInfo}function s(){return(0,t.hG)().unmappedCultureInfo}},915716:function(ze,K,r){r.d(K,{z:function(){return V}});var t=r(630326),c=r(358724),i=r(787941),s=r(608014),p=r(919439);function V(u,a,l,d){return new o(u,a,l,d)}var m="overlayActive",v="overlay",o=function(){function u(a,l,d,b){var f=this;this.root=d,this.rtl=b,this.dropdowns=[],this.$window=$(a).on(s.Ti+".overlayService",function(g){return f.mouseClickHideDialog(g,f.dropdowns)}).on("resize.overlayService",function(){return f.hideAllDropdowns()}),this.root=d||$("body")}return u.prototype.onDestroy=function(){$(this.$window).off(s.Ti+".overlayService"),$(this.$window).off("resize.overlayService")},u.prototype.register=function(a,l){this.dropdowns.push({element:a}),a.addClass(v).appendTo(l||this.root)},u.prototype.unregister=function(a){_.remove(this.dropdowns,function(l){return l.element.is(a)}),a.removeClass(v).removeClass(m).remove()},u.prototype.isRegistered=function(a){return _.some(this.dropdowns,function(l){return l.element.is(a)})},u.prototype.mouseClickHideDialog=function(a,l){var d=this;!_.some(this.dropdowns,function(f){return f.element.hasClass(m)&&!d.outOfBoundsClickHandler(a,f.element)})&&this.hideAllDropdowns(!0)},u.prototype.showOverlay=function(a,l){var d=this;if(i.fF.assert(function(){return+!(!l.anchorElement&&!l.anchorDimensions)+ +!!l.position==1},"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),i.fF.assert(function(){return a.length>0},"element to show does not exist."),l.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,a),a.addClass(m),a.attr("aria-modal","false"),a.attr("role","dialog"),l.anchorElement||l.anchorDimensions){l.blurNeeded&&this.registerBlurHandler(l.anchorElement,l.disableAnimation);var b=l.anchorDimensions||(0,p.E)(l.anchorElement);this.repositionDropdownWithAnchorCoordinates(a,b,!!l.preferLeft,l.horizontal,l.showOutsideAnchorElement,l.showIndicator,l.scale)}else l.position&&l.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(a,{left:l.position.x,top:l.position.y,width:0,height:0},!!l.preferLeft,!1,l.showOutsideAnchorElement,l.showIndicator,l.scale):l.position&&this.repositionDropdown(a,l.position);var f=_.filter(this.dropdowns,function(y){return y.element.is(a)});if(!_.isEmpty(f)){var g=f[0];g.escHandler=function(y){d.keyPress(y,g,l.anchorElement)};var S=g.element.get(0);S&&S.addEventListener("keydown",g.escHandler),g.isModal=l.isModal,g.returnFocusToElement=l.returnFocusToElement}this.registerScrollHandler(),t.IK.focusChildInGroup(a.get(0))},u.prototype.registerScrollHandler=function(){var a=this;setTimeout(function(){return a.registerScrollHandlerCore()})},u.prototype.registerScrollHandlerCore=function(){var a=this;this.scrollEventListener||(this.scrollEventListener=function(l){a.isResizeSensorScrollEvent(l)||$(l.target).parents().addBack().hasClass(m)||a.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))},u.prototype.unregisterScrollHandler=function(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0},u.prototype.keyPress=function(a,l,d){!a.skipOverlayServiceEscHandler&&27===a.keyCode&&(d&&d.focus(),this.hideDropdown(l,!0),a.stopPropagation())},u.prototype.registerBlurHandler=function(a,l){var d=this;a.on("focusout.overlay",function(b){a.off("focusout.overlay"),setTimeout(function(){return d.hideAllDropdowns(!!l)})})},u.prototype.getOverlayElement=function(a,l){var d=this.getOverlaySelector(a);return l?l.siblings(d):$(d)},u.prototype.getOverlaySelector=function(a){return'[dropdown-overlay-name="'.concat(a,'"]')},u.prototype.outOfBoundsClickHandler=function(a,l){return!$(a.target).parents().addBack().hasClass(m)},u.prototype.repositionDropdownWithAnchorCoordinates=function(a,l,d,b,f,g,S){var M,T,A,I,w,y=this.$window.width(),C=this.$window.height(),E=a.find(".explorationAppBarMenu"),D=E.length?E.outerWidth(!0):a.outerWidth(!0),P=E.length?E.outerHeight(!0):a.outerHeight(!0),R=null==S?D:D*S,B=null==S?P:P*S,N=g?16:0,x=g?Math.floor(Math.sqrt(N*N+N*N)/2):0;if(b){var F=void 0,O=void 0,L=void 0;O=l.left,T=(w=B+(F=l.top)-N>C)?F+l.height-P+N:F-N,this.rtl&&this.rtl.isRtlLayout?(I=!(W=(L=O)-R-x<0),M=W?L+x:L-D-x):(I=W=R+(L=O+l.width)+x>y,M=W?L-D-x:L+x),f&&M+D>=O&&M<L&&(M=O-D)}else{var W;O=void 0,T=(w=B+(F=l.top+l.height)-N>C)?F-P+N:F-N,d||this.rtl&&this.rtl.isRtlLayout?(I=!(W=(O=l.left+l.width)-D-x<0),M=W?O-l.width+x:O-D-x):M=(I=W=D+(O=l.left)+x>y)?O+l.width-D-x:O+x,M<0&&(M=O)}T<0&&(T=10);var U={x:Math.ceil(M),y:T};if(g){var j=l.top-U.y-N/2;j<0?j+=N:j>a.height()-N&&(j-=N),A={top:j},U.x>=l.left?A.left=-8:A.right=-8}this.repositionDropdown(a,U,A,S,I,w)},u.prototype.repositionDropdown=function(a,l,d,b,f,g){if(d){var S="top: ".concat(d.top,"px"),y=d.left?"left: ".concat(d.left,"px"):"right: ".concat(d.right,"px"),C="height: ".concat(16,"px;width: ").concat(16,"px"),E="position: absolute;transform: rotate(45deg);".concat(C,";").concat(S,";").concat(y,";"),D='<div class="indicator" style="'.concat(E,'"></div>');a.append($.parseHTML(D))}var P={top:l.y,left:l.x};void 0!==b&&(P.transform="scale(".concat(b,")"),P["transform-origin"]="".concat(f?"right":"left"," ").concat(g?"bottom":"top")),a.css(P)},u.prototype.hideAllDropdowns=function(a,l,d){var b;l||(b=_.find(this.dropdowns,function(f){return f.isModal})),this.hideAllDropdownsExcept(a,b&&b.element)},u.prototype.hideAllDropdownsExcept=function(a,l){for(var d=[],b=0,f=this.dropdowns;b<f.length;b++){var g=f[b];g&&!g.element.is(l)&&g.element.hasClass(m)&&(this.hideDropdown(g,a),d.push(g))}this.removeAllFromRegister(d)},u.prototype.hideDropdown=function(a,l){var d=this;if(a.escHandler){var b=a.element.get(0);b&&b.removeEventListener("keydown",a.escHandler),a.escHandler=null}a.returnFocusToElement&&a.returnFocusToElement.focus(),l?this.hideOverlay(a):a.element.animate({opacity:0},250,function(){return d.hideOverlay(a)}),this.unregisterScrollHandler(),this.removeSingleFromRegister(a)},u.prototype.removeSingleFromRegister=function(a){a.element.trigger(c.HV_)},u.prototype.removeAllFromRegister=function(a){_.forEach(a,function(l){return l.element.trigger(c.HV_)})},u.prototype.hideOverlay=function(a){a.element.removeClass(m).removeAttr("style")},u.prototype.isResizeSensorScrollEvent=function(a){return a&&$(a.target).parent().hasClass("ResizeSensor")},u}()},446077:function(ze,K,r){function t(c){var i=[];for(var s in c){var p=c[s];!p.start||!p.end||i.push({start:new Date(p.start).toISOString(),end:new Date(p.end).toISOString(),startEval:p.startEval?new Date(p.startEval).toISOString():void 0,endEval:p.endEval?new Date(p.endEval).toISOString():void 0,fileName:s})}return i}r.d(K,{p:function(){return t}})},543054:function(ze,K,r){r.d(K,{B:function(){return c},i:function(){return i}});var t=r(831917);function c(){return(0,t.hG)().isCurrentContextRtl}function i(){return{isRtlLayout:"True"===c()}}},227185:function(ze,K,r){r.d(K,{K:function(){return p},W:function(){return s}});var t=r(776791),c=r(177497),i=r(433992);function s(V,m){return null==V?!m:"string"==typeof V&&(0,c.cu)(V)}function p(V,m,v){void 0===m&&(m=[]);var e=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],h=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],n=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(e,h,m);try{var o=(0,t.K)(V);if(_.isObject(o)&&!_.isArray(o)&&!v){var a=o.name;if(!a||!_.isString(a))throw new Error("Theme name missing");var l=o.dataColors;if(null!=l&&(!_.isArray(l)||_.some(l,function(y){return!s(y,!0)})))throw new Error("Invalid theme data colors");for(var d=0,b=e;d<b.length;d++)if(!s(o[f=b[d]],!1))throw new Error("Invalid theme data color");for(var f in o)if(-1===n.indexOf(f))throw new Error("Invalid theme field: "+f);var g=o.textClasses;if(!_.isEmpty(g))for(var f in g)if(-1===h.indexOf(f))throw new Error("Invalid theme text class: "+f)}if(o){if(!_.isEmpty(o.dataColors)){var S=i.ng.getDefaultColors();o.dataColors.length<S.length&&(o.dataColors=o.dataColors.concat(S.slice(o.dataColors.length).map(function(y){return y.value})))}return o}}catch(y){}}},834189:function(ze,K,r){function s(V){return new p(V)}r.d(K,{i0:function(){return s}});var p=function(){function V(m){this.promiseFactory=m,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}return V.prototype.setTimeout=function(m,v){void 0===m&&(m=0),void 0===v&&(v=!1);var e=this.promiseFactory.defer(v),h=50,n=this.queueDictionaryForBigDelays;m<=100&&(h=5,n=this.queueDictionaryForSmallDelays);var o=-1===m?-1:m?Math.ceil((Date.now()+m)/h):0,u=n[o];if(!u){u=n[o]=[];var a=function(){delete n[o],_.forEach(u,function(d){return d.resolve(null)})};-1===m?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",a):window.setTimeout(a,m)}return u.push(e),e},V}()},135487:function(ze,K,r){r.d(K,{$9:function(){return at},$d:function(){return he},Bl:function(){return Ur},CF:function(){return ce},F4:function(){return Rt},F5:function(){return st},Fx:function(){return Yt},G7:function(){return I},GA:function(){return y},Gf:function(){return b},Gl:function(){return q},Jw:function(){return ie},Ob:function(){return Se},P9:function(){return ye},PI:function(){return ot},SR:function(){return Ae},Sh:function(){return z},Sj:function(){return We},Sr:function(){return Kr},VV:function(){return H},Wc:function(){return Dr},Wm:function(){return ve},Xv:function(){return x},ZD:function(){return X},_$:function(){return ee},_m:function(){return ut},aR:function(){return Ke},ao:function(){return dr},bD:function(){return ct},be:function(){return Pr},eU:function(){return Y},eg:function(){return be},f8:function(){return Ne},fS:function(){return Ft},fq:function(){return U},gP:function(){return B},gc:function(){return g},gu:function(){return kt},iE:function(){return Ir},j6:function(){return nt},jD:function(){return Ct},kG:function(){return er},lj:function(){return L},lt:function(){return tr},q0:function(){return Rr},qN:function(){return tt},qi:function(){return Me},rM:function(){return gr},ty:function(){return Ve},uL:function(){return p},vE:function(){return Oe},vF:function(){return qe},xT:function(){return te},xb:function(){return E},xo:function(){return pr},xx:function(){return F},zu:function(){return le}});var t=r(853811),c="PBI.Dashboard.BITokenRefreshPrompt",s=(t.cx[c]=(0,t.b1)(c),"PBI.Dashboard.FailedToRefreshToken"),p=t.cx[s]=(0,t.b1)(s),V="PBI.Dashboard.OpenLink",v=(t.cx[V]=(0,t.b1)(V),"PBI.MashUpContentProvider.ConnectButtonClicked"),h=(t.cx[v]=(0,t.b1)(v),"PBI.MashUpContentProvider.OrgAppPassThrough"),o=(t.cx[h]=(0,t.b1)(h),"PBI.MashUpContentProvider.PreparePackageSucceed"),a=(t.cx[o]=(0,t.b1)(o),"PBI.MashUpContentProvider.GetPackageModels"),d=(t.cx[a]=(0,t.b1)(a),"PBI.MashUpContentProvider.SaveModelParameters"),b=t.cx[d]=(0,t.b1)(d),f="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",g=t.cx[f]=(0,t.b1)(f),S="PBI.MashUpContentProvider.UpdateDatasource",y=t.cx[S]=(0,t.b1)(S),C="PBI.MashUpContentProvider.ValidateParameters",E=t.cx[C]=(0,t.b1)(C),D="PBI.ContentProvider.UrlParametersPassed",M=(t.cx[D]=(0,t.b1)(D),"PBI.ContentProvider.UrlParametersDecodingFailed"),R=(t.cx[M]=(0,t.b1)(M),"PBI.ContentProvider.Http.GetContentProviders"),B=t.cx[R]=(0,t.b1)(R),N="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",x=t.cx[N]=(0,t.b1)(N),A="PBI.Dashboard.ParametersDialogSaveParameters",I=t.cx[A]=(0,t.b1)(A),w="PBI.Dashboard.RefreshNowFailedToRetrieveModel",F=t.cx[w]=(0,t.b1)(w),O="PBI.Dashboard.AuthenticationDialogSaveCredentials",L=t.cx[O]=(0,t.b1)(O),W="PBI.Dashboard.RetrieveGateway",U=t.cx[W]=(0,t.b1)(W),j="PBI.Dashboard.PrepareRefreshNow",z=t.cx[j]=(0,t.b1)(j),G="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",te=t.cx[G]=(0,t.b1)(G),Q="PBI.Dashboard.DatasetRefresh",H=t.cx[Q]=(0,t.b1)(Q),de="PBI.Dashboard.DatasetRefreshCancellation",Y=t.cx[de]=(0,t.b1)(de),se="PBI.Dashboard.InitializeSettingsDatasetModel",ce=t.cx[se]=(0,t.b1)(se),pe="PBI.Dashboard.GetRefreshHistory",ve=t.cx[pe]=(0,t.b1)(pe),De="PBI.Dashboard.GetGroupIcon",We=t.cx[De]=(0,t.b1)(De),je="PBI.Dashboard.RefreshAndGetUserMetadata",Ae=t.cx[je]=(0,t.b1)(je),_e="PBI.UserInfo.GetSelfServiceEligibility",le=t.cx[_e]=(0,t.b1)(_e),Z="PBI.UserInfo.GetIsModernCommerceAdmin",ie=t.cx[Z]=(0,t.b1)(Z),me="PBI.Quota.UpgradeInteraction",ye=t.cx[me]=(0,t.b1)(me),oe="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",X=t.cx[oe]=(0,t.b1)(oe),ue="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",Se=t.cx[ue]=(0,t.b1)(ue),Be="PBI.LicenseEnforcement.ShowUpgradeToProDialog",Ke=t.cx[Be]=(0,t.b1)(Be),Ze="PBI.LicenseEnforcement.Accept2017proTrial",qe=t.cx[Ze]=(0,t.b1)(Ze),it="PBI.LicenseEnforcement.AutoTrialAssignment",be=t.cx[it]=(0,t.b1)(it),Fe="PBI.LicenseEnforcement.LeadsCollection",ee=t.cx[Fe]=(0,t.b1)(Fe),k="PBI.TeamsLicenseEnforcement.UpgradeNowClick",J=(t.cx[k]=(0,t.b1)(k),"PBI.TeamsLicenseEnforcement.UpgradeNowAbandon"),Ie=(t.cx[J]=(0,t.b1)(J),"PBI.DashboardAndReports.Print"),ot=t.cx[Ie]=(0,t.b1)(Ie,{logExpAssignment:!0}),we="PBI.DashboardAndReports.AnalyzeInExcel",he=t.cx[we]=(0,t.b1)(we,{logExpAssignment:!0}),Te="PBI.DsrDataLimitsWarning",Oe=t.cx[Te]=(0,t.b1)(Te),Je="PBI.DeprecatedNotificationToastUsage",ne=(t.cx[Je]=(0,t.b1)(Je),"PBI.DomainHelper.GetVerifiedDomains"),Ne=t.cx[ne]=(0,t.b1)(ne),et="PBI.NewerExplorationVersion",tt=t.cx[et]=(0,t.b1)(et),xe="PBI.DeveloperVisualEnabledChanged",Ve=t.cx[xe]=(0,t.b1)(xe),Le="PBI.ModuleLoad",at=t.cx[Le]=(0,t.b1)(Le),ft="PBI.ModuleLoadError",Ge=(t.cx[ft]=(0,t.b1)(ft),"ScriptVisualFilterAction"),Xe=(t.cx[Ge]=(0,t.b1)(Ge),"PBI.EX.CrossFilterScriptVisual"),Me=t.cx[Xe]=(0,t.b1)(Xe),He="PBI.EX.FilterScriptVisual",ct=t.cx[He]=(0,t.b1)(He),Mt="PBI.ClusterResolved",Bt=(t.cx[Mt]=(0,t.b1)(Mt),"PBI.DashboardAndReports.AuditEvent"),Kt=(t.cx[Bt]=(0,t.b1)(Bt),"PBI.DownloadReport"),Yt=t.cx[Kt]=(0,t.b1)(Kt,{logExpAssignment:!0}),Zt="PBI.Settings.UpdateGateway",_r=(t.cx[Zt]=(0,t.b1)(Zt),"PBI.Settings.DeleteGateway"),Pr=t.cx[_r]=(0,t.b1)(_r),mt="PBI.Settings.CreateDataSource",Rt=t.cx[mt]=(0,t.b1)(mt),Xt="PBI.Settings.DeleteDataSource",dr=t.cx[Xt]=(0,t.b1)(Xt),ar="PBI.Settings.BindModelToGateway",gr=t.cx[ar]=(0,t.b1)(ar),Cr="PBI.Settings.AddDataSourcePrincipals",pr=t.cx[Cr]=(0,t.b1)(Cr),Br="PBI.Settings.RemoveDataSourcePrincipals",Ir=t.cx[Br]=(0,t.b1)(Br),Or="PBI.Settings.AddGatewayPrincipals",Kr=t.cx[Or]=(0,t.b1)(Or),zr="PBI.Settings.RemoveGatewayPrincipals",Ur=t.cx[zr]=(0,t.b1)(zr),hr="PBI.Settings.UpdateCredentials",Rr=t.cx[hr]=(0,t.b1)(hr),Tt="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",Et=(t.cx[Tt]=(0,t.b1)(Tt),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),Ct=t.cx[Et]=(0,t.b1)(Et),Nt="PBI.Settings.TestGatewayDatasourceUPNMapping",st=t.cx[Nt]=(0,t.b1)(Nt),lt="PBI.App.JavaScriptParse",ut=t.cx[lt]=(0,t.b1)(lt),yt="PBI.App.PreemptiveQueryData",Ft=t.cx[yt]=(0,t.b1)(yt),Lt="PBI.GeocodingSummary",kt=t.cx[Lt]=(0,t.b1)(Lt,{logRatio:.1}),Gt="PBI.GeocodingCacheLimitExceeded",er=t.cx[Gt]=(0,t.b1)(Gt,{logRatio:.1}),sr="PBI.SyncServiceUpdate",tr=t.cx[sr]=(0,t.b1)(sr),nr="PBI.LicenseEnforcement.AccessCustomizedProperties",Dr=t.cx[nr]=(0,t.b1)(nr),Dt="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",nt=t.cx[Dt]=(0,t.b1)(Dt),ae="PBI.Settings.OAuthPopup",q=t.cx[ae]=(0,t.b1)(ae),Qe="PBI.LegacyServiceUsed";t.cx[Qe]=(0,t.b1)(Qe)},972817:function(ze,K,r){r.d(K,{AF:function(){return C},Et:function(){return u},K_:function(){return a},MJ:function(){return E},SW:function(){return g},TD:function(){return S},WE:function(){return m},Z6:function(){return D},cD:function(){return h},pZ:function(){return d},py:function(){return R},um:function(){return y},vq:function(){return v}});var t=r(787941),i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,s=[.6,.4,.2,.1,0],p=[-.1,-.2,-.3,-.5,-.6],V=[.6,.4,.2,-.25,-.5];function m(I,w,F){var O,L,W,U=Math.floor(6*I),j=6*I-U,z=F*(1-w),G=F*(1-j*w),te=F*(1-(1-j)*w);switch(U%6){case 0:O=F,L=te,W=z;break;case 1:O=G,L=F,W=z;break;case 2:O=z,L=F,W=te;break;case 3:O=z,L=G,W=F;break;case 4:O=te,L=z,W=F;break;case 5:O=F,L=z,W=G}return[Math.round(255*O),Math.round(255*L),Math.round(255*W)]}function v(I,w,F){return"#"+e(I)+e(w)+e(F)}function e(I){var w=I.toString(16);return 1===w.length?"0"+w:w}function h(I,w){var F=D(I);return null===F?"":w||0===w?"rgba("+F.r+","+F.g+","+F.b+","+w+")":"rgb("+F.r+","+F.g+","+F.b+")"}function u(I,w){if(a(I))return h(I,w);if(function(I){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(I)}(I)){var F=function(I){var F,w=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(I);if(!w)return null;w[5]&&(F=parseFloat(w[5])),w[6]&&(F=parseFloat(w[6]));var O=parseInt(w[1],10);O%=360;var L=parseInt(w[2],10);L=L>100?100:L;var W=parseInt(w[3],10);return{h:O,s:L,l:W=W>100?100:W,a:F}}(I);return"hsla("+F.h+","+F.s+"%,"+F.l+"%,"+(F.a||0===F.a?F.a:w)+")"}if(function(I){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(I)}(I)){var L=function(I){var F,w=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(I);if(!w)return null;w[5]&&(F=parseFloat(w[5])),w[6]&&(F=parseFloat(w[6]));var O=parseInt(w[1],10);O=O>255?255:O;var L=parseInt(w[2],10);L=L>255?255:L;var W=parseInt(w[3],10);return{r:O,g:L,b:W=W>255?255:W,a:F}}(I);return"rgba("+L.r+","+L.g+","+L.b+","+(L.a||0===L.a?L.a:w)+")"}return""}function a(I){return null!=I&&!!I.match("^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$")}function d(I){return t.fF.assertValue(I,"color"),function(I){return"#FFFFFF"===I||"#FFF"===I}(I)?p:function(I){return"#000000"===I||"#000"===I}(I)?s:V}function g(I){return a(I)||a(I="#"+I)?I:null}function S(I){return 1-I/100}function y(I){var w=D(I);return(.299*w.r+.587*w.g+.114*w.b)/255}function C(I){return I&&!!I.match("^#([A-Fa-f0-9]{3})$")}function E(I,w){return I=(I=w?I.substring(1):I).replace(i,function(F,O,L,W){return O+O+L+L+W+W}),w?"#"+I:I}function D(I){I=E(I,!1);var w=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(I);return w?{r:parseInt(w[1],16),g:parseInt(w[2],16),b:parseInt(w[3],16)}:null}function R(I,w,F){I/=255,w/=255,F/=255;var W,U,O=Math.max(I,w,F),L=Math.min(I,w,F),j=O,z=O-L;if(U=0===O?0:z/O,O===L)W=0;else{switch(O){case I:W=(w-F)/z+(w<F?6:0);break;case w:W=(F-I)/z+2;break;case F:W=(I-w)/z+4}W/=6}return[W,U,j]}},379139:function(ze,K,r){function t(c){return{dsrV2:c.dsrV2||c.dsrV2_Staging,queryCancellation:c.queryCancellation,telemetryV2:c.telemetryV2,scopedAggregates:c.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:c.addVisualIdToQueryDataAsHttpBodyId,queryContext:c.queryContext,lruCacheEvictionPolicy:c.lruCacheEvictionPolicy,categoricalSecondaryCF:c.categoricalSecondaryCF,useEnrichedApplicationContext:c.useEnrichedApplicationContext}}r.d(K,{u:function(){return t}})},535909:function(ze,K,r){r.d(K,{q:function(){return i}});var t=r(787941),c=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/,i=function(){function s(){}return s.generateId=function(p,V){var m=s.generateUUID();return"".concat(p||"").concat(m).concat(V||"")},s.generateShortId=function(p){return(Math.random().toString(36)+"00000000000000000").slice(2,p+2)},s.generateUniqueId=function(p,V,m){t.fF.assertValue(p,"usedIds");for(var v,e=0;void 0===v||p[v];){if(++e>1e3){t.fF.assertFail("iterationCount is greater than ".concat(1e3," while generating a unique id"));break}v=s.generateId(V,m)}return v},s.isGuid=function(p){if(_.isEmpty(p)||36!==p.length)return!1;var V=p.match(c);return!_.isEmpty(V)&&1===V.length},s.generateUUID=function(){var p=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(p+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(V){var m=p+16*Math.random()&15|0;return p>>=4,m.toString(16)})},s}()},919439:function(ze,K,r){function t(c){var i=c.offset();return{left:i.left,top:i.top,width:c.outerWidth(!0),height:c.outerHeight(!0)}}r.d(K,{E:function(){return t}})},499550:function(ze,K,r){r.d(K,{C:function(){return s}});var t=r(787941);function c(p){if(p){var m,V=p.value();if(p.firstChange?(p.firstChange=!1,m=!0):p.equal(V,p.oldValue)||(m=!1),void 0!==m){var v=p.oldValue;p.oldValue=p.copy(V),p.onChange(V,v,m)}}}var s=function(){function p(){this.watches={}}return p.prototype.has=function(V){return null!=this.watches[V]},p.prototype.add=function(V,m,v,e){var n,o,h=this;t.fF.assertValue(V,"id"),t.fF.assert(function(){return!h.watches[V]},"Added watch twice: ".concat(V)),t.fF.assertValue(m,"value"),t.fF.assertValue(v,"onChange"),e&&2===e.mode?(n=function(a,l){return _.isEqual(a,l)},o=function(a){return _.cloneDeep(a)}):e&&1===e.mode?(n=function(a,l){return function(p,V){if(!p||!V)return p===V;var m=p.length;if(m!==V.length)return!1;for(var v=m;v-- >0;)if(p[v]!==V[v])return!1;return!0}(a,l)},o=function(a){return _.clone(a)}):(n=function(a,l){return a===l},o=function(a){return a}),this.watches[V]={id:V,value:m,onChange:v,firstChange:!0,equal:n,copy:o}},p.prototype.remove=function(V){delete this.watches[V]},p.prototype.doCheck=function(){_.forEach(this.watches,c)},p}()},358724:function(ze,K,r){r.d(K,{$Ez:function(){return P},AsH:function(){return Yt},Deb:function(){return ti},F15:function(){return _t},F3x:function(){return ae},HV_:function(){return x},HhA:function(){return gr},I8X:function(){return f},IBn:function(){return _r},ISm:function(){return Ot},Imn:function(){return c},Jam:function(){return g},KRp:function(){return M},LBm:function(){return Et},M0n:function(){return nr},M6c:function(){return Tt},OsI:function(){return dt},Pg6:function(){return V},PpD:function(){return Hr},Px$:function(){return Ir},Q15:function(){return Vr},RCq:function(){return T},RGx:function(){return xt},S9q:function(){return It},SZk:function(){return y},SlI:function(){return Wt},Td2:function(){return D},UZB:function(){return wt},Va2:function(){return Ct},WMs:function(){return or},Wnf:function(){return Ut},Yh0:function(){return Cr},_W6:function(){return Ee},a4P:function(){return Kr},bTS:function(){return Br},c41:function(){return Tr},cP$:function(){return ct},cmI:function(){return pt},dJM:function(){return p},eBl:function(){return S},gMq:function(){return Xe},hOU:function(){return sr},jb4:function(){return v},k4X:function(){return Vt},kJ$:function(){return w},kWQ:function(){return Kt},ly2:function(){return F},miy:function(){return er},nDG:function(){return E},nKy:function(){return St},ne5:function(){return Me},p5r:function(){return pe},qvT:function(){return C},r2l:function(){return Qt},r90:function(){return jt},rEb:function(){return B},sVl:function(){return N},uMK:function(){return i},uTR:function(){return Gt},uWP:function(){return s},wME:function(){return rt},wku:function(){return I},yOS:function(){return at},ykK:function(){return pr},ykb:function(){return Bt},ymx:function(){return b}});var t=r(497610),c="ActivityId",i="RequestId",s="x-ms-root-activity-id",p="http",V="X-PowerBI-UploadFileSize",v="refreshAccessToken",b="azure",f="office",g="trial",S="dc",y=673,C=860,E=940,D=578,P="/openReport",M="/openWorkbook",T="/openQnA",B="/openInsights",N="/openUrl",x="overlay.close",I="me",w="R",F="sobe_onpremisevirtualserver",pe="selectedQueryId",at={name:"datasetDatasourceUpdated",type:4},Xe=980,Me=640,ct={name:"datasetShowAuthDialog",type:4},It={name:"datasetShowParameterDialogAfterInvalidParameter",type:4},Bt="ContentProvider_InvalidModelParameter",jt=127,Kt=8,Yt=48,or="enterPrintModeEvent",_r="exitPrintModeEvent",gr="PackageOperationInProgress",Cr="DataRefreshTooSoon",pr="OnPremiseServiceException",Br="RefreshNotSupportedFFXL",Ir="CloudRLSAccessDeniedErrorCode",Kr=location.origin||location.protocol+"//"+location.hostname,Tt="contentProviderStoreCancelModalDialogMessage",Ut="contentProviderStoreCloseModalDialogMessage",Et="contentProviderStoreGoBackModalDialogMessage",Ct="contentProviderStoreGoToAppDocModalDialogMessage",Gt=6,er=7,sr=26,nr=1073741824,ae=1004,dt=10,Qt=2147483647,pt=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12},{backendUri:"https://fabric-shared-edog-redirect.analysis-df.windows.net",hostNameMatch:["fabric-shared-edog"],index:13}],St="dsr";function Hr(Xr){var ri=Xr.contentProviderId;return 103===ri||102===ri||Xr.packageType===t.yR.UsageMetricsV2}function Ot(Xr){return(null==Xr?void 0:Xr.packageType)===t.yR.Scorecard}function Ee(Xr){return(null==Xr?void 0:Xr.originalPackageType)===t.yR.Scorecard}function Vt(Xr){return 103===Xr||102===Xr}function wt(Xr){return(null==Xr?void 0:Xr.packageType)===t.yR.Datamart}function rt(Xr){return(null==Xr?void 0:Xr.packageType)===t.yR.SeeThruModel}var xt=60,_t="invitationCode",Wt="i",Vr="00000000-0000-0000-0000-000000000000",Tr=2147483647,ti=[22,43,44,45,46,47,48,49]},497610:function(ze,K,r){r.d(K,{Bs:function(){return v},Bz:function(){return e},GY:function(){return a},Kx:function(){return t},Sr:function(){return h},UX:function(){return c},Vv:function(){return n},kQ:function(){return u},mx:function(){return m},nW:function(){return l},tP:function(){return s},ty:function(){return o},wg:function(){return p},yR:function(){return V},zS:function(){return i}});var t=["PowerBIServicePlan0"],c=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],i=["PowerBIServicePlan3"],s=["PowerBIServicePlan1"],p=["PowerBIServicePlan1","PowerBIServicePlan2"],V=function(d){return d[d.Undefined=0]="Undefined",d[d.AppTemplate=1]="AppTemplate",d[d.AppInstance=2]="AppInstance",d[d.AppCopy=3]="AppCopy",d[d.UsageMetricsV2=4]="UsageMetricsV2",d[d.ProtectionMetrics=5]="ProtectionMetrics",d[d.AdminUsageMetrics=6]="AdminUsageMetrics",d[d.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",d[d.Sample=8]="Sample",d[d.Scorecard=9]="Scorecard",d[d.TeamsAnalytics=10]="TeamsAnalytics",d[d.Datamart=11]="Datamart",d[d.AdminMonitoring=12]="AdminMonitoring",d[d.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",d[d.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",d[d.AdminInsights=15]="AdminInsights",d[d.SeeThruModel=16]="SeeThruModel",d}({}),m=function(d){return d.None="",d.BuiltIn="BuiltIn",d.Organizational="Organizational",d.Services="Services",d.OrganizationalTemplate="OrganizationalTemplate",d.OrganizationalApp="OrganizationalApp",d.ServiceApp="ServiceApp",d.OrganizationalTemplateApp="OrganizationalTemplateApp",d.PowerBIServiceApp="PowerBIServiceApp",d}({}),v=function(d){return d[d.Service=1]="Service",d[d.Organizational=2]="Organizational",d[d.File=3]="File",d[d.Sample=4]="Sample",d[d.Learn=5]="Learn",d[d.BigDataAndMore=6]="BigDataAndMore",d[d.Dataflows=7]="Dataflows",d[d.OrgContentPacks=8]="OrgContentPacks",d[d.Apps=9]="Apps",d}({}),e=function(d){return d[d.Unknown=0]="Unknown",d[d.Dashboard=1]="Dashboard",d[d.Report=2]="Report",d[d.Model=3]="Model",d[d.Workbook=4]="Workbook",d[d.App=5]="App",d[d.RdlReport=6]="RdlReport",d[d.Dataflow=7]="Dataflow",d[d.Tile=8]="Tile",d[d.StreamingDataflow=9]="StreamingDataflow",d[d.Folder=10]="Folder",d[d.Datamart=11]="Datamart",d[d.Artifact=12]="Artifact",d[d.Connection=13]="Connection",d}({}),h=function(d){return d[d.MyFolder=0]="MyFolder",d[d.AppFolder=1]="AppFolder",d[d.AdminFolder=2]="AdminFolder",d[d.TransientFolder=1e4]="TransientFolder",d}({}),n=function(d){return d[d.Import=0]="Import",d[d.DirectQuery=1]="DirectQuery",d[d.Mixed=2]="Mixed",d}({}),o=function(d){return d[d.Favorite=1]="Favorite",d[d.Report=2]="Report",d[d.Dashboard=4]="Dashboard",d[d.Workbook=8]="Workbook",d[d.OrgApp=16]="OrgApp",d[d.MRU=128]="MRU",d[d.Workspace=256]="Workspace",d[d.Dataset=512]="Dataset",d[d.AppPlaceHolder=1024]="AppPlaceHolder",d[d.RdlReport=2048]="RdlReport",d[d.CdsaModel=4096]="CdsaModel",d[d.StreamingCdsaModel=8192]="StreamingCdsaModel",d[d.Scorecard=16384]="Scorecard",d[d.StreamingDataset=32768]="StreamingDataset",d[d.Datamart=65536]="Datamart",d}({}),u=function(d){return d[d.AlmPipelineDeployment=0]="AlmPipelineDeployment",d[d.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",d[d.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",d[d.LiveConnectModel=3]="LiveConnectModel",d[d.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",d[d.NonV3Model=5]="NonV3Model",d[d.SharedCapacityModel=6]="SharedCapacityModel",d}({}),a=function(d){return d[d.Shared=0]="Shared",d[d.Dedicated=1]="Dedicated",d[d.ASAzure=2]="ASAzure",d[d.ASOnPrem=3]="ASOnPrem",d}({}),l=function(d){return d[d.Dashboard=1]="Dashboard",d[d.Report=2]="Report",d[d.App=3]="App",d[d.RdlReport=4]="RdlReport",d[d.ResourcePackage=5]="ResourcePackage",d[d.Artifact=6]="Artifact",d[d.Datamart=7]="Datamart",d}({})},239144:function(ze,K,r){r.d(K,{JL:function(){return p},Rf:function(){return c},TA:function(){return h},ZG:function(){return v},d3:function(){return V},uY:function(){return o},uk:function(){return m},ye:function(){return e}});var c=function(u){return u[u.Resource=0]="Resource",u[u.Personal=1]="Personal",u[u.VirtualNetwork=2]="VirtualNetwork",u[u.TenantCloud=3]="TenantCloud",u}({}),p=function(u){return u[u.Live=0]="Live",u[u.NotInstalled=1]="NotInstalled",u[u.NotReachable=2]="NotReachable",u[u.Installed=3]="Installed",u}({}),V=function(u){return u[u.NotSpecified=0]="NotSpecified",u[u.Windows=1]="Windows",u[u.Anonymous=2]="Anonymous",u[u.Basic=3]="Basic",u[u.Key=4]="Key",u[u.OAuth2=5]="OAuth2",u[u.EffectiveUserName=6]="EffectiveUserName",u[u.SingleSignOn=7]="SingleSignOn",u[u.WindowsWithoutImpersonation=8]="WindowsWithoutImpersonation",u[u.SAS=9]="SAS",u[u.ServicePrincipal=10]="ServicePrincipal",u}({}),m=function(u){return u[u.None=0]="None",u[u.Private=1]="Private",u[u.Organizational=2]="Organizational",u[u.Public=3]="Public",u}({}),v=function(u){return u[u.None=0]="None",u[u.Kerberos=1]="Kerberos",u[u.AzureActiveDirectory=2]="AzureActiveDirectory",u[u.SAML=3]="SAML",u[u.KerberosDQAndRefresh=4]="KerberosDQAndRefresh",u}({}),e=function(u){return u[u.SqlServer=0]="SqlServer",u[u.AnalysisServices=1]="AnalysisServices",u[u.SAP=2]="SAP",u[u.File=3]="File",u[u.Folder=4]="Folder",u[u.Oracle=5]="Oracle",u[u.Teradata=6]="Teradata",u[u.SharePointList=7]="SharePointList",u[u.Web=8]="Web",u[u.OData=9]="OData",u[u.DB2=10]="DB2",u[u.MySql=11]="MySql",u[u.PostgreSql=12]="PostgreSql",u[u.Sybase=13]="Sybase",u[u.Extension=14]="Extension",u[u.SAPBW=15]="SAPBW",u[u.AzureTable=16]="AzureTable",u[u.AzureBlob=17]="AzureBlob",u[u.Informix=18]="Informix",u[u.ODBC=19]="ODBC",u[u.SharePoint=21]="SharePoint",u[u.GoogleAnalytics=25]="GoogleAnalytics",u[u.Exchange=27]="Exchange",u[u.Facebook=28]="Facebook",u[u.HDInsight=29]="HDInsight",u[u.AzureMarketplace=30]="AzureMarketplace",u[u.ActiveDirectory=31]="ActiveDirectory",u[u.OleDb=35]="OleDb",u[u.AdoDotNet=36]="AdoDotNet",u[u.Salesforce=39]="Salesforce",u[u.SAPBWMessageServer=41]="SAPBWMessageServer",u[u.Essbase=43]="Essbase",u[u.AzureDataLakeStorage=44]="AzureDataLakeStorage",u[u.CDPA=47]="CDPA",u}({}),h=function(u){return u[u.EffectiveUserName=0]="EffectiveUserName",u[u.CustomData=1]="CustomData",u}({}),o=function(u){return u[u.AadSSO=0]="AadSSO",u}({})},361952:function(ze,K,r){r.d(K,{l:function(){return c},m:function(){return t}});var t=function(i){return i[i.NewFeatureProductMessage=0]="NewFeatureProductMessage",i[i.DashboardSharing=2]="DashboardSharing",i[i.DashboardAddedToGroup=3]="DashboardAddedToGroup",i[i.Trial=5]="Trial",i[i.DataDrivenAlert=6]="DataDrivenAlert",i[i.AccessRequest=14]="AccessRequest",i[i.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",i[i.CapacityOverloaded=34]="CapacityOverloaded",i[i.CapacityAutoScaled=35]="CapacityAutoScaled",i[i.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",i[i.TeamsAppInstallation=42]="TeamsAppInstallation",i[i.ScdProvisioningFailed=62]="ScdProvisioningFailed",i[i.DynamicMessage=999]="DynamicMessage",i}({}),c=function(i){return i[i.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",i[i.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",i[i.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",i[i.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",i[i.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",i[i.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",i[i.UsersNotifications_UserName=6]="UsersNotifications_UserName",i[i.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",i[i.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",i[i.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",i[i.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",i[i.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",i[i.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",i[i.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",i[i.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",i[i.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",i[i.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",i[i.UsersNotifications_TileName=17]="UsersNotifications_TileName",i[i.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",i[i.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",i[i.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",i[i.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",i[i.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",i[i.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",i[i.Generic_LearnMore=24]="Generic_LearnMore",i[i.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",i[i.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",i[i.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",i[i.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",i[i.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",i[i.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",i[i.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",i[i.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",i[i.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",i[i.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",i[i.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",i[i.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",i[i.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",i[i.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",i[i.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",i[i.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",i[i.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",i[i.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",i[i.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",i[i.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",i[i.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",i[i.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",i[i.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",i[i.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",i[i.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",i[i.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",i[i.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",i[i.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",i[i.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",i[i.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",i[i.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",i[i.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",i[i.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",i[i.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",i[i.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",i[i.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",i[i.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",i[i.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",i}({})},420422:function(ze,K,r){r.d(K,{S:function(){return t}});var t=function(){function c(i){i&&(this.uniqueId=i.objectId,this.displayName=i.displayName,this.capacity=i.capacityObjectId&&{id:i.capacityObjectId,name:i.capacityName,region:i.region},this.contract=i,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!i||!i.isMyWorkspace),this.folderType=i.folderType||i.type)}return c.prototype.getPermissions=function(){},c}()},880133:function(ze,K,r){r.d(K,{g:function(){return p}});var t=r(226514),c=r(690016),i=r(420422),s=window,p=function(V){function m(v){var e=V.call(this,v)||this;return v&&(e.id=v.id,e.description=v.description,e.icon=v.iconUrl&&c.b$.urlCombine(s.clusterUri,v.iconUrl),e.permissions=v.permissions,e.contacts=v.contacts,e.allowContributorUpdateApp=v.allowContributorUpdateApp,e.defaultDatasetStorageMode=v.defaultDatasetStorageMode,e.type=v.type,e.folderType=v.type,e.domainObjectId=v.domainObjectId,e.allowWebModeling=v.allowWebModeling,e.datasourceBindingSecurityMode=v.datasourceBindingSecurityMode),e}return(0,t.__extends)(m,V),Object.defineProperty(m.prototype,"folderContract",{get:function(){return this.contract},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"sharePointStorage",{get:function(){return this.folderContract.sharePointStorage},set:function(e){this.folderContract.sharePointStorage=e},enumerable:!1,configurable:!0}),m}(i.S)},602610:function(ze,K,r){r.d(K,{Z:function(){return p}});var t=r(226514),c=r(497610),i=r(420422),s=function(){return function(m){var v=this;this.contextMenuItemList=[],m&&m.metadata&&(m.metadata.contextMenuItemList.forEach(function(e){v.contextMenuItemList.push(e)}),this.contextMenuSeparatorPosition=m.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),m&&m.isMyWorkspace?this.contextMenuItemList.push({linkType:9}):(this.contextMenuItemList.push(m.isOwner?{linkType:5}:{linkType:6}),this.contextMenuItemList.push({linkType:7}))}}(),p=function(V){function m(v){var e=V.call(this,v)||this;return v&&(e.aadGroupId=v.objectId,e.metadata=new s(v)),e.lastOwnershipFilter=0,e.contentTileType=c.ty.Workspace,e}return(0,t.__extends)(m,V),m}(i.S)},352614:function(ze,K,r){r.d(K,{N:function(){return n}});var t=r(761565),c=r(315552),i=r(787941),s=r(989516),p=r(698129),V=r(217926),m=r(13106),v=r(324356),e=r(331115),h=r(659317),n=function(){function o(u,a){this.hostService=u,this.behavior=a,this.isInvertedSelectionMode=!1,this.isSearchUpdateMode=!1,this.selected=[]}return o.buildDefaultValueFilter=function(u,a){var l,d;void 0===a&&(a=!1),i.fF.assertNonEmpty(u,".buildDefaultValueFilter columns should not be empty");for(var b=[],f=[],g=a?b:f,S=0,y=u;S<y.length;S++){var C=y[S],E=1===(null===(l=C.parameter)||void 0===l?void 0:l.kind),D=!(null===(d=C.parameter)||void 0===d||!d.supportsSelectAll),P=null!=(0,p.NA)(C.objects,t.gO.general.defaultValue);E&&D||P?g.push.apply(g,o.getMetadataColumnIdentityExprs(C)):g=b}if(!_.isEmpty(b)||!_.isEmpty(f))return m.yl.getDefaultAnyValueFilter(f,b)},o.getMetadataColumnIdentityExprs=function(u){return _.isEmpty(u.identityExprs)?[u.expr]:u.identityExprs},o.prototype.setDefaultValueMode=function(u){this.useDefaultValue=u},o.prototype.bind=function(u,a){this.selected=_.filter(u,function(l){return l.selected}),this.behavior.bindEvents(a,this),this.behavior.renderSelection()},o.prototype.setSelected=function(u){_.isEmpty(u)||(this.selected=_.filter(u,function(a){return a.selected}))},o.prototype.setSelectionModeInverted=function(u){this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=u},o.prototype.setColumns=function(u){this.columns=u,this.columnExprs=_.map(u,function(a){return a.expr}),this.supportsDefaultValueByLevel=_.map(u,function(a){return null!=(0,p.NA)(a.objects,t.gO.general.defaultValue)})},o.prototype.hasSelection=function(){return!_.isEmpty(this.selected)},o.prototype.isSelectionModeInverted=function(){return this.isInvertedSelectionMode},o.prototype.setQueryNameByLevel=function(u){this.queryNameByLevel=u},o.prototype.persistSelfFilter=function(u,a){var l=(0,h.H4)(this.columnExprs,a);this.hostService.persistProperties(o.createChangeForProperty(u,l))},o.prototype.setSearchMode=function(u){this.isSearchUpdateMode=u},o.prototype.isSearchMode=function(){return this.isSearchUpdateMode},o.prototype.handleClearSelection=function(){if(this.previouslySelected=this.selected.slice(),this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!1,!(1===this.selected.length&&this.isStrictSingleSelect||this.hasDefaultValue()&&this.useDefaultValue)){var u=this.hostService.getLocalizedString("Slicer_ClearSelectionsCleared");this.hostService.alertWithDebounce("announce-clear-selection",u),this.useDefaultValue=!0,this.resetSelected(),this.behavior.renderSelection()}},o.prototype.persistSelectionFilter=function(u,a,l,d){void 0===a&&(a=!1),void 0===d&&(d=!1);var b=this.getFilterFromDataPoints();if(b&&!_.isEmpty(this.selected)){var f=this.toFilterExpressionMetadata(this.selected);this.hostService.setFilterExpressionMetadata(f)}var g=o.createChangeForProperty(u,b),y=o.createChangeForProperty(t.gO.data.isInvertedSelectionMode,!(a||!this.isInvertedSelectionMode)||null);if(d){var C=o.createChangeForProperty(t.gO.general.selfFilter,null);this.mergeObjectInstancesToPersist(g,C)}g=this.mergeObjectInstancesToPersist(g,y),this.hostService.persistProperties(g,l),this.sendSelectionToHost()},o.prototype.getDataMultiSelectMode=function(){return this.hostService.dataMultiSelectMode()},o.prototype.sendSelectionToHost=function(){if(this.hostService.onSelect){var u=_.isEmpty(this.selected)?[]:_.map(this.selected,function(f){return f.identity}),a=c.Bt.createSelectEventArgs(u,0),l=_.isEmpty(this.previouslySelected)?[]:_.map(this.previouslySelected,function(f){return f.identity}),d=c.Bt.createSelectEventArgs(l,0),b=_.size(a.visualObjects)!==_.size(d.visualObjects)||_.some(a.visualObjects,function(f,g){return!(0,s.Ic)(f.selectorsByColumn,d.visualObjects[g].selectorsByColumn)});a.fireDataSelectedEvent=b||this.isInvertedSelectionMode!==this.previousInversionMode,this.hostService.onSelect(a)}},o.prototype.handleSelection=function(u,a,l){if(this.onSelecting(u,l))return!1;var d=u.partially,b=u.selected;this.useDefaultValue=!1,this.previouslySelected=this.selected.slice(),0===a||this.isStrictSingleSelect?this.resetSelected():this.clearDataPointState(u);var f=this.getDataPointSelectedState(u,a,d,b);return this.updateSelectedState(u,f),this.behavior.renderSelection(),!0},o.prototype.getDataPointSelectedState=function(u,a,l,d){return l?(0,h.OO)(u,this.isInvertedSelectionMode)?u.selected:!u.selected:!!this.isStrictSingleSelect||(0===a?!d||this.selected.length>1:!d)},o.prototype.onSelecting=function(u,a){var l=(0,h.No)(u,this.queryNameByLevel),d={type:0,visualObjects:[{objectName:c.Bt.dataPointObjectName,selectorsByColumn:l.selector}],position:a};return this.hostService.onSelecting(d),0!==d.action&&null!=d.action},o.prototype.updateSelectedState=function(u,a){var l=u.selected;u.selected=a,l!==a&&(this.clearDataPointState(u,!0),this.updateParentState(u)),u.selected?this.selected.push(u):l&&!u.selected&&_.remove(this.selected,u)},o.prototype.setStrictSingleSelect=function(u,a){this.isStrictSingleSelect=u,this.adjustStrictSingleSelectSelection(a)},o.prototype.resetSelected=function(){_.isEmpty(this.selected)||_.each(this.selected,function(u){return u.selected=!1}),this.selected=[]},o.prototype.clearDataPointState=function(u,a){if(void 0===a&&(a=!1),a||(u.selected&&_.remove(this.selected,u),u.selected=!1),!_.isEmpty(u.children)&&u.partially){u.partially=!1;for(var l=0,d=u.children;l<d.length;l++)this.clearDataPointState(d[l])}},o.prototype.updateParentState=function(u){if(u.parent)for(var a=u.parent;a;)a.partially=!!u.selected||_.some(a.children,function(l){return l.selected}),a=a.parent},o.prototype.mergeObjectInstancesToPersist=function(u,a){var l,d,b={};return b.merge=u.merge,b.remove=u.remove,_.isEmpty(a.merge)||(b.merge=b.merge||[],(l=b.merge).push.apply(l,a.merge||[])),_.isEmpty(a.remove)||(b.remove=b.remove||[],(d=b.remove).push.apply(d,a.remove||[])),b},o.prototype.toFilterExpressionMetadata=function(u){if(!_.isEmpty(u)){for(var a={expressions:this.columnExprs,cachedValueItems:[]},l=0,d=0,b=u;d<b.length;d++){for(var g=b[d],S={identities:[],valueMap:{}};g;)S.identities.unshift(g.scopeIdentity),S.valueMap[g.level]=g.value,l=Math.max(l,g.level),g=g.parent;a.cachedValueItems.push(S)}return a.expressions=this.columnExprs.slice(0,l+1),a}},o.prototype.isDisableMultipleSelectForMappedColumn=function(){return _.some(this.columns,function(a){var l,d;return 1===(null===(l=a.parameter)||void 0===l?void 0:l.kind)&&!(null!==(d=a.parameter)&&void 0!==d&&d.supportsMultipleValues)})},o.prototype.toggleSelectionModeInversion=function(u){return void 0===u&&(u=!1),this.previouslySelected=this.selected.slice(),this.useDefaultValue=!1,this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!this.isInvertedSelectionMode,this.resetSelected(),u&&this.hostService.persistProperties(o.createChangeForProperty(t.gO.data.isInvertedSelectionMode,!!this.isInvertedSelectionMode||null)),this.behavior.renderSelection(),this.isInvertedSelectionMode},o.prototype.getFilterFromDataPoints=function(){var u=(0,h.R6)({columns:this.columns});if(_.isEmpty(this.selected)&&(this.hasDefaultValue()||this.isInvertedSelectionMode&&u))return o.buildDefaultValueFilter(this.columns,!this.useDefaultValue||u);var l=this.buildSelectorsByLevel();if(l){var d=o.buildExprForHierarchyFilter(l.selected,l.unselected,u);return d=this.ensureAnyFilter(d,l.maxLevel),m.yl.fromSQExpr(d)}},o.buildExprForHierarchyFilter=function(u,a,l){var d=o.buildExprsFromSelectorsByLevel(u),b=o.buildExprForUnselectedState(a,!l);return d&&b?d=(0,v.xD)(d,b):b&&(d=b),d},o.prototype.ensureAnyFilter=function(u,a){var l=a+1;if(l<this.columns.length){for(var d=(0,v.n7)(),b=[],f=l;f<this.columns.length;f++)this.supportsDefaultValueByLevel[f]&&b.push.apply(b,o.getMetadataColumnIdentityExprs(this.columns[f]));if(!_.isEmpty(b)){var g=Array.apply(null,Array(b.length)).map(function(){return d});u=(0,v.xD)(u,(0,e.R)(b,g))}}return u},o.getInExprByLevel=function(u){for(var l,d=0,b=(0,s.Li)(u);d<b.length;d++){var f=b[d],g=(0,V.FD)(f);l=l?(0,v.or)(l,g):g||f}return l},o.prototype.hasDefaultValue=function(){if(!_.isEmpty(this.columns))return null!=(0,p.NA)(this.columns[0].objects,t.gO.general.defaultValue)},o.buildExprsFromSelectorsByLevel=function(u,a){var l;for(var d in void 0===a&&(a=!1),u){var b=o.getInExprByLevel(u[d]);l=l?(0,v.or)(l,b):b}return a&&l&&(l=(0,v.ff)(l)),l},o.prototype.buildSelectorsByLevel=function(){if(!_.isEmpty(this.selected)){for(var u={},a={},l={},d=0,b=0,f=this.selected;b<f.length;b++){for(var g=f[b],S=-1,y=g,C={data:[]};y;)C.data.unshift(y.scopeIdentity),y=y.parent,S++;if(d=Math.max(d,S),(0,h.OO)(g,this.isInvertedSelectionMode)){var E=this.getFirstUnselectedParent(g,this.isInvertedSelectionMode),D=u;E&&(D=(P=this.ensureState(E,l)).selectedChildren),D[S]=D[S]||[],D[S].push(C)}else{var P;(P=this.ensureState(g,l)).selector=C,a[S]=a[S]||[],a[S].push(P)}}return{selected:u,unselected:a,maxLevel:d}}},o.buildExprForUnselectedState=function(u,a){var l,d={};for(var b in u){for(var g=[],S=[],y=0,C=u[b];y<C.length;y++){var E=C[y];_.isEmpty(E.selectedChildren)?S.push(E.selector):g.push(E)}if(_.isEmpty(S)||(d[b]=S),!_.isEmpty(g)){var D=o.getExprForUnselectedStateWithSelection(g);l=l?(0,v.xD)(D,l):D}}var P=o.buildExprsFromSelectorsByLevel(d,a);return l?(0,v.xD)(P,l):P},o.getExprForUnselectedStateWithSelection=function(u){for(var a,l=0,d=u;l<d.length;l++){var b=d[l],f=o.buildExprsFromSelectorsByLevel(b.selectedChildren),g=(0,v.ff)(o.getInExprByLevel([b.selector])),S=(0,v.or)(f,g);a=a?(0,v.xD)(S,a):S}return a},o.prototype.ensureState=function(u,a){var l=a[u.identity.getKey()];return l||(l={selector:{},selectedChildren:{}},a[u.identity.getKey()]=l),l},o.prototype.getFirstUnselectedParent=function(u,a){for(;u;){if(u.selected&&!(0,h.OO)(u,a))return u;u=u.parent}},o.createChangeForProperty=function(u,a){var l={},d={objectName:u.objectName,selector:void 0,properties:l};return null==a?(l[u.propertyName]={},{remove:[d]}):(l[u.propertyName]=a,{merge:[d]})},o.prototype.adjustStrictSingleSelectSelection=function(u){if(this.isStrictSingleSelect&&!_.isEmpty(u)&&(1!==_.filter(u,function(E){return E.selected}).length||this.isInvertedSelectionMode)){var l;if(u.length>1){for(var d=0,b=u;d<b.length;d++){var f=b[d];if(f.selected&&!this.isInvertedSelectionMode||!f.selected&&this.isInvertedSelectionMode){l=f;break}}if(!l)if((0,h.R6)({columns:this.columns}))for(var S=0,y=u;S<y.length;S++){var C=y[S];if(!C.disabled){l=C;break}}else l=u[0]}this.isInvertedSelectionMode&&this.toggleSelectionModeInversion(null==l),l&&(l.selected=!0,this.selected=[l],this.persistSelectionFilter(t.gO.general.filter,void 0,!0))}},o}()},659317:function(ze,K,r){r.d(K,{AM:function(){return I},H4:function(){return Q},HR:function(){return B},Id:function(){return me},Iy:function(){return R},K5:function(){return ve},M7:function(){return L},Mj:function(){return A},NV:function(){return T},No:function(){return te},OO:function(){return Y},PB:function(){return Z},PG:function(){return Ze},Qi:function(){return j},R6:function(){return We},VD:function(){return se},Wm:function(){return Ae},X$:function(){return de},dq:function(){return De},fz:function(){return pe},gy:function(){return ie},hY:function(){return O},hx:function(){return _e},nD:function(){return Ke},nQ:function(){return H},oE:function(){return Be},pD:function(){return w},qo:function(){return oe},rX:function(){return le},s8:function(){return N},s9:function(){return Se},td:function(){return ce},tm:function(){return ye},uN:function(){return x},uT:function(){return P},vx:function(){return W},zJ:function(){return G}});var t=r(226514),c=r(759510),i=r(629925),s=r(666683),p=r(932178),V=r(177497),m=r(106266),v=r(324356),e=r(19632),h=r(41455),n=r(725182),o=r(473667),u=r(391980),a=r(520907),l=r(13106),d=r(761565),b=r(14253),f=(0,i.CH)("clearSearchTextButton"),y=((0,i.CH)("headerContainer"),(0,i.CH)("slicerHeader"),(0,i.CH)("hidden")),C=(0,i.CH)("icon"),P=((0,i.CH)("titleHeader"),(0,i.CH)("headerText"),(0,i.CH)("slicerBody")),T=((0,i.CH)("slicerLabel"),(0,i.CH)("slicerText")),R=(0,i.CH)("slicerImage"),B=(0,i.CH)("slicerCountText"),N=(0,i.CH)("searchHeader"),x=(0,i.CH)("searchIcon"),A=(0,i.CH)("searchInput"),I=(0,i.CH)("collapsed"),w=(0,i.CH)("show"),O=((0,i.CH)("isMultiSelectEnabled"),(0,i.CH)("enable-hover")),L=(0,i.CH)("disableScrollHover"),W="SelectAll",U="SearchBox_Text",j="DeselectAll";function z(qe){return null!=qe&&null!=qe.slicerSettings}function G(qe){return(0,o.Gq)(qe,d.CT.value)}function te(qe,it){var Fe={dataMap:{},metadata:[it[qe.level]]},ee=[],k=[],Ce=qe;for(ee.push(qe),k.push(qe.levelIndex);Ce.parent;)ee.unshift(Ce=Ce.parent),k.unshift(Ce.levelIndex);for(var J=0,re=ee;J<re.length;J++){var Ie=re[J];Fe.dataMap[it[Ie.level]]=[Ie.scopeIdentity]}return{selector:Fe,path:k}}function Q(qe,it){var be;if(!_.isEmpty(it)&&!_.isEmpty(qe)){for(var Fe=(0,v.fL)(it),ee=void 0,k=0,Ce=qe;k<Ce.length;k++){var re=(0,v.r3)(Ce[k],Fe);ee=ee?(0,v.or)(ee,re):re}be=l.yl.fromSQExpr(ee)}return be}function H(qe){if(qe){var it=qe.categorical;if(it&&!_.isEmpty(it.categories))return it.categories[0].identityFields}}function de(qe,it,be){if(qe&&!_.isEmpty(it))for(var Fe=0,ee=it.length;Fe<ee;Fe++)if((0,e.fS)(qe,it[Fe].identity,be))return it.splice(Fe,1)[0]}function Y(qe,it){var be=qe.parent?Y(qe.parent,it):it;return qe.selected?!be:be}function se(qe,it){var be,Fe={remove:[{objectName:"general",selector:null,properties:{filter:!0}}],replace:[{objectName:"data",selector:null,properties:(be={},be[d.gO.data.mode.propertyName]=it,be)}]};qe.persistProperties(Fe),qe.onSelect({type:0,visualObjects:[]});var ee=qe.getLocalizedString("Slicer_ClearSelectionsCleared");qe.alertWithDebounce("announce-clear-selection",ee)}function ce(qe,it){var be=qe.complete(),Fe=be?be.visualObjectWarnings:void 0;for(var ee in Fe)it.addForVisualObject.apply(it,(0,t.__spreadArray)([ee],Fe[ee]||[],!1))}function pe(qe){return qe.identity.getKey()}function ve(qe,it,be){void 0===be&&(be=!1),qe.handleClearSelection(),be&&qe.setSearchMode(!0),qe.persistSelectionFilter(d.gO.general.filter,null,!0!==it,be)}function De(qe){qe.setSearchMode(!0),qe.persistSelfFilter(d.gO.general.selfFilter,null)}function We(qe){return _.some(qe.columns,function(it){var be;return 1===(null===(be=it.parameter)||void 0===be?void 0:be.kind)})}function je(qe){return _.some(qe.columns,function(it){var be;return null===(be=it.parameter)||void 0===be?void 0:be.supportsMultipleValues})}function Ae(qe){return _.some(qe.columns,function(it){var be;return null===(be=it.parameter)||void 0===be?void 0:be.supportsSelectAll})}function _e(qe,it){qe.attr("disabled",!!it.disabled||void 0)}function le(qe,it){return""!==it?it:qe.getLocalizedString("NullValue")}var Z=function(){function qe(){}return qe.prototype.onPopupHideEvent=function(it,be,Fe,ee){var k=this;return this.popup=Fe,this.popupHideEventHandler=it,this.boundBox=be,this.originalOffset=$(be).offset(),this.scrollEventHandler=function(Ce){return k.scrollEventReceived(Ce)},this.focusEventHandler=function(Ce){return k.focusInEventReceived(Ce,ee)},this.popupHideEvent=function(Ce){return k.popupHideEventReceived(Ce)},this.mouseEventHandler=function(Ce){return k.onMouseDown(Ce,ee)},this.bindPopupHideHandlers(),$.proxy(this.unbindPopupHideHandlers,this)},qe.prototype.popupHideEventReceived=function(it){this.popupHideEventHandler(it.type,it.target)},qe.prototype.scrollEventReceived=function(it){if(this.boundBox){var be=$(this.boundBox).offset();(be.left!==this.originalOffset.left||be.top!==this.originalOffset.top)&&(this.originalOffset=be,this.popupHideEventHandler(it.type,it.target))}},qe.prototype.focusInEventReceived=function(it,be){!this.popup||this.popup.contains(it.target)||be&&this.isContextMenuElement(it.target)||this.popupHideEventHandler(it.type,it.target)},qe.prototype.onMouseDown=function(it,be){2===it.button&&be&&(!this.popup||this.popup.contains(it.target)||this.isContextMenuElement(it.target))||this.popupHideEventHandler(it.type,it.target)},qe.prototype.bindPopupHideHandlers=function(){document.addEventListener("mousedown",this.mouseEventHandler,!0),document.addEventListener("pointerdown",this.mouseEventHandler,!0),document.addEventListener("touchstart",this.popupHideEvent,!0),$(window).on("resize",$.proxy(this.popupHideEventReceived,this)),$(this.boundBox).on("destroy",$.proxy(this.popupHideEventReceived,this)),document.addEventListener("scroll",this.scrollEventHandler,!0),document.addEventListener("focusin",this.focusEventHandler,!0)},qe.prototype.unbindPopupHideHandlers=function(){document.removeEventListener("mousedown",this.mouseEventHandler,!0),document.removeEventListener("pointerdown",this.mouseEventHandler,!0),document.removeEventListener("touchstart",this.popupHideEvent,!0),$(window).off("resize",this.popupHideEventReceived),document.removeEventListener("scroll",this.scrollEventHandler,!0),$(this.boundBox).off("destroy",this.popupHideEventReceived),document.removeEventListener("focusin",this.focusEventHandler,!0)},qe.prototype.isContextMenuElement=function(it){return $(it).parents("drop-down-list:first").length>0},qe}(),ie=function(){function qe(){}return qe.prototype.addSearch=function(it,be){var Fe=be.append("div").classed(N.class,!0).classed(I.class,!0);return Fe.append("span").classed("powervisuals-glyph search",!0).classed(C.class,!0).classed(x.class,!0).attr("title",it.getLocalizedString(U)),Fe.append("input").attr("type","text").attr("aria-label",it.getLocalizedString(U)).attr("placeholder",it.getLocalizedString(U)).attr("spellcheck",!1).classed(A.class,!0).attr("drag-resize-disabled","true"),Fe},qe.prototype.addClearSearchButton=function(it,be){var Fe=be.append("span").classed("powervisuals-glyph x",!0).classed(C.class,!0).classed(f.class,!0);return be.select(A.selector).attr("placeholder",it.getLocalizedString(U)),Fe},qe.prototype.configureSearchBoxIcon=function(it,be){var Fe=_.isEmpty(be);it.select(x.selector).classed(y.class,!Fe),it.select(f.selector).classed(y.class,Fe)},qe.prototype.getRowHeight=function(it,be,Fe){var ee=Fe.outlineDropdownToCheckboxes?it.slicerText.outlineStyle:it.slicerText.outline;return b.b.estimateSvgTextHeight(this.getTextProperties(it.slicerText.textSize,it.slicerText.fontFamily,be))+this.getRowsOutlineWidth(ee,it.general.outlineWeight)},qe.prototype.setSlicerTextStyle=function(it,be,Fe){it.styles({color:be.slicerText.color,"background-color":be.slicerText.background,"border-style":"solid","border-color":be.general.outlineColor,"border-width":(0,h.$b)(Fe.outlineDropdownToCheckboxes?be.slicerText.outlineStyle:be.slicerText.outline,be.general.outlineWeight),"font-size":a.FP.fromPoint(be.slicerText.textSize),"font-family":be.slicerText.fontFamily,"line-height":Math.floor(1.79*be.slicerText.textSize)+"px","font-weight":be.slicerText.labelBold?i.en:i.AI,"font-style":be.slicerText.labelItalic?i.BF:i.AI,"text-decoration":be.slicerText.labelUnderline?i.f0:i.zu});var Ce=this.calculateSlicerTextHighlightColor(be.slicerText.color);it.on("mouseover",function(J){d3.select(this).styles({color:Ce})}),it.on("mouseout",function(J){d3.select(this).styles({color:be.slicerText.color})})},qe.prototype.getRowsOutlineWidth=function(it,be){if("number"==typeof it){var Fe=(0,n.yE)(it,s.$m.Top),ee=(0,n.yE)(it,s.$m.Bottom);return Fe&&ee?2*be:Fe||ee?be:0}switch(it){case s.YP:case s.v3:return 0;case s.wI:case s.j0:return be;case s.b_:case s.Wi:return 2*be;default:return 0}},qe.prototype.calculateSlicerTextHighlightColor=function(it){var be=(0,V.WV)(it);return be&&255===be.R&&255===be.G&&255===be.B?"#C8C8C8":(0,V.jd)(be,.8,.2)},qe.prototype.getTextProperties=function(it,be,Fe){return Fe.fontSize=a.FP.fromPoint(it),Fe.fontFamily=be,Fe},qe}();function me(){return!p.M.isIOSWebView()&&!p.M.isAndroidWebView()}function ye(qe,it){if(0===it&&1===qe.length&&qe[0].objectName===d.gO.data.mode.objectName&&qe[0].propertyName===d.gO.data.mode.propertyName){var be=[],Fe=qe[0].propertyValue;return(be=Fe===c.Ih||Fe===c.of?[{objectName:d.gO.data.mode.objectName,propertyName:d.gO.data.mode.propertyName,propertyValue:c.RB,propertyType:{enumeration:c.dt}},{objectName:d.gO.general.orientation.objectName,propertyName:d.gO.general.orientation.propertyName,propertyValue:Fe===c.of?u.i.Horizontal:u.i.Vertical,propertyType:{enumeration:u.d}}]:(0,t.__spreadArray)([],qe,!0)).push({objectName:d.gO.general.filter.objectName,propertyName:d.gO.general.filter.propertyName,propertyValue:null,propertyType:{filter:{}}}),be}return qe}function oe(qe,it,be,Fe,ee){if(it)switch(qe.objectName){case"items":return function(qe,it,be){var Fe=it,ee=z(qe)&&qe.slicerSettings.slicerText,J={fontColor:ee&&qe.slicerSettings.slicerText.color?qe.slicerSettings.slicerText.color:Fe.slicerText.color,background:ee&&qe.slicerSettings.slicerText.background?qe.slicerSettings.slicerText.background:Fe.slicerText.background,textSize:Fe.slicerText.textSize,fontFamily:Fe.slicerText.fontFamily,bold:Fe.slicerText.labelBold,italic:Fe.slicerText.labelItalic,underline:Fe.slicerText.labelUnderline};return be.outlineDropdownToCheckboxes?J.outlineStyle=Fe.slicerText.outlineStyle:J.outline=Fe.slicerText.outline,!_.isEmpty(qe.queryNameByLevel)&&qe.queryNameByLevel.length>1&&(J.steppedLayoutIndentation=Fe.expandCollapse.indentation,J.expandCollapseToggleType=Fe.expandCollapse.toggleType),[{selector:null,objectName:"items",properties:J}]}(it,be,ee);case"selection":return function(qe,it,be){var Fe=z(qe)&&qe.slicerSettings.selection,ee=Fe&&qe.slicerSettings.selection.selectAllCheckboxEnabled?qe.slicerSettings.selection.selectAllCheckboxEnabled:it.selection.selectAllCheckboxEnabled,k=Fe&&void 0!==qe.slicerSettings.selection.singleSelect?qe.slicerSettings.selection.singleSelect:it.selection.singleSelect,Ce=Fe&&void 0!==qe.slicerSettings.selection.strictSingleSelect?qe.slicerSettings.selection.strictSingleSelect:it.selection.strictSingleSelect;!Ce&&We(be.metadata)&&!je(be.metadata)&&(Ce=!0);var J={selector:null,objectName:"selection",properties:{strictSingleSelect:Ce}};return Ce||(J.properties.singleSelect=k,J.properties.selectAllCheckboxEnabled=ee),[J]}(it,be,Fe)}}function Se(qe,it,be,Fe){if(it){var ee=z(it)&&it.slicerSettings.slicerText,k=ee&&it.slicerSettings.slicerText.color?it.slicerSettings.slicerText.color:be.slicerText.color,Ce=ee&&it.slicerSettings.slicerText.background?it.slicerSettings.slicerText.background:be.slicerText.background,J=d.gO.items,re=new m.CQ(new m.lg("values"),"Role_DisplayName_Values",[J.fontFamily,J.textSize,J.bold,J.italic,J.underline,J.fontColor,J.padding,J.outline,J.outlineStyle,d.gO.general.outlineColor,d.gO.general.outlineWeight,J.background],function(we){return qe.getLocalizedString(we)}),ot=(new m.UN).withFontFamily({descriptor:J.fontFamily,value:be.slicerText.fontFamily}).withFontSizeProperties({descriptor:J.textSize,value:be.slicerText.textSize}).withBold({descriptor:J.bold,value:be.slicerText.labelBold}).withItalic({descriptor:J.italic,value:be.slicerText.labelItalic}).withUnderline({descriptor:J.underline,value:be.slicerText.labelUnderline}).build();return re.addGroup("values",function(we){we.withDisplayName("Role_DisplayName_Values").addCompositeSlice("fontselector","Font",ot).addSimpleSlice("color",function(){return new m.BT({descriptor:J.fontColor,value:{value:k}}).build()}),Fe&&Fe.slicerAccessibility&&we.addSimpleSlice("padding",function(){return new m.mu({descriptor:J.padding,value:be.items.padding,options:{minValue:{type:0,value:0},maxValue:{type:1,value:999},unitSymbol:"Numeric_Pixel"}}).build()})}).addGroup("border",function(we){we.withDisplayName("Visual_Border"),we.addSimpleSlice("border position",Fe.outlineDropdownToCheckboxes?new m.oM({descriptor:J.outlineStyle,value:be.slicerText.outlineStyle}).build():new m.uY({descriptor:J.outline,value:be.slicerText.outline}).build(),function(he){return he.withCustomDisplayName("Visual_Border_Position")}),we.addSimpleSlice("color",function(){var he={value:be.general.outlineColor};return new m.BT({descriptor:(0,t.__assign)((0,t.__assign)({},d.gO.general.outlineColor),{instanceKind:3}),value:he}).build()},function(he){return he.withCustomDisplayName("Visual_Background_Color")}).addSimpleSlice("lineWidth",new m.JN({descriptor:d.gO.general.outlineWeight,value:be.general.outlineWeight,options:{minValue:{type:0,value:1},maxValue:{type:1,value:10}},localize:function(Te){return qe.getLocalizedString(Te)}}).build(),function(he){return he.withCustomDisplayName("Visual_Line_Width")})}).addGroup("background",function(we){we.withDisplayName("Visual_Background").addSimpleSlice("color",function(){return new m.BT({descriptor:J.background,value:{value:Ce}}).build()},function(he){return he.withCustomDisplayName("Visual_Background_Color")})}),re.build()}}function Be(qe,it,be,Fe){if(it){var ee=d.gO.items,k=new m.CQ(new m.lg("hierarchy"),"Hierarchy",[ee.steppedLayoutIndentation,ee.expandCollapseToggleType],function(Ce){return qe.getLocalizedString(Ce)});if(!_.isEmpty(it.queryNameByLevel)&&it.queryNameByLevel.length>1)return k.addGroup("levels",function(Ce){Ce.withDisplayName("Slicer_Hierarchy_Levels").addSimpleSlice("steppedIndentation",function(){return new m.JN({descriptor:ee.steppedLayoutIndentation,value:be.expandCollapse.indentation,options:{minValue:{type:0,value:0},maxValue:{type:1,value:40}},localize:function(re){return qe.getLocalizedString(re)}}).build()})}).addGroup("expandCollapseButtons",function(Ce){Ce.withDisplayName("Slicer_ExpandCollapse").addSimpleSlice("expand/collapseIcon",function(){return new m.uY({descriptor:ee.expandCollapseToggleType,value:be.expandCollapse.toggleType}).build()})}),[k.build()]}}function Ke(qe){var it=qe.cardUidBuilder,be=qe.currentSlicerSettings,Fe=qe.data,ee=qe.dataView,k=qe.hostServices,Ce=qe.orientation,J=qe.slicerModes,re=qe.featureSwitches,Ie=qe.activeMode;if(Fe||!(0,c.Ek)(Ie)){var ot=[],we=[],he=Fe&&Fe.slicerSettings,Te=new m.mQ(new m.SS(it,"options"),function(Ve){return k.getLocalizedString(Ve)});if(we.push(d.gO.general.selfFilterEnabled),Te.withDisplayName("Desktop_FileMenu_Options"),re.updateFormattingPaneObjects&&re.moveSlicerTypeSelection){Ie===c.RB&&(Ie=Ce&&Ce===u.i.Horizontal?c.of:c.Ih);for(var Oe=[],Je=0,fe=J;Je<fe.length;Je++){var ne=fe[Je],Ne=ne.displayName({get:k.getLocalizedString});Oe.push({value:ne.value,displayName:Ne})}var et=Oe.filter(function(Ve){return Ve.value===Ie});Te.addSimpleSlice("style",new m.uY({descriptor:d.gO.data.mode,value:et&&et[0],items:Oe}).build()),we.push(d.gO.data.mode)}else null!=Ce&&(Te.addSimpleSlice("orientation",new m.uY({descriptor:d.gO.general.orientation,value:Ce}).build()),we.push(d.gO.general.orientation));var tt=Te.build();if(tt.slices.length>0&&ot.push(tt),Fe&&be&&ee){var xe=Ze(he,ee,be,k,it,we);ot.push(xe)}return{groups:ot,revertToDefaultDescriptors:we}}}function Ze(qe,it,be,Fe,ee,k,Ce){void 0===Ce&&(Ce=!0);var J=qe&&qe.selection,re=be.selection,Ie=J&&J.selectAllCheckboxEnabled?J.selectAllCheckboxEnabled:re.selectAllCheckboxEnabled,ot=J&&void 0!==J.singleSelect?J.singleSelect:re.singleSelect,we=J&&void 0!==J.strictSingleSelect?J.strictSingleSelect:re.strictSingleSelect;!we&&We(it.metadata)&&!je(it.metadata)&&(we=!0);var he=d.gO.selection,Te=new m.mQ(new m.SS(ee,"selection"),function(Oe){return Fe.getLocalizedString(Oe)});return k.push(d.gO.general.selfFilterEnabled,he.strictSingleSelect,he.singleSelect,he.selectAllCheckboxEnabled),Ce||Te.addSimpleSlice("singleSelect",function(){return new m.bd({descriptor:he.singleSelect,value:ot}).build()}),(ot||Ce)&&Te.withDisplayName("ExpandCollapseNode").addSimpleSlice("strictSingleSelect",function(){return new m.bd({descriptor:he.strictSingleSelect,value:we}).build()}),we||(Ce&&Te.addSimpleSlice("singleSelect",function(){return new m.bd({descriptor:he.singleSelect,value:ot}).build()}),Te.addSimpleSlice("selectAllCheckboxEnabled",function(){return new m.bd({descriptor:he.selectAllCheckboxEnabled,value:Ie}).build()})),Te.build()}},196930:function(ze,K,r){r.d(K,{AA:function(){return e},kO:function(){return h},SV:function(){return n},YA:function(){return o},n8:function(){return a},HA:function(){return u},ki:function(){return l},Ih:function(){return d},Ug:function(){return b}});var t=r(36623),i=r(787941),s=r(698129),p=r(129035),V=r(448711),m=r(950870),v=r(592042);function e(f,g){for(var y=[],C=0,E=f;C<E.length;C++){var M=n(E[C].value,g);M&&y.push(M)}return y.join("")}function h(f,g){var S;if((0,m.U)(f.expression)){var C=null==g?void 0:g[f.expression.selector.id];S=null==C?void 0:C.value}else S=f.expression;var E=function(f,g){return _.find(f.cases,function(S){return S.pattern===g})||f.defaultCase}(f,S);return E.textRuns}function n(f,g){return(0,m.U)(f)?o(f.selector.id,g):f}function o(f,g){var S=null==g?void 0:g[f];return null==S?void 0:S.formattedValue}function u(f){var g=f;return i.fF.assertValue(g,"textRun"),_.isString(g.value)||(0,m.U)(g.value)}function a(f){return!_.isNil(f.mentionEmail)}function l(f){var g=f;return i.fF.assertValue(g,"textRunConditional"),_.isArray(g.cases)&&!!g.defaultCase&&_.isArray(g.defaultCase.textRuns)&&((0,m.U)(g.expression)||_.isString(g.expression)||_.isNumber(g.expression)||_.isBoolean(g.expression)||_.isDate(g.expression))}function d(f,g,S){i.fF.assertValue(g,"evaluatedValues must be defined");var y=t.RL.values.expr.objectName;i.fF.assert(function(){return y===t.RL.values.formatString.objectName},"Format strings are expected in the same object as evaluated values");var C=(0,s.AO)(f,y);if(!_.isEmpty(C)){for(var E in C){var D=(0,p.N)(C[E],t.RL.values.expr.propertyName),P=new V.g({column:{displayName:"",objects:C,type:v.Ge.fromPrimitiveTypeAndCategory(b(D))},formatStringPropId:{objectName:E,propertyName:t.RL.values.formatString.propertyName},nullsAreBlank:!1});g[E]={value:D,formattedValue:P.format(D)}}S&&S.trace(2,"TextboxWithSmartNarrativeValuesDataChanged")}}function b(f){return _.isDate(f)?7:_.isInteger(f)?4:_.isNumber(f)?3:_.isBoolean(f)?5:_.isString(f)?1:(i.fF.assert(function(){return!f},"Unsupported primitive value"),0)}},723342:function(ze,K,r){function t(){return $("<div></div>")}function c(){return $("<span></span>")}function m(){return $("<select></select>")}function v(){return $('<input type="text"/>')}r.d(K,{Ys:function(){return m},hi:function(){return t},yP:function(){return c},ze:function(){return v}})},629925:function(ze,K,r){function t(ee){return{class:ee,selector:"."+ee}}r.d(K,{AI:function(){return ue},At:function(){return Z},B1:function(){return je},BF:function(){return Be},By:function(){return te},CB:function(){return b},CH:function(){return t},G7:function(){return X},Ji:function(){return O},K:function(){return Fe},LR:function(){return n},Mq:function(){return I},OF:function(){return d},QX:function(){return L},Rg:function(){return pe},SJ:function(){return i},SU:function(){return l},Sd:function(){return u},Ux:function(){return G},Uy:function(){return a},VM:function(){return D},Xn:function(){return S},YY:function(){return Q},Z7:function(){return C},a_:function(){return Ae},dj:function(){return W},ei:function(){return s},en:function(){return Se},f0:function(){return Ke},fw:function(){return ie},hK:function(){return ce},hy:function(){return it},j4:function(){return z},jO:function(){return ye},jU:function(){return N},k2:function(){return g},kP:function(){return p},l6:function(){return Ze},mA:function(){return E},ps:function(){return F},py:function(){return ve},rb:function(){return x},t0:function(){return w},vp:function(){return U},wF:function(){return We},wu:function(){return B},zo:function(){return j},zu:function(){return me}});var i="px",s="height",p="width",n="margin-top",u="margin-left",a="margin-right",l="display",d="background",b="background-color",g="background-size",S="background-image",C="text-align",E="border",D="border-top",B="border-radius",N="border-color",x="box-shadow",I="font-family",w="font-size",F="font-weight",O="font-style",L="text-decoration",W="color",U="opacity",j="padding",z="padding-top",G="padding-left",te="padding-right",Q="padding-bottom",ce="overflow-x",pe="overflow-y",ve="transform",We="cursor",je="visibility",Ae="fill",Z="auto",ie="hidden",me="none",ye="block",X="transparent",ue="normal",Se="bold",Be="italic",Ke="underline",Ze="visible",it="cover",Fe="scroll"},608014:function(ze,K,r){r.d(K,{$U:function(){return V},$u:function(){return A},A3:function(){return Y},AA:function(){return P},CA:function(){return m},Cj:function(){return z},DL:function(){return C},G6:function(){return O},LS:function(){return te},N8:function(){return Q},NN:function(){return ve},O4:function(){return ce},OV:function(){return se},Of:function(){return c},PG:function(){return G},Rh:function(){return S},Ti:function(){return B},V:function(){return de},Wo:function(){return Ae},XR:function(){return L},ZI:function(){return f},bS:function(){return l},bd:function(){return g},cp:function(){return E},iV:function(){return s},n:function(){return T},nP:function(){return w},oe:function(){return I},pX:function(){return h},tc:function(){return i},wx:function(){return t},x5:function(){return R},xw:function(){return De},y4:function(){return y}});var t=[50,51,52,53,54,72,75,66,84],c=function(le){return le[le.Enter=13]="Enter",le[le.F1=112]="F1",le[le.F2=113]="F2",le[le.F6=117]="F6",le[le.F10=121]="F10",le[le.ArrowRight=39]="ArrowRight",le[le.KeyT=84]="KeyT",le}({}),i=function(le){return le[le.Main=0]="Main",le[le.Auxilary=1]="Auxilary",le[le.Secondary=2]="Secondary",le[le.Fourth=3]="Fourth",le[le.Fifth=4]="Fifth",le}({}),s="body",V=":text, textarea",m='[type="number"]',h="id",l="_self",f="src",g="contenteditable",S="skip-children-focus",y="contextmenu",C="blur",E="keyup",P="change",T="keydown",R="mousemove",B="mousedown",A="mouseover",I="mouseout",w="mouseup",O="click",L="dblclick",z="hover",G="focus",te="focusin",Q="focusout",de="message",Y="load",se="beforeunload",ce="pointermove",ve="pointerdown",De="pointerout",Ae="pointerover"},764365:function(ze,K,r){r.d(K,{BM:function(){return v},Eo:function(){return y},GG:function(){return l},GW:function(){return N},Po:function(){return d},QO:function(){return P},U:function(){return B},Uy:function(){return S},W0:function(){return D},Xo:function(){return s},aP:function(){return f},bA:function(){return g},bl:function(){return b},cT:function(){return C},iD:function(){return E},kg:function(){return p},mv:function(){return u},oI:function(){return R},p8:function(){return a},qO:function(){return m},wA:function(){return o}});var t=r(787941),s=-308,p=308,m=1e-4,v=12,e=Math.log(10),h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],n=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function o(A){return t.fF.assertValue(A,"exp"),A>=0?A<h.length?h[A]:1/0:(A=-A)>0&&A<n.length?n[A]:0}function u(A){return t.fF.assert(function(){return A>=0},"val"),A>1&&A<1e16?A<1e8?A<1e4?A<100?A<10?0:1:A<1e3?2:3:A<1e6?A<1e5?4:5:A<1e7?6:7:A<1e12?A<1e10?A<1e9?8:9:A<1e11?10:11:A<1e14?A<1e13?12:13:A<1e15?14:15:A>1e-16&&A<1?A<1e-8?A<1e-12?A<1e-14?A<1e-15?-16:-15:A<1e-13?-14:-13:A<1e-10?A<1e-11?-12:-11:A<1e-9?-10:-9:A<1e-4?A<1e-6?A<1e-7?-8:-7:A<1e-5?-6:-5:A<.01?A<.001?-4:-3:A<.1?-2:-1:S(Math.log(A)/e)}function a(A,I){if(void 0===I?I=v:t.fF.assert(function(){return I>=0},"decimalDigits"),A&&isFinite(A)){var w=u(Math.abs(A));return w<s?0:o(Math.max(w-I,1-n.length))}}function l(A,I,w){return w=x(w,A,I),t.fF.assert(function(){return w>=0},"precision"),A===I||Math.abs(A-I)<w}function d(A,I,w){return w=x(w,A,I),t.fF.assert(function(){return w>=0},"precision"),A<I&&Math.abs(A-I)>w}function b(A,I,w){return w=x(w,A,I),t.fF.assert(function(){return w>=0},"precision"),A<I||Math.abs(A-I)<w}function f(A,I,w){return w=x(w,A,I),t.fF.assert(function(){return w>=0},"precision"),A>I&&Math.abs(A-I)>w}function g(A,I,w){return w=x(w,A,I),t.fF.assert(function(){return w>=0},"precision"),A>I||Math.abs(A-I)<w}function S(A,I){I=null!=I?I:m,t.fF.assert(function(){return I>=0},"precision");var w=Math.round(A);return Math.abs(A-w)<I?w:Math.floor(A)}function y(A,I){I=x(I,m),t.fF.assert(function(){return I>=0},"precision");var w=Math.round(A);return Math.abs(A-w)<I?w:Math.ceil(A)}function C(A,I){return I=x(I,m),t.fF.assert(function(){return I>=0},"precision"),0===I||0===A?A:Math.floor(A/I)*I}function E(A,I){return I=x(I,m),t.fF.assert(function(){return I>=0},"precision"),0===I||0===A?A:Math.ceil(A/I)*I}function D(A,I){if(I=x(I,m),t.fF.assert(function(){return I>=0},"precision"),0===I||0===A)return A;var w=Math.round(A/I)*I,F=Math.round(u(Math.abs(A))-u(I))+1;return F>0&&F<16&&(w=parseFloat(w.toPrecision(F))),w}function P(A,I,w){return t.fF.assert(function(){return I<=w},"min must be less or equal to max"),null==A?A:A<I?I:A>w?w:A}function R(A){return D(A,a(A))}function B(A){return null!==A&&A%1==0}function N(A,I){return Math.round(A/I)*I}function x(A,I,w){return void 0!==A?A:a(w?I?Math.min(Math.abs(I),Math.abs(w)):w:I)||m}},927891:function(ze,K,r){r.d(K,{DH:function(){return e},ap:function(){return V},dV:function(){return p},q$:function(){return s},wJ:function(){return v}});var t=r(226514),i=function(h){function n(o,u,a){var l=h.call(this,o,u+": "+a)||this;return l.argument=a,l}return(0,t.__extends)(n,h),n}(function(h){function n(o,u){var a=h.call(this,u)||this;return a.name=o,a}return(0,t.__extends)(n,h),n}(Error));function s(h){return new i("argumentNull","Argument was null",h)}function p(h){return new i("argumentUndefined","Argument was undefined",h)}function V(h){return new i("argumentOutOfRange","Argument was out of range",h)}var v=function(h){function n(o){return h.call(this,o)||this}return(0,t.__extends)(n,h),n}(Error);function e(h){var n,o,u;void 0===h&&(h=1);try{if(!(u=new Error).stack)throw u}catch(a){u=a}return null!=(n=u.stack)&&((o=n.split("\n")).splice(1,h),n=o.join("\n")),n}},166851:function(ze,K,r){r.d(K,{o:function(){return c}});var t=r(787941),c=function(){function i(s){t.fF.assertValue(s,"factoryMethod"),this.factoryMethod=s}return i.prototype.getValue=function(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value},i}()},299747:function(ze,K,r){function t(V,m){if(null===V)return null;var v=Object.create(V);return m&&m(v),v}function c(V){if(null==V)return!1;var m=Object.getPrototypeOf(V);return m!==Object.prototype&&m!==Array.prototype}function i(V){return null===V?null:(c(V)||(V=t(V)),V)}function s(V,m){if(null!=V){for(var v,e=0,h=V.length;e<h;e++){var n=m(V[e]);n&&(v||(v=t(V)),v[e]=n)}return v}}function p(V,m){if(V&&m&&"object"==typeof V)for(var v in Object.getPrototypeOf(V)!==Object.getPrototypeOf(m)&&(m.__proto__=V.__proto__),V)p(V[v],m[v])}r.d(K,{ED:function(){return t},Jx:function(){return c},VW:function(){return s},Zx:function(){return p},qO:function(){return i}})},688612:function(ze,K,r){function t(c){for(var i in Object.freeze(c),c){var s=c[i];s&&"object"==typeof s&&t(s)}}r.d(K,{_:function(){return t}})},520907:function(ze,K,r){r.d(K,{FP:function(){return v},Gj:function(){return s},KH:function(){return e},PR:function(){return p},fS:function(){return i},ys:function(){return c}});var t=r(787941);function c(h,n){return(h||n)&&!(h&&n)}function i(h,n){return h===n||JSON.stringify(h)===JSON.stringify(n)}var s=8,p=60,v=function(){function h(){}return h.fromPoint=function(n){return h.toString(h.fromPointToPixel(n))},h.fromPointToPixel=function(n){return h.PxPtRatio*n},h.toPoint=function(n){return n/h.PxPtRatio},h.toString=function(n){return n+h.PixelString},h.PxPtRatio=4/3,h.PixelString="px",h}();function e(h,n,o){return t.fF.assertValue(h,"regex"),h.lastIndex=o||0,h.exec(n)}},725182:function(ze,K,r){r.d(K,{AS:function(){return s},BB:function(){return p},Js:function(){return V},mB:function(){return i},yE:function(){return c}});var t=r(787941);function c(m,v){return t.fF.assert(function(){return!!v},"flag must be specified and nonzero."),(m&v)===v}function i(m,v){return t.fF.assert(function(){return!!v},"flag must be specified and nonzero."),m|v}function s(m,v){return t.fF.assert(function(){return!!v},"flag must be specified and nonzero."),m&~v}function p(m,v){return m[v]}function V(m){if(null===m||m%1!=0)return 0;for(var v=0,e=m;0!==e;)1==(1&e)&&v++,e>>>=1;return v}},690016:function(ze,K,r){r.d(K,{B1:function(){return ce},BL:function(){return se},FA:function(){return We},GE:function(){return L},HZ:function(){return G},Io:function(){return j},Ir:function(){return f},JA:function(){return l},Jj:function(){return N},Nx:function(){return Q},Ny:function(){return y},Oi:function(){return M},S5:function(){return De},Th:function(){return ve},aT:function(){return o},b$:function(){return H},cb:function(){return T},eT:function(){return b},g5:function(){return a},hM:function(){return A},k4:function(){return W},ko:function(){return x},m5:function(){return P},ms:function(){return D},nH:function(){return u},qv:function(){return U},r3:function(){return E},sc:function(){return z},t6:function(){return d},vr:function(){return S},xz:function(){return B},yQ:function(){return O},zE:function(){return I},zb:function(){return pe}});var t=r(226514),c=r(787941),i=r(831917),s=r(927891),p=r(16062),V=r(826691),m=r(710545),v=r(261374),e=window,h=window.location.protocol+"//"+window.location.host,n="__DataProperty__5941464455110614";function o(le,Z,ie){if(c.fF.assertValue(le,"element"),null!=le){var me=le[n];if(!me){if(void 0===ie)return;me=le[n]={}}return void 0===ie?me[Z]:me[Z]=ie}}var u="application/octet-stream",a="application/json",l="image/jpeg",d="blob",b="arraybuffer",f="Accept",g=new RegExp("[<>]","g");function S(le,Z){return P(le)===P(Z)}function y(le,Z){return null!=le&&0===le.indexOf(Z)}function E(le,Z){return null!=le&&-1!==le.indexOf(Z)}function D(le,Z){return null!=le&&E(P(le),P(Z))}function P(le){return H.throwIfNullOrUndefined(le,H,"normalizeCase","value"),le.toUpperCase()}function M(le){return H.throwIfNullOrUndefined(le,H,"containsWhitespace","str"),/\s/.test(le)}function T(le){return""===_.trim(le)}function B(le){return H.throwIfNullOrUndefined(le,H,"trimWhitespace","str"),le.replace(/^\s+/,"").replace(/\s+$/,"")}function N(le){return le.replace(/\s/g,"")}function x(le,Z,ie){if(!Z)return le;var me=L(Z);return le.replace(new RegExp(me,"gi"),ie)}function A(le){c.fF.assertValue(le,"names");for(var Z={},ie=0,me=le;ie<me.length;ie++)Z[me[ie]]=!1;for(var oe=[],X=0,ue=le;X<ue.length;X++){var Se=ue[X],Be=Se;if(Z[Be])for(var Ke=0;void 0!==Z[Be];)Be=Se+"."+ ++Ke;oe.push(Be),Z[Be]=!0}return oe}function I(le,Z,ie,me){c.fF.assertValue(le,"usedNames"),c.fF.assertValue(Z,"baseName"),c.fF.assert(function(){return null==ie||ie>=0},"startSuffix == null || startSuffix >= 0");var ye=me?" ":"",oe=ie||0,X=Z;for(ie&&(X+=ye+ie);w(le,X);)X=Z+ye+ ++oe;return X}function w(le,Z){return _.isSet(le)?le.has(Z):le[Z]}function O(le,Z,ie){if(!le||0===le.length)return"";null==ie&&(ie=Number.MAX_VALUE);for(var me=Math.min(ie,le.length),ye=[],oe=0;oe<2;oe++)for(var X="{"+oe+"}",ue="_|_<"+oe+">_|_",Se=0;Se<me;Se++)le[Se].indexOf(X)>-1&&(le[Se]=le[Se].replace(X,ue),ye.push({targetValue:X,replaceValue:ue}));var Be="";for(Se=0;Se<me;Se++)Be=0===Se?le[Se]:(0,v.W)(Z.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),Be,le[Se]);for(var Ke=0,Ze=ye;Ke<Ze.length;Ke++){var qe=Ze[Ke];Be=Be.replace(qe.replaceValue,qe.targetValue)}return Be}function L(le){return le.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function W(le){return c.fF.assertValue(le,"fileName"),le.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function U(le){return JSON.stringify(le)}function j(le,Z){c.fF.assertValue(le,"input");var ie=le.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return ie.length>0?ie:Z}function z(le){return le.replace(g,"")}function G(le,Z,ie){if(void 0===Z&&(Z=!1),void 0===ie&&(ie=!1),!le||ie&&"&nbsp;"===le)return le;var me=le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(ye){return"&#"+(1024*(ye.charCodeAt(0)-55296)+(ye.charCodeAt(1)-56320)+65536)+";"}).replace(/([^!-~ ])/g,function(ye){return"&#"+ye.charCodeAt(0)+";"});return Z&&(me=me.replace(/\ /g,"&nbsp;")),me}function Q(le){return le>=0&&le<=55295||le>=57344&&le<=65535}var H=function(){function le(){}return le.ensureError=function(Z){return Z instanceof Error||(Z=new Error(Z?Z.message||Z.toString():"<null-or-undefined> error was thrown")),Z},le.throwIfNullOrUndefined=function(Z,ie,me,ye){null===Z?this.throwException((0,s.q$)(this.getComponentName(ie)+me+"."+ye)):void 0===Z&&this.throwException((0,s.dV)(this.getComponentName(ie)+me+"."+ye))},le.throwIfNullOrEmptyString=function(Z,ie,me,ye){this.throwIfNullOrUndefined(Z,ie,me,ye),Z.length<1&&this.throwException((0,s.ap)(this.getComponentName(ie)+me+"."+ye))},le.valueOrDefault=function(Z,ie){return null!=Z?Z:ie},le.urlCombine=function(Z,ie){if(this.throwIfNullOrUndefined(Z,le,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(ie,le,"urlCombine","path"),(0,v.g)(ie))return Z;if((0,v.g)(Z))return ie;var me=Z;return"/"===me.charAt(me.length-1)?"/"===ie.charAt(0)&&(ie=ie.slice(1)):"/"!==ie.charAt(0)&&(ie="/"+ie),me+ie},le.getAbsoluteUri=function(Z){this.throwIfNullOrUndefined(Z,le,"getAbsoluteUri","path");var ie=Z;return ie&&-1===ie.indexOf("http")&&(ie=this.urlCombine(e.clusterUri,ie)),ie},le.getStaticResourceUri=function(Z){this.throwIfNullOrUndefined(Z,le,"getStaticResourceUri","path");var ie=Z;return ie&&-1===ie.indexOf("http")&&(ie=this.urlCombine(h,ie)),ie},le.getComponentName=function(Z){return Z?(typeof Z).toString()+".":""},le.throwException=function(Z){throw V.f.error("Throwing exception: ".concat(JSON.stringify(Z)),null==Z.stack),this.ensureError(Z)},le.createClassSelector=function(Z){return this.throwIfNullOrEmptyString(Z,null,"CreateClassSelector","className"),"."+Z},le.createIdSelector=function(Z){return this.throwIfNullOrEmptyString(Z,null,"CreateIdSelector","id"),"#"+Z},le.clampValue=function(Z,ie,me){return c.fF.assert(function(){return ie<=me},"min value must be less than or equal the max value"),Z=Math.min(Z,me),Math.max(Z,ie)},le.generateGuid=function(){var Z="",ie=0;for(ie=0;ie<32;ie+=1){var me=16*Math.random()|0;switch(ie){case 8:case 12:case 16:case 20:Z+="-"}Z+=me.toString(16)}return Z},le.getCookieValue=function(Z){for(var me=0,ye=document.cookie.split(";");me<ye.length;me++){var oe=ye[me],X=oe.split("=");if(X.length>0&&X[0].trim()===Z)return oe.substr(oe.indexOf("=")+1)}return null},le.getDomainForUrl=function(Z){var ie=this.getHrefObjectFromUrl(Z);return ie.prop("protocol")+"//"+ie.prop("hostname")},le.getHostNameForUrl=function(Z){var ie=this.getHrefObjectFromUrl(Z);return this.urlCombine(ie.prop("hostname"),ie.prop("pathname"))},le.getUrlWithoutQueryString=function(Z){var ie=this.getHrefObjectFromUrl(Z);return ie.prop("protocol")+"//"+this.urlCombine(ie.prop("host"),ie.prop("pathname"))},le.getProtocolFromUrl=function(Z){return this.getHrefObjectFromUrl(Z).prop("protocol").replace(":","")},le.getHrefObjectFromUrl=function(Z){var ie=$("<a>");return ie.prop("href",Z)},le.getDateFromWcfJsonString=function(Z,ie){if(_.isEmpty(Z))return null;var me=Z.indexOf("("),ye=Z.indexOf(")");if(-1!==me&&-1!==ye){var oe=parseInt(Z.substring(me+1,ye),10);if(isNaN(oe)&&(oe=0),ie)return new Date(oe);var X=new Date(0);return X.setUTCMilliseconds(oe),X}return null},le.isValidImageDataUrl=function(Z){return this.ImageDataRegex.test(Z)},le.encodeUriForImageDataSvg=function(Z){if(this.ImageDataSvgRegex.test(Z)){var ie=Z.indexOf(",");if(ie>-1){var me=Z.substring(0,ie).split(";"),ye=Z.substring(ie+1);try{ye=decodeURIComponent(ye)}catch(oe){}return"".concat(me[0],",").concat(encodeURIComponent(ye))}}return Z},le.isLocalUrl=function(Z){return _.startsWith(Z,"data:")||_.startsWith(Z,"blob:")},le.extractFileNameFromPath=function(Z){return Z.replace(/^.*[\\\/]/,"")},le.is64BitOperatingSystem=function(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")},le.isWindows10=function(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")},le.parseNumber=function(Z,ie){if(null===Z)return null;if(void 0===Z)return ie;var me=Number(Z);return isFinite(me)?me:isNaN(me)&&"number"!=typeof Z&&"NaN"!==Z?ie:me},le.getURLParamValue=function(Z){var ie=new RegExp("[?&]"+Z+"=([^&#]*)").exec(window.location.href);return null==ie?null:ie[1]||0},le.getLocalTimeZoneString=function(){var ie=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),ye=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===ie&&-720===ye?"Dateline Standard Time":-660===ie&&-660===ye?"UTC-11":-660===ie&&-660===ye?"Samoa Standard Time":-600===ie&&-600===ye?"Hawaiian Standard Time":-480===ie&&-540===ye?"Alaskan Standard Time":-420===ie&&-480===ye?"Pacific Standard Time":-420===ie&&-420===ye?"US Mountain Standard Time":-360===ie&&-420===ye?"Mountain Standard Time":-360===ie&&-360===ye?"Central America Standard Time":-300===ie&&-360===ye?"Central Standard Time":-300===ie&&-300===ye?"SA Pacific Standard Time":-240===ie&&-300===ye?"Eastern Standard Time":-270===ie&&-270===ye?"Venezuela Standard Time":-240===ie&&-240===ye?"SA Western Standard Time":-240===ie&&-180===ye?"Central Brazilian Standard Time":-180===ie&&-240===ye?"Atlantic Standard Time":-180===ie&&-180===ye?"Montevideo Standard Time":-180===ie&&-120===ye?"E. South America Standard Time":-150===ie&&-210===ye?"Mid-Atlantic Standard Time":-120===ie&&-120===ye?"SA Eastern Standard Time":0===ie&&0===ye?"UTC":60===ie&&0===ye?"GMT Standard Time":60===ie&&120===ye?"Namibia Standard Time":120===ie&&60===ye?"Romance Standard Time":120===ie&&120===ye?"South Africa Standard Time":180===ie&&120===ye?"GTB Standard Time":180===ie&&180===ye?"E. Africa Standard Time":240===ie&&180===ye?"Russian Standard Time":240===ie&&240===ye?"Arabian Standard Time":270===ie&&210===ye?"Iran Standard Time":270===ie&&270===ye?"Afghanistan Standard Time":300===ie&&240===ye?"Pakistan Standard Time":300===ie&&300===ye?"West Asia Standard Time":330===ie&&330===ye?"India Standard Time":345===ie&&345===ye?"Nepal Standard Time":360===ie&&300===ye?"N. Central Asia Standard Time":360===ie&&360===ye?"Central Asia Standard Time":390===ie&&390===ye?"Myanmar Standard Time":420===ie&&360===ye?"North Asia Standard Time":420===ie&&420===ye?"SE Asia Standard Time":480===ie&&420===ye?"North Asia East Standard Time":480===ie&&480===ye?"China Standard Time":540===ie&&480===ye?"Yakutsk Standard Time":540===ie&&540===ye?"Tokyo Standard Time":570===ie&&570===ye?"Cen. Australia Standard Time":600===ie&&600===ye?"E. Australia Standard Time":600===ie&&660===ye?"AUS Eastern Standard Time":660===ie&&600===ye?"Tasmania Standard Time":660===ie&&660===ye?"West Pacific Standard Time":690===ie&&690===ye?"Central Pacific Standard Time":720===ie&&660===ye?"Magadan Standard Time":720===ie&&720===ye?"Fiji Standard Time":720===ie&&780===ye?"New Zealand Standard Time":780===ie&&780===ye?"Tonga Standard Time":"UTC"},le.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),le.ImageDataSvgRegex=new RegExp("data:(image/svg)"),le}(),Y=0;function se(le){var Z=window.performance;if(!Z||!Z.mark)return function(){return 0};var ie="Begin "+(le=++Y+" "+le);Z.mark(ie);var me=(0,p.z)();return function(){var ye="End "+le;return Z.mark(ye),Z.measure&&Z.measure(le,ie,ye),(0,p.z)()-me}}function ce(le){var Z=window.performance;!Z||!Z.mark||(le=++Y+" "+le,Z.mark(le))}function pe(le){var Z=(0,p.z)();return le(),(0,p.z)()-Z}function ve(le){return(0,t.__awaiter)(this,void 0,void 0,function(){var Z;return(0,t.__generator)(this,function(ie){switch(ie.label){case 0:return Z=(0,p.z)(),[4,le()];case 1:return ie.sent(),[2,(0,p.z)()-Z]}})})}function De(le){var Z,ie,me;return window.requestAnimationFrame||(window.requestAnimationFrame=function(ye){return setTimeout(ye,20)}),function(){Z||(Z=!0,ie=arguments,me=this,m.l.requestAnimationFrame(function(){Z=!1,le.apply(me,ie)}))}}function We(le){return null!=le&&le%1!=0}var _e=!1;!function(){if(!_e){var le=v.W;(function(){var le=(0,i.kx)();return le.StringExtensions||(le.StringExtensions={}),le.StringExtensions}()).format=function(){for(var Z=[],ie=0;ie<arguments.length;ie++)Z[ie]=arguments[ie];return le.apply(void 0,Z)},_e=!0}}()},287027:function(ze,K,r){r.d(K,{W:function(){return i}});var t=r(226514),c=r(144900),i=function(){function p(V){this.onReEntry=V,this.active=0}return p.prototype.enqueue=function(V){var m=this;this.tail||(this.tail=new c.B,function(p){(0,t.__awaiter)(this,void 0,void 0,function(){var V,m,v,e;return(0,t.__generator)(this,function(h){switch(h.label){case 0:return[4,p];case 1:V=h.sent(),p=V.next,h.label=2;case 2:return h.trys.push([2,4,,5]),v=(m=V.result).resolve,[4,V.callback()];case 3:return v.apply(m,[h.sent()]),[3,5];case 4:return e=h.sent(),V.result.reject(e),[3,5];case 5:return[3,0];case 6:return[2]}})})}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var v=new c.B,e={next:v.promise,callback:V,result:new c.B};this.tail.resolve(e),this.tail=v;var h=e.result.promise;return++this.active,h.finally(function(){return--m.active})},p}()},932178:function(ze,K,r){r.d(K,{D:function(){return i},M:function(){return c}});var t=r(787941),c=function(){function s(){}return s.getLanguage=function(){return this.navigator.userLanguage||this.navigator.language},s.isChrome=function(){if(null!=this.isChromeCache)return this.isChromeCache;var p=this.navigator.vendor||"",V=this.navigator.userAgent.toLowerCase();return this.isChromeCache=p.toLowerCase().indexOf("google")>-1&&V.indexOf("chrome")>-1&&-1===V.indexOf("edge")&&-1===V.indexOf("opr"),this.isChromeCache},s.isInternetExplorerOrEdge=function(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var p=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=p.indexOf("msie")>-1||p.indexOf("trident")>-1||p.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache},s.isInternetExplorer11=function(){var p=this.navigator.userAgent.toLowerCase(),V=p.match(/rv:(\d+)/i);return!!(V&&V[1]&&parseInt&&11===parseInt(V[1],10))&&p.indexOf("trident")>-1&&-1===p.indexOf("msie")},s.isEdgeLegacy=function(){return!s.isInternetExplorer11()&&"StyleMedia"in window},s.isWindows10=function(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")},s.isKeyboardClick=function(p){return 0===p.clientX&&0===p.clientX},s.isCtrlOrMeta=function(p){return!0===p[s.isMacOs()?"metaKey":"ctrlKey"]},s.noModifierPressed=function(p){var V=s.isMacOs()?"metaKey":"ctrlKey";return!p.shiftKey&&!p.altKey&&!p[V]},s.isPointerTypeTouch=function(p){return"touch"===p.pointerType},s.getInternetExplorerVersion=function(){var p=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var m=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);m&&(p=parseFloat(m[1]))}return p},s.isFirefox=function(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1},s.isMacOs=function(){return this.navigator.userAgent.indexOf("Macintosh")>=0},s.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)},s.isSafari11OrHigher=function(){if(!this.isSafari())return!1;var p=this.navigator.userAgent.match(/version\/(\d+)/i),V=null==p?void 0:p[1];return!(null==V||!parseInt)&&parseInt(V,10)>=11},s.isIOSWebView=function(){var p=this.navigator.userAgent.toLowerCase();return p.indexOf("iphone")>-1||p.indexOf("ipad")>-1||p.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1},s.isAndroidWebView=function(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1},s.focus=function(p,V){if(p)if(p.focus)V?p.focus(V):p.focus();else try{HTMLElement.prototype.focus.apply(p)}catch(m){t.fF.assertFail("BrowserUtils.focus: failed to set focus on element: "+m)}},s.setBrowserSupportsHttp2=function(p){this.browserSupportsHttp2=p},s.calculateBrowserSupportsHttp2=function(){if(!window||!window.performance)return!1;var p=window.performance;return"h2"===(p.getEntriesByType&&p.getEntriesByType("navigation")&&p.getEntriesByType("navigation")[0]&&p.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())},s.navigator=window.navigator,s.browserSupportsHttp2=function(){return null!=s.browserSupportsHttp2Cache||(s.browserSupportsHttp2Cache=s.calculateBrowserSupportsHttp2()),s.browserSupportsHttp2Cache},s}();function i(s){return s.shiftKey?1:c.isCtrlOrMeta(s)?3:0}},106266:function(ze,K,r){r.d(K,{BT:function(){return ce},CQ:function(){return L},Cv:function(){return We},Dw:function(){return n},E0:function(){return b},G8:function(){return u},G_:function(){return X},Gp:function(){return de},IN:function(){return O},IW:function(){return V},JJ:function(){return Ae},JN:function(){return Be},Jr:function(){return Ze},Kw:function(){return a},LB:function(){return ue},LY:function(){return S},M$:function(){return pe},NY:function(){return p},Nq:function(){return B},Q:function(){return D},Qs:function(){return x},Qu:function(){return m},SS:function(){return I},UH:function(){return l},UN:function(){return _e},Vc:function(){return ie},Xo:function(){return o},_m:function(){return le},an:function(){return s},bD:function(){return Z},bP:function(){return T},bd:function(){return it},d5:function(){return f},fq:function(){return qe},hz:function(){return ve},ie:function(){return g},k0:function(){return Se},lg:function(){return A},mQ:function(){return W},mu:function(){return oe},n$:function(){return y},oM:function(){return se},ob:function(){return me},q6:function(){return H},tL:function(){return Y},uM:function(){return ye},uY:function(){return De},vX:function(){return Ke},vi:function(){return te},wZ:function(){return R}});var t=r(226514),c=r(787941),i=r(690016),s="</___",p="___/>";function V(Fe){return void 0===Fe.control.properties.descriptor}function m(Fe){return!!Fe.type}function v(Fe){return"card"===Fe.type}function e(Fe){return"group"===Fe.type}function h(Fe){return"slice"===Fe.type}function n(Fe){return"host"===Fe.source}function o(Fe){return v(Fe)}function u(Fe){return e(Fe)}function a(Fe){return h(Fe)}function l(Fe,ee){return{name:Fe,source:"host",type:"card",suppressDefaultValue:ee}}function b(Fe,ee){return{name:Fe,source:"host",type:"slice",suppressDefaultValue:ee}}function f(Fe){return"visual"===Fe.source}function g(Fe){return v(Fe)}function S(Fe){return e(Fe)}function y(Fe){return h(Fe)}function D(Fe,ee){return{name:Fe,source:"visual",type:"slice",suppressDefaultValue:ee}}function T(Fe,ee){return Fe+"-"+ee}function R(Fe){var ee={};for(var k in Fe)if(_.isString(k)){var Ce={},re=Fe[k].properties;for(var Ie in re)_.isString(Ie)?Ce[Ie]={objectName:k,propertyName:Ie}:c.fF.assertFail('Expected propertyName "'.concat(Ie,'" to be a string'));ee[k]=Ce}else c.fF.assertFail('Expected objectName "'.concat(k,'" to be a string'));return ee}var B=function(){function Fe(){for(var ee=[],k=0;k<arguments.length;k++)ee[k]=arguments[k];this.cards=ee}return Fe.prototype.addCards=function(){for(var ee,k=[],Ce=0;Ce<arguments.length;Ce++)k[Ce]=arguments[Ce];return(ee=this.cards).push.apply(ee,k),this},Fe.prototype.withWarnings=function(ee){return this.warnings=ee,this},Fe.prototype.build=function(){var ee=this;return{cards:this.cards.reduce(function(Ce,J){if(!J)return Ce;var re;if(!(re=_.isFunction(J)?J():J))return Ce;if(_.isArray(re))for(var Ie=0,ot=re;Ie<ot.length;Ie++){var we=ot[Ie];we&&(m(we)||(he=ee.shouldDisableCard(we,ee.disabledCards))&&(we=(0,t.__assign)((0,t.__assign)({},we),{disabled:he.disabled,disabledReason:he.disabledReason})),Ce.push(we))}else{var he,Te=re;m(Te)||(he=ee.shouldDisableCard(Te,ee.disabledCards))&&(Te=(0,t.__assign)((0,t.__assign)({},Te),{disabled:he.disabled,disabledReason:he.disabledReason})),Ce.push(Te)}return Ce},[]),warnings:this.warnings}},Fe.prototype.withDisabledCards=function(ee){return this.disabledCards=ee,this},Fe.prototype.shouldDisableCard=function(ee,k){var Ce=null==k?void 0:k[ee.uid];if(Ce)return{disabled:!0,disabledReason:Ce.disabledReason}},Fe}();function x(Fe){var ee=Fe.uid.split(" "),k=function(Fe){return new A(Fe)}(ee[0]);return k.withGroup(ee[1])}var A=function(){function Fe(ee){this.cardName=ee,this.groupNames=new Set}return Fe.prototype.build=function(){return(0,i.Jj)(this.cardName)},Fe.prototype.withGroup=function(ee){var k=this;return void 0===ee&&(ee="default"),c.fF.assert(function(){return!k.groupNames.has(ee)},'Already have group "'.concat(ee,'"')),this.groupNames.add((0,i.Jj)(ee)),new I(this,ee)},Fe}(),I=function(){function Fe(ee,k){this.cardUidBuilder=ee,this.groupName=k,this.sliceNames=new Set}return Fe.getGroupUid=function(ee){var k=ee.split("-");return c.fF.assert(function(){return k.length>=2},"GroupUid must have at least two sections in the uid"),"".concat(k[k.length-1])},Fe.prototype.build=function(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var ee=(0,i.Jj)(this.groupName);return"".concat(this.cardUid,"-").concat(ee)},Fe.prototype.withSlice=function(ee){return this.sliceNames.add(ee),new O(this,ee)},Fe.prototype.withContainer=function(ee){return new F(this,ee)},Fe}(),w=function(){function Fe(ee,k){this.containerUidBuilder=ee,this.itemName=k,this.sliceNames=new Set,this.groupNames=new Set}return Fe.prototype.build=function(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var ee=(0,i.Jj)(this.itemName);return"".concat(this.containerUid,"-").concat(ee)},Fe.prototype.withSlice=function(ee){return this.sliceNames.add(ee),new O(this,ee)},Fe.prototype.withGroup=function(ee){return void 0===ee&&(ee="default"),this.groupNames.add(ee),new I(this,ee)},Fe.prototype.withContainer=function(ee){return new F(this,ee)},Fe}(),F=function(){function Fe(ee,k){this.groupUidBuilder=ee,this.containerName=k}return Fe.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var ee=(0,i.Jj)(this.containerName);return"".concat(this.groupUid,"-").concat(ee)},Fe.prototype.withContainerItem=function(ee){return new w(this,ee)},Fe}(),O=function(){function Fe(ee,k){this.groupUidBuilder=ee,this.sliceName=k}return Fe.getGroupAndSliceUid=function(ee){var k=ee.split("-");return c.fF.assert(function(){return k.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(k[k.length-2],"-").concat(k[k.length-1])},Fe.getSliceUid=function(ee){var k=ee.split("-");return c.fF.assert(function(){return k.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(k[k.length-1])},Fe.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var ee=(0,i.Jj)(this.sliceName);return"".concat(this.groupUid,"-").concat(ee)},Fe}(),L=function(){function Fe(ee,k,Ce,J,re,Ie){void 0===re&&(re=!0),this.uidBuilder=ee,this.displayName=k,this.localize=J,this.localizeDisplayName=re,this.analyticsPane=Ie,this.suppressDisplayName=!1,this.groups=[],Ce&&(this.revertToDefaultDescriptors=_.isArray(Ce)?Ce:_.values(Ce))}return Fe.prototype.withDisabled=function(ee,k){return this.disabled=ee,this.disabledReason=k?this.localize(k):void 0,this},Fe.prototype.withDisabledLocalized=function(ee,k){return this.disabled=ee,this.disabledReason=k,this},Fe.prototype.withDescription=function(ee){return this.description=ee,this},Fe.prototype.withAliasName=function(ee){var k;return this.aliasNames=null!==(k=this.aliasNames)&&void 0!==k?k:[],this.aliasNames.push(this.localize(ee)),this},Fe.prototype.withGroups=function(ee){return this.groups=ee,this},Fe.prototype.addGroupPlaceholder=function(ee){return this.groups.push(ee),this},Fe.prototype.addGroup=function(ee,k){var Ce=this.getGroupBuilder(ee);return k(Ce),this.groups.push(Ce.build()),this},Fe.prototype.getGroupBuilder=function(ee){var k=this;return void 0===ee&&(ee="default"),new W(this.uidBuilder.withGroup(ee),function(Ce){return k.localize(Ce)})},Fe.prototype.addTopLevelToggle=function(ee,k,Ce){var J=this.uidBuilder.withGroup("topLevelToggle").withSlice(ee),re=k(),ot=new be({control:re,localize:this.localize,uidBuilder:J});return Ce&&Ce(ot),this.topLevelToggle=ot.build(),this},Fe.prototype.assertDescriptorsAreAdded=function(){if(this.revertToDefaultDescriptors){var ee=[];this.groups.forEach(function(J){!m(J)&&J.slices&&J.slices.forEach(function(re){m(re)||ee.push(re)})});var k=new Set,Ce="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(function(J){return k.add(J.objectName+"-"+J.propertyName)}),ee.forEach(function(J){if(!m(J))if(V(J)){var re=J.control.properties;Object.keys(re).forEach(function(we){var he,Te=null===(he=re[we])||void 0===he?void 0:he.descriptor;if(void 0!==Te){var Oe=Te.objectName+"-"+Te.propertyName;c.fF.assert(function(){return k.has(Oe)},"".concat(Ce," ").concat(Oe?"- missing '".concat(Oe,"'"):""))}})}else{var Ie=J.control.properties.descriptor,ot=Ie.objectName+"-"+Ie.propertyName;c.fF.assert(function(){return k.has(ot)},"".concat(Ce," ").concat(ot?"- missing '".concat(ot,"'"):""))}})}},Fe.prototype.build=function(){var ee=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:ee,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}},Fe}(),W=function(){function Fe(ee,k){this.uidBuilder=ee,this.localize=k,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}return Fe.prototype.withContainer=function(ee){return this.container=ee,this},Fe.prototype.withContainerDisabled=function(ee){return void 0===ee&&(ee=!0),this.containerDisabled=ee,this.sliceWithContainer=!0,this},Fe.prototype.withDescription=function(ee){return this.description=ee,this},Fe.prototype.withAliasName=function(ee){var k;return this.aliasNames=null!==(k=this.aliasNames)&&void 0!==k?k:[],this.aliasNames.push(this.localize(ee)),this},Fe.prototype.withInheritDisabled=function(ee){return this.inheritDisabled=ee,this},Fe.prototype.withDelaySaveSlices=function(){return this.delaySaveSlices=!0,this},Fe.prototype.withCollapsible=function(ee){return void 0===ee&&(ee=!0),this.collapsible=ee,this},Fe.prototype.withDisplayName=function(ee,k){return void 0===k&&(k=!0),this.displayName=k?ee?this.localize(ee):void 0:ee,this.suppressDisplayName=!1,this},Fe.prototype.withSlices=function(ee){var k=this;return this.slices=_.map(ee,function(Ce){if(m(Ce))return Ce;var re=k.uidBuilder.withSlice(Ce.uid).build();return(0,t.__assign)((0,t.__assign)({},Ce),{uid:re})}),this},Fe.prototype.withDisabled=function(ee,k){return this.disabled=ee,this.disabledReason=k?this.localize(k):void 0,this},Fe.prototype.addSlicePlaceholder=function(ee){return this.slices.push(ee),this},Fe.prototype.addSlice=function(ee){return this.slices.push(ee),this},Fe.prototype.addSimpleSlice=function(ee,k,Ce){var J=this.getSliceName(ee),re=_.isFunction(k)?k():k,Ie=this.getSimpleSliceBuilder(J,re);return Ce&&Ce(Ie),this.slices.push(Ie.build()),this},Fe.prototype.addCompositeSlice=function(ee,k,Ce,J){var re=_.isFunction(Ce)?Ce():Ce,Ie=this.getCompositeSliceBuilder(ee,k,re);return J&&J(Ie),this.slices.push(Ie.build()),this},Fe.prototype.addSlices=function(ee){return this.slices=this.slices.concat(ee),this},Fe.prototype.getSimpleSliceBuilder=function(ee,k){var Ce=this.getSliceName(ee),J=this.uidBuilder.withSlice(Ce);return new te({control:k,localize:this.localize,uidBuilder:J})},Fe.prototype.addTopLevelToggle=function(ee,k,Ce){var J=this.uidBuilder.withSlice(ee),re=k(),ot=new be({control:re,localize:this.localize,uidBuilder:J});return Ce&&Ce(ot),this.topLevelToggle=ot.build(),this},Fe.prototype.getCompositeSliceBuilder=function(ee,k,Ce){var J=this.getSliceName(ee),re=this.uidBuilder.withSlice(J);return new Q({control:Ce,displayName:k,localize:this.localize,uidBuilder:re})},Fe.prototype.getSliceName=function(ee){if(_.isString(ee))return(0,i.Jj)(ee);var Ce=ee;return"".concat(Ce.objectName,"-").concat(Ce.propertyName)},Fe.prototype.addContainer=function(ee,k){var Ce=this.getContainerBuilder(ee);return k(Ce),this.container=Ce.build(),this},Fe.prototype.getContainerBuilder=function(ee){return new z(this.uidBuilder.withContainer(ee),this.localize)},Fe.prototype.build=function(){var ee,k=null!==(ee=this.displayName)&&void 0!==ee?ee:"";return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:k,collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}},Fe}(),U=function(Fe){function ee(){return null!==Fe&&Fe.apply(this,arguments)||this}return(0,t.__extends)(ee,Fe),ee.prototype.build=function(){return Fe.prototype.build.call(this)},ee}(W),j=function(){function Fe(ee,k,Ce){this.uidBuilder=ee,this.displayName=k,this.localize=Ce,this.slices=[],this.groups=[]}return Fe.prototype.withSlices=function(ee){var k=this;return this.slices=_.map(ee,function(Ce){return k.updatedSlice(Ce)}),this},Fe.prototype.addSimpleSlice=function(ee,k,Ce){var J=this.getSliceName(ee),re=_.isFunction(k)?k():k,Ie=this.getSimpleSliceBuilder(J,re);return Ce&&Ce(Ie),this.slices.push(Ie.build()),this},Fe.prototype.addCompositeSlice=function(ee,k,Ce,J){var re=_.isFunction(Ce)?Ce():Ce,Ie=this.getCompositeSliceBuilder(ee,k,re);return J&&J(Ie),this.slices.push(Ie.build()),this},Fe.prototype.getSimpleSliceBuilder=function(ee,k){var Ce=this.getSliceName(ee),J=this.uidBuilder.withSlice(Ce);return new te({control:k,localize:this.localize,uidBuilder:J})},Fe.prototype.getCompositeSliceBuilder=function(ee,k,Ce){var J=this.getSliceName(ee),re=this.uidBuilder.withSlice(J);return new Q({control:Ce,displayName:k,localize:this.localize,uidBuilder:re})},Fe.prototype.addContainer=function(ee,k){var Ce=this.getContainerBuilder(ee);return k(Ce),this.container=Ce.build(),this},Fe.prototype.getContainerBuilder=function(ee){return new z(this.uidBuilder.withContainer(ee),this.localize)},Fe.prototype.getSliceName=function(ee){if(_.isString(ee))return ee;var Ce=ee;return"".concat(Ce.objectName,"-").concat(Ce.propertyName)},Fe.prototype.withGroups=function(ee){var k=this;return this.groups=_.map(ee,function(Ce){var J=Ce.uid,re=k.uidBuilder.withGroup(J).build();return(0,t.__assign)((0,t.__assign)({},Ce),{uid:re,slices:_.map(Ce.slices,function(Ie){return k.updatedSlice(Ie,J)})})}),this},Fe.prototype.updatedSlice=function(ee,k){if(m(ee))return ee;var Ce=ee.uid,re=(k?this.uidBuilder.withGroup(k):this.uidBuilder).withSlice(Ce).build();return(0,t.__assign)((0,t.__assign)({},ee),{uid:re})},Fe.prototype.addGroup=function(ee,k){var Ce=ee?(0,i.Jj)(ee):void 0,J=this.getGroupBuilder(Ce);return k(J),this.groups.push(J.build()),this},Fe.prototype.getGroupBuilder=function(ee){return void 0===ee&&(ee="default"),new U(this.uidBuilder.withGroup(ee),this.localize)},Fe.prototype.withDefaultSelected=function(ee){return this.defaultSelected=ee,this},Fe.prototype.build=function(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build()}},Fe}(),z=function(){function Fe(ee,k){this.uidBuilder=ee,this.localize=k,this.suppressDisplayName=!0,this.containerItems=[]}return Fe.prototype.withDisplayName=function(ee){return this.displayName=ee,this.suppressDisplayName=!1,this},Fe.prototype.withDescription=function(ee){return this.description=ee,this},Fe.prototype.addContainerItem=function(ee,k,Ce){var J=(0,i.Jj)(ee),re=this.getContainerItemBuilder(J,k);return Ce(re),this.containerItems.push(re.build()),this},Fe.prototype.getContainerItemBuilder=function(ee,k){var Ce="".concat(s).concat(ee).concat(p);return new j(this.uidBuilder.withContainerItem(Ce),k,this.localize)},Fe.prototype.build=function(){var ee=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:ee,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},Fe}(),G=function(){function Fe(ee){this.control=ee.control,this.localize=ee.localize,this.uidBuilder=ee.uidBuilder}return Fe.prototype.withDisabled=function(ee,k){return this.disabled=ee,this.disabledReason=k?this.localize(k):void 0,this},Fe.prototype.withHidden=function(ee){return this.hidden=ee,this},Fe}(),te=function(Fe){function ee(k){return Fe.call(this,k)||this}return(0,t.__extends)(ee,Fe),ee.prototype.withCustomDisplayName=function(k,Ce){return void 0===Ce&&(Ce=!0),this.displayName=Ce?this.localize(k):k,this},ee.prototype.withSuppressDisplayName=function(k){return this.suppressDisplayName=k,this},ee.prototype.withCustomDescription=function(k,Ce){return void 0===Ce&&(Ce=!0),c.fF.assertValue(k,"description"),this.description=Ce?this.localize(k):k,this},ee.prototype.withCustomDescriptionIf=function(k,Ce,J){return void 0===J&&(J=!0),k()?this.withCustomDescription(Ce,J):this},ee.prototype.withAliasName=function(k){var Ce;return this.aliasNames=null!==(Ce=this.aliasNames)&&void 0!==Ce?Ce:[],this.aliasNames.push(this.localize(k)),this},ee.prototype.withInfoIconText=function(k){return this.infoIconText=k,this},ee.prototype.build=function(){var k=this;return c.fF.assert(function(){return!!k.control},"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}},ee}(G),Q=function(Fe){function ee(k){var Ce=Fe.call(this,k)||this;return Ce.displayName=k.displayName,Ce.description=k.description,Ce}return(0,t.__extends)(ee,Fe),ee.prototype.withInfoIconText=function(k){return this.infoIconText=k,this},ee.prototype.withAliasName=function(k){var Ce;return this.aliasNames=null!==(Ce=this.aliasNames)&&void 0!==Ce?Ce:[],this.aliasNames.push(this.localize(k)),this},ee.prototype.withSuppressDisplayName=function(k){return this.suppressDisplayName=k,this},ee.prototype.build=function(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},ee}(G),H=function(){function Fe(){}return Fe.prototype.withDisplayName=function(ee,k,Ce){return this.description=k,this.displayName=ee,this.suppressDisplayName=Ce,this},Fe.prototype.withUid=function(ee){return this.uid=T(ee.objectName,ee.propertyName),this},Fe.prototype.withControlProperties=function(ee){return this.control=ee,this},Fe.prototype.withDisabled=function(ee){return void 0===ee&&(ee=!0),this.disabled=ee,this},Fe.prototype.build=function(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}},Fe}(),de=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"AlignmentGroup",properties:this.properties}},Fe}(),Y=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"EmptyControl",properties:this.properties}},Fe}(),se=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"FlagsSelection",properties:this.properties}},Fe}(),ce=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"ColorPicker",properties:this.properties}},Fe}(),pe=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"ConditionalFormattingControl",properties:this.properties}},Fe}(),ve=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"DatePicker",properties:this.properties}},Fe}(),De=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"Dropdown",properties:this.properties}},Fe}(),We=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"DurationPicker",properties:this.properties}},Fe}(),Ae={minValue:{type:0,value:8},maxValue:{type:1,value:60}},_e=function(){function Fe(){}return Fe.prototype.withFontSizeProperties=function(ee){var J,k=ee.options,Ce=(0,t.__assign)({},Ae);J=k?(0,t.__assign)((0,t.__assign)({},Ce),k):Ce;var re=(0,t.__assign)((0,t.__assign)({},ee),{options:J});return this.fontSize=re,this},Fe.prototype.withFontFamily=function(ee){return this.fontFamily=ee,this},Fe.prototype.withBold=function(ee){return this.bold=ee,this},Fe.prototype.withItalic=function(ee){return this.italic=ee,this},Fe.prototype.withUnderline=function(ee){return this.underline=ee,this},Fe.prototype.build=function(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}},Fe}(),le=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"GradientBar",properties:this.properties}},Fe}(),Z=function(){function Fe(ee){this.properties=ee}return Fe.prototype.withHiddenScale=function(ee,k){return this.hideFitImage=ee,this.defaultScalingValue=k,this},Fe.prototype.build=function(){return{type:"ImageUpload",properties:(0,t.__assign)((0,t.__assign)({},this.properties),{imageScalingProperties:{defaultScalingValue:this.defaultScalingValue,hideFitImage:this.hideFitImage}})}},Fe}(),ie=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"Link",properties:this.properties}},Fe}(),me=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"SeriesDialogLink",properties:this.properties}},Fe}(),ye=function(){function Fe(){}return Fe.prototype.withLeft=function(ee){return this.left=ee,this},Fe.prototype.withRight=function(ee){return this.right=ee,this},Fe.prototype.withTop=function(ee){return this.top=ee,this},Fe.prototype.withBottom=function(ee){return this.bottom=ee,this},Fe.prototype.build=function(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},Fe}(),oe=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){var ee=this.properties;return null==ee.placeholderText&&(ee=(0,t.__assign)({},ee)),{type:"NumUpDown",properties:ee}},Fe}(),X=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"ReadOnlyText",properties:this.properties}},Fe}(),ue=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"ErrorRangeControl",properties:this.properties}},Fe}(),Se=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"FieldPicker",properties:this.properties}},Fe}(),Be=function(){function Fe(ee){this.properties=ee}return Fe.getTransparencySliderBuilder=function(ee,k){var Ie={descriptor:ee.descriptor,value:ee.value,localize:ee.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new Fe(k?k(Ie):Ie)},Fe.getRotationSliderBuilder=function(ee,k){var Ie={descriptor:ee.descriptor,value:ee.value,localize:ee.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new Fe(k?k(Ie):Ie)},Fe.prototype.build=function(){var ee=(0,t.__assign)({},this.properties);return delete ee.localize,{type:"Slider",properties:ee}},Fe}(),Ke=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"ShapeMapSelector",properties:this.properties}},Fe}(),Ze=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){var ee=this.properties.placeholder;ee&&(ee=this.properties.localize(ee));var k=(0,t.__assign)((0,t.__assign)({},this.properties),{placeholder:ee});return delete k.localize,{type:"TextArea",properties:k}},Fe}(),qe=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"TextInput",properties:this.properties}},Fe}(),it=function(){function Fe(ee){this.properties=ee}return Fe.prototype.build=function(){return{type:"ToggleSwitch",properties:this.properties}},Fe}(),be=function(Fe){function ee(k){return Fe.call(this,k)||this}return(0,t.__extends)(ee,Fe),ee.prototype.build=function(){var k=this;return c.fF.assert(function(){return!!k.control},"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}},ee.prototype.withNoDefaultImpact=function(k){return this.noDefaultImpact=k,this},ee}(G)},289135:function(ze,K,r){function t(V){return V instanceof Date&&"number"==typeof V.epochTimeStamp}function c(V){var m=new Date(V.getTime());return m.epochTimeStamp=V.epochTimeStamp,m}function i(V,m,v,e,h,n,o){void 0===m&&(m=0),void 0===v&&(v=1),void 0===e&&(e=0),void 0===h&&(h=0),void 0===n&&(n=0),void 0===o&&(o=0);var u=new Date(V,m,v,e,h,n,o);return u.epochTimeStamp=Date.UTC(V,m,v,e,h,n,o),u}function s(V){var m=V;return m.epochTimeStamp=Date.UTC(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),m}function p(V){return s(new Date(V))}r.d(K,{Fg:function(){return s},Fh:function(){return c},M4:function(){return t},tU:function(){return p},yI:function(){return i}})},143509:function(ze,K,r){function t(c){c&&Object.getOwnPropertyNames(c).forEach(function(i){"constructor"!==i&&Object.defineProperty(c,i,{enumerable:!0})})}r.d(K,{y:function(){return t}})},10660:function(ze,K,r){function t(i){var s=_.lastIndexOf(i,".");return s>=0?i.substr(s+1):""}function c(i){var s=_.lastIndexOf(i,".");return s>=0?i.substr(0,s):i}r.d(K,{K:function(){return c},m:function(){return t}})},261374:function(ze,K,r){function t(i){return _.isEmpty(i)||_.isEmpty(i.trim())}function c(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var p=i[0];if(t(p))return p;for(var V=0;V<i.length-1;V++){var m=new RegExp("\\{"+V+"\\}","gm");p=p.replace(m,i[V+1])}return p}r.d(K,{W:function(){return c},g:function(){return t}})},959138:function(ze,K,r){function t(V){return 40===V||38===V||37===V||39===V}function c(V){return"ArrowDown"===V||"ArrowUp"===V||"ArrowRight"===V||"ArrowLeft"===V}function i(V){return 65===V||67===V||88===V||86===V||90===V||89===V}function s(V){return 16===V}function p(V){return 46===V}r.d(K,{FJ:function(){return c},SF:function(){return s},Wl:function(){return t},iZ:function(){return i},rH:function(){return p}})},383052:function(ze,K,r){r.d(K,{DR:function(){return i},GG:function(){return c}});var t=r(978611),c=function(){function p(V){void 0===V&&(V=!1);var m=this;this.promise=new t.a(function(v,e){m.resolver=v,m.rejector=e})}return p.prototype.resolve=function(V){this.resolver(V)},p.prototype.reject=function(V){this.rejector(V)},p}();function i(p){if(t.a.useNativePromise)return Promise.resolve(p);var V=new c(!0);return V.resolve(p),V.promise}},978611:function(ze,K,r){r.d(K,{a:function(){return v}});var t=r(787941);function c(e,h){return new i(e,h)}var i=function(){function e(h,n){this.deferMethod=h,this.drainMethod=n,this.asyncQueue=[],this.processing=!1}return e.prototype.defer=function(h,n){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];t.fF.assertValue(h,"callback"),this.deferMethod?this.deferMethod(h):this.deferInternal(h,n,o)},e.prototype.drain=function(){this.drainMethod?this.drainMethod():this.drainQueue()},e.prototype.deferInternal=function(h,n){for(var o=this,u=[],a=2;a<arguments.length;a++)u[a-2]=arguments[a];!this.processing&&!this.asyncQueue.length&&setTimeout(function(){o.asyncQueue.length>0&&o.drainQueue()},n),this.asyncQueue.push({callback:h,args:u})},e.prototype.drainQueue=function(){this.processing=!0;for(var h=0,n=this.asyncQueue;h<n.length;h++){var o=n[h];o.callback(o.args)}this.asyncQueue.length=0,this.processing=!1},e}(),s=r(826691);function p(e){return e&&_.isObject(e)&&e.then&&_.isFunction(e.then)}function V(e){return p(e)?e.then:null}var v=function(){function e(n,o){var u=this;if(this[h]="Promise",this.timeout=e.ensurePbiTimeout(),this.autoFlush=e.autoFlushInitialized||!!o,this.state={status:0},n){if(e.useNativePromise)return new Promise(n);n(function(a){return e.resolvePromise(u,a)},function(a){return e.rejectPromise(u,a)})}}var h;return e.prototype.then=function(n,o){if(_.isUndefined(n)&&_.isUndefined(o))return this;var u=new e(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:u,onFulfilled:n,onRejected:o}),this.state.status>0&&this.scheduleProcessQueue(),u},e.prototype.catch=function(n){return this.then(null,n)},e.prototype.finally=function(n){return this.then(function(o){return e.handleCallback(o,e.resolve,n)},function(o){return e.handleCallback(o,e.reject,n)})},e.all=function(n,o){if(e.useNativePromise)return Promise.all(n);var u,a,l=new e(function(y,C){u=y,a=C},o),d=[],b=n.length;if(b>0)for(var f=0,g=function(C){var E=n[C];V(E)||(E=e.resolve(E,o)),E.then(function(M){d[C]=M}).catch(function(M){a(M)}).finally(function(){++f===b&&u(d)})},S=0;S<b;S++)g(S);else u(d);return l},e.setUseNativePromise=function(n){e.useNativePromise=n},e.resolvePromise=function(n,o){this.useNativePromise&&this.traceError&&(this.traceError=!1,s.f.error("resolvePromise should not be called when useNativePromise is true")),!n.state.status&&(o===n?n.rejectInternal("Expected promise to be resolved with value other than itself"):n.resolveInternal(o))},e.rejectPromise=function(n,o){this.useNativePromise&&this.traceError&&(this.traceError=!1,s.f.error("rejectPromise should not be called when useNativePromise is true")),!n.state.status&&n.rejectInternal(o)},e.reset=function(){e.usingMicrotask=void 0,e.pbiTimeout=void 0,e.autoFlushInitialized=void 0},e.init=function(n,o,u,a){void 0!==a&&(e.useNativePromise=a)||e.usingMicrotask||(e.autoFlushInitialized=o,u?(e.pbiTimeout=c(function(l){Zone.current.scheduleMicroTask("DO_NOT_USE_PbiPromise.useMicrotask",l)}),e.usingMicrotask=!0):(t.fF.assertValue(n,"pbiTimeout"),e.pbiTimeout=n||e.pbiTimeout))},e.resolve=function(n,o,u,a){if(e.useNativePromise)return Promise.resolve(n);var l=new e(null,o);return e.resolvePromise(l,n),l.then(null!=u?u:null,a)},e.reject=function(n,o){return e.useNativePromise?Promise.reject(n):new e(function(u,a){return a(n)},o)},e.prototype.defer=function(n){t.fF.assert(function(){return _.isFunction(n)},"callback"),this.autoFlush&&this.state.status>0?n():(t.fF.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(n,0))},e.prototype.resolveInternal=function(n){var u,o=this;try{(u=V(n))?(this.state.status=-1,u.call(n,function(a){o.resolveInternal(a)},function(a){o.rejectInternal(a)})):(this.state.value=n,this.state.status=1,this.scheduleProcessQueue())}catch(a){this.rejectInternal(a)}},e.prototype.rejectInternal=function(n){this.state.value=n,this.state.status=2,this.scheduleProcessQueue()},e.prototype.scheduleProcessQueue=function(){var n=this.state;n.processScheduled||_.isEmpty(n.pending)||(n.processScheduled=!0,this.defer(function(){return e.processQueue(n)}))},e.ensurePbiTimeout=function(){var n=e.pbiTimeout;return n||(n=e.pbiTimeout=c()),n},e.handleCallback=function(n,o,u){var a=null;try{_.isFunction(u)&&(a=u())}catch(l){return e.reject(l)}return p(a)?a.then(function(l){return o(n)},e.reject):o(n)},e.processQueue=function(n){var o=n.pending;n.processScheduled=!1,n.pending=void 0;for(var u=0,a=o;u<a.length;u++){var l=a[u],d=l.result,b=void 0;b=1===n.status?l.onFulfilled:b,b=2===n.status?l.onRejected:b;try{_.isFunction(b)?e.resolvePromise(d,b(n.value)):1===n.status?e.resolvePromise(d,n.value):e.rejectPromise(d,n.value)}catch(f){e.rejectPromise(d,f)}}},h=Symbol.toStringTag,e.useNativePromise=!0,e.traceError=!0,e}()},144900:function(ze,K,r){r.d(K,{B:function(){return s},J:function(){return i}});var t=r(787941),c=r(121157),i=function(){function V(v){var e=this;if(this[m]="Promise",V.useNativePromise)return new window.Promise(v);this.defer=V.ensureFactory().defer(),v(function(h){return e.onResolve(h)},function(h){return e.onReject(h)})}var m;return V.prototype.then=function(v,e){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==e,this.defer.promise.then(v,e)},V.prototype.catch=function(v){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==v,this.defer.promise.catch(v)},V.prototype.finally=function(v){return this.defer.promise.finally(v)},V.init=function(v,e,h,n){t.fF.assertValue(v,"promiseFactory"),t.fF.assertAnyValue(e,"exceptionHandler"),t.fF.assert(function(){return h||!V.defaultFactoryWasProvided},"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=n&&(V.useNativePromise=n),V.factory=v,V.exceptions=e,V.defaultFactoryWasProvided=!1},V.setUseNativePromise=function(v){V.useNativePromise=v},V.ensureFactory=function(){var v=V.factory;return v||(v=V.factory=(0,c.p)(),V.defaultFactoryWasProvided=!0),v},V.resolve=function(v){return V.useNativePromise?window.Promise.resolve(v):new V(function(e,h){return e(v)})},V.reject=function(v){return V.useNativePromise?window.Promise.reject(v):new V(function(e,h){return h(v)})},V.allSettled=function(v){return V.useNativePromise?window.Promise.allSettled(v):new V(function(e,h){var n=v.length;if(n>0)for(var o=[],u=0;u<n;u++)v[u].then(function(a){return o.push({value:a,type:0})}).catch(function(a){return o.push({value:a,type:1})}).finally(function(){o.length===n&&e(o)});else e([])})},V.prototype.onResolve=function(v){var e=this;t.fF.assertAnyValue(v,"value"),function(V){return V&&_.isFunction(V.then)}(v)?v.then(function(h){return e.onResolve(h)},function(h){return e.onReject(h)}):this.defer.resolve(v)},V.prototype.onReject=function(v){if(t.fF.assertAnyValue(v,"error"),!this.hasRejectionHandling&&v instanceof Error&&!v.suppressExceptionHandler){var e=V.exceptions;e&&(v.suppressExceptionHandler=!0,e(v))}this.defer.reject(v)},m=Symbol.toStringTag,V.useNativePromise=!0,V}(),s=function(){function V(){var m=this;this.promise=new i(function(v,e){m.resolver=v,m.rejector=e})}return V.prototype.resolve=function(m){this.resolver(m)},V.prototype.reject=function(m){this.rejector(m)},V}()},569071:function(ze,K,r){r.d(K,{AD:function(){return a},Ay:function(){return b},I2:function(){return V},Iu:function(){return i},O7:function(){return p},OH:function(){return c},Pu:function(){return g},aI:function(){return v},bL:function(){return n},fg:function(){return f},jL:function(){return l},lO:function(){return o},nd:function(){return u},y4:function(){return s}});var t=r(787941),c=1e-6;function i(S,y){return t.fF.assertValue(S,"x"),t.fF.assertValue(y,"y"),"translate("+S+","+y+")"}function s(S){return t.fF.assertValue(S,"x"),"translateX("+S+"px)"}function p(S,y){return t.fF.assertValue(S,"x"),t.fF.assertValue(y,"y"),"translate("+S+"px,"+y+"px)"}function V(S,y,C,E,D){return t.fF.assertValue(S,"x"),t.fF.assertValue(y,"y"),t.fF.assertValue(C,"px"),t.fF.assertValue(E,"py"),t.fF.assertValue(D,"angle"),"translate("+S+","+y+") rotate("+D+","+C+","+E+")"}function v(S,y,C){return t.fF.assertValue(S,"x"),t.fF.assertValue(y,"y"),t.fF.assertValue(C,"ratio"),"translate("+S+","+y+") scale("+C+")"}function h(S){return function(){S.forEach(function(y){null!=y&&y.each(function(){var C;if(null!=this.__transition){if(_.some(this.__transition,function(w){return 0===w.state})){var E=d3.select(this);return void requestAnimationFrame(h([E]))}for(var D=this.__transition||{},M=0,T=Object.keys(D);M<T.length;M++){var B=D[T[M]];B&&(null===(C=B.timer)||void 0===C||C._call());for(var x=0,A=B.on._.end;x<A.length;x++)A[x].value.apply(this)}}})})}}function n(S){for(var y=[],C=1;C<arguments.length;C++)y[C-1]=arguments[C];if(S){var E=S,D=S;D.animation&&(E=D.animation),E&&E.transitionImmediate&&(_.isEmpty(y)||requestAnimationFrame(h(y)))}}function o(S){isNaN(S.x)&&(S.x=0),isNaN(S.y)&&(S.y=0)}function u(S){if(!S||0===S.length)return{x:"0",y:"0"};var y=S.split(/[\s,]+/);t.fF.assertValue(y,"translateCoordinates"),t.fF.assert(function(){return y.length>0},"translate array must atleast have one value");var E,C="0",D=y[0];if(1===y.length)E=D.substring(10,D.length-1);else{var P=y[1];C=P.substring(0,P.length-1),E=D.substring(10,D.length)}return{x:E,y:C}}function a(S,y,C){var D="M0 0";return D+="L0 "+y,{path:D+="L"+S+" "+y/2+" Z",transform:"rotate("+C+" "+S/2+" "+y/2+")"}}function l(S){var y;try{y=S.getBBox()}catch(C){}return y||{x:0,y:0,width:0,height:0}}function b(S){return _.map(S,function(E,D){return function(D){return 1==(1&D)?",":0===D?"M":"L"}(D)+E}).join("")+"z"}function f(S,y){if(!(S.length<4||S.length%2!=0)){var C=_.map(S,function(N){return Math.round(N*y)}),E=[],D=C[0],P=C[1];E.push(D),E.push(P);for(var M=2;M<C.length;M+=2){var T=C[M],R=C[M+1];Math.abs(D-T)+Math.abs(P-R)<2||(E.push(T),E.push(R))}return b(E)}}function g(S,y,C){if("vectorEffect"in document.documentElement.style)return C;var E=S.split(" ");return t.fF.assert(function(){return 4===E.length},"viewBox must be of length 4"),C*(Math.max(+E[2],+E[3])/y)}},565146:function(ze,K,r){r.d(K,{DJ:function(){return p},DQ:function(){return d},Fj:function(){return b},HH:function(){return c},MN:function(){return E},ZY:function(){return M},av:function(){return C},en:function(){return y},fS:function(){return g},gU:function(){return i},mA:function(){return f},oB:function(){return S},pU:function(){return s},wo:function(){return m}});var t=r(516619);function c(N,x){if(void 0===x&&(x=!0),_.isEmpty(N))return!1;var A=y(N);if(!A)return!1;switch(T(A.scheme)){case C.http:case C.https:return x||!_.isEmpty(A.host);default:return!1}}function i(N){return c(N)}function s(N){return!(!N||0!==N.indexOf("data:"))}function p(N){if(!s(N))throw new Error("Expected data uri");var x=";base64,",A=N.indexOf(x);if(A<0)throw new Error("Expected base 64 content in data url");var I=A+x.length;return N.substr(I,N.length-I)}function m(N){return x=N,"data:application/json;base64,"+d(x);var x}var o=t.AK||function(N){return N&&N.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,function(x,A,I){return String.fromCharCode(parseInt(A||I,16))})},u=t.YU||function(N){return N&&N.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,function(x){var A=x.charCodeAt(0).toString(16).toUpperCase();switch(A.length){case 1:return"%0"+A;case 2:return"%"+A;case 3:return"%u0"+A;default:return"%u"+A}})};function d(N){return btoa(function(N){return o(encodeURIComponent(N))}(N))}function b(N){return function(N){return decodeURIComponent(u(N))}(atob(N))}function f(N){var x=R(N);if(x)return B(x)}function g(N,x,A){void 0===A&&(A=!1);var I=S(N),w=I.baseUrl;if(A&&_.assign(x,I.queryParameters),_.isEmpty(x))return w;var F=[];for(var O in x){var L=x[O];if(null==L)F.push(encodeURIComponent(O));else if("string"==typeof L)F.push(encodeURIComponent(O)+"="+encodeURIComponent(L));else for(var W=0,U=L;W<U.length;W++){var j=U[W];F.push(encodeURIComponent(O)+"="+encodeURIComponent(j))}}return w+"?"+F.join("&")}function S(N){var x=R(N);return{baseUrl:x?N.slice(0,N.indexOf("?")):N,queryParameters:B(x)}}function y(N){var x={scheme:"",host:"",path:"",query:"",fragment:""};if(null==N)return x;var A=N.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return A?{scheme:A[1],host:A[2],path:A[3],query:A[4],fragment:A[5]}:x}var C=function(N){return N[N.NONE=0]="NONE",N[N.http=1]="http",N[N.https=2]="https",N[N.file=3]="file",N[N.ftp=4]="ftp",N[N.mailto=5]="mailto",N[N.news=6]="news",N[N.telnet=7]="telnet",N}({});function E(N){var x=y(N);return null==x||null==x.scheme?C.NONE:T(x.scheme)}var P=/https?:\/\/[^\/]+/i;function M(N){return N&&N.replace(P,"")}function T(N){if(_.isEmpty(N))return C.NONE;switch(N.toLowerCase()){case"http":return C.http;case"https":return C.https;case"file":return C.file;case"ftp":return C.ftp;case"mailto":return C.mailto;case"news":return C.news;case"telnet":return C.telnet;default:return C.NONE}}function R(N){var x=document.createElement("a");return x.href=N,x.search}function B(N){if(!N)return{};_.startsWith(N,"?")&&(N=N.substring(1));for(var A={},I=0,w=N.split("&");I<w.length;I++){var O=w[I].split("="),L=decodeURIComponent(O[0]),W=decodeURIComponent(O[1]),U=A[L];null==U?A[L]=W:"string"==typeof U?A[L]=[U,W]:U.push(W)}return A}},240849:function(ze,K,r){r.d(K,{sE:function(){return m},bY:function(){return h},r:function(){return v},ql:function(){return l},iD:function(){return e}});var t=r(787941),c=/\n+/g,i=/[\s\n]+/g,s=/([^\S\r\n])/g,p=" ";function V(S,y,C){if(C){for(var E=S-1;E>-1;E--)if(v(y[E]))return E+1}else{E=S;for(var D=y.length;E<D;E++)if(v(y[E]))return E}return C?0:y.length}function m(S,y){t.fF.assert(function(){return S>=0&&S<=y.length},"index within content string bounds");var C={start:0,end:0};return 0===y.length||(C.start=V(S,y,!0),C.end=V(S,y,!1)),C}function v(S){return i.lastIndex=0,i.test(S)}function e(S){var y=1;for(i.lastIndex=0,i.exec(S);0!==i.lastIndex;)y++,i.exec(S);return y}function h(S,y,C){for(var D=0,P=0,M=g(S);P<M.length;P++)C.text=M[P],D=Math.max(D,y(C));return D}function n(S,y,C){return y.text=S,C(y)}var u=function(){function S(){this.words=[],this.width=0}return S.prototype.getWidth=function(){return this.width},S.prototype.addWord=function(y,C){this.words.push(y),this.width+=C},S.prototype.toString=function(y){return this.words.join(y?"":p)},S.prototype.isEmpty=function(){return _.isEmpty(this.words)},S}(),a=function(){function S(){this.lastLine=new u,this.lines=[this.lastLine]}return S.prototype.newLine=function(){var y=this.lastLine;return this.lastLine=new u,this.lines.push(this.lastLine),y},Object.defineProperty(S.prototype,"count",{get:function(){return this.lines.length},enumerable:!1,configurable:!0}),S.prototype.getLastLine=function(){return this.lastLine},S.prototype.getLastLineWidth=function(){return this.getLastLine().getWidth()},S.prototype.addWord=function(y,C){this.lastLine.addWord(y,C)},S.prototype.getLines=function(){return this.lines},S}();function l(S,y,C,E,D,P,M,T,R){if(void 0===R&&(R=!1),!S)return[""];if("string"!=typeof S&&(S=String(S)),t.fF.assert(function(){return"string"==typeof S},"splitByWidth: content should be of type string"),D<1&&(D=Number.POSITIVE_INFINITY),T){for(var N=[],x=0,A=S.split(c);x<A.length;x++){var w=l(A[x],y,C,E,Math.max(1,D),P,M,!1,R);if(D>0)N.push.apply(N,w||[]),D-=w.length;else{var F=_.last(N);N[N.length-1]=F+p+w}}return N}P=P||function(ve,De){return ve.text};for(var O=n(p,y,C),L=new a,U=0,j=g(S,R);U<j.length;U++){var z=j[U],G=n(z,y,C),te=G,Q=L.getLastLine().isEmpty();if(!Q&&z!==p&&(te+=O),L.getLastLineWidth()+te<=E||L.count>=D)L.addWord(z,te);else if(Q||L.newLine(),G<=E)L.addWord(z,G);else{var H=D-L.count;if(!M||H<=0)L.addWord(z,G);else for(var de=d(z,y,C,E,H+1),Y=0,se=de.chunks.length;Y<se;Y++){var ce=de.chunks[Y];Y<se-1?(L.addWord(ce,E),L.newLine()):L.addWord(ce,de.lastChunkWidth)}}}var pe=_.map(L.getLines(),function(ve){return ve.getWidth()>E?function(S,y,C,E){return y.text=S,C(y,E)}(ve.toString(R),y,P,E):ve.toString(R)});return pe}function d(S,y,C,E,D){var P={chunks:[],lastChunkWidth:0};if(D<1||0===S.length)return P;for(var M=function(S,y,C){return S.text="a",Math.floor(C/y(S))}(y,C,E),T=S,R=function(){if(P.chunks.length===D-1)return P.chunks.push(T),P.lastChunkWidth=n(T,y,C),"break";var x=function(S,y,C,E,D){if(_.isEmpty(S))return{sizeInCharacters:0,sizeInPixels:0};if(0===E)return{sizeInCharacters:1,sizeInPixels:n(S.substr(0,1),y,C)};for(var M={sizeInCharacters:0,sizeInPixels:0},T=Math.min(D,S.length),R=-1,B=S.length+1;R<B-1;){var N=n(S.substr(0,T),y,C),x=N/E;if(N<=E){R=T,M.sizeInCharacters=T,M.sizeInPixels=N;var A=x>0?Math.ceil(T/x):T+1;A=Math.max(A,T+1),T=A=Math.min(A,B-1)}else B=T,A=x>0?Math.floor(T/x):T-1,A=Math.min(A,T-1),T=A=Math.max(A,R+1)}return 0===M.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:n(S.substr(0,1),y,C)}:M}(T,y,C,E,M);M=x.sizeInCharacters;var A=x.sizeInCharacters;if(t.fF.assert(function(){return A<=T.length},"Chunk size is greater than the whole text"),P.chunks.push(T.substr(0,A)),P.lastChunkWidth=x.sizeInPixels,A===T.length)return"break";T=T.substr(A,T.length-A)};T.length>0&&"break"!==R(););return P}function g(S,y){return y&&(S=S.replace(c,"")),S.split(y?s:i)}},710545:function(ze,K,r){r.d(K,{l:function(){return c}});var c=new(function(){function i(){}return i.prototype.initialize=function(s){this.runOutsideAngular=function(p){return s.runOutsideAngular(p)}},i.prototype.setInterval=function(s,p){return this.runOutsideAngular(function(){return setInterval(s,p)})},i.prototype.setTimeout=function(s,p){return this.runOutsideAngular(function(){return setTimeout(s,p)})},i.prototype.requestAnimationFrame=function(s){this.runOutsideAngular(function(){return requestAnimationFrame(s)})},i.prototype.runOutsideAngular=function(s){return s()},i}())},883863:function(ze,K,r){r.d(K,{Br:function(){return l},EB:function(){return s},Gz:function(){return E},JG:function(){return e},JN:function(){return A},Jq:function(){return d},LF:function(){return R},NF:function(){return h},Rl:function(){return L},U1:function(){return u},UR:function(){return a},UU:function(){return F},X_:function(){return G},ZH:function(){return M},bv:function(){return f},cq:function(){return o},dB:function(){return B},f1:function(){return z},g2:function(){return y},iv:function(){return w},pT:function(){return x},qn:function(){return v},rC:function(){return S},rY:function(){return I},rd:function(){return N},rm:function(){return n},s_:function(){return W},w6:function(){return m},x:function(){return O},yg:function(){return C},z8:function(){return g}});var t=r(787941);function s(te){for(var Q=[],H=0,de=te.length;H<de;H++){var Y=te[H];-1===Q.indexOf(Y)&&Q.push(Y)}return Q}function m(te,Q,H){t.fF.assert(function(){return Q>=0&&Q<te.length},"startIndex is out of range."),t.fF.assert(function(){return H>=0&&H<te.length},"endIndex is out of range.");for(var de=[],Y=Q;Y<=H;++Y)de.push(te[Y]);return de}function v(te,Q){t.fF.assert(function(){return Q>=0},"Count is negative."),t.fF.assert(function(){return Q<=te.length},"Count is too large.");for(var H=[],de=0;de<Q;++de)H.push(te[de]);return H}function e(te){return t.fF.assertValue(te,"source"),v(te,te.length)}function h(te,Q,H){var de;if(te||(te=null),Q||(Q=null),te===Q)return!0;if(!!te!=!!Q)return!1;var Y=null!==(de=null==te?void 0:te.length)&&void 0!==de?de:0;if(Y!==(null==Q?void 0:Q.length))return!1;for(var se=0;se<Y&&H(null==te?void 0:te[se],null==Q?void 0:Q[se]);)++se;return se===Y}function n(te){return te&&0===te.length?null:te}function o(te,Q){t.fF.assertValue(te,"array"),t.fF.assertValue(Q,"predicate");for(var H=0,de=te.length;H<de;++H)if(Q(te[H]))return H;return-1}function u(te,Q){if(0===Q)return te.slice();var H=te.slice(Q);return Array.prototype.push.apply(H,te.slice(0,Q)),H}function a(){return l([])}function l(te){t.fF.assertValue(te,"array");var Q=te;return Q.withId=b,Q}function d(te,Q){for(var H=0,de=te.length;H<de;H++){var Y=te[H];if(Y.id===Q)return Y}}function b(te){return d(this,te)}function f(){return g([])}function g(te){t.fF.assertValue(te,"array");var Q=te;return Q.withName=P,Q}function S(te,Q){var H=y(te,Q);if(H>=0)return te[H]}function y(te,Q){for(var H=0,de=te.length;H<de;H++)if(te[H].name===Q)return H;return-1}function C(te,Q){t.fF.assertValue(te,"list"),t.fF.assertValue(Q,"value");for(var de=te.length-1;de>=0;de--){var Y=te[de]-Q;if(0===Y)return!1;if(!(Y>0))return te.splice(de+1,0,Q),!0}return te.unshift(Q),!0}function E(te,Q){t.fF.assertValue(te,"list"),t.fF.assertValue(Q,"value");for(var H=0,de=te;H<de.length;H++)if(de[H]===Q)return!1;return te.push(Q),!0}function P(te){return S(this,te)}function M(te){if(te)for(;te.length>0;)te.pop()}function R(te,Q,H){var de=te[Q];te[Q]=te[H],te[H]=de}function B(te,Q,H){return _.some(te,function(de){return H(de,Q)})}function N(te){t.fF.assertValue(te,"obj");for(var Q=te;null!=Q;){if(_.isArray(Q))return!0;Q=Object.getPrototypeOf(Q)}return!1}function x(te,Q){t.fF.assertValue(te,"values"),t.fF.assertValue(Q,"compareFunction");var H=te.length;if(H>=2)for(var de=1;de<H;de++)if(Q(te[de-1],te[de])>0)return!1;return!0}function A(te,Q){return t.fF.assertValue(te,"values"),t.fF.assertAnyValue(Q,"descendingOrder"),x(te,Q?function(de,Y){return Y-de}:function(de,Y){return de-Y})}function I(te){return _.isArray(te)?te:[te]}function w(te){return _.uniqBy(te,function(Q){return Q.name}).length===te.length}function F(te,Q){t.fF.assertValue(te,"array");for(var H,de=0,Y=te.length;de<Y;de++){var se=te[de],ce=Q(se);se!==ce&&!H&&(H=v(te,de)),H&&H.push(ce)}return H||te}function O(te,Q){t.fF.assertValue(te,"array");for(var H,de=0,Y=te.length;de<Y;de++){var se=te[de],ce=Q(se,de),pe=1!==ce.length||ce[0]!==se;pe&&!H&&(H=v(te,de)),H&&(pe?H.push.apply(H,ce||[]):H.push(se))}return H||te}function L(te,Q){t.fF.assertValue(te,"array");for(var H,de=0,Y=te.length;de<Y;de++){var se=te[de],ce=Q(se,de);!ce&&!H&&(H=v(te,de)),H&&ce&&H.push(se)}return H||te}function W(te,Q,H){return _.isEmpty(te)||_.isEmpty(Q)?_.isEmpty(te)&&_.isEmpty(Q):te.length===Q.length&&function(te,Q,H){for(var de=new Array(Q.length),Y=0,se=te;Y<se.length;Y++){for(var ce=se[Y],pe=!1,ve=0;ve<Q.length;ve++)if(!de[ve]&&H(ce,Q[ve])){pe=!0,de[ve]=!0;break}if(!pe)return!1}return!0}(te,Q,H)}function z(te,Q,H){if(_.isEmpty(te)||_.isEmpty(Q))return[];for(var de=[],Y=0;Y<=te.length;Y++){de[Y]=[];for(var se=0;se<=Q.length;se++)de[Y][se]=0===Y||0===se?0:H(te[Y-1],Q[se-1])?de[Y-1][se-1]+1:Math.max(de[Y-1][se],de[Y][se-1])}for(var ce=[],pe=de[te.length][Q.length],ve=te.length,De=Q.length;ve>0&&De>0;)H(te[ve-1],Q[De-1])?(ce[pe-1]=te[ve-1],ve--,De--,pe--):de[ve-1][De]>de[ve][De-1]?ve--:De--;return ce}function G(te,Q){t.fF.assertValue(te,"dictionary");for(var H,de=Object.getOwnPropertyNames(te),Y=0,se=de.length;Y<se;Y++){var ce=de[Y],pe=te[ce],ve=Q(ce,pe);pe!==ve&&!H&&(H=_.pick(te,v(de,Y))),H&&(H[ce]=ve)}return H||te}},325333:function(ze,K,r){r.d(K,{Bm:function(){return V},Gx:function(){return d},Hx:function(){return l},N6:function(){return e},RU:function(){return h},Vh:function(){return i},e$:function(){return n},hC:function(){return f},j:function(){return m},jK:function(){return p},mB:function(){return o},nE:function(){return v},qw:function(){return b},xs:function(){return g},zd:function(){return s}});var t=r(226514),c=r(787941);function i(S){return!(!S||!S.performanceActivities)}var s="Client Error Code",p="Error Code",V="Error Details",m="HTTP Request Id",v="Job Id",e="OData Error Message",h="Stack Trace",n="QueryCacheMissError",o=function(){function S(y){this.code=y,this.ignorable=!1,c.fF.assertValue(y,"code")}return S.prototype.getDetails=function(y){return{resourceKey:"ClientError_UnknownClientErrorKey",message:y.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:y.get("ClientError_UnknownClientErrorKey"),errorInfoValue:y.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:s,errorInfoValue:this.code}]}},S}(),u={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},a={RLSNotAuthorizedForModel:u,NotAuthorizedForImpersonation:u,TokenExpired:{localizedMessage:"ClientError_TokenExpired"}};function l(S){return null!=S&&void 0!==S.code&&void 0!==S.ignorable&&void 0!==S.requestId&&void 0!==S.getDetails}var d=function(){function S(y,C,E,D,P){this.statusCode=y,this.httpRequestId=C,this.detailedErrorCode=E,this.detailedMessage=D,this.source=P,c.fF.assertValue(y,"httpStatusCode")}return Object.defineProperty(S.prototype,"code",{get:function(){return this.detailedErrorCode||"HttpClientError"},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"httpStatusCode",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),S.prototype.getDetails=function(y){var C=this.detailedErrorCode&&a[this.detailedErrorCode];if(C){var E=C.localizedMessage,D=C.additionalInfoKey||"DsrError_Key",P=C.additionalInfoValue||E||"DsrError_UnknownErrorValue",M=C.helpLinkInfo;return{resourceKey:D,message:E?y.get(E):null,displayableErrorInfo:[{errorInfoKey:y.get(D),errorInfoValue:y.get(P)}],debugErrorInfo:[],helpLink:M&&M.helpLink,helpLinkType:M&&M.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(y)},S.prototype.getGenericErrorDetails=function(y){var C={resourceKey:"DsrError_Key",message:y.get("ServerError_NetworkConnectionIssue"),displayableErrorInfo:[{errorInfoKey:y.get("DsrError_Key"),errorInfoValue:y.get("DsrError_UnknownErrorValue")},{errorInfoKey:y.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:m,errorInfoValue:this.httpRequestId},{errorInfoKey:s,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&C.debugErrorInfo&&C.debugErrorInfo.push({errorInfoKey:V,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&C.debugErrorInfo&&C.debugErrorInfo.push({errorInfoKey:p,errorInfoValue:this.detailedErrorCode}),C},S}(),b=function(){function S(y){this.debugInfo=y,this.code=S.Code,this.ignorable=!0}return S.prototype.getDetails=function(y){return{message:"",displayableErrorInfo:[]}},S.Code="IgnorableClientError",S}(),f=function(S){function y(C){var E=S.call(this,"QueryCancellationClientError: "+C)||this;return E.cancellationSource=C,E}return(0,t.__extends)(y,S),Object.defineProperty(y.prototype,"queryCancellationSource",{get:function(){return this.cancellationSource},enumerable:!1,configurable:!0}),y}(b),g=function(){function S(){this.errorCode=n}return Object.defineProperty(S.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),S.prototype.getDetails=function(y){return{message:y.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:y.get("ServiceError_QueryExecutionRequired"),errorInfoValue:y.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:y.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:s,errorInfoValue:this.code}]}},S}()},177497:function(ze,K,r){r.d(K,{$Q:function(){return P},A7:function(){return d},Bx:function(){return l},HO:function(){return R},HS:function(){return g},TD:function(){return u},U1:function(){return i},U8:function(){return a},WV:function(){return p},X6:function(){return M},_j:function(){return e},b9:function(){return h},ci:function(){return s},cu:function(){return f},iC:function(){return N},jd:function(){return E},ok:function(){return S},rJ:function(){return n}});var t=r(787941),c=r(764365);function i(x,A){if(0===A)return x;var I=p(x);if(I){var w=V(I);if(w){var F=function(x,A){var I=x.H+A;return{H:I>1?I-1:I,S:x.S,V:x.V}}(w,A);if(F){var O=m(F);if(O)return l(O)}}}}function s(x){var A=p(x);if(A)return l(A)}function p(x){if(x.indexOf("#")>=0){if(7===x.length)return null==(A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(x))||A.length<4?void 0:{R:parseInt(A[1],16),G:parseInt(A[2],16),B:parseInt(A[3],16)};if(4===x.length)return null==(A=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(x))||A.length<4?void 0:{R:parseInt(A[1]+A[1],16),G:parseInt(A[2]+A[2],16),B:parseInt(A[3]+A[3],16)}}else{var A;if(x.indexOf("rgb(")>=0)return null==(A=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(x))||A.length<4?void 0:{R:parseInt(A[1],10),G:parseInt(A[2],10),B:parseInt(A[3],10)};if(x.indexOf("rgba(")>=0)return null==(A=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(x))||A.length<5?void 0:{R:parseInt(A[1],10),G:parseInt(A[2],10),B:parseInt(A[3],10),A:parseFloat(A[4])}}}function V(x){if(x){var A,I,w=x.R/255,F=x.G/255,O=x.B/255,L=Math.min(w,Math.min(F,O)),W=Math.max(w,Math.max(F,O)),j=W-L;return 0===W||0===j?(A=0,I=0):(A=j/W,I=w===W?(F-O)/j:F===W?2+(O-w)/j:4+(w-F)/j),(I/=6)<0&&(I+=1),{H:I,S:A,V:W}}}function m(x){var A,I,w,W,U,j,z,G,te,O=x.S,L=x.V;if(0===O)A=L,I=L,w=L;else switch(W=L*(1-O),U=L*(1-O*(z=(te=6*x.H)-(G=Math.floor(te)))),j=L*(1-O*(1-z)),G){case 0:A=L,I=j,w=W;break;case 1:A=U,I=L,w=W;break;case 2:A=W,I=L,w=j;break;case 3:A=W,I=U,w=L;break;case 4:A=j,I=W,w=L;break;case 5:A=L,I=W,w=U;break;default:return void t.fF.assertFail("unexpected")}return{R:Math.floor(255*A),G:Math.floor(255*I),B:Math.floor(255*w)}}function e(x,A){var I=Math.floor(A);return{R:Math.max(0,x.R-I),G:Math.max(0,x.G-I),B:Math.max(0,x.B-I)}}function h(x,A){return x.A=A,x}function n(x){var A=p(x);if(A)return function(x){return _.isNumber(x.A)?Math.round(100*(1-x.A)):0}(A)}function u(x){return 1-x/100}function a(x){return null==x.A?"rgb("+x.R+","+x.G+","+x.B+")":"rgba("+x.R+","+x.G+","+x.B+","+x.A+")"}function l(x){return"#"+D(x.R)+D(x.G)+D(x.B)}function d(x){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(x)}function f(x){return/^#[0-9a-f]{6}$/i.test(x)}function g(x){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(x)}function S(x,A,I){var w=p(x),F=p(I);if(w&&F)return l(function(x,A,I){return A=(0,c.QO)(A,0,1),{R:C(x.R,A,I.R),G:C(x.G,A,I.G),B:C(x.B,A,I.B)}}(w,A,F))}function C(x,A,I){return A=(0,c.QO)(A,0,1),x=(0,c.QO)(x,0,255),I=(0,c.QO)(I,0,255),Math.round(A*x+(1-A)*I)}function E(x,A,I){var w=V(x);if(w){(A+I>1||A<=0||I<=0)&&(t.fF.assert(function(){return!1},"Invalid lumianceThreshold and highlightColor adjusting delta."),A=.8,I=.2),w.V=w.V<A?w.V+I:w.V-I;var F=m(w);if(F)return l(F)}}function D(x){var I=(0,c.QO)(x,0,255).toString(16).toUpperCase();return 1===I.length?"0"+I:I}function P(x,A,I){t.fF.assert(function(){return x.length===A.length},"createLinearColorScale - domain and range must be the same size"),t.fF.assert(function(){return x.length>1},"createLinearColorScale - domain and range must contain at least 2 values");var w=A.map(function(F){return p(F)});return function(F){if(null==F&&(F=0),!isNaN(F)){if(I){var O=_.last(x);if(null==O||F>=O)return _.last(A);if(F<=x[0])return A[0]}for(var L,W,U,j,z=1,G=x.length;z<G;z++){if(W=x[z],(L=x[z-1])===Number.NEGATIVE_INFINITY&&isNaN(W))return A[z];if(isNaN(L)||isNaN(W))return;if(F===W)return A[z];if(F>=L&&F<=W){U=w[z-1],j=w[z];break}}if(void 0!==L&&void 0!==W&&void 0!==U&&void 0!==j)return l({R:T(F,L,W,U.R,j.R),G:T(F,L,W,U.G,j.G),B:T(F,L,W,U.B,j.B)})}}}function M(x,A){void 0===A&&(A=.25),t.fF.assert(function(){return A>0&&A<=.5},"valueOffset must be positive and less than 0.5");var w=V(p(x));if(w){w.V=w.V>1-A?1-A:w.V<A?A:w.V;var F=_.clone(w),O=_.clone(w);F.V=Math.min(w.V+A,1),O.V=Math.max(w.V-A,0);var L=m(F),W=m(O);if(L&&W)return P([0,1],[l(L),l(W)],!0)}}function T(x,A,I,w,F){return A===Number.NEGATIVE_INFINITY&&I===Number.POSITIVE_INFINITY?Math.round((F+w)/2):A===Number.NEGATIVE_INFINITY?F:I===Number.POSITIVE_INFINITY?w:Math.round(w+(x-A)*(F-w)/(I-A))}function R(x,A){var I=parseInt(x.slice(1),16),w=A<0?0:255,F=A<0?-1*A:A,O=I>>16,L=I>>8&255,W=255&I;return"#"+(16777216+65536*(Math.round((w-O)*F)+O)+256*(Math.round((w-L)*F)+L)+(Math.round((w-W)*F)+W)).toString(16).slice(1)}var B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function N(x){return t.fF.assertValue(x,"getWebColorValue - colorName"),B[x.toLocaleLowerCase()]}},251912:function(ze,K,r){r.d(K,{U:function(){return i},Xy:function(){return s},fA:function(){return t},md:function(){return c}});var t="foreground",c="foregroundDark",i="background",s="backgroundNeutral"},489470:function(ze,K,r){function t(p,V){!0!==p&&s(V||"condition: "+p)}function c(p,V){null==p&&s(V||"condition: "+p)}function s(p){throw new Error("Contract check failed: "+p)}r.d(K,{BF:function(){return t},bG:function(){return s},wS:function(){return c}})},787941:function(ze,K,r){r.d(K,{fF:function(){return c}}),r(226514);var c=function(){function p(){}return p.setAssertFailFunction=function(V){p.assertFailFunction=V},p.assert=function(V,m){},p.setAssert=function(V){p.assert=V},p.assertValue=function(V,m){},p.assertNonEmpty=function(V,m){},p.assertAnyValue=function(V,m){},p.assertFail=function(V){},p.log=function(V){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v]},p.logDebug=function(V){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v]},p.warn=function(V){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v]},p.assertNever=function(V){},p.breakDebugger=function(){},p.execute=function(V){},p.isDisabled=function(){return this.disbaled},p.disable=function(){window.DEBUG=!1,this.disbaled=!0},p.disbaled=!1,p}(),s=!1;s||(window.debug=c,window.DEBUG=!1,s=!0)},516619:function(ze,K,r){r.d(K,{AK:function(){return s},YU:function(){return i},x9:function(){return p}});var i=window.escape,s=window.unescape;function p(V){}},831917:function(ze,K,r){function t(){return window.powerbi||(window.powerbi={}),window.powerbi}function c(){var p=t();return p.common||(p.common={}),p.common}function i(){var p=t();return p.visuals||(p.visuals={}),p.visuals}function s(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}r.d(K,{Z7:function(){return i},hG:function(){return c},kx:function(){return s},wg:function(){return t}})},803018:function(ze,K,r){r.d(K,{Wn:function(){return s},_b:function(){return V},bw:function(){return p}});var i=function(){function e(h){this.families=h}return Object.defineProperty(e.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),e.prototype.getFamily=function(){return this.families.join(", ")},Object.defineProperty(e.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),e.prototype.getCSS=function(){return this.families?this.families.map(function(h){return h.indexOf(" ")>-1?"'".concat(h,"'"):h}).join(", "):null},e}(),s={light:new i(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new i(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new i(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new i(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new i(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new i(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new i(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new i(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new i(["PowerVisuals"])},p={"Segoe UI Light":s.light,"Segoe UI Semilight":s.semilight,"Segoe UI":s.regular,"Segoe UI Semibold":s.semibold,"Segoe (Bold)":s.bold,"Segoe UI Bold":s.bold,DIN:s.regularSecondary,"DIN Light":s.lightSecondary,Heading:s.light,Body:s.regular};function V(e,h){return void 0===h&&(h=!0),null==e||""===e?e:-1===e.indexOf(",")?-1===e.indexOf(" ")?e:h?function(e){if(e)return'"'+e.replace(/['"]+/g,"")+'"'}(e):function(e){if(e)return e.replace(/['"]+/g,"")}(e):e.split(",").map(function(o){return V(o.trim(),h)}).join(", ")}},564809:function(ze,K,r){r.d(K,{U:function(){return t}});var t=function(i,s,p,V){this.left=i||0,this.top=s||0,this.width=p||0,this.height=V||0}},786277:function(ze,K,r){r.d(K,{Sp:function(){return m},ao:function(){return o},fS:function(){return i},oY:function(){return n}});var t=r(307172);function i(u,a){return null!=u&&null!=a&&u.x===a.x&&u.y===a.y}function m(u,a){if(null===u||null===a)return null;var l=a.x-u.x,d=a.y-u.y;return Math.sqrt(l*l+d*d)}function n(u,a,l){var d=(a.y-u.y)*(l.x-a.x)-(a.x-u.x)*(l.y-a.y);return 0===d?t.i.Colinear:d>0?t.i.Clockwise:t.i.Counterclockwise}function o(u,a,l){return l.x<=Math.max(u.x,a.x)&&l.x>=Math.min(u.x,a.x)&&l.y<=Math.max(u.y,a.y)&&l.y>=Math.min(u.y,a.y)}},423794:function(ze,K,r){function b(f,g){if(f&&g)return{x:g.x-f.x,y:g.y-f.y}}r.d(K,{Au:function(){return b}})},344888:function(ze,K,r){r.d(K,{$X:function(){return b},Az:function(){return A},BD:function(){return M},F2:function(){return V},H6:function(){return I},HL:function(){return T},I:function(){return m},IH:function(){return d},Oq:function(){return h},WN:function(){return w},d9:function(){return u},f6:function(){return e},fS:function(){return o},hT:function(){return n},rr:function(){return f},w3:function(){return v},wf:function(){return R}});var t=r(787941),c=r(764365);function V(F){return F.left+F.width}function m(F){return F.top+F.height}function v(F){return{x:F.left,y:F.top}}function e(F){return{x:F.left+F.width,y:F.top}}function h(F){return{x:F.left,y:F.top+F.height}}function n(F){return{x:F.left+F.width,y:F.top+F.height}}function o(F,O){return null!=O&&F.left===O.left&&F.top===O.top&&F.width===O.width&&F.height===O.height}function u(F){return null!==F?{left:F.left,top:F.top,width:F.width,height:F.height}:null}function d(F,O){return t.fF.assertValue(F,"rect"),t.fF.assertValue(O,"rect2"),{left:F.left+O.left,top:F.top+O.top,height:F.height+O.height,width:F.width+O.width}}function b(F,O){return t.fF.assertValue(F,"rect"),t.fF.assertValue(O,"rect2"),{left:F.left-O.left,top:F.top-O.top,height:F.height-O.height,width:F.width-O.width}}function f(F,O){var L=u(F);return L?(O&&(L.left-=O.left,L.top-=O.top,L.width+=O.left+O.right,L.height+=O.top+O.bottom),L):null}function M(F,O,L){return void 0===L&&(L=!1),null!==F&&null!==O&&(L?(0,c.Po)(F.left,O.x)&&(0,c.Po)(O.x,F.left+F.width)&&(0,c.Po)(F.top,O.y)&&(0,c.Po)(O.y,F.top+F.height):(0,c.bl)(F.left,O.x)&&(0,c.bl)(O.x,F.left+F.width)&&(0,c.bl)(F.top,O.y)&&(0,c.bl)(O.y,F.top+F.height))}function T(F,O){return!(!F||!O||O.left>F.left+F.width||O.left+O.width<F.left||O.top>F.top+F.height||O.top+O.height<F.top)}function R(F,O){if(!F)return O;if(!O)return F;var L=Math.max(F.left,O.left),W=Math.max(F.top,O.top),U=Math.min(F.left+F.width,O.left+O.width),j=Math.min(F.top+F.height,O.top+O.height);return L<=U&&W<=j?{left:L,top:W,width:U-L,height:j-W}:{left:0,top:0,width:0,height:0}}function A(F){return{x:F.left+F.width/2,y:F.top+F.height/2}}function I(F,O){var L=O.width||0,W=O.height||0;F.left+F.width>L&&(F.left=Math.max(L-F.width,0)),F.top+F.height>W&&(F.top=Math.max(W-F.height,0)),F.left=Math.max(0,F.left),F.top=Math.max(0,F.top)}function w(F,O,L,W){return void 0!==F&&void 0!==O&&void 0!==L&&void 0!==W&&(t.fF.assert(function(){return F<=O},"Lower bound for range should not be greater than upper bound."),t.fF.assert(function(){return L<=W},"Lower bound for range should not be greater than upper bound."),(0,c.bl)(F,W)&&(0,c.bl)(L,O))}},373644:function(ze,K,r){r.d(K,{m:function(){return s}});var t=r(307172),c=r(786277),i=r(344888),s=function(){function p(V){V&&(this.polygonPoints=this.convertArrayPathToPoints(V))}return p.fromPolygonPoints=function(V){var m=new p(null);return m.polygonPoints=V,m},p.prototype.absoluteCentroid=function(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid},p.prototype.absoluteBoundingRect=function(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect},p.prototype.contains=function(V){var v={x:V.left+V.width,y:V.top},e={x:V.left,y:V.top+V.height},h={x:V.left+V.width,y:V.top+V.height};return this.inside({x:V.left,y:V.top})&&this.inside(v)&&this.inside(e)&&this.inside(h)},p.prototype.conflicts=function(V){if(!this.isConflictWithBoundingBox(V))return!1;var v={x:V.left+V.width/2,y:V.top},e={x:V.left+V.width,y:V.top},h={x:V.left,y:V.top+V.height},n={x:V.left+V.width/2,y:V.top+V.height},o={x:V.left+V.width,y:V.top+V.height},u={x:V.left,y:V.top+V.height/2},a={x:V.left+V.width,y:V.top+V.height/2};return this.inside({x:V.left,y:V.top})||this.inside(v)||this.inside(e)||this.inside(h)||this.inside(n)||this.inside(o)||this.inside(u)||this.inside(a)},p.prototype.lineIntersectionPoint=function(V,m){for(var v=0;v<this.polygonPoints.length;v++){var n=this.getLineIntersection(V,m,this.polygonPoints[v],v===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[v+1]);if(null!==n)return n}return null},p.calculateAbsolutePolygonArea=function(V){var m,v=1,e=0;for(m=0;m<V.length;m++)e+=V[m].x*V[v].y-V[v].x*V[m].y,v=(v+1)%V.length;return.5*e},p.prototype.overlapPath=function(V){if(this.inside({x:V[0],y:V[1]}))return!0;var m=new p(V);if(m.inside(this.polygonPoints[0]))return!0;for(var v=0;v<this.polygonPoints.length;v++)if(m.lineIntersectionPoint(this.polygonPoints[v],this.polygonPoints[(v+1)%this.polygonPoints.length]))return!0;return!1},p.prototype.inside=function(V){for(var m=V.x,v=V.y,e=!1,h=0,n=this.polygonPoints.length-1;h<this.polygonPoints.length;n=h++){var o=this.polygonPoints[h].x,u=this.polygonPoints[h].y,l=this.polygonPoints[n].y;u>v!=l>v&&m<(this.polygonPoints[n].x-o)*(v-u)/(l-u)+o&&(e=!e)}return e},p.translateX=function(V,m){for(var v=new Float64Array(2*V.polygonPoints.length),e=0;e<V.polygonPoints.length;e++)v[2*e]=V.polygonPoints[e].x+m,v[2*e+1]=V.polygonPoints[e].y;return new p(v)},p.polygonBoundsOverlap=function(V,m){var v=(0,i.WN)(p.getPolyBoundLeft(V),p.getPolyBoundRight(V),p.getPolyBoundLeft(m),p.getPolyBoundRight(m)),e=(0,i.WN)(p.getPolyBoundLower(V),p.getPolyBoundUpper(V),p.getPolyBoundLower(m),p.getPolyBoundUpper(m));return v&&e},p.circleRectangleOverlap=function(V,m,v){var e=Math.max(V.left,Math.min(m.x,V.right)),h=Math.min(V.bottom,Math.max(m.y,V.top)),n=e-m.x,o=h-m.y;return n*n+o*o<=v*v},p.linesIntersect=function(V,m,v,e,h){void 0===h&&(h=!0);var n=(0,c.oY)(V,m,v),o=(0,c.oY)(V,m,e),u=(0,c.oY)(v,e,V),a=(0,c.oY)(v,e,m);return n!==o&&u!==a||!!h&&!!(n===t.i.Colinear&&(0,c.ao)(V,m,v)||o===t.i.Colinear&&(0,c.ao)(V,m,e)||u===t.i.Colinear&&(0,c.ao)(v,e,V)||a===t.i.Colinear&&(0,c.ao)(v,e,m))},p.resize=function(V,m){if(0===m)return V;for(var v=p.calculateAbsolutePolygonArea(V.polygonPoints)>0,h=_.clone(m>0&&!0===v||m<0&&!1===v?V.polygonPoints.reverse():V.polygonPoints),n=V.absoluteCentroid(),o=[],u=0;u<h.length;u++){var a=h[u],l=h[(u+1)%h.length],d=l.y-a.y,b=void 0;0!==d&&(b=-(l.x-a.x)/d);var f=0;_.isUndefined(b)||(f=(a.y<l.y?-1:1)*Math.sqrt(m*m/(1+b*b)));var g=0;0===f?g=(a.x>l.x?-1:1)*m:_.isUndefined(b)||(g=b*f);var S={x:a.x+f,y:a.y+g},y={x:0,y:0};0===b?(y.x=S.x,y.y=S.y+10):_.isUndefined(b)||(y.x=S.x+10,y.y=S.y-10/b);var C=(S.x-y.x)*(n.y-a.y)-(S.y-y.y)*(n.x-a.x);if(0!==C){var E={x:((S.x*y.y-S.y*y.x)*(n.x-a.x)-(S.x-y.x)*(n.x*a.y-n.y*a.x))/C,y:((S.x*y.y-S.y*y.x)*(n.y-a.y)-(S.y-y.y)*(n.x*a.y-n.y*a.x))/C};isFinite(E.x)&&isFinite(E.y)&&o.push(E)}}return p.fromPolygonPoints(o)},p.getPolyBoundLeft=function(V){var m;return null===(m=_.minBy(V.polygonPoints,function(v){return v.x}))||void 0===m?void 0:m.x},p.getPolyBoundRight=function(V){var m;return null===(m=_.maxBy(V.polygonPoints,function(v){return v.x}))||void 0===m?void 0:m.x},p.getPolyBoundUpper=function(V){var m;return null===(m=_.maxBy(V.polygonPoints,function(v){return v.y}))||void 0===m?void 0:m.y},p.getPolyBoundLower=function(V){var m;return null===(m=_.minBy(V.polygonPoints,function(v){return v.y}))||void 0===m?void 0:m.y},p.prototype.isConflictWithBoundingBox=function(V){return(0,i.HL)(this.absoluteBoundingRect(),V)},p.prototype.calculatePolygonCentroid=function(){var V,m,v,e,h,n;for(V=p.calculateAbsolutePolygonArea(this.polygonPoints),v=e=0,n=1,h=0;h<this.polygonPoints.length;h++)v+=(this.polygonPoints[h].x+this.polygonPoints[n].x)*(m=this.polygonPoints[h].x*this.polygonPoints[n].y-this.polygonPoints[n].x*this.polygonPoints[h].y),e+=(this.polygonPoints[h].y+this.polygonPoints[n].y)*m,n=(n+1)%this.polygonPoints.length;return{x:v/=6*V,y:e/=6*V}},p.prototype.calculateBoundingRect=function(){for(var V=Number.POSITIVE_INFINITY,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,h=0,n=this.polygonPoints;h<n.length;h++){var o=n[h];o.x<V?V=o.x:o.x>v&&(v=o.x),o.y<m?m=o.y:o.y>e&&(e=o.y)}return{left:V,top:m,width:v-V,height:e-m}},p.prototype.getLineIntersection=function(V,m,v,e){var h=V.x,n=V.y,a=v.x,l=v.y,f=m.x-h,g=m.y-n,S=e.x-a,y=e.y-l,C=(-g*(h-a)+f*(n-l))/(-S*g+f*y),E=(S*(n-l)-y*(h-a))/(-S*g+f*y);return C>=0&&C<=1&&E>=0&&E<=1?{x:h+E*f,y:n+E*g}:null},p.prototype.convertArrayPathToPoints=function(V){for(var m=[],v=0;v<V.length;v+=2)m.push({x:V[v],y:V[v+1]});return m},p}()},11560:function(ze,K,r){r.d(K,{C$:function(){return s},Iq:function(){return e},T7:function(){return m},eg:function(){return i},mH:function(){return V},yf:function(){return p}});var t=r(325333),c=r(509838),i="ServerError_";function s(h,n,o){if(!n)return h;for(var u=0,a=n;u<a.length;u++){var l=a[u],d=o.getOptional(i+l.code),b=l.detail.value;0===l.detail.type&&(b=o.get(i+b)),h.displayableErrorInfo.push({errorInfoKey:d||l.code,errorInfoValue:b})}return h}function p(h,n,o,u,a){var l=h.debugErrorInfo=h.debugErrorInfo||[];return a&&l.push({errorInfoKey:t.j,errorInfoValue:a}),n&&l.push({errorInfoKey:t.zd,errorInfoValue:n}),o&&l.push({errorInfoKey:t.Bm,errorInfoValue:o}),u&&l.push({errorInfoKey:t.RU,errorInfoValue:u}),h}function V(h,n){return{message:h.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:h.get("ServiceError_CannotLoadVisual"),errorInfoValue:n.message}]}}function m(h,n,o,u){var a,l={};if(o)if(_.isArray(o))for(var d=0,b=o;d<b.length;d++){var f=b[d];l[f.Key]=f.Value}else l=o;return a={message:v(h,n,l),displayableErrorInfo:[]},u&&s(a,u,h),a}function v(h,n,o){if(!n)return"";var u,a=h.get(i+n);return a&&(u=a.replace(/\{\s*([^}\s]+)\s*\}/g,function(l,d,b,f){return o[d]})),u}function e(h,n){var d,o="",u="",a="",l="",b=!1;switch(n.errorCode){case c.jt:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("PremiumRequired_TitleText"),a=h.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),b=!0;break;case c.$f:o=h.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),u=h.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),a=v(h,"LargeModelMovedAcrossRegions",n.parameters),l="https://aka.ms/moving-large-datasets",b=!0;break;case c.ts:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelFetchingFailureKey"),a=h.get("DsrError_NoPermissionDueToRLSGroupMessage"),b=!0;break;case c.Fr:case c.x4:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelFetchingFailureKey"),a=h.get("DsrError_CanNotRetrieveModelMessage"),b=!0;break;case c.hR:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelFetchingFailureKey"),a=h.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),b=!0;break;case c.Lb:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelFetchingFailureKey"),a=h.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),b=!0;break;case c.NC:o=h.get("ServiceError_CannotLoadVisual"),u=h.get("ServiceError_AuthenticationErrorKey"),a=h.get("ServiceError_AuthenticationErrorValue"),b=!0;break;case c.Ew:o=h.get("ServiceError_CannotLoadVisual"),u=h.get("ServiceError_AuthenticationErrorKey"),a=h.get("ServiceError_WindowsAuthNotSupportedErrorValue"),b=!0;break;case c.iQ:o=h.get("ServiceError_CannotLoadVisual"),u=h.get("ServiceError_AuthenticationErrorKey"),a=h.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),b=!0;break;case c.zd:o=h.get("UploadPowerBICompanion_AccessDatasetWarning"),b=!0;break;case c.LM:o=h.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),u=h.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),a=h.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),b=!0;break;case c.rW:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("PremiumRequired_TitleText"),a=h.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),b=!0;break;case c.me:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelCannotLoad"),a=h.get("ServerError_CustomerKeyNotAccessible_Report"),b=!0;break;case c.Bm:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelCannotLoad"),a=h.get("ServerError_CustomerKeyVaultError_Report"),b=!0;break;case c.Yu:o=h.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),u=h.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),a=h.get("ServiceError_CapacityOverloadedMessage"),l="https://aka.ms/AboutFabricCapacity",b=!0,d="Capacity_Limit_Exceeded_LearnMore"}if(!b)switch(n.statusCode){case 2:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelConvertFailureKey"),a=h.get("ServiceError_ModelConvertFailureValue");break;case 3:o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelCreationFailureKey"),a=h.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(o=h.get("ServiceError_ModelCannotLoad"),u=h.get("ServiceError_ModelCannotLoad"),n.errorDetails){var f=_.find(n.errorDetails,function(S){return"ModelMode"===S.code});if(f)switch(f.detail.value){case"Internal":a=h.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":a=h.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":a=h.get("ServiceError_ModelConnectFailurePBIServiceValue")}}a||(a=h.get("ServiceError_ModelFetchingFailureValue"));break;case 4:o=h.get("ServiceError_CannotLoadVisual"),u=h.get("ServiceError_ExecuteSemanticQueryErrorKey"),a=h.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:o=h.get("ServiceError_CannotLoadVisual"),u=h.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),a=h.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:o=h.get("ServiceError_GeneralError"),u=h.get("ServiceError_GeneralErrorKey"),a=h.get("ServiceError_GeneralErrorValue")}var g={message:o,displayableErrorInfo:[{errorInfoKey:u,errorInfoValue:a}]};return n.errorCode===c.Yu&&(g.helpLinkType=1),d&&(g.helpLinkOverrideText=d),l&&(g.helpLink=l),g}},16062:function(ze,K,r){r.d(K,{z:function(){return c}});var c=void 0!==window.performance&&window.performance.now&&window.performance.timeOrigin?function(){return window.performance.now()+window.performance.timeOrigin}:Date.now},327260:function(ze,K,r){r.d(K,{n8:function(){return p},sI:function(){return s}});var t=r(787941),c=r(11560),i=r(509838),s=function(){function V(m){this.message=m.message?m.message:"",this.m_serviceError=m}return Object.defineProperty(V.prototype,"code",{get:function(){return this.m_serviceError.errorCode||V.codeName},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"requestId",{get:function(){return this.httpRequestId},set:function(v){this.httpRequestId=v},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"source",{get:function(){var v=this.m_serviceError.exceptionCulprit;if(null!=v)switch(v){case i.jJ:case i.aJ:return"PowerBI";case i.jV:return"External";case i.dB:return"User";default:return t.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),V.prototype.getDetails=function(m){var v;return v=6===this.m_serviceError.statusCode?(0,c.mH)(m,this.m_serviceError):(0,c.Iq)(m,this.m_serviceError),this.m_serviceError.errorDetails&&(0,c.C$)(v,this.m_serviceError.errorDetails,m),(0,c.yf)(v,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),v.source=this.source,v},V.codeName="ServiceErrorToClientError",V}(),p=function(){function V(m){this.innerError=m}return Object.defineProperty(V.prototype,"code",{get:function(){return this.innerError.code},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"source",{get:function(){var v=this.innerError["pbi.error"],e=v&&v.exceptionCulprit;if(null!=e)switch(e){case 0:return"PowerBI";case 2:return"External";case 1:return"User";default:return t.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),V.prototype.getDetails=function(m){var v=this.innerError["pbi.error"];if(v){var e=(0,c.T7)(m,v.code,v.parameters,v.details);return e.source=this.source,e}},V}()},509838:function(ze,K,r){r.d(K,{$f:function(){return c},Bm:function(){return R},EL:function(){return f},Ew:function(){return o},Fr:function(){return s},KX:function(){return S},LM:function(){return g},Lb:function(){return v},NC:function(){return h},QW:function(){return p},Y:function(){return B},YT:function(){return u},Yu:function(){return N},_L:function(){return d},_e:function(){return b},aJ:function(){return E},b$:function(){return e},cq:function(){return a},dB:function(){return D},hR:function(){return m},iQ:function(){return n},jJ:function(){return C},jV:function(){return P},jt:function(){return t},me:function(){return T},qL:function(){return l},rW:function(){return M},ts:function(){return i},x4:function(){return V},zd:function(){return y}});var t="PremiumFilesModelRequiresPremiumCapacity",c="LargeModelMovedAcrossRegions",i="rsAccessDeniedDueToRLSGroup",s="rsCannotRetrieveModel",p="RLSNotAuthorizedForModel",V="CannotRetrieveModelError",m="DMTS_NoGatewayWithAllDatasourcesToBindError",v="DM_GWPipeline_UnknownError",e="DM_GWPipeline_Gateway_GatewayUpgradeRequired",h="pbidAccessDenied",n="pbidWindowsAuthWindowsAuthImpersonationNotSupported",o="pbidWindowsAuthNotSupported",u="PowerBIAdomdErrorResponseExternal",a="PowerBIAdomdErrorResponseSystem",l="PowerBIAdomdErrorResponseUser",d="ConnectionThrottledDueToCapacityOverload",b="DatasourceNotFound",f="DatabaseDoesNotExistOrUserDoesNotHavePermission",g="InsecureLibraryLoadingPatchMissing",S="MaximumAllowableMemoryReached",y="PowerBIServiceLiveConnectModelNotFound",C="System",E="PowerBI",D="User",P="External",M="BYOKEncryptedModelRequiresPremiumCapacity",T="CustomerKeyNotAccessible",R="CustomerKeyVaultError",B="rsOrphanedModel",N="CapacityLimitExceeded"},778186:function(ze,K,r){r.d(K,{FM:function(){return m},VJ:function(){return p},Xr:function(){return c},tm:function(){return e}});var t=r(831917);function c(){return(0,t.wg)().build}function p(){return(0,t.wg)().clientVersion}function m(){return(0,t.wg)().cvUrl}function e(){return(0,t.wg)().visualCDNBlobContainerUrl}},49792:function(ze,K,r){r.d(K,{P:function(){return c}});var t=r(787941);function c(){var s={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"},p=function(){function V(m){this.getLocalized=m,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}return V.prototype.ensureCategoriesArePopulated=function(){if(this.GeotaggingString_Continent)return!0;var m=this.getLocalized,v=m("GeotaggingString_Continent");return null==v?(t.fF.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=v.toLowerCase(),this.GeotaggingString_Continents=m("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=m("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=m("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=m("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=m("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=m("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=m("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=m("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=m("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=m("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=m("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=m("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=m("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=m("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=m("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=m("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=m("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=m("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=m("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=m("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=m("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=m("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=m("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=m("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=m("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=m("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=m("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=m("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=m("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=m("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=m("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=m("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=m("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=m("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=m("GeotaggingString_Territories").toLowerCase(),!0)},V.prototype.isLongitudeOrLatitude=function(m){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(m)||this.isLatitude(m))},V.prototype.isGeographic=function(m){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(m)||this.isGeocodable(m))},V.prototype.isGeocodable=function(m){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(m)||this.isCity(m)||this.isContinent(m)||this.isCountry(m)||this.isCounty(m)||this.isStateOrProvince(m)||this.isPlace(m)||this.isPostalCode(m)||this.isTerritory(m))},V.prototype.isGeoshapable=function(m){return!!this.ensureCategoriesArePopulated()&&(this.isCity(m)||this.isContinent(m)||this.isCountry(m)||this.isCounty(m)||this.isStateOrProvince(m)||this.isPostalCode(m)||this.isTerritory(m)||this.isPlace(m)||this.isGeoshapableEnglish(m))},V.prototype.isGeoshapableEnglish=function(m){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(m)||this.isEnglishContinent(m)||this.isEnglishCountry(m)||this.isEnglishCounty(m)||this.isEnglishStateOrProvince(m)||this.isEnglishPostalCode(m)||this.isEnglishTerritory(m)||this.isEnglishPlace(m))},V.prototype.isAddress=function(m){return V.hasMatches(m,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])},V.prototype.isPlace=function(m){return V.hasMatches(m,[this.GeotaggingString_Place,this.GeotaggingString_Places])},V.prototype.isCity=function(m){return V.hasMatches(m,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])},V.prototype.isStateOrProvince=function(m){return V.hasMatches(m,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])},V.prototype.isCountry=function(m){return V.hasMatches(m,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])},V.prototype.isCounty=function(m){return V.hasMatches(m,[this.GeotaggingString_County,this.GeotaggingString_Counties])},V.prototype.isContinent=function(m){return V.hasMatches(m,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])},V.prototype.isPostalCode=function(m){var v=V.hasMatches(m,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&V.hasMatches(m,[this.GeotaggingString_Code])||V.hasMatches(m,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!v){var e=/\s+/,h=m.replace(e,"");v=V.hasMatches(h,[this.GeotaggingString_PostalCode.replace(e,""),this.GeotaggingString_PostalCodes.replace(e,""),this.GeotaggingString_ZipCode.replace(e,""),this.GeotaggingString_ZipCodes.replace(e,"")])}return v},V.prototype.isLongitude=function(m){return V.hasMatches(m,[this.GeotaggingString_Longitude])||V.hasMatches(m,[this.GeotaggingString_Longitude_Short],!0)||V.hasMatches(m,[this.GeotaggingString_Longitude_Short2],!0)},V.prototype.isLatitude=function(m){return V.hasMatches(m,[this.GeotaggingString_Latitude])||V.hasMatches(m,[this.GeotaggingString_Latitude_Short],!0)},V.prototype.isTerritory=function(m){return V.hasMatches(m,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])},V.hasMatches=function(m,v,e){for(var h=/\W/,n=m.toLowerCase(),o=0,u=v.length;o<u;o++){var a=v[o].toLowerCase();if(e){var l=n.indexOf(a);if(l>-1){var d=void 0,b=void 0;if(d=b=!0,l-1>0&&(b=h.test(n[l-1])),l+a.length<n.length&&(d=h.test(n[l+a.length])),b&&d)return!0}}else if(n.indexOf(a)>-1)return!0}return!1},V.prototype.getFieldType=function(m){if(this.ensureCategoriesArePopulated()&&void 0!==m)return this.isLatitude(m)?"Latitude":this.isLongitude(m)?"Longitude":this.isPostalCode(m)?"PostalCode":this.isAddress(m)?"Address":this.isPlace(m)?"Place":this.isCity(m)?"City":this.isCountry(m)?"Country":this.isCounty(m)?"County":this.isStateOrProvince(m)?"StateOrProvince":this.isContinent(m)?"Continent":this.getEnglishFieldType(m)},V.prototype.getFieldTypeFromDescriptor=function(m){if(null!=m&&null!=m.geography){var v=m.geography;if(v.latitude)return"Latitude";if(v.longitude)return"Longitude";if(v.postalCode)return"PostalCode";if(v.address)return"Address";if(v.place)return"Place";if(v.city)return"City";if(v.country)return"Country";if(v.county)return"County";if(v.stateOrProvince)return"StateOrProvince";if(v.continent)return"Continent"}},V.prototype.isEnglishAddress=function(m){return V.hasMatches(m,[s.GeotaggingString_Address,s.GeotaggingString_Addresses,s.GeotaggingString_Street,s.GeotaggingString_Streets])},V.prototype.isEnglishPlace=function(m){return V.hasMatches(m,[s.GeotaggingString_Place,s.GeotaggingString_Places])},V.prototype.isEnglishCity=function(m){return V.hasMatches(m,[s.GeotaggingString_City,s.GeotaggingString_Cities,s.GeotaggingString_Town,s.GeotaggingString_Towns,s.GeotaggingString_Village,s.GeotaggingString_Villages])},V.prototype.isEnglishStateOrProvince=function(m){return V.hasMatches(m,[s.GeotaggingString_State,s.GeotaggingString_States,s.GeotaggingString_Province,s.GeotaggingString_Provinces,s.GeotaggingString_VRMBackCompat_StateOrProvince])},V.prototype.isEnglishCountry=function(m){return V.hasMatches(m,[s.GeotaggingString_Country,s.GeotaggingString_Countries,s.GeotaggingString_VRMBackCompat_CountryRegion])},V.prototype.isEnglishCounty=function(m){return V.hasMatches(m,[s.GeotaggingString_County,s.GeotaggingString_Counties])},V.prototype.isEnglishContinent=function(m){return V.hasMatches(m,[s.GeotaggingString_Continent,s.GeotaggingString_Continents])},V.prototype.isEnglishPostalCode=function(m){var v=V.hasMatches(m,[s.GeotaggingString_Post,s.GeotaggingString_Zip])&&V.hasMatches(m,[this.GeotaggingString_Code])||V.hasMatches(m,[s.GeotaggingString_PostalCode,s.GeotaggingString_PostalCodes,s.GeotaggingString_ZipCode,s.GeotaggingString_ZipCodes]);if(!v){var e=new RegExp("s");v=V.hasMatches(m,[s.GeotaggingString_PostalCode.replace(e,""),s.GeotaggingString_PostalCodes.replace(e,""),s.GeotaggingString_ZipCode.replace(e,""),s.GeotaggingString_ZipCodes.replace(e,"")])}return v},V.prototype.isEnglishLongitude=function(m){return V.hasMatches(m,[s.GeotaggingString_Longitude])||V.hasMatches(m,[s.GeotaggingString_Longitude_Short],!0)||V.hasMatches(m,[s.GeotaggingString_Longitude_Short2],!0)},V.prototype.isEnglishLatitude=function(m){return V.hasMatches(m,[s.GeotaggingString_Latitude])||V.hasMatches(m,[s.GeotaggingString_Latitude_Short],!0)},V.prototype.isEnglishTerritory=function(m){return V.hasMatches(m,[s.GeotaggingString_Territory,s.GeotaggingString_Territories])},V.prototype.getEnglishFieldType=function(m){if(null!=m){if(this.isEnglishLatitude(m))return"Latitude";if(this.isEnglishLongitude(m))return"Longitude";if(this.isEnglishPostalCode(m))return"PostalCode";if(this.isEnglishAddress(m))return"Address";if(this.isEnglishPlace(m))return"Place";if(this.isEnglishCity(m))return"City";if(this.isEnglishCountry(m))return"Country";if(this.isEnglishCounty(m))return"County";if(this.isEnglishStateOrProvince(m))return"StateOrProvince";if(this.isEnglishContinent(m))return"Continent"}},V}();return{create:function(m){return new p(m)}}}},121157:function(ze,K,r){r.d(K,{O:function(){return s},p:function(){return i}});var c,t=r(787941);function i(){return new p}var s=function(v){return v[v.pending=0]="pending",v[v.resolved=1]="resolved",v[v.rejected=2]="rejected",v}({}),p=function(){function v(){}return v.prototype.defer=function(e){return new V($.Deferred())},v.prototype.reject=function(e){var h=this.defer();return h.reject(e),h.promise},v.prototype.resolve=function(e){var h=this.defer();return h.resolve(e),h.promise},v.prototype.all=function(e){return this.when.apply(this,e).then(function(){return Array.prototype.slice.call(arguments)})},v.prototype.allSettled=function(e){var h=this.defer(),n=e.length;if(n>0)for(var o=0,u=[],a=function(b){e[b].then(function(f){u[b]={value:f,type:0}}).catch(function(f){u[b]={value:f,type:1}}).finally(function(){++o===n&&h.resolve(u)})},l=0;l<n;l++)a(l);else h.resolve([]);return h.promise},v.prototype.when=function(){for(var e=[],h=0;h<arguments.length;h++)e[h]=arguments[h];var n=e.map(function(u){return u&&u.promise?u.promise:u});if(1===n.length){var o=n[0];return null!=o&&o.pipe?new m(o):this.resolve(o)}return new m($.when.apply($,n))},v}(),V=function(){function v(e){t.fF.assertValue(e,"deferred"),this.deferred=e,this.promise=new m(e.promise())}return v.prototype.resolve=function(e){this.deferred.resolveWith(this.deferred.promise,[e])},v.prototype.reject=function(e){this.deferred.rejectWith(this.deferred.promise,[e])},v}(),m=function(){function v(e){this[c]="Promise",t.fF.assertValue(e,"promise"),this.promise=e}return v.prototype.then=function(e,h){var n=v.wrapCallback(e),o=v.wrapCallback(h);return new v(this.promise.pipe(n||null,o))},v.prototype.catch=function(e){return this.then(null,e)},v.prototype.finally=function(e){return this.promise.always(v.wrapCallback(e)),this},v.wrapCallback=function(e){return e&&function(){var h=e.apply(this,arguments);return h instanceof v?h.promise:h}},v}();c=Symbol.toStringTag},376461:function(ze,K,r){r.d(K,{LK:function(){return o},T5:function(){return n},y4:function(){return u}});var V,m,v,B,t=r(826691),c=r(847069),s="`",p=s+s,e=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function n(B,N,x,A){S();var I=v[B];if(!I){R("information","ensuring localStorageCache ".concat(B));var w=m.caches[B];w&&w.version!==N&&(R("information","Clearing old version cache ".concat(B)),M(B),delete m.caches[B],y(),w=void 0),I=new f(B,x,A),v[B]=I,w||(R("information","Adding initial cache metadata for ".concat(B)),m.caches[B]={version:N,size:0,nextId:1,added:Date.now()},y(),E())}return I}function o(B){M(B),S();var N=m.caches[B];N&&(v[B]?m.caches[B]={version:N.version,size:0,nextId:1,added:Date.now()}:delete m.caches[B],y())}function u(B,N){if(B){var x=l(B),A=m.caches[B],I=[],w=0;V.forEach(function(W){if(x.test(W)){var U=V.getData(W);if(U&&U.added){var j=U.id,z=null;null!=j&&(z=d(B,j)),g(A.added)-U.added>N&&(z&&I.push(z),I.push(W),w+=U.size)}}}),A.size-=w,y();for(var F=0,O=I;F<O.length;F++)V.setData(O[F],void 0)}}function a(B,N){return s+B+"-"+N}function l(B){return new RegExp("^`"+B+"-")}function d(B,N){return p+B+"-"+N}V=c.DU,m=B,v={};var f=function(){function B(N,x,A){this.cacheName=N,this.maxSpace=x,this.maxAge=A,this.disabled=!1}return B.prototype.getData=function(N){if(!this.disabled){var x=a(this.cacheName,N),A=V.getData(x),I=A&&A.id;if(null!=I){var w=d(this.cacheName,I),F=m.caches[this.cacheName];if(g(F.added)-A.added<=this.maxAge)return V.getData(w);F.size-=A.size,y(),V.setData(w,void 0),V.setData(x,void 0)}}},B.prototype.setData=function(N,x,A){if(!this.disabled){if(!(m=C()))return void(this.disabled=!0);var I=a(this.cacheName,N),w=V.getData(I);void 0===x?this.removeEntry(I,w):this.setEntry(I,w,x,A)}},B.prototype.removeEntry=function(N,x){if(x){var A=x.size;null!=A&&(m.caches[this.cacheName].size-=A,y());var I=x.id;null!=I&&V.setData(d(this.cacheName,I),void 0)}V.setData(N,void 0)},B.prototype.setEntry=function(N,x,A,I){var w=m.caches[this.cacheName];if(!w)return this.disabled=!0,void R("error","Did't find cache metadata for ".concat(this.cacheName," in directory ").concat(JSON.stringify(m)));var F=g(w.added),O=x&&x.id;O?(x.added=F,w.size-=x.size):x={id:O=w.nextId++,added:F,size:0};var L=d(this.cacheName,O),W=JSON.stringify(A);x.size=W.length+N.length+L.length,x.size+=JSON.stringify(x).length,x.size+=1,w.size+=x.size,w.size>this.maxSpace&&(I&&I(),M(this.cacheName),w.added=Date.now(),w.nextId=2,x.added=g(w.added),x.id=1,L=d(this.cacheName,x.id),x.size=W.length+N.length+L.length,x.size+=JSON.stringify(x).length,x.size+=1,w.size=x.size),y(),V.setData(N,x),V.setJSONData(L,W)},B}();function g(B){return Math.floor((Date.now()-B)/6e4)}function S(){if(m=C()){if("2"===m.version)return;R("information","Clearing old verion ".concat(m.version," localStorage entries")),T(function(B){return B.length>0&&B[0]===s})}else R("information","Clearing obsolete localStorage entries"),T(function(B){return e.test(B)});m={version:"2",caches:{}},y(),E()}function y(){V.setData(p,m)}function C(){return V.getData(p)}function E(){try{var B=C();_.isEqual(B,m)||R("warning","Cache directory different after save: saved=".concat(JSON.stringify(m)," reloaded=").concat(JSON.stringify(B)))}catch(N){R("error","Error checking cache directory after save: ".concat(N&&N.stack?N.stack:JSON.stringify(N)))}}function M(B){var N=l(B),x=function(B){return new RegExp("^``"+B+"-")}(B);T(function(A){return N.test(A)||x.test(A)})}function T(B){var N=[];V.forEach(function(w){B(w)&&N.push(w)});for(var x=0,A=N;x<A.length;x++)V.setData(A[x],void 0);return N.length}function R(B,N){var x=window.jsCommon;!x||!x.Trace||t.f[B]("localStorageCache: "+N)}},847069:function(ze,K,r){r.d(K,{DU:function(){return i},UD:function(){return s}});var t=function(){function p(){}return p.prototype.isLocalStorageSupported=function(){try{var V="validateLocalStorageKey",m="validateLocalStorageValue";return localStorage.setItem(V,m),localStorage.getItem(V)===m&&(localStorage.removeItem(V),null===localStorage.getItem(V))}catch(v){return!1}},p.prototype.getData=function(V){try{if(localStorage){var m=localStorage[V];if(m)return JSON.parse(m)}}catch(v){}},p.prototype.setData=function(V,m){try{if(localStorage)return void(void 0===m?localStorage.removeItem(V):localStorage[V]=JSON.stringify(m))}catch(v){}},p.prototype.setJSONData=function(V,m){try{localStorage&&(void 0===m?localStorage.removeItem(V):localStorage[V]=m)}catch(v){}},p.prototype.forEach=function(V){try{if(!localStorage)return;for(var m=localStorage.length;m-- >0;)V(localStorage.key(m))}catch(v){}},p}(),c=function(){function p(V){this.cache={},this.clearCacheInterval=null!=V?V:p.defaultClearCacheInterval,this.clearCache()}return p.prototype.getData=function(V){return this.cache[V]},p.prototype.setData=function(V,m,v){var e=this;this.cache[V]=m,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout(function(){return e.clearCache()},this.clearCacheInterval))},p.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},p.defaultClearCacheInterval=864e5,p}(),i=new t,s=new c},185664:function(ze,K,r){r.d(K,{hQ:function(){return V}});var t=r(226514),c=r(787941),i=r(16062),s=r(826691),p=r(690016),V=function(C,E,D,P){return new e(C,E,D,P)},e=function(){function y(C,E,D,P){this.promiseFactory=C,this.telemetry=E,this.options=(0,t.__assign)((0,t.__assign)({},P),{rjs:P&&P.rjs||window.require}),this.active={},c.fF.assertValue(this.options.rjs,"Could not load require.js."),D?(this.options.rjs.config(D),this.cssPaths=D.cssPaths,this.bundles=D.bundles):(this.cssPaths={},this.bundles={})}return y.prototype.require=function(C){var D,E=this;c.fF.assertValue(C,"moduleLoader: require Module Dependency has to be defined");var M,P=C.javascript;if(function(y){return!!y&&y instanceof Function}(P))return this.loadModuleES6(C,P);if(P)M=P;else{if(!C.css)return this.promiseFactory.resolve();M=C.css.join(",")}var T=g(this.cssPaths,C.css,null!==(D=this.options.rtl)&&void 0!==D&&D,this.promiseFactory),R=this.active,B=R[M];if(B)return B;if(!P)return R[M]=T,T.finally(function(){return delete R[M]}),T.then(function(){return E.promiseFactory.resolve()});var N=function(y,C){for(var E in c.fF.assertValue(y,"script"),c.fF.assertValue(C,"bundles"),C)if(_.includes(C[E],y))return E}(P,this.bundles),x=this.promiseFactory.defer(!0),A=function(){return o(E.options.rjs,E.telemetry,P,function(W){return x.resolve(W)},function(W){return x.reject(W)})};if(null==N||this.options.rjs.defined(N))A();else{var I=(0,i.z)(),w=setTimeout(function(){s.f.warning("Module bundle load is delayed",void 0,{bundleName:N,duration:(0,i.z)()-I}),w=setTimeout(function(){s.f.warning("Module bundle load is very delayed",void 0,{bundleName:N,duration:(0,i.z)()-I}),w=void 0},E.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);o(this.options.rjs,this.telemetry,N,function(){w||s.f.warning("Module bundle eventually loaded",void 0,{bundleName:N,duration:(0,i.z)()-I}),clearTimeout(w),A()},function(L){return x.reject(L)})}var O=this.promiseFactory.all([T,x.promise]).then(function(){return x.promise});return R[M]=O,O.finally(function(){return delete R[M]}),O},y.prototype.loadModuleES6=function(C,E){var D,P=E();return C.css?this.promiseFactory.all([g(this.cssPaths,C.css,null!==(D=this.options.rtl)&&void 0!==D&&D,this.promiseFactory),P]).then(function(){return P}):P},y}(),h=".js",n=".min.js";function o(y,C,E,D,P){if(c.fF.assertValue(y,"rjs"),c.fF.assertValue(E,"script"),c.fF.assertValue(D,"success"),c.fF.assertValue(P,"failure"),y.defined(E))D(y(E));else{var M=(0,p.BL)("moduleLoader.require('".concat(E,"')")),T=null==C?void 0:C.startEvent();y([E],function(){var N,R=window.parseTimeMarkers,B=E;R&&((N=R[E+n])?B+=n:(N=R[E+h])&&(B+=h));var x={start:N&&N.start,end:N&&N.end},A={start:N&&N.startEval,end:N&&N.endEval};null==T||T.resolve(B,x,A),M(),D(arguments[0])},function(R){null==T||T.reject(E),M(),P(R)})}}var a=document,l=a.head,d=a.createElement("link"),b=[],f=l.getElementsByTagName("script")[0];function g(y,C,E,D){var P,M;if(!C)return D.resolve();(null===(M=null===(P=l.getElementsByTagName("script"))||void 0===P?void 0:P[0])||void 0===M?void 0:M.src)!==(null==f?void 0:f.src)&&(f=l.getElementsByTagName("script")[0]);for(var T=["quill.core"],R=[],B=0,N=C;B<N.length;B++){var x=N[B],A=-1!==T.indexOf(x);if(x=y[x]||x,_.endsWith(x,".css")||(x+=".css"),E&&!A&&-1===x.indexOf(".rtl")&&(x=_.endsWith(x,".min.css")?x.replace(".min.css",".rtl.min.css"):x.replace(".css",".rtl.css")),-1===b.indexOf(x)){b.push(x);var I=S(x,D);R.push(I)}}return R.length?D.all(R):D.resolve()}function S(y,C){var E=d.cloneNode(),D=C.defer();return E.addEventListener("load",function(){return D.resolve()}),E.addEventListener("error",function(){return D.reject()}),E.href=y,f?l.insertBefore(E,f):l.appendChild(E),D.promise}d.setAttribute("rel","stylesheet")},14253:function(ze,K,r){r.d(K,{b:function(){return e}});var t=r(629925),c=r(787941),i=r(516619),s=r(764365),p=r(520907),V=r(569071),m=r(240849),v=r(847069),e=function(){function h(){}return h.setCanvasCtx=function(n){h.canvasCtx=n},h.setMeasuredFontNotLoadedCallback=function(n){h.measuredFontNotLoadedCallbacks||(h.measuredFontNotLoadedCallbacks=[]);var o=++h.measuredFontNotLoadedCallbacksAdded;return h.measuredFontNotLoadedCallbacks.push({id:o,callback:n}),function(){var u=h.measuredFontNotLoadedCallbacks?h.measuredFontNotLoadedCallbacks.findIndex(function(a){return a.id===o}):-1;-1===u?c.fF.assertFail("Tried to remove a MeasuredFontNotLoadedCallback more than once"):(h.measuredFontNotLoadedCallbacks.splice(u,1),h.measuredFontNotLoadedCallbacks.length||(h.measuredFontNotLoadedCallbacks=void 0))}},h.hasMeasuredFontNotLoadedCallbacks=function(){return h.measuredFontNotLoadedCallbacks&&0!==h.measuredFontNotLoadedCallbacks.length},h.callMeasuredFontNotLoadedCallbacks=function(n){if(n&&h.measuredFontNotLoadedCallbacks)for(var o=void 0,u=h.measuredFontNotLoadedCallbacks.length;u--;){var a=h.measuredFontNotLoadedCallbacks[u];(void 0===o||a.id<o)&&(o=a.id,a.callback(n))}},h.ensureDOM=function(){var n;if(!h.canvasCtx){if(h.spanElement||(h.spanElement=$("<span></span>"),$("body").append(h.spanElement)),null==h.letterSpacing)try{var o=window.getComputedStyle(null===(n=h.spanElement)||void 0===n?void 0:n.get(0));o.letterSpacing.indexOf("px")>0&&(h.letterSpacing=+o.letterSpacing.replace("px",""))}catch(a){}h.svgTextElement||(h.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),h.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var u=window.getComputedStyle(h.svgTextElement.node());h.fallbackFontFamily=u?u.fontFamily:""}},h.removeSpanElement=function(){h.spanElement&&h.spanElement.remove&&h.spanElement.remove(),h.spanElement=null},h.measureSvgTextWidth=function(n,o){if(c.fF.assertValue(n,"textProperties"),c.fF.assert(function(){return _.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!n||!n.fontSize)return 0;if(h.ensureDOM(),!h.canvasCtx)return((null!=o?o.length:null!=n.text&&n.text.length)||0)*(parseInt(n.fontSize,10)||9);if(!h.setCanvasFont(h.canvasCtx,n)||null==o&&null==n.text)return 0;n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&(h.isFontLoaded(n)||h.callMeasuredFontNotLoadedCallbacks(n.fontFamily));var l=null!=o?o:n.text;return h.canvasCtx.measureText(l).width+(null!=h.letterSpacing?h.letterSpacing*l.length:0)},h.measureSvgTextRect=function(n,o){return this.measureSvgTextRectInternal(n,o,!0)},h.measureSvgTextRectInternal=function(n,o,u){return c.fF.assertValue(n,"textProperties"),c.fF.assert(function(){return _.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px")},"TextProperties' text size should be in px."),h.ensureDOM(),u&&n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&(h.isFontLoaded(n)||h.callMeasuredFontNotLoadedCallbacks(n.fontFamily)),h.svgTextElement.text(o||n.text).attrs({visibility:"hidden","font-family":n.fontFamily||h.fallbackFontFamily,"font-variant":n.fontVariant,"font-size":n.fontSize,"font-weight":n.fontWeight,"font-style":n.fontStyle,"text-decoration":n.textDecoration||"none","white-space":n.whiteSpace||"nowrap"}),(0,V.jL)(h.svgTextElement.node())},h.measureSvgTextHeight=function(n,o){var u=h.measureSvgTextRect(n,o);return u?u.height:0},h.measureSvgGlyphHeight=function(n,o,u){c.fF.assert(function(){return-1!==n.indexOf("px")},"Font size should be in px."),h.ensureDOM(),h.svgTextElement.classed(o,!0).style("font-size",n).style("position","absolute").style("visibility","hidden");var l=h.measureSvgTextRect({fontFamily:null,fontSize:n},u);return h.svgTextElement.classed(o,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),l?l.height:0},h.isFullyTruncated=function(n){return n===h.ellipsis},h.estimateSvgTextRect=function(n){c.fF.assertValue(n,"textProperties"),c.fF.assert(function(){return _.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px")},"TextProperties' text size should be in px.");var o=(n.fontFamily||"")+(n.fontSize||""),u=v.UD.getData(o),a=null==u?void 0:u.rect,l={fontFamily:n.fontFamily,fontSize:n.fontSize,text:"M"},d=h.isFontLoaded(l);return null!=a&&u.fontLoaded||!1===d?null==a?(a=h.measureSvgTextRect(l),v.UD.setData(o,{rect:a,fontLoaded:!1})):!d&&n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&h.callMeasuredFontNotLoadedCallbacks(n.fontFamily):(a=h.measureSvgTextRect(l)).height>0&&v.UD.setData(o,{rect:a,fontLoaded:!0}),a},h.isFontLoaded=function(n){var o="16px",u=document.fonts,a=n.fontFamily,l=!1;if(h.fontLoadCache[a])return!0;if(u&&a)try{l=u.check(o+" "+a)}catch(f){}else{n.fontSize=o;var d=h.measureSvgTextRectInternal(n,void 0,!1),b=a?a.split(",")[0]:"";if(-1!==b.indexOf("Segoe UI"))l=(0,s.GG)(d.height,21.28,1e-5);else{if(-1===b.indexOf("wf_standard-font"))return null;l=(0,s.GG)(d.height,16.35,1e-5)}}return h.fontLoadCache[a]=l,l},h.clearFontLoadedCache=function(){h.fontLoadCache={}},h.estimateSvgTextBaselineDelta=function(n){var o=h.estimateSvgTextRect(n);return o.y+o.height},h.estimateSvgTextHeight=function(n,o){void 0===o&&(o=!1);var u=h.estimateSvgTextRect(n).height;return o&&(u*=.7),u},h.measureSvgTextElementWidth=function(n){return c.fF.assertValue(n,"svgElement"),h.measureSvgTextWidth(h.getSvgMeasurementProperties(n))},h.getMeasurementProperties=function(n){return c.fF.assertValue(n,"element"),{text:n.val()||n.text(),fontFamily:n.css("font-family"),fontSize:n.css("font-size"),fontWeight:n.css("font-weight"),fontStyle:n.css("font-style"),fontVariant:n.css("font-variant"),whiteSpace:n.css("white-space")}},h.getSvgMeasurementProperties=function(n){c.fF.assertValue(n,"svgElement");var o=window.getComputedStyle(n,null);return o?{text:n.textContent,fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,fontStyle:o.fontStyle,fontVariant:o.fontVariant,whiteSpace:o.whiteSpace}:{text:n&&n.textContent,fontFamily:"",fontSize:"0"}},h.getDivElementWidth=function(n){c.fF.assert(function(){return n.is("div")},"Given element is not a div type. Cannot get width");var o=getComputedStyle(n[0]);return o?o.width:"0"},h.getTailoredTextOrDefault=function(n,o){if(c.fF.assertValue(n,"properties"),c.fF.assertValue(n.text,"properties.text"),c.fF.assert(function(){return _.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!n||!n.fontSize)return"";h.ensureDOM();var u=n.text;if(!u||!h.canvasCtx||!h.setCanvasFont(h.canvasCtx,n))return"";n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&(h.isFontLoaded(n)||h.callMeasuredFontNotLoadedCallbacks(n.fontFamily));var l=h.canvasCtx.measureText(u).width+(null!=h.letterSpacing?h.letterSpacing*u.length:0);if(l<=o)return u;for(var d=1,b=(u=h.ellipsis+u).length;d<b;){var f=d+b>>1,g=u.substr(0,f);o>(l=h.canvasCtx.measureText(g).width+(null!=h.letterSpacing?h.letterSpacing*g.length:0))?d=f+1:o<l?b=f-1:(d=f,b=f)}var S=u.substr(0,d);return(l=h.canvasCtx.measureText(u.substr(0,d)).width+(null!=h.letterSpacing?h.letterSpacing*S.length:0))>o&&d--,u.substr(h.ellipsis.length,d-h.ellipsis.length)+h.ellipsis},h.setCanvasFont=function(n,o){try{n.font=(o.fontStyle||"")+" "+(o.fontVariant||"")+" "+(o.fontWeight||"")+" "+o.fontSize+" "+(o.fontFamily||h.fallbackFontFamily)}catch(u){return!1}return!0},h.svgEllipsis=function(n,o,u){c.fF.assertValue(n,"textElement"),u||(u=h.getSvgMeasurementProperties(n));var a=u.text,l=h.getTailoredTextOrDefault(u,o);a!==l&&(n.textContent=l)},h.wordBreak=function(n,o,u,a){void 0===a&&(a=0),(0,i.x9)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),c.fF.assertValue(n,"textElement");var l=h.getSvgMeasurementProperties(n),d=h.estimateSvgTextHeight(l)+a,b=Math.max(1,Math.floor(u/d)),f=d3.select(n),g=f.attr("y"),S=n.textContent;n.textContent="";for(var y=(0,m.ql)(S,l,h.measureSvgTextWidth,o,b),C=0,E=y.length;C<E;C++)l.text=y[C],f.append("tspan").attrs({x:0,dy:0===C?g:d}).text(h.getTailoredTextOrDefault(l,o))},h.wordBreakOverflowingText=function(n,o,u,a){void 0===a&&(a=0),c.fF.assertValue(n,"textElement");var l=h.getSvgMeasurementProperties(n),d=h.estimateSvgTextHeight(l)+a,b=Math.max(1,Math.floor(u/d)),f=n.textContent;n.textContent="";var g=(0,m.ql)(f,l,h.measureSvgTextWidth,o,b);d3.select(n).selectAll(h.OverflowingText.selector).data(g).enter().append("span").classed(h.OverflowingText.class,!0).text(function(y){return y}).style("width",p.FP.toString(o))},h.ellipsis="\u2026",h.OverflowingText=(0,t.CH)("overflowingText"),h.letterSpacing=null,h.fontLoadCache={},h.measuredFontNotLoadedCallbacksAdded=0,h}()},307172:function(ze,K,r){r.d(K,{i:function(){return t}});var t=function(c){return c[c.Clockwise=0]="Clockwise",c[c.Counterclockwise=1]="Counterclockwise",c[c.Colinear=2]="Colinear",c}({})},433992:function(ze,K,r){r.d(K,{fJ:function(){return s},ng:function(){return V}});var t=r(883863),c=r(177497),i=r(787941),s=function(){function m(v,e,h){var n;this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=v||V.getDefaultColors(),this.sentimentColors=e||V.defaultSentimentColors,this.gradientColors=h||V.defaultGradientColors,this.scales={},(n=this.basePickerColors).push.apply(n,_.take(this.colors,8))}return m.prototype.getColorScaleByKey=function(v){var e=this.scales[v];return void 0===e&&(e=this.createScale(),this.scales[v]=e),e},m.prototype.getNewColorScale=function(){return this.createScale()},m.prototype.getColorByIndex=function(v){var e=this;return i.fF.assert(function(){return v>=0&&v<e.colors.length},"index is out of bounds"),this.colors[v]},m.prototype.getSentimentColors=function(){return this.sentimentColors},m.prototype.getGradientColors=function(){return this.gradientColors},m.prototype.getBasePickerColors=function(){return this.basePickerColors},m.prototype.getBaseColors=function(){return _.take(this.colors,8)},m.prototype.getAllColors=function(){return this.colors},m.prototype.createScale=function(){return p.createFromColors(this.colors)},m}(),p=function(){function m(v){this.scale=v}return m.prototype.getColor=function(v){return this.scale(v)},m.prototype.clearAndRotateScale=function(){var v=this.scale.domain().length,e=(0,t.U1)(this.scale.range(),v);this.scale=d3.scaleOrdinal().range(e)},m.prototype.clone=function(){return new m(this.scale.copy())},m.prototype.getDomain=function(){return this.scale.domain()},m.createFromColors=function(v){return new m(d3.scaleOrdinal().range(v))},m}(),V=function(){function m(){}return m.getDefaultColors=function(){if(!m.defaultColors){m.defaultColors=[];for(var v=m.defaultBaseColors,e=0;e<m.colorSectorCount;++e)for(var h=0,n=v.length;h<n;++h){var o=(0,c.U1)(v[h].value,e/m.colorSectorCount);m.defaultColors.push({value:null!=o?o:v[h].value})}}return m.defaultColors},m.colorSectorCount=12,m.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],m.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},m.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},m}()},750311:function(ze,K,r){r.d(K,{GK:function(){return n},Oy:function(){return e},Ue:function(){return s},V4:function(){return p},lQ:function(){return o},pe:function(){return h}});var t=r(787941),c=r(803018),i=r(433992);function s(u,a){void 0===u&&(u=new i.fJ);var l={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:u.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:u};return{isHighContrast:!1,colorPalette:l,textClasses:p(l,a),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}}function p(u,a,l){var d,b,f,g;if(void 0===l&&(l=!1),function(u){if(!u)return!1;for(var l=["color","fontSize","fontFace"],d=0,b=["callout","header","label","title"];d<b.length;d++){var g=u[b[d]];if(!g)return!1;for(var S=0,y=l;S<y.length;S++)if(!g[y[S]])return!1}return!0}(a)){a.callout.fontFace=V(null!==(d=a.callout.fontFace)&&void 0!==d?d:""),a.label.fontFace=V(null!==(b=a.label.fontFace)&&void 0!==b?b:""),a.title.fontFace=V(null!==(f=a.title.fontFace)&&void 0!==f?f:""),a.header.fontFace=V(null!==(g=a.header.fontFace)&&void 0!==g?g:"");var E={callout:a.callout,label:a.label,title:a.title,header:a.header,largeTitle:m(a.largeTitle,a.title,void 0,7/6),dataTitle:m(a.dataTitle,a.title,u.dataColors.getColorByIndex(0)),boldLabel:m(a.boldLabel,a.label,void 0,void 0,"700"),largeLabel:m(a.largeLabel,a.label,void 0,1.2),largeLightLabel:m(a.largeLightLabel,a.label,u.foregroundNeutralSecondary,1.2),lightLabel:m(a.lightLabel,a.label,u.foregroundNeutralSecondary),semiboldLabel:m(a.semiboldLabel,a.label,void 0,void 0,"600"),smallLabel:m(a.smallLabel,a.label,void 0,.9),smallLightLabel:m(a.smallLightLabel,a.label,u.foregroundNeutralSecondary,.9),smallDataLabel:m(a.smallDataLabel,a.label,u.dataColors.getColorByIndex(0),.9)};if(l){var D=u.foreground.value,P=void 0;for(P in E){var M=E[P];M.color?M.color.value=D:M.color={value:D}}}return E}}function V(u){var a=c.bw[u];return a?a.family:u}function m(u,a,l,d,b){if(u?null==u.color&&(u.color=l||a.color):u={color:l||a.color},null==u.fontSize){var f=_.toNumber(a.fontSize);t.fF.assert(function(){return!isNaN(f)},"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),u.fontSize=(null==d?f:Math.round(f*d*10)/10)+""}if(null==u.fontWeight&&null!=b)switch(b){case"700":u.fontWeight="700";break;case"600":u.fontWeight="600";break;default:u.fontWeight=a.fontWeight}return u.fontFace=u.fontFace||a.fontFace,u}function e(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function h(u,a){t.fF.assertValue(a,"EvalContext.getThemeColor - colorName should't be null");var l=u.colorPalette,d=l.dataColors.getGradientColors(),b=l.dataColors.getSentimentColors(),f=l[a]||d[a]||b[a];return t.fF.assertAnyValue(f,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),null==f?void 0:f.value}function n(u,a){var l;return t.fF.assertValue(u,"getThemeDataColor - visualStyle"),t.fF.assertValue(a,"getThemeDataColor - colorIdx"),null===(l=u.colorPalette.dataColors.getBasePickerColors()[a])||void 0===l?void 0:l.value}function o(u,a){return t.fF.assertValue(u,"getThemeIcon - visualStyle"),t.fF.assertValue(a,"getThemeIcon - iconId"),u.icons[a]}},826691:function(ze,K,r){r.d(K,{f:function(){return h}});var t=r(787941),c=r(831917),i=r(927891),s=r(261374),p=r(172694),V=r(452771),v=new(function(){function n(){}return n.prototype.logTrace=function(o){},n}()),h=function(){function n(){}return n.assertFail=function(o){t.fF.assertValue(o,"message"),t.fF.assertFail(o),this.error(o,!0)},n.warning=function(o,u,a){t.fF.assertValue(o,"text"),this.logTraceInternal(new p.X(o,V.U.Warning,this.sessionId,u,a))},n.error=function(o,u,a,l){t.fF.assertValue(o,"text"),u&&(o=(0,s.W)("{0}.\nStack:\n{1}",o,(0,i.DH)())),this.logTraceInternal(new p.X(o,V.U.Error,this.sessionId,a,l))},n.information=function(o,u,a){t.fF.assertValue(o,"text"),this.logTraceInternal(new p.X(o,V.U.Information,this.sessionId,u,a))},n.verbose=function(o,u,a){t.fF.assertValue(o,"text"),this.logTraceInternal(new p.X(o,V.U.Verbose,this.sessionId,u,a))},n.addListener=function(o){t.fF.assertValue(o,"listener"),_.find(this.listeners,function(u){return u===o})||this.listeners.push(o)},n.removeListener=function(o){t.fF.assertValue(o,"listener");var u=this.listeners.indexOf(o);u>=0&&this.listeners.splice(u,1)},n.resetListeners=function(){this.listeners=new Array(v)},n.reset=function(){this.lastTraceIndex=-1},n.getTraces=function(){if(this.lastTraceIndex<0)return[];for(var o=new Array(this.lastTraceIndex+1),u=0;u<=this.lastTraceIndex;u++)o[u]=this.traces[u];return o},n.disableDefaultListener=function(){this.removeListener(v)},n.enableDefaultListener=function(){this.addListener(v)},n.logTraceInternal=function(o){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=o;for(var u=0,a=this.listeners.length;u<a;u++)this.listeners[u].logTrace(o)},n.traces=new Array(1e3),n.lastTraceIndex=-1,n.listeners=new Array(v),n}();(0,c.kx)().Trace=h},172694:function(ze,K,r){r.d(K,{X:function(){return t}});var t=function(){function c(i,s,p,V,m){this.text=i,this.type=s,this.sessionId=p,this.requestId=V,this.timeStamp=new Date,this.additionalInfo=m}return c.prototype.toString=function(){var i="";return i+="".concat(c.traceTypeStrings[this.type]," (").concat(this.timeStamp.toUTCString(),"): ").concat(this.text),this.requestId&&(i+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(i+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),i},c.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],c}()},452771:function(ze,K,r){r.d(K,{U:function(){return t}});var t=function(c){return c[c.Information=0]="Information",c[c.Verbose=1]="Verbose",c[c.Warning=2]="Warning",c[c.Error=3]="Error",c[c.ExpectedError=4]="ExpectedError",c[c.UnexpectedError=5]="UnexpectedError",c[c.Fatal=6]="Fatal",c}({})},259694:function(ze,K,r){r.d(K,{Gg:function(){return c},ZA:function(){return t},dp:function(){return i},yR:function(){return s}});var t=function(){function p(){this.success=!0}return p.prototype.check=function(V,m,v){if(m(V))return v(V);this.success=!1},p.check=function(V){var m=new p;return V(m),m.success},p}();function c(p){return!!p}function i(p){return function(V){return c(V)&&V.length===p}}function s(p){return p}},145315:function(ze,K,r){r.d(K,{DW:function(){return t},EP:function(){return i},NI:function(){return s},su:function(){return c}});var t=function(p){return p[p.Grouping=0]="Grouping",p[p.Measure=1]="Measure",p[p.GroupingOrMeasure=2]="GroupingOrMeasure",p}({}),c=function(p){return p[p.Create=0]="Create",p[p.Append=1]="Append",p[p.Segment=2]="Segment",p[p.None=3]="None",p}({}),i=function(p){return p[p.Data=2]="Data",p[p.Resize=4]="Resize",p[p.ViewMode=8]="ViewMode",p[p.Style=16]="Style",p[p.ResizeEnd=32]="ResizeEnd",p[p.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",p[p.FormatModeChange=128]="FormatModeChange",p[p.FilterOptionsChange=256]="FilterOptionsChange",p[p.All=510]="All",p}({}),s=function(p){return{}}()},738074:function(ze,K,r){r.d(K,{Z:function(){return c},y:function(){return i}});var t=r(787941),c=function(){function s(){}return s.NATURAL_LANGUAGE="NaturalLanguage",s}(),i=function(){return function(p){if(this.version=p.version,this.kind=p.kind,p.kind!==c.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var V=p.version;1===V?this.annotation={description:p.annotation.description,isAutoGenerated:p.annotation.isAutoGenerated,name:p.annotation.name,references:p.annotation.references,utterance:p.annotation.utterance}:t.fF.assertNever(V)}}()},621936:function(ze,K,r){r.d(K,{c:function(){return c},q:function(){return i}});var t=r(738074),c=1;function i(s,p){return p===t.Z.NATURAL_LANGUAGE}},524878:function(ze,K,r){r.d(K,{Wt:function(){return s},lb:function(){return i},ud:function(){return c}});var t=r(787941),c=function(){function p(){}return p.prototype.findProperty=function(V,m){var v=this.entities.withName(V);if(v&&!_.isEmpty(v.properties))return v.properties.withName(m)},Object.defineProperty(p.prototype,"isExtensionSchema",{get:function(){return this.hasOwnProperty("extends")},enumerable:!1,configurable:!0}),p.prototype.findHierarchy=function(V,m){var v=this.entities.withName(V);if(v&&!_.isEmpty(v.hierarchies))return v.hierarchies.withName(m)},p.prototype.findHierarchyLevel=function(V,m,v){var e=this.entities.withName(V);if(e&&!_.isEmpty(e.hierarchies)){var h=e.hierarchies.withName(m);if(h&&!_.isEmpty(h.levels))return h.levels.withName(v)}},p.prototype.findHierarchyByVariation=function(V,m,v,e){var h=this.findTargetEntityOfVariation(V,m,v);if(h&&!_.isEmpty(h.hierarchies))return h.hierarchies.withName(e)},p.prototype.findTargetEntityOfVariation=function(V,m,v){var e=this.entities.withName(V);if(e&&!_.isEmpty(e.properties)){var h=e.properties.withName(m);if(h){var n=h.column;if(n&&!_.isEmpty(n.variations)){var o=n.variations.withName(v);if(o)return o.navigationProperty?o.navigationProperty.targetEntity:e}}}},p.prototype.findPropertyWithKpi=function(V,m){t.fF.assertValue(m,"kpiProperty");var v=this.entities.withName(V);if(v&&!_.isEmpty(v.properties))for(var e=0,h=v.properties;e<h.length;e++){var n=h[e];if(n&&n.measure&&n.measure.kpi&&(n.measure.kpi.status===m||n.measure.kpi.goal===m))return n}},p.prototype.findVariationMappings=function(V){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[V]},p.prototype.findVariationToHierarchyMappings=function(V){var m=this.findVariationMappings(V);return _.filter(m,function(v){return v.variation.defaultHierarchy})},p.prototype.findTableNameFromMeasureName=function(V){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[V]},Object.defineProperty(p.prototype,"isMultiDimensionalModel",{get:function(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange},enumerable:!1,configurable:!0}),p.prototype.buildVariationMappings=function(){var V={};return _(this.entities).filter(function(m){return m.properties}).forEach(function(m){_(m.properties).filter(function(v){return v.column&&v.column.variations}).forEach(function(v){_(v.column.variations).filter(function(e){return e.navigationProperty&&e.navigationProperty.targetEntity}).forEach(function(e){var h=e.navigationProperty.targetEntity.name,n=V[h];n||(V[h]=n=[]),n.push({sourceEntity:m,sourceProperty:v,variation:e})})})}),V},p.prototype.buildMeasureNameToTableNameMappings=function(){for(var V={},m=0,v=this.entities;m<v.length;m++)for(var e=v[m],h=function(l){l.measure&&(t.fF.assert(function(){return!V[l.name]},"there is a collision for ".concat(l.name,"; every measure has a unqiue name in the model")),V[l.name]=e.name)},n=0,o=e.properties;n<o.length;n++)h(o[n]);return V},p}();function i(p){switch(p){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}}function s(p){switch(p){case"None":return 0;case"Address":return 1;case"City":return 2;case"Company":return 3;case"Continent":return 4;case"Country":return 5;case"County":return 6;case"Date":return 7;case"Image":return 8;case"ImageUrl":return 9;case"Latitude":return 10;case"Longitude":return 11;case"Organization":return 12;case"Place":return 13;case"PostalCode":return 14;case"Product":return 15;case"StateOrProvince":return 16;case"WebUrl":return 17}}},870817:function(ze,K,r){r.d(K,{P:function(){return c}});var t=function(s){return s[s.None=0]="None",s[s.Log=1]="Log",s}({});function c(s,p){if(s){var V;if(s.top&&(V={Top:{}},s.top.count&&(V.Top.Count=s.top.count)),s.bottom&&(V={Bottom:{}},s.bottom.count&&(V.Bottom.Count=s.bottom.count)),s.sample&&(V={Sample:{}},s.sample.count&&(V.Sample.Count=s.sample.count)),s.window&&(V={Window:{}},s.window.count&&(V.Window.Count=s.window.count)),s.binnedLineSample&&(V={BinnedLineSample:{}},null!=s.binnedLineSample.primaryScalarKey&&(V.BinnedLineSample.PrimaryScalarKey=s.binnedLineSample.primaryScalarKey),s.binnedLineSample.count&&(V.BinnedLineSample.Count=s.binnedLineSample.count),s.binnedLineSample.warningCount&&(V.BinnedLineSample.WarningCount=s.binnedLineSample.warningCount)),s.overlappingPointsSample){var m=s.overlappingPointsSample;V={OverlappingPointsSample:{}},m.count&&(V.OverlappingPointsSample.Count=m.count);var v=m.x;v&&1===_.size(v.role.items)&&(V.OverlappingPointsSample.X=i(p,v.role.items[0].queryName,v.transform));var e=m.y;e&&1===_.size(e.role.items)&&(V.OverlappingPointsSample.Y=i(p,e.role.items[0].queryName,e.transform))}return s.topNPerLevel&&(V={TopNPerLevel:{Count:s.topNPerLevel.count}}),V}}function i(s,p,V){var m={Index:_.findIndex(s,function(v){return v.name===p})};return V&&1===V&&(m.Transform=t.Log),m}},369138:function(ze,K,r){r.d(K,{Ns:function(){return d},k4:function(){return l},od:function(){return o},s0:function(){return u}});var t=r(456535),c=r(474147),i=r(883863),s=r(787941),p=r(19632),V=r(324356),m=r(989516);function v(b,f,g){(0,t.un)(b)?(e(g),v(b.left,f,g.left),v(b.right,f,g.right)):(0,t.$Q)(b)?(s.fF.assert(function(){return(0,t.Lk)(b.left)||(0,t.kb)(b.left)||(0,t.t3)(b.left)||(0,t.iV)(b.left)},"expression.left should be fieldRef: entity/measure/column/aggregate"),e(g,b.left),s.fF.assert(function(){return(0,t.VC)(b.right)},"expression.right should be constant"),f.push(b.right)):s.fF.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function e(b,f){f?b.value=f:(b.left={},b.right={})}function h(b,f){return!(!b||!f)&&(b.left&&b.right?!(!f.left||!f.right)&&h(b.left,f.left)&&h(b.right,f.right):b.value?!!f.value&&(0,c.fS)(b.value,f.value):(s.fF.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function n(b){if((0,m.yN)(b))return b.expr;s.fF.assertFail("selectors should be scoped identities")}function o(b){if(s.fF.assertValue(b,"selectorsByColumnArray"),b){for(var f={},g=[],S=[],y=[],C=[],E=[],D=[],P=0,M=b;P<M.length;P++){var T=M[P],R=[],B={};if(D.push(T.id),E.push(T.metadata),T.dataMap){for(var N in T.dataMap)for(var A=0,I=(0,i.rY)(T.dataMap[N]);A<I.length;A++){var w=I[A],F={},O=[],L={},W=_.indexOf(y,N);W<0&&(y.push(N),W=y.length-1),v(n(w),O,L);for(var U=-1,j=0;j<S.length;j++)if(h(L,S[j])){U=j;break}U<0&&(S.push(L),U=S.length-1),F[U]=O,B[W]=B[W]||[],B[W].push(U),R.push(F)}C.push(B),g.push(R)}}return!_.isEmpty(g)&&!_.isEmpty(g)&&(f.decomposedIdentities={values:g,columns:S}),!_.isEmpty(y)&&!_.isEmpty(C)&&(f.queryNames=y,f.queryNameMap=C),_.some(E,function(G){return!!G})&&(f.metadata=E),_.some(D,function(G){return!!G})&&(f.id=D),f}}function u(b){if(s.fF.assertValue(b,"filterExpressionMetadata"),b){var f={expressions:b.expressions},g=[],S=[],y=[];if(b.cachedValueItems){for(var C=0,E=b.cachedValueItems;C<E.length;C++){var D=E[C];y.push(D.valueMap);for(var P=[],M=0,T=D.identities;M<T.length;M++){var B={},N=[],x={};v(n(T[M]),N,B);for(var A=-1,I=0;I<S.length;I++)if(h(B,S[I])){A=I;break}A<0&&(S.push(B),A=S.length-1),x[A]=N,P.push(x)}g.push(P)}f.decomposedIdentities={values:g,columns:S},f.valueMap=y}return f}}function a(b,f,g){if(f.left&&f.right){var S=a(b,f.left,g),y=a(b,f.right,g);return(0,V.xD)(S,y)}if(f.value){var C=f.value,E=b[g.index++];return s.fF.assert(function(){return(0,t.Lk)(C)||(0,t.kb)(C)||(0,t.t3)(C)||(0,t.iV)(C)},"expression.left should be fieldRef: entity/measure/column/aggregate"),s.fF.assert(function(){return(0,t.VC)(E)},"expression.right should be constant"),(0,V.qu)(0,C,E)}s.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function l(b){if(s.fF.assertValue(b,"decomposedSelectors"),b){var f=[],g=b.decomposedIdentities&&b.decomposedIdentities.values,S=b.decomposedIdentities&&b.decomposedIdentities.columns,y=b.queryNames,C=b.queryNameMap;if(g&&S)for(var E=0;E<g.length;E++){var D=g[E];(P={dataMap:{}}).metadata=b.metadata&&b.metadata[E],P.id=b.id&&b.id[E];for(var M=C[E],T=0,R=D;T<R.length;T++)for(var B=R[T],x=0,A=_.keys(B);x<A.length;x++){var w=_.toNumber(A[x]);for(var F in M){var O=M[F];if(_.indexOf(O,w)>=0){var L=y[F],j=a(B[w],S[w],{index:0}),z=(0,p.TZ)(j);P.dataMap[L]=P.dataMap[L]||[],P.dataMap[L].push(z),_.pull(O,w);break}}}f.push(P)}else{if(!_.isEmpty(b.metadata))for(var G=0,te=b.metadata;G<te.length;G++)(P={}).metadata=te[G],f.push(P);if(!_.isEmpty(b.id)){var H=_.isEmpty(f);for(E=0;E<b.id.length;E++){var P;(P=H?{}:f[E]).id=b.id[E],H&&f.push(P)}}}return f}}function d(b){if(s.fF.assertValue(b,"decomposedSelectors"),b){var f={expressions:b.expressions},g=b.decomposedIdentities&&b.decomposedIdentities.values,S=b.decomposedIdentities&&b.decomposedIdentities.columns,y=[];if(g&&S){for(var C=0;C<g.length;C++){for(var D=[],P=0,M=g[C];P<M.length;P++){var T=M[P];for(var R in T){var x=a(T[R],S[R],{index:0}),A=(0,p.TZ)(x);D.push(A)}}y.push({identities:D,valueMap:b.valueMap[C]})}_.isEmpty(y)||(f.cachedValueItems=y),b.jsonFilter&&(f.jsonFilter=b.jsonFilter)}return f}}},353705:function(ze,K,r){r.d(K,{D5:function(){return h},DX:function(){return f},Vt:function(){return e},cb:function(){return m},d9:function(){return v},iA:function(){return b},if:function(){return l},of:function(){return d},sz:function(){return g},wy:function(){return n}});var t=r(226514),c=r(474147),i=r(883863),s=r(787941),p=r(217926),V=r(989516),m=function(){function S(y,C){void 0===C&&(C={}),s.fF.assertNonEmpty(y,"Empty roles"),this.roles=y,this.root={identityValues:null,children:[],parent:null},this.levels=[];var D=C.canCollapseRoot,P=C.collapseParentAfterRemovingChildLevel;this.supportsMerge=!!C.supportsMerge,this.canCollapseRoot=!!D,this.collapseParentAfterRemovingChildLevel=!!P}return S.prototype.updateLevels=function(y,C){if(!_.isEmpty(y)&&(0!==C||this.canCollapseRoot)){s.fF.assert(function(){return C<=_.size(y)},"Number of active projections cannot be greater than the number of projections");var E=y.length,D=this.levels;this.levels=new Array(E);for(var P=0;P<E;P++){var M=P>=C-1,T=D[P],R=[y[P]];T&&_.isEqual(T.queryRefs,R)?(this.levels[P]=T,T.isCollapsed=M):this.levels[P]={isCollapsed:M,queryRefs:R,toggledNodes:[]}}this.canCollapseRoot&&(0===C?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(C)}},S.prototype.clone=function(){for(var y=this,C={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},E=new S(_.clone(this.roles),C),D=new Array(this.levels.length),P=0;P<this.levels.length;P++)D[P]=[];return E.levels=_.map(this.levels,function(M,T){return y.cloneExpansionLevel(M,D,T)}),E.root=this.cloneExpansionNode(this.root,null,D,-1),E},S.prototype.isStateModified=function(){return _.some(this.levels,function(y){return!y.isCollapsed})||!_.isEmpty(this.root.children)},S.prototype.addLevel=function(y,C){var E=this;s.fF.assert(function(){return E.supportsMerge});var D=_.findLastIndex(this.levels,function(B){return B.isPinned}),P={isCollapsed:!0,queryRefs:[y],toggledNodes:[],isPinned:C<=D||void 0};s.fF.assert(function(){return C<=_.size(E.levels)},"position > count of levels");for(var M=_.findIndex(this.levels,function(B){return!_.isEmpty(B.toggledNodes)},C),R=-1===M?C:M;R<_.size(this.levels);R++)this.setLevelState(R,!0);if(this.levels.splice(C,0,P),this.unlockLevels(C),P.isPinned)for(R=0;R<C;R++)delete this.levels[R].AIInformation},S.prototype.removeLevel=function(y){var E,C=this;s.fF.assert(function(){return C.supportsMerge}),s.fF.assert(function(){return y>=0&&y<_.size(C.levels)},"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(E=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,function(D){return D===y}),this.levels.splice(y,1),this.collapseParentAfterRemovingChildLevel&&y>0&&y===E-1&&this.setLevelState(y-1,!0),y<_.size(this.levels)&&this.unlockLevels(y)},S.prototype.moveLevels=function(y,C,E){var D,P=this;s.fF.assert(function(){return P.supportsMerge}),s.fF.assert(function(){return y<_.size(P.levels)},"sourceIndex >= count of level"),s.fF.assert(function(){return C<_.size(P.levels)},"targetIndex >= count of level");var M=_.findLastIndex(this.levels,function(A){return A.isPinned}),T=Math.min(y,C);if(C>y){s.fF.assert(function(){return y+E<=_.size(P.levels)},"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,function(A){return A>=y&&A<y+E});for(var R=y;R<Math.min(y+E,_.size(this.levels));R++)this.levels[R].toggledNodes=[]}var B=this.levels.splice(y,E);(D=this.levels).splice.apply(D,(0,t.__spreadArray)([C,0],B||[],!1));var N=_.findIndex(this.levels,function(A){return!_.isEmpty(A.toggledNodes)},C);for(R=-1===N?C:N;R<_.size(this.levels);R++)this.setLevelState(R,!0);if(this.unlockLevels(T),y>M&&C<=M?_.forEach(B,function(A){return A.isPinned=!0}):y<=M&&C>M&&_.forEach(B,function(A){return A.isPinned=!1}),_.forEach(B,function(A){return delete A.AIInformation}),this.levels[C].isPinned)for(R=0;R<C;R++)delete this.levels[R].AIInformation},S.prototype.getVisibleDescendentsDepth=function(y,C){var E=this.levels.length;if(s.fF.assert(function(){return C<E},"node out of bounds"),-1===C&&this.canCollapseRoot&&y.isToggled)return 0;for(var D=[y];;){if(C===E-1)return C+1;for(var P=this.levels[C]&&this.levels[C].isCollapsed,M=void 0,T=[],R=0,B=D;R<B.length;R++){var N=B[R];!P==!N.isToggled&&(T.push.apply(T,N.children||[]),M=!0)}if(M&&C++,!(T.length>0))break;D=T}for(;C<E-1&&(-1===C||!this.levels[C].isCollapsed);)C++;return C+1},S.prototype.removeIntermediateNodes=function(y,C,E){var D=this;if(E(C)){var P=!!y.isToggled!=!!this.levels[C].isCollapsed;_.pull(y.parent.children,y),_.forEach(y.children,function(M){P&&(M.isToggled=!D.levels[C+1].isCollapsed),M.parent=y.parent,y.parent.children.push(M)})}_.forEach((0,t.__spreadArray)([],y.children||[],!0),function(M){return D.removeIntermediateNodes(M,C+1,E)})},S.prototype.cloneExpansionLevel=function(y,C,E){return{isCollapsed:y.isCollapsed,identityKeys:this.cloneExpressionList(y.identityKeys),queryRefs:_.clone(y.queryRefs),toggledNodes:C[E],isPinned:y.isPinned,isLocked:y.isLocked,AIInformation:y.AIInformation?{method:y.AIInformation.method,disabled:y.AIInformation.disabled}:void 0}},S.prototype.cloneExpansionNode=function(y,C,E,D){var P={identityValues:this.cloneExpressionList(y.identityValues),children:[],parent:C};void 0!==y.isToggled&&(P.isToggled=y.isToggled),D>=0&&E[D].push(P);for(var M=0,T=y.children;M<T.length;M++)P.children.push(this.cloneExpansionNode(T[M],P,E,D+1));return P},S.prototype.cloneExpressionList=function(y){return y?_.map(y,function(C){return C}):null},S.prototype.setNodeState=function(y,C){var E=this;if(y&&_.isEmpty(y.data))return s.fF.assert(function(){return E.canCollapseRoot},"Collapse to root capability is not enabled"),C?this.root.isToggled=!0:delete this.root.isToggled,this.root;var D=(0,V.CT)(y);if(D){for(var P=D.length,M=this.root,T=0;T<P;T++){var R=D[T],B=(0,p.RR)(R.expr);if(!this.ensureLevel(T,B))return;var x=(0,p.KX)(R.expr);M=this.ensureChildNode(T,M,x,T===P-1?C:void 0)}if(!this.pruneNonToggledLeaf(M))return M}},S.prototype.ensureLevel=function(y,C){var E=this.levels[y];if(s.fF.assertValue(E,"level does not exist"),E.identityKeys){if(!(0,i.NF)(E.identityKeys,C,c.fS))return}else E.identityKeys=C;return E},S.prototype.ensureChildNode=function(y,C,E,D){s.fF.assertValue(C,"parent"),s.fF.assertValue(E,"identityValues"),s.fF.assertValue(y>=0,"levelIdx >= 0");var P=this.levels[y];s.fF.assertValue(P,"level does not exist");var M=this.findNodeMatchingIdentities(C.children,E);return M||C.children.push(M={children:[],identityValues:E,parent:C}),void 0!==D&&(D!==!!P.isCollapsed?(M.isToggled=!0,_.indexOf(P.toggledNodes,M)<0&&P.toggledNodes.push(M)):(delete M.isToggled,P.toggledNodes=_.filter(P.toggledNodes,function(T){return T!==M}))),M},S.prototype.pruneNonToggledLeaf=function(y){s.fF.assertValue(y,"node");for(var C=!1;y.parent&&!y.isToggled&&_.isEmpty(y.children);)y.parent.children=_.filter(y.parent.children,function(E){return E!==y}),y=y.parent,C=!0;return C},S.prototype.setLevelState=function(y,C){var E=this;if(-1===y)return s.fF.assert(function(){return E.canCollapseRoot},"Collapse to root capability is not enabled"),void(C?this.root.isToggled=!0:delete this.root.isToggled);s.fF.assert(function(){return y>-1},"levelIdx");var D=this.levels[y];if(D){D.isCollapsed=C;for(var P=0,M=D.toggledNodes;P<M.length;P++){var T=M[P];delete T.isToggled,this.pruneNonToggledLeaf(T)}D.toggledNodes=[]}},S.prototype.pinLevels=function(y){var C=this;s.fF.assert(function(){return y<=_.size(C.levels)},"Requested pinning of too many levels");for(var E=0;E<Math.min(y,_.size(this.levels));E++)this.levels[E].isPinned=!0},S.prototype.unpinLevels=function(y){var C=this;s.fF.assert(function(){return y<_.size(C.levels)},"Level does not exist");var E=this.getVisibleDescendentsDepth(this.root,-1);s.fF.assert(function(){return y>=E-1},"cannot unpin projected level");for(var D=Math.max(y,E-1);D<_.size(this.levels);D++)delete this.levels[D].isPinned},S.prototype.lockLevels=function(y){var C=this;s.fF.assert(function(){return y<=_.size(C.levels)},"Requested locking of too many levels");for(var E=0;E<Math.min(y,_.size(this.levels));E++)this.levels[E].isLocked=!0},S.prototype.unlockLevels=function(y){var C=this;s.fF.assert(function(){return y<_.size(C.levels)},"Level does not exist");for(var E=y;E<_.size(this.levels);E++)delete this.levels[E].isLocked},S.prototype.setAILevelInformation=function(y,C){var E=this;s.fF.assert(function(){return y<_.size(E.levels)},"Level does not exist"),C?this.levels[y].AIInformation=_.cloneDeep(C):delete this.levels[y].AIInformation},S.prototype.getAILevelInformation=function(y){var C=this;return s.fF.assert(function(){return y<_.size(C.levels)},"Level does not exist"),_.cloneDeep(this.levels[y].AIInformation)},S.prototype.isWholeLevelExpanded=function(y){var C=this.levels[y];return!C||!C.isCollapsed&&_.isEmpty(C.toggledNodes)},S.prototype.isHierarchyExpanded=function(){var y=this;s.fF.assertNonEmpty(this.levels,"levels"),s.fF.assert(function(){return y.isWholeLevelCollapsed(y.levels.length-1)},"Last level should be collapsed");for(var C=0;C<this.levels.length-1;C++)if(!this.isWholeLevelExpanded(C))return!1;return!0},S.prototype.isWholeLevelCollapsed=function(y){var C=this.levels[y];return C&&C.isCollapsed&&_.isEmpty(C.toggledNodes)},S.prototype.getNodeLevelState=function(y,C,E){if(s.fF.assertNonEmpty(y,"identities"),s.fF.assert(function(){return E>=0},"levelIndex >= 0"),E>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var D=y[0],P=this.ensureLevel(E,(0,p.RR)(D.expr));if(P){var R,M=!_.isEmpty(P.toggledNodes),T=(0,p.KX)(D.expr);return C&&(R=this.findNodeMatchingIdentities(C.children,T)),1===y.length?R?{isNodeCollapsed:R.isToggled?!P.isCollapsed:P.isCollapsed,levelHasToggledNodes:M}:{isNodeCollapsed:P.isCollapsed,levelHasToggledNodes:M}:(y.splice(0,1),this.getNodeLevelState(y,R,E+1))}},S.prototype.rewrite=function(y){for(var C=0,E=this.levels;C<E.length;C++){var D=E[C];D.identityKeys&&(D.identityKeys=_.map(D.identityKeys,function(P){return P.accept(y)}))}return this.root=this.rewriteNodeExpansionState(this.root,y),this},S.prototype.rewriteNodeExpansionState=function(y,C){var E=this;return y.identityValues&&(y.identityValues=_.map(y.identityValues,function(D){return D.accept(C)})),y.children=_.map(y.children,function(D){return E.rewriteNodeExpansionState(D,C)}),y},S.prototype.findNodeMatchingIdentities=function(y,C){return _.find(y,function(E){return(0,i.NF)(E.identityValues,C,c.fS)})},S}();function v(S){if(S)return _.map(S,function(y){return y.clone()})}function e(S,y){return s.fF.assertValue(S,"ExpansionStates"),s.fF.assertNonEmpty(y,"Empty roles"),_.find(S,function(C){return _.isEqual(C.roles,y)})}function h(S,y){return s.fF.assertValue(S,"ExpansionStates"),s.fF.assertValue(y,"Role"),_.find(S,function(C){return _.includes(C.roles,y)})}function n(S,y){return(0,i.NF)(S,y,o)}function o(S,y){return!(!S!=!y||!_.isEqual(S.roles,y.roles)||!(0,i.NF)(S.levels,y.levels,u))&&a(S.root,y.root)}function u(S,y){return!S&&!y||!!(S&&y&&_.isEqual(S.queryRefs,y.queryRefs)&&(0,i.NF)(S.identityKeys,y.identityKeys,c.fS)&&S.isCollapsed===y.isCollapsed&&(0,i.NF)(S.toggledNodes,y.toggledNodes,a))}function a(S,y){return!(!(0,i.NF)(S.identityValues,y.identityValues,c.fS)||!!S.isToggled!=!!y.isToggled||!(0,i.NF)(S.children,y.children,a))}function l(S){return!_.isEmpty(S)}function d(S){return!_.isEmpty(S.root.children)||!_.isEmpty(S.root.identityValues)}function b(S){return _.findIndex(S.levels,function(y){return y.isPinned})>=0}function f(S,y,C){var E=e(S,y);if(E)return E.getAILevelInformation(C)}function g(S,y){var C=e(S,y);return C?_.findLastIndex(C.levels,function(E){return E.isPinned})+1:0}},572643:function(ze,K,r){r.d(K,{l:function(){return i}});var t=r(226514),c=r(787941),i=function(){function s(p){c.fF.assertValue(p,"options"),this.schemasByName=p.schemas,p.links&&(this.links=p.links)}return s.merge=function(p){if(1===p.length)return p[0];for(var V={},m=[],v=0,e=p;v<e.length;v++){var h=e[v],n=function(b){c.fF.assert(function(){return!V[b]},"Duplicate schema name ".concat(b," found while merging")),V[b]=h.schemasByName[b]};for(var o in h.schemasByName)n(o);m.push.apply(m,h.links||[])}var u=function(b){var f=V[b];if(f.isExtensionSchema){var g=V[f.extends];c.fF.assert(function(){return!g.isExtensionSchema},"Extension schemas cannot themselves be extended"),s.mergeCapabilities(g,f)}};for(var a in V)u(a);var l={schemas:V};return _.some(m)&&(l.links=m),new s(l)},Object.defineProperty(s.prototype,"schemas",{get:function(){return _.values(this.schemasByName)},enumerable:!1,configurable:!0}),s.prototype.schema=function(p){return this.schemasByName[p]},s.mergeCapabilities=function(p,V){V.capabilities=(0,t.__assign)((0,t.__assign)({},p.capabilities),{canEdit:V.capabilities.canEdit,isExtendable:V.capabilities.isExtendable})},s}()},745969:function(ze,K,r){r.d(K,{K:function(){return i},b:function(){return s}});var t=r(489470),c=r(787941);function i(p){switch(p){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return(0,t.bG)("Unexpected ArithmeticOperatorKind: "+p)}function s(p){switch(p){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance";default:c.fF.assert(function(){return null==p},"Unrecognized aggregate function.")}}},426827:function(ze,K,r){r.d(K,{NQ:function(){return V},cY:function(){return v},d9:function(){return m}});var t=r(226514),c=r(474147),i=r(787941),s=r(143509),p=r(188238),V=function(){function e(h,n,o,u){i.fF.assertValue(h,"items"),this.items=h,this._activeProjectionRefs=n,this._showAll=o,this.parameters=u||[]}return e.prototype.all=function(){return this.items},e.prototype.resetHiddenState=function(h){if(!_.isEmpty(this.items))for(var n=0,o=this.items;n<o.length;n++){var u=o[n];u.queryRef===h&&delete u.hidden}},e.prototype.toggleHidden=function(h){if(!_.isEmpty(this.items))for(var n=0,o=this.items;n<o.length;n++){var u=o[n];u.queryRef===h&&(u.hidden=!u.hidden)}},e.prototype.resetAllHiddenState=function(){for(var h=0,n=this.items;h<n.length;h++)delete n[h].hidden},e.prototype.projected=function(){return _.isEmpty(this.items)?this.items:_.filter(this.items,function(h){return h&&!h.hidden})},e.prototype.addProjection=function(h,n){var o,u,a;n&&(o=n.fieldIndex,u=n.parameter,a=n.indexInParameter);var l=this.getProjectionIndex(o,u,a);this.fixUpParameterIndices(u,o,1),l>=this.items.length?this.items.push(h):this.items.splice(l,0,h)},e.prototype.removeProjection=function(h){var n,o,u;h&&(n=h.fieldIndex,o=h.parameter,u=h.indexInParameter),i.fF.assert(function(){return null!=n||null!=o&&null!=u},"When removing a projection we expect field index or the parameter options to be complete.");var a=this.getProjectionIndex(n,o,u);this.fixUpParameterIndices(o,n,-1),this.items.splice(a,1)},e.prototype.fixUpParameterIndices=function(h,n,o){for(var u=0,a=this.parameters;u<a.length;u++){var l=a[u];h?l.index===h.index&&(void 0===l.length&&(l.length=0),l.length+=o):null!=n&&l.index>=n&&(o>0?l.index>=n:l.index>n)&&(l.index+=o)}},e.prototype.moveFields=function(h,n,o){var u,l,d,b,a=this;if(0===this.parameters.length)l=h,d=o,b=n;else{if(i.fF.assert(function(){return h>=0&&h<a.getFieldCount()&&n>=0&&n<a.getFieldCount()},"Should use valid field indices"),i.fF.assert(function(){return h+o<=a.getFieldCount()},"Should not attempt to move more fields than exist in collection"),i.fF.assert(function(){return n+o<=a.getFieldCount()},"Moving projections should not change the length of collection"),o<=0||h===n)return[];l=this.convertFieldIndexToProjectionIndex(h);var g=this.indexOfLastProjectionInField(h+o-1);d=g-l+1,b=this.convertFieldIndexToProjectionIndex(n),n>h&&(b+=this.indexOfLastProjectionInField(n+o-1)-b+1-d);for(var E=0,D=this.parameters;E<D.length;E++){var P=D[E];P.index>=h&&P.index<=h+o-1?P.index=n+P.index-h:P.index>h&&P.index<=n+o-1?P.index-=o:P.index<h&&P.index>=n&&(P.index+=o)}if(g<l)return[]}var M=this.items.splice(l,d);return(u=this.items).splice.apply(u,(0,t.__spreadArray)([b,0],M||[],!1)),M},e.prototype.assignProjection=function(h,n){this.items[n]=h},e.prototype.updateQueryRef=function(h,n){this.items[h].queryRef=n},e.prototype.getQueryRefs=function(){return _.map(this.items,function(h){return h.queryRef})},e.prototype.getFieldParameters=function(){return this.parameters},e.prototype.addFieldParameter=function(h){for(var n=0,o=this.parameters;n<o.length;n++){var u=o[n];u.index>=h.index&&u.index++}this.parameters.push(h)},e.prototype.getColumnProjectionIndex=function(h){var n=this;return i.fF.assert(function(){return!_.find(n.parameters,function(o){return o.index===h})},"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(h)},e.prototype.getProjectionsByProjectionIndex=function(h){var n=this.convertProjectionIndexToFieldIndex(h),o=this.getParameterByFieldIndex(n);return o?this.getParameterProjections(o):[this.items[h]]},e.prototype.getProjectionsByFieldIndex=function(h){var n=this.getParameterByFieldIndex(h);if(n){var o=this.getParameterProjections(n),u=_.filter(o,function(d){return null!=d});return u.length!==o.length&&i.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),u}var a=this.convertFieldIndexToProjectionIndex(h),l=this.items[a];return null==l?(i.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[l]},e.prototype.convertProjectionIndexToFieldIndex=function(h){var n,o;if(_.isEmpty(this.parameters))return h;for(var u=0,a=0,d=0,b=_.sortBy(this.parameters,function(g){return g.index});d<b.length;d++){var f=b[d];if(u+h-a<f.index)break;if((a+=f.index-u-1)+(null!==(n=f.length)&&void 0!==n?n:0)>h)return f.index;u=f.index,a+=null!==(o=f.length)&&void 0!==o?o:0}return u+h-a},e.prototype.doesParameterExist=function(h){return _.some(this.parameters,function(n){return n.index===h})},e.prototype.getParameterProjectionIndex=function(h,n){var o=this;return i.fF.assert(function(){return h&&null!=n},"Parameter and indexInParameter should both be defined"),i.fF.assert(function(){return o.doesParameterExist(h.index)},"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(h.index)+n},e.prototype.getColumnProjection=function(h){if(!this.doesParameterExist(h))return this.items[this.getColumnProjectionIndex(h)]},e.prototype.getParameterProjections=function(h){if(!h||!h.length)return[];var n=this.convertFieldIndexToProjectionIndex(h.index);return this.items.slice(n,n+h.length)},e.prototype.removeFieldParameters=function(h){for(var n=function(f){var g=_.findIndex(o.parameters,function(P){return P.index===f.index&&(0,c.fS)(P.expr,f.expr)});if(g<0)return{value:!1};var S=o.parameters.splice(g,1)[0],y=S.index;i.fF.assert(function(){return 0===S.length||null==S.length},"there should be no projections for this removed parameter");for(var C=0,E=o.parameters;C<E.length;C++){var D=E[C];D.index>y&&D.index--}},o=this,u=0,a=h;u<a.length;u++){var d=n(a[u]);if("object"==typeof d)return d.value}return!0},e.prototype.findParameterBySQExpr=function(h){return _.isEmpty(this.parameters)?[]:this.parameters.filter(function(n){return(0,c.fS)(n.expr,h)})},e.prototype.getParameterByFieldIndex=function(h){return _.find(this.parameters,function(n){return n.index===h})},Object.defineProperty(e.prototype,"activeProjectionRefs",{get:function(){return this._activeProjectionRefs},set:function(n){if(_.isEmpty(n))this._activeProjectionRefs=void 0;else{for(var o=this.items.map(function(d){return d.queryRef}),u=0,a=n;u<a.length;u++)if(!_.includes(o,a[u]))return;this._activeProjectionRefs=n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showAll",{get:function(){return this._showAll},set:function(n){this._showAll=n},enumerable:!1,configurable:!0}),e.prototype.addActiveQueryReference=function(h){this._activeProjectionRefs?this._activeProjectionRefs.push(h):this._activeProjectionRefs=[h]},e.prototype.getLastActiveQueryReference=function(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]},e.prototype.replaceQueryRef=function(h,n){var o=this;i.fF.assertValue(h,"oldQueryRef"),i.fF.assertValue(n,"newQueryRef"),i.fF.assert(function(){return h!==n},"oldQueryRef !== newQueryRef"),i.fF.assert(function(){return _.isEmpty(o._activeProjectionRefs)},"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role");for(var u=0,a=this.items;u<a.length;u++){var l=a[u];l.queryRef===h&&(l.queryRef=n)}},e.prototype.clone=function(){return new e(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,function(h){return{expr:h.expr,index:h.index,length:h.length}}))},e.prototype.getProjectionIndex=function(h,n,o){var u,a;if(n){var l=null!==(u=n.length)&&void 0!==u?u:0;null!=o?(i.fF.assert(function(){return o<=l},"indexInParameter should not exceed the current length of the parameter's projections."),a=this.convertFieldIndexToProjectionIndex(n.index)+o):a=this.convertFieldIndexToProjectionIndex(n.index)+l}else a=null!=h?this.convertFieldIndexToProjectionIndex(h):this.items.length;return a},e.prototype.convertFieldIndexToProjectionIndex=function(h){return(0,p.VZ)(h,this.parameters)},e.prototype.indexOfLastProjectionInField=function(h){var n=this.convertFieldIndexToProjectionIndex(h),o=_.find(this.parameters,function(u){return u.index===h});return o&&(n+=o.length-1),n},e.prototype.getFieldCount=function(){for(var h,n=this.items.length,o=0,u=this.parameters;o<u.length;o++)n-=(null!==(h=u[o].length)&&void 0!==h?h:0)-1;return n},e}();function m(e){if(!e)return e;var h={};for(var n in e)h[n]=e[n].clone();return h}function v(e,h){if(i.fF.assertAnyValue(e,"roles"),i.fF.assertValue(h,"name"),e)return e[h]}(0,s.y)(V.prototype)},989516:function(ze,K,r){r.d(K,{AV:function(){return F},AZ:function(){return x},CT:function(){return g},GT:function(){return A},Ic:function(){return T},Li:function(){return E},N6:function(){return f},Or:function(){return R},QV:function(){return a},Yw:function(){return D},_Q:function(){return I},cY:function(){return B},d9:function(){return L},fS:function(){return P},fd:function(){return O},gU:function(){return S},hp:function(){return M},j9:function(){return d},k_:function(){return C},km:function(){return N},mV:function(){return y},qm:function(){return b},tQ:function(){return l},tV:function(){return w},xO:function(){return o},yN:function(){return u}});var t=r(226514),c=r(883863),i=r(787941),s=r(389521),p=r(19632),V=r(755397),m=r(799863),v=r(45696),e=r(217926),h=r(324356),n=r(744104),o="{}";function u(W){return null!=W&&1===W.kind}function a(W){return null!=W&&3===W.kind}function l(W){return null!=W&&2===W.kind}function d(W){return null!=W&&0===W.kind}function b(W){return null!=W&&4===W.kind}function f(W){return!(!W||!W.data)&&W&&W.data&&1===W.data.length&&b(W.data[0])}function g(W){if(W&&!_.isEmpty(W.data)){for(var U=W.data.length,j=new Array(U),z=0;z<U;z++){var G=W.data[z];if(!u(G))return;j[z]=G}return j}}function S(W){if(W&&W.dataMap){var U=[];for(var j in W.dataMap){var z=(0,c.rY)(W.dataMap[j]);U.push.apply(U,z||[])}return U}}function y(W,U){if(!_.isEmpty(W)){var j=E(W);if(!_.isEmpty(j))return(0,p.Lu)(j,U)}}function C(W){return y(_.map(W,function(U){return w(U)}))}function E(W){if(!_.isEmpty(W)){for(var U=[],j=function(Q,H){var de=W[Q];i.fF.assert(function(){return!!de},"There is an undefined selector in a list of selectors");var Y=null==de?void 0:de.data,se=void 0;if(!_.isEmpty(Y))for(var ce=0,pe=Y.length;ce<pe;ce++)se=(0,h.xD)(se,(null==de?void 0:de.data[ce]).expr);se&&U.push(se)},z=0,G=W.length;z<G;z++)j(z);return U}}function D(W){if(!_.isEmpty(W))for(var U=0,j=W;U<j.length;U++){var z=j[U];if(z.dataMap)for(var G in z.dataMap){var te=z.dataMap[G];if(!_.isEmpty(te)&&_.some(te,function(Q){return null!=Q}))return!0}}}function P(W,U,j){return(W=W||null)===(U=U||null)||!(!W!=!U||(i.fF.assertValue(W,"x"),i.fF.assertValue(U,"y"),W.metadata!==U.metadata)||!M(W.data,U.data)||W.highlightMatching!==U.highlightMatching||(null==j||!j.skipId)&&W.id!==U.id||(null==j||!j.skipOrder)&&W.order!==U.order)}function M(W,U){if((W=W||null)===(U=U||null))return!0;if(!W!=!U||W.length!==U.length)return!1;for(var j=0,z=W.length;j<z;j++)if(!B(W[j],U[j]))return!1;return!0}function T(W,U){return(W=W||null)===(U=U||null)||!W==!U&&P(w(W),w(U))}function R(W,U){if((W=W||null)===(U=U||null))return!0;if(!W!=!U||W.length!==U.length)return!1;for(var j=0;j<W.length;j++)if(!T(W[j],U[j]))return!1;return!0}function B(W,U){return u(W)&&u(U)?(0,p.fS)(W,U):a(W)&&a(U)?(0,m.fS)(W,U):l(W)&&l(U)?(0,V.fS)(W,U):d(W)&&d(U)?(0,s.fS)(W,U):!(!b(W)||!b(U))&&(0,v.fS)(W,U)}function N(W){var U;if(W.data)if(W.data.length>0){U="data: [".concat(W.data[0].key);for(var j=1,z=W.data.length;j<z;j++)U+=", ".concat(W.data[j].key);U+="]"}else U="data: []";var G=W.metadata;G&&(U?U+=", metadata: "+G:U="metadata: "+G);var te=W.id;return te&&(U?U+=", id: "+te:U="id: "+te),U?"{"+U+"}":"{}"}function x(W,U){if(_.isEmpty(W.data))return[o];var j=[];if(U)j=_.map(W.data,function(H){return H.key});else for(var z=0,G=W.data;z<G.length;z++){var te=G[z];if(u(te)){var Q=(0,e.RR)(te.expr);Q=Q||(0,e.KX)(te.expr),_.forEach(Q,function(H){j.push((0,n.qC)(H))})}}return j}function A(W){i.fF.assertValue(W,"selector");var U=W.data;return!!U&&_.some(U,function(j){return d(j)||a(j)||b(j)})}function I(W){i.fF.assertValue(W,"selector");var U=W.data;if(_.isEmpty(U))return!1;for(var j=0,z=U;j<z.length;j++)if(d(z[j]))return!0;return!1}function w(W){if(W){var U=[];for(var j in W.dataMap)for(var G=0,te=(0,c.rY)(W.dataMap[j]);G<te.length;G++)U.push(te[G]);var H={};return U.length>0&&(H.data=U),W.metadata&&(H.metadata=_.head(W.metadata)),W.id&&(H.id=W.id),H}}function F(W,U){if(W&&W.metadata){i.fF.assertNonEmpty(U,"getSelectorTargetExpr - selectTransforms");var j=_.find(U,function(z){return z.queryName===W.metadata});if(j)return j.expr}}function O(W){return i.fF.assertAnyValue(W,"selector"),W&&W.data?{data:W.data}:W}function L(W){var U={};return W.data&&(U.data=(0,t.__spreadArray)([],W.data,!0)),W.metadata&&(U.metadata=W.metadata),W.id&&(U.id=W.id),void 0!==W.highlightMatching&&(U.highlightMatching=W.highlightMatching),null!=W.order&&(U.order=W.order),U}},760182:function(ze,K,r){r.d(K,{M:function(){return i},V:function(){return c}});var t=r(787941),c=function(s){return s[s.Default=0]="Default",s[s.Verbose=1]="Verbose",s[s.WholeUnits=2]="WholeUnits",s[s.DataLabels=3]="DataLabels",s}({});function i(s){t.fF.assertValue(s,"visualElements shouldn't be empty");for(var p=[],V=0,m=s;V<m.length;V++)for(var e=function(a){_.find(p,function(l){return _.isEqual(l,a)})||p.push(a)},h=0,n=m[V].DataRoles;h<n.length;h++)e(n[h]);return p}},647639:function(ze,K,r){r.d(K,{W7:function(){return o},tY:function(){return n}});var t=r(456535),c=r(474147),i=r(883863),s=r(787941),p=r(217926),V=r(989516);function v(l){return _.cloneDeep(l)}function h(l){return{windowValues:_.map(l.windowValues,function(d){return function(l){return{identityValues:_.clone(l.identityValues),restartValues:_.clone(l.restartValues),windowKind:l.windowKind}}(d)}),identityValues:_.clone(l.identityValues),children:_.map(l.children,function(d){return h(d)})}}function n(l,d,b,f){if(l){l=function(l){if(l)return{levels:v(l.levels),root:h(l.root)}}(l);var g=(0,V.CT)(d);if(!g)return s.fF.assertFail("Empty selector"),l;for(var S=l.root,y=0,C=function(){var T=(0,p.RR)(g[y].expr);if(!l.levels[y]||!(0,i.NF)(T,l.levels[y].identityKeys,c.fS))return s.fF.assertFail("Level not found"),{value:l};var R=(0,p.KX)(g[y].expr);S=_.find(S.children,function(B){return(0,i.NF)(B.identityValues,R,c.fS)}),y++};S&&y<_.size(g)-1;){var E=C();if("object"==typeof E)return E.value}if(!S||y<_.size(g)-1)return s.fF.assertFail("Cannot find node"),l;var D=(0,p.KX)(g[y].expr);if(f)S.windowValues=[{identityValues:D,windowKind:b,restartValues:f}];else{var P=_.find(S.windowValues,function(M){return(0,i.NF)(D,M.identityValues,c.fS)});if(!P)return s.fF.assertValue(P,"Cannot find a window for the specified node"),S.windowValues=[],l;P.windowKind=b,S.windowValues=[P]}return l}}function o(l,d,b,f){if(l&&l.root){var g=_.map(l.levels,function(y){return function(l,d,b){if(l.identityKeys)return l.identityKeys;var f=_.map(l.queryRefs,function(g){var S=d.withName(g);s.fF.assertValue(S,"Cannot find expr "+g);var y=S.expr;return(0,t.ez)(y)?y.getTargetColumnRef(b):y});return s.fF.assert(function(){return 1===_.size(f)},"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),f[0].getKeyColumns(b)}(y,b,f)}),S=0;return d&&(S=-1===(S=_.findIndex(d.levels,function(y,C){return!(0,i.NF)(y.identityKeys,g[C],c.fS)}))?_.size(d.levels):S),{levels:_.map(g,function(y){return{identityKeys:y}}),root:a(l.root,d&&d.root,S,0,l.levels)}}}function a(l,d,b,f,g){s.fF.assertValue(l,"Expansion node should be defined");var S=d&&d.children||[],y=d&&d.windowValues||[];f>=b&&(S=[],y=[]);var E=_.filter(l.children,function(D){return g[f]&&!!D.isToggled==!!g[f].isCollapsed});return{children:_.map(E,function(D){return a(D,(P=D.identityValues,d&&_.find(S,function(M){return(0,i.NF)(P,M.identityValues,c.fS)})),b,f+1,g);var P}),identityValues:l.identityValues,windowValues:y}}},927928:function(ze,K,r){r.d(K,{P:function(){return t},U:function(){return c}});var t=function(i){return i[i.Default=0]="Default",i[i.BypassCache=1]="BypassCache",i}({}),c=function(i){return i[i.None=0]="None",i[i.AllowCache=1]="AllowCache",i[i.AllowQuery=2]="AllowQuery",i[i.CacheResult=4]="CacheResult",i[i.PreventRefresh=8]="PreventRefresh",i}({})},499995:function(ze,K,r){r.d(K,{oA:function(){return S},Sz:function(){return y}});var t=r(226514),c=r(787941),i=r(116170),s=r(615419),n=r(655981),u=r(60495),a=r(340608),l=r(939141),d=r(950870),b=r(668268),f=r(45696),g=r(456535);function S(D,P,M,T){var R=C(D,P,M,T);return R&&R.expressions}function y(D,P,M,T){return c.fF.assertValue(D,"propDefn"),C(D,P,M,T)}function C(D,P,M,T){var B,N,R=new d.S;return(0,b.er)(D)?((B=new E(P,M,T,D.context)).propertyVisitor=N,(N=new a._(B,R)).visitExpr(D.value)):(0,b.Rc)(D)?(B=new E(P,M,T),N=new a._(B,R),B.propertyVisitor=N,N.visitExpr(D)):(B=new E(P,M,T),N=new a._(B,R),B.propertyVisitor=N,(0,l.RL)(D,B)),{expressions:B.exprs,references:R.references}}var E=function(D){function P(M,T,R,B){var N=D.call(this)||this;return N.selector=M,N.querySelects=T,N.context=B,N.exprs=[],N.inputExpr=N.resolveSelectRef(R),N}return(0,t.__extends)(P,D),P.prototype.resolveSelectRef=function(M){return M&&(0,g.NH)(M)?this.getSelectByRef(M):M},P.prototype.add=function(M){this.context&&(M.context=this.context),null!=this.relatedProjectionQueryName&&(M.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(M)},P.prototype.visitMeasureRef=function(M){this.add({expr:M,selector:this.selector})},P.prototype.visitArithmetic=function(M){this.add({expr:M,selector:this.selector})},P.prototype.visitAggr=function(M){if((0,g.NH)(M.arg)){var R={expr:this.getSelectByRef(M.arg),selector:this.selector,aggregates:this.getAggregates(M.func)};this.add(R)}else this.add({expr:M,selector:this.selector})},P.prototype.checkIfOrdinal=function(M){},P.prototype.getAggregates=function(M){switch(M){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0};default:c.fF.assertFail("Unsupported Projection Aggregate")}},P.prototype.visitPercentile=function(M){if((0,g.NH)(M.arg)){var R={expr:this.getSelectByRef(M.arg),selector:this.selector,aggregates:{percentiles:[{k:M.k,exclusive:M.exclusive}]}};this.add(R)}else this.add({expr:M,selector:this.selector})},P.prototype.visitColumnRef=function(M){this.add({expr:M,selector:this.selector})},P.prototype.visitContains=function(M){this.checkIfOrdinal(M),D.prototype.visitContains.call(this,M)},P.prototype.visitStartsWith=function(M){this.checkIfOrdinal(M),D.prototype.visitStartsWith.call(this,M)},P.prototype.visitCompare=function(M){this.checkIfOrdinal(M),D.prototype.visitCompare.call(this,M)},P.prototype.visitHierarchyLevel=function(M){this.add({expr:M,selector:this.selector})},P.prototype.visitNativeMeasure=function(M){this.add({expr:M,selector:this.selector})},P.prototype.visitSelectRef=function(M){var T=this.getSelectByRef(M);T&&this.add({expr:T,selector:this.selector})},P.prototype.getSelectByRef=function(M){var T=this.querySelects.withName(M.expressionName);return T&&T.expr},P.prototype.visitScopedEval=function(M){var T=M.decomposeGlobalAggregateOfScopedExpr();if(T){var R={expr:this.resolveSelectRef(T.source),selector:this.selector,aggregates:this.getAggregates(T.func)};this.add(R)}else M.hasGlobalScope()?this.add(R={expr:M.expression,selector:null}):(R={expr:M,selector:{data:[(0,f.Ue)()]}},this.add(R))},P.prototype.visitFillRule=function(M){M.input.accept(this),this.inputExpr=this.resolveSelectRef(M.input),this.visitFillRuleDefinition(M.rule)},P.prototype.visitFillDefinition=function(M){(0,s.RL)(M,this.propertyVisitor)},P.prototype.visitFillRuleDefinition=function(M){c.fF.assertValue(M,"fillRule"),c.fF.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var T=M.linearGradient2||M.linearGradient3;c.fF.assertValue(T,"fillRule needs either linearGradient2 or linearGradient3"),c.fF.assertValue(T.min,"gradient.min"),c.fF.assertValue(T.max,"gradient.max");var R={};T.min.value||(R.min=!0),T.max.value||(R.max=!0),(R.min||R.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:R}),(0,n.RL)(M,this.propertyVisitor))},P.prototype.visitDataBarsDefinition=function(M){c.fF.assertValue(this.inputExpr,"Databars without an input Expr"),c.fF.assertValue(M,"dataBars");var T={};M.minValue||(T.min=!0),M.maxValue||(T.max=!0),(T.min||T.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:T}),function(D,P){c.fF.assertValue(D,"dataBars"),D.minValue&&P.visitExpr(D.minValue),D.maxValue&&P.visitExpr(D.maxValue),D.totalMatchingOption&&P.visitExpr(D.totalMatchingOption),(0,s.RL)(D.positiveColor,P),(0,s.RL)(D.negativeColor,P),(0,s.RL)(D.axisColor,P),P.visitExpr(D.reverseDirection),P.visitExpr(D.hideText)}(M,this.propertyVisitor))},P.prototype.visitIconDefinition=function(M){!function(D,P){c.fF.assertValue(D,"fillRule"),D.layout&&P.visitExpr(D.layout),D.verticalAlignment&&P.visitExpr(D.verticalAlignment),D.value&&P.visitExpr(D.value)}(M,this.propertyVisitor)},P.prototype.visitParagraphs=function(M){(0,u.RL)(M,this.propertyVisitor)},P.prototype.visitErrorRangeDefinition=function(M){var T=this;c.fF.assert(function(){return null!=T.selector.metadata},"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,function(D,P){D.explicit?function(D,P){P.visitExpr(D.isRelative),D.lowerBound&&P.visitExpr(D.lowerBound),D.upperBound&&P.visitExpr(D.upperBound)}(D.explicit,P):D.symmetricalExplicit?P.visitExpr(D.symmetricalExplicit.delta):D.standardDeviation?function(D,P){D.visitExpr(P.value),D.visitExpr(P.multiplier)}(P,D.standardDeviation):D.percentage?function(D,P){P.visitExpr(D.lowerBoundDelta),P.visitExpr(D.upperBoundDelta)}(D.percentage,P):D.percentile?function(D,P){P.visitExpr(D.lowerBound),P.visitExpr(D.upperBound)}(D.percentile,P):c.fF.assertFail("Unsupported ErrorRangeDefinition")}(M,this.propertyVisitor),this.relatedProjectionQueryName=void 0},P}(i.PA)},195393:function(ze,K,r){r.d(K,{V:function(){return p}});var t=r(177497),c=r(787941),i=r(831917),s=r(655981);function p(){return new v}var m=!1;!function(){if(!m){var a=p;(0,i.Z7)().createColorAllocatorFactory=function(){return a()},m=!0}}();var v=function(){function a(){}return a.prototype.fromFillRule=function(l,d){var b=l.linearGradient2,f=l.linearGradient3;if(b||f){var g;f&&(g=void 0===f.min.value&&void 0===f.max.value&&void 0!==f.mid.value);var S=b?b.min:f.min,y=b?b.max:f.max;if(void 0===S.value&&(S.value=d.aggregates&&d.aggregates.min),void 0===y.value&&(y.value=d.aggregates&&d.aggregates.max),void 0!==S.value&&void 0!==y.value)return f&&void 0===f.mid.value&&(f.mid.value=(S.value+y.value)/2),b?new n(b,d):g?new u(f,d):new o(f,d)}},a}();function e(a){return a.strategy===s.LX}function h(a){switch(a.strategy){case s.TJ:return;case s.Sx:return a.color;case s.LX:c.fF.assertFail("getColorFromNullStrategy - called with asZero");break;default:c.fF.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+a.strategy)}}var n=function(){function a(l,d){this.options=l,this.source=d,c.fF.assertValue(l,"options"),c.fF.assertValue(d,"source");var b=l.min,f=l.max;this.scale=(0,t.$Q)([b.value,f.value],[b.color,f.color],!0)}return a.prototype.color=function(l){var d=this.options.nullColoringStrategy;if(null===l&&d){if(!e(d))return h(d);l=0}return this.scale(l)},a.prototype.getRule=function(){return{linearGradient2:this.options}},a.prototype.getSource=function(){return this.source},a}(),o=function(){function a(l,d){this.options=l,this.source=d,c.fF.assertValue(l,"options"),c.fF.assertValue(d,"source"),this.options=l;var b=l.min,f=l.mid,g=l.max;this.scale=(0,t.$Q)([b.value,f.value,g.value],[b.color,f.color,g.color],!0)}return a.prototype.color=function(l){var d=this.options.nullColoringStrategy;if(null===l&&d){if(!e(d))return h(d);l=0}return this.scale(l)},a.prototype.getRule=function(){return{linearGradient3:this.options}},a.prototype.getSource=function(){return this.source},a}(),u=function(){function a(l,d){this.options=l,this.source=d,c.fF.assertValue(l,"options"),c.fF.assertValue(d,"source"),this.options=l;var b=l.min,f=l.mid,g=l.max;this.scale1=(0,t.$Q)([b.value,f.value],[b.color,f.color],!0),this.scale2=(0,t.$Q)([f.value,g.value],[f.color,g.color],!0)}return a.prototype.color=function(l){var d=this.options.nullColoringStrategy;if(null===l&&d){if(!e(d))return h(d);l=0}return l<=this.options.mid.value?this.scale1(l):this.scale2(l)},a.prototype.getRule=function(){return{linearGradient3:this.options}},a.prototype.getSource=function(){return this.source},a}()},238435:function(ze,K,r){r.d(K,{Ay:function(){return v},Dt:function(){return l},Sr:function(){return s},fl:function(){return p},hw:function(){return h},nA:function(){return d},oF:function(){return c},vS:function(){return C},vV:function(){return V},yL:function(){return e}});var t=r(787941);function c(P,M){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var T=P.categorical;T&&function(P,M){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor"),s(P.categories,M);var T=P.values;p(T,M),C(T,M),E(P,M)}(T,M);var R=P.table;R&&V(R,M);var B=P.matrix;B&&function(P,M){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor"),v(P.rows,M),e(P.columns,M),h(P.values,M)}(B,M);var N=P.tree;N&&function(P,M){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor"),l(P.nodes,M),d(P.values,M)}(N,M);var x=P.single;x&&function(P,M){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor"),M.visitRole(P.role)}(x,M)}function s(P,M){P&&(b(P,M,"CategoricalCategory"),f(P,M,"CategoricalCategory"),S(P,M,"CategoricalCategory"),E(P,M))}function p(P,M){if(P){b(P,M,"CategoricalValue"),f(P,M,"CategoricalValue"),S(P,M,"CategoricalValue");var T=P.group;if(T)for(var R=0,B=T.select;R<B.length;R++){var N=B[R];b(N,M,"CategoricalValueGroup"),f(N,M,"CategoricalValueGroup")}}}function V(P,M){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var T=P.rows;b(T,M,"TableField"),f(T,M,"TableField"),S(T,M,"TableField"),E(T,M)}function v(P,M){!function(P,M,T){if(t.fF.assertAnyValue(P,"mapping"),t.fF.assertValue(M,"visitor"),P){var R=null==P?void 0:P.values;f(P,M,T),function(P,M,T){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var R=P.select;if(R)for(var B=0,N=R;B<N.length;B++){var x=N[B];b(x,M,T),f(x,M,T),g(x,M,T)}}(P,M,T),t.fF.assert(function(){return!(P.dataReductionAlgorithm&&function(P){return P&&_.some(P,function(M){return M.dataReductionAlgorithm})}(P.select))},"Mapping has overall data reduction but also scoped data reduction(s)"),E(P,M),R&&(f(R,M,"MatrixRowsScopedValue"),S(R,M,"MatrixRowsScopedValue"))}}(P,M,"MatrixRowsGroup")}function e(P,M){u(P,M,"MatrixColumnsGroup")}function h(P,M){u(P,M,"MatrixIntersection")}function u(P,M,T){t.fF.assertAnyValue(P,"mapping"),t.fF.assertValue(M,"visitor"),P&&(f(P,M,T),S(P,M,T),E(P,M))}function l(P,M){t.fF.assertAnyValue(P,"mapping"),t.fF.assertValue(M,"visitor"),P&&(f(P,M,"TreeNode"),E(P,M))}function d(P,M){t.fF.assertAnyValue(P,"mapping"),t.fF.assertValue(M,"visitor"),P&&f(P,M,"TreeValue")}function b(P,M,T){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var R=P.bind;R&&M.visitRole(R.to,T)}function f(P,M,T){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var R=P.for;R&&M.visitRole(R.in,T)}function g(P,M,T){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var R=P.composite;if(R){M.enterComposite&&M.enterComposite(P);for(var B=0,N=R;B<N.length;B++){var x=N[B];b(x,M,T),f(x,M,T)}M.exitComposite&&M.exitComposite(P)}}function S(P,M,T){t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor");var R=P.select;if(R)for(var B=0,N=R;B<N.length;B++){var x=N[B];b(x,M,T),f(x,M,T)}}function C(P,M){if(t.fF.assertAnyValue(P,"mapping"),t.fF.assertValue(M,"visitor"),P){var T=P.group;T&&(M.visitRole(T.by,"CategoricalSeries"),E(T,M))}}function E(P,M){if(t.fF.assertValue(P,"mapping"),t.fF.assertValue(M,"visitor"),M.visitReduction){var T=P.dataReductionAlgorithm;T&&M.visitReduction(T)}}},472727:function(ze,K,r){function t(s,p){return s&&p?s.identityIndex===p.identityIndex:s===p}function i(s){return"number"==typeof(null==s?void 0:s.identityIndex)}r.d(K,{Ye:function(){return i},fS:function(){return t}})},726672:function(ze,K,r){r.d(K,{L:function(){return i}});var t=r(787941),c=r(261374),i=function(){function s(p,V,m,v,e,h,n,o,u,a){this.featureSwitches=p,this.warningType=V,this.propertyId=m,this.selector=v,this.objectDisplayNameGetter=e,this.propertyDisplayNameGetter=h,this.valueExpr=n,this.value=o,this.expectedValueType=u,this.columnExpr=a,1===this.warningType?(t.fF.assertValue(u,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}return Object.defineProperty(s.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:t.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),s.prototype.getMessages=function(p,V){if(V){if(this.cachedMessage)return this.cachedMessage;var v=p.get("NamePattern_Colon"),e=[],h=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(p):this.propertyDisplayNameGetter,n=(0,c.W)(p.get(this.titleKey),h),o=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(p):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var u=(0,c.W)(v,p.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),o);e.push(u)}var a=V(this.valueExpr);if(a){var l=(0,c.W)(v,p.get("Field_Source"),a);e.push(l)}if(void 0!==this.columnExpr){var d=V(this.columnExpr),b=(0,c.W)(v,p.get("Field_Target"),d);e.push(b)}if(1===this.warningType&&this.expectedValueType){var f=(0,c.W)(v,p.get("DataBoundExprWarning_ExpectedDataType"),s.getPrimitiveValueType(this.expectedValueType,p));e.push(f)}if(0===this.warningType&&this.value){var g=(0,c.W)(v,p.get("Value"),this.value.toString());e.push(g)}var S=p.get(this.hintKey);return e.push(S),this.cachedMessage={title:n,message:S,detail:e.join("\n")},this.cachedMessage}t.fF.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")},s.prototype.getTitle=function(p){var V=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(p):this.propertyDisplayNameGetter;return(0,c.W)(p.get(this.titleKey),V)},s.prototype.getMessage=function(p){return p.get(this.hintKey)},s.getPrimitiveValueType=function(p,V){switch(p.primitiveType){case 1:return V.get("Text");case 2:case 3:case 4:return V.get("ConditionalFormattingDialog_Number");case 5:return V.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return V.get("ConditionalFormattingDialog_Date");default:t.fF.assertFail("Invalid expected data type")}},s}()},396894:function(ze,K,r){function t(v,e){if(!_.isEmpty(v)){var h=v[0];if(h.values&&h.values.length>0)for(var n=0,o=h.values.length;n<o;++n){var u=h.values[n];if(u&&u.source&&s(u.source,e))return n}}return-1}function c(v,e){if(!_.isEmpty(v))for(var h=0,n=v.length;h<n;h++)if(s(v[h].source,e))return h;return-1}function i(v,e){var h=[];if(!_.isEmpty(v))for(var n=0,o=v.length;n<o;n++)s(v[n].source,e)&&h.push(n);return h}function s(v,e){var h=v.roles;return h&&h[e]}function p(v,e){return _.some(v,function(h){return s(h,e)})}function V(v,e){return null!=v&&null!=v.metadata&&v.metadata.columns&&_.some(v.metadata.columns,function(h){return h.roles&&void 0!==h.roles[e]})}function m(v,e){return v&&v.source&&v.source.roles&&!0===v.source.roles[e]}r.d(K,{R:function(){return m},a2:function(){return t},aJ:function(){return p},c5:function(){return V},nu:function(){return s},pc:function(){return c},zT:function(){return i}})},283427:function(ze,K,r){r.d(K,{Hy:function(){return f},JU:function(){return M},Lo:function(){return x},fs:function(){return A},ih:function(){return F},sw:function(){return w},ul:function(){return u},zS:function(){return o}});var t=r(474147),c=r(883863),i=r(787941),s=r(750311),p=r(145315),V=r(983172),m=r(668268),v=r(682324),e=r(19632),h=r(926720),n=r(351025),o=function(L){return L.conditionRangeTooLarge="conditionRangeTooLarge",L.conditionRangeTooSmall="conditionRangeTooSmall",L.conditionKindExpectedMeasure="conditionKindExpectedMeasure",L.conditionKindExpectedGrouping="conditionKindExpectedGrouping",L.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",L.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",L.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",L}({});function u(L,W){if(!W||0===W.length)return{dataView:L,isValid:!0};if(L){for(var U=0,j=W;U<j.length;U++){var z=j[U];if(S(L,z))return{dataView:L,isValid:!0};if(z.categorical&&L.categorical)return a(L,z);if(z.tree&&L.tree)return d(L,z.tree);if(z.single&&L.single)return l(L,z.single);if(z.table&&L.table)return b(L,z.table)}if(L.metadata)return{dataView:{metadata:L.metadata},isValid:!0}}return{isValid:!1}}function a(L,W){i.fF.assertValue(W,"dataViewMapping");var z,U=W.categorical,j=L.categorical;if(!j)return{isValid:!1};if(U.rowCount&&(z=U.rowCount.supported)&&z.max){var G=void 0,te=j.categories,Q=z.max,H=void 0;if(te)for(var de=0,Y=te.length;de<Y;de++){var se=te[de];if(H=se.values.length,void 0!==Q&&H>Q){var ce=(0,c.w6)(se.values,0,Q-1);(G=G||{categories:[]}).categories.push({source:se.source,values:ce})}}if(j.values&&j.values.length>0&&Q&&(H||(H=j.values[0].values.length),void 0!==Q&&H>Q))for((G=G||{}).values=(0,h.Yv)(),de=0,Y=j.values.length;de<Y;de++){var pe=j.values[de],ve={source:pe.source,values:(0,c.w6)(pe.values,0,Q-1)};void 0!==pe.min&&(ve.min=pe.min),void 0!==pe.max&&(ve.max=pe.max),void 0!==pe.subtotal&&(ve.subtotal=pe.subtotal),G.values.push(ve)}G&&(L={metadata:L.metadata,categorical:G})}return y(L,W)?{dataView:L,isValid:!0}:null}function l(L,W){return i.fF.assertValue(L,"dataView"),i.fF.assertValue(W,"singleRoleMapping"),L.single?{dataView:L,isValid:!0}:{isValid:!1}}function d(L,W){return i.fF.assertValue(L,"dataView"),i.fF.assertValue(W,"treeRoleMapping"),E(L,W)?{dataView:L,isValid:!0}:{isValid:!1}}function b(L,W){return i.fF.assertValue(L,"dataView"),i.fF.assertValue(W,"tableRoleMapping"),L.table?{dataView:L,isValid:!0}:{isValid:!1}}function f(L){for(var W=0,U=0,j=L.length;U<j;U++)L[U].isMeasure||++W;return W}function S(L,W,U){return!(!W||!L||W.scriptResult&&!function(L,W){return i.fF.assertValue(W,"scriptResultRoleMapping"),!(!L||!L.payloadBase64)}(L.scriptResult,W.scriptResult)||W.categorical&&!y(L,W.categorical,U)||W.tree&&!E(L,W.tree,U)||W.single&&!function(L,W){return i.fF.assertValue(W,"singleRoleMapping"),!!L}(L.single,W.single)||W.table&&!function(L,W,U){if(i.fF.assertValue(W,"tableRoleMapping"),!L)return!1;if(W.rowCount){var j=W.rowCount.supported;if(U&&W.rowCount.preferred&&(j=W.rowCount.preferred),j){var z=0;if(L.rows&&L.rows.length&&(z=L.rows.length),null!=M(z,j))return!1}}return!0}(L.table,W.table,U))}function y(L,W,U){i.fF.assertValue(W,"categoryRoleMapping");var j=L.categorical;if(!j)return!1;if(W.rowCount){var z=W.rowCount.supported;if(U&&W.rowCount.preferred&&(z=W.rowCount.preferred),z){var G=0;if(j.values&&j.values.length?G=j.values[0].values.length:j.categories&&j.categories.length&&(G=j.categories[0].values.length),null!=M(G,z))return!1}}return!0}function E(L,W,U){i.fF.assertValue(W,"treeRoleMapping");var z=W.depth,G=z&&U?z.preferred:z.supported;return null==M(f(L.metadata.columns),G)}function M(L,W,U){if(i.fF.assertValue(L,"value"),W){if(!U&&void 0!==W.min&&W.min>L)return o.conditionRangeTooSmall;if(void 0!==W.max&&W.max<L)return o.conditionRangeTooLarge}}function T(L,W,U,j){if(L&&void 0!==L.kind){var z=L.kind,G=U[W];if(G)for(var Q=0,H=G.all();Q<H.length;Q++)if(j[H[Q].queryRef]!==z)switch(z){case p.DW.Measure:return o.conditionKindExpectedMeasure;case p.DW.Grouping:return o.conditionKindExpectedGrouping;case p.DW.GroupingOrMeasure:return o.conditionKindExpectedGroupingOrMeasure}}}function R(L,W,U,j){if(L&&L.areHierarchicallyRelated&&!_.isEmpty(W)&&!_.isEmpty(U)&&j){var G=N(_.map(W,function(te){return te.queryRef}),U);if(!V.m.areHierarchicallyRelated(j,G))return o.conditionNotHierarchicallyRelated}}function B(L,W,U){if(i.fF.assertAnyValue(L,"can be called with empty role"),i.fF.assertNonEmpty(W,"must have selects"),i.fF.assertValue(U,"must have Schema"),1!==_.chain(W).map(function(H){return H.name}).uniq().value().length){var G=N(_.map(L,function(H){return H.queryRef}),W),te=_.chain(G).map(function(H){return U.schema(H.schema)}).uniq().value(),Q=_.uniqWith(G,function(H,de){return(0,t.fS)(H,de)});if(i.fF.assertNonEmpty(Q,"uniqueEntityExprs"),Q.length<2)return _.some(te,function(H){return!H.capabilities||!H.capabilities.supportsInstanceFilters})?o.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(te,function(H){return!H.capabilities||!H.capabilities.supportsMultiTableTupleFilters||!H.capabilities.supportsInstanceFilters}))return o.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function N(L,W){if(!_.isEmpty(L)&&!_.isEmpty(W)){var U={};L.forEach(function(Q){U[Q]=!0});for(var j=[],z=0,G=W;z<G.length;z++){var te=G[z];te.name&&U[te.name]&&te.expr&&j.push(te.expr.getTargetEntity())}return j}}function x(L,W,U,j,z,G,te,Q){i.fF.assertValue(L,"projections"),i.fF.assertAnyValue(W,"mappings"),i.fF.assert(function(){return _.every(W,function(ue){return _.isPlainObject(ue)})},"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var H=[],de=[];if(!_.isEmpty(W))for(var Y=0,se=W.length;Y<se;Y++){var ce=W[Y],pe=ce.conditions,De=I(ce.requiredProperties,z,j,G),We=[];if(_.isEmpty(pe))We.push({});else for(var je=0,Ae=pe.length;je<Ae;je++){var _e=pe[je],le=A(L,_e,U,void 0,te,Q);if(_.isEmpty(le))We.push(_e);else for(var Z=0,ie=le;Z<ie.length;Z++){var me=ie[Z];me.mappingIndex=Y,me.conditionIndex=je,de.push(me)}}if(!_.isEmpty(We)&&De){var ye=_.cloneDeep(ce);ye.single&&(ye={table:{rows:{for:{in:ye.single.role}}}});var X=_.filter(We,function(ue){return Object.keys(ue).length>0});_.isEmpty(X)||(ye.conditions=X),H.push(ye)}}return{supportedMappings:(0,c.rm)(H),mappingErrors:(0,c.rm)(de)}}function A(L,W,U,j,z,G){i.fF.assertValue(L,"projections"),i.fF.assertValue(W,"condition");for(var te=Object.keys(W),Q=[],H=0,de=te.length;H<de;H++){var Y=te[H],se=L[Y]&&!_.isEmpty(L[Y].activeProjectionRefs),ce=W[Y],pe=!ce.suppressDrill,je=M(w(Y,L,pe&&(null!=j?j:se)&&pe),ce);null!=je&&Q.push({code:je,roleName:Y}),null!=(je=T(ce,Y,L,U))&&Q.push({code:je,roleName:Y});var Ae=L[Y]&&L[Y].projected(),_e=void 0;_.isEmpty(z)||(_e=_.map(Ae,function(le){return z.withName(le.queryRef)})),null!=(je=R(ce,Ae,_e,G))&&Q.push({code:je,roleName:Y}),ce.multiTableTupleFiltersSupported&&G&&!_.isEmpty(z)&&!_.isEmpty(_e)&&null!=(je=B(Ae,_e,G))&&Q.push({code:je,roleName:Y})}return Q}function I(L,W,U,j){if(_.isEmpty(L))return!0;if(!W||!j)return!1;var z=(0,s.Ue)(),G=(0,n.X)(),te=new v.Q(U,z);return _.every(L,function(Q){var H=null,de=j[Q.objectName];if(!de)return!1;var se,Y=W[Q.objectName];return Y&&(H=Y.properties[Q.propertyName]),!_.isEmpty(de)&&de[0]&&(se=(0,m.NA)(j,Q,de[0].selector)),!(!H||!se)&&te.evaluateProperty(G,H,se)})}function w(L,W,U){i.fF.assertValue(L,"roleName"),i.fF.assertValue(W,"projections");var j=W[L];return j?U?1:j.projected().length:0}function F(L,W){if(L&&W&&L.categorical&&W.categorical){var U=L.categorical.categories,j=W.categorical.categories;if(U&&j&&U.length===j.length){for(var z=0,G=U.length;z<G;z++){var te=U[z].identity,Q=j[z].identity,H=O(te);if(H!==O(Q))return!1;for(var de=0;de<H;de++)if(!(0,e.fS)(te[de],Q[de]))return!1}return!0}}return!1}function O(L){return L?L.length:0}},654558:function(ze,K,r){r.d(K,{h:function(){return p}});var t=r(787941),c=r(324356),i=r(19632),s=r(926720);function p(){return new V}var V=function(){function h(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}return h.prototype.withCategory=function(n){var o=n.values,u=n.identityFrom,a=n.source.type,l={source:n.source,identityFields:n.identityFrom.fields,identity:n.identityFrom.identities||[],values:o};if(!n.identityFrom.identities)for(var d=0,b=o.length;d<b;d++)l.identity.push(m(u,d,o[d],a));return this.categories||(this.categories=[]),this.categories.push(l),this},h.prototype.withCategories=function(n){return _.isEmpty(this.categories)?this.categories=n:Array.prototype.push.apply(this.categories,n),this},h.prototype.withValues=function(n){t.fF.assertValue(n,"options");var o=n.columns;t.fF.assertValue(o,"columns");for(var u=0,a=o;u<a.length;u++)this.staticMeasureColumns.push(a[u].source);return this.staticSeriesValues=o,this},h.prototype.withGroupedValues=function(n){t.fF.assertValue(n,"options");var o=n.groupColumn;t.fF.assertValue(o,"groupColumn"),this.dynamicSeriesMetadata={column:o.source,identityFrom:o.identityFrom,values:o.values};for(var a=0,l=n.valueColumns;a<l.length;a++)this.dynamicMeasureColumns.push(l[a].source);return this.dynamicSeriesValues=n.data,this},h.prototype.fillData=function(n){var o=this,u=_.head(this.categories),a=u&&u.values?u.values.length:0;if(this.hasDynamicSeries())for(var l=function(E,D){var P=d.dynamicSeriesValues[E];t.fF.assert(function(){return P.length===o.dynamicMeasureColumns.length},"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var M=0,T=d.dynamicMeasureColumns.length;M<T;M++)e(n[E*T+M],P[M],a)},d=this,b=0,f=this.dynamicSeriesMetadata.values.length;b<f;b++)l(b);if(this.hasStaticSeries())for(var g=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,S=0,y=this.staticMeasureColumns.length;S<y;S++)e(n[g+S],this.staticSeriesValues[S],a)},h.prototype.build=function(){for(var n,o,u=[],a={},d=this.dynamicSeriesMetadata,b=0,f=this.categories;b<f.length;b++)v(u,f[b].source);if(this.hasDynamicSeries()){v(u,d.column),a.values=(0,s.Yv)([],d.identityFrom.fields,d.column);for(var S=d.values,y=new Map,C=0,E=this.dynamicMeasureColumns;C<E.length;C++)null!==(n=(D=E[C]).formatSource)&&void 0!==n&&n.formatString&&y.set(D.formatSource.formatString,new Map);for(var P=0;P<S.length;P++)for(var M=S[P],T=m(d.identityFrom,P,M,d.column.type),R=0,B=this.dynamicMeasureColumns;R<B.length;R++){var D=B[R];(N=_.toPlainObject(D)).groupName=M,y.has(D)&&y.get(D).set(N.groupName,N),N.rolesIndex&&delete N.rolesIndex,v(u,N),a.values.push({source:N,values:[],identity:T})}if(y.size>0)for(var x=function(j){null!==(o=j.formatSource)&&void 0!==o&&o.formatString&&(t.fF.assert(function(){return y.has(j.formatSource.formatString)},"formatString column must be in dynamicFormatStringMappings"),j.formatSource={formatString:y.get(j.formatSource.formatString).get(j.groupName)})},A=0,I=u;A<I.length;A++)x(N=I[A]);if(0===S.length)for(var w=0,F=this.dynamicMeasureColumns;w<F.length;w++){var N;D=F[w],v(u,N=_.toPlainObject(D)),a.values.push({source:N,values:[]})}if(this.hasStaticSeries()){var O=a.values.grouped();a.values.grouped=function(){return O},this.appendStaticMeasureColumns(u,a.values)}}else a.values=(0,s.Yv)(),this.appendStaticMeasureColumns(u,a.values);var L=this.categories;_.isEmpty(L)||(a.categories=L),this.fillData(a.values);var W={metadata:{columns:u},categorical:a};if(this.isLegalDataView(W))return W},h.prototype.appendStaticMeasureColumns=function(n,o){if(t.fF.assertValue(n,"metadataColumns"),t.fF.assertValue(o,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var u=0,a=this.staticMeasureColumns;u<a.length;u++){var l=a[u];v(n,l),o.push({source:l,values:[]})}},h.prototype.isLegalDataView=function(n){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&h.isVisualDataView(n.metadata.columns))},h.isVisualDataView=function(n){return!_.isEmpty(n)&&_.some(n,function(o){return!!o.queryName})},h.prototype.hasDynamicSeries=function(){return!!this.dynamicSeriesMetadata},h.prototype.hasStaticSeries=function(){return!!this.staticSeriesValues},h}();function m(h,n,o,u){var a=h.identities;return a?a[n]:(t.fF.assert(function(){return h.fields&&1===h.fields.length},"Inferring identity, expect exactly one field."),(0,i.TZ)((0,c.Dg)(h.fields[0],(0,c.kQ)(o,u))))}function v(h,n){_.includes(h,n)||h.push(n)}function e(h,n,o){t.fF.assertValue(h,"target"),t.fF.assertValue(n,"source"),t.fF.assertValue(o,"categoryLength");var u=n.values;t.fF.assert(function(){return o===u.length||0===o},"categoryLength === values.length || categoryLength === 0"),h.values=u;var a=n.highlights;a&&(t.fF.assert(function(){return o===a.length},"categoryLength === highlights.length"),h.highlights=a);var d,l=n.objects;l&&(t.fF.assert(function(){return o===l.length},"categoryLength === objects.length"),h.objects=l),void 0!==n.minLocal&&(d||(d={}),d.minLocal=n.minLocal),void 0!==n.maxLocal&&(d||(d={}),d.maxLocal=n.maxLocal),d&&(h.source.aggregates=d,_.extend(h,d))}},870629:function(ze,K,r){r.d(K,{KH:function(){return b},PO:function(){return E}});var t=r(226514),c=r(456535),i=r(787941),s=r(299747),p=r(989516),V=r(324356),m=r(939141),v=r(32756),e=r(698129),h=r(98196),n=r(473667);function o(w){return new u(w)}var u=function(){function w(F){var O;this.dataView=F,i.fF.assertValue(F,"dataView"),this.columnsByRole={},this.valueSources=[];var L={};if(this.dataView.values)for(var W=0,U=this.dataView.values;W<U.length;W++){var j=U[W];this.valueSources.push(j.source);var z=j.source.rootSource;z&&(L[j.source.index]=z)}(O=this.valueSources).unshift.apply(O,_.values(L))}return w.prototype.getExprColumn=function(F,O){return(0,n.T5)(F,this.valueSources,O?void 0:this.groupName)},w.prototype.getScopedEvalExprValue=function(F){var O=F.decomposeGlobalAggregateOfScopedExpr();if(O){var L=_.chain(this.valueSources).filter(function(U){return null==U.groupName}).value(),W=(0,n.T5)(O.source,L);return W?(0,n._L)(W,O.func):void 0}if(F.hasInnerMostScope())return this.getExprValue(F.expression);F.hasGlobalScope()?i.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},w.prototype.getExprValue=function(F){var O=this.index;if(_.isNumber(O)){var L=this.dataView.values;if(L){var W=(0,n.T5)(F,this.valueSources,this.groupName),U=_.find(L,function(j){return j.source===W});if(U)return this.useHighlightValues?U.highlights[O]:U.values[O]}}},w.prototype.getRoleValues=function(F){var O=this,L=this.columnsByRole,W=L[F];if(W||(W=L[F]=function(w,F){return i.fF.assertValue(w,"dataViewCategorical"),l(w.values,F)||l(w.categories,F)}(this.dataView,F)),W&&null!=this.index)return _.map(W,function(j){return j.values[O.index]})},w.prototype.setCurrentRowIndex=function(F){i.fF.assertValue(F,"index"),this.index=F},w.prototype.resetCurrentRowIndex=function(){delete this.index},w.prototype.setCurrentColumnGroupName=function(F){i.fF.assertValue(void 0!==F,"groupName"),this.groupName=F},w.prototype.useHighlights=function(F){this.useHighlightValues=F},w}();function l(w,F){if(i.fF.assertAnyValue(w,"columns"),w){for(var O=[],L=0,W=w;L<W.length;L++){var U=W[L],j=U.source.roles;!j||!j[F]||O.push(U)}return O}}var d=r(731590);function b(w,F,O,L,W,U,j,z){i.fF.assertValue(w,"dataViewCategorical"),i.fF.assertAnyValue(F,"selectTransforms"),i.fF.assertValue(O,"objectDescriptors"),i.fF.assertValue(L,"objectDefnsForSelector");for(var G=0,te=L;G<te.length;G++){var Q=te[G],H=Q.selector,de=Q.rules,Y=Q.objects;i.fF.assertValue(H,"selector"),i.fF.assertAnyValue(de,"rules"),i.fF.assertValue(Y,"objectDefns");var se=(0,p.GT)(H);H=T(w,H);var ce=(0,d.U)(H,W);j&&(j.selector=H,j.targetExpr=(0,p.AV)(H,F)),f(w,O,H,se,Y,ce,U,j),C(w,O,H,se,Y,ce,U,j,z),P(w,O,H,Y,U,j,z)}}function f(w,F,O,L,W,U,j,z){if(i.fF.assertValue(w,"dataViewCategorical"),i.fF.assertValue(F,"objectDescriptors"),i.fF.assertValue(O,"selector"),i.fF.assertValue(L,"containsWildcard"),i.fF.assertValue(W,"objectDefns"),w.categories&&0!==w.categories.length){var G=function(w,F,O){i.fF.assertValue(w.categories[0],"dataViewCategorical.categories[0]");for(var L=w.categories[0].identity,W=[],U=0,j=w.categories;U<j.length;U++){var z=j[U];if(!z.identityFields||!O.matchesKeys([z.identityFields],1))return;W.push(z)}i.fF.assert(function(){return W.length===w.categories.length},"Column length mismatch");var G=F.metadata;if(G){var te=w.values;if(te)for(var Q=0,H=te.length;Q<H;Q++){var de=te[Q];if(de.source.queryName===G){W=[de];break}}}return{columns:W,identities:L}}(w,O,U);if(G){var H,te=function(w){return _.some(w.values,function(F){return!!F.highlights})}(w),Q=G.identities,de=o(w);if(Q){for(var Y,se,ce=0,pe=Q.length;ce<pe;ce++)if(L||U.matches([Q[ce]])){switch(de.setCurrentRowIndex(ce),O.highlightMatching){case void 0:case 0:Y=!0,se=!1;break;case 1:Y=!0,se=te;break;case 2:Y=!te,se=te;break;default:i.fF.assertNever(O.highlightMatching)}if(Y){de.useHighlights(!1);var De=(0,h.PJ)(j,de,F,W,z);if(De)for(var We=0,je=G.columns;We<je.length;We++){var _e=(Ae=je[We]).objects;_e||(_e=Ae.objects=new Array(pe)),_e[ce]||(_e[ce]={}),(0,e.PM)(_e[ce],De,O.id,O.order)}H=!0}if(se){de.useHighlights(!0);var le=(0,h.PJ)(j,de,F,W,z);if(le)for(var Z=0,ie=G.columns;Z<ie.length;Z++){var Ae,me=(Ae=ie[Z]).highlightObjects;me||(me=Ae.highlightObjects=new Array(pe)),me[ce]||(me[ce]={}),(0,e.PM)(me[ce],le,O.id,O.order)}H=!0}if(!L)return H}return H}}}}function y(w,F,O){return i.fF.assertAnyValue(F,"propertyDefn"),!!(F instanceof V.Il&&(0,c.NH)(F)&&0===F.attributeKind)||function(w,F,O){return O.measureDrivenDataLabels&&"labels"===w&&null!=F}(w,F,O)||(0,m.ZG)(F)||function(w,F,O){var L,W,U=null===(W=null===(L=F.solid)||void 0===L?void 0:L.color)||void 0===W?void 0:W.kind;return O.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(w)&&(24===U||42===U||4===U||3===U)}(w,F,O)}function C(w,F,O,L,W,U,j,z,G){i.fF.assertValue(w,"dataViewCategorical"),i.fF.assertValue(F,"objectDescriptors"),i.fF.assertValue(O,"selector"),i.fF.assertValue(L,"containsWildcard"),i.fF.assertValue(W,"objectDefns");var te=w.values;if(te&&te.identityFields&&U.matchesKeys([te.identityFields],1)){var Q=te.grouped();if(Q){for(var se,H=o(w),de=O.metadata,Y=N(W,y,G),ce=0,pe=Q;ce<pe.length;ce++){var ve=pe[ce];if(void 0!==ve.name){_.isEmpty(Y)||(H.setCurrentColumnGroupName(ve.name),M(F,O,Y,j,z,H,ve,G));var De=ve.values;if(L||U.matches([ve.identity])){var We=(0,h.PJ)(j,H,F,W,z);if(We)if(de)for(var je=0,Ae=De.length;je<Ae;je++){var _e=De[je],le=_e.source;if(le.queryName===de){var Z=(0,s.ED)(le),ie=Z.objects;ie||(ie=Z.objects={}),(0,e.PM)(ie,We,O.id,O.order),_e.source=Z,se=!0;break}}else{var me=ve.objects;me||(me=ve.objects={}),(0,e.PM)(me,We,O.id,O.order),E(te,Q),se=!0}if(!L)return!0}}}return se}}}function E(w,F){w.grouped=F?function(){return F}:function(){return function(w){i.fF.assertValue(w,"values");for(var O,F=[],L=0,W=w.length;L<W;L++){var U=w[L];if(!O||O.identity!==U.identity){if(O={values:[]},U.identity){O.identity=U.identity;var j=U.source;void 0!==j.groupName?O.name=j.groupName:j.displayName&&(O.name=j.displayName)}F.push(O)}O.values.push(U)}return F}(w)}}function P(w,F,O,L,W,U,j){if(i.fF.assertValue(w,"dataViewCategorical"),i.fF.assertValue(F,"objectDescriptors"),i.fF.assertValue(O,"selector"),i.fF.assertValue(L,"objectDefns"),_.isEmpty(w.categories)){var z=w.values;if(!z||_.isEmpty(z.identityFields)){var G=function(w,F){var O=F.metadata;if(void 0!==O&&w)return i.fF.assert(function(){return 1===_.filter(w,function(L){return L.source.queryName===O}).length},"Only one column has to match"),_.find(w,function(L){return L.source.queryName===O})}(w.values,O);if(G){var te=o(w),Q=(0,p.N6)(O);if(L=N(L,y,j),!_.isEmpty(L)&&Q){i.fF.assert(function(){return w.values.length>0},"dataViewCategorical.values.length > 0"),i.fF.assert(function(){return w.values[0].values.length<=1},"There has to be max 1 row since there are no category groupings"),te.setCurrentRowIndex(0);var de=(0,h.PJ)(W,te,F,L,U);if(de){var Y=G.objects;Y||(Y=G.objects=[]),Y[0]||(Y[0]={}),(0,e.PM)(Y[0],de,O.id,O.order)}}}}}}function M(w,F,O,L,W,U,j,z){if(i.fF.assertValue(w,"objectDescriptors"),i.fF.assertValue(F,"selector"),i.fF.assertValue(O,"objectDefns"),i.fF.assertValue(U,"evalContext"),i.fF.assertValue(j,"valueGrouping"),(0,p.N6)(F))for(var G=function(w,F,O){return void 0===(null==F?void 0:F.metadata)&&O.categoricalSecondaryCF?w:_.filter(w,function(L){return L.source.queryName===F.metadata})}(j.values,F,z),te=0,Q=G;te<Q.length;te++){var H=Q[te];i.fF.assertValue(H.source.groupName===j.name,"targetColumn.source.groupName");for(var de=H.values.length,Y=0;Y<de;Y++){U.setCurrentRowIndex(Y),U.useHighlights(!1);var se=(0,h.PJ)(L,U,w,O,W);if(se){var ce=H.objects;ce||(ce=H.objects=new Array(de)),ce[Y]||(ce[Y]={}),(0,e.PM)(ce[Y],se,F.id,F.order)}if(null!=H.highlights){U.useHighlights(!0);var pe=(0,h.PJ)(L,U,w,O,W);if(pe){var ve=H.highlightObjects;ve||(ve=H.highlightObjects=new Array(de)),ve[Y]||(ve[Y]={}),(0,e.PM)(ve[Y],pe,F.id,F.order)}}U.resetCurrentRowIndex()}}}function T(w,F){return(0,p._Q)(F)&&(F=(0,v.w)(F,function(O){return function(w,F){if(F.categories)for(var O=0,L=F.categories;O<L.length;O++){var W=L[O];if(W.source&&(0,v.s)([W.source],w))return[W.identityFields]}}(O,w)})),F}function N(w,F,O){return i.fF.assertValue(w,"objectDefns"),_.chain(w).map(function(L){return(0,t.__assign)((0,t.__assign)({},L),{properties:_.pickBy(L.properties,function(W){return F(L.name,W,O)})})}).filter(function(L){return!_.isEmpty(Object.keys(L.properties))}).value()}},232225:function(ze,K,r){r.d(K,{eC:function(){return h},pP:function(){return e},zq:function(){return n}});var t=r(787941),c=r(299747),i=r(448711),s=r(592042),p=r(474505),V=r(620108),m=r(292042),v=r(473667);function e(y,C,E,D,P){t.fF.assertValue(y,"dataView"),t.fF.assertAnyValue(C,"objectDescriptors"),t.fF.assertAnyValue(E,"applicableRoleMappings"),t.fF.assertAnyValue(D,"projectionActiveItems");var M=y,T=y.categorical;if(T){var R=function(y,C,E){t.fF.assertValue(y,"dataViewCategorical"),t.fF.assertAnyValue(C,"applicableRoleMappings");var D,P=_.chain(C).filter(function(N){return!(0,p.zY)(N)}).map(function(N){return N.categorical}).value(),M=!_.isEmpty(P)&&_.every(P,function(N){return!!N});if(M){var T=function(y){t.fF.assertNonEmpty(y,"categoricalRoleMappings"),t.fF.assert(function(){return _.every(y,function(E){return!!E})},"categoricalRoleMappings must not contain falsy element");var C=(0,p.y4)(y,p.O2);if(1===_.size(C))return _.head(C)}(P);if(T&&_.includes(E,T)&&function(y,C){t.fF.assertValue(y,"categoricalRoleName"),t.fF.assertNonEmpty(C,"roleMappings"),t.fF.assert(function(){return _.every(C,function(D){return D.categorical})},"All specified roleMappings are expected to target categorical");var E=_.every(C,function(D){return!_.isEmpty(D.conditions)&&_.every(D.conditions,function(P){return P[y]&&1===P[y].max})});return E}(T,C)){var R=_.filter(y.categories,function(N){return N.source.roles&&!!N.source.roles[T]});if(!_.isEmpty(R)){var B=_.every(R,function(N){return N.values.length===R[0].values.length});B&&(D={roleName:T,categories:R})}}}return D}(T,E,P),B=(0,v.dM)(y.metadata.columns);if(R&&(R.categories.length>=2||B)){var N=_.chain(D&&D[R.roleName]).filter(function(A){return A.suppressConcat}).map(function(A){return A.queryRef}).value();M=l(y,(0,V.$v)(C),R.roleName,R.categories,N,B)}}return M}function h(y,C,E,D,P){var M;if(void 0===P&&(P=!1),t.fF.assertValue(y,"metadata"),t.fF.assertAnyValue(C,"formatStringPropId"),t.fF.assertValue(D,"categorical"),!_.isEmpty(D.categories)&&D.categories.length>=2){var T=(0,c.ED)(y.columns);M=l({metadata:(0,c.ED)(y,function(N){N.columns=T}),categorical:D},C,E,D.categories,[],void 0,P)}else M={metadata:y,categorical:D};return M}function n(y){var C=Object.getPrototypeOf(y);return C&&C.categories?C.categories:y.categories}function l(y,C,E,D,P,M,T){void 0===T&&(T=!1),t.fF.assert(function(){return y&&y.categorical&&_.size(y.categorical.categories)>=1},"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),t.fF.assertAnyValue(C,"formatStringPropId"),t.fF.assertValue(E,"roleName"),t.fF.assert(function(){return!_.isEmpty(D)},"!_.isEmpty(columnsSortedByProjectionOrdering)"),t.fF.assert(function(){return _.every(D,function(Q){return _.includes(y.categorical.categories,Q)})},"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var N,x,R=D.length-1,B=_.filter(D,function(Q,H){return H===R||!_.includes(P,Q.source.queryName)});1===D.length?(T||(N=B[0].values),x=B[0].source.type):(T||(N=function(y,C){t.fF.assertValue(y,"columnsSortedByProjectionOrdering"),t.fF.assertAnyValue(C,"formatStringPropId");for(var E=[],D=0,P=y;D<P.length;D++)for(var M=P[D],T=(0,i.EO)(M.source,C),R=0,B=M.values.length;R<B;R++){var x=(0,i.WU)(M.values&&M.values[R],T);E[R]=void 0===E[R]?x:E[R]+" "+x}return E}(B,C)),x=s.Ge.fromDescriptor({text:!0}));var I=function(y,C,E,D){var P;if(t.fF.assertValue(y,"roleName"),t.fF.assertNonEmpty(C,"sourceColumnsSortedByProjectionOrdering"),t.fF.assert(function(){return 1===_.chain(C).map(function(I){return I.isMeasure}).uniq().value().length},"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),D)P=function(y,C){return y+" "+C}(D,_.last(C).displayName);else for(var T=0,R=C;T<R.length;T++){var B=R[T];P=null==P?B.displayName:P+" "+B.displayName}var N={};N[y]=!0;var x={displayName:P,roles:N,type:E},A=_.last(C);return void 0!==A.isMeasure&&(x.isMeasure=A.isMeasure),x.queryName=A.queryName,x}(E,_.map(B,function(Q){return Q.source}),x,M),w=(0,c.qO)(y);if(function(y,C){t.fF.assertValue(y,"transformedDataView"),t.fF.assertValue(C,"newColumn");var E=(0,c.qO)(y.metadata.columns);E.push(C);var D=(0,c.qO)(y.metadata);D.columns=E,y.metadata=D}(w,I),!T){var F=y.categorical,L=function(y,C,E,D){t.fF.assert(function(){return y&&y.length>=1},"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),t.fF.assertValue(C,"columnMetadata"),t.fF.assertValue(E,"concatenatedValues"),t.fF.assertAnyValue(D,"dataViewObjects");var P={source:C,values:E},M=y[0];return M.identity&&(P.identity=M.identity),M.identityFields&&(P.identityFields=M.identityFields),D&&(P.objects=D),P}(B,I,N,(0,m.OC)(F.categories)),W=_.last(D),U=_.findIndex(F.categories,function(Q){return Q===W}),j=(0,c.qO)(F.categories);j.splice(U,0,L);for(var z=function(H){_.find(D,function(de){return de===j[H]})&&j.splice(H,1)},G=j.length-1;G>=0;G--)z(G);var te=(0,c.qO)(F);te.categories=j,w.categorical=te}return w}},32756:function(ze,K,r){r.d(K,{s:function(){return s},w:function(){return i}});var t=r(989516),c=r(799863);function i(p,V){for(var m={data:[],id:p.id,metadata:p.metadata,order:p.order},v=0,e=p.data;v<e.length;v++){var h=e[v];if((0,t.j9)(h)){var n=V(h.roles);if(!_.isEmpty(n)){for(var o=0,u=n;o<u.length;o++)m.data.push((0,c.ms)(u[o]));continue}}else m.data.push(h)}return m}function s(p,V){for(var m=0,v=p;m<v.length;m++){var h=v[m].roles;if(!h||!_.some(V,function(n){return h[n]}))return!1}return!0}},474505:function(ze,K,r){r.d(K,{G8:function(){return T},O2:function(){return h},Ti:function(){return l},V3:function(){return d},VO:function(){return m},VV:function(){return b},Xs:function(){return o},Xw:function(){return O},ZZ:function(){return V},_1:function(){return n},eD:function(){return F},mn:function(){return P},nG:function(){return p},oJ:function(){return M},u5:function(){return R},wj:function(){return E},y4:function(){return e},zY:function(){return s}});var t=r(883863),c=r(787941),i=r(722089);function s(L){return L&&L.usage&&L.usage.regression||void 0}var p=function(){function L(W){this.includeScopedValuesRoles=W,this.roleNames=[]}return L.prototype.visitRole=function(W,U){(this.includeScopedValuesRoles||"MatrixRowsScopedValue"!==U)&&this.roleNames.push(W)},L.fromMatrixRows=function(W,U){var j=new this(U);return(0,i.Ay)(W,j),j.roleNames},L.fromMatrixColumns=function(W){var U=new this;return(0,i.Ay)(W,U),U.roleNames},L.fromMatrixValues=function(W){var U=new this;return(0,i.hw)(W,U),U.roleNames},L.FromCategoricalValues=function(W){var U=new this;return(0,i.fl)(W,U),U.roleNames},L.fromCategoricalCategories=function(W){var U=new this;return(0,i.Sr)(W,U),U.roleNames},L}();function V(L){return!!(L&&L.usage&&L.usage.forecast)}function m(L){return!!(L&&L.usage&&L.usage.anomalyDetection)}function e(L,W){if(c.fF.assertValue(L,"categoricalRoleMappings"),c.fF.assertValue(W,"rolesGetter"),0!==_.size(L)){var U=_.map(L,function(z){return W(z)}),j=U[0];if(!(U.length>=2)||_.every(U,function(z){return(0,t.NF)(z,j,function(G,te){return G===te})}))return j}}function h(L){if(c.fF.assertValue(L,"categoricalRoleMapping"),!L.categories)return[];var W=[];return(0,i.Sr)(L.categories,{visitRole:function(j){W.push(j)}}),W}function n(L){if(c.fF.assertAnyValue(L,"roleMappings"),!L)return 0;for(var W=0,U=0,j=L;U<j.length;U++){var z=j[U];z.categorical&&(W|=1),z.matrix&&(W|=2),z.single&&(W|=8),z.table&&(W|=8),z.tree&&(W|=16)}return W}function o(L){if(L){if(L.top)return"top";if(L.window)return"window";if(L.bottom)return"bottom";if(L.binnedLineSample)return"binnedLineSample";if(L.overlappingPointsSample)return"overlappingPointsSample";if(L.sample)return"sample";if(L.topNPerLevel)return"topNPerLevel"}}function l(L){return!!L&&!!L.for}function d(L){return!!L&&!!L.composite}function b(L){return!!L&&!!L.select}function E(L){return!!L&&!!L.group}function P(L){return!!L&&!!L.for}function M(L){return!!L&&!!L.composite}function T(L){return!!L&&!!L.select}function R(L){return!!L&&!!L.scope}function F(L){return function(L){return!!L&&!!L.bind}(L)?L.bind.to:P(L)?L.for.in:void c.fF.assertNever(L)}function O(L){return c.fF.assertValue(L,"role"),_.isEmpty(L.items)?[]:_.isEmpty(L.activeItems)?L.items:_.filter(L.items,function(W){return _.includes(L.activeItems,W.queryName)})}},722089:function(ze,K,r){r.d(K,{Ay:function(){return v},Jj:function(){return m},Sr:function(){return s},aU:function(){return i},fl:function(){return p},hw:function(){return h},oF:function(){return c},vS:function(){return y}});var t=r(787941);function c(D,P){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var M=D.categorical;M&&i(M,P);var T=D.table;T&&function(D,P){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var M=D.rows;d(M,P,"TableField"),b(M,P,"TableField"),g(M,P,"TableField"),C(M,P)}(T,P);var R=D.matrix;R&&m(R,P);var B=D.tree;B&&function(D,P){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor"),function(D,P){t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D&&(b(D,P,"TreeNode"),C(D,P))}(D.nodes,P),function(D,P){t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D&&b(D,P,"TreeValue")}(D.values,P)}(B,P);var N=D.single;N&&function(D,P){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor"),P.visitRole(D.role,"SingleField")}(N,P)}function i(D,P){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor"),s(D.categories,P);var M=D.values;p(M,P),y(M,P),C(D,P)}function s(D,P){t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D&&(d(D,P,"CategoricalCategory"),b(D,P,"CategoricalCategory"),g(D,P,"CategoricalCategory"),C(D,P))}function p(D,P){if(t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D){d(D,P,"CategoricalValue"),b(D,P,"CategoricalValue"),g(D,P,"CategoricalValue");var M=D.group;if(M)for(var T=0,R=M.select;T<R.length;T++){var B=R[T];d(B,P,"CategoricalValueGroup"),b(B,P,"CategoricalValueGroup")}}}function m(D,P){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor"),v(D.rows,P),function(D,P){o(D,P,"MatrixColumnsGroup")}(D.columns,P),h(D.values,P)}function v(D,P){!function(D,P,M){if(t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D){b(D,P,M),function(D,P,M){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var T=D.select;if(T)for(var R=0,B=T;R<B.length;R++){var N=B[R];d(N,P,M),b(N,P,M),f(N,P,M)}}(D,P,M),C(D,P);var T=D.values;if(!T)return;b(T,P,"MatrixRowsScopedValue"),g(T,P,"MatrixRowsScopedValue")}}(D,P,"MatrixRowsGroup")}function h(D,P){o(D,P,"MatrixIntersection")}function o(D,P,M){t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D&&(b(D,P,M),g(D,P,M),C(D,P))}function d(D,P,M){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var T=D.bind;T&&P.visitRole(T.to,M)}function b(D,P,M){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var T=D.for;T&&P.visitRole(T.in,M)}function f(D,P,M){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var T=D.composite;if(T){P.enterComposite&&P.enterComposite();for(var R=0,B=T;R<B.length;R++){var N=B[R];d(N,P,M),b(N,P,M)}P.exitComposite&&P.exitComposite()}}function g(D,P,M){t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor");var T=D.select;if(T)for(var R=0,B=T;R<B.length;R++){var N=B[R];d(N,P,M),b(N,P,M)}}function y(D,P){if(t.fF.assertAnyValue(D,"mapping"),t.fF.assertValue(P,"visitor"),D){var M=D.group;M&&(P.visitRole(M.by,"CategoricalSeries"),C(M,P))}}function C(D,P){if(t.fF.assertValue(D,"mapping"),t.fF.assertValue(P,"visitor"),P.visitReduction){var M=D.dataReductionAlgorithm;M&&P.visitReduction(M)}}},698129:function(ze,K,r){r.d(K,{AO:function(){return p},NA:function(){return i},PM:function(){return h},RK:function(){return s},RR:function(){return V},W7:function(){return v},bC:function(){return e},t6:function(){return m}});var t=r(787941),c=r(129035);function i(o,u,a,l){return t.fF.assertAnyValue(o,"objects"),t.fF.assertValue(u,"propertyId"),t.fF.assert(function(){return"$"!==u.propertyName.charAt(0)},"Properties starting with $ are reserved."),o?(0,c.N)(o[u.objectName],u.propertyName,a,l):a}function s(o,u,a){return o&&o[u]?o[u]:a}function p(o,u){var a=s(o,u);if(a)return a.$instances}function V(o,u){var a=p(o,u);if(a){var l={};for(var d in a){var b=a[d].$order;null!=b&&(l[d]=b)}return l}}function m(o,u){var a,l,d,b;if(u)return null===(b=null===(d=null===(l=null===(a=null==o?void 0:o.metadata)||void 0===a?void 0:a.objectsRules)||void 0===l?void 0:l[u.objectName])||void 0===d?void 0:d[u.propertyName])||void 0===b?void 0:b.gradient}function v(o,u,a,l){var d=i(o,u,void 0,l);return d&&d.solid&&void 0!==d.solid.color?d.solid.color:a}function e(o,u,a){var l=i(o,u,void 0,a);return!(!l||!l.solid||!l.solid.color)}function h(o,u,a,l){var d;for(var b in t.fF.assertValue(o,"DataViewObjects.mergeObjects - destination"),t.fF.assertValue(u,"DataViewObjects.mergeObjects - source"),u){var f=u[b];if(null!=f){var g=o[b];if(!g){null==a?o[b]=f:(o[b]={$instances:(d={},d[a]=f,d)},null!=l&&(o[b].$instances[a].$order=l));continue}n(g,f,a,l)}}}function n(o,u,a,l){if(t.fF.assertValue(o,"DataViewObjects.mergeObject - destination"),t.fF.assertValue(u,"DataViewObjects.mergeObject - source"),t.fF.assert(function(){return null==u.$instances},"DataViewObjects.mergeObject - source should not include $instances"),a){var d=o.$instances;null==d&&(d=o.$instances={});var b=d[a];b||(b=d[a]={}),n(b,u,null),null!=l&&(b.$order=l)}else for(var f in u)"$instances"!==f&&"$order"!==f&&null!=u[f]&&(o[f]=u[f])}},129035:function(ze,K,r){r.d(K,{N:function(){return c},y:function(){return i}});var t=r(787941);function c(s,p,V,m){if(t.fF.assertAnyValue(s,"object"),t.fF.assertValue(p,"propertyName"),!s)return V;if(m){var v=s.$instances;if(!v)return V;var e=v[m];if(!e)return V;s=e}var h=s[p];return void 0===h?V:h}function i(s,p,V,m,v){t.fF.assertAnyValue(s,"object"),t.fF.assertValue(p,"propertyName");var e=c(s,p,void 0,m);return e&&e.solid&&(e.solid.color||v&&null===e.solid.color)?e.solid.color:V}},668268:function(ze,K,r){r.d(K,{AV:function(){return d},E2:function(){return C},ES:function(){return I},GQ:function(){return N},Gc:function(){return b},Lo:function(){return O},NA:function(){return M},On:function(){return P},Pg:function(){return w},Rc:function(){return H},TX:function(){return g},Vj:function(){return te},d9:function(){return L},dM:function(){return D},dn:function(){return U},e4:function(){return z},er:function(){return de},hO:function(){return R},hu:function(){return F},hz:function(){return x},l7:function(){return f},my:function(){return B},rQ:function(){return G},sO:function(){return E},u4:function(){return Q},ug:function(){return T},xb:function(){return W},xl:function(){return l},zx:function(){return a}});var t=r(226514),c=r(456535),i=r(474147),s=r(787941),p=r(520907),V=r(989516),m=r(13106),v=r(324356),e=r(60495),h=r(939141),n=r(950870),o=r(41941),u=r(620108);function a(Y,se,ce){s.fF.assertValue(Y,"defns");var pe=Y[se];pe||(Y[se]=[],pe=Y[se]);for(var ve=0,De=pe.length;ve<De;ve++){var We=pe[ve];if((0,V.fS)(We.selector,ce))return We}return pe.push({selector:ce,properties:{}}),pe[pe.length-1]}function l(Y,se,ce,pe){s.fF.assertValue(Y,"defns");var ve=_.find(Y[se],function(De){return(0,V.fS)(De.selector,ce)});ve&&(ve.selector=pe)}function d(Y,se,ce){s.fF.assertValue(Y,"defns");var pe=Y[se];if(!pe)return!1;var ve=_.remove(pe,function(De){return(0,V.fS)(De.selector,ce)}).length>0;return _.isEmpty(pe)&&delete Y[se],ve}function b(Y,se){if(Y&&se)for(var ce in se)for(var ve=0,De=se[ce];ve<De.length;ve++){var We=De[ve];for(var je in We.properties)C(Y,ce,We.selector,je)}}function f(Y,se,ce){if(s.fF.assertValue(Y,"Trying to cascade into undefined DataViewObjectDefinitions"),Y&&se)for(var pe in se){var ve=se[pe];if(ve){var De=Y[pe];De||(De=Y[pe]=[]),S(De,ve,ce)}}}function g(Y,se,ce,pe,ve){var De=B(Y,se,ce);if(De){var We=De.properties[pe];We&&(a(Y,ve,ce).properties[pe]=We,delete De.properties[pe])}}function S(Y,se,ce){var pe;if(ce)Y.splice.apply(Y,(0,t.__spreadArray)([0,0],se||[],!1));else for(var ve=0,De=se;ve<De.length;ve++){var We=De[ve];pe=!1;for(var je=0,Ae=Y;je<Ae.length;je++){var _e=Ae[je];if((0,V.fS)(_e.selector,We.selector)){y(_e.properties,We.properties),pe=!0;break}}if(!pe){var le={selector:We.selector,properties:{}};y(le.properties,We.properties),Y.push(le)}}}function y(Y,se){for(var ce in se){var pe=se[ce];pe&&(Y[ce]||(Y[ce]=pe))}}function C(Y,se,ce,pe){s.fF.assertValue(Y,"defns");var ve=N(Y,se,ce),De=_.sumBy(ve,function(We){return(0,o.Ow)(We,pe)?1:0});return D(Y,{objectName:se,propertyName:pe},ce),De}function E(Y,se,ce,pe){s.fF.assertValue(Y,"defns"),s.fF.assertValue(se,"propertyId"),a(Y,se.objectName,ce).properties[se.propertyName]=pe}function D(Y,se,ce){if(null==(null==ce?void 0:ce.order))return!1;var pe=N(Y,se.objectName,ce,{skipId:!0,skipOrder:!0}).filter(function(Z){var ie;return null!=(null===(ie=Z.properties)||void 0===ie?void 0:ie[se.propertyName])}),ve=_.map(pe,function(Z){var ie;return null===(ie=Z.selector)||void 0===ie?void 0:ie.order}).filter(function(Z){return null!=Z}).sort();ve=_.uniq(ve);for(var De=function(ie,me){var ye;return null!=(null===(ye=ie.selector)||void 0===ye?void 0:ye.order)&&(ie.selector.order=me++),me},We=0,je=function(ie){var me=_.filter(pe,function(Se){var Be;return(null===(Be=Se.selector)||void 0===Be?void 0:Be.order)===ie});if(s.fF.assert(function(){return!!me.length},"should find definitions that match given order"),1===me.length)We=De(me[0],We);else{var ye=_.findIndex(me,function(Se){return(0,V.fS)(Se.selector,ce)});ye>=0&&(We=De(me[ye],We),me.splice(ye,1));for(var oe=0,X=me;oe<X.length;oe++)We=De(X[oe],We)}_.pullAll(pe,me)},Ae=0,_e=ve;Ae<_e.length;Ae++)je(_e[Ae]);return 0!==ve.length}function P(Y,se,ce,pe,ve){var De=A(se,ce);De?ve?E(Y,De,pe,ve):C(Y,De.objectName,pe,De.propertyName):s.fF.assertFail("Property does not have an associated format string object")}function M(Y,se,ce){var pe=T(Y,se,ce);if(pe)return pe[se.propertyName]}function T(Y,se,ce){var pe=N(Y,se.objectName,ce);if(pe)for(var ve=0,De=pe;ve<De.length;ve++){var We=De[ve];if(We.properties[se.propertyName])return We.properties}}function R(Y,se,ce,pe){var ve=A(se,ce);if(ve){var De=M(Y,ve,pe);if(De){if(H(De)&&(0,c.AW)(De))return De;s.fF.assertFail("Format value is not of the expected type")}}else s.fF.assertFail("Property does not have an associated format string object")}function B(Y,se,ce){if(s.fF.assertAnyValue(Y,"defns"),s.fF.assertValue(se,"objectName"),s.fF.assertAnyValue(ce,"selector"),Y){var pe=Y[se];if(pe)for(var ve=0,De=pe.length;ve<De;ve++){var We=pe[ve];if((0,V.fS)(We.selector,ce))return We}}}function N(Y,se,ce,pe){if(s.fF.assertAnyValue(Y,"defns"),s.fF.assertValue(se,"objectName"),s.fF.assertAnyValue(ce,"selector"),!Y)return[];var ve=Y[se];return ve?_.filter(ve,function(De){return(0,V.fS)(De.selector,ce,pe)}):[]}function x(Y,se,ce){var pe,De=se.propertyName,We=N(Y,se.objectName,ce,{skipId:!0,skipOrder:!0});if(We){var je=_.filter(We,function(me){return!!me.properties[De]});if(!_.isEmpty(je)){for(var Ae={},_e=function(ye){var oe=null===(pe=ye.selector)||void 0===pe?void 0:pe.id;s.fF.assert(function(){return null!=oe},"expected user-defined value"),Ae[oe]={selector:ye.selector,value:ye.properties[De]}},le=0,Z=je;le<Z.length;le++)_e(Z[le]);return Ae}}}function A(Y,se){var ce=(0,u.VM)(Y,se);if(ce)return ce.formatStringProperty;s.fF.assertFail("Property is missing from the object descriptors")}function I(Y,se){return Y===se||(Y instanceof m.yl&&se instanceof m.yl?m.yl.isSameFilter(Y,se):Y instanceof v.Il&&se instanceof v.Il?(0,i.fS)(Y,se):(0,p.fS)(Y,se))}function w(Y,se){if(s.fF.assertValue(Y,"a"),s.fF.assertValue(se,"b"),Object.keys(Y).length!==Object.keys(se).length)return!1;for(var ce in Y)if(!I(Y[ce],se[ce]))return!1;return!0}function F(Y,se){s.fF.assertValue(Y,"a"),s.fF.assertValue(se,"b");var ce=[];for(var pe in Y)I(Y[pe],se[pe])||ce.push(pe);for(var pe in se)_.includes(ce,pe)||I(Y[pe],se[pe])||ce.push(pe);return ce}function O(Y,se){s.fF.assertAnyValue(Y,"value"),s.fF.assertValue(se,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var ce=se,pe=se;if(ce.variantDeleteEmpty&&ce.variant&&null==Y)return Y;if(ce.bool||ce.operations&&ce.operations.searchEnabled)return"boolean"!=typeof Y&&(Y=!1),(0,v.O7)(!!Y);if(ce.text||ce.duration||ce.scripting&&ce.scripting.source)return(0,v.fL)(Y?Y.toString():"");if(ce.numeric){if($.isNumeric(Y))return(0,v.tx)(+Y)}else if(ce.integer){if($.isNumeric(Y))return(0,v.cA)(Math.floor(+Y))}else if(pe.fill){if(Y){var ve=Y;return null==ve.id||null==ve.shade?{solid:{color:(0,v.fL)((ve.value||Y).toString())}}:{solid:{color:(0,v.e7)(ve.id,ve.shade)}}}if(null===Y&&pe.fill.solid&&pe.fill.solid.color){var De=!1,We=pe.fill.solid.color;if("boolean"!=typeof We&&(De=We.nullable),De)return{solid:{color:(0,v.IF)()}}}}else if(ce.formatting){if(!(ce.formatting.labelDisplayUnits||ce.formatting.displayUnitsWithoutAuto||ce.formatting.fontSize))return(0,v.fL)(Y?Y.toString():"");if(null!=Y)return(0,v.tx)(+Y)}else{if(ce.enumeration||ce.flagsEnumeration)return $.isNumeric(Y)?(0,v.tx)(+Y):(0,v.fL)(Y?Y.toString():"");if(ce.misc)Y=Y?(0,v.fL)(Y.toString()):null;else if(ce.dateTime)Y=Y?(0,v.CQ)(Y):null;else if(!ce.variant)if(pe.image){if(Y){var je=Y,Ae={name:(0,v.fL)(je.name.toString()),url:(0,v.fL)(je.url.toString())};return je.scaling&&(Ae.scaling=(0,v.fL)(je.scaling.toString())),Ae}}else if(pe.geoJson){if(Y){var _e=Y;return{type:(0,v.fL)(_e.type.toString()),name:(0,v.fL)(_e.name.toString()),content:_e.content?(0,v.fL)(_e.content.toString()):(0,v.IF)()}}}else if(ce.reference)(ce.reference.bookmark||ce.reference.section||ce.reference.perspective||ce.reference.bookmarkGroup||ce.reference.rowRefText)&&(Y=(0,v.fL)(Y?Y.toString():""));else if(pe.filter)s.fF.assert(function(){return Y instanceof m.yl},"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(pe.paragraphs){var Z=Y,ie=[];if(_.isEmpty(Z))return ie;for(var me=0,ye=Z;me<ye.length;me++){var oe=ye[me],X=(0,t.__assign)((0,t.__assign)({},oe),{textRuns:[]});if(_.isEmpty(oe.textRuns))ie.push(X);else{for(var ue=0,Se=oe.textRuns;ue<Se.length;ue++){var Be=Se[ue];if((0,e.Y0)(Be))X.textRuns.push(Be);else if((0,e.Zm)(Be)){var Ke=void 0;_.isNumber(Be.expression)?Ke=O(Be.expression,{integer:!0}):(0,n.U)(Be.expression)?Ke=Be.expression:s.fF.assertNever(Be.expression);var Ze={cases:[],defaultCase:Be.defaultCase,expression:Ke};if(!_.isEmpty(Be.cases))for(var qe=0,it=Be.cases;qe<it.length;qe++){var be=it[qe],Fe={pattern:O(be.pattern,{integer:!0}),textRuns:be.textRuns};Ze.cases.push(Fe)}X.textRuns.push(Ze)}else s.fF.assertNever(Be)}ie.push(X)}}return ie}if(!pe.queryTransform){if(pe.exprList){var k={exprs:[],kind:"ExprList"};return k.exprs=_.map(Y.exprs,function(re){return re}),k}if(pe.itemLocation){var Ce=Y,J={kind:"ItemLocation",byReference:{itemId:(0,v.fL)(Ce.byReference.itemId)}};return Ce.byReference.workspaceId&&(J.byReference.workspaceId=(0,v.fL)(Ce.byReference.workspaceId)),Ce.byReference.folderId&&(J.byReference.folderId=(0,v.fL)(Ce.byReference.folderId)),J}s.fF.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return Y}function L(Y){var se={};for(var ce in Y){var pe=Y[ce];_.isEmpty(pe)||(se[ce]=U(pe))}return se}function W(Y){if(_.isEmpty(Y))return!0;for(var se in Y){var ce=Y[se];if(!_.isEmpty(ce))for(var pe=0,ve=ce;pe<ve.length;pe++)if(!_.isEmpty(ve[pe].properties))return!1}return!0}function U(Y){for(var se=[],ce=0,pe=Y;ce<pe.length;ce++){var ve=pe[ce];se.push({properties:j(ve.properties),selector:ve.selector})}return se}function j(Y){return s.fF.assertValue(Y,"original"),_.clone(Y)}function z(Y){return!!Y&&!!(Y instanceof v.Il||(0,h.hl)(Y))}function G(Y,se,ce){for(var pe in Y){var ve=Y[pe],De=se&&se[pe];if(ve&&(!se||De))for(var We=0,je=ve;We<je.length;We++){var Ae=je[We];for(var _e in Ae.properties)!Ae.properties[_e]||se&&(!De||!De.properties[_e])||ce(Ae.properties,_e,Ae.selector,pe,De)}}}function te(Y){var se=Y.definitions,ce=Y.descriptors,pe=Y.visitor,ve=Y.structuralObjectVisitor;s.fF.assertValue(se,"dataViewObjectDefinition.visitPropertyExprs - definitions"),s.fF.assertAnyValue(ce,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),s.fF.assertAnyValue(pe,"dataViewObjectDefinition.visitPropertyExprs - visitor"),s.fF.assertAnyValue(ve,"dataViewObjectDefinition.visitPropertyExprs - visitor"),s.fF.assert(function(){return!!pe||!!ve},"Either sqExprVisitor or structuralObjectVisitor are required");var De=[],We={stopVisiting:!1};function je(X,ue,Se){var Be=X[ue];if(pe&&Be instanceof v.Il)pe(Be,X,ue,Se,De,We);else if("object"==typeof Be&&(ve&&ve(Be,X,ue,Se,De,We),pe))for(var Ke in Be){if(We.stopVisiting)return;De.push(Ke),je(Be,Ke,Se),De.pop()}}for(var Ae in se){var _e=ce&&ce[Ae];if(!_.isEmpty(se[Ae])&&(_e||!ce)){for(var le=0,Z=se[Ae];le<Z.length;le++){var me=Z[le].properties;if(me)for(var ye in me){if(We.stopVisiting)return;var oe=_e&&_e.properties[ye];(oe||!ce)&&je(me,ye,oe&&oe.type)}}s.fF.assert(function(){return _.isEmpty(De)},"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function Q(Y){if(s.fF.assertAnyValue(Y,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(Y)){for(var se in Y)if(Y[se]){for(var ce=[],pe=0,ve=Y[se];pe<ve.length;pe++){var We=(0,o.u4)(ve[pe]);We&&ce.push(We)}_.isEmpty(ce)?delete Y[se]:Y[se]=ce}else delete Y[se];if(!_.isEmpty(Y))return Y}}function H(Y){return Y instanceof v.Il}function de(Y){return Y&&"ExprWithContext"===Y.propertyDefinitionKind}},41941:function(ze,K,r){r.d(K,{Ow:function(){return c},e4:function(){return i},u4:function(){return s}});var t=r(787941);function c(p,V){if(V in p.properties)return delete p.properties[V],!0}function i(p){return!_.startsWith(p,"$")}function s(p){t.fF.assertAnyValue(p,"DataViewObjectDefinition.reduce - defn can have any value.");var V=p&&p.properties;if(V){for(var m in V)_.isEmpty(V[m])&&c(p,m);if(!_.isEmpty(V))return p}}},620108:function(ze,K,r){r.d(K,{$v:function(){return i},Cr:function(){return p},H_:function(){return m},Ln:function(){return v},MD:function(){return s},VM:function(){return e}});var t=r(787941),c=r(592042);function i(n){return h(n,function(o){var u=c.Ge.fromDescriptor(o.type).formatting;return u&&u.formatString})}function s(n){return h(n,function(o){var u=o.type;return u&&u.filter&&!u.filter.selfFilter})}function p(n){return h(n,V)}function V(n){var o=n&&n.type;return o&&o.filter&&o.filter.selfFilter}function m(n){return h(n,function(o){var u=o.type;return u&&u.operations&&u.operations.searchEnabled})}function v(n){return h(n,function(o){var u=o.type;return u&&!!u.expression&&u.expression.defaultValue})}function e(n,o){if(t.fF.assertValue(n,"descriptors"),t.fF.assertValue(o,"propertyId"),!_.isEmpty(n)){var u=n[o.objectName];if(u&&!_.isEmpty(u.properties))return u.properties[o.propertyName]}}function h(n,o){if(t.fF.assertAnyValue(n,"descriptors"),t.fF.assertAnyValue(o,"propPredicate"),n)for(var u in n){var a=n[u].properties;for(var l in a)if(o(a[l]))return{objectName:u,propertyName:l}}}},98196:function(ze,K,r){r.d(K,{Me:function(){return m},PJ:function(){return V},UQ:function(){return e}});var t=r(787941),c=r(989516),i=r(324356),s=r(698129),p=r(620108);function V(f,g,S,y,C){var E;t.fF.assertValue(g,"evalContext"),t.fF.assertValue(S,"objectDescriptors"),t.fF.assertValue(y,"objectDefns");for(var D,P=0,M=y;P<M.length;P++){var T=M[P],R=T.name;C&&(C.objectName=R);var B=f.run(R,g,S[R],T.properties,C);B&&(D||(D={}),D[R]?(0,s.PM)(D,((E={})[R]=B,E)):D[R]=B)}return D}function m(f){t.fF.assertAnyValue(f,"objectDefinitions");var g={data:[]};if(f)for(var S in f)for(var y=f[S],C=0,E=y.length;C<E;C++){var D=y[C];v(g,D.selector).objects.push({name:S,properties:D.properties})}return g}function v(f,g){var S;t.fF.assertValue(f,"grouped"),t.fF.assertAnyValue(g,"selector"),g&&g.data?S=f.data:g&&g.metadata?(f.metadata||(f.metadata=[]),S=f.metadata):(f.metadataOnce||(f.metadataOnce=[]),S=f.metadataOnce),t.fF.assert(function(){return!!S},"GroupedObjects is not defined.  Indicates malformed selector.");for(var y=0,C=S;y<C.length;y++){var E=C[y];if((0,c.fS)(g,E.selector))return E}var D={selector:g,objects:[]};return S.push(D),D}function e(f,g,S,y){t.fF.assertValue(f,"objectsForAllSelectors"),t.fF.assertValue(g,"objectDescriptors"),t.fF.assertValue(S,"columns"),t.fF.assertAnyValue(y,"selectTransforms"),y&&(function(f,g,S,y){t.fF.assertValue(f,"objectsForAllSelectors"),t.fF.assertValue(g,"objectDescriptors"),t.fF.assertValue(S,"columns"),t.fF.assertValue(y,"selectTransforms");var C=(0,p.$v)(g);if(C)for(var E=0,D=y.length;E<D;E++){var P=y[E];P&&(t.fF.assertValue(P.queryName,"selectTransform.queryName"),u(f,C,P.queryName,P.format||o(S,E)))}}(f,g,S,y),function(f,g,S){t.fF.assertValue(f,"objectsForAllSelectors"),t.fF.assertValue(g,"objectDescriptors"),t.fF.assertValue(S,"selectTransforms");var y=(0,p.Ln)(g);if(y)for(var C=0,E=S;C<E.length;C++){var D=E[C];D&&(t.fF.assertValue(D.queryName,"selectTransform.queryName"),a(f,y,D.queryName,D.defaultValue))}}(f,g,y))}function o(f,g){for(var S=0,y=f.length;S<y;S++){var C=f[S];if(C&&C.index===g)return C.format}}function u(f,g,S,y){y&&l(f,g,{metadata:S},(0,i.fL)(y))}function a(f,g,S,y){y&&l(f,g,{metadata:S},y)}function l(f,g,S,y){var C;if(S){var E=f.metadata;E||(E=f.metadata=[]),C=E}else{var D=f.metadataOnce;D||(D=f.metadataOnce=[{selector:S,objects:[]}]),C=D}var M,P=function(f,g){t.fF.assertValue(f,"objects"),t.fF.assertAnyValue(g,"selector");for(var S=0,y=f.length;S<y;S++){var C=f[S];if((0,c.fS)(C.selector,g))return C}}(C,S);if(P){var T=P.objects;if(M=function(f,g){t.fF.assertValue(f,"objectDefns"),t.fF.assertValue(g,"objectName");for(var S=0,y=f.length;S<y;S++){var C=f[S];if(C.name===g)return C}}(T,g.objectName),M){if(M.properties[g.propertyName])return}else T.push(M={name:g.objectName,properties:{}})}else C.push({selector:S,objects:[M={name:g.objectName,properties:{}}]});M.properties[g.propertyName]=y}},682324:function(ze,K,r){r.d(K,{Q:function(){return y}});var t=r(226514),c=r(177497),i=r(787941),s=r(750311),p=r(690016),V=r(324356),m=r(116170),v=r(655981),e=r(813297),h=r(60495),n=r(939141),o=r(950870),u=r(592042),a=r(195393),l=r(726672),b=function(){function E(){this.cache=[]}return E.prototype.get=function(D){i.fF.assertValue(D,"key");for(var P=0,M=this.cache;P<M.length;P++){var T=M[P];if(T.key===D)return T.allocator}},E.prototype.register=function(D,P){var M=this;return i.fF.assertValue(D,"key"),i.fF.assert(function(){return void 0!==P},"colorAllocator (it can be null, but not undefined)"),i.fF.assert(function(){return null==M.get(D)},"Trying to re-register for same key expr."),this.cache.push({key:D,allocator:P}),this},E}(),f=r(351025),g=r(97181),y=function(){function E(D,P){var M=this;this.featureSwitches=D,this.visualStyle=P,i.fF.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new b,this.expressionEvaluator=new C(function(T){return M.evaluateThemeDataColor(T)},function(T,R){return M.ensureColorAllocator(T,R)})}return E.prototype.getObjectsRules=function(){return this.objectsRules},E.prototype.run=function(D,P,M,T,R){if(i.fF.assertValue(P,"evalContext"),i.fF.assertAnyValue(M,"objectDescriptor"),i.fF.assertValue(T,"propertyDefinitions"),M){var B,N=M.properties;for(var x in T){this.propertyId={objectName:D,propertyName:x};var A=T[x],I=N[x];if(I){R&&(R.objectDescriptor=M,R.propertyName=x);var w=this.evaluateProperty(P,I,A);void 0!==w&&(B||(B={}),B[x]=w)}}return this.propertyId=void 0,B}},E.prototype.evaluateProperty=function(D,P,M,T){var R,B,N;i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"propertyDescriptor"),i.fF.assertValue(M,"propertyDefinition");var x=P.type;if(x&&x.expression)return M;var I,A=this.evaluateValue(D,M,u.Ge.fromDescriptor(P.type));return void 0!==A||M instanceof g.t?A:(x.fillRule?I=this.evaluateFillRule(M):null!==(B=null===(R=x.fill)||void 0===R?void 0:R.solid)&&void 0!==B&&B.color&&null!==(N=null==M?void 0:M.solid)&&void 0!==N&&N.color?I=this.evaluateSolidColorFill(D,M,x.fill.solid.color.nullable):x.dataBars&&(I=this.evaluateDataBars(D,M)),I?(T&&I.error&&T.warnings.push(new l.L(this.featureSwitches,0,{objectName:T.objectName,propertyName:T.propertyName},T.selector,T.objectDescriptor.displayName,P.displayName,I.error.expr,I.error.value,null,T.targetExpr)),I.value):x.image?this.evaluateImage(D,M):x.paragraphs?this.evaluateParagraphs(D,M):x.geoJson?this.evaluateGeoJson(D,M):x.filter?this.evaluateSemanticFilter(M):x.icon?this.evaluateIcon(D,M):x.exprList?this.evaluateExprList(M):x.errorRange?this.evaluateErrorRange(D,M):x.qnaVisualLink?this.evaluateQnaVisualLink(D,M):x.itemLocation?this.evaluateItemLocation(D,M):void 0)},E.prototype.evaluateSemanticFilter=function(D){return D},E.prototype.evaluateSolidColorFill=function(D,P,M){var T;if(null!==(T=null==P?void 0:P.solid)&&void 0!==T&&T.color){var R=this.evaluateColor(D,P.solid.color,M);if(R.error)return R;var B=R.value;if(B||null===B&&M)return{value:{solid:{color:B}}}}},E.prototype.ensureColorAllocator=function(D,P){var M=this.colorAllocatorCache.get(D);return void 0!==M||(M=this.createColorAllocator(D,P),this.colorAllocatorCache.register(D,M,this.propertyId),this.propertyId&&M&&this.addObjectRule(M)),M},E.prototype.addObjectRule=function(D){this.objectsRules||(this.objectsRules={});var P=this.objectsRules[this.propertyId.objectName];P||(P=this.objectsRules[this.propertyId.objectName]={}),P[this.propertyId.propertyName]={gradient:{options:D.getRule(),source:D.getSource()}}},E.prototype.createColorAllocator=function(D,P){var M=P.getExprColumn(D.input,this.featureSwitches.categoricalSecondaryCF);if(!M)return null;var T=this.evaluateFillRule(D.rule).value;return T?(0,a.V)().fromFillRule(T,M):null},E.prototype.evaluateFillRule=function(D){var M,P=(0,f.X)();if(D.linearGradient2){if((R=this.evaluateColorStop(P,(T=D.linearGradient2).min)).error)return R;if((B=this.evaluateColorStop(P,T.max)).error)return B;if(M={linearGradient2:{min:R.value,max:B.value}},N=this.evaluateNullStrategy(P,T.nullColoringStrategy)){if(N.error)return N;M.linearGradient2.nullColoringStrategy=N.value}}else if(D.linearGradient3){var T,R;if((R=this.evaluateColorStop(P,(T=D.linearGradient3).min)).error)return R;var B,N,A=this.evaluateColorStop(P,T.mid);if(A.error)return A;if((B=this.evaluateColorStop(P,T.max)).error)return B;if(M={linearGradient3:{min:R.value,mid:A.value,max:B.value}},N=this.evaluateNullStrategy(P,T.nullColoringStrategy)){if(N.error)return N;M.linearGradient3.nullColoringStrategy=N.value}}return{value:M}},E.prototype.evaluateColorStop=function(D,P){i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"colorStop");var M=this.evaluateColor(D,P.color,!1);if(M.error)return M;var T={color:M.value},R=this.evaluateValue(D,P.value,E.numericType);return null!=R&&(T.value=R),{value:T}},E.prototype.evaluateColor=function(D,P,M){i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"evaluateColor - color");var T=this.evaluateValue(D,P,E.colorValueType),R=null!=T?(0,s.pe)(this.visualStyle,T):T;if(null!=R)return{value:R};if(null===T&&M)return{value:null};if(!T)return{value:void 0};var B=T.toString();return B&&(B=B.replace(/\s+/g,""),B=(0,c.HS)(B)?B:(0,c.iC)(B)),void 0===B?{error:{expr:P,value:T}}:{value:B}},E.prototype.evaluateNullStrategy=function(D,P){if(P){i.fF.assertValue(D,"evaluateNullStrategy - undefined evalContext"),i.fF.assertValue(P.strategy,"evaluateNullStrategy - undefined strategy");var M={strategy:this.evaluateValue(D,P.strategy,E.nullStrategyType)};if(P.color){var T=this.evaluateColor(D,P.color,!1);if(T.error)return T;M.color=T.value}return{value:M}}},E.prototype.evaluateImage=function(D,P){if(i.fF.assertValue(D,"evalContext"),i.fF.assertAnyValue(P,"definition"),P){var M={name:this.evaluateValue(D,P.name,E.textType),url:this.evaluateValue(D,P.url,u.Ge.fromDescriptor(e.z))};return P.scaling&&(M.scaling=this.evaluateValue(D,P.scaling,E.textType)),M}},E.prototype.evaluateParagraphs=function(D,P){var M=this;if(i.fF.assertValue(D,"evalContext"),i.fF.assertAnyValue(P,"definition"),P)return this.evaluateArrayCopyOnChange(D,P,function(T,R){return M.evaluateParagraph(T,R)})},E.prototype.evaluateParagraph=function(D,P){var M=this;i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"definition");var T,R=P.textRuns,B=this.evaluateArrayCopyOnChange(D,R,function(N,x){return M.evaluateTextRun(N,x)});return R!==B&&((T=_.clone(P)).textRuns=B),T||P},E.prototype.evaluateTextRun=function(D,P){return i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"definition"),(0,h.IM)(P)?this.evaluateTextRunDefinition(D,P):(0,h.Kt)(P)?this.evaluateTextRunConditional(D,P):void i.fF.assertNever(P)},E.prototype.evaluateTextRunDefinition=function(D,P){var M,T;P.value instanceof V.Il?(M=P.value,T=this.evaluateValue(D,P.value,E.textType)):T=P.value;var R={value:T};return P.textStyle&&(R.textStyle=P.textStyle),P.url&&(R.url=P.url),P.mentionEmail&&(R.mentionEmail=P.mentionEmail),M&&(R.valueExpr=M),R},E.prototype.evaluateTextRunConditional=function(D,P){var M=this;return{cases:this.evaluateArrayCopyOnChange(D,P.cases,function(R,B){return M.evaluateTextRunConditionalCase(R,B)}),defaultCase:this.evaluateTextRunCaseValue(D,P.defaultCase),expression:this.evaluateTextRunConditionalExpression(D,P.expression)}},E.prototype.evaluateTextRunConditionalCase=function(D,P){return(0,t.__assign)({pattern:this.evaluateValue(D,P.pattern,E.textType)},this.evaluateTextRunCaseValue(D,P))},E.prototype.evaluateTextRunCaseValue=function(D,P){var M=this;return{textRuns:this.evaluateArrayCopyOnChange(D,P.textRuns,function(R,B){return M.evaluateTextRunDefinition(R,B)})}},E.prototype.evaluateTextRunConditionalExpression=function(D,P){return P instanceof V.Il?this.evaluateValue(D,P,E.textType):(0,o.U)(P)?P:void i.fF.assertNever(P)},E.prototype.evaluateGeoJson=function(D,P){if(i.fF.assertValue(D,"evalContext"),i.fF.assertAnyValue(P,"definition"),P)return{name:this.evaluateValue(D,P.name,E.textType),type:this.evaluateValue(D,P.type,E.textType),content:this.evaluateValue(D,P.content,E.textType)}},E.prototype.evaluateDataBars=function(D,P){var M=this.evaluateSolidColorFill(D,P.positiveColor,!1);if(M.error)return{error:M.error};var T=this.evaluateSolidColorFill(D,P.negativeColor,!1);if(T.error)return{error:T.error};var R=this.evaluateSolidColorFill(D,P.axisColor,!1);return R.error?{error:R.error}:{value:{minValue:this.evaluateValue(D,P.minValue,E.numericType),maxValue:this.evaluateValue(D,P.maxValue,E.numericType),positiveColor:M.value,negativeColor:T.value,axisColor:R.value,reverseDirection:this.evaluateValue(D,P.reverseDirection,E.boolType),hideText:this.evaluateValue(D,P.hideText,E.boolType),totalMatchingOption:this.evaluateValue(D,P.totalMatchingOption,E.integerType)}}},E.prototype.evaluateIcon=function(D,P){var M;if(i.fF.assertValue(D,"evalContext"),i.fF.assertAnyValue(P,"definition"),(0,n.r)(P)){var T={kind:"Icon"};if(P.layout&&(T.layout=this.evaluateValue(D,P.layout,E.textType)),P.verticalAlignment&&(T.verticalAlignment=this.evaluateValue(D,P.verticalAlignment,E.textType)),P.value){var R=this.evaluateValue(D,P.value,E.textType);if(null===R)T.value=null;else if(void 0===R)T.value=null;else{var B=(0,s.lQ)(this.visualStyle,R);if(B)if(B.svgId){var N=null===(M=B.description)||void 0===M?void 0:M.resourceKey;T.value={svgId:B.svgId},N&&(T.value.descriptionKey=N)}else B.url?T.value={url:B.url}:i.fF.assertFail("incorrect themeIcon");else T.value={url:R}}}return T}},E.prototype.evaluateThemeDataColor=function(D){return(0,s.GK)(this.visualStyle,D)},E.prototype.evaluateExprList=function(D){if(i.fF.assertAnyValue(D,"definition"),(0,n.bA)(D))return{exprs:D.exprs,kind:"ExprList"}},E.prototype.evaluateArrayCopyOnChange=function(D,P,M){i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"definitions"),i.fF.assertValue(M,"evaluator");for(var T,R=0,B=P.length;R<B;R++){var N=P[R],x=M(D,N);!T&&N!==x&&(T=_.take(P,R)),T&&T.push(x)}return T||P},E.prototype.evaluateErrorRange=function(D,P){if(i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"definition"),(0,n.ZG)(P)){if(P.explicit)return this.evaluateExplicitErrorRange(D,P.explicit);if(P.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(D,P.symmetricalExplicit);if(P.standardDeviation)return this.evaluateStandardDeviationErrorRange(D,P.standardDeviation);if(P.percentage)return this.evaluatePercentageErrorRange(D,P.percentage);if(P.percentile)return this.evaluatePercentileErrorRange(D,P.percentile)}},E.prototype.evaluateExplicitErrorRange=function(D,P){var M={isRelative:!0===this.evaluateValue(D,P.isRelative,E.boolType)};return P.lowerBound&&(M.lowerBound=this.evaluateValue(D,P.lowerBound,E.numericType)),P.upperBound&&(M.upperBound=this.evaluateValue(D,P.upperBound,E.numericType)),{explicit:M}},E.prototype.evaluateSymmetricalErrorRange=function(D,P){return{symmetricalExplicit:{delta:this.evaluateValue(D,P.delta,E.numericType)}}},E.prototype.evaluateStandardDeviationErrorRange=function(D,P){return{standardDeviation:{value:this.evaluateValue(D,P.value,E.numericType),multiplier:this.evaluateValue(D,P.multiplier,E.numericType)}}},E.prototype.evaluatePercentageErrorRange=function(D,P){return{percentage:{lowerBoundDelta:this.evaluateValue(D,P.lowerBoundDelta,E.numericType),upperBoundDelta:this.evaluateValue(D,P.upperBoundDelta,E.numericType)}}},E.prototype.evaluatePercentileErrorRange=function(D,P){return{percentile:{lowerBound:this.evaluateValue(D,P.lowerBound,E.numericType),upperBound:this.evaluateValue(D,P.upperBound,E.numericType)}}},E.prototype.evaluateQnaVisualLink=function(D,P){if(i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"definition"),(0,n.Xz)(P))return{suggestedUtterances:_.map(P.suggestedUtterances,function(M){return{utterance:M.utterance}})}},E.prototype.evaluateItemLocation=function(D,P){if(i.fF.assertValue(D,"evalContext"),i.fF.assertValue(P,"definition"),(0,n.DS)(P)&&P.byReference){var M={byReference:{itemId:this.evaluateValue(D,P.byReference.itemId,E.textType)}};return P.byReference.workspaceId&&(M.byReference.workspaceId=this.evaluateValue(D,P.byReference.workspaceId,E.textType)),P.byReference.folderId&&(M.byReference.folderId=this.evaluateValue(D,P.byReference.folderId,E.textType)),M}},E.prototype.evaluateValue=function(D,P,M){return P instanceof V.Il?this.expressionEvaluator.evaluate(P,D):P instanceof g.t?P.evaluate(D):void 0},E.boolType=u.Ge.fromDescriptor({bool:!0}),E.colorValueType=u.Ge.fromDescriptor({formatting:{color:!0}}),E.numericType=u.Ge.fromDescriptor({numeric:!0}),E.integerType=u.Ge.fromDescriptor({integer:!0}),E.textType=u.Ge.fromDescriptor({text:!0}),E.nullStrategyType=u.Ge.fromDescriptor({enumeration:v.dt}),E}(),C=function(E){function D(P,M){var T=E.call(this)||this;return T.dataColorEvaluator=P,T.colorAllocatorGetter=M,T}return(0,t.__extends)(D,E),D.prototype.evaluate=function(P,M){if(null!=P)return P.accept(this,M)},D.prototype.visitColumnRef=function(P,M){return M.getExprValue(P)},D.prototype.visitConstant=function(P,M){return P.value},D.prototype.visitMeasureRef=function(P,M){return M.getExprValue(P)},D.prototype.visitArithmetic=function(P,M){return M.getExprValue(P)},D.prototype.visitNativeMeasure=function(P,M){return M.getExprValue(P)},D.prototype.visitAggr=function(P,M){return M.getExprValue(P)},D.prototype.visitScopedEval=function(P,M){return M.getScopedEvalExprValue(P)},D.prototype.visitFillRule=function(P,M){var T=this.colorAllocatorGetter(P,M);if(T){var R=this.evaluate(P.input,M);if(void 0!==R)return T.color(R)}},D.prototype.visitPercentile=function(P,M){return M.getExprValue(P)},D.prototype.visitRangePercent=function(P,M){var T=this.evaluate(P.min,M);if(_.isFinite(T)){var R=this.evaluate(P.max,M);if(_.isFinite(R)){var B=P.percent;return 0===B?T:1===B?R:T+B*(R-T)}}},D.prototype.visitSelectRef=function(P,M){return M.getExprValue(P)},D.prototype.visitThemeDataColor=function(P,M){var T=this.dataColorEvaluator(P.colorId);if(T)return(0,c.HO)(T,P.percent)},D.prototype.visitNot=function(P,M){return!this.evaluate(P.arg,M)},D.prototype.visitAnd=function(P,M){return P.left.accept(this,M)&&P.right.accept(this,M)},D.prototype.visitContains=function(P,M){if(!P.isOrdinalEvaluation())return i.fF.assertFail("Contains expression should be evaluated as ordinal"),!1;var T=this.getExprString(P.left,M),R=this.getExprString(P.right,M);return _.isString(T)?(0,p.r3)(T,R):(i.fF.warn("Contains expression should only be applied to string types"),!1)},D.prototype.visitStartsWith=function(P,M){if(!P.isOrdinalEvaluation())return i.fF.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var T=this.getExprString(P.left,M),R=this.getExprString(P.right,M);return _.isString(T)?(0,p.Ny)(T,R):(i.fF.warn("StartsWith expression should only be applied to strings"),!1)},D.prototype.getExprString=function(P,M){var T;if(null!==P)return null!==(T=(0,V.Ls)(P))&&void 0!==T?T:this.evaluate(P,M)},D.prototype.visitCompare=function(P,M){var T=this.evaluate(P.left,M);if(_.isNaN(T))return!1;var R=this.evaluate(P.right,M);if(_.isNaN(R))return!1;var B=P.comparison;if(P.isOrdinalEvaluation())return 0===B?T===R:(i.fF.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===R||null===T)return R===T&&(0===B||2===B||4===B);switch(B){case 0:return T===R;case 1:return T>R;case 2:return T>=R;case 3:return T<R;case 4:return T<=R}},D.prototype.visitConditional=function(P,M){var T=P.cases;if(i.fF.assertNonEmpty(T,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(T))for(var R=0,B=T;R<B.length;R++){var N=B[R],A=N.value;if(!0===this.evaluate(N.condition,M))return this.evaluate(A,M)}return this.evaluate(P.defaultValue,M)},D}(m.Ml)},838592:function(ze,K,r){r.d(K,{AR:function(){return h},wi:function(){return u}});var t=r(226514),c=r(883863),i=r(787941),s=r(299747),p=r(145315),V=r(870817),m=r(474505),v=r(722089),e=r(255780);function h(f,g,S,y,C,E){!g||1!==g.length||!S.categorical||!S.categorical.dataReductionAlgorithm||f&&function(f){return!(!n(f.Primary)||!n(f.Secondary)||1!==f.Secondary.Groupings[0].Projections.length||f.DataReduction&&(f.DataReduction.Primary||f.DataReduction.Secondary||f.DataReduction.Intersection))}(f)&&(f.Primary.Groupings=[f.Secondary.Groupings[0],f.Primary.Groupings[0]],f.Secondary=void 0,f.DataReduction={Primary:(0,V.P)(S.categorical.dataReductionAlgorithm,y),DataVolume:E||S.categorical.dataVolume||C})}function n(f){return f&&f.Groupings&&1===f.Groupings.length&&!_.isEmpty(f.Groupings[0].Projections)&&!f.Groupings[0].Subtotal&&_.isEmpty(f.Groupings[0].SuppressedProjections)}function u(f,g,S,y,C){if(!function(f,g,S,y,C){if(_.isEmpty(g)||!f||_.isEmpty(C))return!1;var E=_.filter(C,function(F){return!(0,m.zY)(F)});if(1!==E.length)return!1;var D=E[0].categorical;if(!D)return!1;var P=f.matrix;if(!P||!P.rows||!P.rows.levels||2!==P.rows.levels.length)return!1;var M=[],T=[],R=function(O,L){var W=y[O];if(W)for(var U=0,j=W.all();U<j.length;U++){var z=j[U];S[z.queryRef]===p.DW.Grouping&&L.push(z.queryRef)}};if((0,v.Sr)(D.categories,{visitRole:function(O){R(O,M)}}),(0,v.vS)(D.values,{visitRole:function(O){R(O,T)}}),(0,v.fl)(D.values,{visitRole:function(O){R(O,T)}}),_.isEmpty(M)||_.isEmpty(T))return!1;for(var B=0,N=P.columns.levels;B<N.length;B++)for(var A=0,I=N[B].sources;A<I.length;A++)if(!I[A].isMeasure)return!1;return!0}(f,g,S,y,C))return f;var E={metadata:{columns:(0,c.JG)(f.metadata.columns)}};if(f.single&&(E.single=f.single),f.table&&(E.table=f.table),f.matrix){var D=function(f){var _e,le,g=f.rows,S=g.root,y=S.children,C=[],E=g.levels[0],D=S.childIdentityFields,P={},M=[],T=g.levels[1],R=_.isEmpty(y)?void 0:y[0].childIdentityFields,B=f.valueSources.length,N=function(_e){var le=P[_e.key];return i.fF.assert(function(){return void 0!==le},"findcat() !== undefined"),le};if(y)for(var A=0,I=y;A<I.length;A++){C.push(w=I[A]);for(var F=0,O=w.children;F<O.length;F++)_e=L=O[F],le=void 0,void 0,void 0===P[le=_e.identity.key]&&(P[le]=M.length,M.push(_e))}for(var W=new Array(M.length),U=0;U<C.length;++U)for(var w,j=0,z=(w=y[U]).children;j<z.length;j++){var L;W[G=N((L=z[j]).identity)]||(W[G]=new Array(C.length)),W[G][U]=L.values}var te={root:{children:_.map(C,function(Ae){var _e=(0,s.qO)(Ae);return _e.level=0,_e.children=void 0,_e.childIdentityFields=void 0,_e}),childIdentityFields:D},levels:[E]};if(B>0){for(var Q=_.map(f.columns.root.children,function(Ae){var _e={level:1};return Ae.levelSourceIndex&&(_e.levelSourceIndex=Ae.levelSourceIndex),_e}),H=0,de=te.root.children;H<de.length;H++)de[H].children=Q;te.levels.push(f.columns.levels[0])}var se={root:{children:_.map(M,function(Ae){var _e=(0,s.qO)(Ae);return _e.level=0,_e.children=void 0,_e.childIdentityFields=void 0,_e}),childIdentityFields:R},levels:[T]};if(B>0)for(var G=0;G<M.length;++G){var ce=se.root.children[G],pe={};for(U=0;U<C.length;++U)for(var ve=W[G]&&W[G][U],De=0;De<B;++De)pe[U*B+De]=ve?ve[De]:0===De?{value:null}:{value:null,valueSourceIndex:De};ce.values=pe}return{rows:se,columns:te,valueSources:f.valueSources}}(f.matrix);_.isEmpty(D.valueSources)||(0,e.CF)(D.columns)||(E.categorical=function(f,g){for(var S=f.columns.root.children.length,y=f.valueSources,C=y.length,E=function(f){i.fF.assertValue(f,"unpivotedMatrix"),i.fF.assert(function(){return f&&f.rows&&f.rows.levels&&1===f.rows.levels.length},"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var g=_.map(f.rows.root.children,function(M){return M.identity}),S=f.rows.root.childIdentityFields,y=f.rows.levels[0].sources,C=[],E=0,D=y.length;E<D;E++){var P=_.map(f.rows.root.children,function(M){var T=M.levelValues;if(void 0!==T)return i.fF.assert(function(){return T[E]&&T[E].levelSourceIndex===E},"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),T[E].value});C.push({source:y[E],values:P,identity:g,identityFields:S})}return C}(f),D=[],P=0;P<S;++P){var M=f.columns.root.children[P];D.push(T={values:[],identity:M.identity,name:null!=M.value?M.value:null});for(var R=0;R<C;++R){var N=(0,t.__assign)({},y[R]);N.groupName=T.name,g.push(N);var x={source:N,values:[],identity:T.identity};T.values.push(x);for(var A=R+P*C,I=0,w=f.rows.root.children;I<w.length;I++)x.values.push(w[I].values[A].value)}}for(var L=[],W=0,U=D;W<U.length;W++){var T=U[W];for(R=0;R<C;++R)L.push(T.values[R])}return L.grouped=function(){return D},L.identityFields=f.columns.root.childIdentityFields,L.source=f.columns.levels[0].sources[0],{categories:E,values:L}}(D,E.metadata.columns))}return E}},178910:function(ze,K,r){r.d(K,{JM:function(){return y},KH:function(){return o}});var t=r(787941),c=r(324356),i=r(654558),s=r(474505),p=r(698129),V=r(19632),m=r(926720),v=r(411916),e="RegressionX",h="RegressionSeries",n="RegressionY";function o(E){t.fF.assertValue(E,"options");var D=E.visualDataViews,P=E.dataRoles,M=E.objectDescriptors,T=E.objectDefinitions,R=E.transformSelects,B=E.applicableDataViewMappings,N=E.roleKindByQueryRef,x=E.queryProjectionsByRole,A=E.visualStyle,I=E.featureSwitches;if(!_.isEmpty(D)&&R){if(!N||!x||_.isEmpty(B)||!M||!T)return D;var w=_.find(B,function(j){return!!(0,s.zY)(j)});if(w){for(var F=[],O=0,L=D;O<L.length;O++){var U=u(L[O],B,P,w,M,T,A,I);U&&F.push(U)}_.isEmpty(F)||D.push.apply(D,F||[])}}return D}function u(E,D,P,M,T,R,B,N){return t.fF.assertValue(D,"applicableDataViewMappings"),2===(0,s._1)(D)?function(){function E(N,x,A,I,w,F,O){t.fF.assertValue(N,"sourceDataView"),t.fF.assertValue(N.matrix,"sourceDataView.matrix"),t.fF.assertValue(x,"dataRoles"),t.fF.assertValue(I,"objectDescriptors"),t.fF.assertValue(w,"objectDefinitions");var L=N.matrix;if(L&&L.rows&&L.rows.root&&0!==_.size(L.rows.root.children)&&!(_.size(L.rows.levels)>2)){var W=D(0,L,x),U=D(1,L,x);if(void 0!==W&&void 0!==U){var j=W.valuesCol,z=U.valuesCol,G=function(N,x,A){var I=N.matrix;if(I){var w=function(G,te){if(G.children)for(var Q=0,H=G.children;Q<H.length;Q++){var de=H[Q];de.isSubtotal||(te.xValues.push(x(de)),te.yValues.push(A(de)))}},F=[],O=I.rows;if(2===O.levels.length)for(var L=0,W=I.rows.root.children;L<W.length;L++){var U=W[L];U.isSubtotal||(F.push(j={xValues:[],yValues:[]}),w(U,j))}else if(1===O.levels.length){var j;F.push(j={xValues:[],yValues:[]}),w(O.root,j)}return F}}(N,W.getValues,U.getValues),te=!0,Q=(0,s.zY)(A);if(Q&&N.metadata.objects){var H=Q.combineSeries;H&&(te=(0,p.NA)(N.metadata.objects,H,!0))}var de=G;te&&(de=function(N){for(var x,A,I=[],w=0,F=N;w<F.length;w++){var O=F[w];_.isEmpty(O.xValues)||_.isEmpty(O.yValues)||(I[0]||I.push({xValues:[],yValues:[]}),(x=I[0].xValues).push.apply(x,O.xValues||[]),(A=I[0].yValues).push.apply(A,O.yValues||[]))}return I}(G));var Y=b(de);if(f(Y)){for(var se=Y.xMin,ce=Y.xMax,pe=[],ve=0,De=Y.lineDefs;ve<De.length;ve++)pe.push(C(De[ve],+se,+ce));return function(N,x,A,I,w,F,O,L,W,U){var j,z,G;t.fF.assertValue(N,"xColumnSource"),t.fF.assertValue(x,"yColumnSource"),t.fF.assertValue(I,"categories"),t.fF.assertValue(w,"values"),t.fF.assertValue(O,"objectDescriptors"),t.fF.assertValue(L,"objectDefinitions");var pe,Q=F.matrix.rows.select[1].bind.to,H=F.matrix.values.select[0].for.in,de=((j={})[F.matrix.rows.select[0].bind.to]=!0,j),Y=((z={})[H]=!0,z),se=((G={})[Q]=!0,G),ce={columns:[]},ve={levels:[],root:{children:[]}},De={metadata:ce,matrix:{rows:ve,columns:pe,valueSources:[]}},We=d(N,e,!1,"",de),je=d(x,h,x.isMeasure,"Regression",se),Ae=d(x,n,x.isMeasure,"",Y);ce.columns.push(je),ce.columns.push(We),ce.columns.push(Ae),ve.levels.push({sources:[je]}),ve.levels.push({sources:[We]}),De.matrix.valueSources.push(Ae);for(var _e=(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionSeries"),le=(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionCategories"),Z=0;Z<A.length;Z++){var ie=A[Z],me={level:0,value:ie,levelValues:[{levelSourceIndex:0,value:ie}],children:[],childIdentityFields:[le],identity:(0,V.TZ)((0,c.xD)(_e,(0,c.kQ)(ie,je.type)))};_.isEmpty(ve.root.childIdentityFields)&&(ve.root.childIdentityFields=[_e]),ve.root.children.push(me);for(var ye=0;ye<I.length;ye++){var oe=I[ye],X={level:1,value:oe,levelValues:[{levelSourceIndex:1,value:oe}],values:{},identity:(0,V.TZ)((0,c.xD)(le,(0,c.kQ)(oe,We.type)))};X.values[0]={value:w[Z][ye]},me.children.push(X)}}return(0,m.ni)(De,1,O,L,[],W,U),De}(j,z,te?["combinedRegressionSeries"]:2===L.rows.levels.length?_.chain(L.rows.root.children).filter(function(_e){return!_e.isSubtotal}).map(function(_e){return _e.value}).value():["combinedRegressionSeries"],[se,ce],pe,A,I,w,F,O)}}}}function D(N,x,A){var w,F,I=x.valueSources,O=function(N,x,A){if(!_.isEmpty(x))return _.findIndex(x,function(I){var w=function(W){if(!I.roles[W])return"continue";var U=_.find(A,function(j){return j.name===W});return U&&U.cartesianKind===N?{value:!0}:void 0};for(var F in I.roles){var O=w(F);if("object"==typeof O)return O.value}})}(N,x.valueSources,A);if(O>=0&&void 0!==O)w=I[O],F=function(U){return U.values[O].value};else{var L=function(N,x,A){if(!_.isEmpty(x.root.children)){for(var I=-1,w=0,F=x.levels.length;w<F&&-1===(I=_.findIndex(x.levels[w].sources,function(L){var W=function(G){if(!L.roles[G])return"continue";var te=_.find(A,function(Q){return Q.name===G});return te&&te.cartesianKind===N?{value:!0}:void 0};for(var U in L.roles){var j=W(U);if("object"==typeof j)return j.value}}));w++);return{level:w,index:I}}}(N,x.rows,A);if(-1===(O=L?L.index:-1))return;w=x.rows.levels[L.level].sources[O],F=function(U){return U.levelValues[O].value}}return{valuesCol:w,getValues:F}}return{apply:function(x,A,I,w,F,O,L){return E(x,A,I,w,F,O,L)}}}().apply(E,P,M,T,R,B,N):function(){function E(x,A,I,w,F,O,L){if(t.fF.assertValue(x,"sourceDataView"),t.fF.assertValue(x.categorical,"sourceDataView.categorical"),t.fF.assertValue(A,"dataRoles"),t.fF.assertValue(w,"objectDescriptors"),t.fF.assertValue(F,"objectDefinitions"),x.categorical){var W=D(0,x.categorical,A),U=D(1,x.categorical,A);if(!_.isEmpty(W)&&!_.isEmpty(U)){var j=W[0].source,z=U[0].source,G=!0,te=(0,s.zY)(I);if(te&&x.metadata.objects){var Q=te.combineSeries;Q&&(G=(0,p.NA)(x.metadata.objects,Q,!0))}var de=b(R(W,U,G,!1));if(f(de)){var pe,_e,ie,Y=de.xMin,se=de.xMax,ce=N(U)||N(W);ce&&(f(pe=b(R(W,U,G,!0)))?(Y=_.min([Y,pe.xMin]),se=_.max([se,pe.xMax])):ce=!1);for(var De=[],We=0,je=de.lineDefs;We<je.length;We++)De.push(C(je[We],+Y,+se));if(ce){_e=[];for(var le=0,Z=pe.lineDefs;le<Z.length;le++)_e.push(C(Z[le],+Y,+se))}if(G)ie=["combinedRegressionSeries"];else if(x.categorical.values.source){var me=x.categorical.values.grouped();ie=_.map(me,function(oe){return oe.name})}else ie=_.map(U,function(oe){return oe.source.queryName});return function(x,A,I,w,F,O,L,W,U,j,z){var G,te,Q;t.fF.assertValue(x,"xColumnSource"),t.fF.assertValue(A,"yColumnSource"),t.fF.assertValue(w,"categories"),t.fF.assertValue(F,"values"),t.fF.assertValue(W,"objectDescriptors"),t.fF.assertValue(U,"objectDefinitions"),t.fF.assertAnyValue(O,"highlights"),t.fF.assert(function(){return!O||O.length===F.length},"highlights should have the same length as values");var Y,se,H=L.categorical.categories.for.in,de=L.categorical.values.group;if(de&&!_.isEmpty(de.select)&&(Y=de.select[0].for?de.select[0].for.in:de.select[0].bind.to,se=de.by),Y&&se){var ce=((G={})[H]=!0,G),pe=((te={})[Y]=!0,te),ve=((Q={})[se]=!0,Q),De=[];for(var We in F){var je={values:F[We]};O&&(je.highlights=O[We]),De.push([je])}var Ae=(0,i.h)().withCategory({source:d(x,e,!1,"",ce),values:w,identityFrom:{fields:[(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:d(A,h,A.isMeasure,"Regression",ve),values:I,identityFrom:{fields:[(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:d(A,n,A.isMeasure,"",pe)}],data:De}).build();return(0,m.ni)(Ae,1,W,U,[],j,z),Ae}}(j,z,ie,[Y,se],De,_e,I,w,F,O,L)}}}}function D(x,A,I){t.fF.assertValue(x,"roleKind"),t.fF.assertValue(A,"categorical");var w=P(x,A.values,I);if(!_.isEmpty(w))return w;var F=A.categories;if(!_.isEmpty(F)){var O=F[0],L=P(x,[O],I);if(!_.isEmpty(L)&&(1===F.length||_.isEmpty(O.values)||!_.isEmpty(O.objects)&&void 0!==M(O.objects[0])))return L}}function P(x,A,I){if(!_.isEmpty(A))return _.filter(A,function(w){var F=function(U){if(!w.source.roles[U])return"continue";var j=_.find(I,function(z){return z.name===U});return j&&j.cartesianKind===x?{value:!0}:void 0};for(var O in w.source.roles){var L=F(O);if("object"==typeof L)return L.value}return!1})}function M(x){return(0,p.NA)(x,v.it)}function T(x,A){var I=_.head(x.objects);return I&&M(I)?_.map(x.objects,function(F){return M(F)}):A&&x.highlights?x.highlights:x.values}function R(x,A,I,w){for(var F=[],O=_.map(x,function(G){return T(G,w)}),L=_.map(A,function(G){return T(G,w)}),W=x.length>1,U=0;U<L.length;U++){var j=W?O[U]:O[0],z=L[U];I&&F.length>0?(F[0].xValues=F[0].xValues.concat(j),F[0].yValues=F[0].yValues.concat(z)):F.push({xValues:j,yValues:z})}return F}function N(x){return _.some(x,function(A){return null!=A.highlights})}return{apply:function(A,I,w,F,O,L,W){return E(A,I,w,F,O,L,W)}}}().apply(E,P,M,T,R,B,N)}function d(E,D,P,M,T){return{displayName:E.displayName+M,queryName:D,type:E.type,isMeasure:P,roles:T}}function b(E){for(var D,P,M=[],T=0,R=E;T<R.length;T++){var B=R[T],N=B.xValues,x=B.yValues;if(_.isEmpty(N)||_.isEmpty(x))M.push(null);else{var A=g(N),I=g(x);if(A&&I){var w=S(N,x);if(!w||_.isEmpty(w.xValues)||_.isEmpty(w.yValues))M.push(null);else{var F=w.xValues[0],O=w.xValues[w.xValues.length-1],L=y(w.xValues,w.yValues);D=_.min([D,F]),P=_.max([P,O]),M.push(L)}}else M.push(null)}}return{lineDefs:M,xMin:D,xMax:P}}function f(E){return E&&!_.isEmpty(E.lineDefs)&&_.some(E.lineDefs,function(D){return D})}function g(E){var D=_.find(E,function(M){return null!=M});if(null!=D){var P=typeof D;if(!_.some(E,function(M){return null!=M&&typeof M!==P}))return P}}function S(E,D){t.fF.assertValue(E,"unsortedXValues"),t.fF.assertValue(D,"unsortedYValues");var P=_.zip(E,D),M=_.chain(P).filter(function(B){return null!=B[0]&&null!=B[1]}).sortBy(function(B){return B[0]}).unzip().value(),T=M[0],R=M[1];return{xValues:T=_.map(T,_.toNumber),yValues:R=_.map(R,_.toNumber)}}function y(E,D,P){void 0===P&&(P=!1),t.fF.assertValue(E,"xValues"),t.fF.assertValue(D,"yValues");var M=_.sum(E),T=_.sum(D),R=M/E.length,B=T/D.length,N=_.chain(E).map(function(j){return Math.pow(j-R,2)}).sum().value();if(0!==N){var w,A=_.chain(E).map(function(j,z){return(j-R)*(D[z]-B)}).sum().value()/N,I=B-R*A;if(P){var F=_.size(E),O=_.chain(E).map(function(j,z){return j*D[z]}).sum().value(),L=_.chain(E).map(function(j){return j*j}).sum().value(),W=_.chain(D).map(function(j){return j*j}).sum().value(),U=Math.sqrt((F*L-Math.pow(M,2))*(F*W-Math.pow(T,2)));0!==U&&(w=Math.pow((F*O-M*T)/U,2))}return{incline:A,intercept:I,rSquared:w}}}function C(E,D,P){return E?[D*E.incline+E.intercept,P*E.incline+E.intercept]:[null,null]}},389521:function(ze,K,r){r.d(K,{Yp:function(){return p},fS:function(){return V}});var t=r(883863),c=r(787941),i=r(166851),s=r(143509);function p(v){return new m(v)}function V(v,e){return v.key&&e.key&&v.key===e.key&&(0,t.NF)(v.roles,e.roles,function(h,n){return h===n})}var m=function(){function v(e){var h=this;this.kind=0,c.fF.assertNonEmpty(e,"roles"),this._roles=e,this._key=new i.o(function(){return JSON.stringify(h.roles)})}return Object.defineProperty(v.prototype,"roles",{get:function(){return this._roles},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),v}();(0,s.y)(m.prototype)},19632:function(ze,K,r){r.d(K,{Lu:function(){return o},SN:function(){return n},TZ:function(){return u},fS:function(){return e},rP:function(){return a},yz:function(){return h}});var t=r(787941),c=r(166851),i=r(143509),s=r(217926),p=r(13106),V=r(324356),m=r(744104),v=r(474147);function e(l,d,b){return(l=l||null)===(d=d||null)||!l==!d&&(t.fF.assertValue(l,"x"),t.fF.assertValue(d,"y"),(0,v.fS)(l.expr,d.expr,b))}function h(l,d,b){if(!(l=l||null)!=!(d=d||null))return!1;t.fF.assertValue(l,"thisComparisonExpr"),t.fF.assertValue(d,"otherComparisonIdentity");var g=l,S=(0,s.Dh)(d.expr),y=(0,s.Dh)(g);if(!S||!y)return e(u(g),d,b);for(var C=function(R){if(!_.some(S,function(B){return(0,v.fS)(R,B,b)}))return{value:!1}},E=0,D=y;E<D.length;E++){var M=C(D[E]);if("object"==typeof M)return M.value}return!0}function n(l,d){if(!_.isEmpty(l)){for(var b=[],f=0,g=l;f<g.length;f++)b.push(g[f].expr);return o(b,d)}}function o(l,d){if(!_.isEmpty(l)){for(var b,f=0,g=l;f<g.length;f++){var S=g[f],y=(0,s.FD)(S);b=b?(0,V.or)(b,y):y||S}return b&&d&&(b=(0,V.ff)(b)),(0,s.Cj)(b)?void t.fF.assertFail("SelectRef based identities can not be translated into a filter without additional context."):p.yl.fromSQExpr(b)}}function u(l){return new a(l)}var a=function(){function l(d){this.kind=1,t.fF.assertValue(d,"expr"),this._expr=d,this._key=new c.o(function(){return(0,m.qC)(d)})}return Object.defineProperty(l.prototype,"expr",{get:function(){return this._expr},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),l}();(0,i.y)(a.prototype)},755397:function(ze,K,r){r.d(K,{fS:function(){return m},ms:function(){return v},wB:function(){return V}});var t=r(787941),c=r(166851),i=r(143509),s=r(983172),p=r(744104);function V(h,n){return!_.isEmpty(n)&&s.m.sequenceEqual(h.exprs,n)}function m(h,n){return h===n||s.m.sequenceEqual(h.exprs,n.exprs)}function v(h){return new e(h)}var e=function(){function h(n){this.kind=2,t.fF.assertValue(n,"scopeExprs"),this._exprs=n,this._key=new c.o(function(){return(0,p.Gg)(n)})}return Object.defineProperty(h.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),h}();(0,i.y)(e.prototype)},799863:function(ze,K,r){r.d(K,{fS:function(){return v},ms:function(){return e},wB:function(){return m}});var t=r(787941),c=r(166851),i=r(143509),s=r(217926),p=r(983172),V=r(744104);function m(n,o){var u=(0,s.RR)(o.expr);return!!u&&p.m.sequenceEqual(n.exprs,u)}function v(n,o){return n===o||p.m.sequenceEqual(n.exprs,o.exprs)}function e(n){return new h(n)}var h=function(){function n(o){this.kind=3,t.fF.assertValue(o,"exprs"),this._exprs=o,this._key=new c.o(function(){return(0,V.Gg)(o)})}return Object.defineProperty(n.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),n}();(0,i.y)(h.prototype)},771201:function(ze,K,r){r.d(K,{_v:function(){return m},bG:function(){return v},f_:function(){return n},ij:function(){return h}});var t=r(226514),c=r(456535),i=r(474147),s=r(787941),p=r(145315),V=r(426827);function m(o,u){if(s.fF.assertAnyValue(o,"selects"),s.fF.assertAnyValue(u,"projectionActiveItems"),_.isEmpty(o))return{};for(var a={},l=0,d=o;l<d.length;l++){var b=d[l];if(b){var f=b.roles;if(f)for(var g in f)if(f[g]){var S=a[g];S||(S=a[g]=new V.NQ([])),S.addProjection({queryRef:b.queryName}),u&&u[g]&&(S.activeProjectionRefs=_.map(u[g],function(y){return y.queryRef}))}}}return a}function v(o,u){for(var a={},l=0,d=u.columns;l<d.length;l++){var b=d[l];if(!(!b.index&&0!==b.index||b.index<0||b.index>=o.length)){var f=o[b.index];if(f){var g=f.queryName;g&&void 0===a[g]&&(a[g]=b.isMeasure?p.DW.Measure:p.DW.Grouping)}}}return a}function h(o,u,a){if(s.fF.assertValue(o,"expr"),s.fF.assertAnyValue(u,"selectTransforms"),!u)return-1;var l;(0,c.NH)(o)&&(l=o.expressionName);for(var d=a||0,b=u.length;d<b;d++){var f=u[d];if(f&&(!l||f.queryName))if(l){if(f.queryName===l)return d}else if((0,i.fS)(f.expr,o))return d}return-1}function n(o,u){if(!_.isEmpty(o)&&!_.isEmpty(u)){for(var a={},l=function(S){var y=o[S];if(!_.isEmpty(y.relatedSelects))for(var C=function(T){var R=T.queryName,B=_.findIndex(o,function(L){return L.queryName&&L.queryName===R});if(B>-1)for(var x=0,A=_.keys(o[B].roles);x<A.length;x++){var I=A[x],w=_.remove(u[I],function(L){return L===S});if(!_.isEmpty(w)){var F=a[B]=a[B]||{};(F[I]=F[I]||[]).push(S)}}},E=0,D=y.relatedSelects;E<D.length;E++)C(D[E])},d=0;d<o.length;d++)l(d);if(!_.isEmpty(a)){var b=function(S){var y=a[S];for(var C in y){var E=u[C],D=_.findIndex(E,function(P){return P===parseInt(S,10)});E.splice.apply(E,(0,t.__spreadArray)([D+1,0],y[C],!1))}};for(var f in a)b(f)}}}},967908:function(ze,K,r){r.d(K,{nn:function(){return Br},G3:function(){return nt},iZ:function(){return pr}});var t=r(883863),c=r(787941),i=r(299747),s=r(725182),p=r(353705),V=r(217926),m=r(983172),v=r(592042),e=r(926720);function h($e){return void 0===$e.source.index}function n($e){return _.some($e,h)}var u=r(292042);function a($e){c.fF.assertValue($e,"categorical");var gt=$e.values;if(gt){var Pe;if(gt.source){Pe=(0,i.qO)(gt.grouped());var ke=0===(0,u.Ed)($e),Ye=gt.length>=1&&(ke||void 0!==_.head(gt).identity);if(!_.isEmpty(gt)&&Ye)for(var St,pt=0,bt=function($t,qt){var rr=gt[$t];if(h(rr))return"continue";if(!St||rr.identity!==St.identity){var vr=Pe[pt];vr?St=(0,i.qO)(vr):(c.fF.assert(function(){return!rr.identity},"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),St=vr=Pe[pt]={values:null}),Pe[pt]=St,St.values=[],pt++,c.fF.assert(function(){return rr.identity===St.identity},"expecting the value columns are sequenced by series groups")}St.values.push(rr)},vt=0,At=gt.length;vt<At;vt++)bt(vt);else for(vt=0,At=Pe.length;vt<At;vt++){var zt=Pe[vt];_.isEmpty(zt.values)||(Pe[vt]=zt=(0,i.qO)(zt),zt.values=[])}}else Pe=[{values:gt}];gt.grouped=function(){return Pe},$e.values=gt}}var l=r(226514),d=r(474505),b=r(473667);function N($e,gt){c.fF.assertValue($e,"measureSources"),c.fF.assertValue(gt,"projectionOrder");var Ue=(0,b.jh)($e,gt);if(Ue=_.chain(Ue).filter(function(ke){return void 0!==ke.projectionOrderIndex}).sortBy(function(ke){return ke.projectionOrderIndex}).value(),!(0,t.NF)($e,Ue,function(ke,Ye){return ke.index===Ye.metadataColumn.index}))return Ue}function A($e){if(c.fF.assertValue($e,"groups"),!_.isEmpty($e))return _.chain($e[0].values).map(function(Ue){return Ue.source}).filter(function(Ue){return void 0!==Ue.index}).value()}var I=r(232225),w=r(261374),F=r(324356),O=r(331115),L=r(326621),W=r(19632),U=r(411916);function z($e,gt,Ue){if(c.fF.assertValue(gt,"Category type is not specified"),!_.isDate($e)||!gt||!gt.temporal)return null;var Pe=$e;return gt.temporal.year?function($e){return c.fF.assertValue($e,"date"),$e.getFullYear()}(Pe):gt.temporal.quarter?function($e,gt){c.fF.assertValue($e,"date");var Pe=Math.floor(($e.getMonth()+3)/3);return(0,w.W)(gt,Pe.toLocaleString())}(Pe,Ue):gt.temporal.month?function($e){return c.fF.assertValue($e,"date"),L.dx.formatValue($e,"MMMM")}(Pe):gt.temporal.day?function($e){return c.fF.assertValue($e,"date"),$e.getDate()}(Pe):void 0}function de($e,gt){c.fF.assertValue($e,"dataViewMatrix"),gt.columnHierarchyRewritten||($e.columns=(0,i.ED)($e.columns));var Ue=$e.columns;gt.rowHierarchyRewritten||($e.rows=(0,i.ED)($e.rows));var Pe=$e.rows;if(!(Ue.levels.length>1)){var ke={level:0},Ye=Ue.root.children,pt=_.size(Ye),St=Pe.levels.length;if(pt>0){var bt=0,vt=function($t){if($t.values){ke.values||(ke.values={});for(var qt=0;qt<pt;qt++)ke.values[bt++]=$t.values[qt];$t.values=void 0}if(pt>1){$t.children||($t.children=[]);for(var rr=0;rr<pt;rr++){var vr={level:St};vr.levelSourceIndex=Ye[rr].levelSourceIndex,$t.isSubtotal&&(vr.isSubtotal=!0),$t.children.push(vr)}}};gt.hierarchyTreesRewritten?Y(Pe.root,vt):$e.columns.root=ce(Pe.root,vt)}else gt.hierarchyTreesRewritten||($e.columns.root=function($e){return ce($e)}(Pe.root));if(pt>1&&(Pe.levels.push({sources:Ue.levels[0].sources}),Ue.levels.length=0),gt.hierarchyTreesRewritten)$e.columns.root=Pe.root,$e.rows.root={children:[ke]};else{var zt=(0,i.ED)($e.rows.root);zt.children=[ke],$e.rows.root=zt}$e.columns.levels=Pe.levels,$e.rows.levels=[]}}function Y($e,gt){var Ue=$e.children;if(Ue&&Ue.length>0)for(var Pe=0,ke=Ue.length;Pe<ke;Pe++)Y(Ue[Pe],gt);else gt($e)}function ce($e,gt){var Ue={};return gt&&(Ue.nodeProcessor=function(Pe){_.isEmpty(Pe.children)&&gt(Pe)}),pe($e,Ue)}function pe($e,gt){var Ue,Pe,ke=(0,i.ED)($e),Ye=$e.children;if(!(gt.nodeProcessor&&gt.nodeProcessor(ke),_.isEmpty(Ye)||null!==(Pe=null===(Ue=gt.skipChildren)||void 0===Ue?void 0:Ue.call(gt,$e))&&void 0!==Pe&&Pe))for(var St=Ye.length,bt=ke.children=new Array(St),vt=0;vt<St;vt++)bt[vt]=pe(Ye[vt],gt);return ke}var ve=r(255780);function We($e,gt,Ue){if(_.isEmpty(Ue))return[];var Pe=d.nG.fromMatrixValues(gt);if(_.isEmpty(Pe))return[];var ke=_e($e,Pe),Ye=(0,b.jh)(Ue,ke,Pe);return _.chain(Ye).filter(function(pt){return void 0!==pt.projectionOrderIndex}).sortBy(function(pt){return pt.projectionOrderIndex}).value()}function _e($e,gt){c.fF.assertValue($e,"projectionOrdering"),c.fF.assertValue(gt,"roles");for(var Ue=[],Pe=0,ke=gt;Pe<ke.length;Pe++){var pt=$e[ke[Pe]];_.isEmpty(pt)||Ue.push.apply(Ue,pt||[])}return Ue}function le($e,gt){return c.fF.assertValue($e,"valueSources"),c.fF.assertValue(gt,"valueProjectionOrdering"),(0,t.NF)($e,gt,function(Ue,Pe){return Ue===Pe.metadataColumn})}function Z($e,gt,Ue,Pe,ke){c.fF.assertValue($e,"prototypeRowHierarchy"),c.fF.assertNonEmpty(gt,"originalValueSources"),c.fF.assertValue(Ue,"projectedValueSourceEntries"),c.fF.assert(function(){return void 0===ke||0===Pe.length},"staticValueSources are not supported with Scoped Measures");var St,vt,Ye=gt.length,pt=Ue.length,bt=(0,i.qO)($e),At=function($t,qt){var rr=qt?$t.values:(0,ve.Lr)($t);if(rr&&0!==Ye){if(!vt){vt=0;var vr={};for(var cr in rr)vt++,vr[rr[cr].valueSourceIndex||0]=!0;Ye=Object.keys(vr).length}if(void 0===St){if(Ye>pt&&Pe.length>0&&(Ye-=Pe.length,0==(vt-=Pe.length)))return;c.fF.assert(function(){return vt%Ye==0},"expecting the intersection values to have one value per measure column per column group instance"),St=vt/Ye}else c.fF.assert(function(){return St===vt/Ye},"expecting every interaction values collection to have the same length");var br;if(pt>0){br={};for(var Mr=0;Mr<St;Mr++)for(var jr=Mr*Ye,xr=Mr*pt,Fr=0;Fr<pt;Fr++)Fr!==((Hr=rr[jr+Ue[Fr].sourceIndex]).valueSourceIndex||0)&&((Hr=(0,i.qO)(Hr)).valueSourceIndex=Fr||void 0),br[xr+Fr]=Hr;for(var Ot=pt,Ee=Object.keys(br).length,Vt=vt+Pe.length,wt=vt;wt<Vt;wt++){var Hr;(Hr=rr[wt]).valueSourceIndex=Ot++||void 0,br[Ee++]=Hr}}else br=void 0;qt?$t.values=br:$t.nodeValues=br?{0:br}:void 0}};return bt.root=void 0===ke?ce(bt.root,function(Jt){return At(Jt,!0)}):pe(bt.root,{nodeProcessor:function($t){$t.level===ke&&At($t,!1)},skipChildren:function($t){return $t.level>=ke}}),bt}function me($e,gt){c.fF.assertValue($e,"matrixHierarchy"),c.fF.assertValue(gt,"projectionOrdering");var Pe,Ue=$e.levels,ke=_.chain(Ue).map(function(zt,Jt){return Jt}).filter(function(zt){var Jt=Ue[zt];return _.size(Jt.sources)>=2&&!(0,ve.Ro)(Jt)}).value();if(!_.isEmpty(ke)){for(var Ye=_.uniq(gt),pt=ke.length-1;pt>=0;pt--){var St=ke[pt],bt=$e.levels[St],vt=ye(bt,Ye);if(!_.isEmpty(vt)){void 0===Pe&&((Pe=(0,i.qO)($e)).levels=(0,i.qO)($e.levels),Pe.root=(0,ve.no)($e.root,St,!0));var At=(0,i.qO)(bt);Pe.levels[St]=oe(At,vt),X(Pe.root,St,vt)}}return Pe}}function ye($e,gt){c.fF.assertValue($e,"hierarchyLevel"),c.fF.assertValue(gt,"hierarchyProjection");var Ue,Pe=$e.sources;if(Pe&&Pe.length>=2){var ke=(0,b.jh)(Pe,gt);c.fF.assert(function(){return _.every(ke,function(pt){return pt.metadataColumn.isMeasure||void 0!==pt.projectionOrderIndex||null==gt[pt.sourceIndex]})},"Removed grouping during Matrix Projection ordering");var Ye=_.sortBy(ke,function(pt){return pt.projectionOrderIndex});Ue=_.map(Ye,function(pt,St){return{originalSourceIndex:pt.sourceIndex,newSourceIndex:St}})}return Ue}function oe($e,gt){c.fF.assertValue($e,"transformingHierarchyLevel"),c.fF.assertNonEmpty(gt,"levelSourceIndexMappings");var Ue=$e.sources;$e.sources=Ue.slice(0);for(var Pe=function(bt){c.fF.assert(function(){return bt.originalSourceIndex<Ue.length},"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),$e.sources[bt.newSourceIndex]=Ue[bt.originalSourceIndex]},ke=0,Ye=gt;ke<Ye.length;ke++)Pe(Ye[ke]);return $e}function X($e,gt,Ue){c.fF.assertValue($e,"transformingHierarchyRootNode"),c.fF.assertNonEmpty(Ue,"levelSourceIndexMappings"),c.fF.assert(function(){return Ue.length===_.uniqBy(Ue,function(ke){return ke.originalSourceIndex}).length},"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var Pe=_.reduce(Ue,function(ke,Ye){return ke[Ye.originalSourceIndex]=Ye,ke},{});return(0,ve.X2)($e,gt,function(ke){var Ye=ke.levelValues;if(!_.isEmpty(Ye)){c.fF.assert(function(){return _.every(Ye,function(Jt){return!!Pe[Jt.levelSourceIndex]})},"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var pt=_.sortBy(Ye,function(Jt){var $t=Pe[Jt.levelSourceIndex];return $t&&$t.newSourceIndex}),St=0,bt=pt.length;St<bt;St++){var vt=(0,i.qO)(pt[St]),At=Pe[vt.levelSourceIndex];vt.levelSourceIndex=At&&At.newSourceIndex,pt[St]=vt}ke.levelValues=pt;var zt=_.last(pt);ke.value!==zt.value&&(ke.value=zt.value),(ke.levelSourceIndex||0)!==zt.levelSourceIndex&&(ke.levelSourceIndex=zt.levelSourceIndex)}}),$e}function Ze($e,gt){c.fF.assert(function(){return $e&&_.every($e.children,function(Pe){return Pe.level===$e.children[0].level})},"node must be defined and all of its child nodes must have the same level value."),c.fF.assertValue(gt,"measureHeadersLevelIndex");var Ue=$e.children;return!_.isEmpty(Ue)&&Ue[0].level===gt}function qe($e,gt,Ue,Pe){for(var ke=new Array(gt),Ye=0,pt=gt;Ye<pt;Ye++){var St=void 0,bt=Pe&&Pe[Ye].sourceIndex;null!=bt&&(St=Ue.children&&Ue.children[bt]);var vt=St?(0,i.qO)(St):{};vt.level=$e,Ue.isSubtotal&&(vt.isSubtotal=!0),vt.levelSourceIndex=Ye>0?Ye:void 0,ke[Ye]=vt}return ke}function it($e){c.fF.assertValue($e,"options");var gt=_.filter($e.dataRoles,function(Ue){return!_.isEmpty(Ue.requiredTypes)});!function($e,gt,Ue){if(c.fF.assertValue($e,"dataview"),!_.isEmpty(gt)&&!_.isEmpty(Ue)){for(var Pe=function($e,gt){if(!$e||!gt)return function(){return!1};for(var Ue={},Pe=0,ke=$e;Pe<ke.length;Pe++){var Ye=ke[Pe],pt=Ye.roles;if(pt)for(var St=0,bt=gt;St<bt.length;St++)if(pt[bt[St].name]){Ue[Ye.index]=!0;break}}return function(At){return!isNaN(At)&&!!Ue[At]}}($e.metadata.columns,Ue),ke=function($e,gt){if(!$e||!gt)return function(){return!0};for(var Ue=[],Pe=0,ke=$e;Pe<ke.length;Pe++){var Ye=ke[Pe],pt=k(Ye,gt);pt&&(Ue[Ye.index]=pt)}return function(St,bt){return!Ue[St]||Ue[St](bt)}}($e.metadata.columns,Ue),Ye={},pt=0,St=gt;pt<St.length;pt++){var bt=St[pt];bt.table&&$e.table&&(Ye.table=!0),bt.matrix&&$e.matrix&&(Ye.matrix=!0),bt.categorical&&$e.categorical&&(Ye.categorical=!0),bt.tree&&$e.tree&&(Ye.tree=!0),bt.single&&$e.single&&(Ye.single=!0)}Ye.categorical&&function($e,gt,Ue){var Pe=$e&&$e.values;if(Pe){var ke=Pe.grouped();if(ke)for(var Ye=0,pt=ke;Ye<pt.length;Ye++)for(var vt=0,At=pt[Ye].values;vt<At.length;vt++){var zt=At[vt],Jt=zt.source.index;if(gt(Jt))for(var $t=0,qt=zt.values.length;$t<qt;$t++)zt.values=Te(zt.values,$t,Jt,Ue)}}}($e.categorical,Pe,ke),Ye.table&&function($e,gt,Ue){var Pe=$e&&$e.columns;if(Pe){for(var ke=[],Ye=0,pt=Pe;Ye<pt.length;Ye++){var St=pt[Ye];gt(St.index)&&ke.push(St.index)}for(var bt=$e.rows,vt=0,At=bt.length;vt<At;vt++)for(var zt=0,Jt=ke;zt<Jt.length;zt++){var $t=Jt[zt];bt[vt]=Te(bt[vt],$t,$t,Ue)}}}($e.table,Pe,ke),Ye.tree&&Ie($e.tree.root,Pe,ke),Ye.matrix&&function($e,gt,Ue){var Pe=$e&&$e.rows&&$e.rows.root;Pe&&we($e,Pe,gt,Ue)}($e.matrix,Pe,ke),Ye.single&&function($e,gt,Ue,Pe){if($e.single){for(var ke=[],Ye=0,pt=Ue;Ye<pt.length;Ye++){var St=pt[Ye];St.name&&ke.push(St.name)}for(var bt=$e.metadata.columns,vt=0,At=gt;vt<At.length;vt++){var Jt=At[vt].single.role;if(-1!==ke.indexOf(Jt)){var $t=Je(bt,Jt);return void($t&&($e.single=Te($e.single,"value",$t.index,Pe)))}}}}($e,gt,Ue,ke)}}($e.dataview,$e.dataViewMappings,gt)}function k($e,gt){var Ue=function($e,gt){var Ue=[],Pe=$e&&$e.roles;if(!Pe)return Ue;for(var ke=0,Ye=gt;ke<Ye.length;ke++){var pt=Ye[ke];if(Pe[pt.name])for(var St=0,bt=pt.requiredTypes;St<bt.length;St++){var At=v.Ge.fromDescriptor(bt[St]);Ue.push(At)}}return Ue}($e,gt);if(!_.isEmpty(Ue))return function(Pe){return function($e,gt){for(var Ue=0,Pe=gt;Ue<Pe.length;Ue++){var ke=Pe[Ue];if(ke.numeric||ke.integer)return"number"==typeof $e}return!1}(Pe,Ue)}}function Ie($e,gt,Ue){if($e.values)for(var Pe in $e.values)gt(Pe)&&("object"==typeof $e.values[Pe]&&"value"in $e.values[Pe]?$e.values[Pe]=Te($e.values[Pe],"value",Pe,Ue):$e.values=Te($e.values,+Pe,+Pe,Ue));else if($e.children)for(var ke=0,Ye=$e.children;ke<Ye.length;ke++)Ie(Ye[ke],gt,Ue)}function we($e,gt,Ue,Pe){if(gt.values)for(var ke in gt.values){var Ye=gt.values[ke],St=$e.valueSources[Ye.valueSourceIndex||0].index;_.isNumber(St)&&Ue(St)&&(gt.values[ke]=Te(Ye,"value",St,Pe))}else if(gt.children)for(var bt=0,vt=gt.children;bt<vt.length;bt++)we($e,vt[bt],Ue,Pe)}function Te($e,gt,Ue,Pe){if($e){var ke=$e[gt];return null!==ke&&!Pe(Ue,ke)&&(($e=(0,i.qO)($e))[gt]=null),$e}}function Je($e,gt){for(var Ue=0,Pe=$e;Ue<Pe.length;Ue++){var ke=Pe[Ue],Ye=ke&&ke.roles;if(Ye&&Ye[gt])return ke}}var fe=r(698129),ne=r(98196),Ne=r(682324),tt=function(){function $e(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}return $e.prototype.trackOriginalDynamicFormatColumn=function(gt,Ue){this.originalDynamicFormatColumns.push({valueColumnIndex:gt,dynamicFormatStringColumn:Ue})},$e.prototype.addPivotedDynamicFormatColumn=function(gt,Ue,Pe){var ke=this;void 0===this.categoryIndexToDynamicFormatColumn[gt]&&(this.categoryIndexToDynamicFormatColumn[gt]=[]),c.fF.assert(function(){return void 0===ke.categoryIndexToDynamicFormatColumn[gt][Ue]},"categoryIndexToDynamicFormatColumn[".concat(gt,"][").concat(Ue,"] === undefined")),this.categoryIndexToDynamicFormatColumn[gt][Ue]=Pe},$e.prototype.getPivotedDynamicFormatColumn=function(gt,Ue){var Pe=this.getValueColumnIndex(gt);if(void 0!==Pe)return c.fF.assertValue(this.categoryIndexToDynamicFormatColumn[Pe][Ue],"categoryIndexToDynamicFormatColumn[".concat(Pe,"][").concat(Ue,"]")),this.categoryIndexToDynamicFormatColumn[Pe][Ue]},$e.prototype.getValueColumnIndex=function(gt){var Ue=_.find(this.originalDynamicFormatColumns,function(Pe){return Pe.dynamicFormatStringColumn===gt});if(Ue)return Ue.valueColumnIndex},$e}(),xe=r(838592);var ft=r(178910),ht=r(654558);function Mt($e,gt,Ue){for(var Pe=(0,i.ED)($e),ke=0,Ye=Ue;ke<Ye.length;ke++){var pt=Ye[ke];Pe[pt]=gt[pt]}return Pe}var It=r(283427),Bt=r(771201),Kt=["Series","Category"],Yt=["Series","X","Y"];function Pr($e,gt,Ue,Pe){c.fF.assertValue($e,"groupingLevelSelectIndices"),c.fF.assertValue(gt,"selectTransforms"),c.fF.assertAnyValue(Ue,"drillableRoles"),c.fF.assertValue(Pe,"rolesToMatch");for(var ke=0,Ye=$e.length,pt=0,St=Pe;pt<St.length;pt++){var bt=St[pt];if(Ye<=ke)return!1;var vt=mt($e,gt,bt);if(0===vt)return!1;if(vt>=2&&!_.includes(Ue,bt))return!1;ke+=vt}return!(ke<Ye)}function mt($e,gt,Ue){c.fF.assertValue($e,"selectIndices"),c.fF.assertValue(gt,"selectTransforms"),c.fF.assertValue(Ue,"roleToMatch");for(var Pe=0,ke=0,Ye=$e;ke<Ye.length;ke++){var pt=Ye[ke];if((0,b.iN)(gt[pt]&&gt[pt].roles,Ue))Pe++;else if(Pe>0)break}return Pe}var dr=r(351025),ar=r(647457),gr=r(474147),Cr={quarterPrefix:"Qtr {0}"};function pr($e){c.fF.assertValue($e,"options"),Cr=$e}function Br($e){c.fF.assertValue($e,"options");var gt=$e.prototype,Ue=$e.objectDescriptors,Pe=$e.transforms,ke=$e.visualStyle,Ye=$e.withWarnings?[]:void 0;if(!gt)return{dataViews:Kr(Ue,Pe,ke,$e.featureSwitches)};if(!Pe)return{dataViews:[gt]};var pt=function($e,gt,Ue,Pe,ke,Ye,pt,St,bt,vt){c.fF.assertValue($e,"queryDataViewMetadata"),c.fF.assertAnyValue(gt,"objectDescriptors"),c.fF.assertAnyValue(Ue,"dataViewMappings"),c.fF.assertAnyValue(Pe,"dataRoles"),c.fF.assertAnyValue(ke,"drillCapabilities"),c.fF.assertValue(pt,"transforms"),c.fF.assertValue(St,"DataViewTransformContext.create - visualStyle");var At=pt.selects,zt=pt.roles&&pt.roles.activeItems,Jt=_.isEmpty(At)?{}:(0,Bt.bG)(At,$e),$t=(0,Bt._v)(At,zt),rr=(0,It.Lo)($t,Ue,Jt,vt,gt,pt.objects).supportedMappings;return{queryDataViewMetadata:$e,objectDescriptors:gt,dataRoles:Pe,drillCapabilities:ke,expandCollapseCapabilities:Ye,transforms:pt,selectTransforms:At,projectionOrdering:pt.roles&&pt.roles.ordering,projectionActiveItems:zt,roleKindByQueryRef:Jt,queryProjectionsByRole:$t,visualCapabilitiesRoleMappings:Ue,visualCapabilitiesDataViewKinds:(0,d._1)(Ue),applicableRoleMappings:rr,applicableDataViewKinds:(0,d._1)(rr),visualStyle:St,visualCapabilitiesKeepAllMetadataColumns:bt}}(gt.metadata,Ue,$e.dataViewMappings,$e.dataRoles,$e.drillCapabilities,$e.expandCollapseCapabilties,Pe,ke,$e.keepAllMetadataColumnsCapability,$e.featureSwitches),St=function($e,gt){var Ue,Pe;c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"transformContext");var ke=gt.transforms,Ye=gt.applicableRoleMappings,pt=(0,xe.wi)($e,gt.selectTransforms,gt.roleKindByQueryRef,gt.queryProjectionsByRole,Ye),St=null===(Pe=null===(Ue=gt.transforms)||void 0===Ue?void 0:Ue.roles)||void 0===Pe?void 0:Pe.isDrillDisabled;return function($e,gt,Ue,Pe){if(!function($e,gt,Ue,Pe){if(_.isEmpty(gt)||!$e||_.isEmpty(Ue))return!1;var ke=$e.matrix;if(!ke||!ke.rows||_.isEmpty(ke.rows.levels)||!ke.columns||_.isEmpty(ke.columns.levels))return!1;for(var Ye=[],pt=0,St=ke.columns.levels;pt<St.length;pt++)for(var vt=0,At=St[pt].sources;vt<At.length;vt++)(zt=At[vt]).isMeasure||Ye.push(zt);for(var Jt=[],$t=0,qt=ke.rows.levels;$t<qt.length;$t++)for(var rr=0,vr=qt[$t].sources;rr<vr.length;rr++)(zt=vr[rr]).isMeasure||Jt.push(zt);for(var cr=[],br=0,Mr=ke.rows.levels;br<Mr.length;br++)for(var jr=0,xr=Mr[br].sources;jr<xr.length;jr++){var zt;(zt=xr[jr]).isMeasure&&cr.push(zt)}if(!_.isEmpty(cr)||1!==Ye.length||Jt.length<1)return!1;var Fr=_.filter(Ue,function(rt){return!(0,d.zY)(rt)});if(1!==Fr.length)return!1;if(2!==(0,d._1)(Fr))return!1;var Hr=Fr[0].matrix;if(!Hr)return!1;var Ot=d.nG.fromMatrixRows(Hr.rows),Ee=d.nG.fromMatrixColumns(Hr.columns);if(_.size(Ot)<2||0!==_.size(Ee))return!1;var Vt=_.uniq([].concat.apply([],_.map(Jt,function(rt){return Object.keys(gt[rt.index].roles)}))),wt=_.uniq([].concat.apply([],_.map(Ye,function(rt){return Object.keys(gt[rt.index].roles)})));return _.isEqual(Ot,[].concat(wt,Vt))&&_.isEqual(Pe,Vt)}($e,gt,Pe,Ue))return $e;var ke={metadata:{columns:(0,l.__spreadArray)([],$e.metadata.columns||[],!0)}};if($e.single&&(ke.single=$e.single),$e.table&&(ke.table=$e.table),$e.matrix){var Ye=function($e){var gt=$e.rows,Ue=$e.columns,Pe=gt.root,ke=Pe.children;c.fF.assert(function(){return 1===gt.levels.length},"oldRows.levels.length ===1"),c.fF.assert(function(){return Ue.levels.length>=1},"oldColumns.levels.length >=1"),c.fF.assert(function(){return 1===Ue.levels[0].sources.length},"oldColumns.levels[0].sources.length === 1");var Ye={levels:[],root:{children:[]}},St={rows:Ye,columns:{levels:[],root:{children:[]}},valueSources:$e.valueSources},bt=Ye.root.children;Ye.levels.push(Ue.levels[0]),Ye.root.childIdentityFields=Ue.root.childIdentityFields;for(var vt=0,At=Ue.root.children;vt<At.length;vt++){var zt=At[vt];void 0!==zt.levelValues&&void 0!==zt.value&&bt.push({children:[],value:zt.value,levelValues:zt.levelValues,identity:zt.identity,level:0})}var Jt=_.size($e.valueSources);if(Ye.levels.push(gt.levels[0]),_.isEmpty(bt))return St;for(var $t in ke){var qt=ke[$t];for(var rr in qt.values){var cr=bt[Math.floor(rr/Jt)];cr.childIdentityFields||(cr.childIdentityFields=Pe.childIdentityFields);var br=qt.values[rr];if(null!=br){var Mr=cr.children[$t];Mr||cr.children.push(Mr={level:cr.level+1,value:qt.value,levelValues:qt.levelValues,values:{},identity:qt.identity}),Mr.values[rr%Jt]=br}}}return St}($e.matrix);_.isEmpty(Ye.valueSources)||(0,ve.CF)(Ye.columns)||(ke.matrix=Ye)}return ke}(pt=function($e,gt,Ue,Pe){if(c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"transformActions"),c.fF.assertAnyValue(Ue,"applicableRoleMappings"),c.fF.assertAnyValue(Pe,"drillableRoles"),!_.isEmpty(gt.splits))return $e;var ke=$e.matrix;if(!ke)return $e;var Ye=_.chain(Ue).map(function(vt){return function($e){c.fF.assertValue($e,"dataViewMapping");var gt=$e.matrix;if(gt&&gt.rows&&!gt.columns&&!gt.values){var Ue=d.nG.fromMatrixRows(gt.rows);if((0,t.NF)(Ue,Kt,function(ke,Ye){return ke===Ye})||(0,t.NF)(Ue,Yt,function(ke,Ye){return ke===Ye}))return{primaryAxisRoles:Ue.slice(1),secondaryAxisRole:Ue[0]}}}(vt)}).filter(function(vt){return!!vt}).value();if(1!==Ye.length)return $e;if(!function($e,gt,Ue,Pe){c.fF.assertValue($e,"dataViewSelectIndices"),c.fF.assertValue(gt,"transformActions"),c.fF.assertAnyValue(Ue,"drillableRoles"),c.fF.assertValue(Pe,"matchingUpgradeSourceRolesStructure");var ke=$e.primaryAxis,Ye=$e.secondaryAxis;if(!_.isEmpty($e.intersection)||1!==_.size(ke)||1!==_.size(Ye))return!1;var pt=gt.selects;return!(!Pr(ke[0].selectIndices,pt,Ue,Pe.primaryAxisRoles)||!Pr(Ye[0].selectIndices,pt,Ue,[Pe.secondaryAxisRole]))}((0,ve.GJ)(ke),gt,Pe,Ye[0]))return $e;var St=function($e){c.fF.assertValue($e,"dataViewMatrix"),c.fF.assert(function(){return 1===$e.columns.levels.length},"dataViewMatrix.columns.levels.length === 1"),c.fF.assert(function(){return 1===$e.rows.levels.length},"dataViewMatrix.rows.levels.length === 1"),c.fF.assert(function(){return _.isEmpty($e.valueSources)},"_.isEmpty(dataViewMatrix.valueSources)");var gt=(0,i.qO)($e),Ue=gt.rows=(0,i.qO)($e.rows),Pe=gt.columns=(0,i.qO)($e.columns),Ye=(Pe.levels=(0,i.qO)(Pe.levels)).splice(0,1)[0];(Ue.levels=(0,i.qO)(Ue.levels)).splice(0,0,Ye);var St=$e.rows.root,bt=Ue.root=(0,i.qO)(Pe.root);Pe.root={children:[]};var vt=(0,i.VW)(bt.children,function(At){var zt=(0,i.qO)(At);return zt.childIdentityFields=St.childIdentityFields,zt.children=function($e){if(c.fF.assertAnyValue($e,"nodes"),!$e)return $e;var gt=(0,i.VW)($e,function(Ue){var Pe=(0,i.ED)(Ue);return Pe.level+=1,Pe});return gt||(0,i.ED)($e)}(St.children),zt});return vt&&(bt.children=vt),gt}(ke),bt=(0,i.qO)($e);return bt.matrix=St,bt}(pt,ke,Ye,Lr(gt.drillCapabilities,St)),gt.selectTransforms,Lr(gt.drillCapabilities,St),Ye)}(gt,pt),bt=function($e,gt,Ue,Pe,ke,Ye){c.fF.assertValue(gt,"transformContext");var pt=[],St=gt.transforms.splits;if(_.isEmpty(St))pt.push(zr($e,gt,Ue,Pe,null,ke,Ye));else for(var bt=0,vt=St;bt<vt.length;bt++){var zt=zr($e,gt,Ue,Pe,vt[bt].selects,null,Ye);pt.push(zt)}return pt}(St,pt,$e.featureSwitches,Ye,$e.bypassConcatenation,$e.orderIndependentSelectorMatching);return{dataViews:bt=(0,ft.KH)({visualDataViews:bt,dataRoles:pt.dataRoles,objectDescriptors:Ue,objectDefinitions:Pe.objects,transformSelects:Pe.selects,applicableDataViewMappings:pt.applicableRoleMappings,roleKindByQueryRef:pt.roleKindByQueryRef,queryProjectionsByRole:pt.queryProjectionsByRole,visualStyle:pt.visualStyle,featureSwitches:$e.featureSwitches}),warnings:Ye}}function Kr($e,gt,Ue,Pe){if(gt&&gt.objects){var ke={metadata:{columns:[]}};return(0,e.ni)(ke,0,$e,gt.objects,gt.selects,Ue,Pe),[ke]}return[]}function zr($e,gt,Ue,Pe,ke,Ye,pt){var St,bt;c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"transformContext"),c.fF.assert(function(){return!ke||_.every(ke,function(jr,xr){var Fr;return!jr||(null===(Fr=gt.selectTransforms)||void 0===Fr?void 0:Fr[xr])})},"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var vt=(0,i.ED)($e);vt.metadata=(0,i.ED)($e.metadata),vt=function($e,gt){if(c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"transformContext"),(0,s.Js)(gt.visualCapabilitiesDataViewKinds)<=1)return $e;var Pe=gt.applicableDataViewKinds;if(0===(0,s.Js)(Pe))return $e;var Ye=(0,i.qO)($e);return Ye.categorical&&!(0,s.yE)(Pe,1)&&(Ye.categorical=void 0),Ye.matrix&&!(0,s.yE)(Pe,2)&&(Ye.matrix=void 0),Ye.table&&!(0,s.yE)(Pe,8)&&(Ye.table=void 0),Ye.tree&&!(0,s.yE)(Pe,16)&&(Ye.tree=void 0),Ye.single&&!(0,s.yE)(Pe,4)&&(Ye.single=void 0),Ye}(vt,gt);var At=gt.visualCapabilitiesDataViewKinds,zt=gt.visualCapabilitiesRoleMappings,Jt=gt.selectTransforms,$t=gt.expandCollapseCapabilities,qt=gt.objectDescriptors,rr=gt.visualStyle,vr=null===(St=gt.transforms)||void 0===St?void 0:St.roles,cr=null==vr?void 0:vr.isDrillDisabled,br={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},Mr=[];return vt=function($e,gt,Ue,Pe,ke,Ye,pt,St,bt){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"targetDataViewKinds"),c.fF.assert(function(){return 0===gt||!_.isEmpty(Ue)},"if targetDataViewKinds !== None, then roleMappings must be non-empty"),c.fF.assertAnyValue(Pe,"selectTransforms"),c.fF.assertValue(ke,"columnRewrites"),c.fF.assertValue(Ye,"matrixTransformationContext"),c.fF.assertValue(pt,"DataViewTransform.transformSelects - visualStyle");var vt=new Ne.Q(bt,pt);return ke.length=0,Pe&&($e.metadata.columns=function($e,gt,Ue,Pe){if(c.fF.assertValue($e,"columns"),!gt)return $e;for(var ke=(0,i.ED)($e),Ye={},pt=function(vr,cr){var br=$e[vr],Mr=gt[br.index];Ye[br.index]=!0;var jr=br;if(Mr)jr=ke[vr]=Nt(br,Mr);else if(!_.some($e,function(xr){return xr.formatSource&&xr.formatSource.formatString===br}))return"continue";Ue.push({from:br,to:jr})},St=0,bt=$e.length;St<bt;St++)pt(St);if(Pe)for(St=0;St<gt.length;St++)if(!Ye[St]){var vt=gt[St];At=st(vt,At={displayName:vt.displayName,index:St,identityExprs:vt.identityExprs}),ke.push(At)}for(var zt={},Jt=0,$t=ke;Jt<$t.length;Jt++){var At;if((At=$t[Jt]).roles&&!At.groupName&&At.index)for(var qt in At.rolesIndex||(At.rolesIndex={}),At.roles)void 0===zt[qt]&&(zt[qt]=0),At.roles[qt]&&(At.rolesIndex[qt]=[zt[qt]++])}return c.fF.assert(function(){return _.every(Ue,function(rr){return rr.from.index===rr.to.index})},"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),ke}($e.metadata.columns,Pe,ke,St),function($e,gt,Ue){if(c.fF.assertValue($e,"dataView"),c.fF.assertAnyValue(Ue,"selects"),Ue)for(var ke,Pe=$e.metadata.columns,Ye=0,pt=Ue.length;Ye<pt;Ye++){var St=Ue[Ye],bt=St&&St.aggregateSources;if(bt){ke||(ke=(0,ar._x)($e,Ue));var vt=ut(Pe,Ye,St),At=vt.aggregates={},zt=v.Ge.fromDescriptor(vt.type),Jt=yt(gt,ke,Ue,zt,bt.min);void 0!==Jt&&(At.min=Jt),void 0!==(Jt=yt(gt,ke,Ue,zt,bt.max))&&(At.max=Jt)}}}($e,vt,Pe)),$e.categorical&&(0,s.yE)(gt,1)&&($e.categorical=function($e,gt){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"columnRewrites");var Ue=(0,i.ED)($e);function Pe(St){var bt=function($e,gt){for(var Ue={},Pe=$e.source,ke=$e.source.rootSource,Ye=0,pt=gt;Ye<pt.length;Ye++){var St=pt[Ye];St.from===Pe&&(Ue.source=St.to),St.from===ke&&(Ue.rootSource=St.to)}return Ue}(St,gt),vt=bt.source,At=bt.rootSource;if(vt){var zt=(0,i.ED)(St);return zt.source=vt,At&&(zt.source.rootSource=At),zt}}var ke=(0,i.VW)($e.categories,Pe);if(ke&&(Ue.categories=ke),$e.values){var Ye=(0,i.VW)($e.values,Pe)||(0,i.qO)($e.values);if(Ue.values=Ye,Ye.source){var pt=nr(Ye.source,gt);pt&&(Ye.source=pt)}}return a(Ue),Ue}($e.categorical,ke),$e=function($e,gt){c.fF.assertValue($e,"dataView");var Ue,Pe=function($e,gt){if($e&&!_.isEmpty(gt)){var Ue=$e.categories;if(!_.isEmpty(Ue)){var Pe=$e.values;if(!_.isEmpty(Pe)&&!Pe.grouped().some(function(bt){return!!bt.identity}))for(var ke=function(vt,At){var zt=gt[vt].categorical;if(!zt)return"continue";c.fF.assert(function(){return _.filter(Ue,function(br){return Ar(br.source.roles,zt.values)}).length<=1},"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories.");for(var Jt=0,$t=Ue;Jt<$t.length;Jt++){var qt=$t[Jt],rr=qt.source.roles;if(Ar(rr,zt.values)){var vr=zt.categories;if(wr(rr,vr)||Er(rr,vr))return{value:{type:2,selfCrossJoinCategory:qt}};if(1===Ue.length)return{value:{type:1}}}}},Ye=0,pt=gt.length;Ye<pt;Ye++){var St=ke(Ye);if("object"==typeof St)return St.value}}}}($e.categorical,gt);if(Pe)switch(Pe.type){case 1:Ue=function($e){var gt;c.fF.assertValue($e,"dataView");var Ue=$e.categorical;if(!Ue)return null;var Pe=Ue.categories;if(!Pe||1!==Pe.length)return null;var ke=Ue.values;if(_.isEmpty(ke)||ke.source)return null;for(var Ye=Pe[0],pt=Ye.identity,St=Ye.values,bt=[],vt=[],At=new tt,zt=0,Jt=St.length;zt<Jt;zt++)for(var $t=St[zt],qt=pt[zt],rr=0,vr=ke.length;rr<vr;rr++){var cr=ke[rr],br=At.getPivotedDynamicFormatColumn(cr.source,zt);if(void 0===br&&(br=(0,i.ED)(cr.source)),cr.identity)return null;if(br.groupName=$t,br.rootSource=cr.source,null!==(gt=br.formatSource)&&void 0!==gt&&gt.formatString){var Mr=br.formatSource.formatString;At.trackOriginalDynamicFormatColumn(rr,Mr);var jr=(0,i.ED)(Mr);br.formatSource={formatString:jr},At.addPivotedDynamicFormatColumn(rr,zt,jr)}var xr={source:br,values:[cr.values[zt]],identity:qt,min:cr.min,max:cr.max,subtotal:cr.subtotal},Fr=cr.highlights;Fr&&(xr.highlights=[Fr[zt]]),bt.push(br),vt.push(xr)}var Jr=(0,i.ED)($e.metadata);return Jr.columns=bt,{metadata:Jr,categorical:{values:ke=(0,e.Yv)(vt,Ye.identityFields,Ye.source)},matrix:$e.matrix}}($e);break;case 2:c.fF.assertValue(Pe.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),Ue=function($e,gt){if(c.fF.assertValue($e,"dataView"),c.fF.assert(function(){return!gt||_.includes($e.categorical.categories,gt)},"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),$e.categorical&&gt){var Ue=$e.categorical;if(!(_.isEmpty(Ue.categories)||Ue.values&&Ue.values.source)){var Pe=function($e,gt){return c.fF.assertValue($e,"dataViewCategorical"),c.fF.assertValue(gt,"selfCrossJoinCategory"),c.fF.assert(function(){return _.includes($e.categories,gt)},"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),gt.source.identityExprs||(1===$e.categories.length?gt.identityFields:void 0)}(Ue,gt);if(!_.isEmpty(Pe))return function($e,gt,Ue,Pe){c.fF.assertValue($e,"dataViewMetadata"),c.fF.assertValue(gt,"dataViewCategorical"),c.fF.assertValue(gt.categories,"dataViewCategorical.categories"),c.fF.assertValue(Ue,"selfCrossJoinCategory"),c.fF.assert(function(){return _.size(Ue.values)===_.size(Ue.identity)},"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),c.fF.assertValue(Pe,"seriesGroupIdentityFields");var Ye=Ue.values.length;if(0!==Ye){var pt=gt.values?gt.values.grouped()[0].values:[],St=function($e,gt,Ue,Pe){c.fF.assertValue($e,"category"),c.fF.assertValue(gt,"categoryLength"),c.fF.assertValue(Ue,"measures"),c.fF.assertValue(Pe,"seriesGroupIdentityFields");var ke=function($e){c.fF.assertValue($e,"length");for(var gt=new Array($e),Ue=0;Ue<$e;Ue++)gt[Ue]=null;return gt}(gt),Ye=function($e,gt){c.fF.assertValue($e,"category"),c.fF.assert(function(){return _.size($e.values)===_.size($e.identity)},"_.size(category.values) === _.size(category.identity)"),c.fF.assertValue(!_.isEmpty(gt),"!_.isEmpty(seriesGroupIdentityFields)");for(var Ue=$e.identity,Pe=$e.values,ke=[],Ye={},pt=0,St=_.size(Ue);pt<St;pt++){var vt=(0,V.J2)(Ue[pt].expr,gt),At=vt&&(0,W.TZ)(vt),zt=At&&At.key,Jt=Ye[zt],$t=void 0;void 0===Jt?(ke.push($t={identity:At,groupValue:Pe[pt],groupIndex:ke.length,valueRowIndices:[]}),Ye[zt]=$t.groupIndex):$t=ke[Jt],$t.valueRowIndices.push(pt)}return c.fF.assert(function(){return(0,t.pT)(ke,function(qt,rr){return qt.groupIndex-rr.groupIndex})},"post-condition: seriesGroups is sorted by group index"),ke}($e,Pe);if(!_.isEmpty(Ye)){var pt=_.map(Ye,function(St){var bt=St.valueRowIndices;return _.map(Ue,function(At){var zt={values:Mt(ke,At.values,bt)};return At.highlights&&(zt.highlights=Mt(ke,At.highlights,bt)),zt})});return{groupColumn:{source:$e.source,identityFrom:{fields:Pe,identities:_.map(Ye,function(St){return St.identity})},values:_.map(Ye,function(St){return St.groupValue})},valueColumns:_.map(Ue,function(St){return{source:St.source}}),data:pt}}}(Ue,Ye,pt,Pe);if(St){var bt=(0,ht.h)().withCategories(gt.categories).withGroupedValues(St).build();return($e=(0,i.ED)($e)).columns=bt.metadata.columns,{metadata:$e,categorical:bt.categorical}}}}($e.metadata,Ue,gt,Pe)}}}($e,Pe.selfCrossJoinCategory)}return Ue||$e}($e,Ue)),$e.matrix&&(0,s.yE)(gt,2)&&($e.matrix=function($e,gt,Ue){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"columnRewrites");var Pe=(0,i.ED)($e),ke=function(At){return nr(At,gt)};function Ye(vt){var At=null,zt=(0,i.VW)(vt.levels,function(Jt){var $t=null,qt=(0,i.VW)(Jt.sources,ke);if(qt&&($t=Dt($t,Jt,function(vr){return vr.sources=qt})),Jt.valueSources){c.fF.assert(function(){return _.isEqual(_.keys(Jt.valueSources),["0"])},"Scoped Measures with column groupings are not supported"),c.fF.assertValue(Jt.valueSources[0],"Empty Scoped measures metadata");var rr=(0,i.VW)(Jt.valueSources[0],ke);rr&&($t=Dt($t,Jt,function(vr){return vr.valueSources={0:rr}}))}return $t});return zt&&(At=Dt(At,vt,function(Jt){return Jt.levels=zt})),At}var pt=Ye(Pe.rows);pt&&(Pe.rows=pt,Ue.rowHierarchyRewritten=!0);var St=Ye(Pe.columns);St&&(Pe.columns=St,Ue.columnHierarchyRewritten=!0);var bt=(0,i.VW)(Pe.valueSources,ke);return bt&&(Pe.valueSources=bt),Pe}($e.matrix,ke,Ye)),$e.table&&(0,s.yE)(gt,8)&&($e.table=function($e,gt){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"columnRewrites");var Ue=(0,i.ED)($e),ke=(0,i.VW)($e.columns,function(pt){return nr(pt,gt)});return ke&&(Ue.columns=ke),Ue}($e.table,ke)),$e.single&&(0,s.yE)(gt,4)&&($e.single=function($e,gt){var Ue=nr($e.column,gt);return Ue&&(($e=(0,i.qO)($e)).column=Ue),$e}($e.single,ke)),$e}(vt,At,zt,Jt,Mr,br,rr,gt.visualCapabilitiesKeepAllMetadataColumns,Ue),(0,e.ni)(vt,gt.visualCapabilitiesDataViewKinds,qt,gt.transforms.objects,Jt,rr,Ue,Pe,pt),vt=function($e,gt,Ue,Pe,ke){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"transformContext"),c.fF.assertValue(Pe,"matrixTransformationContext"),c.fF.assertAnyValue(ke,"selectsToInclude");var Ye=gt.projectionOrdering,pt=gt.applicableRoleMappings,St=(0,i.qO)($e);if(function($e,gt,Ue){if(gt){for(var Pe=new Array(Ue.length),ke=0,Ye=$e;ke<Ye.length;ke++)if(void 0!==(pt=Ye[ke]).index&&void 0!==pt.roles&&null==pt.groupName)for(var St in Pe[pt.index]=pt,pt.rolesIndex=pt.rolesIndex||{},pt.roles)pt.roles[St]&&(pt.rolesIndex[St]=[]);for(var St in gt)for(var bt=gt[St],vt=0;vt<bt.length;vt++){var pt;(pt=Pe[bt[vt]])&&pt.rolesIndex[St].push(vt)}}}(St.metadata.columns,Ye,Ue),St.table&&(0,s.yE)(gt.applicableDataViewKinds,8)&&function($e,gt,Ue){if(!gt)return $e;var Pe=function($e,gt){var Ue=Object.keys($e);if(1===Ue.length){var Pe=Ue[0],ke=_.map(gt,function(pt){return pt.from.index});return function($e,gt){if(!(0,t.NF)($e,gt,function(pt,St){return pt===St})){for(var Ue=[],Pe=0,ke=gt.length;Pe<ke;++Pe)Ue[Pe]=$e.indexOf(gt[Pe]);return Ue}}(ke,$e[Pe])}}(gt,Ue);if(!Pe)return $e;var ke=function(St){for(var bt=Pe.length,vt=new Array(bt),At=0;At<bt;At++)vt[At]=St[Pe[At]];return vt};if(($e=(0,i.qO)($e)).columns=ke($e.columns),_.isEmpty($e.rows)||($e.rows=(0,i.VW)($e.rows,function(pt){var St=ke(pt);return pt.objects&&(St.objects=ke(pt.objects)),St})),$e.totals){var Ye=ke($e.totals);$e.totals.objects&&(Ye.objects=ke($e.totals.objects)),$e.totals=Ye}}(St.table,Ye,Ue),St.matrix&&(0,s.yE)(gt.applicableDataViewKinds,2)){var bt=_.filter(pt,function(vt){return!!vt.matrix});c.fF.assertValue(0!==bt.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),c.fF.assertValue(bt.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),St.matrix=function($e,gt,Ue,Pe){var ke;c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"matrixMapping"),c.fF.assertAnyValue(Ue,"projectionOrdering"),c.fF.assertValue(Pe,"context");var Ye=$e;if(Ue){Ye=function($e,gt,Ue,Pe){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"matrixRoleMapping"),c.fF.assertValue(Ue,"projectionOrdering"),c.fF.assertValue(Pe,"context");var ke=$e.valueSources,Ye=We(Ue,gt.values,ke);if(le(ke,Ye))return $e;c.fF.assert(function(){return Ye.length>0||!_.isEmpty(ke)},"Nothing to re-order!");var pt=(0,i.qO)($e),St=pt.columns.levels,bt=[];St.length>0&&(bt=St[0].sources.filter(function(At){return At.isMeasure&&null!=At.index&&!_.isEmpty(At.roles)&&!_.find(Ye,function(zt){return zt.metadataColumn===At})})),pt.rows=Z(pt.rows,pt.valueSources,Ye,bt);var vt=_.map(Ye,function(At){return At.metadataColumn});return pt.valueSources=vt,pt.valueSources=pt.valueSources.concat(bt),pt.columns=function($e,gt,Ue,Pe){c.fF.assertValue($e,"prototypeColumnHierarchy"),c.fF.assertValue(gt,"newValueSources");var bt,ke=$e.levels,Ye=(0,ve.Lt)(ke),St=(Ye?_.size(ke)>=2:_.size(ke)>=1)?gt.length>=2:gt.length>=1;return bt=Ye?St?function($e,gt,Ue,Pe){c.fF.assert(function(){return $e&&(0,ve.Lt)($e.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),c.fF.assertValue(gt,"newValueSources");var ke=(0,i.qO)($e),Ye=ke.levels=(0,i.qO)(ke.levels),pt=Ye.length-1,St=Ye[pt]=(0,i.qO)(Ye[pt]);return St.sources=gt,ke.root=(0,ve.no)(ke.root,pt,!0),(0,ve.w1)(ke.root,function(bt){var vt;if(Ze(bt,pt)){var At=qe(pt,gt.length,bt,Pe);if(0===pt&&Ue.length>0){for(var zt=St.sources.length,Jt=0;Jt<Ue.length;Jt++)At.push({level:0,levelSourceIndex:zt+Jt});bt.children=At,(vt=St.sources).push.apply(vt,Ue||[])}else bt.children=At;return 2}return 1}),ke}($e,gt,Ue,Pe):function($e){c.fF.assert(function(){return $e&&(0,ve.Lt)($e.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var gt=(0,i.qO)($e),Ue=gt.levels=(0,i.qO)(gt.levels),Pe=Ue.length-1;return Ue.splice(Pe,1),gt.root=(0,ve.no)(gt.root,Pe,!0),(0,ve.w1)(gt.root,function(ke){return Ze(ke,Pe)?(ke.children=void 0,2):1}),gt}($e):St?function($e,gt){c.fF.assert(function(){return $e&&!(0,ve.Lt)($e.levels)},"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),c.fF.assertValue(gt,"newValueSources");var Ue=(0,i.qO)($e),Pe=Ue.levels=(0,i.qO)(Ue.levels);Pe.push({sources:gt});var Ye=Pe.length-1;return Ue.root=(0,ve.no)(Ue.root,Ye,!0),(0,ve.w1)(Ue.root,function(pt){return(0,ve.N9)(pt)?(pt.children=qe(Ye,gt.length,pt),2):1}),Ue}($e,gt):$e,bt}(pt.columns,(0,l.__spreadArray)([],vt||[],!0),bt,Ye),Pe.hierarchyTreesRewritten=!0,pt}(Ye,gt,Ue,Pe),Ye=function($e,gt,Ue){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"applicableDataViewMapping"),c.fF.assertValue(Ue,"projectionOrdering");var vt,ke=_e(Ue,d.nG.fromMatrixRows(gt.rows)),Ye=me($e.rows,ke),St=_e(Ue,d.nG.fromMatrixColumns(gt.columns)),bt=me($e.columns,St);return(Ye||bt)&&((vt=(0,i.qO)($e)).rows=Ye||vt.rows,vt.columns=bt||vt.columns),vt||$e}(Ye,gt,Ue);var pt=null===(ke=gt.rows)||void 0===ke?void 0:ke.values;_.isEmpty(pt)||(Ye=function($e,gt,Ue,Pe){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"scopedMeasuresRoleMapping"),c.fF.assertValue(Ue,"projectionOrdering"),c.fF.assertValue(Pe,"context");for(var ke=$e,Ye=0;Ye<$e.rows.levels.length;Ye++){var St=(0,ve.vC)($e.rows.levels[Ye]);if(!_.isEmpty(St)){var bt=[];Ye===$e.rows.levels.length-1&&(c.fF.assert(function(){return(0,ve.pr)($e.columns)>0},"Scoped measures at last row level aren't expected without Column grouping"),bt=We(Ue,gt,St)),le(St,bt)||((ke=(0,i.qO)(ke)).rows=Z(ke.rows,St,bt,[],Ye),ke.rows.levels=(0,i.qO)(ke.rows.levels),(ke.rows.levels[Ye]=(0,i.qO)(ke.rows.levels[Ye])).valueSources=bt.length>0?{0:_.map(bt,function(At){return At.metadataColumn})}:void 0,Pe.hierarchyTreesRewritten=!0)}}return ke}(Ye,pt,Ue,Pe))}return Ye}(St.matrix,bt[0].matrix,Ye,Pe),function($e,gt){if($e&&!_.isEmpty(gt)){var Ue=$e.rows.levels;if(!(Ue.length<1)){var Pe=$e.rows.root.children;if(Pe&&0!==Pe.length)for(var ke=Ue[0].sources[0].roles,Ye=0,pt=gt.length;Ye<pt;Ye++){var St=gt[Ye].matrix;if(St&&!Er(ke,St.rows)&&Er(ke,St.columns))return!0}}}}(St.matrix,pt)&&de(St.matrix,Pe)}return function($e,gt,Ue,Pe,ke){c.fF.assertValue($e,"prototype"),c.fF.assertAnyValue(gt,"applicableRoleMappings"),c.fF.assertAnyValue(Ue,"dataRoles"),c.fF.assertAnyValue(Pe,"projectionOrdering"),c.fF.assertAnyValue(ke,"splitSelects");var Ye,pt=_.chain(gt).filter(function(vt){return vt.categorical&&!(0,d.zY)(vt)}).map(function(vt){return vt.categorical}).value();if($e.categorical&&pt.length>=1){var St=$e.categorical,bt=function($e,gt,Ue,Pe){if(c.fF.assertValue($e,"prototypeCategorical"),c.fF.assertValue(gt,"categoricalRoleMappingsWithoutRegression"),c.fF.assert(function(){return _.every(gt,function(pt){return!!pt})},"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),c.fF.assertAnyValue(Ue,"projectionOrdering"),c.fF.assertAnyValue(Pe,"splitSelects"),!_.isEmpty($e.categories)){var ke=(0,d.y4)(gt,d.O2);if(ke){var Ye=function($e,gt,Ue){if(c.fF.assertValue($e,"roles"),c.fF.assertAnyValue(gt,"projectionOrdering"),c.fF.assertAnyValue(Ue,"splitSelects"),gt){var Pe=_.reduce($e,function(ke,Ye){var pt=_.filter(gt[Ye],function(St){return!Ue||Ue[St]});return ke.push.apply(ke,pt||[]),ke},[]);return Pe}}(ke,Ue,Pe);if(Ye)return function($e,gt,Ue){c.fF.assertValue($e,"prototypeCategorical"),c.fF.assertValue(gt,"projectionOrder"),c.fF.assertValue(Ue,"categoryRoles");var Pe=$e.categories;if(_.isEmpty(Pe))c.fF.assert(function(){return _.isEmpty(gt)},"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function($e,gt){return c.fF.assertValue($e,"categories"),c.fF.assertValue(gt,"selectIndexOrder"),$e.length===gt.length&&_.every(gt,function(Ue,Pe){return $e[Pe].source.index===Ue})}(Pe,gt)){var ke=_.map(Pe,function(At){return At.source}),Ye=(0,b.jh)(ke,gt,Ue),pt=_.chain(Ye).filter(function(At){return void 0!==At.projectionOrderIndex}).sortBy(function(At){return At.projectionOrderIndex}).value(),St=_.map(pt,function(At){return Pe[At.sourceIndex]}),bt=(0,i.qO)($e);if(_.isEmpty(St))bt.categories=void 0;else{var vt=(0,u.OC)(Pe);vt&&(St=(0,u.gp)(St,vt)||St),bt.categories=St}return bt}}($e,Ye,ke)}}}(St,pt,Pe,ke);bt=function($e,gt,Ue,Pe){c.fF.assertValue($e,"prototypeCategorical"),c.fF.assertAnyValue(gt,"dataRoles"),c.fF.assertAnyValue(Ue,"projectionOrdering"),c.fF.assertAnyValue(Pe,"splitSelects");var ke=$e.values;if(ke){var Ye=function($e){if(n($e)){var gt=(0,e.Yv)($e.filter(function(Ue){return!h(Ue)}),void 0,$e.source);return gt.grouped=$e.grouped.bind(gt),gt}}(ke),pt=function($e){c.fF.assertValue($e,"values"),c.fF.assert(function(){return!n($e)},"Dynamic format values should have already been removed");var Ue,Pe,ke,Ye,gt=$e.source,pt=$e.grouped();if(gt){Pe=A(pt);var bt=(Ue=pt.length)*_.size(Pe),vt=$e.length-bt;vt>0&&(ke=bt,Ye=_.chain($e).takeRight(vt).map(function(At){return At.source}).value())}else ke=0,Ye=A(pt);return{secondaryAxisSource:gt,dynamicSeriesGroupCount:Ue,dynamicSeriesMeasureSources:Pe,staticSeriesMeasureStartingIndex:ke,staticSeriesMeasureSources:Ye}}(Ye||ke),St=function($e,gt,Ue,Pe){if(c.fF.assertValue($e,"valueColumnsInfo"),c.fF.assertAnyValue(gt,"dataRoles"),c.fF.assertAnyValue(Ue,"projectionOrdering"),c.fF.assertAnyValue(Pe,"splitSelects"),!Ue)return function($e,gt){c.fF.assertValue($e,"valueColumnsInfo"),c.fF.assertAnyValue(gt,"splitSelects");var ke=($e.dynamicSeriesMeasureSources||[]).concat($e.staticSeriesMeasureSources||[]),Ye=_.chain(ke).filter(function(pt){return!gt||!!gt[pt.index]}).map(function(pt){return pt.index}).uniq().value();return Ye}($e,Pe);var ke=_.reduce(gt,function(At,zt,Jt){var $t=zt.name;return void 0===At[$t]&&(At[$t]=Jt),At},{}),St=($e.dynamicSeriesMeasureSources||[]).concat($e.staticSeriesMeasureSources||[]),bt=_.chain(St).filter(function(At){return!Pe||!!Pe[At.index]}).uniqBy(function(At){return At.index}).map(function(At){var zt=At.roles;return zt?_.filter(Object.keys(zt),function(Jt){return zt[Jt]}):[]}).flatten().uniq().sortBy(function(At){return ke[At]}).value(),vt=_.chain(bt).map(function(At){return Ue[At]||[]}).flatten().filter(function(At){return!Pe||!!Pe[At]}).uniq().value();return vt}(pt,gt,Ue,Pe);if(Ye=function($e,gt,Ue){c.fF.assertValue($e,"prototypeValues"),c.fF.assertValue(gt,"prototypeValueColumnsInfo"),c.fF.assertValue(Ue,"measureRolesProjectionOrder"),c.fF.assert(function(){return!n($e)},"Dynamic format values should have already been removed");var Pe=function($e,gt,Ue){if(c.fF.assertValue($e,"prototypeValues"),c.fF.assertValue(gt,"prototypeValueColumnsInfo"),c.fF.assertValue(Ue,"measureRolesProjectionOrder"),gt.dynamicSeriesGroupCount&&!_.isEmpty(gt.dynamicSeriesMeasureSources)){var Pe=N(gt.dynamicSeriesMeasureSources,Ue);if(Pe){var ke=Pe.length;if(0===ke)return[];for(var Ye=gt.dynamicSeriesMeasureSources.length,pt=gt.dynamicSeriesGroupCount,St=[],bt=0;bt<pt;bt++)for(var vt=bt*Ye,At=0;At<ke;At++)St.push($e[vt+Pe[At].sourceIndex]);return St}}}($e,gt,Ue),ke=function($e,gt,Ue){if(c.fF.assertValue($e,"prototypeValues"),c.fF.assertValue(gt,"prototypeValueColumnsInfo"),c.fF.assertValue(Ue,"measureRolesProjectionOrder"),!_.isEmpty(gt.staticSeriesMeasureSources)){var Pe=N(gt.staticSeriesMeasureSources,Ue);if(Pe){var ke=Pe.length;if(0===ke)return[];for(var Ye=gt.staticSeriesMeasureStartingIndex,pt=[],St=0;St<ke;St++)pt.push($e[Ye+Pe[St].sourceIndex]);return pt}}}($e,gt,Ue);if(Pe||ke){var Ye=(0,i.qO)($e);return Pe?ke?(c.fF.assert(function(){return _.isEmpty(Pe)||_.isEmpty(ke)},"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),Ye.splice(0,Ye.length),Ye.push.apply(Ye,Pe||[]),Ye.push.apply(Ye,ke||[])):(c.fF.assertValue(gt.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),c.fF.assertValue(gt.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),Ye.splice.apply(Ye,(0,l.__spreadArray)([0,gt.dynamicSeriesMeasureSources.length*gt.dynamicSeriesGroupCount],Pe||[],!1))):ke&&(c.fF.assertValue(gt.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),c.fF.assertValue(gt.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),Ye.splice.apply(Ye,(0,l.__spreadArray)([gt.staticSeriesMeasureStartingIndex,gt.staticSeriesMeasureSources.length],ke||[],!1))),Ye}}(Ye||ke,pt,St)||Ye,Ye=function($e,gt){if(c.fF.assertValue($e,"prototypeValues"),c.fF.assertAnyValue(gt,"splitSelects"),gt&&$e.source&&!gt[$e.source.index]){var Pe=(0,i.qO)($e);return Pe.source=void 0,Pe.identityFields=void 0,Pe}}(Ye||ke,Pe)||Ye,Ye){var bt=!!Ye.source,vt=Ye.length>0,At=(0,i.qO)($e);return bt||vt?(At.values=Ye,a(At)):At.values=void 0,At}}}(bt||St,Ue,Pe,ke),bt&&((Ye=(0,i.qO)($e)).categorical=bt)}return Ye||$e}(St,pt,gt.dataRoles,Ye,ke)}(vt,gt,Mr,br,ke),vt=function($e,gt,Ue,Pe,ke,Ye,pt){if(_.isEmpty(Ue)||!ke)return $e;var St=ke&&ke.roles;if(_.isEmpty(St)||pt)return $e;c.fF.assertValue($e,"dataView"),c.fF.assertValue(gt,"targetDataViewKinds"),c.fF.assertNonEmpty(Pe,"selectTransforms"),c.fF.assertAnyValue(Ye,"expansionStates");var bt=ke.addDataViewFlags;if(c.fF.assertValue(bt,"addDataViewFlags"),!0!==(bt.propertyIdentifier?(0,fe.NA)($e.metadata.objects,bt.propertyIdentifier,bt.defaultValue):bt.defaultValue))return $e;var At=_.find(Ue,function($t){return $t.matrix}),zt=At&&At.matrix;if(zt&&$e.matrix&&(0,s.yE)(gt,2)){var Jt=function($e,gt,Ue,Pe,ke,Ye,pt){c.fF.assertNonEmpty(Pe,"Expand/Collapse is not supported");var St=d.nG.fromMatrixRows(gt.rows),bt=ke&&(0,p.Vt)(ke,St),vt=function($e,gt,Ue,Pe,ke,Ye,pt){if(c.fF.assertAnyValue(ke,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(gt,function(qt){return!_.includes(Pe,qt)})){for(var St=0,bt=function(rr){_.some(gt,function(vr){return rr.roles[vr]})&&St++},vt=0,At=Ue;vt<At.length;vt++)bt(At[vt]);if(St>0){($e=(0,i.qO)($e)).levels=(0,i.qO)($e.levels),c.fF.assertValue($e.levels,"hierarchy.levels");for(var Jt=0;Jt<$e.levels.length;Jt++)Jt<St-1&&($e.levels[Jt]=(0,i.qO)($e.levels[Jt]),$e.levels[Jt].canBeExpanded=!0);var $t=dt($e.root,$e.levels,ke&&ke.root,ke&&ke.levels,St);return $t&&($e.root=$t),pt&&ke&&function($e,gt,Ue){c.fF.assertValue($e,"hierarchy"),c.fF.assertValue(gt,"metadataColumns"),c.fF.assertValue(Ue,"expansionState");var Pe=Ue.levels;if(!_.isEmpty(Pe)){for(var ke={},Ye=0,pt=gt;Ye<pt.length;Ye++){var St=pt[Ye];ke[St.queryName]=St}for(var bt=new Array(Pe.length),vt=$e.levels,At=0,zt=function(cr){var br=cr.queryRefs;if(!_.isEmpty(br)&&!_.isEmpty(vt)&&vt[At])for(var Mr=vt[At].sources,jr=function(Ot){c.fF.assert(function(){return _.some(Mr,function(Ee){return Ee.queryName===Ot})},"ExpansionState levels should match matrix levels.")},xr=0,Fr=br;xr<Fr.length;xr++)jr(Fr[xr]);bt[At++]={isCollapsed:cr.isCollapsed,isPinned:cr.isPinned,isLocked:cr.isLocked,AIInformation:_.cloneDeep(cr.AIInformation),sources:_.map(br,function(Hr){return ke[Hr]})}},Jt=0,$t=Pe;Jt<$t.length;Jt++)zt($t[Jt]);var rr=Qt(Ue.root,bt,void 0,m.m.getPrimitiveValuesFromSQConstantExpr);$e.expansionStates=[{levels:bt,root:rr}]}}($e,Ye,ke),$e}}}($e.rows,St,Ue,Pe,bt,Ye,pt);if(vt)return($e=(0,i.qO)($e)).rows=vt,$e}($e.matrix,zt,Pe,St,Ye,$e.metadata.columns,ke.addDataViewExpansionState);Jt&&(($e=(0,i.qO)($e)).matrix=Jt)}return $e}(vt,At,zt,Jt,$t,gt.transforms.expansionStates,!!cr),vt=function($e,gt){c.fF.assertValue($e,"prototype"),c.fF.assertValue(gt,"quarterPrefix");var Ue=$e.categorical;if(!Ue||_.isEmpty(Ue.categories))return $e;var Pe=Ue.categories,ke=(0,U.A8)(Pe[0],U.it);if(!ke||_.isEmpty(ke.values))return $e;for(var Ye,pt,St,vt,bt=[],At=0,zt=Pe.length;At<zt;At++)for(var Jt=Pe[At],$t=Jt.source.type,qt=Jt.values,rr=void 0,vr=void 0,cr=0,br=_.size(qt);cr<br;cr++){var jr=ke.values[cr];if(null==qt[cr]&&null!=jr){Ye||(pt=(Ye=(0,i.qO)($e)).categorical=(0,i.qO)(Ue),St=pt.categories=(0,i.qO)(Pe)),rr||(vr=(rr=St[At]=(0,i.qO)(Jt)).values=(0,i.qO)(qt));var xr=z(jr.min,$t,gt);vr[cr]=xr,bt[cr]||(vt||(vt=cr),bt[cr]=[]),bt[cr][At]=(0,F.kQ)(xr,$t)}}var Fr=function(Hr,Ot){for(var Ee=St[Hr],Vt=function(_t,Wt){var Ht=bt[_t];Ht&&(c.fF.assert(function(){return Ht.length===Ee.identityFields.length},"category values must match category identities"),Ee.identity[_t]=(0,W.TZ)((0,O.R)(Ee.identityFields,Ht)))},wt=vt,rt=_.size(Ee.identity);wt<rt;wt++)Vt(wt)};for(At=0,zt=_.size(St);At<zt;At++)Fr(At);return Ye||$e}(vt,Cr.quarterPrefix),vt=function($e){var gt=$e.table;if(gt&&1===gt.columns.length&&gt.columns[0].isMeasure&&1===gt.rows.length&&1===gt.rows[0].length){var Pe=gt.rows[0];return $e.single={column:gt.columns[0],value:Pe[0]},Pe.objects&&($e.single.objects=Pe.objects[0]),$e}return $e}(vt),Ye||(vt=(0,I.pP)(vt,qt,gt.applicableRoleMappings,gt.projectionActiveItems,Lr(gt.drillCapabilities,cr))),it({dataview:vt,dataViewMappings:zt,dataRoles:gt.dataRoles}),vt.metadata&&!(null===(bt=null==gt?void 0:gt.transforms)||void 0===bt)&&bt.isDataFilterApplied&&(vt.metadata.isDataFilterApplied=!0),vr&&vt.metadata&&(vr.drillableRoles&&(vt.metadata.dataRoles||(vt.metadata.dataRoles={}),vt.metadata.dataRoles.drillableRoles=vr.drillableRoles),void 0!==cr&&(vt.metadata.dataRoles||(vt.metadata.dataRoles={}),vt.metadata.dataRoles.isDrillDisabled=cr)),vt}function Nt($e,gt){return c.fF.assertValue($e,"prototypeColumn"),c.fF.assertValue(gt,"select"),st(gt,(0,i.ED)($e))}function st($e,gt){return $e.roles&&(gt.roles=$e.roles),$e.type&&(gt.type=$e.type),gt.format=function($e,gt){return $e.format||gt.format}($e,gt),$e.displayName&&(gt.displayName=$e.displayName),$e.queryName&&(gt.queryName=$e.queryName),$e.expr&&(gt.expr=$e.expr),$e.kpi&&$e.kpi.graphic&&(gt.kpi=$e.kpi),$e.sort&&(gt.sort=$e.sort),null!=$e.sortOrder&&(gt.sortOrder=$e.sortOrder),$e.discourageAggregationAcrossGroups&&(gt.discourageAggregationAcrossGroups=$e.discourageAggregationAcrossGroups),$e.parameter&&(gt.parameter=$e.parameter),$e.relatedObjects&&(gt.relatedObjects=$e.relatedObjects),gt}function ut($e,gt,Ue){c.fF.assertValue($e,"columns"),c.fF.assertValue(gt,"selectIdx"),c.fF.assertValue(Ue,"select");for(var Pe=0,ke=$e;Pe<ke.length;Pe++){var Ye=ke[Pe];if(Ye.index===gt&&void 0===Ye.groupName)return Ye}var pt=Nt({displayName:Ue.displayName},Ue);return $e.push(pt),pt}function yt($e,gt,Ue,Pe,ke){c.fF.assertValue(gt,"evalContext"),c.fF.assertValue(Ue,"selects"),c.fF.assertValue(Pe,"type"),c.fF.assertValue(ke,"source");var Ye=Ue[ke.index];if(Ye)return $e.evaluateValue(gt,Ye.expr,Pe)}function nr($e,gt){var Ue=_.find(gt,function(Pe){return Pe.from===$e});if(Ue)return Ue.to}function Dt($e,gt,Ue){return $e||($e=(0,i.ED)(gt)),Ue&&Ue($e),$e}function nt($e,gt,Ue,Pe,ke,Ye,pt){var St,bt=(0,ne.Me)($e);if(_.isEmpty(bt.metadataOnce))return{dataViewObjects:void 0};var vt,At,zt=new Ne.Q(Pe,Ue);At=Ye&&pt?(0,ar._x)(Ye,pt):(0,dr.X)();for(var Jt=ke?{warnings:[]}:void 0,$t=0,qt=bt.metadataOnce;$t<qt.length;$t++){var rr=qt[$t],vr=rr.selector&&rr.selector.id,cr=null===(St=rr.selector)||void 0===St?void 0:St.order;Jt&&(Jt.selector=rr.selector);var br=(0,ne.PJ)(zt,At,gt,rr.objects,Jt);br&&(vt||(vt={}),(0,fe.PM)(vt,br,vr,cr))}return Jt&&!_.isEmpty(Jt.warnings)?{dataViewObjects:vt,warnings:Jt.warnings}:{dataViewObjects:vt}}function dt($e,gt,Ue,Pe,ke){if(!$e.isSubtotal&&$e.level!==ke-1){var Ye=!1;if(void 0!==$e.level){if($e=(0,i.qO)($e),Pe){var St=Pe[$e.level];$e.isCollapsed=!!(+!(!St||!St.isCollapsed)^+!(!Ue||!Ue.isToggled))}else $e.isCollapsed=_.isEmpty($e.children)||1===$e.children.length&&!!$e.children[0].isSubtotal;Ye=!0}if(!_.isEmpty($e.children))for(var vt=function(Jt){var $t=$e.children[Jt],qt=$t.identity,rr=qt&&(0,V.KX)(qt.expr),vr=rr&&_.find(Ue&&Ue.children,function(br){return(0,t.NF)(br.identityValues,rr,gr.fS)}),cr=dt($t,gt,vr,Pe,ke);cr&&(($e=(0,i.qO)($e)).children=(0,i.qO)($e.children),$e.children[Jt]=cr,Ye=!0)},At=0;At<$e.children.length;At++)vt(At);return Ye?$e:void 0}c.fF.assert(function(){return _.isEmpty($e.children)},"Leaf node with children")}function Qt($e,gt,Ue,Pe){if($e){var Ye,pt,ke=$e.identityValues;if(_.isEmpty(ke)||(Ye=_.map(ke,Pe)),!_.isEmpty($e.children)){var St=$e.children;pt=new Array(St.length);for(var bt=0,vt=0,At=St;vt<At.length;vt++){var Jt=Qt(At[vt],gt,void 0===Ue?0:Ue+1,Pe);pt[bt++]=Jt}}return{isExpanded:void 0===Ue?void 0:!!gt[Ue].isCollapsed==!!$e.isToggled,values:Ye,children:pt}}}function wr($e,gt){if($e&&gt&&gt.bind)return $e[gt.bind.to]}function Er($e,gt){if($e&&gt&&gt.for)return $e[gt.for.in]}function Ar($e,gt){if($e&&gt&&gt.group)return $e[gt.group.by]}function Lr($e,gt){var Ue;return gt?[]:null!==(Ue=null==$e?void 0:$e.roles)&&void 0!==Ue?Ue:[]}},926720:function(ze,K,r){r.d(K,{Yv:function(){return se},ni:function(){return ce}});var t=r(787941),c=r(299747),i=r(725182),s=r(989516),p=r(324356),V=r(195393),m=r(870629),v=r(32756),e=r(698129),h=r(98196),n=r(396894),o=r(255780),u=r(473667),l=function(){function Z(ie,me){if(this.dataView=ie,t.fF.assertValue(ie,"dataView"),ie){this.columnLeavesPath=(0,o.sx)(ie.columns.root),this.hasColumnGrouping=(0,o.pr)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(ie.valueSources,function(ue){return ue.queryName}),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var ye=ie.rows.levels;if(t.fF.assertAnyValue(ye,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(ye))for(var oe=0;oe<ye.length;oe++){var X=(0,o.vC)(ye[oe]);this.scopedValueSourcesByLevel[oe]=X,X&&(this.scopedValuesQueryNamesByLevel[oe]=_.map(X,function(ue){return ue.queryName}))}}}return Z.prototype.setAsRowNode=function(ie){t.fF.assertNonEmpty(ie,"Invalid context: Empty rowPath"),this.rowPath=ie,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},Z.prototype.setAsColumnNode=function(ie){t.fF.assertNonEmpty(ie,"Invalid context: Empty columnPath"),this.columnPath=ie,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},Z.prototype.setAsIntersection=function(ie,me,ye,oe,X){void 0===X&&(X=!1),t.fF.assertValue(ie,"Invalid context: Undefined intersection"),t.fF.assertNonEmpty(me,"Intersection context must have a rowPath"),t.fF.assertNonEmpty(ye,"Intersection context must have a columnPath"),t.fF.assert(function(){return null!=oe&&oe>=0},"Intersection context must have a valid nodeValueIndex"),t.fF.assertAnyValue(X,"By default, FALSE"),this.nodeValue=ie,this.rowPath=me,this.columnPath=ye,this.nodeValueIndex=oe,this.forHighlight=!!X,this.isScopedValue=!1},Z.prototype.setAsScopedValue=function(ie,me,ye,oe){void 0===oe&&(oe=!1),t.fF.assertValue(ie,"Invalid context: Undefined intersection"),t.fF.assertNonEmpty(me,"Intersection context must have a rowPath"),t.fF.assertAnyValue(oe,"By default, FALSE"),this.nodeValue=ie,this.rowPath=me,this.columnPath=void 0,this.nodeValueIndex=ye,this.forHighlight=!!oe,this.isScopedValue=!0,t.fF.assert(function(){return _.isEqual(_.keys(_.last(me).nodeValues),["0"])},"Scoped Values are expected to be grouped by Rows only")},Z.prototype.getScopedEvalExprValue=function(ie){var me=ie.decomposeGlobalAggregateOfScopedExpr();if(me){var ye=(0,u.T5)(me.source,this.getContextValueSources());return ye?(0,u._L)(ye,me.func):void 0}if(ie.hasInnerMostScope())return this.getExprValue(ie.expression);ie.hasGlobalScope()?t.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):t.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},Z.prototype.getExprValue=function(ie){return t.fF.assertValue(ie,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(ie):this.rowPath?this.evaluateRowHeader(ie):this.columnPath?this.evaluateColumnHeader(ie):void t.fF.assertFail("getExprValue - context is empty")},Z.prototype.getExprColumn=function(ie){return(0,u.T5)(ie,this.getContextValueSources())},Z.prototype.findExprValueSourceIndex=function(ie){var me=this.getContextValueSources();if(t.fF.assertAnyValue(me,"For ScopedValues, DataView may contain cached Data without Value Sources"),!me)return-1;var ye=(0,u.T5)(ie,me);return ye?me.indexOf(ye):-1},Z.prototype.evaluateMatrixMeasure=function(ie){t.fF.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),t.fF.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var me=this.nodeValue.valueSourceIndex||0,ye=this.findExprValueSourceIndex(ie);if(!(ye<0)){var oe;if(ye===me)oe=this.nodeValue;else{var X=ye-me+this.nodeValueIndex,ue=_.last(this.rowPath),Se=this.isScopedValue?(0,o.Lr)(ue):ue.values;if(!(oe=null==Se?void 0:Se[X]))return}return this.forHighlight?oe.highlight:oe.value}},Z.prototype.evaluateRowHeader=function(ie){var me=this;t.fF.assert(function(){return!me.columnPath},"matrixEvalContext.evaluateRowHeader - context has columnNode"),t.fF.assert(function(){return!me.nodeValue},"matrixEvalContext.evaluateRowHeader - context has value");var ye=this.findExprValueSourceIndex(ie);if(!(ye<0)){var X,oe=_.last(this.rowPath);if(oe&&(X=this.shouldConsiderScopedValues(oe.level)?(0,o.Lr)(oe):oe.values,t.fF.assertAnyValue(X,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),X))return X[ye].value}},Z.prototype.evaluateColumnHeader=function(ie){var me=this;t.fF.assert(function(){return!me.rowPath},"matrixEvalContext.evaluateColumnHeader - context has rowNode"),t.fF.assert(function(){return!me.nodeValue},"matrixEvalContext.evaluateColumnHeader - context has value"),t.fF.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")},Z.prototype.getRoleValues=function(ie){var me=this;t.fF.assert(function(){return!me.columnPath||!me.nodeValue},"getRoleValues returns values for row groupings only"),t.fF.assert(function(){return!me.isScopedValue},"getRoleValues is unimplemented for ScopedMeasures");var ye=_.last(this.rowPath);if(ye&&!ye.isSubtotal){for(var oe=this.dataView.valueSources,X=[],ue=0,Se=oe.length;ue<Se;ue++)(0,n.nu)(oe[ue],ie)&&X.push(ye.values[ue].value);if(X.length>0)return X}},Z.prototype.getDataView=function(){return this.dataView},Z.prototype.getValueSourcesQueryNames=function(){return this.valueSourcesQueryNames},Z.prototype.getScopedValueSourcesQueryNames=function(ie){return this.scopedValuesQueryNamesByLevel[ie]},Z.prototype.getContextValueSourcesQueryNames=function(){return this.isScopedValue?(t.fF.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames},Z.prototype.getContextValueSources=function(){if(this.nodeValue)return t.fF.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var ie=this.getRowLevelIndex();return this.shouldConsiderScopedValues(ie)?this.scopedValueSourcesByLevel[ie]:this.dataView.valueSources}t.fF.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")},Z.prototype.shouldConsiderScopedValues=function(ie){return this.hasColumnGrouping||ie<this.dataView.rows.levels.length-1},Z.prototype.getRowLevelIndex=function(){return t.fF.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level},Z}(),d=r(731590);function f(Z){if(_.isEmpty(Z))return[];for(var ie=[],me=0,ye=Z;me<ye.length;me++){for(var X=[],ue=0,Se=ye[me].sources;ue<Se.length;ue++){var Be=Se[ue];Be.identityExprs&&X.push.apply(X,Be.identityExprs||[])}_.isEmpty(X)||ie.push(X)}return ie}function g(Z,ie){for(var me=[],ye=Z.length,oe=0;oe<ye;oe++)if(me.push(Z[oe]),ie.matchesKeys(me,ye))return!0;return!1}function y(Z,ie,me,ye,oe,X,ue,Se,Be){if(t.fF.assertAnyValue(ye,"dataViewMatrixHierarchy"),t.fF.assertValue(oe,"objectDescriptors"),t.fF.assertValue(ue,"selector"),t.fF.assertValue(X,"objectDefns"),ye){var Ke=ye.root;if(Ke){var Ze=C(Z,ie,me,[Ke],oe,X,ue,Se,Be);if(Ze){var qe=(0,c.qO)(ye);return qe.root=Ze,qe}}}}function C(Z,ie,me,ye,oe,X,ue,Se,Be){t.fF.assertValue(ie,"evalContext"),t.fF.assertValue(ye,"nodePath"),t.fF.assertValue(oe,"objectDescriptors"),t.fF.assertValue(ue,"selectorInfo"),t.fF.assertValue(X,"objectDefns");var Ke=_.last(ye);return(0,o.N9)(Ke)?"Rows"===Z&&(ue.canMatchScopedValue||ue.canMatchIntersection)?function(Z,ie,me,ye,oe,X,ue,Se){t.fF.assertNonEmpty(me,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),t.fF.assert(function(){return X.canMatchIntersection||X.canMatchScopedValue},"Unexpected Selector");var Be=_.last(me),Ke=(0,c.qO)(Be),Ze=X.canMatchScopedValue,qe=X.selector,it=Ze?(0,o.Lr)(Be):Be.values,be=Ze?Z.getScopedValueSourcesQueryNames(Be.level)||[]:Z.getValueSourcesQueryNames(),Fe=Ze?be.length:Z.columnLeavesPath.length;if(!_.isEmpty(it)){it=(0,c.qO)(it);for(var ee=!1,k=function(re){var Ie=it[re];if(t.fF.assertAnyValue(Ie,"By-Design, ValueCollection can be sparse"),!Ie)return"continue";var he,ot=Ze?void 0:Z.columnLeavesPath[re];if(!function(Z,ie,me,ye,oe,X){if(ie!==Z.metadata)return!1;for(var ue=[],Se=[],Be=0,Ke=me;Be<Ke.length;Be++)(Ze=Ke[Be]).identity&&ue.push(Ze.identity);if(!oe){for(var qe=0,it=ye;qe<it.length;qe++){var Ze;(Ze=it[qe]).identity&&ue.push(Ze.identity)}_.last(ye).isSubtotal&&Se.push.apply(Se,M(ye)||[])}return _.last(me).isSubtotal&&Se.push.apply(Se,M(me)||[]),_.isEmpty(Se)&&(Se=void 0),X.matches(ue,Se)}(X.selector,be[Ie.valueSourceIndex||0],me,ot,Ze,X.selectorComparer))return"continue";Se&&(he={warnings:Se,selector:qe,targetExpr:(0,s.AV)(qe,ie)});var Te=function(fe){Ze?Z.setAsScopedValue(Ie,me,re,fe):Z.setAsIntersection(Ie,me,ot,re,fe);var ne=(0,h.PJ)(ue,Z,ye,oe,he);if(ne){var Ne=(0,c.qO)(Ie);fe&&!Ne.highlightObjects?Ne.highlightObjects={}:!fe&&!Ne.objects&&(Ne.objects={}),(0,e.PM)(fe?Ne.highlightObjects:Ne.objects,ne,qe.id,qe.order),ee=!0,Ie=it[re]=Ne}},Oe=void 0!==Ie.highlight;switch(qe.highlightMatching){case void 0:case 0:Te(!1);break;case 1:Te(!1),Oe&&Te(!0);break;case 2:Te(!!Oe);break;default:t.fF.assertNever(qe.highlightMatching)}},Ce=0;Ce<Fe;Ce++)k(Ce);if(ee)return Ze?Ke.nodeValues={0:it}:Ke.values=it,Ke}}(ie,me,ye,oe,X,ue,Se,Be):void 0:function(Z,ie,me,ye,oe,X,ue,Se,Be){var it,Ke=ue.selector,Ze=ue.selectorComparer,qe=ie.getDataView();ye[0]===qe.rows.root?it=qe.rows:ye[0]===qe.columns.root?it=qe.columns:t.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var be=_.last(ye),Fe=be.children;t.fF.assertNonEmpty(Fe,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var ee=!1,k=!1,Ce=be.childIdentityFields,J=[],re=Fe[0].level;t.fF.assert(function(){return 0===re||re<it.levels.length},"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var Ie=qe.valueSources.length>1&&it===qe.columns,ot=Ie&&re===it.levels.length-1;if(!_.isEmpty(it.levels)){var we=it.levels[re],he=we.sources;if(ot){J=ie.getValueSourcesQueryNames();var Te=_.compact(_.map(ye,function(Kt){return Kt.identity})),Oe=void 0;be.isSubtotal&&ye.length>1&&(Oe=ye[ye.length-2].childIdentityFields),ee=null!=ue.selector.metadata&&_.some(J,function(Kt){return Kt===Ke.metadata})&&Ze.matches(Te,Oe),k=!1}else if(!_.isEmpty(Ce)){J=_.map(he,function(Kt){return Kt.queryName});var Je=_.map(ye,function(Kt){return Kt.childIdentityFields});ee=null==Ke.metadata&&Ze.matchesKeys(Je,it.levels.length-(Ie?1:0));var ne=(0,o.vC)(we);t.fF.assert(function(){return!ne||it===qe.rows},"Scoped measures on Column nodes are not supported"),k=ne&&null!=Ke.metadata&&null!=_.find(ne,function(Kt){return Kt.queryName===Ke.metadata}),t.fF.assert(function(){return!ee||!k},"A Selector can't match nodes and Scoped measures")}}for(var Ne=!1,et=T(be),tt=0,xe=Fe.length;tt<xe;tt++){var Ve=!1,Le=Fe[tt],at=T(Le),ft=ye.concat(at),ht=!1;if(ee||k){it===qe.rows?ee&&ie.setAsRowNode(ft):it===qe.columns?ie.setAsColumnNode(ft):t.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");for(var Ge=[],Re=0,Xe=ft;Re<Xe.length;Re++){var Me=Xe[Re];Me.identity&&Ge.push(Me.identity)}var He=void 0;_.isEmpty(J)||(He=J[Le.levelSourceIndex||0]);var ct=void 0;if(Le.isSubtotal&&(ot?ye.length>1&&(ct=ye[ye.length-2].childIdentityFields):ct=Ce),(null==Ke.metadata||Ke.metadata===He&&!ue.isWildcard)&&Ze.matches(Ge,ct)){ht=!0;var It=void 0;Be&&(It={warnings:Be,selector:Ke,targetExpr:(0,s.AV)(Ke,me)});var Bt=(0,h.PJ)(Se,ie,oe,X,It);Bt&&(Ve=!0,at.objects||(at.objects={}),(0,e.PM)(at.objects,Bt,Ke.id,Ke.order))}}if(ht&&!ue.isWildcard||C(Z,ie,me,ft,oe,X,ue,Se,Be)&&(Ve=!0),Ve&&(Ne=!0,et.children[tt]=at,!ue.containsWildcard))break}if(Ne)return et}(Z,ie,me,ye,oe,X,ue,Se,Be)}function M(Z){var ie=_.findLast(Z,function(me){return null!=me.childIdentityFields});return ie?ie.childIdentityFields:[]}function T(Z){if(Object.getPrototypeOf(Z)!==Object.prototype)return Z;var ie=(0,c.qO)(Z);return Z.children&&(ie.children=(0,c.qO)(Z.children)),ie}function N(Z,ie){if(!Z||!ie)return[];for(var me=[],ye=0,oe=ie.levels;ye<oe.length;ye++){for(var ue=[],Se=0,Be=oe[ye].sources;Se<Be.length;Se++){var Ke=Be[Se];Ke.identityExprs&&(0,v.s)([Ke],Z)&&ue.push.apply(ue,Ke.identityExprs||[])}_.isEmpty(ue)||me.push(ue)}return me}var x=r(668268),A=r(620108),I=r(682324),w=r(389521),F=r(647457),L=r(226514);function W(Z,ie){return new U(Z,ie)}var U=function(){function Z(ie,me){this.dataView=ie,this.selectTransforms=me,t.fF.assertValue(ie,"dataView"),t.fF.assertValue(me,"selectTransforms")}return Z.prototype.getExprColumn=function(ie){return(0,u.T5)(ie,this.dataView.columns)},Z.prototype.getScopedEvalExprValue=function(ie){var me=ie.decomposeGlobalAggregateOfScopedExpr();if(me){var ye=(0,u.T5)(me.source,this.dataView.columns);return ye?(0,u._L)(ye,me.func):void 0}if(ie.hasInnerMostScope())return this.getExprValue(ie.expression);ie.hasGlobalScope()?t.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):t.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},Z.prototype.getExprValue=function(ie){t.fF.assertValue(ie,"expr");var me=this.row;if(null!=me)return(0,F.vR)(ie,this.selectTransforms,this.dataView.columns,me)},Z.prototype.getRoleValues=function(ie){},Z.prototype.setCurrentRow=function(ie){t.fF.assertValue(ie,"row"),this.row=ie},Z}();function z(Z,ie,me,ye,oe,X,ue,Se,Be,Ke,Ze,qe,it){if(t.fF.assertValue(Z,"evalContext"),t.fF.assertValue(me,"columns"),t.fF.assertValue(ye,"rows"),t.fF.assertAnyValue(oe,"identities"),t.fF.assertAnyValue(X,"identityFields"),t.fF.assertValue(ue,"objectDescriptors"),t.fF.assertValue(Se,"selector"),t.fF.assertValue(Ke,"objectDefns"),Se.metadata&&!_.isEmpty(Se.data)){var be=_.findIndex(me,function(Te){return Te.queryName===Se.metadata});if(!(be<0)&&Ze.matchesKeys([X],1)){var Fe;if(_.every(me,function(Te){return Te.isMeasure})){t.fF.assert(function(){return _.isEmpty(oe)},"table identity mismatch with identityFields"),t.fF.assert(function(){return _.isEmpty(X)},"table identity mismatch with identityFields"),t.fF.assert(function(){return 1===ye.length},"table without identity has incorrect row count");var ee=Q(Z,ie,me,ye[0],X,ue,Se,Ke,Ze,qe,it);ee&&((Fe=(0,c.qO)(ye))[0]=ee)}else{if(_.some(Se.data,function(Te){return(0,s.qm)(Te)&&2===Te.matchingOption}))return;t.fF.assert(function(){return ye.length===oe.length},"row length mismatch");for(var k=me.length,Ce=0,J=oe.length;Ce<J;Ce++)if(Be||Ze.matches([oe[Ce]])){Z.setCurrentRow(ye[Ce]);var Ie=void 0;it&&(Ie={warnings:it,selector:Se,targetExpr:(0,s.AV)(Se,ie)});var ot=(0,h.PJ)(qe,Z,ue,Ke,Ie);if(ot){Fe||(Fe=(0,c.qO)(ye));var we=Fe[Ce]=(0,c.qO)(Fe[Ce]),he=we.objects;he||(we.objects=he=new Array(k)),he[be]||(he[be]={}),(0,e.PM)(he[be],ot,Se.id,Se.order)}if(!Be)break}}return Fe}}}function G(Z,ie){return(0,s._Q)(ie)&&(ie=(0,v.w)(ie,function(me){return function(Z,ie){if(!Z)return[];for(var me=[],ye=0,oe=ie.columns;ye<oe.length;ye++){var X=oe[ye];X.identityExprs&&(0,v.s)([X],Z)&&me.push((0,L.__spreadArray)([],X.identityExprs||[],!0))}return me}(me,Z)})),ie}function Q(Z,ie,me,ye,oe,X,ue,Se,Be,Ke,Ze){t.fF.assertValue(Z,"evalContext"),t.fF.assertValue(me,"columns"),t.fF.assertValue(ye,"row"),t.fF.assertValue(X,"objectDescriptors"),t.fF.assertValue(ue,"selector"),t.fF.assertValue(Se,"objectDefns");var qe=_.isEmpty(oe)?void 0:oe;if(ue.metadata&&Be.matches([],qe)){var it=_.findIndex(me,function(J){return J.queryName===ue.metadata});if(!(it<0)){var Fe,ee,be=me.length;Z.setCurrentRow(ye),Ze&&(ee={warnings:Ze,selector:ue,targetExpr:(0,s.AV)(ue,ie)});var k=(0,h.PJ)(Ke,Z,X,Se,ee);if(k){var Ce=(Fe=(0,c.qO)(ye)).objects;Ce||(Fe.objects=Ce=new Array(be)),Ce[it]||(Ce[it]={}),(0,e.PM)(Ce[it],k)}return Fe}}}var H=r(45696),Y=function(Z){function ie(me,ye){var oe=this;return t.fF.assertValue(me,"inputRole"),t.fF.assertValue(ye,"allocator"),(oe=Z.call(this)||this).inputRole=me,oe.allocator=ye,oe}return(0,L.__extends)(ie,Z),ie.prototype.evaluate=function(me){t.fF.assertValue(me,"evalContext");var ye=me.getRoleValues(this.inputRole);t.fF.assert(function(){return _.size(ye)<=1},"Color Rule Evaluation can run with only one value");var oe=_.head(ye);if(void 0!==oe)return this.allocator.color(oe)},ie}(r(97181).t);function se(Z,ie,me){void 0===Z&&(Z=[]);var ye=Z;return(0,m.PO)(ye),ie&&(ye.identityFields=ie),me&&(ye.source=me),ye}function ce(Z,ie,me,ye,oe,X,ue,Se,Be){if(t.fF.assertValue(Z,"dataView"),t.fF.assertValue(ie,"targetDataViewKinds"),t.fF.assertAnyValue(me,"objectDescriptors"),t.fF.assertAnyValue(ye,"objectDefinitions"),t.fF.assertAnyValue(oe,"selectTransforms"),me){var Ke=function(Z,ie,me,ye){var oe;t.fF.assertValue(Z,"dataView"),t.fF.assertValue(ie,"objectDescriptors"),t.fF.assertAnyValue(me,"prototype");var X=(0,A.$v)(ie);if(X&&Z.metadata&&!_.isEmpty(Z.metadata.columns)){for(var Se,ue=!1,Be=0,Ke=Z.metadata.columns;Be<Ke.length;Be++){var Ze=Ke[Be],qe=Ze.queryName;if(Ze.formatSource&&(null===(oe=null==Ze?void 0:Ze.aggregates)||void 0===oe||!oe.single)){ue||(Se=me?(0,c.qO)(me):{},ue=!0);var it={metadata:Ze.queryName,data:[H.Ue()],highlightMatching:1},be=(0,p.xA)(qe,0);if((0,x.sO)(Se,X,it,be),null!=ye&&ye.cardReferenceLabels&&Ze.relatedObjects)for(var Fe=0,ee=Object.keys(Ze.relatedObjects);Fe<ee.length;Fe++)for(var k=ee[Fe],Ce=Ze.relatedObjects[k],J=0,re=Object.keys(Ce);J<re.length;J++){var Ie=re[J],ot=(0,A.VM)(ie,{objectName:k,propertyName:Ie});if(null!=ot&&ot.formatStringProperty)for(var we=0,he=Ce[Ie];we<he.length;we++)(0,x.sO)(Se,ot.formatStringProperty,he[we],be)}}}return Se}}(Z,me,ye,ue);Ke&&(ye=Ke);var Ze=(0,h.Me)(ye);(0,h.UQ)(Ze,me,Z.metadata.columns,oe);var qe=Ze.metadataOnce,it=Ze.data;qe&&function(Z,ie,me,ye,oe,X,ue,Se,Be){var Ke;t.fF.assertValue(Z,"dataView"),t.fF.assertAnyValue(ie,"selectTransforms"),t.fF.assertValue(me,"objectDescriptors"),t.fF.assertValue(ye,"objectDefnsForSelector"),t.fF.assertValue(oe,"dataObjects"),t.fF.assertValue(X,"targetDataViewKinds");for(var Ze=new I.Q(Se,ue),qe=0,it=ye;qe<it.length;qe++){var be=it[qe],Fe=be.selector&&be.selector.id,ee=null===(Ke=be.selector)||void 0===Ke?void 0:Ke.order,k=be.objects;t.fF.assertValue(!_.isEmpty(k),"objectDefns");var Ce=(0,F._x)(Z,ie),J=void 0;Be&&(J={warnings:Be,selector:be.selector,targetExpr:(0,s.AV)(be.selector,ie)});var re=(0,h.PJ)(Ze,Ce,me,k,J);if(re){var Ie=Z.metadata.objects;for(var ot in Ie||(Ie=Z.metadata.objects={}),(0,e.PM)(Ie,re,Fe,ee),re){var we=re[ot],he=me[ot];for(var Te in we){var Oe=he.properties[Te],Je=Oe.rule;if(Je){var fe=We(Z,Je,ot,we[Te],Oe.type);_.isEmpty(fe)||oe.push.apply(oe,fe||[])}}}}}}(Z,oe,me,qe,it,ie,X,ue,Se);var be=Ze.metadata;_.isEmpty(be)||function(Z,ie,me,ye,oe,X,ue){t.fF.assertValue(Z,"dataView"),t.fF.assertAnyValue(ie,"selectTransforms"),t.fF.assertValue(me,"objectDescriptors"),t.fF.assertValue(ye,"objectDefnsForSelector");for(var Se=new I.Q(X,oe),Be=0,Ke=ye;Be<Ke.length;Be++){var Ze=Ke[Be],qe=Ze.selector,it=Ze.objects;t.fF.assertValue(qe,"selector"),t.fF.assertValue(it,"objectDefns");for(var be=Z.metadata.columns,Fe=qe.metadata,ee=(0,F._x)(Z,ie),k=0,Ce=be.length;k<Ce;k++){var J=be[k];if(J.queryName===Fe){var re=void 0;ue&&(re={warnings:ue,selector:qe,targetExpr:(0,s.AV)(qe,ie)});var Ie=(0,h.PJ)(Se,ee,me,it,re);Ie&&(J.objects||(J.objects={}),(0,e.PM)(J.objects,Ie,qe.id,qe.order))}}}}(Z,oe,me,be,X,ue,Se),_.isEmpty(it)||function(Z,ie,me,ye,oe,X,ue,Se,Be){t.fF.assertValue(Z,"dataView"),t.fF.assertValue(ie,"targetDataViewKinds"),t.fF.assertAnyValue(me,"selectTransforms"),t.fF.assertValue(ye,"objectDescriptors"),t.fF.assertValue(oe,"dataViewObjectDefnsForSelector"),t.fF.assertValue(X,"DataViewTransform.evaluateDataRepetition - visualStyle");var Ke=new I.Q(Se,X);Z.categorical&&(0,i.yE)(ie,1)&&(0,m.KH)(Z.categorical,me,ye,oe,ue,Ke,Be&&{warnings:Be},Se);var qe=Z.matrix;if(qe&&(0,i.yE)(ie,2)){var it=function(Z,ie,me,ye,oe,X,ue,Se){t.fF.assertValue(Z,"dataViewMatrix"),t.fF.assertValue(me,"objectDescriptors"),t.fF.assertValue(ye,"objectDefnsForSelector");var Be=Z.valueSources,Ke=Be.length,Ze=function(Z,ie){return new l(Z,ie)}(Z,X),qe=Z.rows.levels;t.fF.assertAnyValue(qe,"A Matrix with no Row groupings has empty Row levels");var it=f(qe),be=f(Z.columns.levels),Fe=[];Fe.push.apply(Fe,it||[]),Fe.push.apply(Fe,be||[]);for(var ee=!1,k=(0,c.qO)(Z),Ce=function(we){t.fF.assertValue(we.selector,"selector"),t.fF.assertAnyValue(we.rules,"rules");var he=we.objects;t.fF.assertValue(he,"objectDefns");var Te=function(Z,ie){return(0,s._Q)(ie)&&(ie=(0,v.w)(ie,function(me){return function(Z,ie){if(ie){var me=[];return me.push.apply(me,N(Z,ie.rows)||[]),me.push.apply(me,N(Z,ie.columns)||[]),me}}(me,Z)})),ie}(Z,we.selector),Oe=(0,d.U)(Te,oe),Je=(0,s.GT)(Te),fe=(0,s.N6)(Te),ne=null==Te.metadata&&g(it,Oe),Ne=function(Z,ie,me,ye){if(t.fF.assertAnyValue(Z,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(Z)||(t.fF.assertValue(me,"selectorComparer"),t.fF.assertAnyValue(ye,"selectorMetadata"),t.fF.assert(function(){return Z.length===ie.length},"levels identity keys mismatch"),!ye))return!1;for(var oe=0;oe<Z.length;oe++)if(me.matchesKeys(_.take(ie,oe+1),oe+1)){var X=(0,o.vC)(Z[oe]);if(!_.isEmpty(X)&&_.find(X,function(ue){return ue.queryName===ye}))return!0}return!1}(qe,it,Oe,Te.metadata),et=(Ke>1||Ke<=1&&null==Te.metadata)&&g(be,Oe),tt=null!=Te.metadata&&Ke>0&&_.some(Be,function(at){return at.queryName===Te.metadata})&&Oe.matchesKeys(Fe,Fe.length),xe={selector:Te,selectorComparer:Oe,containsWildcard:Je,isWildcard:fe,canMatchColumnNode:et,canMatchRowNode:ne,canMatchIntersection:tt,canMatchScopedValue:Ne},Ve=void 0,Le=void 0;et&&(Le=y("Columns",Ze,ie,k.columns,me,he,xe,ue,Se)),(tt||Ne||ne)&&(Ve=y("Rows",Ze,ie,k.rows,me,he,xe,ue,Se)),(Ve||Le)&&(ee=!0,Ve&&(k.rows=Ve),Le&&(k.columns=Le))},J=0,re=ye;J<re.length;J++)Ce(re[J]);if(ee)return k}(qe,me,ye,oe,ue,Se,Ke,Be);it&&(Z.matrix=it)}var be=Z.table;if(be&&(0,i.yE)(ie,8)){var Fe=function(Z,ie,me,ye,oe,X,ue){t.fF.assertValue(Z,"dataViewTable"),t.fF.assertAnyValue(ie,"selectTransforms"),t.fF.assertValue(me,"objectDescriptors"),t.fF.assertValue(ye,"objectDefnsForSelector");for(var Se=!1,Be=0,Ke=ye;Be<Ke.length;Be++){var Ze=Ke[Be],qe=Ze.selector,it=Ze.objects;t.fF.assertValue(qe,"selector"),t.fF.assertValue(it,"objectDefns");var be=(0,s.GT)(qe);qe=G(Z,qe);var Fe=(0,d.U)(qe,oe),ee=W(Z,ie),k=void 0;_.isEmpty(Z.rows)||(k=z(ee,ie,Z.columns,Z.rows,Z.identity,Z.identityFields,me,qe,be,it,Fe,X,ue));var Ce=void 0;Z.totals&&(Ce=Q(ee,ie,Z.columns,Z.totals,Z.identityFields,me,qe,it,Fe,X,ue)),(k||Ce)&&(Se=!0,Z=(0,c.qO)(Z),k&&(Z.rows=k),Ce&&(Z.totals=Ce))}if(Se)return Z}(be,me,ye,oe,ue,Ke,Be);Fe&&(Z.table=Fe)}var ee=Z.single;if(t.fF.assert(function(){return!ee||!!ee&&!!be},"DataViewTable should be always present with DataViewSingle"),ee&&be&&(0,i.yE)(ie,4)){var k=function(Z,ie,me,ye,oe,X,ue){t.fF.assertValue(Z,"dataView"),t.fF.assertAnyValue(ie,"selectTransforms"),t.fF.assertValue(me,"objectDescriptors"),t.fF.assertValue(ye,"objectDefnsForSelector");for(var Se,Be=(0,F._x)(Z,ie),Ke=0,Ze=ye;Ke<Ze.length;Ke++){var qe=Ze[Ke],it=qe.selector,be=qe.objects,Fe=(0,d.U)(it,oe);if(t.fF.assertValue(it,"selector"),t.fF.assertValue(be,"objectDefns"),it.metadata===Z.single.column.queryName&&Fe.matches([])){var ee=void 0;ue&&(ee={warnings:ue,selector:it,targetExpr:(0,s.AV)(it,ie)});var k=(0,h.PJ)(X,Be,me,be,ee);k&&(Se||(Se=(0,c.qO)(Z.single)),Se.objects||(Se.objects={}),(0,e.PM)(Se.objects,k,it.id,it.order))}}return Se}(Z,me,ye,oe,ue,Ke,Be);k&&(Z.single=k)}Z.metadata.objectsRules=Ke.getObjectsRules()}(Z,ie,oe,me,it,X,Be,ue,Se)}}function We(Z,ie,me,ye,oe){t.fF.assertValue(Z,"dataView"),t.fF.assertValue(ie,"ruleDesc"),t.fF.assertValue(ye,"propertyValue"),t.fF.assertValue(oe,"ruleType");var X=ie.output;if(X){var ue=function(Z){return t.fF.assertValue(Z,"selectorRoles"),[{data:[(0,w.Yp)(Z)]}]}(X.selector);if(oe.fillRule)return function(Z,ie,me,ye,oe){t.fF.assertValue(Z,"dataView"),t.fF.assertValue(ie,"ruleDesc"),t.fF.assertValue(me,"selectorsToCreate"),t.fF.assertValue(oe,"propertyValue");var X=function(Z,ie,me){t.fF.assertValue(Z,"dataView"),t.fF.assertValue(ie,"identifier"),t.fF.assertValue(1,"identifierKind");var ye=Z.metadata.columns;return _.find(ye,function(oe){return oe.roles&&oe.roles[ie]})}(Z,ie.inputRole);if(X){var ue=(0,V.V)().fromFillRule(oe,X);if(ue){var Se=new Y(ie.inputRole,ue),Be={};Be[ie.output.property]={solid:{color:Se}};for(var Ke=[],Ze=0,qe=me.length;Ze<qe;Ze++)Ke.push({selector:me[Ze],rules:[Se],objects:[{name:ye,properties:Be}]});return Ke}}}(Z,ie,ue,me,ye)}}},45696:function(ze,K,r){r.d(K,{Ue:function(){return V},fS:function(){return s},wB:function(){return p}});var t=r(787941),c=r(166851),i=r(143509);function s(v,e){return!v&&!e||!(!v||!e)&&(t.fF.assertValue(v,"x"),t.fF.assertValue(e,"y"),v===e||v.matchingOption===e.matchingOption)}function p(v,e){switch(t.fF.assertValue(v,"DataViewWildcard.matches - wildcard"),v.matchingOption){case 0:return!0;case 1:return!e;case 2:return e;default:t.fF.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function V(v){return null==v&&(v=0),new m(v)}var m=function(){function v(e){var h=this;this.kind=4,t.fF.assertValue(e,"matchingOption"),this._matchingOption=e,this._key=new c.o(function(){return JSON.stringify(h._matchingOption)})}return Object.defineProperty(v.prototype,"matchingOption",{get:function(){return this._matchingOption},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),v}();(0,i.y)(m.prototype)},351025:function(ze,K,r){function t(){var c=function(s){};return{getExprValue:c,getExprColumn:c,getScopedEvalExprValue:c,getRoleValues:c}}r.d(K,{X:function(){return t}})},97181:function(ze,K,r){r.d(K,{t:function(){return c}});var t=r(787941),c=function(){function i(){}return i.prototype.evaluate=function(s){t.fF.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")},i}()},647457:function(ze,K,r){r.d(K,{_x:function(){return p},vR:function(){return m}});var t=r(456535),c=r(787941),i=r(771201),s=r(473667);function p(n,o){return new V(n,o)}var V=function(){function n(o,u){this.dataView=o,this.selectTransforms=u,c.fF.assertValue(o,"dataView"),c.fF.assertAnyValue(u,"selectTransforms")}return n.prototype.getExprColumn=function(o){var u=(0,i.ij)(o,this.selectTransforms);if(!(u<0))return _.find(this.dataView.metadata.columns,function(a){return a.index===u})},n.prototype.getScopedEvalExprValue=function(o){var u=o.decomposeGlobalAggregateOfScopedExpr();if(u){var a=(0,s.T5)(u.source,this.dataView.metadata.columns);return a?(0,s._L)(a,u.func):void 0}if(o.hasGlobalScope())return this.getExprValue(o.expression);o.hasInnerMostScope()?c.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):c.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},n.prototype.getExprValue=function(o){var u=this.dataView,a=this.selectTransforms;if(u&&a){if((0,t.iV)(o)||(0,t.T5)(o)||(0,t.kb)(o)||(0,t.cY)(o)){var l=function(n,o,u){c.fF.assertValue(n,"expr"),c.fF.assertValue(o,"selectTransforms"),c.fF.assertValue(u,"columns");var a,l=-1;do{if((l=(0,i.ij)(n,o,l+1))<0)break;if(a=_.find(u,function(b){return b.index===l&&b.aggregates&&void 0!==b.aggregates.single}))return a.aggregates.single}while(l<o.length);if((0,t.iV)(n)||(0,t.T5)(n)){var d=n.arg;if((0,t.g5)(d)&&d.hasInnerMostScope()?l=(0,i.ij)(d.expression,o):((0,t.NH)(d)||(0,t.kb)(d)||(0,t.iV)(d)||(0,t.jk)(d))&&(l=(0,i.ij)(d,o)),!(l<0)&&(a=_.find(u,function(b){return b.index===l&&b.aggregates})))return function(n,o){var u,a;if(c.fF.assertValue(n,"aggregates"),c.fF.assertValue(o,"expr"),(0,t.T5)(o)){var l=_.find(n.percentiles,function(d){return d.k===o.k&&o.exclusive===!!d.exclusive});if(l)return l.value}else if((0,t.iV)(o))switch(c.fF.assertValue(o.func,"func"),o.func){case 3:return null!==(u=n.min)&&void 0!==u?u:n.minLocal;case 4:return null!==(a=n.max)&&void 0!==a?a:n.maxLocal;case 6:return n.median;case 1:return n.average}c.fF.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(a.aggregates,n)}}(o,a,u.metadata.columns);if(void 0!==l)return l}if(u.table)return _.isEmpty(u.table.columns)||_.isEmpty(u.table.rows)||!_.isEmpty(u.table.identityFields)?void 0:(c.fF.assert(function(){return 1===u.table.rows.length},"A data view with no identity fields should have a single row"),m(o,a,u.table.columns,u.table.rows[0]));if(u.categorical&&!_.isEmpty(u.metadata.columns)&&!_.isEmpty(u.categorical.values))return function(n,o,u){c.fF.assertValue(n,"expr"),c.fF.assertValue(o,"selectTransforms"),c.fF.assertValue(u,"categorical");var a=u.values;if(c.fF.assertValue(a,"categorical.values"),1===a.grouped().length&&!u.categories){var l=(0,i.ij)(n,o);if(!(l<0)){var d=_.findIndex(a,function(f){return f.source.index===l});if(-1!==d){var b=a[d].values;if(b&&1===b.length)return b[0]}}}}(o,a,u.categorical);u.matrix||u.tree||c.fF.assert(function(){return _.isEqual(Object.getOwnPropertyNames(u),["metadata"])},"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}},n.prototype.getRoleValues=function(o){},n}();function m(n,o,u,a){if(c.fF.assertValue(n,"expr"),c.fF.assertValue(o,"selectTransforms"),c.fF.assertNonEmpty(u,"tableColumns"),c.fF.assertValue(a,"tableRow"),1===a.length&&null===a[0])return null;var l=(0,i.ij)(n,o);if(!(l<0)){var d=_.findIndex(u,function(g){return g.index===l});if(!(d<0)){if((0,t.NH)(n)&&0===n.attributeKind){var b=u[d];if((d=u.indexOf(b.formatSource&&b.formatSource.formatString))<0)return}return c.fF.assert(function(){return d in a},"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),a[d]}}}},454262:function(ze,K,r){r.d(K,{$T:function(){return a},Hc:function(){return u},QB:function(){return l},Uo:function(){return y},oy:function(){return o}});var t=r(787941),c=r(764365),i=r(261374),s=r(690016),p=r(44615),V=r(597098),m=r(230762),v=r(698129),e=r(129035),h=r(668268);function o(P){if(t.fF.assertAnyValue(P,"dataViewMappings"),P&&1===P.length&&P[0])return P[0].scriptResult}function u(P){t.fF.assertAnyValue(P,"dataViewMappings");var M=o(P);if(M)return function(P,M){if(P&&P.script&&P.script.source&&P.script.provider&&M)return g((0,v.NA)(M,P.script.source),(0,v.NA)(M,P.script.provider),P.script.scriptOutputType)}(M,P[0].metadata&&P[0].metadata.objects)}function a(P,M){if(t.fF.assertAnyValue(P,"dataViewMappings"),t.fF.assertAnyValue(M,"objects"),M){var T=o(P);if(T&&T.script&&T.script.source&&T.script.provider){var R=(0,h.NA)(M,T.script.source,null),B=(0,h.NA)(M,T.script.provider,null);return g(R?R.value:null,B?B.value:null,T.script.scriptOutputType)}}}function l(P){return t.fF.assertAnyValue(P,"dataViewMappings"),function(P){return f(P&&P.script)}(o(P))}function f(P){if(t.fF.assertAnyValue(P,"scriptMapping"),P)return g(P.scriptSourceDefault,P.scriptProviderDefault,P.scriptOutputType)}function g(P,M,T){if(!(0,i.g)(P)&&!(0,i.g)(M))return{source:P,provider:M,outputType:T||"png"}}function y(P,M,T,R,B){t.fF.assertAnyValue(P,"projections"),t.fF.assertAnyValue(M,"selects"),t.fF.assertAnyValue(T,"schema"),t.fF.assertAnyValue(R,"scriptDefinition");var N=!!f(R),x={VariableName:"dataset",Columns:[],Parameters:[]};if(P&&M&&!_.isEmpty(M)){var A=[],I=[];for(var w in P)for(var F=0,O=P[w].all();F<O.length;F++){var W=M.withName(O[F].queryRef);if(W){var U={QueryName:W.name},j=(0,p.Vn)((0,V.Q)(W.expr),new D(T));N&&(U.Role=w,j=w+"."+j),I.push(U),A.push(j)}}A=(0,s.hM)(A);for(var z=0;z<A.length;z++)(U=I[z]).Name=A[z];x.Columns=I}return x.Parameters=function(P,M){var T=[];if(M)for(var R in M){var B=(0,v.RK)(M,R);if(B)for(var N in B){var x=E(P,B,R,N);x&&T.push({ObjectName:R,PropertyName:N,Value:x})}}return T}(R,B),x}function E(P,M,T,R){if(!(P&&P.source&&P.source.objectName===T&&P.source.propertyName===R||P&&P.provider&&P.provider.objectName===T&&P.provider.propertyName===R)){var B=(0,e.y)(M,R);if(B)return(0,m.fL)(B);var N=(0,e.N)(M,R);if(null!=N)switch(typeof N){case"string":return(0,m.fL)(N);case"number":var x=N;return(0,c.U)(x)?(0,m._L)(x):(0,m.tx)(x);case"boolean":return(0,m.O7)(N)}}}var D=function(){function P(M){this.federatedSchema=M}return P.prototype.visitNativeVisualCalc=function(M){},P.prototype.visitColumn=function(M){return P.getNameForProperty(M,this.federatedSchema)},P.prototype.visitColumnAggr=function(M){return P.getNameForProperty(M,this.federatedSchema)},P.prototype.visitGroupingColumn=function(M){return P.getNameForProperty(M,this.federatedSchema)},P.prototype.visitGroupingColumnAggr=function(M){return P.getNameForProperty(M,this.federatedSchema)},P.prototype.visitColumnHierarchyVariation=function(M){return P.getVariationHierarchyName(M,this.federatedSchema)},P.prototype.visitColumnHierarchyLevelVariation=function(M){return P.getVariationLevelName(M,this.federatedSchema)},P.prototype.visitColumnSubquery=function(M){},P.prototype.visitColumnAggrSubquery=function(M){},P.prototype.visitColumnTransformRef=function(M){},P.prototype.visitEntity=function(M){return M.entity},P.prototype.visitEntityAggr=function(M){return M.entity},P.prototype.visitHierarchy=function(M){return P.getNameForHierarchy(M,this.federatedSchema)},P.prototype.visitHierarchyLevel=function(M){return P.getNameForHierarchyLevel(M,this.federatedSchema)},P.prototype.visitHierarchyLevelAggr=function(M){return P.getNameForProperty(M,this.federatedSchema)},P.prototype.visitMeasure=function(M){return P.getNameForProperty(M,this.federatedSchema)},P.prototype.visitSelectRef=function(M){return(0,p.Vn)(M,this)},P.prototype.visitPercentile=function(M){return(0,p.Vn)(M.arg,this)},P.prototype.visitPercentOfGrandTotal=function(M){return(0,p.Vn)(M.baseExpr,this)},P.prototype.visitPercentOfRoleTotal=function(M){return(0,p.Vn)(M.baseExpr,this)},P.prototype.visitTransformOutputRoleRef=function(M){return(0,p.Vn)(M,this)},P.prototype.visitFilteredEval=function(M){return(0,p.Vn)(M,this)},P.prototype.visitArithmetic=function(M){},P.prototype.visitConstant=function(M){t.fF.assertFail("ScriptResultUtil - Not expecting to be called")},P.prototype.visitSparklineData=function(M){},P.getNameForHierarchy=function(M,T){t.fF.assertValue(M,"pattern");var B=T.schema(M.schema).findHierarchy(M.entity,M.name);if(B)return B.name},P.getNameForHierarchyLevel=function(M,T){t.fF.assertValue(M,"pattern");var B=T.schema(M.schema).findHierarchyLevel(M.entity,M.name,M.level);if(B)return B.column.name},P.getNameForProperty=function(M,T){t.fF.assertValue(M,"pattern");var B=T.schema(M.schema).findProperty(M.entity,M.name);if(B)return B.name},P.getVariationHierarchyName=function(M,T){t.fF.assertValue(M,"pattern"),t.fF.assertValue(T,"federatedSchema");var R=M.source,B=T.schema(R.schema).findProperty(R.entity,R.name);if(B)for(var x=0,A=B.column.variations;x<A.length;x++){var I=A[x];if(I.name===M.variationName&&M.hierarchy.name===I.defaultHierarchy.name)return M.hierarchy.name}},P.getVariationLevelName=function(M,T){t.fF.assertValue(M,"pattern");var R=M.source,B=T.schema(R.schema).findProperty(R.entity,R.name);if(B)for(var x=0,A=B.column.variations;x<A.length;x++){var I=A[x];if(I.name===M.variationName)for(var w=0,F=I.defaultHierarchy.levels;w<F.length;w++){var O=F[w];if(O.name===M.level.level)return O.column.name}}},P}()},731590:function(ze,K,r){r.d(K,{U:function(){return h}});var t=r(474147),c=r(883863),i=r(787941),s=r(989516),p=r(217926),V=r(19632),m=r(755397),v=r(799863),e=r(45696);function h(u,a){return a?new n(u):new o(u)}var n=function(){function u(a){var l;if(i.fF.assertValue(a,"selector"),i.fF.assertValue(a.data,"selector.data"),this.dataParts=a.data,(0,s.N6)(a))this.isWildcard=!0;else{var d=_.last(a.data);this.totalIdentity=(0,s.tQ)(d)?d:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,a.data.length-1)),this.selectorDataExprs=u.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,function(b){return b.key}),this.totalIdentity&&(l=this.keys).push.apply(l,this.totalIdentity.exprs||[])}}return u.prototype.matches=function(a,l){if(this.isWildcard)return(0,e.wB)(this.dataParts[0],!_.isEmpty(l));if(a.length!==this.dataParts.length||_.isEmpty(l)&&this.totalIdentity||!_.isEmpty(l)&&!this.totalIdentity||this.totalIdentity&&!(0,c.s_)(this.totalIdentity.exprs,l,t.fS))return!1;if(_.isEmpty(a)&&_.isEmpty(this.dataParts))return!0;var d=u.flattenDataParts(a);return!_.isEmpty(d)&&(0,c.s_)(this.selectorDataExprs,d,u.isDataExprsMatch)},u.prototype.matchesKeys=function(a,l){if(this.isWildcard)return a.length===l;var d=_.flatten(a);return 0!==this.keys.length&&0!==d.length&&this.keys.length===d.length&&(0,c.s_)(d,this.keys,t.fS)},u.flattenDataParts=function(a){for(var l=[],d=0,b=a;d<b.length;d++){var f=b[d];if((0,s.yN)(f)){var g=new p.aL;f.expr.accept(g);for(var S=0;S<g.pairs.length;S++)l.push({value:g.values[S],key:g.keys[S]})}else if((0,s.QV)(f))for(var y=0,C=f.exprs;y<C.length;y++)l.push({key:C[y]});else{if(!(0,s.tQ)(f))return i.fF.assertFail("unexpected Selector data item kind: "+f.kind.toString()),[];i.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}}return l},u.isDataExprsMatch=function(a,l){return i.fF.assert(function(){return null!=a.value||null!=l.value},"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),a.value&&l.value?(0,t.fS)(a.key,l.key)&&(0,t.fS)(a.value,l.value):(0,t.fS)(a.key,l.key)},u}(),o=function(){function u(a){var l;if(this.selector=a,i.fF.assertValue(this.selector,"selector"),i.fF.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,s.N6)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var d=0,b=this.dataParts;d<b.length;d++){var g=u.getDataRepetitionIdentityKeys(b[d]);if(!g){this.keys=[];break}(l=this.keys).push.apply(l,g)}}return u.prototype.matches=function(a,l){i.fF.assertValue(a,"identities");var d=this.dataParts,b=d.length,f=a.length,g=!_.isEmpty(l);if(g&&f++,this.isWildcard)return(0,e.wB)(d[0],g);if(b!==f)return!1;for(var S=0,y=a.length;S<y;S++){var E=a[S];if((0,s.j9)(C=d[S]))return i.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,s.yN)(C)){if(!(0,V.fS)(C,E))return!1}else{if(!(0,s.QV)(C))return(0,s.tQ)(C)?(_.isEmpty(l)||i.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(i.fF.assertFail("unexpected Selector data item kind: "+C.kind.toString()),!1);if(!(0,v.wB)(C,E))return!1}}if(!_.isEmpty(l)){var C=_.last(d);return(0,s.tQ)(C)&&(0,m.wB)(C,l)}return!0},u.prototype.matchesKeys=function(a,l){if(i.fF.assertValue(a,"keysList"),i.fF.assert(function(){return a.length<=l},"expected keysList to be within the hierarchy levels"),this.isWildcard)return a.length===l;var d=_.flatten(a),b=this.keys.length;if(0===b||0===d.length||b!==d.length)return!1;for(var f=0;f<b;f++)if(!(0,t.fS)(d[f],this.keys[f]))return!1;return!0},u.getDataRepetitionIdentityKeys=function(a){return(0,s.yN)(a)?(0,p.RR)(a.expr):(0,s.QV)(a)||(0,s.tQ)(a)?a.exprs:void((0,s.j9)(a)?i.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,s.qm)(a)?i.fF.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):i.fF.assertNever(a))},u}()},292042:function(ze,K,r){r.d(K,{Ed:function(){return p},OC:function(){return i},gp:function(){return s}});var t=r(787941),c=r(299747);function i(V){return t.fF.assertValue(V,"categories"),!_.isEmpty(V)&&V[0].objects}function s(V,m){if(t.fF.assertValue(V,"prototypeCategories"),t.fF.assertValue(m,"objects"),!_.isEmpty(V)){var v=(0,c.qO)(V);return(v[0]=(0,c.qO)(v[0])).objects=m,v}}function p(V){t.fF.assertValue(V,"dataViewCategorical");var m=_.isEmpty(V.categories)?_.isEmpty(V.values)?0:V.values[0].values.length:V.categories[0].values.length;return t.fF.assert(function(){return _.every(V.categories,function(v){return v.values.length===m})},"Invariant: every category column is expected to have the same number of values."),t.fF.assert(function(){return _.every(V.categories,function(v){return v.identity.length===m})},"Invariant: every category column is expected to have the same number of identities as there are values."),t.fF.assert(function(){return _.every(V.values,function(v){return v.values.length===m})},"Invariant: every value column is expected to have the same number of values."),m}},919910:function(ze,K,r){r.d(K,{Oj:function(){return s},VR:function(){return v},Vh:function(){return i},kK:function(){return m},qt:function(){return V}});var t=r(474505),c=r(633888);function i(e){if(_.isEmpty(e))return!1;for(var h=0,n=e;h<n.length;h++){var o=n[h];if(o.matrix&&o.matrix.rows&&void 0!==o.matrix.rows.values)return!0}return!1}function s(e){if(_.isEmpty(e))return!1;var h=e.filter(function(M){return void 0!==M.categorical&&void 0!==M.categorical.categories});if(_.isEmpty(h))return!1;for(var n=0;n<h.length;n++){var o=h[n],u=o.conditions;if(!_.isEmpty(u))for(var a=n+1;a<h.length;a++){var l=h[a];if(_.isEqual(o.categorical.categories,l.categorical.categories)&&!_.isEqual(o.categorical.values,l.categorical.values)){var d=l.conditions;if(_.isEmpty(d))return!0;var b=p(u),f=p(d),g=Object.keys(b),S=Object.keys(f);if(g.length!==S.length||!_.isEqual(g,S))return!0;for(var y=0,C=g;y<C.length;y++){var E=C[y];if(!_.isEqual(b[E],f[E]))return!0}}}}return!1}function p(e){for(var h={},n=0,o=e;n<o.length;n++){var u=o[n];for(var a in u)h[a]||(h[a]=u[a])}return h}function V(e,h){if(_.isEmpty(e))return!1;var n=e.map(function(R){return R.matrix}).filter(function(R){return void 0!==R});if(_.isEmpty(n)||_.isEmpty(h))return!1;for(var o=new Set,u=new Set,a=0,l=n;a<l.length;a++){for(var d=l[a],b=d.rows?t.nG.fromMatrixRows(d.rows):[],f=d.columns?t.nG.fromMatrixColumns(d.columns):[],g=0,S=b;g<S.length;g++)o.add(S[g]);for(var C=0,E=f;C<E.length;C++)u.add(E[C])}for(var P=0,M=h;P<M.length;P++){var T=M[P];if(o.has(T)&&u.has(T))return!0}return!1}function m(e){if(_.isEmpty(e))return!1;var h=e.filter(function(u){return!(0,c.D4)(u)}),n=h.some(function(u){return void 0!==u.categorical}),o=h.some(function(u){return void 0!==u.matrix});return n&&o}function v(e,h){if(_.isEmpty(e))return!1;var n=e.map(function(B){return B.categorical}).filter(function(B){return void 0!==B});if(_.isEmpty(n)||_.isEmpty(h))return!1;for(var o=new Set,u=new Set,a=0,l=n;a<l.length;a++){for(var d=l[a],b=d.categories?t.nG.fromCategoricalCategories(d.categories):[],f=d.values,g=f&&f.group?t.nG.FromCategoricalValues(f):[],S=0,y=b;S<y.length;S++)o.add(y[S]);for(var E=0,D=g;E<D.length;E++)u.add(D[E])}for(var M=0,T=h;M<T.length;M++){var R=T[M];if(o.has(R)&&u.has(R))return!0}return!1}},255780:function(ze,K,r){r.d(K,{CF:function(){return n},GJ:function(){return o},Lr:function(){return y},Lt:function(){return d},N9:function(){return s},Ro:function(){return b},X2:function(){return e},be:function(){return a},no:function(){return h},pr:function(){return l},sx:function(){return g},vC:function(){return S},w1:function(){return p},y9:function(){return m}});var t=r(883863),c=r(787941),i=r(299747);function s(C){return c.fF.assertValue(C,"node"),_.isEmpty(C.children)}function p(C,E){if(c.fF.assertAnyValue(C,"rootNodes"),c.fF.assertValue(E,"callback"),C)if(function(C){return(0,t.rd)(C)}(C))for(var D=0,P=C;D<P.length;D++){var M=P[D];M&&V(M,[],E)}else V(C,[],E)}function V(C,E,D){c.fF.assertValue(C,"matrixNode"),c.fF.assertValue(E,"traversalPath"),c.fF.assertValue(D,"callback"),c.fF.assert(function(){return!_.includes(E,C)},"pre-condition: traversalPath must not already contain matrixNode"),E.push(C);var P=D(C,E),M=null!=P&&0!==P;if(1===P){var T=C.children;if(!_.isEmpty(T))for(var R=0,B=T;R<B.length;R++){var N=B[R];if(N&&!(M=V(N,E,D)))break}}return c.fF.assert(function(){return _.last(E)===C},"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),E.pop(),M}function m(C,E){c.fF.assertAnyValue(C,"rootNodes"),c.fF.assertValue(E,"callback");var D=0;p(C,function(P,M){return s(P)&&(E(P,D,M),D++),1})}function e(C,E,D){if(c.fF.assertValue(C,"node"),c.fF.assert(function(){return E>=0},"targetLevel >= 0"),c.fF.assertValue(D,"callback"),C.level!==E){var P=C.children;if(P&&P.length>0)for(var M=0,T=P.length;M<T;M++)e(P[M],E,D)}else D(C)}function h(C,E,D){c.fF.assertValue(C,"node"),c.fF.assert(function(){return E>=0},"deepestLevelToInherit >= 0"),c.fF.assertValue(D,"useInheritSingle");var P=C,M=void 0===C.level;if(M||C.level<=E){var R=D?i.qO:i.ED,B=R(C);if((M||C.level<E)&&!_.isEmpty(C.children)){B.children=R(C.children);for(var x=0,A=B.children.length;x<A;x++)B.children[x]=h(B.children[x],E,D)}P=B}return P}function n(C){c.fF.assertAnyValue(C,"matrixOrHierarchy");var E=!1;if(C)if(function(C){return"rows"in C&&"columns"in C&&"valueSources"in C}(C))E=n(C.rows)||n(C.columns);else{var D=C.levels;if(!_.isEmpty(D))for(var P=0,M=D;P<M.length;P++){var T=M[P];if(T.sources&&T.sources.length>=2&&(c.fF.assert(function(){return _.every(T.sources,function(B){return B.isMeasure===T.sources[0].isMeasure})},"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!T.sources[0].isMeasure)){E=!0;break}}}return E}function o(C){c.fF.assertValue(C,"matrix");var E=C.rows&&C.rows.levels,D=C.columns&&C.columns.levels,P=C.valueSources;return{primaryAxis:!_.isEmpty(E)&&u(E),secondaryAxis:!_.isEmpty(D)&&u(D),intersection:!_.isEmpty(P)&&_.map(P,function(T){return T.index})}}function u(C){return c.fF.assertValue(C,"levels"),_.map(C,function(E){return{selectIndices:_.map(E.sources,function(M){return M.index})}})}function a(C){return C&&C.rows&&!_.isEmpty(C.rows.levels)?C.rows.levels.length:0}function l(C){return!C||_.isEmpty(C.levels)?0:C.levels.length-(d(C.levels)?1:0)}function d(C){return c.fF.assertAnyValue(C,"columnHierarchyLevels"),!_.isEmpty(C)&&b(_.last(C))}function b(C){return c.fF.assertAnyValue(C,"columnHierarchyLevel"),C&&_.every(C.sources,function(E){return E.isMeasure})}function g(C){if(c.fF.assertAnyValue(null==C?void 0:C.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!C||_.isEmpty(C.children))return[];var E=[];return m(C,function(D,P,M){E.push(_.clone(M))}),E}function S(C){c.fF.assertValue(C,"undefined Level");var E=C.valueSources;if(E)return c.fF.assert(function(){return _.isEqual(_.keys(E),["0"])},"There is no support for Measures with a Scope containing any column levels"),c.fF.assertValue(E[0],"Empty Scoped measures metadata"),E[0]}function y(C){if(c.fF.assertValue(C,"getNodeScopedValues called for an Undefined node"),c.fF.assertAnyValue(C.nodeValues,"Synchronized nodes have undefined nodeValues"),C.nodeValues)return c.fF.assert(function(){return _.isEqual(_.keys(C.nodeValues),["0"])},"There is no support for Measures with a Scope containing any column levels"),C.nodeValues[0]}},473667:function(ze,K,r){r.d(K,{Gq:function(){return o},T5:function(){return h},_L:function(){return n},dM:function(){return v},iN:function(){return V},jh:function(){return m}});var t=r(456535),c=r(474147),i=r(787941);function p(u,a){i.fF.assertValue(u,"metadataColumn"),i.fF.assertValue(a,"targetRoles");var l=u.roles;return!!l&&_.some(a,function(d){return l[d]})}function V(u,a){if(i.fF.assertAnyValue(u,"roles"),i.fF.assertValue(a,"targetRole"),!u||!u[a])return!1;if(_.size(u)>=2)for(var l in u)if(l!==a&&u[l])return!1;return!0}function m(u,a,l){i.fF.assertAnyValue(u,"columnSources"),i.fF.assertValue(a,"projectionOrdering"),i.fF.assertAnyValue(l,"filterByRoles");var d=[];if(!_.isEmpty(u))for(var b=function(u){i.fF.assertValue(u,"selectIndicesByProjectionOrder");for(var a={},l=0,d=u.length;l<d;l++){var b=u[l],f=a[b];f||(f=a[b]=[]),f.push(l)}return a}(a),f=0,g=u.length;f<g;f++){var S=u[f];if(!l||p(S,l)){var y=b[S.index];if(_.isEmpty(y))d.push({metadataColumn:S,sourceIndex:f,projectionOrderIndex:void 0});else for(var C=0,E=y;C<E.length;C++)d.push({metadataColumn:S,sourceIndex:f,projectionOrderIndex:E[C]})}}return d}function v(u){var a=_.find(u,function(f){return f.expr&&(0,t.ez)(f.expr)});if(a){var d=a.expr.arg;if((0,t.y3)(d)){var b=d.arg;if((0,t.jc)(b))return b.property}}}function h(u,a,l){if(i.fF.assertValue(u,"expr"),i.fF.assertNonEmpty(a,"columns"),!(0,t.NH)(u))return _.find(a,function(b){return(0,c.fS)(b.expr,u)&&b.groupName===l});var d=_.find(a,function(b){return b.queryName===u.expressionName&&b.groupName===l});return d?0!==u.attributeKind?d:d.formatSource&&d.formatSource.formatString?d.formatSource.formatString:void 0:void 0}function n(u,a){i.fF.assertValue(u,"column"),i.fF.assertValue(a,"aggrFunc");var l=u.aggregates;if(l)switch(a){case 3:return l.min;case 4:return l.max;case 2:return l.count;case 1:return l.average;case 6:return l.median;default:return}}function o(u,a){if(!_.isEmpty(u)){for(var l=[],d=!0,b=0,f=u;b<f.length;b++){var g=f[b];if(g.roles&&g.roles[a]&&void 0!==g.index)if(g.rolesIndex&&g.rolesIndex[a]){i.fF.assert(function(){return!0===d},".initMetadataColumns if any of the columns has roleIndex all of them are supposed to have it.");for(var y=0,C=g.rolesIndex[a];y<C.length;y++)l[C[y]]=g}else d=!1,l.push(g)}return l}}},907453:function(ze,K,r){r.d(K,{C0:function(){return i},F:function(){return s},Mw:function(){return c},jR:function(){return V},rX:function(){return p}});var t=r(787941);function c(m,v){return!m&&!v||!(!m||!v||m.displayName!==v.displayName||m.queryName!==v.queryName||m.isMeasure!==v.isMeasure||m.type!==v.type||m.sort!==v.sort)}function i(m,v){if(!m&&!v)return!0;if(!m||!v)return!1;var h=v.columns.length;if(m.columns.length!==h)return!1;for(var n=0;n<h;n++)if(!c(m.columns[n],v.columns[n]))return!1;return!0}function s(m){return m&&m.values&&m.values[0]&&!!m.values[0].values}function p(m){return m&&void 0!==m.length}function V(m,v){return t.fF.assert(function(){return 0!==v}),!!m&&!!(1&v&&m.categorical||2&v&&m.matrix||4&v&&m.single||8&v&&m.table||16&v&&m.tree)}},188238:function(ze,K,r){r.d(K,{SA:function(){return s},VZ:function(){return V},XP:function(){return i},r:function(){return p}});var t=r(787941),c=r(983172);function i(e,h,n){t.fF.assertValue(e,"query"),t.fF.assertValue(h,"projectionsByRole"),t.fF.assertValue(n,"roleName");var o=h[n];if(o){var u=o.all();return _.filter(_.map(u,function(a){return s(e,a)}),function(a){return a})}}function s(e,h){var n=m(e,h);if(n)return n}function p(e,h,n){var o,u=h[n];if(u){var a=u.getFieldParameters();if(_.isEmpty(a)){var l=i(e,h,n);return _.map(l,function(R){var B,N=null===(B=_.find(u.all(),function(x){return x.queryRef===R.name}))||void 0===B?void 0:B.hidden;return c.m.transformToVisualQueryField(R.expr,R.name,!1,R.nativeReferenceName,N)})}for(var d=[],b=u.all()||[],f=0,g=0,S=0,y=a=_.sortBy(a,function(R){return R.index});S<y.length;S++){var C=y[S],D=C.index+g,P=b.slice(f,D);d.push.apply(d,v(e,P)),d.push(c.m.transformToVisualQueryField(C.expr,void 0,!0));var M=null!==(o=C.length)&&void 0!==o?o:0;g+=M-1,f=D+M}var T=b.slice(f,b.length);return d.push.apply(d,v(e,T)),d}}function V(e,h){for(var n,o=_.filter(h,function(b){return b.index<e}),u=e,a=0,l=o;a<l.length;a++)u+=(null!==(n=l[a].length)&&void 0!==n?n:0)-1;return u}function m(e,h){if(t.fF.assertValue(e,"query"),h)return e.select().withName(h.queryRef)}function v(e,h){var n=_.filter(_.map(h,function(o){return m(e,o)}),function(o){return o});return _.map(n,function(o){var u,a=null===(u=_.find(h,function(l){return l.queryRef===o.name}))||void 0===u?void 0:u.hidden;return c.m.transformToVisualQueryField(o.expr,o.name,!1,o.nativeReferenceName,a)})}},411916:function(ze,K,r){r.d(K,{A8:function(){return o},A9:function(){return u},YN:function(){return l},_T:function(){return a},it:function(){return n}});var t=r(787941),c=r(597098),i=r(324356),s=r(242895),p=r(983172),V=r(799818),m=r(523487),v=r(238435),e=r(698129),h=r(188238),n={objectName:"scalarKey",propertyName:"min"};function o(d,b){var f;if(d&&(f=d.objects),!_.isEmpty(f)){for(var g=void 0,S=f.length,y=0;y<S;y++){var E=(0,e.NA)(f[y],b);void 0!==E&&(g||(g={values:new Array(S)}),g.values[y]={min:E})}return g}}function u(d){var b=!1,f={visitRole:function(C){b=b||_.some(C.items,function(E){return E.scalarKeyInfo&&E.scalarKeyInfo.hasScalarKey})}};return d.categorical?(0,v.Sr)(d.categorical.categories,f):d.matrix&&(0,v.Ay)(d.matrix.rows,f),b}function a(d,b,f,g){var S,y,C;if(t.fF.assertValue(d,"schema"),t.fF.assertValue(b,"query"),t.fF.assertValue(f,"projections"),t.fF.assertValue(g,"roleName"),b.hasVisualCalculations())return!1;var E=(0,h.XP)(b,f,g);if(_.isEmpty(E)||!((null===(S=E[0])||void 0===S?void 0:S.expr)instanceof i.vD))return!1;var D=null===(y=E[0])||void 0===y?void 0:y.expr;if(1!==(0,s.q)(d,_.map(E,function(F){return F.expr}),{}).length)return!1;var M=(0,c.Q)(D,d),T=(0,V.S7)(d,M),R=T&&T.column;if(!R)return!1;var B=R.type;if(!B.temporal||!B.temporal.year||!l(null===(C=E[0])||void 0===C?void 0:C.expr,d))return!1;var N=f[g],x=N.getLastActiveQueryReference();if(x){var A=N.all(),I=_.findIndex(A,function(F){return F.queryRef===x});if(-1===I)return!1;for(var w=0;w<I;w++)if(!_.includes(N.activeProjectionRefs,A[w].queryRef))return!1}return!0}function l(d,b){if(t.fF.assertValue(b,"schema"),d){var f=(d=(0,m.K)(d,b)).getTargetEntity();if(f){var g=p.m.getConceptualEntity(f,b),S=_.filter(g.properties,function(y){return y.type.temporal&&y.type.temporal.paddedDateTableDate});if(1===S.length)return(0,i.Oh)(f,S[0].name)}}}},233643:function(ze,K,r){r.d(K,{x9:function(){return i}});var t=r(787941),c=r(217926);function i(v){if(v&&v.matrix&&v.matrix.rows&&v.matrix.rows.root&&!_.isEmpty(v.matrix.rows.levels))return t.fF.assert(function(){return _.every(v.matrix.rows.levels,function(e){return 1===_.size(e.sources)})},"Composite groups are not supported"),{levels:_.map(v.matrix.rows.levels,function(e){return{identityKeys:e.sources[0].identityExprs}}),root:V(v.matrix.rows.root)}}function s(v,e){if(!_.isEmpty(v)){var h,n;switch(e){case 1:var o=_.findIndex(v,function(a){return a&&!a.isSubtotal&&a.identity});h=v[o],n=v[o+1];break;case 2:var u=_.findLastIndex(v,function(a){return a&&!a.isSubtotal&&a.identity});h=v[u],n=v[u-1];break;default:t.fF.assertFail("Unexpected restart kind "+e)}if(h&&h.restartKind===e)return h;if(n&&n.restartKind===e)return n}}function p(v){return{restartValues:v.restartValues,identityValues:(0,c.KX)(v.identity.expr),windowKind:m(v.restartKind)}}function V(v){var e=[],h=s(v.children,1);h&&e.push(p(h));var n=s(v.children,2);n&&e.push(p(n));var o=_.filter(v.children,function(u){return _.some(u.children,function(a){return a.identity&&!a.isSubtotal})});return{identityValues:v.identity&&v.identity.expr&&(0,c.KX)(v.identity.expr),children:_.map(o,function(u){return V(u)}),windowValues:e}}function m(v){switch(v){case 1:return 2;case 2:return 1}t.fF.assertFail("Invalid restartKind")}},734287:function(ze,K,r){function t(i){return function(s){return s.get(i)}}function c(i,s){return"function"==typeof i?i(s):"string"==typeof i?i:void 0}r.d(K,{G:function(){return c},V:function(){return t}})},84685:function(ze,K,r){r.d(K,{EP:function(){return v}});var t=r(787941),c=r(764365),i=r(398491),s=r(326621),p=function(){function y(){}return y.prototype._ensureIncludeZero=function(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))},y.prototype._ensureNotEmpty=function(){if(this.min===this.max)if(this.min){var C=this.min,E=(0,c.mv)(Math.abs(C)),D=void 0;E>=0&&E<4?(D=.5,this.forcedSingleStop=C):(D=(0,c.wA)(E)/2,this.forcedSingleStop=null),this.min=C-D,this.max=C+D}else this.min=0,this.max=y.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0},y.prototype._ensureDirection=function(){if(this.min>this.max){var C=this.min;this.min=this.max,this.max=C}},y.prototype.getSize=function(){return this.max-this.min},y.prototype.shrinkByStep=function(C,E){t.fF.assertValue(C,"range"),t.fF.assert(function(){return E>0},"step");var D=this.min/E,P=C.min/E,M=Math.floor(P-D);this.min+=M*E,D=this.max/E,P=C.max/E,M=Math.ceil(P-D),this.max+=M*E},y.calculate=function(C,E,D,P,M){t.fF.assert(function(){return C<=E},"dataMin should be less or equal to dataMax."),t.fF.assert(function(){return!D||!P||D<=P},"fixedMin should be less or equal to fixedMax.");var T=new y;return T.includeZero=!!M,T.hasDataRange=V(C)&&V(E),T.hasFixedMin=V(D),T.hasFixedMax=V(P),C=(0,c.QO)(C,y.MIN_SUPPORTED_DOUBLE,y.MAX_SUPPORTED_DOUBLE),E=(0,c.QO)(E,y.MIN_SUPPORTED_DOUBLE,y.MAX_SUPPORTED_DOUBLE),T.hasFixedMin&&T.hasFixedMax?(T.min=D,T.max=P):T.hasFixedMin?(T.min=D,T.max=E>D?E:D):T.hasFixedMax?(T.min=C<P?C:P,T.max=P):T.hasDataRange?(T.min=C,T.max=E):(T.min=0,T.max=0),T._ensureIncludeZero(),T._ensureNotEmpty(),T._ensureDirection(),0===T.min?T.hasFixedMin=!0:0===T.max&&(T.hasFixedMax=!0),T},y.calculateDataRange=function(C,E,D){return V(C)&&V(E)?y.calculate(C,E,null,null,D):y.calculateFixedRange(0,y.DEFAULT_MAX)},y.calculateFixedRange=function(C,E,D){t.fF.assertValue(C,"fixedMin"),t.fF.assertValue(E,"fixedMax");var P=new y;return P.hasDataRange=!1,P.includeZero=D,P.min=C,P.max=E,P._ensureIncludeZero(),P._ensureNotEmpty(),P._ensureDirection(),P.hasFixedMin=!0,P.hasFixedMax=!0,P},y.DEFAULT_MAX=10,y.MIN_SUPPORTED_DOUBLE=-1e307,y.MAX_SUPPORTED_DOUBLE=1e307,y}();function V(y){return null!=y}var m=function(){function y(){}return y.calculate=function(C,E,D,P,M,T){t.fF.assertValue(C,"range"),t.fF.assert(function(){return void 0===E||E>=y.MIN_COUNT&&E<=y.MAX_COUNT},"expectedCount"),t.fF.assert(function(){return void 0===P||P>=c.Xo&&P<=c.kg},"minPower"),t.fF.assert(function(){return void 0===D||D>=0},"maxAllowedMargin");var R=new y;if(E=void 0===E?10:(0,c.QO)(E,y.MIN_COUNT,y.MAX_COUNT),void 0===P&&(P=c.Xo),void 0===M&&(M=!1),void 0===D&&(D=1),void 0===T&&(T=[1,2,5]),C.forcedSingleStop)return R.interval=C.getSize(),R.intervalOffset=R.interval-(C.forcedSingleStop-C.min),R.min=C.min,R.max=C.max,R.sequence=[C.forcedSingleStop],R;var W,B=0,N=0,x=9,A=D>0&&!C.hasFixedMin,I=D>0&&!C.hasFixedMax,w=C.getSize(),F=(0,c.mv)(w),O=(0,c.mv)(T[0]);if(F-=O,F-=(0,c.mv)(E),F=Math.max(F,P-O+1),0!==B){var U=(0,c.wA)(F),j=(0,c.cT)(C.min,U),z=(0,c.iD)(C.max,U);(G=p.calculateFixedRange(j,z)).shrinkByStep(C,B),N=G.min,x=G.max,W=Math.floor(G.getSize()/B)}else{var te=void 0;for(te=0;te<3;te++){for(var Q=F+te,H=(U=(0,c.wA)(Q),j=(0,c.cT)(C.min,U),z=(0,c.iD)(C.max,U),T.length),de=(0,c.wA)(Q-1),Y=0;Y<H;Y++){var G,se=T[Y]*de;if((G=p.calculateFixedRange(j,z,M)).shrinkByStep(C,se),A&&C.min===G.min&&D>=1&&(G.min-=se),I&&C.max===G.max&&D>=1&&(G.max+=se),(W=(0,c.Eo)(G.getSize()/se,c.qO))<=E||2===te&&Y===H-1||1===E&&2===W&&(se>C.getSize()||C.min<0&&C.max>0&&2*se>=C.getSize())){B=se,N=G.min,x=G.max;break}}if(0!==B)break}}(W>32*E||W>y.MAX_COUNT)&&(B=(x-N)/(W=Math.min(32*E,y.MAX_COUNT))),R.min=N,R.max=x,R.interval=B,R.intervalOffset=N-C.min,R.maxAllowedMargin=D,R.canExtendMin=A,R.canExtendMax=I;var ce=(0,c.p8)(B,0);R.precision=ce;var pe=[],ve=(0,c.W0)(N,ce);for(pe.push(ve),Y=0;Y<W;Y++)ve=(0,c.W0)(ve+B,ce),pe.push(ve);return R.sequence=pe,R.trimMinMax(C.min,C.max),R},y.calculateUnits=function(C,E,D,P){D=(0,c.QO)(D,y.MIN_COUNT,y.MAX_COUNT),C===E&&(E=C+1);for(var T=0,R=0,B=P;R<B.length&&!((0,c.Eo)(E/(T=B[R]))-(0,c.Uy)(C/T)<=D);R++);var A=-C;A%=T;var I=new y;I.sequence=[];for(var w=C+A;I.sequence.push(w),!(w>=E);w+=T);return I.interval=T,I.intervalOffset=A,I.min=I.sequence[0],I.max=I.sequence[I.sequence.length-1],I},y.prototype.trimMinMax=function(C,E){var D=(C-this.min)/this.interval,P=(this.max-E)/this.interval;(!this.canExtendMin||D>this.maxAllowedMargin&&D>.001)&&(this.min=C),(!this.canExtendMax||P>this.maxAllowedMargin&&P>.001)&&(this.max=E)},y.MIN_COUNT=1,y.MAX_COUNT=1e3,y}(),v=function(){function y(C){this.unit=C,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}return y.prototype.add=function(C){C<this.min&&(this.min=C),C>this.max&&(this.max=C),this.sequence.push(C)},y.prototype.moveToCover=function(C,E){var D=y.getDelta(C,E,this.unit),P=Math.floor(D/this.interval);for(this.min=y.addInterval(this.min,P*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<E;)this.max=y.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)},y.calculate=function(C,E,D,P){switch(P||(P=y.getIntervalUnit(C,E,D)),P){case i.l.Year:return y.calculateYears(C,E,D);case i.l.Month:return y.calculateMonths(C,E,D);case i.l.Week:return y.calculateWeeks(C,E,D);case i.l.Day:return y.calculateDays(C,E,D);case i.l.Hour:return y.calculateHours(C,E,D);case i.l.Minute:return y.calculateMinutes(C,E,D);case i.l.Second:return y.calculateSeconds(C,E,D);case i.l.Millisecond:return y.calculateMilliseconds(C,E,D);default:t.fF.assertFail("Unsupported DateTimeUnit")}},y.calculateYears=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return!D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"Expected count is out of range");var P=p.calculateDataRange(C.getFullYear(),E.getFullYear(),!1),M=m.calculate(p.calculate(0,P.max-P.min),D,0,null,null,[1,2,5]),T=Math.floor(P.min/M.interval)*M.interval,R=s.y3.fromDateParts(T,0,1);return y.fromNumericSequence(R,M,i.l.Year)},y.calculateMonths=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var P=C.getFullYear(),M=E.getFullYear(),T=C.getMonth(),R=12*(M-P)+E.getMonth(),B=s.y3.fromDateParts(P,0,1),N=m.calculateUnits(T,R,D,[1,2,3,6,12]);return y.fromNumericSequence(B,N,i.l.Month)},y.calculateWeeks=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var T=(C.getDay()-0+7)%7,R=C.getDate()-T,B=s.y3.fromDateParts(C.getFullYear(),C.getMonth(),R),x=(0,c.Eo)(y.getDelta(B,E,i.l.Week)),A=m.calculateUnits(0,x,D,[1,2,4,8]);return y.fromNumericSequence(B,A,i.l.Week)},y.calculateDays=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var P=s.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate()),T=(0,c.Eo)(y.getDelta(C,E,i.l.Day)),R=m.calculateUnits(0,T,D,[1,2,7,14]);return y.fromNumericSequence(P,R,i.l.Day)},y.calculateHours=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var P=s.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate()),M=(0,c.Uy)(y.getDelta(P,C,i.l.Hour)),T=(0,c.Eo)(y.getDelta(P,E,i.l.Hour)),R=m.calculateUnits(M,T,D,[1,2,3,6,12,24]);return y.fromNumericSequence(P,R,i.l.Hour)},y.calculateMinutes=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var P=s.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()),M=(0,c.Uy)(y.getDelta(P,C,i.l.Minute)),T=(0,c.Eo)(y.getDelta(P,E,i.l.Minute)),R=m.calculateUnits(M,T,D,[1,2,5,10,15,30,60,120,180,360,720,1440]);return y.fromNumericSequence(P,R,i.l.Minute)},y.calculateSeconds=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var P=s.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes()),M=(0,c.Uy)(y.getDelta(P,C,i.l.Second)),T=(0,c.Eo)(y.getDelta(P,E,i.l.Second)),R=m.calculateUnits(M,T,D,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return y.fromNumericSequence(P,R,i.l.Second)},y.calculateMilliseconds=function(C,E,D){t.fF.assertValue(C,"dataMin"),t.fF.assertValue(E,"dataMax"),t.fF.assert(function(){return void 0===D||D>=y.MIN_COUNT&&D<=y.MAX_COUNT},"expected count is out of range");var P=s.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds()),M=y.getDelta(P,C,i.l.Millisecond),T=y.getDelta(P,E,i.l.Millisecond),R=m.calculate(p.calculate(M,T),D,0);return y.fromNumericSequence(P,R,i.l.Millisecond)},y.addInterval=function(C,E,D){switch(E=Math.round(E),D){case i.l.Year:return function(y,C){var E=y.getFullYear(),D=y.getMonth(),P=y.getDate(),M=2===D&&29===P,T=s.y3.fromTimeValue(y.getTime());return E+=C,M&&!n(E)&&(P=28),T.setUTCFullYear(E,D,P),T}(C,E);case i.l.Month:return function(y,C){var E=y.getFullYear(),D=y.getMonth(),P=y.getDate(),M=s.y3.fromTimeValue(y.getTime());return E+=(C-C%12)/12,(D+=C%12)>11&&(D%=12,E++),P=Math.min(P,function(y,C){return n(y)?h[C]:e[C]}(E,D)),M.setUTCFullYear(E,D,P),M}(C,E);case i.l.Week:return function(y,C){return d(y,7*C)}(C,E);case i.l.Day:return d(C,E);case i.l.Hour:return function(y,C){return s.y3.fromTimeValue(y.getTime()+36e5*C)}(C,E);case i.l.Minute:return function(y,C){return s.y3.fromTimeValue(y.getTime()+6e4*C)}(C,E);case i.l.Second:return function(y,C){return s.y3.fromTimeValue(y.getTime()+1e3*C)}(C,E);case i.l.Millisecond:return function(y,C){return s.y3.fromTimeValue(y.getTime()+C)}(C,E)}},y.fromNumericSequence=function(C,E,D){for(var P=new y(D),M=0,T=E.sequence;M<T.length;M++){var B=y.addInterval(C,T[M],D);P.add(B)}return P.interval=E.interval,P.intervalOffset=E.intervalOffset,P},y.getDelta=function(C,E,D){var P=0;switch(D){case i.l.Year:P=E.getFullYear()-C.getFullYear();break;case i.l.Month:P=12*(E.getFullYear()-C.getFullYear())+E.getMonth()-C.getMonth();break;case i.l.Week:P=(E.getTime()-C.getTime())/6048e5;break;case i.l.Day:P=(E.getTime()-C.getTime())/864e5;break;case i.l.Hour:P=(E.getTime()-C.getTime())/36e5;break;case i.l.Minute:P=(E.getTime()-C.getTime())/6e4;break;case i.l.Second:P=(E.getTime()-C.getTime())/1e3;break;case i.l.Millisecond:P=E.getTime()-C.getTime()}return P},y.getIntervalUnit=function(C,E,D){D=Math.max(D,2);var P=y.getDelta(C,E,i.l.Day);if(P>356&&P>=180*D)return i.l.Year;if(P>60&&P>7*D)return i.l.Month;if(P>14&&P>2*D)return i.l.Week;var M=y.getDelta(C,E,i.l.Hour);if(P>2&&M>12*D)return i.l.Day;if(M>=24&&M>=D)return i.l.Hour;var T=y.getDelta(C,E,i.l.Minute);if(T>2&&T>=D)return i.l.Minute;var R=y.getDelta(C,E,i.l.Second);if(R>2&&R>=.8*D)return i.l.Second;if(y.getDelta(C,E,i.l.Millisecond)>0)return i.l.Millisecond;var N=C;return 0!==N.getMilliseconds()?i.l.Millisecond:0!==N.getSeconds()?i.l.Second:0!==N.getMinutes()?i.l.Minute:0!==N.getHours()?i.l.Hour:1!==N.getDate()?i.l.Day:0!==N.getMonth()?i.l.Month:i.l.Year},y.MIN_COUNT=1,y.MAX_COUNT=1e3,y}(),e=[31,28,31,30,31,30,31,31,30,31,30,31],h=[31,29,31,30,31,30,31,31,30,31,30,31];function n(y){return y%4==0&&y%100!=0||y%400==0}function d(y,C){var E=y.getFullYear(),D=y.getMonth(),P=y.getDate(),M=s.y3.fromTimeValue(y.getTime());return M.setUTCFullYear(E,D,P+C),M}},648887:function(ze,K,r){r.d(K,{KO:function(){return i},Re:function(){return V},hU:function(){return s},t0:function(){return v},wj:function(){return p}});var t=r(787941),c=r(326621),i=function(e){return e[e.Last=0]="Last",e[e.Current=1]="Current",e[e.Next=2]="Next",e}({}),s=function(e){return e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.CalendarWeek=5]="CalendarWeek",e[e.Month=6]="Month",e[e.CalendarMonth=7]="CalendarMonth",e[e.Year=8]="Year",e[e.CalendarYear=9]="CalendarYear",e}({}),p=function(e){return e[e.Unsupported=0]="Unsupported",e[e.Time=1]="Time",e[e.Date=2]="Date",e}({});function V(e){switch(e){case s.Minute:case s.Hour:return!0;default:return!1}}var v=function(){function e(){}return e.convertRelativeDateUnitToRelativeFilterType=function(h){switch(h){case s.Second:case s.Minute:case s.Hour:return p.Time;case s.Day:case s.Week:case s.CalendarWeek:case s.Month:case s.CalendarMonth:case s.Year:case s.CalendarYear:return p.Date;default:return void t.fF.assertNever(h)}},e.convertTimeUnitToRelativeFilterType=function(h){switch(h){case 5:return p.Unsupported;case 6:case 7:return p.Time;case 0:case 1:case 2:case 3:case 4:return p.Date;default:return void t.fF.assertNever(h)}},e.getDateRange=function(h,n){switch(n.relativeUnit){case s.Minute:return this.getMinutesRange(h,n);case s.Hour:return this.getHoursRange(h,n);case s.Day:return this.getDaysRange(h,n);case s.Week:return this.getWeeksRange(h,n);case s.CalendarWeek:return this.getCalendarWeekRange(h,n);case s.Month:return this.getMonthRange(h,n);case s.CalendarMonth:return this.getCalendarMonthRange(h,n);case s.Year:return this.getYearRange(h,n);case s.CalendarYear:return this.getCalendarYearRange(h,n);default:return void t.fF.assertFail("Unexpected RelativeDateUnit: "+n.relativeUnit)}},e.getMinutesRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.min=new Date(h.valueOf()-6e4*n.duration),o.max=h;break;case i.Current:o.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),0)),o.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),59));break;case i.Next:o.min=h,o.max=new Date(h.valueOf()+6e4*n.duration)}return o},e.getHoursRange=function(h,n){var o={min:null,max:null},u=36e5;switch(n.relativeQualifier){case i.Last:o.min=new Date(h.valueOf()-n.duration*u),o.max=h;break;case i.Current:o.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),0,0)),o.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),59,59));break;case i.Next:o.min=h,o.max=new Date(h.valueOf()+n.duration*u)}return o},e.getDaysRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.max=n.includeToday?h:this.addDays(h,-1),o.min=this.addDays(o.max,1-n.duration);break;case i.Current:o.min=h,o.max=h;break;case i.Next:o.min=n.includeToday?h:this.addDays(h,1),o.max=this.addDays(o.min,n.duration-1)}return o},e.getWeeksRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.max=n.includeToday?h:this.addDays(h,-1),o.min=this.addDays(o.max,-7*n.duration+1);break;case i.Current:o=this.getCalendarWeek(h);break;case i.Next:o.min=n.includeToday?h:this.addDays(h,1),o.max=this.addDays(o.min,7*n.duration-1)}return o},e.getCalendarWeekRange=function(h,n){var o={min:null,max:null},u=h.getUTCDay();switch(n.relativeQualifier){case i.Last:var a=this.addDays(h,-u-1);o.min=this.addDays(a,-7*n.duration+1),o.max=a;break;case i.Current:o=this.getCalendarWeek(h);break;case i.Next:var l=this.addDays(h,7-u);o.min=l,o.max=this.addDays(l,7*n.duration-1)}return o},e.getMonthRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.max=n.includeToday?h:this.addDays(h,-1),o.min=this.addMonths(o.max,-n.duration);break;case i.Current:o=this.getCalendarMonth(h);break;case i.Next:o.min=n.includeToday?h:this.addDays(h,1),o.max=this.addMonths(o.min,n.duration)}return o},e.getCalendarMonthRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()-n.duration,1)),o.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),0));break;case i.Current:o=this.getCalendarMonth(h);break;case i.Next:o.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1,1)),o.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1+n.duration,0))}return o},e.getYearRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.max=n.includeToday?h:this.addDays(h,-1),o.min=this.addYears(o.max,-n.duration);break;case i.Current:o=this.getCalendarYear(h);break;case i.Next:o.min=n.includeToday?h:this.addDays(h,1),o.max=this.addYears(o.min,n.duration)}return o},e.getCalendarYearRange=function(h,n){var o={min:null,max:null};switch(n.relativeQualifier){case i.Last:o.min=new Date(Date.UTC(h.getUTCFullYear()-n.duration,0,1)),o.max=new Date(Date.UTC(h.getUTCFullYear()-1,11,31));break;case i.Current:o=this.getCalendarYear(h);break;case i.Next:o.min=new Date(Date.UTC(h.getUTCFullYear()+1,0,1)),o.max=new Date(Date.UTC(h.getUTCFullYear()+n.duration,11,31))}return o},e.getTimeRangeRestatement=function(h,n,o,u){return n?this.getDetailedTimeRestatement(o):this.getSimplifiedTimeRestatement(h,u)},e.getDetailedTimeRestatement=function(h){return Math.abs(h.max.valueOf()-h.min.valueOf())/864e5>1||h.max.getUTCDate()!==h.min.getUTCDate()?c.dx.format("{0} - {1}",[h.min,h.max]):c.dx.format("{0:T} - {1:T}",[h.min,h.max])},e.getSimplifiedTimeRestatement=function(h,n){switch(h.relativeQualifier){case i.Current:switch(h.relativeUnit){case s.Minute:return n("RelativeTimeRestatement_this_Minute");case s.Hour:return n("RelativeTimeRestatement_this_Hour");default:t.fF.assertFail("The following relative unit is not a relative time unit: ".concat(h.relativeUnit))}break;case i.Last:switch(h.relativeUnit){case s.Minute:return 1===h.duration?n("RelativeTimeRestatement_last_Minute"):n("RelativeTimeRestatement_last_Minutes",h.duration);case s.Hour:return 1===h.duration?n("RelativeTimeRestatement_last_Hour"):n("RelativeTimeRestatement_last_Hours",h.duration);default:t.fF.assertFail("The following relative unit is not a relative time unit: ".concat(h.relativeUnit))}break;case i.Next:switch(h.relativeUnit){case s.Minute:return 1===h.duration?n("RelativeTimeRestatement_next_Minute"):n("RelativeTimeRestatement_next_Minutes",h.duration);case s.Hour:return 1===h.duration?n("RelativeTimeRestatement_next_Hour"):n("RelativeTimeRestatement_next_Hours",h.duration);default:t.fF.assertFail("The following relative unit is not a relative time unit: ".concat(h.relativeUnit))}break;default:t.fF.assertFail("The following is an Unsupported relativeQualifer: ".concat(h.relativeQualifier))}return""},e.getDateRangeRestatement=function(h){return c.dx.format("{0:d} - {1:d}",[h.min,h.max])},e.getRestatement=function(h,n,o,u){var a;if(V(h.relativeUnit)?(t.fF.assert(function(){return!!u},"For Relative time restatement, anchor time should be defined"),a=u||new Date):a=new Date,h.anchorDate&&function(e){return!V(e)}(h.relativeUnit)){var l=h.anchorDate;a=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()))}var d=this.getDateRange(a,h);return d.min.epochTimeStamp=d.min.getTime(),d.max.epochTimeStamp=d.max.getTime(),V(h.relativeUnit)?this.getTimeRangeRestatement(h,n,d,o):e.getDateRangeRestatement(d)},e.addMinutes=function(h,n){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes()+n,h.getSeconds())},e.addHours=function(h,n){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours()+n,h.getMinutes(),h.getSeconds())},e.addDays=function(h,n){return new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()+n))},e.addMonths=function(h,n){if(0===n)return h;var a=h.getUTCDate()-(n>0?1:-1),l=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+n,a)),d=l.getUTCDate();if(a>0)if(d!==a&&n>0)l=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+n+1,0));else if(n<0){var b=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),a));(d!==a||b.getUTCMonth()!==h.getUTCMonth())&&(l=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+n+1,1)))}return l},e.addYears=function(h,n){return this.addMonths(h,12*n)},e.getDurationMax=function(h,n){if(h===i.Current)return 1;switch(n){case s.Year:case s.CalendarYear:return 100;case s.Month:case s.CalendarMonth:case s.CalendarWeek:case s.Week:return 1e3;default:return 1e4}},e.getCalendarWeek=function(h){var n=h.getUTCDay(),o=this.addDays(h,-n);return{min:o,max:this.addDays(o,6)}},e.getCalendarMonth=function(h){return{min:new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),1)),max:new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1,0))}},e.getCalendarYear=function(h){return{min:new Date(Date.UTC(h.getUTCFullYear(),0,1)),max:new Date(Date.UTC(h.getUTCFullYear(),11,31))}},e}()},448711:function(ze,K,r){r.d(K,{g:function(){return Q},CH:function(){return B},J6:function(){return R},Ue:function(){return z},E3:function(){return j},Ym:function(){return H},WU:function(){return G},aY:function(){return je},KF:function(){return Ae},kA:function(){return te},v1:function(){return pe},p$:function(){return de},G2:function(){return W},EO:function(){return ce},eU:function(){return De},h1:function(){return ve},Z:function(){return x},X0:function(){return U}});var t=r(787941),c=r(764365),i=r(826691),s=r(261374),p=r(760182),V=r(698129),m=r(326621),v=r(592042),e=r(84685),h=r(226514),n=r(112430),u=1e15,a=1e-4,f=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,g=function(){function Z(){}return Z.prototype.project=function(ie){return this.value?(0,c.oI)(ie/this.value):ie},Z.prototype.isApplicableTo=function(ie){ie=Math.abs(ie);var me=(0,c.p8)(ie,3);return(0,c.bA)(ie,this.applicableRangeMin,me)&&(0,c.Po)(ie,this.applicableRangeMax,me)},Z.prototype.isScaling=function(){return this.value>1},Z}(),S=function(){function Z(ie){this.units=ie||[]}return Z.prototype.getUnits=function(ie){void 0===ie&&(ie=!1);var me=_.clone(this.units);return ie&&_.remove(me,function(ye){return 0===ye.value}),me},Object.defineProperty(Z.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),Z.prototype.update=function(ie){void 0!==ie&&(this.displayUnit=this.findApplicableDisplayUnit(ie))},Z.prototype.findApplicableDisplayUnit=function(ie){for(var me=0,ye=this.units;me<ye.length;me++){var oe=ye[me];if(oe.isApplicableTo(ie))return oe}},Z.prototype.format=function(ie,me,ye,oe){t.fF.assert(function(){return"number"==typeof ie},"value must be a number"),ye=this.getNumberOfDecimalsForFormatting(ye);var X="";return this.isFormatSupported(me)&&!this.hasScientificFormat(me)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(ie=this.displayUnit.project(ie),X=this.displayUnit.labelFormat),this.formatHelper(ie,X,me,ye,oe)},Z.prototype.isFormatSupported=function(ie){return!Z.UNSUPPORTED_FORMATS.test(ie)},Z.prototype.isPercentageFormat=function(ie){return ie&&ie.indexOf("%")>=0},Z.prototype.shouldRespectScalingUnit=function(){return!0},Z.prototype.getNumberOfDecimalsForFormatting=function(ie){return ie},Z.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},Z.prototype.formatHelper=function(ie,me,ye,oe,X){if(("g"===ye||"G"===ye)&&null!=oe&&(ye=n.Pe),(ye=(0,m.dc)(ye,oe,X))&&!m.dx.isStandardNumberFormat(ye))return m.dx.formatNumberWithCustomOverride(ie,ye,me);ye||(ye="G"),me||(me="{0}");var ue=m.dx.formatValue(ie,ye);return m.dx.format(me,[ue])},Z.prototype.formatSingleValue=function(ie,me,ye,oe){return this.update(this.shouldUseValuePrecision(ie)?(0,c.p8)(ie,8):ie),this.format(ie,me,ye,oe)},Z.prototype.shouldUseValuePrecision=function(ie){if(0===this.units.length)return!0;for(var me=0,ye=0,oe=this.units;ye<oe.length;ye++){var X=oe[ye];if(X.isScaling()){me=X.applicableRangeMin;break}}return Math.abs(ie)<me},Z.prototype.isScientific=function(ie){return ie<-u||ie>u||-a<ie&&ie<a&&0!==ie},Z.prototype.hasScientificFormat=function(ie){return ie&&(-1!==ie.toUpperCase().indexOf("E+")||-1!==ie.toUpperCase().indexOf("E-"))},Z.prototype.supportsScientificFormat=function(ie){return!ie||f.test(ie)},Z.prototype.shouldFallbackToScientific=function(ie,me){return!this.hasScientificFormat(me)&&this.supportsScientificFormat(me)&&this.isScientific(ie)},Z.prototype.getScientificFormat=function(ie,me,ye,oe){if(this.isFormatSupported(me)&&this.shouldFallbackToScientific(ie,me)){var X=(0,m.IE)(ie,me);return ye&&(X=(0,m.dc)(X||"0",Math.abs(ye),oe)),X?X+"E+0":"0.##E+0"}return me},Z.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,Z}(),y=function(Z){function ie(){return Z.call(this,[])||this}return(0,h.__extends)(ie,Z),ie}(S),C=function(Z){function ie(me){return Z.call(this,ie.getUnits(me))||this}return(0,h.__extends)(ie,Z),ie.prototype.format=function(me,ye,oe,X){return ye=this.getScientificFormat(me,ye,oe,X),Z.prototype.format.call(this,me,ye,oe,X)},ie.reset=function(){ie.units=null},ie.getUnits=function(me){return ie.units||(ie.units=P(me,function(ye,oe,X){return ye-oe>=1e3?ye/10:X})).length>=1&&(ie.units[ie.units.length-1].applicableRangeMax=1/0),ie.units},ie}(S),E=function(Z){function ie(me){return Z.call(this,ie.getUnits(me))||this}return(0,h.__extends)(ie,Z),ie.reset=function(){ie.units=null},ie.getUnits=function(me){return ie.units||(ie.units=P(me)).length>=1&&(ie.units[ie.units.length-1].applicableRangeMax=1/0),ie.units},ie.prototype.format=function(me,ye,oe,X){return ye=this.getScientificFormat(me,ye,oe,X),Z.prototype.format.call(this,me,ye,oe,X)},ie}(S),D=function(Z){function ie(me){return Z.call(this,ie.getUnits(me))||this}return(0,h.__extends)(ie,Z),ie.prototype.isFormatSupported=function(me){return!ie.UNSUPPORTED_FORMATS.test(me)},ie.getUnits=function(me){if(!ie.units){var ye=[],oe=function(Se,Be,Ke){return-1===Se&&Se-Be>=1e3?Se/10:Ke},X=me(-1);M(ye,0,X.title,X.format,oe),M(ye,1,(X=me(0)).title,X.format,oe),(ie.units=ye.concat(P(me,oe))).length>=1&&(ie.units[ie.units.length-1].applicableRangeMax=1/0)}return ie.units},ie.prototype.format=function(me,ye,oe,X){return ye=this.getScientificFormat(me,ye,oe,X),Z.prototype.format.call(this,me,ye,oe,X)},ie.UNSUPPORTED_FORMATS=/^(e\d*)$/i,ie}(S);function P(Z,ie){for(var me=[],ye=3;ye<24;ye++){var oe=Z(ye);oe&&M(me,(0,c.wA)(ye),oe.title,oe.format,ie)}return me}function M(Z,ie,me,ye,oe){if(me||ye){var X=ie;if(Z.length>0){var ue=Z[Z.length-1];oe&&(X=oe(ie,ue.value,X)),ue.applicableRangeMax=X}var Se=new g;Se.value=ie,Se.applicableRangeMin=X,Se.applicableRangeMax=1e3*X,Se.title=me,Se.labelFormat=ye,Z.push(Se)}}function R(Z){B||(i.f.information("allowFormatBeautification used",void 0,{key:Z}),B=!0)}var B=!1;function x(Z){return n.um[Z]}var A={null:n.um.NullValue,true:n.um.BooleanTrue,false:n.um.BooleanFalse,NaN:n.um.NaNValue,infinity:n.um.InfinityValue,negativeInfinity:n.um.NegativeInfinityValue,beautify:function(ie){return function(Z){var ie=n.A0[Z];return ie?(R(ie),n.um[ie]||Z):Z}(ie)},describe:function(ie){return function(Z){var ie=-1===Z?"Auto":Z.toString(),oe=n.um["DisplayUnitSystem_E"+ie+"_Title"],X=Z<=0?"{0}":n.um["DisplayUnitSystem_E"+ie+"_LabelFormat"];if(oe||X)return{title:oe,format:X}}(ie)},restatementComma:n.um.RestatementComma,restatementCompoundAnd:n.um.RestatementCompoundAnd,restatementCompoundOr:n.um.RestatementCompoundOr},L={displayName:"",type:v.Ge.fromPrimitiveTypeAndCategory(7)};function W(Z){return(0,m.rH)(Z)}function U(Z){t.fF.assertValue(Z,"options"),A=Z,C.reset(),E.reset()}function j(Z,ie){void 0===ie&&(ie=!1);var me=ie?A.beautify(Z):Z;return{format:function(oe){return null==oe?A.null:_e(oe,me)}}}function z(Z){t.fF.assertValue(Z,"options");var ie=Z.allowFormatBeautification?A.beautify(Z.format):Z.format;if(function(Z){var ie=Z.value,me=Z.value2,ye=Z.format,oe=Z.columnType;if(Z.formatSingleValues&&ye&&Math.abs(ie)<1e4)if((0,m.iH)(ye)){if((0,c.U)(ie))return!1}else if((0,m.rH)(ye,!0).precision<2)return!1;if("number"==typeof ie||"number"==typeof me)return!(oe&&oe.temporal&&oe.temporal.year)}(Z)){var me=H(Z.displayUnitSystemType),ye=!!Z.formatSingleValues;me.update(Math.max(Math.abs(Z.value||0),Math.abs(Z.value2||0)));var X,oe=null!=Z.precision;return oe?X=-Z.precision:me.displayUnit&&me.displayUnit.value>1&&(X=-2),{format:function(Be){var Ke=le(Be,!0);if(!(0,s.g)(Ke))return Ke;var Ze=Number(Be);return Ze&&!me.isScalingUnit()&&Math.abs(Ze)<1e3&&!oe&&(Be=(0,c.W0)(Ze)),ye?me.formatSingleValue(Ze,ie,X,oe):me.format(Ze,ie,X,oe)},displayUnit:me.displayUnit,options:Z}}if(function(Z,ie,me){return Z instanceof Date&&ie instanceof Date&&null!=me}(Z.value,Z.value2,Z.tickCount)){var ue=e.EP.getIntervalUnit(Z.value,Z.value2,Z.tickCount);return{format:function(Be){return null==Be?A.null:_e(Be,m.dx.dateFormatString(ue))},options:Z}}return j(ie)}function G(Z,ie,me){return null==Z?A.null:_e(Z,me?A.beautify(ie):ie)}function te(Z,ie,me,ye,oe){return!(me&&me.type&&me.type.dateTime)&&Z instanceof Date?_e(Z,ce(L,null,!1),oe):_e(Z,De(ie,me,ye),oe)}var Q=function(){function Z(ie){t.fF.assertValue(ie,"createVariantMeasureFormatter - options"),t.fF.assertValue(ie.column,"createVariantMeasureFormatter - options.column"),t.fF.assertValue(ie.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=ie,this.columnFormatString=ce(ie.column,ie.formatStringPropId,!1),this.isDateTimeColumn=ie.column&&ie.column.type&&ie.column.type.dateTime,(null!=ie.displayUnit&&1!==ie.displayUnit||null!=ie.precision)&&(this.displayUnitSystem=H(ie.displayUnitSystemType),this.displayUnitSystem.update(ie.displayUnit))}return Z.prototype.setDisplayUnitSystem=function(ie,me){null==ie&&null==me?this.displayUnitSystem=void 0:(this.displayUnitSystem=H(me),this.displayUnitSystem.update(ie))},Z.prototype.format=function(ie,me){var ye=this.options;if(!this.isDateTimeColumn&&ie instanceof Date)return _e(ie,ce(L,null,!1),ye.nullsAreBlank);var X=this.columnFormatString;if(me){var ue=(0,V.NA)(me,ye.formatStringPropId);null!=ue&&(X=ue)}if(this.displayUnitSystem&&"number"==typeof ie&&null!=ie){var Se=ye.precision;return ye.defaultPrecisionForScaledValues&&null==(Se=ve(Se,X))&&ye.displayUnit>1&&(Se=2),ye.formatSingleValues?this.displayUnitSystem.formatSingleValue(ie,X,Se,ye.trailingZeroes):this.displayUnitSystem.format(ie,X,Se,ye.trailingZeroes)}return _e(ie,X,ye.nullsAreBlank)},Z}();function H(Z){if(null==Z)return new C(A.describe);switch(Z){case p.V.Default:return new C(A.describe);case p.V.WholeUnits:return new E(A.describe);case p.V.Verbose:return new y;case p.V.DataLabels:return new D(A.describe);default:return t.fF.assertFail("Unknown display unit system type"),new C(A.describe)}}function de(Z){return void 0===Z&&(Z=!1),new D(A.describe).getUnits(Z)}function ce(Z,ie,me){if(Z){if(ie){var ye=(0,V.NA)(Z.objects,ie);if(ye)return ye}if(!me&&Z.type)return pe(Z.type)}}function pe(Z){return t.fF.assertValue(Z,"type must be defined"),Z.dateTime?n.eF:Z.integer?Z.temporal&&Z.temporal.year?"0":n.Bq:Z.numeric?n.Pe:void 0}function ve(Z,ie){if(t.fF.assertAnyValue(ie,"format"),void 0!==Z)return Z;if("g"!==ie&&"G"!==ie){if(ie){var me=(0,m.OQ)(ie).positive,ye=(0,m.rH)(me,!0);if(ye.hasDots)return ye.optionalPrecision?void 0:ye.precision}return 0}}function De(Z,ie,me,ye){return(0,V.NA)(Z,me)||ce(ie,me,ye)}function We(Z,ie){var me;if(!Z)return null;var ye=Z.length;if(ye>0){me=Z[0];for(var oe=ye-1,X=1,ue=oe;X<ue;X++)me=(0,s.W)(A.restatementComma,me,Z[X]);ye>1&&(me=(0,s.W)(ie,me,Z[oe]))}else me=null;return me}function je(Z){return We(Z,A.restatementCompoundAnd)}function Ae(Z){return We(Z,A.restatementCompoundOr)}function _e(Z,ie,me){var ye=le(Z,me||!1);return(0,s.g)(ye)?m.dx.formatValue(Z,ie):ye}function le(Z,ie){return null==Z&&ie?A.null:!0===Z?A.true:!1===Z?A.false:"number"==typeof Z&&isNaN(Z)?A.NaN:Z===Number.NEGATIVE_INFINITY?A.negativeInfinity:Z===Number.POSITIVE_INFINITY?A.infinity:""}},112430:function(ze,K,r){r.d(K,{A0:function(){return p},Bq:function(){return t},Pe:function(){return c},eF:function(){return i},um:function(){return s}});var t="g",c="#,0.00",i="d",s={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},p={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},398491:function(ze,K,r){r.d(K,{l:function(){return t}});var t=function(c){return c[c.Year=0]="Year",c[c.Month=1]="Month",c[c.Week=2]="Week",c[c.Day=3]="Day",c[c.Hour=4]="Hour",c[c.Minute=5]="Minute",c[c.Second=6]="Second",c[c.Millisecond=7]="Millisecond",c}({})},876128:function(ze,K,r){r.d(K,{$n:function(){return i},Iu:function(){return h},dp:function(){return e}});var t=r(787941),c=r(907453);function i(b,f){if(b.matrix||t.fF.assert(function(){return(0,c.C0)(b.metadata,f.metadata)},"Cannot merge data views with different metadata columns"),f.metadata.segment?b.metadata.segment=f.metadata.segment:delete b.metadata.segment,b.table&&f.table&&function(b,f){if(t.fF.assertValue(b,"source"),t.fF.assertValue(f,"segment"),!_.isEmpty(f.rows)){var g=f.lastMergeIndex+1;V(b.rows,f.rows,g),t.fF.assert(function(){return!b.identity==!f.identity},"The existence of identity in the new segment is different than the source"),f.identity&&V(b.identity,f.identity,g)}}(b.table,f.table),b.categorical&&f.categorical&&function(b,f){if(t.fF.assertValue(b,"source"),t.fF.assertValue(f,"segment"),t.fF.assert(function(){return _.size(b.categories)===_.size(f.categories)},"pre-condition: source categories and segment categories should have the same length"),t.fF.assert(function(){return _.every(b.categories,function(M){return b.categories[0].identity===M.identity})},"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(b.categories)&&!_.isEmpty(f.categories)){for(var g=f.lastMergeIndex+1,S=f.categories.length,y=function(T){var R=f.categories[T],B=b.categories[T];t.fF.assert(function(){return(0,c.Mw)(B.source,R.source)},"Source and segment category have different sources."),t.fF.assert(function(){return void 0!==B.values||void 0===B.identity},"Source category is missing values but has identities."),R.values&&V(B.values,R.values,g)},C=0;C<S;C++)y(C);f.categories[0].identity&&V(b.categories[0].identity,f.categories[0].identity,g)}if(b.values&&f.values){var E=f.values.length;t.fF.assert(function(){return b.values.length===E},"Source and segment values have different lengths.");for(var D=function(T){var R=f.values[T],B=b.values[T];t.fF.assert(function(){return(0,c.Mw)(B.source,R.source)},"Source and segment value have different sources."),!B.values&&R.values&&(B.values=[]);var N=f.lastMergeIndex+1;R.values&&V(B.values,R.values,N),R.highlights&&V(B.highlights,R.highlights,N)},P=0;P<E;P++)D(P)}}(b.categorical,f.categorical),b.tree&&f.tree&&m(b.tree.root,f.tree.root,!0),b.matrix&&f.matrix){t.fF.assertValue(b.matrix.rows,"source.matrix.rows"),t.fF.assertValue(b.matrix.rows.levels,"source.matrix.rows.levels"),t.fF.assertValue(f.matrix.rows,"segment.matrix.rows"),t.fF.assertValue(f.matrix.rows.levels,"segment.matrix.rows.levels"),t.fF.assertValue(b.metadata,"source.metadata"),t.fF.assertValue(b.metadata.columns,"source.metadata.columns"),t.fF.assertValue(f.metadata,"segment.metadata"),t.fF.assertValue(f.metadata.columns,"segment.metadata.columns");var g=b.matrix.rows.levels.length,S=f.matrix.rows.levels.length;if(g>S)_.remove(b.metadata.columns,function(M){return null!=M.index&&!_.some(f.metadata.columns,function(T){return T.index===M.index})}),b.metadata.columns.length=f.metadata.columns.length,function(b,f){var g=f.levels.length;b.levels.length=g,t.fF.assert(function(){return _.isEqual(b.levels,f.levels)},"Segments have different levels");var S=[];l(b.root.children,g-1,S);for(var y=0,C=S;y<C.length;y++)o(C[y])}(b.matrix.rows,f.matrix.rows);else if(g<S){for(var C=0,E=0,D=_.filter(f.metadata.columns,function(M){return null!=M.index&&!_.some(b.metadata.columns,function(T){return T.index===M.index})});E<D.length;E++){for(var P=D[E];C<b.metadata.columns.length&&(null==b.metadata.columns[C].index||b.metadata.columns[C].index<P.index);)C++;b.metadata.columns.splice(C,0,P)}!function(b,f){for(var g=f.levels.length,S=b.levels.length,y=S;y<g;y++)b.levels.push(f.levels[y]);t.fF.assert(function(){return _.isEqual(b.levels,f.levels)},"Segments have different levels");var C=[];l(b.root.children,S-1,C);for(var E=0,D=C;E<D.length;E++)a(D[E],S);(function(b,f){for(var g=b.root,S=0;S<f;S++)if(_.isEmpty(g.children)||(t.fF.assertValue(g=g.children[0],"Segment has fewer levels than expected"),!g.isMerge||g.isSubtotal))return!1;return!0})(f,S)&&delete _.last(C).children}(b.matrix.rows,f.matrix.rows)}m(b.matrix.rows.root,f.matrix.rows.root,g!==S)}}function V(b,f,g){if(g>=f.length)return f;var S=[];return void 0!==g&&(S=f.splice(0,g)),Array.prototype.push.apply(b,f),S}function m(b,f,g){if(t.fF.assertValue(b,"sourceRoot"),t.fF.assertValue(f,"segmentRoot"),f.children&&0!==f.children.length){if(g&&(!b.children||0===b.children.length))return void(b.children=f.children);t.fF.assert(function(){return b.children&&b.children.length>=0},"Source tree has different structure than segment.");var S=v(f.children),y=b.children[b.children.length-1],C=V(b.children,f.children,S);C.length>0&&m(y,C[C.length-1],g)}}function v(b){if(0===b.length)return 0;for(var f=0;f<b.length&&b[f].isMerge;f++);return f}function e(b,f){t.fF.assertValue(b,"dataViewMerger.pruneTree - root"),t.fF.assertNonEmpty(f,"dataViewMerger.pruneTree - Zero-depth index");for(var g,S=0,y=f;S<y.length;S++){var C=y[S];if(g=b.children,_.isEmpty(g))return!0;if(C>=g.length)return!1;g.length=C+1,b=_.last(g)}return!0}function h(b,f){var g=b.children;t.fF.assertNonEmpty(b.children,"Empty segment");for(var S=0,y=!0;!_.isEmpty(g);){var C=v(g);if(C>=g.length)y=!0;else{var E=g.length-C;y?void 0===f[S]?f[S]=E-1:f[S]+=E:f[S]=E-1,y=!1}g=_.last(g).children,S++}S<f.length&&(f.length=S)}function o(b){if(!_.isEmpty(b.children)){var f=_.find(b.children,function(g){return g.isSubtotal});f&&(b.values=f.values),delete b.children,delete b.childIdentityFields}}function a(b,f){b.isSubtotal||(t.fF.assert(function(){return b.level===f-1},"Leaf was found on a non-last level"),t.fF.assert(function(){return 0===_.size(b.children)},"Node has children"),b.children=[{isSubtotal:!0,level:f,values:b.values}],delete b.values)}function l(b,f,g){t.fF.assertValue(b,"nodes");for(var S=0,y=b;S<y.length;S++){var C=y[S];C.isSubtotal||(C.level===f?g.push(C):!_.isEmpty(C.children)&&void 0!==C.level&&C.level<f&&l(C.children,f,g))}}},161414:function(ze,K,r){r.d(K,{Y:function(){return e},dw:function(){return h},l0:function(){return v}});var t=r(226514),c=r(787941),i=r(166851),s=r(989516),p=r(19632),V=r(907453),m=r(448711),v=function(){function n(o,u,a){this.selector=n.ensureSelector(o),this.highlight=u,this._columnLevelKeys=new i.o(function(){if(o)return(0,s.AZ)(o,!1)}),this._identityLevelKeys=new i.o(function(){if(o)return(0,s.AZ)(o,!0)}),this.selectorsByColumn=a}return n.fromSelectorsByColumn=function(o){return new n((0,s.tV)(o),!1,o)},n.fromSelectorsByColumnAndRoles=function(o,u){var l=new n((0,s.tV)(o),!1,o);return l.role=u,l},n.prototype.equals=function(o){return this.selector&&o.selector?this.highlight===o.highlight&&(0,s.fS)(this.selector,o.selector):!this.selector==!o.selector&&this.highlight===o.highlight},n.isEqual=function(o,u){return o===u||null!=o&&null!=u&&o.equals(u)},n.prototype.includes=function(o,u,a){if(void 0===u&&(u=!1),void 0===a&&(a=!1),!o)return!1;var l=this.selector,d=o.selector;if(!l||!d)return!1;var b=l.data,f=d.data;if(!b&&l.metadata&&l.metadata!==d.metadata||!u&&this.highlight!==o.highlight)return!1;if(b){if(!f)return!1;if(b.length>0)for(var g=function(D,P){var M=b[D];if(a){var T=M.expr;if(!_.some(f,function(R){return(0,p.yz)(T,R)}))return{value:!1}}else if(!f.some(function(R){return(0,p.fS)(M,R)}))return{value:!1}},S=0,y=b.length;S<y;S++){var C=g(S);if("object"==typeof C)return C.value}}return!0},n.prototype.getKey=function(){return void 0===this._key&&(this._key="{selector: ".concat(this.selector?this.getSelectorKey():null,", highlight: ").concat(this.highlight,"}")),this._key},n.prototype.getDecomposedKeys=function(o){return o?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()},n.prototype.getKeyWithoutHighlight=function(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight="{selector: ".concat(this.selector?this.getSelectorKey():null,"}")),this._keyWithoutHighlight},n.prototype.hasIdentity=function(){return this.selector&&!!this.selector.data},n.prototype.getSelector=function(){return this.selector},n.prototype.getSelectorsByColumn=function(){return this.selectorsByColumn},n.prototype.getSelectorKey=function(){return void 0===this._selectorKey&&(this._selectorKey=(0,s.km)(this.selector)),this._selectorKey},n.createNull=function(o){return void 0===o&&(o=!1),new n(null,o)},n.createWithId=function(o,u){void 0===u&&(u=!1);var a=null;return o&&(a={data:[o]}),new n(a,u)},n.createWithMeasure=function(o,u){void 0===u&&(u=!1),c.fF.assertValue(o,"measureId");var l=new n({metadata:o},u);return l.selectorsByColumn={metadata:[o]},l},n.createWithIdAndMeasure=function(o,u,a){void 0===a&&(a=!1);var l={};return o&&(l.data=[o]),u&&(l.metadata=u),!o&&!u&&(l=null),new n(l,a)},n.createWithIdAndMeasureAndCategory=function(o,u,a,l,d){void 0===l&&(l=!1),void 0===d&&(d=[]);var b=this.createWithIdAndMeasure(o,u,l);return b.selector&&(b.selectorsByColumn={},o&&a&&(b.selectorsByColumn.dataMap={},b.selectorsByColumn.dataMap[a]=[o]),u&&(b.selectorsByColumn.metadata=[u]),_.isEmpty(d)||(b.selectorsByColumn.valueDetails=d)),b},n.createWithIds=function(o,u,a){void 0===a&&(a=!1);var l=null,d=n.idArray(o,u);return d&&(l={data:d}),new n(l,a)},n.createWithIdsAndMeasure=function(o,u,a,l){void 0===l&&(l=!1);var d={},b=n.idArray(o,u);return b&&(d.data=b),a&&(d.metadata=a),!o&&!u&&!a&&(d=null),new n(d,l)},n.createWithSelectorForColumnAndMeasure=function(o,u,a,l){void 0===a&&(a=!1),void 0===l&&(l=[]);var d={};return _.isEmpty(o)||(d.dataMap=o),u&&(d.metadata=[u]),!o&&!u&&(d=null),_.isEmpty(l)||(d.valueDetails=l),new n((0,s.tV)(d),a,d)},n.createWithSelectorForColumnAndMeasures=function(o,u,a,l){void 0===l&&(l=!1);var d={};return _.isEmpty(o)||(d.dataMap=o),_.isEmpty(u)||(d.metadata=u),a&&(d.valueDetails=a),!o&&_.isEmpty(u)&&(d=null),new n((0,s.tV)(d),l,d)},n.createWithHighlight=function(o){c.fF.assertValue(o,"original"),c.fF.assert(function(){return!o.highlight},"!original.highlight");var u=new n(o.getSelector(),!0);return u.selectorsByColumn=o.selectorsByColumn,u},n.idArray=function(o,u){if(o||u){var a=[];return o&&a.push(o),u&&u!==o&&a.push(u),a}},n.ensureSelector=function(o){return o&&o.data&&(o.data=_.uniqWith(o.data,s.cY)),o},n}();function e(n,o,u){var l,a=n.format;return{expr:n.expr,get formattedValue(){return void 0===l&&(l=(0,m.WU)(o,a)),l},value:o,identity:u,queryName:n.queryName}}var h=function(){function n(){}return n.builder=function(){return new n},n.prototype.withColumnIdentity=function(o,u,a){var l;return this.addItemToDataMap(u,o),a&&(this.ensureValueDetails(),(l=this.valueDetails).push.apply(l,a)),this},n.prototype.withCategoryIdentity=function(o,u,a){return o&&o.source&&o.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(e(o.source,o.values[u],o.identity[u])),this.addItemToDataMap(o.source.queryName,a)),this},n.prototype.withCategory=function(o,u,a,l){if(void 0===l&&(l=!1),(0,V.rX)(o)){if(l&&a)for(var d=0,b=o;d<b.length;d++)this.addCategoryValueDetails(b[d],u);o[0]&&a&&o[0].identity&&this.addItemToDataMap(a,o[0].identity[u])}else l&&this.addCategoryValueDetails(o,u),o&&o.source&&o.source.queryName&&o.identity&&this.addItemToDataMap(o.source.queryName,o.identity[u]);return this},n.prototype.addCategoryValueDetails=function(o,u){o&&o.source&&o.source.queryName&&o.identity&&(this.ensureValueDetails(),this.valueDetails.push(e(o.source,o.values[u],o.identity[u])))},n.prototype.withSeries=function(o,u,a){return void 0===a&&(a=!1),o&&o.source&&o.source.queryName&&u&&(a&&(0,V.F)(u)&&(this.ensureValueDetails(),this.valueDetails.push(e(o.source,u.name,u.identity))),this.addItemToDataMap(o.source.queryName,u.identity)),this},n.prototype.withMeasure=function(o,u,a){if(this.ensureMeasures(),null!=o&&this.measures.push(o),u&&u.source.queryName===o)if(this.ensureValueDetails(),a>=0)this.valueDetails.push(e(u.source,u.values[a],void 0));else for(var l=0,d=u.values;l<d.length;l++)this.valueDetails.push(e(u.source,d[l],void 0));return this},n.prototype.withMeasures=function(o){this.ensureMeasures();for(var u=0,a=o;u<a.length;u++)this.measures.push(a[u]);return this},n.prototype.createSelectionId=function(){return v.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)},n.prototype.clone=function(){var o=new n,u=this.dataMap;if(u){var a=o.dataMap={};for(var l in this.dataMap)a[l]=(0,t.__spreadArray)([],u[l]||[],!0)}return this.measures&&(o.measures=(0,t.__spreadArray)([],this.measures||[],!0)),o},n.prototype.ensureMeasures=function(){void 0===this.measures&&(this.measures=[])},n.prototype.ensureValueDetails=function(){void 0===this.valueDetails&&(this.valueDetails=[])},n.prototype.addItemToDataMap=function(o,u){if(u){this.dataMap||(this.dataMap={});var a=this.dataMap,l=a[o];if(null==l)return void(a[o]=[u]);l.push(u)}},n}()},44615:function(ze,K,r){r.d(K,{$s:function(){return oe},$t:function(){return R},$x:function(){return d},Bn:function(){return D},Gk:function(){return o},Hp:function(){return ie},Ig:function(){return C},J1:function(){return ue},Mu:function(){return Ae},R$:function(){return a},Sr:function(){return M},TI:function(){return u},U5:function(){return g},Um:function(){return Ze},Vn:function(){return B},W2:function(){return b},_6:function(){return X},_L:function(){return _e},a4:function(){return P},bO:function(){return le},dR:function(){return e},fv:function(){return it},gz:function(){return me},jS:function(){return E},lH:function(){return y},pV:function(){return qe},qP:function(){return l},tg:function(){return h},uT:function(){return be},vH:function(){return f},vf:function(){return S},ym:function(){return n}});var t=r(226514),c=r(456535),i=r(474147),s=r(787941),p=r(324356),V=r(998583),m=r(475615),v=r(597098);function e(J){return(0,p.m_)(h(J),J.aggregate)}function h(J){return(0,p.Oh)(u(J),J.name)}function n(J){return(0,p.m_)((0,p.Wp)(J.name,u(J),T(J.groupedColumns)),J.aggregate)}function o(J){return(0,p.Wp)(J.name,u(J),T(J.groupedColumns))}function u(J){return(0,p.nw)(J.schema,J.entity,J.entityVar)}function a(J){return(0,p.m_)(u(J),J.aggregate)}function l(J){var re=u(J.source),Ie=(0,p.yU)(re,J.variationName,J.source.name);return(0,p.bT)(Ie,J.hierarchy.name)}function d(J){var re=u(J.source),Ie=(0,p.yU)(re,J.variationName,J.source.name),ot=(0,p.bT)(Ie,J.level.name);return(0,p.os)(ot,J.level.level)}function b(J){return J.subqueryRef?(0,p.Oh)((0,p.v5)(J.subqueryRef),J.name):J.subquery?(0,p.Oh)((0,p.v5)(J.subquery),J.name):void 0}function f(J){return(0,p.m_)((0,p.Oh)((0,p.v5)(J.subqueryRef),J.name),J.aggregate)}function g(J){return(0,p.Oh)((0,p.GB)(J.transformTable.name),J.name)}function S(J){return(0,p.m_)(y(J),J.aggregate)}function y(J){return(0,p.os)(C(J),J.level)}function C(J){return(0,p.bT)(u(J),J.name)}function E(J){return(0,p.Y8)((0,V.B)(J.left),(0,V.B)(J.right),J.operator)}function D(J){return(0,p.kQ)(J.value,J.type)}function P(J){return(0,p.Zy)((0,V.B)(J.measure),_.map(J.grouping,function(re){return(0,V.B)(re)}))}function M(J){return new p.Wr(J.name,J.language,J.expression)}function T(J){return _.map(J,function(re){return(0,V.B)(re)})}var R=function(){function J(){}return J.prototype.visitColumn=function(re){return h(re)},J.prototype.visitColumnAggr=function(re){return e(re)},J.prototype.visitGroupingColumn=function(re){return o(re)},J.prototype.visitGroupingColumnAggr=function(re){return n(re)},J.prototype.visitColumnHierarchyVariation=function(re){return l(re)},J.prototype.visitColumnHierarchyLevelVariation=function(re){return d(re)},J.prototype.visitColumnSubquery=function(re){return b(re)},J.prototype.visitColumnAggrSubquery=function(re){return f(re)},J.prototype.visitColumnTransformRef=function(re){return g(re)},J.prototype.visitEntity=function(re){return u(re)},J.prototype.visitEntityAggr=function(re){return a(re)},J.prototype.visitHierarchy=function(re){return C(re)},J.prototype.visitHierarchyLevel=function(re){return y(re)},J.prototype.visitHierarchyLevelAggr=function(re){return S(re)},J.prototype.visitMeasure=function(re){return(0,p.mv)(this.visitEntity(re),re.name)},J.prototype.visitPercentile=function(re){var Ie=(0,V.B)(re.arg);return(0,p.Pe)(Ie,re.k,re.exclusive)},J.prototype.visitPercentOfGrandTotal=function(re){var Ie=(0,V.B)(re.baseExpr);return(0,p.Y8)(Ie,(0,p.ed)(Ie,[]),3)},J.prototype.visitPercentOfRoleTotal=function(re){var Ie=(0,V.B)(re.baseExpr);return(0,p.Y8)(Ie,(0,p.ed)(Ie,_.map(re.roles,function(ot){return(0,p.Wu)(ot)})),3)},J.prototype.visitSelectRef=function(re){return(0,p.xA)(re.expressionName)},J.prototype.visitTransformOutputRoleRef=function(re){return(0,p.hu)(re.expressionName)},J.prototype.visitFilteredEval=function(re){return(0,p.Xw)((0,V.B)(re.baseExpr),_.map(re.filters,function(Ie){return(0,m.SO)(Ie)}))},J.prototype.visitArithmetic=function(re){return E(re)},J.prototype.visitConstant=function(re){return D(re)},J.prototype.visitSparklineData=function(re){return P(re)},J.prototype.visitNativeVisualCalc=function(re){return M(re)},J.instance=new J,J}();function B(J,re){return s.fF.assertValue(J,"expr"),s.fF.assertValue(re,"visitor"),s.fF.assertValue(J,"expected sqExpr to conform to a fieldExprPattern"),J.column?function(J,re){return s.fF.assertValue(J,"column"),s.fF.assertValue(re,"visitor"),re.visitColumn(J)}(J.column,re):J.columnAggr?function(J,re){return s.fF.assertValue(J,"columnAggr"),s.fF.assertValue(re,"visitor"),re.visitColumnAggr(J)}(J.columnAggr,re):J.groupingColumn?function(J,re){return s.fF.assertValue(J,"column"),s.fF.assertValue(re,"visitor"),re.visitGroupingColumn(J)}(J.groupingColumn,re):J.groupingColumnAggr?function(J,re){return s.fF.assertValue(J,"columnAggr"),s.fF.assertValue(re,"visitor"),re.visitGroupingColumnAggr(J)}(J.groupingColumnAggr,re):J.columnHierarchyVariation?function(J,re){return s.fF.assertValue(J,"columnHierarchyVariation"),s.fF.assertValue(re,"visitor"),re.visitColumnHierarchyVariation(J)}(J.columnHierarchyVariation,re):J.columnHierarchyLevelVariation?function(J,re){return s.fF.assertValue(J,"columnHierarchyLevelVariation"),s.fF.assertValue(re,"visitor"),re.visitColumnHierarchyLevelVariation(J)}(J.columnHierarchyLevelVariation,re):J.columnSubquery?function(J,re){return s.fF.assertValue(J,"columnSubquery"),s.fF.assertValue(re,"visitor"),re.visitColumnSubquery(J)}(J.columnSubquery,re):J.columnAggrSubquery?function(J,re){return s.fF.assertValue(J,"columnAggrSubquery"),s.fF.assertValue(re,"visitor"),re.visitColumnAggrSubquery(J)}(J.columnAggrSubquery,re):J.columnTransformRef?function(J,re){return s.fF.assertValue(J,"columnTransformRef"),s.fF.assertValue(re,"visitor"),re.visitColumnTransformRef(J)}(J.columnTransformRef,re):J.entity?function(J,re){return s.fF.assertValue(J,"entity"),s.fF.assertValue(re,"visitor"),re.visitEntity(J)}(J.entity,re):J.entityAggr?function(J,re){return s.fF.assertValue(J,"entityAggr"),s.fF.assertValue(re,"visitor"),re.visitEntityAggr(J)}(J.entityAggr,re):J.hierarchy?function(J,re){return s.fF.assertValue(J,"hierarchy"),s.fF.assertValue(re,"visitor"),re.visitHierarchy(J)}(J.hierarchy,re):J.hierarchyLevel?function(J,re){return s.fF.assertValue(J,"hierarchyLevel"),s.fF.assertValue(re,"visitor"),re.visitHierarchyLevel(J)}(J.hierarchyLevel,re):J.hierarchyLevelAggr?function(J,re){return s.fF.assertValue(J,"hierarchyLevelAggr"),s.fF.assertValue(re,"visitor"),re.visitHierarchyLevelAggr(J)}(J.hierarchyLevelAggr,re):J.measure?function(J,re){return s.fF.assertValue(J,"measure"),s.fF.assertValue(re,"visitor"),re.visitMeasure(J)}(J.measure,re):J.percentile?function(J,re){return s.fF.assertValue(J,"percentile"),s.fF.assertValue(re,"visitor"),re.visitPercentile(J)}(J.percentile,re):J.percentOfGrandTotal?function(J,re){return s.fF.assertValue(J,"percentOfGrandTotal"),s.fF.assertValue(re,"visitor"),re.visitPercentOfGrandTotal(J)}(J.percentOfGrandTotal,re):J.percentOfRoleTotal?function(J,re){return s.fF.assertValue(J,"percentOfRoleTotal"),s.fF.assertValue(re,"visitor"),re.visitPercentOfRoleTotal(J)}(J.percentOfRoleTotal,re):J.selectRef?function(J,re){return s.fF.assertValue(J,"selectRef"),s.fF.assertValue(re,"visitor"),re.visitSelectRef(J)}(J.selectRef,re):J.transformOutputRoleRef?function(J,re){return s.fF.assertValue(J,"transformOutputRoleRef"),s.fF.assertValue(re,"visitor"),re.visitTransformOutputRoleRef(J)}(J.transformOutputRoleRef,re):J.filteredEval?function(J,re){return s.fF.assertValue(J,"filteredEval"),s.fF.assertValue(re,"visitor"),re.visitFilteredEval(J)}(J.filteredEval,re):J.arithmetic?function(J,re){return s.fF.assertValue(J,"arithmetic"),s.fF.assertValue(re,"visitor"),re.visitArithmetic(J)}(J.arithmetic,re):J.constant?function(J,re){return s.fF.assertValue(J,"constant"),s.fF.assertValue(re,"visitor"),re.visitConstant(J)}(J.constant,re):J.sparklineData?function(J,re){return s.fF.assertValue(J,"sparkline"),s.fF.assertValue(re,"visitor"),re.visitSparklineData(J)}(J.sparklineData,re):J.nativeVisualCalc?function(J,re){return s.fF.assertValue(J,"nativeVisualCalc"),s.fF.assertValue(re,"visitor"),re.visitNativeVisualCalc(J)}(J.nativeVisualCalc,re):void s.fF.assertFail("failed to visit a fieldExprPattern.")}function Ae(J){return(0,p.Oh)((0,p.nw)(J.schema,J.entity,J.entityVar),J.name)}function _e(J){return s.fF.assertValue(J,"fieldExpr"),B(J,Fe.instance)}function le(J){return s.fF.assertValue(J,"fieldExpr"),B(J,ee.instance)}function ie(J){var re=B(J,Ce.instance);return s.fF.assert(function(){return!re||1===_.size(re)},"If there are more than 1 property names, then use getPropertyNames instead"),null==re?void 0:re[0]}function me(J){return B(J,Ce.instance)}function oe(J){return J.columnHierarchyLevelVariation?J.columnHierarchyLevelVariation.source:J.column||J.groupingColumn||J.groupingColumnAggr||J.measure||J.columnAggr}function X(J){return ie(J)||Ze(J).entity}function ue(J){var re=function(J){s.fF.assertValue(J,"fieldExpr");var re=qe(J);return s.fF.assertAnyValue(re,"expected fieldExpr to be an entity item"),_.isEmpty(re)?void 0:_.map(re,function(Ie){return Ie.schema})}(J);return s.fF.assert(function(){return!re||1===_.size(re)},"If there are more than 1 schema, then use getSchemas instead"),null==re?void 0:re[0]}function Ze(J){var re=B(J,k.instance);return s.fF.assert(function(){return!re||1===_.size(re)},"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),null==re?void 0:re[0]}function qe(J){return B(J,k.instance)}function it(J){return s.fF.assertValue(J,"expr"),(0,c.lF)(J)&&(0,c.g5)(J.right)&&!_.isEmpty(J.right.scope)&&_.every(J.right.scope,function(re){return(0,c.yL)(re)})}function be(J,re){if(s.fF.assertValue(J,"expr"),!(0,c.lF)(J)||!(0,c.g5)(J.right))return!1;var Ie={percentOfGrandTotal:{baseExpr:J.left.accept(new v.P(re))}};return(0,i.fS)(J,(0,V.B)(Ie))}var Fe=function(){function J(){}return J.prototype.visitColumn=function(re){},J.prototype.visitColumnAggr=function(re){return re.aggregate},J.prototype.visitGroupingColumn=function(re){},J.prototype.visitGroupingColumnAggr=function(re){return re.aggregate},J.prototype.visitColumnHierarchyVariation=function(re){},J.prototype.visitColumnHierarchyLevelVariation=function(re){},J.prototype.visitColumnSubquery=function(re){},J.prototype.visitColumnAggrSubquery=function(re){return re.aggregate},J.prototype.visitColumnTransformRef=function(re){},J.prototype.visitEntity=function(re){},J.prototype.visitEntityAggr=function(re){return re.aggregate},J.prototype.visitHierarchy=function(re){},J.prototype.visitHierarchyLevel=function(re){},J.prototype.visitHierarchyLevelAggr=function(re){return re.aggregate},J.prototype.visitMeasure=function(re){},J.prototype.visitSelectRef=function(re){},J.prototype.visitPercentile=function(re){},J.prototype.visitPercentOfGrandTotal=function(re){return(0,p._L)((0,V.B)(re.baseExpr))},J.prototype.visitPercentOfRoleTotal=function(re){return(0,p._L)((0,V.B)(re.baseExpr))},J.prototype.visitTransformOutputRoleRef=function(re){},J.prototype.visitFilteredEval=function(re){return(0,p._L)((0,V.B)(re.baseExpr))},J.prototype.visitArithmetic=function(re){},J.prototype.visitConstant=function(re){s.fF.assertFail("FieldExprPattern - Not expecting to be called")},J.prototype.visitSparklineData=function(re){},J.prototype.visitNativeVisualCalc=function(re){},J.instance=new J,J}(),ee=function(){function J(){}return J.prototype.visitColumn=function(re){return h(re)},J.prototype.visitColumnAggr=function(re){return e(re)},J.prototype.visitGroupingColumn=function(re){return o(re)},J.prototype.visitGroupingColumnAggr=function(re){return n(re)},J.prototype.visitColumnHierarchyVariation=function(re){return l(re)},J.prototype.visitColumnHierarchyLevelVariation=function(re){return d(re)},J.prototype.visitColumnSubquery=function(re){return b(re)},J.prototype.visitColumnAggrSubquery=function(re){return f(re)},J.prototype.visitColumnTransformRef=function(re){return g(re)},J.prototype.visitEntity=function(re){return u(re)},J.prototype.visitEntityAggr=function(re){return a(re)},J.prototype.visitHierarchy=function(re){return C(re)},J.prototype.visitHierarchyLevel=function(re){return y(re)},J.prototype.visitHierarchyLevelAggr=function(re){return S(re)},J.prototype.visitMeasure=function(re){return(0,p.mv)(this.visitEntity(re),re.name)},J.prototype.visitSelectRef=function(re){return(0,p.xA)(re.expressionName)},J.prototype.visitPercentile=function(re){return B((0,v.Q)((0,V.B)(re.arg)),this)},J.prototype.visitPercentOfGrandTotal=function(re){return B((0,v.Q)((0,V.B)(re.baseExpr)),this)},J.prototype.visitPercentOfRoleTotal=function(re){return B((0,v.Q)((0,V.B)(re.baseExpr)),this)},J.prototype.visitTransformOutputRoleRef=function(re){return(0,p.hu)(re.expressionName)},J.prototype.visitFilteredEval=function(re){return B((0,v.Q)((0,V.B)(re.baseExpr)),this)},J.prototype.visitArithmetic=function(re){return E(re)},J.prototype.visitConstant=function(re){s.fF.assertFail("FieldExprPattern - Not expecting to be called")},J.prototype.visitSparklineData=function(re){return P(re)},J.prototype.visitNativeVisualCalc=function(re){return new p.Wr(re.name,re.language,re.expression)},J.instance=new J,J}(),k=function(){function J(){}return J.prototype.visitColumn=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitColumnAggr=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitGroupingColumn=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitGroupingColumnAggr=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitColumnHierarchyVariation=function(re){return[J.toEntityItemExprPattern(re.source)]},J.prototype.visitColumnHierarchyLevelVariation=function(re){return[J.toEntityItemExprPattern(re.source)]},J.prototype.visitColumnSubquery=function(re){},J.prototype.visitColumnAggrSubquery=function(re){},J.prototype.visitColumnTransformRef=function(re){},J.prototype.visitEntity=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitEntityAggr=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitHierarchy=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitHierarchyLevel=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitHierarchyLevelAggr=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitMeasure=function(re){return[J.toEntityItemExprPattern(re)]},J.prototype.visitSelectRef=function(re){},J.prototype.visitPercentile=function(re){return B(re.arg,this)},J.prototype.visitPercentOfGrandTotal=function(re){return B(re.baseExpr,this)},J.prototype.visitPercentOfRoleTotal=function(re){return B(re.baseExpr,this)},J.prototype.visitTransformOutputRoleRef=function(re){},J.prototype.visitFilteredEval=function(re){return B(re.baseExpr,this)},J.prototype.visitArithmetic=function(re){var Ie=B(re.left,this),ot=B(re.right,this),we=Ie&&ot?(0,t.__spreadArray)((0,t.__spreadArray)([],Ie,!0),ot,!0):null!=Ie?Ie:ot;return _.isEmpty(we)?void 0:we},J.prototype.visitConstant=function(re){},J.prototype.visitSparklineData=function(re){var Ie=this;return(0,t.__spreadArray)((0,t.__spreadArray)([],B(re.measure,this),!0),_.chain(re.grouping).map(function(ot){return B(ot,Ie)}).flatten().value(),!0)},J.prototype.visitNativeVisualCalc=function(re){},J.toEntityItemExprPattern=function(re){s.fF.assertValue(re,"exprPattern");var Ie={schema:re.schema,entity:re.entity};return re.entityVar&&(Ie.entityVar=re.entityVar),Ie},J.instance=new J,J}(),Ce=function(){function J(){}return J.prototype.visitColumn=function(re){return[re.name]},J.prototype.visitColumnAggr=function(re){return[re.name]},J.prototype.visitGroupingColumn=function(re){return[re.name]},J.prototype.visitGroupingColumnAggr=function(re){return[re.name]},J.prototype.visitColumnHierarchyVariation=function(re){},J.prototype.visitColumnHierarchyLevelVariation=function(re){},J.prototype.visitColumnSubquery=function(re){return[re.name]},J.prototype.visitColumnAggrSubquery=function(re){return[re.name]},J.prototype.visitColumnTransformRef=function(re){return[re.name]},J.prototype.visitEntity=function(re){},J.prototype.visitEntityAggr=function(re){},J.prototype.visitHierarchy=function(re){},J.prototype.visitHierarchyLevel=function(re){},J.prototype.visitHierarchyLevelAggr=function(re){},J.prototype.visitMeasure=function(re){return[re.name]},J.prototype.visitSelectRef=function(re){},J.prototype.visitPercentile=function(re){return B(re.arg,this)},J.prototype.visitPercentOfGrandTotal=function(re){return B(re.baseExpr,this)},J.prototype.visitPercentOfRoleTotal=function(re){return B(re.baseExpr,this)},J.prototype.visitTransformOutputRoleRef=function(re){},J.prototype.visitFilteredEval=function(re){return B(re.baseExpr,this)},J.prototype.visitArithmetic=function(re){var Ie=B(re.left,this),ot=B(re.right,this),we=Ie&&ot?(0,t.__spreadArray)((0,t.__spreadArray)([],Ie,!0),ot,!0):null!=Ie?Ie:ot;return _.isEmpty(we)?void 0:we},J.prototype.visitConstant=function(re){},J.prototype.visitSparklineData=function(re){var Ie=this;return(0,t.__spreadArray)((0,t.__spreadArray)([],B(re.measure,this),!0),_.chain(re.grouping).map(function(ot){return B(ot,Ie)}).flatten().value(),!0)},J.prototype.visitNativeVisualCalc=function(re){return[re.name]},J.instance=new J,J}()},998583:function(ze,K,r){r.d(K,{B:function(){return i}});var t=r(787941),c=r(44615);function i(s){var p=(0,c.Vn)(s,c.$t.instance);return t.fF.assertValue(p,"Failed to convert FieldExprPattern into SQExpr"),p}},597098:function(ze,K,r){r.d(K,{P:function(){return n},Q:function(){return h}});var t=r(226514),c=r(787941),i=r(13106),s=r(456535),p=r(116170),V=r(620006),m=r(474147),v=r(475615),e=r(998583);function h(a,l){return a.accept(new n(l))}var n=function(a){function l(d){var b=a.call(this)||this;return b.schema=d,b}return(0,t.__extends)(l,a),l.prototype.visitColumnRef=function(d){var b=d.source.accept(o.instance);if(b){if(b.entity){var f=b.entity;return f.name=d.ref,{column:f}}if(b.subquery)return b.subquery.variable?{columnSubquery:{name:d.ref,subqueryRef:b.subquery.variable}}:{columnSubquery:{name:d.ref,subquery:b.subquery.query}};if(b.transform)return{columnTransformRef:{name:d.ref,transformTable:b.transform}}}},l.prototype.visitMeasureRef=function(d){var b=d.source.accept(o.instance);if(b&&b.entity){var f=b.entity;return f.name=d.ref,{measure:f}}},l.prototype.visitEntity=function(d){var b={schema:d.schema,entity:d.entity};return d.variable&&(b.entityVar=d.variable),{entity:b}},l.prototype.visitAggr=function(d){var b=d.arg.accept(this);if(b){if(b.column)return(f=b.column).aggregate=d.func,{columnAggr:f};if(b.columnAggr)return(f=b.columnAggr).aggregate=d.func,{columnAggr:f};if(b.groupingColumn)return(f=b.groupingColumn).aggregate=d.func,{groupingColumnAggr:f};if(b.groupingColumnAggr)return(f=b.groupingColumnAggr).aggregate=d.func,{groupingColumnAggr:f};if(b.hierarchyLevel)return(f=b.hierarchyLevel).aggregate=d.func,{hierarchyLevelAggr:f};if(b.columnHierarchyLevelVariation)return(f=b.columnHierarchyLevelVariation.level).aggregate=d.func,{hierarchyLevelAggr:f};if(b.columnSubquery)return(f=b.columnSubquery).aggregate=d.func,{columnAggrSubquery:f}}var f,g=d.arg.accept(o.instance);if(g&&g.entity)return(f=g.entity).aggregate=d.func,{entityAggr:f}},l.prototype.visitPercentile=function(d){return{percentile:{arg:d.arg.accept(this),k:d.k,exclusive:d.exclusive}}},l.prototype.visitGroupRef=function(d){var b=d.source.accept(o.instance);if(b&&b.entity){var f=b.entity;f.name=d.ref,f.groupedColumns=[];for(var g=0,S=d.groupedExprs;g<S.length;g++){var C=S[g].accept(this);(C.column||C.groupingColumn||C.hierarchyLevel)&&f.groupedColumns.push(C)}return{groupingColumn:f}}},l.prototype.visitHierarchy=function(d){var b=d.arg.accept(o.instance);if(b){if(b.entity)return{hierarchy:{entity:b.entity.entity,name:d.hierarchy,schema:b.entity.schema}};if(b.variation&&b.variation.column){var f=b.variation;if((0,s.jc)(d.arg)){var g=d.arg;if((0,s.Lk)(g.arg)){var S=g.arg,y=this.schema.schema(f.column.schema).findTargetEntityOfVariation(S.entity,f.column.name,f.variationName);if(y)return{columnHierarchyVariation:{source:(0,t.__assign)({},f.column),hierarchy:{schema:f.column.schema,entity:y.name,name:d.hierarchy},variationName:b.variation.variationName}}}}}}},l.prototype.visitHierarchyLevel=function(d){var b=d.arg.accept(u.instance);if(b){var f;if(b.hierarchy&&(f={entity:b.hierarchy.entity,schema:b.hierarchy.schema,name:b.hierarchy.name,level:d.level}),b.variation){if(this.schema){var g=b.variation,S=this.schema.schema(b.variation.column.schema).findTargetEntityOfVariation(f.entity,g.column.name,g.variationName);S&&(f.entity=S.name)}return{columnHierarchyLevelVariation:{source:{entity:b.variation.column.entity,schema:b.variation.column.schema,name:b.variation.column.name},level:f,variationName:b.variation.variationName}}}return{hierarchyLevel:f}}},l.prototype.visitArithmetic=function(d){if(!(0,s.g5)(d.right))return{arithmetic:{left:d.left.accept(this),right:d.right.accept(this),operator:d.operator}};var b={percentOfGrandTotal:{baseExpr:d.left.accept(this)}};if((0,m.fS)(d,(0,e.B)(b)))return b;var f=d.right.scope;return!_.isEmpty(f)&&_.every(f,function(g){return(0,s.yL)(g)})?{percentOfRoleTotal:{baseExpr:d.left.accept(this),roles:_.map(f,function(g){return g.role})}}:void 0},l.prototype.visitSelectRef=function(d){return{selectRef:{expressionName:d.expressionName}}},l.prototype.visitTransformOutputRoleRef=function(d){return{transformOutputRoleRef:{expressionName:d.role}}},l.prototype.visitFilteredEval=function(d){var b=this,f=_.map(d.filters,function(g){var S=(0,v.zz)(i.yl.fromSQFromAndSQFilters(new V.cL,[g]),b.schema);if(S)return c.fF.assert(function(){return 1===S.length},"There are more than one filter pattern in this Semantic Filter"),S[0]});return{filteredEval:{baseExpr:d.expression.accept(this),filters:f}}},l.prototype.visitConstant=function(d){return{constant:{value:d.value,type:d.type}}},l.prototype.visitSparklineData=function(d){var b=this;return{sparklineData:{measure:d.measure.accept(this),grouping:_.map(d.grouping,function(f){return f.accept(b)})}}},l.prototype.visitNativeVisualCalc=function(d){return{nativeVisualCalc:{name:d.name,language:d.language,expression:d.expression}}},l}(p.vq),o=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return(0,t.__extends)(l,a),l.prototype.visitEntity=function(d){var b={schema:d.schema,entity:d.entity};return d.variable&&(b.entityVar=d.variable),{entity:b}},l.prototype.visitPropertyVariationSource=function(d){var b=d.arg;if((0,s.Lk)(b)){var f={schema:b.schema,entity:b.entity,name:d.property};return b.variable&&(f.entityVar=b.variable),{variation:{column:f,variationName:d.name}}}},l.prototype.visitSubqueryRef=function(d){return d.variable?{subquery:{variable:d.variable}}:{subquery:{query:d.query}}},l.prototype.visitTransformTableRef=function(d){return c.fF.assertValue(d,"expr"),c.fF.assertValue(d.source,"source"),{transform:{name:null==d?void 0:d.source}}},l.instance=new l,l}(p.vq),u=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return(0,t.__extends)(l,a),l.prototype.visitHierarchy=function(d){var f,g,b=d.arg.accept(o.instance);return b.variation?(f={name:d.hierarchy,schema:b.variation.column.schema,entity:b.variation.column.entity},g=b.variation):f={name:d.hierarchy,schema:b.entity.schema,entity:b.entity.entity},{hierarchy:f,variation:g}},l.instance=new l,l}(p.vq)},601139:function(ze,K,r){r.d(K,{C:function(){return s},_:function(){return p}});var t=r(226514),c=r(787941);function s(m){c.fF.assertValue(m,"expr");var v=new V;return m.accept(v),v.analyze()}function p(m){c.fF.assertValue(m,"expr");var v=new V;return m.accept(v),v.analyze().filterKind}var V=function(m){function v(){var e=m.call(this)||this;return e.entityExprs={},e.filterKind=0,e.isSubquery=!1,e}return(0,t.__extends)(v,m),v.prototype.analyze=function(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}},v.prototype.visitMeasureRef=function(e){this.filterKind=1,e.source.accept(this)},v.prototype.visitExists=function(e){this.filterKind=2,e.arg.accept(this)},v.prototype.visitAggr=function(e){this.filterKind=1,e.arg.accept(this)},v.prototype.visitSubqueryRef=function(e){this.isSubquery=!0},v.prototype.visitEntity=function(e){this.entityExprs[e.entity]=!0},v}(r(116170).PA)},475615:function(ze,K,r){r.d(K,{SO:function(){return o},Vn:function(){return d},kL:function(){return n},zz:function(){return a}});var t=r(456535),c=r(787941),i=r(648887),s=r(324356),p=r(983172),V=r(597098),m=r(998583),v=r(184776),e=r(211763),h=r(138030);function n(M){return void 0!==M.arg}function o(M){var T={condition:d(M,u.instance)};return _.isEmpty(M.target)||(T.target=_.map(M.target,function(R){return(0,m.B)(R)})),T}var u=function(){function M(){}return M.prototype.visitIn=function(T){return(0,s.Sh)(_.map(T.args,function(R){return(0,m.B)(R)}),_.map(T.values,function(R){return _.map(R,function(B){return(0,s.kQ)(B.value,B.type)})}))},M.prototype.visitBetween=function(T){if(T&&T.lower&&T.upper){var R=(0,s.uQ)(T.lower.unit,(0,s.CQ)(T.lower.value)),B=(0,s.uQ)(T.upper.unit,(0,s.CQ)(T.upper.value));return(0,s.vX)((0,m.B)(T.arg),R,B)}},M.prototype.visitRelativeDateRange=function(T){return(0,e.kW)({field:(0,m.B)(T.arg),options:T.options})},M.prototype.visitComposite=function(T){return null},M.prototype.visitTopN=function(T){return null},M.prototype.visitComplex=function(T){c.fF.assertFail("cannot recreate complex patterns as SQExprs")},M.prototype.visitAdvanced=function(T){},M.prototype.visitCompare=function(T){},M.prototype.visitHierarchical=function(T){},M.instance=new M,M}();function a(M,T){if(M){var R=M.where();if(R){var B=new l(T),N=M.from();return R.map(function(x){var A=B.tryMatchPattern(x,N);if(A){var I={condition:A};return _.isEmpty(x.target)||(I.target=_.map(x.target,function(w){return(0,V.Q)(w)})),I}})}}}var l=function(){function M(T){this.schema=T}return M.prototype.tryMatchPattern=function(T,R){var B;if(c.fF.assert(function(){return void 0!==T},"There is no SQFilter for this Semantic filter"),B=this.matchTopN(T,R))return B;var N=T&&T.condition;if(N){if((B=this.tryMatchExpr(N,2))||(B=this.tryMatchComplex(T,R)))return B;c.fF.assert(function(){return null==B},"There is no pattern that currently matches `expr`")}},M.prototype.tryMatchExpr=function(T,R){var B;if((B=this.matchBasicFilter(T))||(B=this.matchRelativeRange(T,i.wj.Date))||(B=this.matchRelativeRange(T,i.wj.Time))||(B=this.matchDateRange(T))||(B=this.matchAdvanced(T))||(B=this.matchCompareOperator(T))||1!==R&&(B=this.tryMatchHierarchical(T))||(B=this.matchComposite(T,R)))return B;c.fF.assert(function(){return null==B},"There is no pattern that currently matches `expr`")},M.prototype.tryMatchComplex=function(T,R){var B=(0,v.J_)(T,R);if(B)return{complex:{args:_.map(B.fieldsBeingFiltered,function(N){return(0,V.Q)(N)})}}},M.prototype.matchBasicFilter=function(T){var R=!1;if((0,t.Ym)(T)&&(R=!0,T=T.arg),(0,t.Hi)(T)&&!T.table&&T.values)return{in:{args:_.map(T.args,function(B){return(0,V.Q)(B)}),values:_.map(T.values,function(B){return _.map(B,function(N,x){return{value:N.value,type:N.type}})}),not:R}}},M.prototype.matchDateRange=function(T){if((0,t.Kh)(T)&&(0,t.dZ)(T.lower)&&(0,t.dZ)(T.upper))return{between:{arg:(0,V.Q)(T.arg),lower:{value:T.lower.arg.value,unit:T.lower.unit},upper:{value:T.upper.arg.value,unit:T.upper.unit}}}},M.prototype.matchTopN=function(T,R){if(T&&R){var B=(0,h.J_)(T,R);if(B)return{topN:{fieldBeingFiltered:(0,V.Q)(B.fieldBeingFiltered),isTop:B.isTop,itemCount:B.itemCount,orderByField:(0,V.Q)(B.orderByField)}}}},M.prototype.matchRelativeRange=function(T,R){var B=(0,e.ym)(T,R);if(B)return{relativeDateRange:{arg:(0,V.Q)(B.field),options:B.options}}},M.prototype.matchCompareOperator=function(T){var R=T,B=!1;if((0,t.Ym)(T)&&(R=T.arg,B=!0),(0,t.$Q)(R)||(0,t.IS)(R)||(0,t.f8)(R)){var N=this.getValuePattern(R.left,R.right);if(N)return{compareOperator:{arg:(0,V.Q)(R.left),filterOperator:this.mapFromSQExprKindToFilterOperator(R,B),condition:N}}}},M.prototype.getValuePattern=function(T,R){if((0,t.dZ)(R)){var B=R.arg;if((0,t.VC)(B))return{dateSpan:{value:B.value,unit:R.unit}}}if((0,t.VC)(R))return{constant:{value:R.value,type:R.type}};if((0,t.FU)(R)){var N=p.m.getDefaultValue(T,this.schema);return{defaultValue:{value:N.value,type:N.type}}}return(0,t.cw)(R)?{anyValue:{}}:void 0},M.prototype.matchAdvanced=function(T){if((0,t.un)(T)||(0,t.Z8)(T)){var R=(0,t.un)(T)?0:1,B=this.matchAdvanced(T.left)||this.matchCompareOperator(T.left);if(B){var N=this.matchAdvanced(T.right)||this.matchCompareOperator(T.right);if(N)return{advancedOperator:{logicalOperator:R,left:B.advancedOperator||B.compareOperator,right:N.advancedOperator||N.compareOperator}}}}},M.prototype.mapFromSQExprKindToFilterOperator=function(T,R){var N=0;switch(T.kind){case 12:N=R?6:5;break;case 14:N=R?8:7;break;case 13:var x=T;0===x.comparison?N=(0,t.VC)(x.right)&&null==x.right.value?R?12:11:(0,t.VC)(x.right)&&""===x.right.value?R?14:13:R?10:9:1===x.comparison?N=3:2===x.comparison?N=4:3===x.comparison?N=1:4===x.comparison&&(N=2);break;default:N=0}return N},M.prototype.tryMatchHierarchical=function(T){var x,A,R=[],B=[],N={hierarchical:{included:R,excluded:B}};if(T instanceof s.uV){if(x=this.tryGetHierarchicalNode(T.left,!1)||this.tryGetHierarchicalNode(T.right,!1),A=this.tryGetHierarchicalNode(T.left,!0)||this.tryGetHierarchicalNode(T.right,!0),!x||!A)return}else if(x=this.tryGetHierarchicalNode(T,!1),A=this.tryGetHierarchicalNode(T,!0),!x&&!A)return;return x&&!this.matchHierarchicalNode(x,!1,R)||A&&!this.matchHierarchicalNode(A,!0,B)?void 0:N},M.prototype.tryGetHierarchicalNode=function(T,R){if(R){if(T instanceof s.v3){if(T.arg instanceof s.Xg||T.arg instanceof s.uV)return T.arg}else if(T instanceof s.uV)return T}else if(T instanceof s.Cc||T instanceof s.Xg)return T},M.prototype.matchHierarchicalNode=function(T,R,B){if(T instanceof s.Xg)return this.matchHierarchicalExpr(T,R,B);var N=this.tryGetHierarchicalNode(T,R);if(!N)return!1;c.fF.assert(function(){return N instanceof s.Cc||N instanceof s.uV},".matchHierarchicalNode does not expect any other expr type");var x=N;return this.matchHierarchicalExpr(x.left,R,B)&&this.matchHierarchicalExpr(x.right,R,B)},M.prototype.matchHierarchicalExpr=function(T,R,B){if(T instanceof s.Xg){var N=this.matchBasicFilter(T);return!!N&&(B.push(N.in),N.in.not=R,!0)}return this.matchHierarchicalNode(T,R,B)},M.prototype.matchComposite=function(T,R){var B=!1;(0,t.Ym)(T)&&(B=!0,T=T.arg);var N=(0,t.Z8)(T);if((!N||0!==R)&&((0,t.Z8)(T)||(0,t.un)(T))){var x=N?1:0,A=this.tryMatchExpr(T.left,x),I=this.tryMatchExpr(T.right,x);if(A&&I)return{composite:{not:B,operator:x,filters:[A,I]}}}},M}();function d(M,T){c.fF.assertValue(M,"filterPattern"),c.fF.assertValue(T,"visitor");var R=M.condition;return R.in?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitIn(M)}(R.in,T):R.between?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitBetween(M)}(R.between,T):R.relativeDateRange?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitRelativeDateRange(M)}(R.relativeDateRange,T):R.compareOperator?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitCompare(M)}(R.compareOperator,T):R.advancedOperator?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitAdvanced(M)}(R.advancedOperator,T):R.composite?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitComposite(M)}(R.composite,T):R.topN?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitTopN(M)}(R.topN,T):R.complex?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitComplex(M)}(R.complex,T):R.hierarchical?function(M,T){return c.fF.assertValue(M,"pattern"),c.fF.assertValue(T,"visitor"),T.visitHierarchical(M)}(R.hierarchical,T):void c.fF.assertFail("Failed to visit filterPattern")}},988222:function(ze,K,r){r.d(K,{F8:function(){return u},Gl:function(){return e},Qq:function(){return v},Xz:function(){return o},oJ:function(){return h}});var t=r(226514),c=r(324356),i=r(19632),s=r(787941),p=r(116170),V=r(474147),m=r(883863);function v(b,f){var g=e(b,f,!1);if(g)return{isNot:_.some(g,function(S){return!S.selected}),scopeIds:[_.map(g,function(S){return S.identity})]}}function e(b,f,g){return void 0===g&&(g=!0),n(b,f,!1,g)}function h(b,f,g){return void 0===g&&(g=!0),n(b,f,!0,g)}function n(b,f,g,S){s.fF.assertValue(b,"filter"),s.fF.assertValue(f,"fieldSQExprs"),s.fF.assert(function(){return f.length>0},"There should be at least 1 field expression.");var y=b.conditions();s.fF.assert(function(){return 1===y.length},"There should be exactly 1 filter expression.");var C=y[0];if(C){var E=new a(f,S,C);if(C.accept(E))return g?E.getHierarchyResult():E.getResult()}}function o(b){s.fF.assertValue(b,"identity");var f=b.expr.accept(new l);if(f)return f.value}function u(b){return s.fF.assertValue(b,"identity"),b.expr.accept(new d)}var a=function(b){function f(g,S,y){var C,E,D=b.call(this)||this;D.supportsMultiLevelFilters=S,D.filter=y,D.isNot=!1,D.isAnd=!1,D.keyIndex=0,D.valueIndex=0,D.fieldExprs=[],D.groups=[],D.supportedGroups={};var P=0,M=0;D.values=[];for(var T=0,R=g;T<R.length;T++){var B=R[T];if(s.fF.assertNonEmpty(B,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(B)){var N=_.map(B,function(x){return(0,c.p7)(x)});D.supportedGroups[M+=B.length]=!0,(C=D.fieldExprs).push.apply(C,N||[]),(E=D.groups).push.apply(E,_.map(B,function(x){return P})),P++}}return D}return(0,t.__extends)(f,b),f.prototype.getResult=function(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})},f.prototype.getHierarchyResult=function(){return this.addScopeId(),this.toHierarchyScopeIdentityFilterNode(this.values)},f.prototype.toFilterNode=function(g,S){for(var y=[],C=0,E=g;C<E.length;C++){var D=E[C];y.push({identity:D.identity,selected:D.selected,checked:D.checked,children:_.isEmpty(D.children)?void 0:this.toFilterNode(D.children,S),index:D.checked?S.index++:void 0})}return y},f.prototype.toHierarchyScopeIdentityFilterNode=function(g){for(var S=[],y=0,C=g;y<C.length;y++){var E=C[y];S.push({identity:E.identity,operator:E.checked?E.selected?"Selected":"NotSelected":"Inherited",children:_.isEmpty(E.children)?void 0:this.toHierarchyScopeIdentityFilterNode(E.children)})}return S},f.getScopeIdentity=function(g,S){s.fF.assert(function(){return S.length>0},"valueExprs has at least one valueExpr"),s.fF.assert(function(){return S.length===g.length},"fieldExpr and valueExpr count should match");for(var y,C=0,E=g.length;C<E;C++){var D=(0,c.Dg)(g[C],S[C]);y=y?(0,c.xD)(y,D):D}return(0,i.TZ)(y)},f.prototype.visitOr=function(g){this.resetState();var S=g.left.accept(this);return this.resetState(),S&&g.right.accept(this)},f.prototype.visitAnd=function(g){if(this.supportsMultiLevelFilters){var S=!1;if((this.isNot&&(g.left instanceof c.uV||g.left instanceof c.Xg)&&(g.right instanceof c.Xg||g.right instanceof c.uV)||!this.isNot&&(g.left instanceof c.Cc||g.left instanceof c.Xg||g.left instanceof c.uV||g.left instanceof c.v3)&&(g.right instanceof c.Cc||g.right instanceof c.Xg||g.right instanceof c.uV||g.right instanceof c.v3)||(g.left instanceof c.wU||g.left instanceof c.uV)&&(g.right instanceof c.wU||g.right instanceof c.uV))&&(S=!0),S){var y=!1===this.isAnd;y&&this.resetState(),this.isAnd=!0;var C=g.left.accept(this)&&g.right.accept(this);return y&&(this.isAnd=!1),C}}return this.unsupportedSQExpr()},f.prototype.visitNot=function(g){this.isNot=!0;var S=g.arg.accept(this);return this.isNot=!1,S},f.prototype.visitConstant=function(g){return 0===this.keyIndex&&0===g.type.primitiveType?this.unsupportedSQExpr():(this.addValue(g),!0)},f.prototype.visitCompare=function(g){return this.keyIndex>0&&!this.supportsMultiLevelFilters||0!==g.comparison?this.unsupportedSQExpr():g.right instanceof c.iE||g.left.accept(this)&&g.right.accept(this)},f.prototype.visitIn=function(g){var S=this;if(!g.values)return!1;this.resetState();for(var y,C=0,E=g.args;C<E.length;C++)if(!(y=E[C].accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();for(var M=function(I){s.fF.assert(function(){return I.length===S.keyIndex},"keys count and values count should match");for(var w=0,F=I;w<F.length;w++)if(!(y=F[w].accept(T)))return{value:T.unsupportedSQExpr()}},T=this,R=0,B=g.values;R<B.length;R++){var x=M(B[R]);if("object"==typeof x)return x.value}return y},f.prototype.visitColumnRef=function(g){var S=(0,c.p7)(g),y=(0,V.fS)(this.fieldExprs[this.keyIndex],S);return this.keyIndex++,y},f.prototype.visitDefaultValue=function(g){return this.addValue(g),!0},f.prototype.visitAnyValue=function(g){return!0},f.prototype.visitDefault=function(g){return this.unsupportedSQExpr()},f.prototype.unsupportedSQExpr=function(){return!1},f.prototype.addValue=function(g){var S=this.valueIndex%this.keyIndex,y=this.groups[S];0===S?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(g)):this.currentNode.groupIndex===y?(this.currentNode.values.push(g),this.currentNode.columns.push(this.fieldExprs[S])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(g)),this.valueIndex++},f.prototype.addScopeId=function(){if(this.currentNode){var g=this.currentNode,S=this.parent&&this.parent.children||this.values,y=_.find(S,function(C){return(0,m.NF)(C.values,g.values,V.fS)});return y?g.checked&&!y.checked&&(y.selected=g.selected,y.checked=g.checked):(g.identity=f.getScopeIdentity(g.columns,g.values),S.push(g)),y||g}},f.prototype.createNode=function(g){var S=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[g],columns:[this.fieldExprs[S]],groupIndex:this.groups[S],identity:void 0}},f.prototype.resetState=function(){this.keyIndex=0,this.valueIndex=0},f}(p.vq),l=function(b){function f(){return null!==b&&b.apply(this,arguments)||this}return(0,t.__extends)(f,b),f.prototype.visitAnd=function(g){return g.left.accept(this)||g.right.accept(this)},f.prototype.visitCompare=function(g){if(0===g.comparison){if(g.right instanceof c.jz)return g.right;if(g.left instanceof c.jz)return g.left}},f}(p.vq),d=function(b){function f(){return null!==b&&b.apply(this,arguments)||this}return(0,t.__extends)(f,b),f.prototype.visitAnd=function(g){var S=[];return(S=S.concat(g.left.accept(this))).concat(g.right.accept(this))},f.prototype.visitCompare=function(g){if(0===g.comparison){var S=[];return g.right instanceof c.jz?S.push({expr:g.left,value:g.right.value}):g.left instanceof c.jz&&S.push({expr:g.right,value:g.left.value}),S}},f}(p.vq)},184776:function(ze,K,r){r.d(K,{J_:function(){return v}});var t=r(226514),c=r(474147),i=r(787941),s=r(13106),p=r(116170),V=r(597098),m=r(7681);function v(n,o){if(n){if(n instanceof s.yl){var u=n.conditions();return _.isEmpty(u)||u.length>1?void 0:e(n.from(),u[0])}return e(o,n.condition)}}function e(n,o){var u=new h;o.accept(u);var a={fieldsBeingFiltered:_.uniqWith(u.fieldsBeingFiltered,c.fS),isSubquery:!1};if(u.subqueryName){a.isSubquery=!0;var l=n.sources(),b=(0,m.K)(l&&l[u.subqueryName]);b&&(a.orderByField=b.orderByField,a.itemCount=b.itemCount,a.isTop=b.isTop)}return a}var h=function(n){function o(){var u=n.call(this)||this;return u.fieldsBeingFiltered=[],u}return(0,t.__extends)(o,n),o.prototype.visitColumnRef=function(u){this.fieldsBeingFiltered.push(u)},o.prototype.visitHierarchyLevel=function(u){this.fieldsBeingFiltered.push(u)},o.prototype.visitGroupRef=function(u){this.fieldsBeingFiltered.push(u)},o.prototype.visitSubqueryRef=function(u){u.variable?this.subqueryName=u.variable:i.fF.assertFail("SubqueryRef with a inlined subquery not expected here")},o.prototype.visitAggr=function(u){(0,V.Q)(u)&&this.fieldsBeingFiltered.push(u)},o.prototype.visitPropertyVariationSource=function(u){this.fieldsBeingFiltered.push(u)},o.prototype.visitMeasureRef=function(u){this.fieldsBeingFiltered.push(u)},o}(p.PA)},463446:function(ze,K,r){r.d(K,{VM:function(){return V},pi:function(){return s}});var t=r(456535),c=r(787941),i=r(289135);function s(n){if(n){var o=n.conditions();if(o&&1===o.length)return function(n){var o=new h;return o.tryParseCondition(n)?{field:o.field,options:o.options}:null}(o[0])}}function V(n){return e(n,1)}function e(n,o){var u={};if(null!=n.min){c.fF.assert(function(){return(0,i.M4)(n.min)},"Implementing DateWithEpochValue is needed for serialization");var a=(0,i.Fh)(n.min);a.setHours(0,0,0,0);var l=new Date(a.epochTimeStamp);l.setUTCHours(0,0,0,0),a.epochTimeStamp=l.getTime(),u.min=a}if(null!=n.max){c.fF.assert(function(){return(0,i.M4)(n.max)},"Implementing DateWithEpochValue is needed for serialization");var d=new Date(n.max.getFullYear(),n.max.getMonth(),n.max.getDate()+o);d.epochTimeStamp=Date.UTC(d.getFullYear(),d.getMonth(),d.getDate()),u.max=d}return u}var h=function(){function n(){}return n.prototype.tryParseCondition=function(o){return(0,t.un)(o)?this.tryParseAndCondition(o):!!(0,t.$Q)(o)&&this.tryParseCompareCondition(o)},n.prototype.tryParseAndCondition=function(o){var u=o;return!(!(0,t.$Q)(u.left)||!(0,t.$Q)(u.right))&&this.tryParseCompareCondition(u.left)&&this.tryParseCompareCondition(u.right)},n.prototype.tryParseCompareCondition=function(o){var u=o;return!(!(0,t.t3)(u.left)&&!(0,t.ez)(u.left))&&(this.field=u.left,this.options=this.options||{},this.tryParseNumericCompareCondition(u)||this.tryParseDateCompareCondition(u))},n.prototype.tryParseNumericCompareCondition=function(o){if(!(0,t.S9)(o.right))return!1;switch(o.comparison){case 0:this.options.min=o.right.value,this.options.max=o.right.value;break;case 1:case 2:this.options.min=o.right.value;break;case 3:case 4:this.options.max=o.right.value;break;default:return c.fF.assertNever(o.comparison),!1}return!0},n.prototype.tryParseDateCompareCondition=function(o){return(0,t.dZ)(o.right)&&o.right.arg&&(0,t.fU)(o.right.arg)?this.tryParseDateConstantCondition(o.comparison,o.right.arg):!!(0,t.fU)(o.right)&&this.tryParseDateConstantCondition(o.comparison,o.right)},n.prototype.parseDateValue=function(o){return(0,i.M4)(o)?o:(0,i.Fg)(new Date(o))},n.prototype.tryParseDateConstantCondition=function(o,u){switch(o){case 0:this.options.min=this.parseDateValue(u.value),this.options.max=this.parseDateValue(u.value);break;case 1:case 2:this.options.min=this.parseDateValue(u.value);break;case 3:this.options.max=this.parseDateValue(u.value),this.options=function(n){return e(n,-1)}(this.options);break;case 4:this.options.max=this.parseDateValue(u.value);break;default:return c.fF.assertNever(o),!1}return 3!==o&&(this.options=function(n){return e(n,0)}(this.options)),!0},n}()},211763:function(ze,K,r){r.d(K,{UX:function(){return o},hN:function(){return d},kW:function(){return e},nh:function(){return v},pi:function(){return a},ym:function(){return l}});var t=r(456535),c=r(474147),i=r(787941),s=r(648887),p=r(13106),V=r(324356),m=r(158519);function v(S){var y=e(S);return p.yl.fromSQExpr(y)}function e(S,y){void 0===y&&(y=!1);var C=S.field,E=S.options,D=null,P=(0,V.zO)();if(S.options.anchorDate&&!(0,s.Re)(E.relativeUnit)){var M=S.options.anchorDate;M.epochTimeStamp=Date.UTC(M.getFullYear(),M.getMonth(),M.getDate(),M.getHours(),M.getMinutes(),M.getSeconds(),M.getMilliseconds()),P=(0,V.CQ)(S.options.anchorDate)}var T=function(S){switch(S){case s.hU.CalendarYear:case s.hU.Year:return 3;case s.hU.CalendarMonth:case s.hU.Month:return 2;case s.hU.CalendarWeek:case s.hU.Week:return 1;case s.hU.Day:return 0;case s.hU.Hour:return 7;case s.hU.Minute:return 6;case s.hU.Second:return 5;default:return void i.fF.assertFail("Unsupported RelativeDateUnit")}}(E.relativeUnit),R=o(E.relativeUnit,y);switch(E.relativeQualifier){case s.KO.Current:var B=(0,V.uQ)(T,P);D=(0,V.qu)(0,C,B);break;case s.KO.Last:if(R)D=h(-E.duration,-1,T,P,C);else if((0,s.Re)(E.relativeUnit)){var N=P,x=(0,V.sO)(T,-E.duration,P);D=(0,V.vX)(C,x,N)}else{var A=E.includeToday?P:(0,V.sO)(0,-1,P);N=(0,V.uQ)(0,A),x=(0,V.uQ)(0,(0,V.sO)(T,-E.duration,(0,V.sO)(0,1,A))),D=(0,V.vX)(C,x,N)}break;case s.KO.Next:if(R)D=h(1,E.duration,T,P,C);else if((0,s.Re)(E.relativeUnit))x=P,N=(0,V.sO)(T,E.duration,P),D=(0,V.vX)(C,x,N);else{var I=E.includeToday?P:(0,V.sO)(0,1,P);x=(0,V.uQ)(0,I),N=(0,V.uQ)(0,(0,V.sO)(T,E.duration,(0,V.sO)(0,-1,I))),D=(0,V.vX)(C,x,N)}}return D}function h(S,y,C,E,D){var P=(0,V.uQ)(C,(0,V.sO)(C,S,E)),M=(0,V.uQ)(C,(0,V.sO)(C,y,E));return(0,V.vX)(D,P,M)}function o(S,y){switch(void 0===y&&(y=!1),S){case s.hU.Second:case s.hU.Minute:case s.hU.Hour:case s.hU.Year:case s.hU.Month:case s.hU.Week:return!1;case s.hU.Day:return y;case s.hU.CalendarYear:case s.hU.CalendarMonth:case s.hU.CalendarWeek:return!0;default:return void i.fF.assertFail("Unsupported RelativeDateUnit")}}function u(S,y){switch(S){case 0:return s.hU.Day;case 1:return y?s.hU.CalendarWeek:s.hU.Week;case 2:return y?s.hU.CalendarMonth:s.hU.Month;case 3:return y?s.hU.CalendarYear:s.hU.Year;case 7:return s.hU.Hour;case 6:return s.hU.Minute;case 5:return s.hU.Second;default:return}}function a(S,y){if(S){var C=S.conditions();if(C&&1===C.length)return l(C[0],y)}}function l(S,y){var C=new g(y);if(C.tryExtractParametersFrom(S))return{field:C.field,options:C.options}}function d(S){return!!S&&(!(!S.where()||!function(S){for(var y=new g(s.wj.Time),C=0,E=S;C<E.length;C++){var D=E[C];if(D.condition&&y.tryExtractParametersFrom(D.condition))return!0}return!1}(S.where()))||function(S){var y=S.sources();if(!y)return!1;for(var C=0,E=S.keys();C<E.length;C++){var P=y[E[C]];if((0,m.y)(P)&&P.subquery&&d(P.subquery))return!0}return!1}(S.from()))}var g=function(){function S(y){this.relativeFilterType=y}return S.prototype.tryExtractParametersFrom=function(y){return this.tryExtractCurrent(y)||this.tryExtractLastOrNext(y)},S.prototype.tryExtractCurrent=function(y){if((0,t.$Q)(y)){var C=y;if(((0,t.t3)(C.left)||(0,t.ez)(C.left))&&(this.field=C.left,(0,t.dZ)(C.right))){var E=C.right,D=s.t0.convertTimeUnitToRelativeFilterType(E.unit);if(this.relativeFilterType!==D)return!1;if(void 0!==u(E.unit,!1)&&((0,t.jr)(E.arg)||(0,t.fU)(E.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:s.KO.Current,relativeUnit:u(E.unit,!1)},(0,t.fU)(E.arg)&&(this.options.anchorDate=E.arg.value),this.validateOptions(y)))return!0}}return!1},S.prototype.tryExtractLastOrNext=function(y){if((0,t.Kh)(y)){var C=y;if((0,t.t3)(C.arg)||(0,t.ez)(C.arg))if(this.field=C.arg,(0,t.dZ)(C.upper)&&(0,t.dZ)(C.lower)){if(this.options=this.getOptionsFromDateSpan(C.lower,s.KO.Last),this.validateOptions(y)||(this.options=this.getOptionsFromDateSpan(C.upper,s.KO.Next),this.validateOptions(y)))return!0}else if((0,t.Ok)(C.upper)||(0,t.Ok)(C.lower)){var E=C.lower,D=C.upper;if(this.options=this.getOptionsFromDateAdd(E,E.unit,s.KO.Last),this.validateOptions(y)||(this.options=this.getOptionsFromDateAdd(D,D.unit,s.KO.Next),this.validateOptions(y)))return!0}}return!1},S.prototype.getOptionsFromDateSpan=function(y,C){if((0,t.dZ)(y))return this.getOptionsFromDateAdd(y.arg,y.unit,C)},S.prototype.getOptionsFromDateAdd=function(y,C,E){if((0,t.Ok)(y)){var D=y,P=s.t0.convertTimeUnitToRelativeFilterType(D.unit);if(this.relativeFilterType!==P)return;var M=C===D.unit&&0!==C,T=!!M||this.getIncludeToday(D.arg),R=this.getAnchorDate(D);switch(E){case s.KO.Last:if(D.amount<0)return{duration:-D.amount,includeToday:T,relativeQualifier:E,relativeUnit:u(D.unit,M),anchorDate:R};break;case s.KO.Next:if(D.amount>0)return{duration:D.amount,includeToday:T,relativeQualifier:E,relativeUnit:u(D.unit,M),anchorDate:R}}}},S.prototype.getAnchorDate=function(y){for(var C=y;(0,t.Ok)(C);)C=C.arg;if((0,t.fU)(C))return C.value},S.prototype.getIncludeToday=function(y){if((0,t.Ok)(y)){var C=y;return(0,t.jr)(C.arg)||(0,t.fU)(C.arg)}return!1},S.prototype.validateOptions=function(y){if(!this.field||!this.options)return!1;var C={field:this.field,options:this.options};return(0,c.fS)(y,e(C))||this.options.relativeUnit===s.hU.Day&&!this.options.includeToday&&(0,c.fS)(y,e(C,!0))},S}()},217926:function(ze,K,r){r.d(K,{Cj:function(){return a},Dh:function(){return h},FD:function(){return n},J2:function(){return o},KX:function(){return e},RR:function(){return v},aL:function(){return l},lZ:function(){return u}});var t=r(226514),c=r(456535),i=r(474147),s=r(883863),p=r(787941),V=r(324356),m=r(116170);function v(g){var S=new l;return g.accept(S),S.malformed?null:(0,s.rm)(S.keys)}function e(g){var S=new l;return g.accept(S),S.malformed?null:(0,s.rm)(S.values)}function h(g){var S=new l;return g.accept(S),S.malformed?null:(0,s.rm)(S.pairs)}function n(g){if((0,c.Hi)(g))return g;var S=new l;if(g.accept(S),!S.malformed){var y=(0,s.rm)(S.keys),C=(0,s.rm)(S.values);if(y&&C)return(0,V.Sh)(y,[C])}}function o(g,S){p.fF.assertValue(g,"expr"),p.fF.assertNonEmpty(S,"subsetFieldExprs");var y=new d(S);return g.accept(y),y.getResult()}function u(g,S){if(!S||!g)return[];var y=new f(g);return S.accept(y),y.getValues()}function a(g){var S=new b;return g.accept(S),!!S.containsSelectRef}var l=function(g){function S(){var y=null!==g&&g.apply(this,arguments)||this;return y.keys=[],y.values=[],y.pairs=[],y}return(0,t.__extends)(S,g),S.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},S.prototype.visitCompare=function(y){0===y.comparison?(p.fF.assert(function(){return y.left instanceof V.Il&&y.right instanceof V.jz},"invalid compare expr operands"),this.pairs.push(y),y.left.accept(this),y.right.accept(this)):this.visitDefault(y)},S.prototype.visitIn=function(y){for(var C=0,E=y.args;C<E.length;C++)E[C].accept(this);for(var P=0,M=y.values;P<M.length;P++)for(var R=0,B=M[P];R<B.length;R++)B[R].accept(this)},S.prototype.visitSelectRef=function(y){this.keys.push(y)},S.prototype.visitColumnRef=function(y){this.keys.push(y)},S.prototype.visitGroupRef=function(y){this.keys.push(y)},S.prototype.visitHierarchyLevel=function(y){this.keys.push(y)},S.prototype.visitConstant=function(y){this.values.push(y)},S.prototype.visitArithmetic=function(y){this.keys.push(y)},S.prototype.visitDefault=function(y){this.malformed=!0},S}(m.vq),d=function(g){function S(y){var C=g.call(this)||this;return p.fF.assertNonEmpty(y,"identityFieldExprs"),C.identityFieldExprs=y,C.identityComparisonExprs=[],C.identityComparisonExprCount=0,C}return(0,t.__extends)(S,g),S.prototype.getResult=function(){var y=this;if(p.fF.assert(function(){return y.identityComparisonExprCount===_.filter(y.identityComparisonExprs,function(M){return!!M}).length},"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){for(var C,E=0,D=this.identityComparisonExprs;E<D.length;E++){var P=D[E];C=C?(0,V.xD)(C,P):P}return C}},S.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},S.prototype.visitCompare=function(y){if(0===y.comparison){var C=_.findIndex(this.identityFieldExprs,function(E){return(0,i.fS)(y.left,E)});C>=0&&!this.identityComparisonExprs[C]&&(this.identityComparisonExprs[C]=y,this.identityComparisonExprCount++)}else this.visitDefault(y)},S.prototype.visitDefault=function(y){this.malformed=!0},S}(m.vq),b=function(g){function S(){return null!==g&&g.apply(this,arguments)||this}return(0,t.__extends)(S,g),S.prototype.visitSelectRef=function(y){this.containsSelectRef=!0},S}(m.PA),f=function(g){function S(y){var C=g.call(this)||this;return C.targetExpr=y,C.orderedValues=[],C}return(0,t.__extends)(S,g),S.prototype.getValues=function(){return _.uniq(this.orderedValues)},S.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},S.prototype.visitOr=function(y){y.left.accept(this),y.right.accept(this)},S.prototype.visitCompare=function(y){0===y.comparison&&(y.right instanceof V.Wh&&(0,i.fS)(y.right,this.targetExpr)&&y.left instanceof V.jz&&this.orderedValues.push(y.left.value),y.left instanceof V.Wh&&(0,i.fS)(y.left,this.targetExpr)&&y.right instanceof V.jz&&this.orderedValues.push(y.right.value))},S.prototype.visitIn=function(y){var C=-1;if(!y.table){for(var E=0;E<y.args.length;E++)if((0,i.fS)(y.args[E],this.targetExpr)){C=E;break}if(-1!==C)for(var D=0,P=y.values;D<P.length;D++){var T=P[D][C];T instanceof V.jz&&this.orderedValues.push(T.value)}}},S}(m.vq)},7681:function(ze,K,r){r.d(K,{K:function(){return V}});var t=r(226514),c=r(158519),i=r(787941),s=r(116170),p=r(597098);function V(v){if(v&&(0,c.y)(v)){var e=v.subquery.orderBy();if(!e||1!==e.length)return;var h=e[0],n=new m;return n.visitOrderBy(h.expr)?{orderByField:n.orderByField,isTop:2===h.direction,itemCount:v.subquery.top()}:void 0}}var m=function(v){function e(){var h=v.call(this)||this;return h.orderByField=null,h}return(0,t.__extends)(e,v),e.prototype.visitOrderBy=function(h){return h.accept(this,0)},e.prototype.visitAggr=function(h,n){return 0===n&&(i.fF.assertValue((0,p.Q)(h),"expected field pattern"),this.orderByField=h,!0)},e.prototype.visitMeasureRef=function(h,n){return 0===n&&(this.orderByField=h,!0)},e}(s.Ml)},138030:function(ze,K,r){r.d(K,{J_:function(){return e},VK:function(){return h}});var t=r(226514),c=r(787941),i=r(13106),s=r(324356),p=r(116170),V=r(620006),m=r(158519),v=r(7681);function e(a,l){if(a){if(a instanceof i.yl){var d=a.conditions();return c.fF.assertValue(d,"conditions"),c.fF.assert(function(){return 1===d.length},"should be exactly one filter condition for a TopN filter"),n(a.from(),d[0])}return n(l,a.condition)}}function h(a){var l=function(a){var l=new V.cL,d=i.cX.rewrite(a.fieldBeingFiltered,null,l),b=i.cX.rewrite(a.orderByField,null,l);return i.vQ.createWith({from:l,orderBy:[{expr:b,direction:a.isTop?2:1}],select:[{name:"field",expr:d}],top:a.itemCount})}(a),d=new V.vd(l),b=new V.cL,f=b.ensureSource(d,"subquery"),g=(0,s.dY)([a.fieldBeingFiltered],(0,s.v5)(f.name));return i.yl.fromSQFromAndSQExpr(b,g)}function n(a,l){c.fF.assertValue(a,"from"),c.fF.assertValue(l,"condition");var d=new u;if(d.visitCondition(l)){var b=a.sources(),f=b&&b[d.subqueryName],g=(0,v.K)(f);if(g&&(0,m.y)(f))return{fieldBeingFiltered:d.fieldBeingFiltered,isTop:g.isTop,itemCount:f.subquery.top(),orderByField:g.orderByField}}}var u=function(a){function l(){var d=a.call(this)||this;return d.fieldBeingFiltered=null,d.subqueryName=null,d}return(0,t.__extends)(l,a),l.prototype.visitCondition=function(d){return d.accept(this,0)},l.prototype.visitIn=function(d,b){return!!(0===b&&d.args&&1===d.args.length&&d.args[0].accept(this,1)&&d.table&&d.table.accept(this,2))},l.prototype.visitColumnRef=function(d,b){return 1===b&&(this.fieldBeingFiltered=d,!0)},l.prototype.visitHierarchyLevel=function(d,b){return 1===b&&(this.fieldBeingFiltered=d,!0)},l.prototype.visitGroupRef=function(d,b){return 1===b&&(this.fieldBeingFiltered=d,!0)},l.prototype.visitSubqueryRef=function(d,b){return 2===b&&(d.variable?this.subqueryName=d.variable:c.fF.assertFail("SubqueryRef with a direct subquery not expected here"),!0)},l}(p.Ml)},588659:function(ze,K,r){r.d(K,{k:function(){return e}});var t=r(44615),c=r(597098),i=r(998583),s=r(226514),p=r(787941),V=r(324356),v=function(n){function o(u){var a=this;return p.fF.assertValue(u,"func"),(a=n.call(this)||this).func=u,a}return(0,s.__extends)(o,n),o.prototype.visitAggr=function(u){return u.func===this.func?u:new V.v0(u.arg,this.func)},o.prototype.visitColumnRef=function(u){return new V.v0(u,this.func)},o.prototype.visitGroupRef=function(u){return new V.v0(u,this.func)},o.prototype.visitHierarchyLevel=function(u){return new V.v0(u,this.func)},o.rewrite=function(u,a){p.fF.assertValue(u,"expr"),p.fF.assertValue(a,"func");var l=new o(a);return u.accept(l)},o}(r(954617).p);function e(n,o){return h.rewrite(n,o)}var h=function(){function n(o,u){this.sqExpr=o,this.aggregate=u}return n.rewrite=function(o,u){return(0,t.Vn)((0,c.Q)(o),new n(o,u))},n.prototype.visitPercentOfGrandTotal=function(o){return o.baseExpr=(0,c.Q)(v.rewrite((0,i.B)(o.baseExpr),this.aggregate)),(0,i.B)({percentOfGrandTotal:o})},n.prototype.visitPercentOfRoleTotal=function(o){return o.baseExpr=(0,c.Q)(v.rewrite((0,i.B)(o.baseExpr),this.aggregate)),(0,i.B)({percentOfRoleTotal:o})},n.prototype.visitFilteredEval=function(o){return o.baseExpr=(0,c.Q)(v.rewrite((0,i.B)(o.baseExpr),this.aggregate)),(0,i.B)({filteredEval:o})},n.prototype.visitColumn=function(o){return this.defaultRewrite()},n.prototype.visitColumnAggr=function(o){return this.defaultRewrite()},n.prototype.visitGroupingColumn=function(o){return this.defaultRewrite()},n.prototype.visitGroupingColumnAggr=function(o){return this.defaultRewrite()},n.prototype.visitColumnHierarchyVariation=function(o){return this.defaultRewrite()},n.prototype.visitColumnHierarchyLevelVariation=function(o){return this.defaultRewrite()},n.prototype.visitColumnSubquery=function(o){return this.defaultRewrite()},n.prototype.visitColumnAggrSubquery=function(o){return this.defaultRewrite()},n.prototype.visitColumnTransformRef=function(o){return this.defaultRewrite()},n.prototype.visitSelectRef=function(o){return this.defaultRewrite()},n.prototype.visitEntity=function(o){return this.defaultRewrite()},n.prototype.visitEntityAggr=function(o){return this.defaultRewrite()},n.prototype.visitHierarchy=function(o){return this.defaultRewrite()},n.prototype.visitHierarchyLevel=function(o){return this.defaultRewrite()},n.prototype.visitHierarchyLevelAggr=function(o){return this.defaultRewrite()},n.prototype.visitMeasure=function(o){return this.defaultRewrite()},n.prototype.visitPercentile=function(o){return this.defaultRewrite()},n.prototype.visitTransformOutputRoleRef=function(o){return this.defaultRewrite()},n.prototype.visitArithmetic=function(o){return this.defaultRewrite()},n.prototype.visitConstant=function(o){return this.defaultRewrite()},n.prototype.visitSparklineData=function(o){return this.defaultRewrite()},n.prototype.visitNativeVisualCalc=function(o){return this.defaultRewrite()},n.prototype.defaultRewrite=function(){return v.rewrite(this.sqExpr,this.aggregate)},n}()},435795:function(ze,K,r){r.d(K,{n:function(){return m}});var t=r(226514),c=r(44615),i=r(597098),s=r(998583),p=r(954617),V=r(787941);function m(h,n){return e.rewrite(h,n)}var v=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return(0,t.__extends)(n,h),n.prototype.visitAggr=function(o){return o.arg},n.rewrite=function(o){return V.fF.assertValue(o,"expr"),o.accept(n.instance)},n.instance=new n,n}(p.p),e=function(){function h(n){this.sqExpr=n}return h.rewrite=function(n,o){return(0,c.Vn)((0,i.Q)(n,o),new h(n))},h.prototype.visitPercentOfGrandTotal=function(n){return h.rewrite((0,s.B)(n.baseExpr))},h.prototype.visitPercentOfRoleTotal=function(n){return h.rewrite((0,s.B)(n.baseExpr))},h.prototype.visitFilteredEval=function(n){return h.rewrite((0,s.B)(n.baseExpr))},h.prototype.visitColumn=function(n){return this.defaultRewrite()},h.prototype.visitColumnAggr=function(n){return this.defaultRewrite()},h.prototype.visitGroupingColumn=function(n){return this.defaultRewrite()},h.prototype.visitGroupingColumnAggr=function(n){return this.defaultRewrite()},h.prototype.visitColumnHierarchyVariation=function(n){return this.defaultRewrite()},h.prototype.visitColumnHierarchyLevelVariation=function(n){return this.defaultRewrite()},h.prototype.visitColumnSubquery=function(n){return this.defaultRewrite()},h.prototype.visitColumnAggrSubquery=function(n){return this.defaultRewrite()},h.prototype.visitColumnTransformRef=function(n){return this.defaultRewrite()},h.prototype.visitSelectRef=function(n){return this.defaultRewrite()},h.prototype.visitEntity=function(n){return this.defaultRewrite()},h.prototype.visitEntityAggr=function(n){return this.defaultRewrite()},h.prototype.visitHierarchy=function(n){return this.defaultRewrite()},h.prototype.visitHierarchyLevel=function(n){return this.defaultRewrite()},h.prototype.visitHierarchyLevelAggr=function(n){return this.defaultRewrite()},h.prototype.visitMeasure=function(n){return this.defaultRewrite()},h.prototype.visitPercentile=function(n){return this.defaultRewrite()},h.prototype.visitTransformOutputRoleRef=function(n){return this.defaultRewrite()},h.prototype.visitArithmetic=function(n){return this.defaultRewrite()},h.prototype.visitConstant=function(n){return this.defaultRewrite()},h.prototype.visitSparklineData=function(n){return this.defaultRewrite()},h.prototype.visitNativeVisualCalc=function(n){return this.defaultRewrite()},h.prototype.defaultRewrite=function(){return v.rewrite(this.sqExpr)},h}()},880787:function(ze,K,r){r.d(K,{F:function(){return V}});var t=r(226514),c=r(334048),i=r(324356),s=r(620006),p=r(883863),V=function(m){function v(e){var h=m.call(this)||this;return h.query=e,h.hasRewrites=!1,h}return(0,t.__extends)(v,m),v.prototype.visitSubqueryRef=function(e){if(!e.query)return e;var n=new v(e.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var o=new s.vd(n),u=this.mergedFrom.ensureSource(o);return this.hasRewrites=!0,(0,i.v5)(u.name)},Object.defineProperty(v.prototype,"didRewrite",{get:function(){return this.hasRewrites},enumerable:!1,configurable:!0}),v.prototype.rewrite=function(){var e=this,h=this.query.select(),n=(0,p.z8)((0,p.UU)(h,function(o){var u=o.expr.accept(e);return u===o.expr?o:{name:o.name,expr:u}}));return n===h?this.query:this.query.createModified({from:this.mergedFrom,select:n})},v}(c.b)},230762:function(ze,K,r){r.d(K,{CI:function(){return n},O7:function(){return h},Wv:function(){return e},_L:function(){return m},fL:function(){return v},tx:function(){return V}});var t=r(787941),c=r(289135),i=/'/g,s=/\.000$/;function V(o){return t.fF.assertValue(o,"value"),o+"D"}function m(o){return t.fF.assertValue(o,"value"),o+"L"}function v(o){return t.fF.assertValue(o,"value"),"'"+o.replace(i,"''")+"'"}function e(){return"null"}function h(o){return o?"true":"false"}function n(o,u){if(null===o)return"null";switch(u.primitiveType){case 4:return t.fF.assert(function(){return _.isString(o)||_.isNumber(o)},"Expected either a string or number value to encode for type ".concat(u)),o+"L";case 2:return t.fF.assert(function(){return _.isString(o)||_.isNumber(o)},"Expected either a string or number value to encode for type ".concat(u)),o+"M";case 3:return t.fF.assert(function(){return _.isString(o)||_.isNumber(o)},"Expected either a string or number value to encode for type ".concat(u)),o+"D";case 7:case 6:var l=void 0;return o instanceof Date?(l=(0,c.M4)(o)?new Date(o.epochTimeStamp).toISOString():new Date(o.getTime()-6e4*o.getTimezoneOffset()).toISOString(),_.endsWith(l,"Z")&&(l=l.substr(0,l.length-1)),l=l.replace(s,"")):(t.fF.assert(function(){return _.isString(o)},"Expected a string or a Date value for type ".concat(u)),l=o),"datetime'".concat(l,"'");case 1:return t.fF.assert(function(){return _.isString(o)},"Expected a string value to encode for type ".concat(u)),v(o);case 5:return t.fF.assert(function(){return _.isBoolean(o)},"Expected boolean values for type ".concat(u)),h(o);case 13:return t.fF.assert(function(){return _.isString(o)},"Expected string values to encode for type ".concat(u)),o;default:t.fF.assertFail("unsupported dsrValue for type ".concat(u))}}},13106:function(ze,K,r){r.d(K,{cX:function(){return M},yl:function(){return P},vQ:function(){return D},Je:function(){return E},RD:function(){return x},d3:function(){return A}});var t=r(226514),c=r(883863),i=r(787941),s=r(261374),p=r(601139),V=r(324356),m=r(334048),v=r(116170),e=r(620006),h=r(158519),o=r(456535),u=r(474147),a=r(450802),l=r(690016),d=r(174197);function b(w,F,O){i.fF.assertValue(w,"namedItems");for(var L={},W=0,U=w.length;W<U;W++)L[w[W].name]=!0;return(0,l.zE)(L,O||(0,d.L)(F))}var f=r(374952),S=function(w){function F(){return null!==w&&w.apply(this,arguments)||this}return(0,t.__extends)(F,w),F.prototype.visitCompare=function(O){return 0===O.comparison&&O.right.accept(this)},F.prototype.visitAnd=function(O){return O.left.accept(this)&&O.right.accept(this)},F.prototype.visitAnyValue=function(O){return!0},F.prototype.visitDefault=function(O){return!1},F.instance=new F,F}(v.vq),y=r(444119),C=r(331115),E=function(){function w(F){this.exprRewriter=F}return w.rewriteFrom=function(F,O){for(var L,W=F,U=W.keys(),j=0,z=U.length;j<z;j++){var G=U[j],te=W.source(G),Q=te.accept(O,G);(te!==Q||L)&&(L||(L=_.pick(W.sources(),U.slice(0,j))),L[G]=Q)}return L?new e.cL(L):W},w.prototype.rewriteFrom=function(F){return w.rewriteFrom(F,new e.Ww(this.exprRewriter))},w.prototype.rewriteSelect=function(F,O){return i.fF.assertValue(F,"selectItems"),i.fF.assertValue(O,"from"),this.rewriteNamedSQExpressions(F,O)},w.prototype.rewriteGroupBy=function(F,O){if(i.fF.assertAnyValue(F,"groupByitems"),i.fF.assertValue(O,"from"),!_.isEmpty(F))return this.rewriteNamedSQExpressions(F,O)},w.prototype.rewriteNamedSQExpressions=function(F,O){var L=this;return i.fF.assertValue(F,"expressions"),_.map(F,function(W){return{name:W.name,expr:M.rewrite(W.expr.accept(L.exprRewriter),O,O),nativeReferenceName:W.nativeReferenceName}})},w.prototype.rewriteOrderBy=function(F,O){if(i.fF.assertAnyValue(F,"orderByItems"),i.fF.assertValue(O,"from"),!_.isEmpty(F)){for(var L=[],W=0,U=F.length;W<U;W++){var j=F[W],z=M.rewrite(j.expr.accept(this.exprRewriter),O,O);L.push({direction:j.direction,expr:z})}return L}},w.prototype.rewriteWhere=function(F,O){var L=this;if(i.fF.assertAnyValue(F,"whereItems"),i.fF.assertValue(O,"from"),!_.isEmpty(F)){for(var W=[],U=0,j=F.length;U<j;U++){var z=F[U],G={condition:M.rewrite(z.condition.accept(this.exprRewriter),O,O)};z.target&&(G.target=_.map(z.target,function(te){return M.rewrite(te.accept(L.exprRewriter),O,O)})),z.annotations&&(G.annotations=z.annotations),W.push(G)}return W}},w.prototype.rewriteTransform=function(F,O){var L=this;if(i.fF.assertAnyValue(F,"transformItems"),i.fF.assertAnyValue(O,"from"),!_.isEmpty(F)){for(var W=[],U=0,j=F;U<j.length;U++){var z=j[U],G=void 0;z.input.table&&!_.isEmpty(z.input.table.columns)&&(G=_.map(z.input.table.columns,function(Q){return{role:Q.role,expression:{name:Q.expression.name,expr:M.rewrite(Q.expression.expr.accept(L.exprRewriter),O,O)}}}));var te={name:z.name,algorithm:z.algorithm,input:{parameters:z.input.parameters},output:z.output};z.input.table&&(te.input.table={name:z.input.table.name,columns:G}),W.push(te)}return W}},w}(),D=function(){function w(F,O,L,W,U,j,z){i.fF.assertValue(F,"from"),i.fF.assertValue(W,"select"),this.fromValue=F,this.whereItems=O,this.orderByItems=L,this.selectItems=W,this.groupByItems=U,this.transformItems=j,null!=z&&(this.topValue=z)}return w.create=function(){return w.empty||(w.empty=new w(new e.cL,null,null,[],null,null,null)),w.empty},w.createWith=function(F,O){return i.fF.assertValue(F,"clauses"),O||(F=w.normalize(F)),new w(F.from,F.where,F.orderBy,F.select,F.groupBy,F.transforms,F.top)},w.prototype.createModified=function(F){return w.createWith({from:void 0!==F.from?F.from:this.fromValue,where:void 0!==F.where?F.where:this.whereItems,transforms:void 0!==F.transforms?F.transforms:this.transformItems,orderBy:void 0!==F.orderBy?F.orderBy:this.orderByItems,select:void 0!==F.select?F.select:this.selectItems,groupBy:void 0!==F.groupBy?F.groupBy:this.groupByItems,top:void 0!==F.top?F.top:this.topValue})},w.normalize=function(F){var O={clauses:{from:F.from,where:F.where,orderBy:F.orderBy,select:F.select,groupBy:F.groupBy,transforms:F.transforms,top:F.top},usedSourceNames:{}};return w.removeUnreferencedKeys(O),w.renameSources(O),w.renameSourcesInSubqueries(O),O.clauses},w.removeUnreferencedKeys=function(F){var O=F.clauses,L=O.from,W=O.where,U=O.orderBy,j=O.select,z=O.groupBy,G=O.transforms,te=new T(L.keys());if(W)for(var Q=0,H=W.length;Q<H;Q++){var de=W[Q];de.condition.accept(te);var Y=de.target;if(Y)for(var se=0,ce=Y.length;se<ce;se++)Y[se]&&Y[se].accept(te)}if(G)for(Q=0,H=G.length;Q<H;Q++){var pe=G[Q].input.table;if(pe&&!_.isEmpty(pe.columns))for(var ve=0,De=pe.columns;ve<De.length;ve++)De[ve].expression.expr.accept(te)}if(U)for(Q=0,H=U.length;Q<H;Q++)U[Q].expr.accept(te);for(Q=0,H=j.length;Q<H;Q++)j[Q].expr.accept(te);if(z)for(Q=0,H=z.length;Q<H;Q++)z[Q].expr.accept(te);var je=te.result();if(je){for(var Ae=L.clone(),_e=0,le=je;_e<le.length;_e++)Ae.remove(le[_e]);F.clauses.from=Ae}},w.renameSources=function(F){var O=F.clauses.from,L=O.renameSources(F.usedSourceNames);L!==O&&(F.clauses.from=L,w.rewriteClauses(F.clauses,new M(O,L)))},w.renameSourcesInSubqueries=function(F){F.clauses.from=B.renameSources(w.renameSourcesInQuery,F.clauses.from,F.usedSourceNames)},w.renameSourcesInQuery=function(F,O){var L={clauses:F.getClauses(),usedSourceNames:O},W=L.clauses.from;return w.renameSources(L),w.renameSourcesInSubqueries(L),L.clauses.from===W?F:w.createWith(L.clauses)},w.prototype.from=function(F){return F?this.createModified({from:F}):this.fromValue.clone()},w.prototype.select=function(F){return _.isEmpty(arguments)?this.getSelect():this.setSelect(F)},w.prototype.getSelect=function(){return w.createNamedExpressionArray(this.selectItems)},w.createNamedExpressionArray=function(F){return(0,c.z8)(_.map(F,function(O){return{name:O.name,expr:O.expr,nativeReferenceName:O.nativeReferenceName}}))},w.prototype.setSelect=function(F){var O=this.fromValue.clone(),L=w.rewriteExpressionsWithSourceRenames(F,O);return this.createModified({from:O,select:L})},w.rewriteExpressionsWithSourceRenames=function(F,O){for(var L=[],W=0,U=F.length;W<U;W++){var j=F[W];L.push({name:j.name,expr:M.rewrite(j.expr,null,O)})}return L},w.prototype.removeSelect=function(F){i.fF.assertValue(F,"expr");for(var O=this.selectItems,L=[],W=0,U=O.length;W<U;W++){var j=O[W];(0,u.fS)(j.expr,F)||L.push(j)}return this.createModified({select:L})},w.prototype.removeOrderBy=function(F){for(var O=this.orderBy(),L=O.length-1;L>=0;L--)(0,u.fS)(O[L].expr,F)&&O.splice(L,1);return this.createModified({orderBy:O})},w.prototype.removeTransform=function(F){for(var O=this.transforms(),L=0,W=O.length;L<W;L++)if(O[L].name===F.name){O.splice(L,1);break}return this.createModified({transforms:O})},w.prototype.selectNameOf=function(F){var O;return null===(O=this.getSelectFor(F))||void 0===O?void 0:O.name},w.prototype.selectNativeReferenceNameOf=function(F){var O;return null===(O=this.getSelectFor(F))||void 0===O?void 0:O.nativeReferenceName},w.prototype.getSelectFor=function(F){var O=(0,a.p)(this.selectItems,F);if(O>=0)return this.selectItems[O]},w.prototype.setSelectAt=function(F,O,L){if(i.fF.assertValue(O,"expr"),!(F>=this.selectItems.length)){var W=this.select(),U=this.fromValue.clone(),z=null!=L?L:W[F].nativeReferenceName;return W[F]={name:W[F].name,expr:M.rewrite(O,null,U),nativeReferenceName:z},this.createModified({from:U,select:W})}},w.prototype.addSelect=function(F,O,L){i.fF.assertValue(F,"expr");var W=this.select(),U=this.fromValue.clone();return W.push(this.createNamedExpr(W,U,F,O,L)),this.createModified({from:U,select:W})},w.prototype.setNativeReferenceNameAt=function(F,O){var L=this;i.fF.assert(function(){return 0<=F&&F<L.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[F].nativeReferenceName=O},w.prototype.getNativeReferenceNameAt=function(F){var O=this;return i.fF.assert(function(){return 0<=F&&F<O.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[F].nativeReferenceName},w.prototype.getNativeReferenceNames=function(F){var O=this.selectItems.map(function(L){return L.nativeReferenceName});return F?_.filter(O,function(L){return!(0,s.g)(L)}):O},w.prototype.createNamedExpr=function(F,O,L,W,U){return{name:b(F,L,W),expr:M.rewrite(L,O,O),nativeReferenceName:U}},w.prototype.groupBy=function(F){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(F)},w.prototype.getGroupBy=function(){return w.createNamedExpressionArray(this.groupByItems)},w.prototype.setGroupBy=function(F){var O=this.fromValue.clone(),L=w.rewriteExpressionsWithSourceRenames(F,O);return this.createModified({from:O,groupBy:L})},w.prototype.addGroupBy=function(F){i.fF.assertValue(F,"expr");var O=this.groupBy(),L=this.fromValue.clone();return O.push(this.createNamedExpr(O,L,F)),this.createModified({from:L,groupBy:O})},w.prototype.orderBy=function(F){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(F)},w.prototype.getOrderBy=function(){var F=[],O=this.orderByItems;if(O)for(var L=0,W=O.length;L<W;L++){var U=O[L];F.push({expr:U.expr,direction:U.direction})}return F},w.prototype.setOrderBy=function(F){i.fF.assertValue(F,"values");for(var O=[],L=this.fromValue.clone(),W=0,U=F.length;W<U;W++){var j=F[W];O.push({expr:M.rewrite(j.expr,L,L),direction:j.direction})}return this.createModified({from:L,orderBy:O})},w.prototype.where=function(F,O){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],F,O)},w.prototype.getWhere=function(){var F=[],O=this.whereItems;if(O)for(var L=0,W=O.length;L<W;L++)F.push(O[L]);return F},w.prototype.setWhere=function(F,O,L){i.fF.assertValue(F,"existingFilters"),i.fF.assertValue(O,"newFilters");for(var W=_.clone(F),U=this.fromValue.clone(),j=0,z=O;j<z.length;j++){var G=z[j],te={condition:M.rewrite(G.condition,L,U)};G.target&&(te.target=_.map(G.target,function(Q){return M.rewrite(Q,L,U)})),G.annotations&&(te.annotations=G.annotations),W.push(te)}return this.createModified({from:U,where:W})},w.prototype.addWhere=function(F,O){return this.setWhere(this.where(),F,O)},w.prototype.addSemanticFilter=function(F){return i.fF.assertValue(F,"filter"),this.setWhere(this.where(),F.where(),F.from())},w.prototype.transforms=function(F){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(F)},w.prototype.getTransforms=function(){var F=[];if(!_.isEmpty(this.transformItems))for(var O=0,L=this.transformItems;O<L.length;O++)F.push(L[O]);return F},w.prototype.setTransforms=function(F){for(var O=this,L=this.fromValue.clone(),W=[],U=0,j=F;U<j.length;U++){var z=j[U],G=void 0;z.input.table&&!_.isEmpty(z.input.table.columns)&&(G=_.map(z.input.table.columns,function(Q){return{role:Q.role,expression:O.createNamedExpr((0,c.z8)([]),L,Q.expression.expr,Q.expression.name)}}));var te={name:z.name,algorithm:z.algorithm,input:{parameters:z.input.parameters},output:z.output};z.input.table&&(te.input.table={name:z.input.table.name,columns:G}),W.push(te)}return this.createModified({from:L,transforms:F})},w.prototype.top=function(F){return _.isEmpty(arguments)?this.topValue:this.setTop(F)},w.prototype.setTop=function(F){return i.fF.assert(function(){return null==F||F>0},"if top is specified, it must be positive"),this.createModified({top:F})},w.prototype.rewrite=function(F){var O=this.getClauses();return w.rewriteClauses(O,F),this.createModified(O)},w.prototype.hasVisualCalculations=function(){for(var F=0,O=this.selectItems;F<O.length;F++)if((0,o.jX)(O[F].expr))return!0;return!1},w.prototype.getClauses=function(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}},w.rewriteClauses=function(F,O){var L=new E(O);F.from=L.rewriteFrom(F.from),F.where=L.rewriteWhere(F.where,F.from),F.orderBy=L.rewriteOrderBy(F.orderBy,F.from),F.select=L.rewriteSelect(F.select,F.from),F.groupBy=L.rewriteGroupBy(F.groupBy,F.from),F.transforms=L.rewriteTransform(F.transforms,F.from)},w.willFiltersAffectQuery=function(F){return i.fF.assertValue(F,"query"),new R(F).willFilterAffectQuery()},w}(),P=function(){function w(F,O){i.fF.assertValue(F,"from"),i.fF.assertValue(O,"where"),this.fromValue=F,this.whereItems=O}return w.fromSQExpr=function(F){return w.fromSQFromAndSQExpr(new e.cL,F)},w.fromSQFromAndSQExpr=function(F,O){return i.fF.assertValue(F,"from"),i.fF.assertValue(O,"condition"),new w(F,[{condition:M.rewrite(O,F,F)}])},w.fromSQFromAndSQFilters=function(F,O){return new w(F,O)},w.clone=function(F){return w.fromSQFromAndSQFilters(F.from(),F.where())},w.fromMeasureFilters=function(F,O,L){i.fF.assertValue(F,"query"),i.fF.assert(function(){return!_.isEmpty(O)},"measureFilters not empty"),i.fF.assert(function(){return _.every(O,function(pe){return 1===(0,p._)(pe.condition)})},"Require measure filter");for(var W,U=[],j=F.where(),z=function(ve){var De=_.find(j,function(We){return(0,u.fS)(We.condition,ve.condition)});if(!De||!De.target)return{value:void 0};W=W||De.target,i.fF.assert(function(){return function(){for(var We=0;We<W.length;We++)if(!(0,u.fS)(W[We],De.target[We]))return!1;return!0}()},"Expected targets to be the same."),U.push(De)},G=0,te=O;G<te.length;G++){var H=z(te[G]);if("object"==typeof H)return H.value}var de=_.filter(j,function(pe){return 1!==(0,p._)(pe.condition)}),Y=_.map(W,function(pe){return _.find(F.select(),function(ve){return(0,u.fS)(pe,ve.expr)})});L&&Y.push.apply(Y,this.getMeasuresForJoinPredicates(F,L)||[]);var se=D.createWith({from:F.from(),select:Y,where:(0,t.__spreadArray)((0,t.__spreadArray)([],de||[],!0),U||[],!0)});return A(w.fromMeasuresQuery(se,W),F)},w.fromMeasuresQuery=function(F,O){var L=new e.vd(F),W=new e.cL,U=W.ensureSource(L,"subquery"),j=(0,V.dY)(O,(0,V.v5)(U.name)),z=M.rewrite(j,W,W),G=[];return G.push({condition:z}),w.fromSQFromAndSQFilters(W,G)},w.getDefaultValueFilter=function(F){return w.getDataViewScopeIdentityComparisonFilters(F,(0,V.LS)())},w.getAnyValueFilter=function(F){return w.getDataViewScopeIdentityComparisonFilters(F,(0,V.n7)())},w.getDefaultAnyValueFilter=function(F,O){if(_.isEmpty(F))return w.getAnyValueFilter(O);if(_.isEmpty(O))return w.getDefaultValueFilter(F);var L=Array.apply(null,Array(F.length)).map(function(){return(0,V.LS)()}),W=Array.apply(null,Array(F.length)).map(function(){return(0,V.n7)()}),U=(0,C.R)(F,L),j=(0,C.R)(O,W),z=(0,V.xD)(U,j);return w.fromSQExpr(z)},w.getDataViewScopeIdentityComparisonFilters=function(F,O){if(i.fF.assertValue(F,"fieldSQExprs"),i.fF.assertValue(O,"value"),F instanceof Array){var L=Array.apply(null,Array(F.length)).map(function(){return O});return w.fromSQExpr((0,C.R)(F,L))}return w.fromSQExpr((0,V.Dg)(F,O))},w.prototype.from=function(){return this.fromValue.clone()},w.prototype.conditions=function(){for(var F=[],O=this.whereItems,L=0,W=O.length;L<W;L++)F.push(O[L].condition);return F},w.prototype.where=function(){for(var F=[],O=this.whereItems,L=0,W=O.length;L<W;L++)F.push(O[L]);return F},w.prototype.rewrite=function(F){var O=new E(F),L=O.rewriteFrom(this.fromValue);return new w(L,O.rewriteWhere(this.whereItems,L))},w.prototype.validate=function(F,O,L){var W=new V._R(F,O,L);return this.rewrite(W),W.errors},w.merge=function(F){if(_.isEmpty(F))return null;if(1===F.length)return F[0];for(var O=F[0],L=O.from(),W=(0,c.qn)(O.whereItems,O.whereItems.length),U=1,j=F.length;U<j;U++)w.applyFilter(F[U],L,W);return new w(L,W)},w.unmerge=function(F){for(var O=[],L=0,W=F.whereItems;L<W.length;L++){var j=new w(F.fromValue,[W[L]]);Object.keys(j.from().sources()).length>1&&(j=w.removeUnreferencedKeys(j)),O.push(j)}return O},w.removeUnreferencedKeys=function(F){var O=F.from(),L=F.where(),W=new T(O.keys());if(L)for(var U=0,j=L.length;U<j;U++){var z=L[U];z.condition.accept(W);var G=z.target;if(G)for(var te=0,Q=G.length;te<Q;te++)G[te]&&G[te].accept(W)}var H=W.result();if(H){for(var de=0,Y=H;de<Y.length;de++)O.remove(Y[de]);return new w(O,L)}},w.getMeasuresForJoinPredicates=function(F,O){for(var L=F.select(),W=[],U=function(te){var Q=L[te];if((0,f.k)(Q.expr)){if(_.some(O.SuppressedJoinPredicates,function(H){return H===te}))return"continue";(j.isSelectProjected(O.Primary,te)||j.isSelectProjected(O.Secondary,te))&&W.push(Q)}},j=this,z=0;z<L.length;z++)U(z);return W},w.isSelectProjected=function(F,O){if(F&&F.Groupings)for(var L=0,W=F.Groupings;L<W.length;L++){var U=W[L];if(_.some(U.Projections,function(j){return j===O})&&!_.some(U.SuppressedProjections,function(j){return j===O}))return!0}return!1},w.isDefaultFilter=function(F){return!(!F||1!==F.where().length)&&(0,y.F)(F.where()[0].condition)},w.isAnyFilter=function(F){return!(!F||1!==F.where().length)&&function(w){return i.fF.assertValue(w,"expr"),w.accept(S.instance)}(F.where()[0].condition)},w.isSameFilter=function(F,O){return F===O||!!(F&&O&&F.from().equals(O.from())&&(0,c.NF)(F.where(),O.where(),function(L,W){return(0,u.Me)(L,W)}))&&!(w.isDefaultFilter(F)&&w.isAnyFilter(O)||w.isAnyFilter(F)&&w.isDefaultFilter(O))},w.isInFilter=function(F){return!(!F||1!==F.where().length)&&(0,o.Hi)(F.where()[0].condition)},w.applyFilter=function(F,O,L){i.fF.assertValue(F,"filter"),i.fF.assertValue(O,"from"),i.fF.assertValue(L,"where");for(var U=0,j=F.whereItems;U<j.length;U++){var z=j[U],G={condition:M.rewrite(z.condition,F.fromValue,O)};z.target&&(G.target=_.map(z.target,function(te){return M.rewrite(te,F.fromValue,O)})),L.push(G)}},w.prototype.setIgnoreMParameter=function(){for(var O=0,L=this.whereItems;O<L.length;O++){var W=L[O];W.annotations||(W.annotations={}),W.annotations["PowerBI.MParameterBehavior"]=1}},w}(),M=function(w){function F(O,L){var W=this;return i.fF.assertValue(L,"destinationFrom"),(W=w.call(this)||this).sourceFrom=O,W.destinationFrom=L,W}return(0,t.__extends)(F,w),F.prototype.visitEntity=function(O){var L=this.destinationFrom.source(O.variable);if(L&&(0,e.$r)(L)&&L.schema===O.schema&&L.entity===O.entity)return O;var W=this.destinationFrom.ensureSource(new e.SX(O.schema,O.entity),O.variable);return W.name!==O.variable?new V.PN(O.schema,O.entity,W.name):O},F.prototype.visitSubqueryRef=function(O){if(!this.sourceFrom)return i.fF.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),O;var L=this.sourceFrom.source(O.variable);if(!L)return O;var W=this.destinationFrom.source(O.variable);if(W&&(0,h.y)(W)&&(0,u.C6)(L.subquery,W.subquery))return O;var U=this.destinationFrom.ensureSource(new e.vd(L.subquery),O.variable);return U.name!==O.variable?new V.wb(U.name):O},F.prototype.visitNamedQueryRef=function(O){var L=this.destinationFrom.source(O.variable);if(L&&(0,e.Ms)(L)&&(0,u.fS)(L.expr,O))return O;var U=this.destinationFrom.ensureSource(new e.Qo(O),O.variable);return U.name!==O.variable?new V.nz(O.queryName,U.name):void 0},F.rewrite=function(O,L,W){i.fF.assertValue(O,"expr"),i.fF.assertValue(W,"destinationFrom");var U=new F(L,W);return O.accept(U)},F}(m.b),T=function(w){function F(O){var L=this;return i.fF.assertValue(O,"keys"),(L=w.call(this)||this).keys=O,L}return(0,t.__extends)(F,w),F.prototype.visitEntity=function(O){this.removeKey(O.variable)},F.prototype.visitSubqueryRef=function(O){this.removeKey(O.variable)},F.prototype.visitNamedQueryRef=function(O){this.removeKey(O.variable)},F.prototype.removeKey=function(O){var L=this.keys.indexOf(O);L>=0&&this.keys.splice(L,1)},F.prototype.result=function(){return this.keys},F}(v.PA),R=function(w){function F(O){var L=w.call(this)||this;return L.query=O,L.containsEntityRefs=!1,L.containsSubqueries=!1,L}return(0,t.__extends)(F,w),F.prototype.visitEntity=function(O){this.containsEntityRefs=!0},F.prototype.visitPropertyVariationSource=function(O){this.containsEntityRefs=!0},F.prototype.visitSubqueryRef=function(O){this.containsSubqueries=!0},F.prototype.willFilterAffectQuery=function(){for(var L=0,W=this.query.select();L<W.length;L++)W[L].expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)},F}(v.PA),B=function(){function w(F,O,L){this.renameSources=F,this.from=O,this.usedSourceNames=L,i.fF.assertValue(F,"renameSources"),i.fF.assertValue(O,"from"),i.fF.assertValue(L,"usedSourceNames")}return w.renameSources=function(F,O,L){var W=new w(F,O,L);return E.rewriteFrom(O,W)},w.prototype.visitEntity=function(F,O){return F},w.prototype.visitPod=function(F,O){return F},w.prototype.visitSubquery=function(F,O){var L=F.subquery,W=this.renameSources(L,this.usedSourceNames);return W===L?F:new e.vd(W)},w.prototype.visitExpr=function(F,O){return F},w}();function x(w,F){var O=w.from(),L=O,W=P.merge(F);return O===(L=I.ensureFiltersInSubqueries(L,W.where(),W.from()))?w:P.fromSQFromAndSQFilters(L,w.where())}function A(w,F){var O=_.filter(_.map(F.select(),function(j){return j.expr}),function(j){return!(0,f.k)(j)});if(_.isEmpty(O))return w;var L=_.map(O,function(j){return{condition:(0,V.Dg)(j,(0,V.n7)(!0))}}),W=w.from(),U=I.ensureFiltersInSubqueries(W,L,W);return W===U?w:P.fromSQFromAndSQFilters(U,w.where())}var I=function(){function w(F,O){this.filtersToEnsure=F,this.filtersToEnsureFrom=O,this.modifiedSubquery=!1,i.fF.assertNonEmpty(F,"expected filters to ensure exist in each subquery")}return w.ensureFiltersInSubqueries=function(F,O,L){var W=new w(O,L),U=E.rewriteFrom(F,W);return i.fF.assert(function(){return U!==F===W.modifiedSubquery},"expected to rewrite the from clause if and only if we modified a subquery"),U},w.prototype.visitEntity=function(F,O){return F},w.prototype.visitPod=function(F,O){return F},w.prototype.visitSubquery=function(F,O){for(var L=F.subquery.where(),W=[],U=function(Q){_.find(L,function(H){return(0,u.Me)(Q,H)})||W.push(Q)},j=0,z=this.filtersToEnsure;j<z.length;j++)U(z[j]);return 0===W.length?F:(this.modifiedSubquery=!0,new e.vd(F.subquery.addWhere(W,this.filtersToEnsureFrom)))},w.prototype.visitExpr=function(F,O){return F},w}()},324356:function(ze,K,r){r.d(K,{X1:function(){return Dr},v0:function(){return O},uV:function(){return Q},iE:function(){return ie},MH:function(){return M},I6:function(){return H},Wh:function(){return A},wU:function(){return se},c8:function(){return ce},jz:function(){return je},ev:function(){return pe},YB:function(){return _e},AC:function(){return Ae},ex:function(){return Ze},PN:function(){return C},eX:function(){return De},Il:function(){return y},F0:function(){return tr},_R:function(){return Lt},DJ:function(){return me},Gv:function(){return B},UG:function(){return T},qg:function(){return j},jE:function(){return z},vD:function(){return G},Xg:function(){return de},UY:function(){return I},Jm:function(){return qe},nz:function(){return P},F1:function(){return F},$f:function(){return w},Wr:function(){return E},v3:function(){return We},Cc:function(){return Y},_n:function(){return L},c7:function(){return U},LE:function(){return W},nd:function(){return oe},kC:function(){return R},GF:function(){return it},fw:function(){return ve},wb:function(){return D},m_:function(){return Ie},lI:function(){return ht},xD:function(){return Ge},n7:function(){return dr},Y8:function(){return Te},vX:function(){return Re},O7:function(){return ar},$_:function(){return lt},Oh:function(){return k},qu:function(){return Mt},u7:function(){return It},r3:function(){return Bt},sO:function(){return gr},uQ:function(){return pr},CQ:function(){return Cr},gH:function(){return Br},LS:function(){return Xt},h5:function(){return Nt},tx:function(){return Ir},$t:function(){return mt},nw:function(){return be},Dg:function(){return Kt},Gg:function(){return jt},x5:function(){return Ut},Xw:function(){return fe},GW:function(){return Oe},f7:function(){return Ur},_L:function(){return yt},Ls:function(){return Ft},Wp:function(){return Ne},bT:function(){return et},os:function(){return xe},dY:function(){return Me},Sh:function(){return Xe},cA:function(){return Or},mv:function(){return Ce},fP:function(){return st},kD:function(){return ee},sl:function(){return re},PB:function(){return J},YU:function(){return ut},ff:function(){return Yt},zO:function(){return Rt},IF:function(){return _r},or:function(){return He},Pe:function(){return we},yU:function(){return tt},Mj:function(){return he},p7:function(){return Rr},nF:function(){return Ct},Wu:function(){return at},ed:function(){return Je},xA:function(){return ot},eu:function(){return Tt},Zy:function(){return hr},Ny:function(){return Zt},v5:function(){return Fe},bO:function(){return ft},fL:function(){return Kr},e7:function(){return Et},hu:function(){return Le},GB:function(){return Ve},kQ:function(){return zr},Oe:function(){return ne}});var t=r(226514),c=r(764365),i=r(143509),s=r(177497),p=r(787941),V=r(326621),m=r(592042),v=r(44615),e=r(597098),h=r(230762),n=r(171460),o=function(nt){return null!=nt&&1===nt[n.L]},u=r(334048),a=r(474147),l=r(456535),d=r(983172),b=r(116170),f=r(799818),g=r(954617),S=r(374952),y=function(){function Dt(nt,ae){p.fF.assertValue(nt,"kind"),p.fF.assertAnyValue(ae,"annotations"),this._kind=nt,this._annotations=ae}return Dt.prototype.validate=function(nt,ae,q,Qe){var dt=new Lt(nt,ae,q,Qe);return this.accept(dt),dt.errors},Dt.prototype.accept=function(nt,ae){p.fF.assertFail("abstract method")},Object.defineProperty(Dt.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),Dt.prototype.getMetadata=function(nt,ae){p.fF.assertValue(nt,"federatedSchema");var q=(0,e.Q)(this,nt);if(q)return q.column||q.columnAggr||q.groupingColumn||q.groupingColumnAggr||q.measure?this.getMetadataForProperty(q,nt):q.hierarchyLevel||q.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(q,nt):q.columnHierarchyLevelVariation?this.getMetadataForVariation(q,nt):q.columnSubquery||q.columnAggrSubquery?this.getMetadataForSubqueryColumn(q,nt,ae):q.columnTransformRef?this.getMetadataForColumnTransformRef():Dt.getMetadataForEntity(q,nt)},Dt.prototype.isOrdinalEvaluation=function(){return!1},Dt.prototype.getAnnotations=function(){return this._annotations},Dt.prototype.getKeyColumns=function(nt){var ae=Gt.getColumnRefSQExpr(nt,this);if(ae){var q=[],Qe=this.getPropertyKeys(nt);if(Qe&&Qe.length>0)for(var dt=0,Pt=Qe.length;dt<Pt;dt++)q.push(k(ae.source,Qe[dt].name));else q.push(ae);return q}},Dt.prototype.hasGroupOnKeys=function(nt){var ae=this.getTargetColumnRef(nt);if(ae){var q=this.getPropertyKeys(nt);if(!q||q.length<1)return!1;if(q.length>1)return!0;var Qe=k(ae.source,q[0].name);return!(0,a.fS)(Qe,this)}},Dt.prototype.getPropertyKeys=function(nt){var ae=this.getConceptualProperty(nt,!0);if(ae)return ae.column?ae.column.keys:void 0},Dt.prototype.getOrderByColumns=function(nt){var ae=this.getTargetColumnRef(nt);if(ae){var q=ae.getConceptualProperty(nt,!0),Qe=q&&q.column&&q.column.orderBy;if(_.isEmpty(Qe))return[];for(var dt=new Array(Qe.length),Pt=0,Qt=Qe.length;Pt<Qt;Pt++)dt[Pt]=k(ae.source,Qe[Pt].name);return dt}},Dt.prototype.getConceptualProperty=function(nt,ae){var q=(0,e.Q)(this,nt);if(q){var Qe=(0,v.pV)(q);if(Qe&&1===_.size(Qe)){var dt=(0,v.Hp)(q);if(dt){var Pt=nt.schema(Qe[0].schema);return Pt?Pt.findProperty(Qe[0].entity,dt):void 0}if(ae){var ir,Qt=void 0;if(q.columnHierarchyLevelVariation)(Qt=q.columnHierarchyLevelVariation.level)&&(ir=nt.schema(Qt.schema).findHierarchy(Qt.entity,Qt.name));else if(Qt=q.hierarchyLevel||q.hierarchyLevelAggr){var yr=(0,v.Um)(q);ir=nt.schema(yr.schema).findHierarchy(yr.entity,Qt.name)}if(ir){var ur=ir.levels.withName(Qt.level);if(ur)return ur.column}}}}},Dt.prototype.getTargetEntityForVariation=function(nt,ae){var q=this.getConceptualProperty(nt);if(q&&q.column&&!_.isEmpty(q.column.variations))for(var dt=0,Pt=q.column.variations;dt<Pt.length;dt++){var Qt=Pt[dt];if(Qt.name===ae)return Qt.navigationProperty.targetEntity.name}},Dt.prototype.getTargetEntity=function(){return er.getEntityExpr(this)},Dt.prototype.getTargetSchemaName=function(){return sr.getSchemaName(this)},Dt.prototype.getTargetColumnRef=function(nt){return p.fF.assertValue(nt,"schema"),Gt.getColumnRefSQExpr(nt,this)},Dt.prototype.getMetadataForVariation=function(nt,ae){p.fF.assertValue(nt,"field"),p.fF.assertValue(ae,"federatedSchema");var q=nt.columnHierarchyLevelVariation,Qe=(0,v.Um)(nt),dt=ae.schema(Qe.schema).findProperty(Qe.entity,q.source.name);if(dt&&dt.column&&dt.column.variations)for(var Pt=0,Qt=dt.column.variations;Pt<Qt.length;Pt++){var ir=Qt[Pt];if(ir.defaultHierarchy&&ir.defaultHierarchy.levels)for(var yr=0,ur=ir.defaultHierarchy.levels;yr<ur.length;yr++){var wr=ur[yr];if(wr.name===q.level.level){var Er=wr.column;return{kind:1===Er.kind?1:0,type:Er.type,format:Er.format,idOnEntityKey:!!Er.column&&Er.column.idOnEntityKey,defaultAggregate:Er.column?Er.column.defaultAggregate:null}}}}},Dt.prototype.getMetadataForHierarchyLevel=function(nt,ae){p.fF.assertValue(nt,"field"),p.fF.assertValue(ae,"federatedSchema");var q=this.getConceptualProperty(ae,!0);if(q)return this.getPropertyMetadata(nt,q)},Dt.prototype.getPropertyMetadata=function(nt,ae){var q=nt.columnAggr||nt.groupingColumnAggr||nt.hierarchyLevelAggr,Qe=q?this.getFormatAndTypeForAggregate(q.aggregate,ae.format,ae.type):ae;return{kind:1===ae.kind||q&&void 0!==q.aggregate?1:0,type:Qe.type,format:Qe.format,idOnEntityKey:!!ae.column&&ae.column.idOnEntityKey,aggregate:q?q.aggregate:void 0,defaultAggregate:ae.column?ae.column.defaultAggregate:null}},Dt.prototype.getMetadataForProperty=function(nt,ae){p.fF.assertValue(nt,"field"),p.fF.assertValue(ae,"federatedSchema");var q=this.getConceptualProperty(ae);if(q)return this.getPropertyMetadata(nt,q)},Dt.prototype.getFormatAndTypeForAggregate=function(nt,ae,q){var Qe=ae,dt=q;switch(nt){case 2:case 5:dt=m.Ge.fromExtendedType(260),Qe=void 0;break;case 1:case 7:case 8:dt.integer&&(dt=m.Ge.fromExtendedType(259),Qe=(0,V.SU)(Qe))}return{format:Qe,type:dt}},Dt.prototype.getMetadataForSubqueryColumn=function(nt,ae,q){p.fF.assertValue(nt,"field"),p.fF.assertValue(ae,"federatedSchema"),p.fF.assert(function(){return!(!q||!q.sources)},"context sources should be available for evaluating subquery source");var Qe=d.m.getSubqueryExpression(this,q);p.fF.assertValue(Qe,"could not find original select expr of subquery from context");var dt=Qe.getMetadata(ae,q);if(dt){if(dt.kind=0,nt.columnAggrSubquery){var Pt=this.getFormatAndTypeForAggregate(nt.columnAggrSubquery.aggregate,dt.format,dt.type);dt.type=Pt.type,dt.format=Pt.format,dt.aggregate=nt.columnAggrSubquery.aggregate}else nt.columnSubquery?dt.aggregate=void 0:p.fF.assertFail("invalid field expression for subquery column");return dt}},Dt.prototype.getMetadataForColumnTransformRef=function(){return{idOnEntityKey:!1,kind:0,type:m.Ge.fromVariant([m.Ge.fromPrimitiveTypeAndCategory(5),m.Ge.fromPrimitiveTypeAndCategory(7),m.Ge.fromPrimitiveTypeAndCategory(2),m.Ge.fromPrimitiveTypeAndCategory(3),m.Ge.fromPrimitiveTypeAndCategory(4),m.Ge.fromPrimitiveTypeAndCategory(1)])}},Dt.getMetadataForEntity=function(nt,ae){p.fF.assertValue(nt,"field"),p.fF.assertValue(ae,"federatedSchema");var q=(0,v.Um)(nt);if(ae.schema(q.schema).entities.withName(q.entity)&&nt.entityAggr)switch(nt.entityAggr.aggregate){case 2:case 5:return{kind:1,type:m.Ge.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:nt.entityAggr.aggregate}}},Dt}();(0,i.y)(y.prototype);var C=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(q,"entity"),(Pt=Dt.call(this,0,dt)||this).schema=ae,Pt.entity=q,Qe&&(Pt.variable=Qe),Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitEntity(this,q)},nt.prototype.as=function(ae,q){return new nt(this.schema,this.entity,ae,q)},nt}(y),E=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"name"),(Pt=Dt.call(this,47,dt)||this).name=ae,Pt.language=q,Pt.expression=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitNativeVisualCalc(this,q)},nt.prototype.getMetadata=function(ae){return p.fF.assertValue(ae,"federatedSchema"),{kind:1,type:m.Ge.fromPrimitiveTypeAndCategory(3)}},nt}(y),D=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertValue(ae,"source"),p.fF.assertAnyValue(q,"annotations"),Qe=Dt.call(this,1,q)||this,_.isString(ae)?Qe.variable=ae:Qe.query=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitSubqueryRef(this,q)},nt.prototype.as=function(ae,q){return new nt(ae,q)},nt}(y),P=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"source"),(dt=Dt.call(this,39,Qe)||this).queryName=ae,q&&(dt.variable=q),dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitNamedQueryRef(this,q)},nt.prototype.as=function(ae,q){return new nt(this.queryName,ae,q)},nt}(y),M=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"left"),p.fF.assertValue(q,"right"),p.fF.assertValue(Qe,"operator"),(Pt=Dt.call(this,23,dt)||this).left=ae,Pt.right=q,Pt.operator=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitArithmetic(this,q)},nt.prototype.getMetadata=function(ae){var q=this,Qe=this.left.getMetadata(ae);if((0,l.g5)(this.right))return Qe?(p.fF.assert(function(){return 3===q.operator},"unexpected usage of scoped eval with arithmetic"),Qe.format="#,##0.00%",Qe.type=m.Ge.fromExtendedType(259),Qe):void 0;var ir,dt=this.right.getMetadata(ae),Pt=null==Qe?void 0:Qe.type,Qt=null==dt?void 0:dt.type;ir=Pt&&Qt?this.getArithmeticResultType(Pt,Qt):null!=Pt?Pt:Qt,p.fF.assertValue(ir,"SQExpr - cannot get proper type for arithmetic expression");var wr,yr=null==Qe?void 0:Qe.format;return(0===this.operator||1===this.operator)&&(wr=yr===(null==dt?void 0:dt.format)?yr:void 0),{format:wr,type:ir,kind:1}},nt.prototype.getArithmeticResultType=function(ae,q){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&p.fF.assertNever(this.operator),2===ae.primitiveType?m.Ge.fromPrimitiveTypeAndCategory(3===this.operator&&2===q.primitiveType?3:2):3===ae.primitiveType?m.Ge.fromPrimitiveTypeAndCategory(3!==this.operator&&2===q.primitiveType?2:3):4===ae.primitiveType?3===this.operator&&4===q.primitiveType?m.Ge.fromPrimitiveTypeAndCategory(3):q:void p.fF.assertFail("unsupported arithmetic expression type")},nt}(y),T=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"size"),(Pt=Dt.call(this,35,dt)||this).arg=ae,Pt.size=q,null!=Qe&&(Pt.timeUnit=Qe),Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitFloor(this,q)},nt}(y),R=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"expression"),p.fF.assertValue(q,"scope"),(dt=Dt.call(this,26,Qe)||this).expression=ae,dt.scope=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitScopedEval(this,q)},nt.prototype.getMetadata=function(ae){return this.expression.getMetadata(ae)},nt.prototype.hasGlobalScope=function(){return p.fF.assertValue(this.scope,"scope"),0===this.scope.length},nt.prototype.hasInnerMostScope=function(){return p.fF.assertValue(this.scope,"scope"),1===this.scope.length&&(0,l.LX)(this.scope[0])},nt.createGlobalAggregateOfScopedExpr=function(ae,q){var Qe=new nt(ae,[new Ke]);return new nt(new O(Qe,q),[])},nt.prototype.decomposeGlobalAggregateOfScopedExpr=function(){if(this.hasGlobalScope()){var ae=this.expression;if((0,l.iV)(ae)){var q=ae.arg;if((0,l.g5)(q)&&q.hasInnerMostScope())return{source:q.expression,func:ae.func}}}},nt}(y),B=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"expression"),p.fF.assertValue(q,"filters"),(dt=Dt.call(this,41,Qe)||this).expression=ae,dt.filters=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitFilteredEval(this,q)},nt.prototype.getMetadata=function(ae){return this.expression.getMetadata(ae)},nt}(y),N=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertValue(ae,"expressionName"),(Qe=Dt.call(this,27,q)||this).expressionName=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitWithRef(this,q)},nt}(y),x=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"kind"),p.fF.assertValue(q,"source"),p.fF.assertValue(Qe,"ref"),(Pt=Dt.call(this,ae,dt)||this).source=q,Pt.ref=Qe,Pt}return(0,t.__extends)(nt,Dt),nt}(y),A=function(Dt){function nt(ae,q,Qe,dt){return Dt.call(this,Qe||2,ae,q,dt)||this}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitColumnRef(this,q)},nt}(x),I=function(Dt){function nt(ae,q,Qe){return Dt.call(this,3,ae,q,Qe)||this}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitMeasureRef(this,q)},nt}(x),w=function(Dt){function nt(ae,q,Qe,dt,Pt,Qt,ir){var yr=Dt.call(this,43,ir)||this;return p.fF.assertValue(ae,"language"),p.fF.assertValue(q,"expression"),p.fF.assertValue(Qe,"dataType"),p.fF.assertAnyValue(dt,"proposedName"),p.fF.assertAnyValue(Pt,"expressionContentCache"),p.fF.assertAnyValue(Qt,"format"),yr.language=ae,yr.expression=q,yr.dataType=Qe,yr.proposedName=dt,yr.expressionContentCache=Pt,yr.format=Qt,yr}return(0,t.__extends)(nt,Dt),nt.prototype.getMetadata=function(ae){return p.fF.assertValue(ae,"federatedSchema"),{kind:1,type:m.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},nt.prototype.accept=function(ae,q){return ae.visitNativeMeasure(this,q)},nt}(y),F=function(Dt){function nt(ae,q,Qe,dt,Pt,Qt,ir,yr){var ur=Dt.call(this,44,yr)||this;return p.fF.assertValue(ae,"language"),p.fF.assertValue(q,"expression"),p.fF.assertValue(Qe,"dataType"),p.fF.assertValue(dt,"source"),p.fF.assertAnyValue(Pt,"proposedName"),p.fF.assertAnyValue(Qt,"expressionContentCache"),p.fF.assertAnyValue(ir,"format"),ur.language=ae,ur.expression=q,ur.dataType=Qe,ur.source=dt,ur.proposedName=Pt,ur.expressionContentCache=Qt,ur.format=ir,ur}return(0,t.__extends)(nt,Dt),nt.prototype.getMetadata=function(ae){return p.fF.assertValue(ae,"federatedSchema"),{kind:0,type:m.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},nt.prototype.accept=function(ae,q){return ae.visitNativeColumn(this,q)},nt}(y),O=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"func"),(Pt=Dt.call(this,4,dt)||this).arg=ae,Pt.func=q,Pt.includeAllTypes=Qe,p.fF.assert(function(){return _.isNil(Pt.includeAllTypes)||3===Pt.func||4===Pt.func},"includeAllTypes has a value and the aggregate is not min/max - not a valid combination."),Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitAggr(this,q)},nt.prototype.getMetadata=function(ae,q){if(p.fF.assertValue(ae,"federatedSchema"),(0,l.jk)(this.arg)){var Qe=this.getFormatAndTypeForAggregate(this.func,this.arg.format,m.Ge.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:1,type:Qe.type,format:Qe.format}}return Dt.prototype.getMetadata.call(this,ae,q)},nt}(y),L=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"k"),p.fF.assert(function(){return 0<=q&&q<=1},"0 <= k && k <= 1"),p.fF.assertValue(Qe,"exclusive"),(Pt=Dt.call(this,28,dt)||this).arg=ae,Pt.k=q,Pt.exclusive=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.getMetadata=function(ae){p.fF.assertValue(ae,"federatedSchema");var q=this.arg.getMetadata(ae);if(q)return{kind:1,type:q.type}},nt.prototype.accept=function(ae,q){return ae.visitPercentile(this,q)},nt}(y),W=function(Dt){function nt(ae,q,Qe,dt){var Pt=Dt.call(this,29,dt)||this;return Pt.min=ae,Pt.max=q,Pt.percent=Qe,p.fF.assert(function(){return Qe>=0&&Qe<=1},"Invalid percent value. Valid values are 0 to 1"),Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitRangePercent(this,q)},nt.overRangeOf=function(ae,q){return new nt(R.createGlobalAggregateOfScopedExpr(ae,3),R.createGlobalAggregateOfScopedExpr(ae,4),q)},nt.prototype.decomposeOverRangePattern=function(){var ae=this.min,q=this.max;if((0,l.g5)(ae)&&(0,l.g5)(q)){var Qe=ae.decomposeGlobalAggregateOfScopedExpr(),dt=q.decomposeGlobalAggregateOfScopedExpr();if(Qe&&dt&&3===Qe.func&&4===dt.func&&(0,a.fS)(Qe.source,dt.source))return{sourceExpr:Qe.source,percent:this.percent}}},nt}(y),U=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"name"),p.fF.assertValue(Qe,"property"),(Pt=Dt.call(this,5,dt)||this).arg=ae,Pt.name=q,Pt.property=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitPropertyVariationSource(this,q)},nt}(y),j=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"name"),p.fF.assertValue(Qe,"groupedExprs"),p.fF.assert(function(){return Qe.length>0},"groupedExprs.length > 0"),(Pt=Dt.call(this,q,ae,34,dt)||this).groupedExprs=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitGroupRef(this,q)},nt}(A),z=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"hierarchy"),(dt=Dt.call(this,6,Qe)||this).arg=ae,dt.hierarchy=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitHierarchy(this,q)},nt}(y),G=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"level"),(dt=Dt.call(this,7,Qe)||this).arg=ae,dt.level=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitHierarchyLevel(this,q)},nt}(y),te=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"expressionName"),(dt=Dt.call(this,30,Qe)||this).expressionName=ae,dt.attributeKind=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitSelectRef(this,q)},nt}(y),Q=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"left"),p.fF.assertValue(q,"right"),(dt=Dt.call(this,8,Qe)||this).left=ae,dt.right=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitAnd(this,q)},nt}(y),H=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"arg"),p.fF.assertValue(q,"lower"),p.fF.assertValue(Qe,"upper"),(Pt=Dt.call(this,9,dt)||this).arg=ae,Pt.lower=q,Pt.upper=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitBetween(this,q)},nt}(y),de=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"args"),p.fF.assert(function(){return null==q!=(null==Qe)},"values or table"),(Pt=Dt.call(this,10,dt)||this).args=ae,q&&(Pt.values=q),Qe&&(Pt.table=Qe),Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitIn(this,q)},nt}(y),Y=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"left"),p.fF.assertValue(q,"right"),(dt=Dt.call(this,11,Qe)||this).left=ae,dt.right=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitOr(this,q)},nt}(y),se=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"kind"),p.fF.assertValue(q,"left"),p.fF.assertValue(Qe,"right"),(Pt=Dt.call(this,13,dt)||this).comparison=ae,Pt.left=q,Pt.right=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitCompare(this,q)},nt.prototype.isOrdinalEvaluation=function(){return o(this.getAnnotations())},nt}(y),ce=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertNonEmpty(ae,"cases"),p.fF.assertAnyValue(q,"defaultValue"),(dt=Dt.call(this,42,Qe)||this).cases=ae,dt.defaultValue=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitConditional(this,q)},nt}(y),pe=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"left"),p.fF.assertValue(q,"right"),(dt=Dt.call(this,12,Qe)||this).left=ae,dt.right=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitContains(this,q)},nt.prototype.isOrdinalEvaluation=function(){return o(this.getAnnotations())},nt}(y),ve=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"left"),p.fF.assertValue(q,"right"),(dt=Dt.call(this,14,Qe)||this).left=ae,dt.right=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitStartsWith(this,q)},nt.prototype.isOrdinalEvaluation=function(){return o(this.getAnnotations())},nt}(y),De=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertValue(ae,"arg"),p.fF.assert(function(){return ae instanceof C},"Exists only supports Entity argument"),(Qe=Dt.call(this,15,q)||this).arg=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitExists(this,q)},nt}(y),We=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertValue(ae,"arg"),(Qe=Dt.call(this,16,q)||this).arg=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitNot(this,q)},nt}(y),je=function(Dt){function nt(ae,q,Qe,dt,Pt){var Qt=this;return p.fF.assertValue(ae,"type"),(Qt=Dt.call(this,17,Pt)||this).type=ae,Qt.value=q,Qt.typeEncodedValue=Qe,dt&&(Qt.rawValue=dt),Qt}return(0,t.__extends)(nt,Dt),Object.defineProperty(nt.prototype,"valueEncoded",{get:function(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,h.CI)(this.rawValue||this.value,this.type)),this.typeEncodedValue},enumerable:!1,configurable:!0}),nt.prototype.accept=function(ae,q){return ae.visitConstant(this,q)},nt.prototype.getMetadata=function(){return{kind:1,type:this.type}},nt.getNumericValue=function(ae){if((0,l.S9)(ae)&&_.isNumber(ae.value))return ae.value;p.fF.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")},nt.getTextValue=function(ae){if((0,l.AW)(ae)&&_.isString(ae.value))return ae.value;p.fF.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")},nt.getBooleanValue=function(ae){if((0,l.g)(ae)&&_.isBoolean(ae.value))return ae.value;p.fF.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")},nt.getDateValue=function(ae){if((0,l.fU)(ae)&&_.isDate(ae.value))return ae.value;p.fF.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")},nt}(y);(0,i.y)(je.prototype);var Ae=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"unit"),p.fF.assertValue(q,"arg"),(dt=Dt.call(this,18,Qe)||this).unit=ae,dt.arg=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitDateSpan(this,q)},nt}(y),_e=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"unit"),p.fF.assertValue(q,"amount"),p.fF.assertValue(Qe,"arg"),(Pt=Dt.call(this,19,dt)||this).unit=ae,Pt.arg=Qe,Pt.amount=q,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitDateAdd(this,q)},nt.prototype.getMetadata=function(ae){return this.arg.getMetadata(ae)},nt}(y),le=function(Dt){function nt(ae){return Dt.call(this,20,ae)||this}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitNow(this,q)},nt.prototype.getMetadata=function(){return{kind:1,type:m.Ge.fromExtendedType(519)}},nt}(y),Z=function(Dt){function nt(ae){return Dt.call(this,22,ae)||this}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitDefaultValue(this,q)},nt}(y),ie=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertAnyValue(ae,"defaultValueOverridesAncestors"),(Qe=Dt.call(this,21,q)||this).defaultValueOverridesAncestors=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitAnyValue(this,q)},nt}(y),me=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"input"),p.fF.assertValue(q,"fillRule"),(dt=Dt.call(this,24,Qe)||this).input=ae,dt.rule=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitFillRule(this,q)},nt}(y),ye=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"SQThemeDataColorExpr - colorId"),p.fF.assertValue(q,"SQThemeDataColorExpr - percent"),p.fF.assertValue(-1<=q&&q<=1,"percent"),(dt=Dt.call(this,33,Qe)||this).colorId=ae,dt.percent=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitThemeDataColor(this,q)},nt}(y),oe=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"packageName"),p.fF.assertValue(Qe,"itemName"),(Pt=Dt.call(this,25,dt)||this).packageName=ae,Pt.packageType=q,Pt.itemName=Qe,Pt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitResourcePackageItem(this,q)},nt}(y),X=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertValue(ae,"source"),(Qe=Dt.call(this,31,q)||this).source=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitTransformTableRef(this,q)},nt}(y),ue=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"role"),(dt=Dt.call(this,32,Qe)||this).role=ae,q&&(dt.transform=q),dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitTransformOutputRoleRef(this,q)},nt.prototype.getMetadata=function(ae){},nt}(y),Se=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assertValue(ae,"role"),(Qe=Dt.call(this,36,q)||this).role=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitRoleRef(this,q)},nt}(y),Be=function(Dt){function nt(ae,q){var Qe=this;return p.fF.assert(function(){return!_.isEmpty(ae)},"name"),p.fF.assertAnyValue(q,"annotations"),(Qe=Dt.call(this,45,q)||this).name=ae,Qe}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitSummaryValueRef(this,q)},nt}(y),Ke=function(Dt){function nt(ae){return Dt.call(this,37,ae)||this}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitAllRolesRef(this,q)},nt}(y),Ze=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"source"),(dt=Dt.call(this,38,Qe)||this).source=ae,dt.count=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitDiscretize(this,q)},nt}(y),qe=function(Dt){function nt(ae,q,Qe){var dt=this;return p.fF.assertValue(ae,"source"),p.fF.assertValue(q,"member"),(dt=Dt.call(this,40,Qe)||this).source=ae,dt.member=q,dt}return(0,t.__extends)(nt,Dt),nt.prototype.accept=function(ae,q){return ae.visitMember(this,q)},nt}(y),it=function(Dt){function nt(ae,q,Qe,dt,Pt,Qt){var ir=Dt.call(this,46,Qt)||this;return p.fF.assertValue(ae,"measure"),p.fF.assertValue(q,"grouping"),p.fF.assertAnyValue(Qe,"scalarKey"),p.fF.assert(function(){return 1===_.size(q)},"exactly 1 grouping is allowed"),ir.measure=ae,ir.grouping=q,ir.scalarKey=Qe,ir.pointsPerSparkline=dt,ir.includeMinGroupingInterval=Pt,ir}return(0,t.__extends)(nt,Dt),nt.prototype.getMetadata=function(ae){var Qe,q=this;return p.fF.assertValue(ae,"federatedSchema"),p.fF.assert(function(){return 1===_.size(q.grouping)},"exactly 1 grouping is allowed"),{kind:1,type:m.Ge.fromDescriptor({misc:{sparkline:{groupingType:null===(Qe=this.grouping[0].getMetadata(ae))||void 0===Qe?void 0:Qe.type}}})}},nt.prototype.accept=function(ae,q){return ae.visitSparklineData(this,q)},nt}(y);function be(Dt,nt,ae,q){return new C(Dt,nt,ae,q)}function Fe(Dt,nt){return _.isString(Dt),new D(Dt,nt)}function ee(Dt,nt,ae){return new P(Dt,nt,ae)}function k(Dt,nt,ae){return new A(Dt,nt,null,ae)}function Ce(Dt,nt,ae){return new I(Dt,nt,ae)}function J(Dt,nt,ae,q,Qe,dt,Pt){return new w(Dt,nt,ae,q,Qe,dt,Pt)}function re(Dt,nt,ae,q,Qe,dt,Pt,Qt){return new F(Dt,nt,ae,q,Qe,dt,Pt,Qt)}function Ie(Dt,nt,ae,q){return new O(Dt,nt,ae,q)}function ot(Dt,nt,ae){return new te(Dt,nt,ae)}function we(Dt,nt,ae,q){return new L(Dt,nt,ae,q)}function he(Dt,nt,ae,q){return new W(Dt,nt,ae,q)}function Te(Dt,nt,ae,q){return new M(Dt,nt,ae,q)}function Oe(Dt,nt,ae,q){return new T(Dt,nt,ae,q)}function Je(Dt,nt,ae){return new R(Dt,nt,ae)}function fe(Dt,nt,ae){return new B(Dt,nt,ae)}function ne(Dt,nt){return new N(Dt,nt)}function Ne(Dt,nt,ae,q){return new j(Dt,nt,ae,q)}function et(Dt,nt,ae){return new z(Dt,nt,ae)}function tt(Dt,nt,ae,q){return new U(Dt,nt,ae,q)}function xe(Dt,nt,ae){return new G(Dt,nt,ae)}function Ve(Dt,nt){return new X(Dt,nt)}function Le(Dt,nt,ae){return new ue(Dt,nt,ae)}function at(Dt,nt){return new Se(Dt,nt)}function ft(Dt,nt){return new Be(Dt,nt)}function ht(Dt){return new Ke(Dt)}function Ge(Dt,nt,ae){return Dt?nt?new Q(Dt,nt,ae):Dt:nt}function Re(Dt,nt,ae,q){return new H(Dt,nt,ae,q)}function Xe(Dt,nt,ae){return new de(Dt,nt,null,ae)}function Me(Dt,nt,ae){return new de(Dt,null,nt,ae)}function He(Dt,nt,ae){if(!Dt)return nt;if(!nt)return Dt;if((0,l.Hi)(Dt)&&(0,l.Hi)(nt)){var q=function(Dt,nt,ae){if(Dt.args&&nt.args&&Dt.values&&nt.values){var q=Dt.args.length;if(q===nt.args.length){for(var dt=0;dt<q;++dt)if(!(0,a.fS)(Dt.args[dt],nt.args[dt]))return;var Pt=Dt.values.concat(nt.values);return Xe(Dt.args,Pt,ae)}}}(Dt,nt,ae);if(q)return q}return new Y(Dt,nt,ae)}function Mt(Dt,nt,ae,q){return new se(Dt,nt,ae,q)}function It(Dt,nt,ae){return new ce(Dt,nt,ae)}function Bt(Dt,nt,ae){return new pe(Dt,nt,ae)}function jt(Dt,nt){return new De(Dt,nt)}function Kt(Dt,nt,ae){return Mt(0,Dt,nt,ae)}function Yt(Dt,nt){return new We(Dt,nt)}function Zt(Dt,nt,ae){return new ve(Dt,nt,ae)}var or=new je(m.Ge.fromExtendedType(0),null,(0,h.Wv)());function _r(){return or}var Pr=new je(m.Ge.fromExtendedType(1),"");function mt(){return Pr}function Rt(Dt){return new le(Dt)}function Xt(Dt){return new Z(Dt)}function dr(Dt,nt){return new ie(Dt,nt)}function ar(Dt,nt){return new je(m.Ge.fromExtendedType(5),Dt,(0,h.O7)(Dt),void 0,nt)}function gr(Dt,nt,ae,q){return new _e(Dt,nt,ae,q)}function Cr(Dt,nt,ae){return new je(m.Ge.fromExtendedType(519),Dt,nt,void 0,ae)}function pr(Dt,nt,ae){return new Ae(Dt,nt,ae)}function Br(Dt,nt,ae){return new je(m.Ge.fromExtendedType(258),Dt,nt,void 0,ae)}function Ir(Dt,nt,ae){return new je(m.Ge.fromExtendedType(259),Dt,nt,void 0,ae)}function Or(Dt,nt,ae){return new je(m.Ge.fromExtendedType(260),Dt,nt,void 0,ae)}function Kr(Dt,nt,ae){return p.fF.assert(function(){return!nt||nt===(0,h.fL)(Dt)},"Incorrect encoded value specified."),new je(m.Ge.fromExtendedType(1),Dt,nt,void 0,ae)}function zr(Dt,nt){return null==Dt?_r():_.isBoolean(Dt)?ar(Dt):_.isString(Dt)?Kr(Dt):_.isNumber(Dt)?nt.integer&&(0,c.U)(Dt)?Or(Dt):Ir(Dt):Dt instanceof Date?Cr(Dt):void 0}function Ur(Dt,nt,ae,q){return new je(m.Ge.fromExtendedType(Dt),nt,void 0,ae,q)}function hr(Dt,nt,ae,q,Qe,dt){return new it(Dt,nt,ae,q,Qe,dt)}function Rr(Dt){return tr.rewrite(Dt)}function Tt(Dt,nt,ae){if((0,l.jX)(Dt))return nr.rewrite(Dt,nt,ae)}function Ut(Dt,nt,ae){return p.fF.assertValue(Dt,"expr"),p.fF.assertValue(nt,"rule"),new me(Dt,nt,ae)}function Et(Dt,nt,ae){return p.fF.assertValue(Dt,"themeDataColor - colorId"),p.fF.assertValue(nt,"themeDataColor - percent"),new ye(Dt,nt,ae)}function Ct(Dt,nt,ae,q){return new oe(Dt,nt,ae,q)}function Nt(Dt,nt,ae){return new Ze(Dt,nt,ae)}function st(Dt,nt,ae){return new qe(Dt,nt,ae)}function lt(Dt,nt,ae){return p.fF.assertValue(null==Dt||(0,s.A7)(Dt),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),p.fF.assertValue(nt,"SQExprBuilder.color - colorName has to exist"),Kr(Dt||nt,void 0,ae)}function ut(Dt,nt,ae){return new E(Dt,"dax",nt,ae)}function yt(Dt){return kt.getAggregate(Dt)}function Ft(Dt){if(p.fF.assertValue(Dt,"expr"),(0,l.VC)(Dt)&&Dt.type.text)return Dt.value}var Lt=function(Dt){function nt(ae,q,Qe,dt){var Pt=this;return p.fF.assertValue(ae,"schema"),p.fF.assertValue(q,"aggrUtils"),(Pt=Dt.call(this)||this).schema=ae,Pt.aggrUtils=q,Pt.context=dt,Qe&&(Pt.errors=Qe),Pt}return(0,t.__extends)(nt,Dt),nt.prototype.visitIn=function(ae){var q=Dt.prototype.visitIn.call(this,ae),Qe=q.args,dt=q.values;if(dt){p.fF.assert(function(){return!q.table},"values and table cannot both be specified for the In operator");for(var Pt=function(Ar){p.fF.assert(function(){return Ar.length===Qe.length},"args and value tuple are not the same length");for(var Lr=0,$e=Ar.length;Lr<$e;++Lr)Qt.validateCompatibleType(Qe[Lr],Ar[Lr])},Qt=this,ir=0,yr=dt;ir<yr.length;ir++)Pt(yr[ir])}else{var wr=q.table;p.fF.assert(function(){return!!wr},"either values or table must be non-null for an In operator"),this.validateIsTableRef(wr)}return q},nt.prototype.visitCompare=function(ae){var q=Dt.prototype.visitCompare.call(this,ae);return this.validateCompatibleType(q.left,q.right),q},nt.prototype.visitColumnRef=function(ae){if((0,l.jv)(ae.source))return d.m.getSubqueryExpression(ae,this.context)||this.register(18),ae;var Qe=(0,e.Q)(ae);return Qe&&this.validateColumnExpr(Qe),ae},nt.prototype.visitMeasureRef=function(ae){var q=(0,e.Q)(ae);if(q){var Qe=(0,v.Um)(q),dt=this.validateEntity(Qe.schema,Qe.entity);if(dt){var Pt=dt.properties.withName(q.measure.name);(!Pt||1!==Pt.kind||!this.isQueryable(q))&&this.register(5)}}return ae},nt.prototype.visitAggr=function(ae){var q=Dt.prototype.visitAggr.call(this,ae);return Gt.getColumnRefSQExpr(this.schema,q.arg)&&(this.aggrUtils.isSupportedAggregate(ae,this.schema,ae.func,null,this.context)||this.register(0)),q},nt.prototype.visitGroupRef=function(ae){var q=(0,e.Q)(ae);if(q){var Qe=(0,v.Um)(q),dt=this.validateEntity(Qe.schema,Qe.entity);if(dt){var Pt=dt.properties.withName(q.groupingColumn.name);(!Pt||0!==Pt.kind||!this.validateExprSequence(ae.groupedExprs)||!Pt.column.groupingMetadata||!this.isQueryable(q))&&this.register(4)}}return ae},nt.prototype.visitHierarchy=function(ae){var q=(0,e.Q)(ae);if(q){var Qe=q.hierarchy;Qe?this.validateHierarchy(Qe.schema,Qe.entity,Qe.name):this.register(6)}return ae},nt.prototype.visitHierarchyLevel=function(ae){var q=(0,e.Q)(ae);if(q){var Qe=q.hierarchyLevel,dt=q.columnHierarchyLevelVariation;Qe?this.validateHierarchyLevel(Qe.schema,Qe.entity,Qe.name,Qe.level):dt?this.validateHierarchyLevelVariation(dt):this.register(7)}return ae},nt.prototype.visitPercentile=function(ae){if(ae.arg.accept(this),_.isEmpty(this.errors)){var q=ae.arg.getMetadata(this.schema,this.context);(!q||0!==q.kind||!q.type||!q.type.integer&&!q.type.numeric)&&this.register(12)}return ae},nt.prototype.visitRangePercent=function(ae){return(ae.percent>1||ae.percent<0)&&this.register(13),ae.min.accept(this),ae.max.accept(this),ae},nt.prototype.visitDiscretize=function(ae){return ae.source.accept(this),ae.count<=0&&this.register(16),ae},nt.prototype.visitEntity=function(ae){return this.validateEntity(ae.schema,ae.entity),ae},nt.prototype.visitSubqueryRef=function(ae){return ae},nt.prototype.visitNamedQueryRef=function(ae){return ae},nt.prototype.visitContains=function(ae){return this.validateStartOrContainsArgs(ae.left,ae.right),ae},nt.prototype.visitStartsWith=function(ae){return this.validateStartOrContainsArgs(ae.left,ae.right),ae},nt.prototype.visitArithmetic=function(ae){return this.validateArithmeticTypes(ae.operator,ae.left,ae.right),ae},nt.prototype.visitScopedEval=function(ae){if(ae.hasGlobalScope()||ae.hasInnerMostScope())return ae;for(var q=0,Qe=ae.scope;q<Qe.length;q++){var dt=Qe[q];(0,l.DB)(dt)||(0,l.t3)(dt)||this.register(14)}return ae},nt.prototype.visitFilteredEval=function(ae){ae.expression.accept(this),0===_.size(ae.filters)&&this.register(17);for(var q=0,Qe=ae.filters;q<Qe.length;q++){var dt=Qe[q];if(!_.isEmpty(dt.target))for(var Pt=0,Qt=dt.target;Pt<Qt.length;Pt++)Qt[Pt].accept(this);dt.condition.accept(this)}return ae},nt.prototype.visitWithRef=function(ae){return ae},nt.prototype.visitTransformTableRef=function(ae){return ae},nt.prototype.visitTransformOutputRoleRef=function(ae){return ae},nt.prototype.visitRoleRef=function(ae){return ae},nt.prototype.visitSummaryValueRef=function(ae){return ae},nt.prototype.visitAllRolesRef=function(ae){return ae},nt.prototype.visitSparklineData=function(ae){if((0,S.k)(ae.measure)){var q=ae.measure.getMetadata(this.schema),Qe=null==q?void 0:q.type;(null==Qe||!Qe.numeric)&&(null==Qe||!Qe.integer)&&this.register(5)}else this.register(5);p.fF.assert(function(){return 1===_.size(ae.grouping)},"Only support 1 grouping for now"),_.some(ae.grouping,function(ir){return(0,S.k)(ir)})&&this.register(3),ae.measure.accept(this);for(var dt=0,Pt=ae.grouping;dt<Pt.length;dt++)Pt[dt].accept(this);return ae.scalarKey&&ae.scalarKey.accept(this),ae},nt.prototype.visitNativeVisualCalc=function(ae){return ae},nt.prototype.validateExprSequence=function(ae){var q=this;return _.reduce(ae,function(Qe,dt){return Qe&&_.isEmpty(dt.validate(q.schema,q.aggrUtils,q.errors,q.context))},!0)},nt.prototype.validateStartOrContainsArgs=function(ae,q){ae.accept(this),q.accept(this),_.isEmpty(this.errors)&&((0,l.VC)(q)&&q.type.text?this.validateCompatibleType(ae,q,!0):this.register(10))},nt.prototype.validateArithmeticTypes=function(ae,q,Qe){d.m.supportsArithmetic(ae,q,this.schema)||this.register(9),d.m.supportsArithmetic(ae,Qe,this.schema)||this.register(10)},nt.prototype.validateCompatibleType=function(ae,q,Qe){var dt=ae.getMetadata(this.schema,this.context),Pt=dt&&dt.type,Qt=q.getMetadata(this.schema,this.context),ir=Qt&&Qt.type;(Qe?!Pt||!ir||!Pt.isCompatibleFrom(ir):Pt&&ir&&!Pt.isCompatibleFrom(ir))&&this.register(11)},nt.prototype.validateEntity=function(ae,q){var Qe=this.schema.schema(ae);if(Qe){var dt=Qe.entities.withName(q);if(dt)return dt;this.register(2)}else this.register(1)},nt.prototype.validateIsTableRef=function(ae){1!==ae.kind&&0!==ae.kind&&this.register(15)},nt.prototype.validateHierarchy=function(ae,q,Qe){var dt=this.validateEntity(ae,q);if(dt){var Pt=dt.hierarchies.withName(Qe);if(Pt)return Pt;this.register(6)}},nt.prototype.validateHierarchyLevel=function(ae,q,Qe,dt){var Pt=this.validateHierarchy(ae,q,Qe);if(Pt){var Qt=Pt.levels.withName(dt);if(Qt)return Qt;this.register(7)}},nt.prototype.validateHierarchyLevelVariation=function(ae){var q=ae.source,Qe=this.schema.schema(q.schema),dt=Qe.findProperty(q.entity,q.name);if(this.validateColumnExpr({column:ae.source}),dt&&dt.column){var Qt=dt.column.variations.withName(ae.variationName);if(Qt){var ir=Qe.findHierarchyByVariation(q.entity,q.name,ae.variationName,ae.level.name);if(ir&&ir.levels.withName(ae.level.level))return Qt}this.register(8)}},nt.prototype.validateColumnExpr=function(ae){var q=ae.column,Qe=this.validateEntity(q.schema,q.entity);if(Qe){var dt=Qe.properties.withName(q.name);if(dt&&0===dt.kind&&this.isQueryable(ae))return dt;this.register(3)}},nt.prototype.register=function(ae){this.errors||(this.errors=[]),this.errors.push(ae)},nt.prototype.isQueryable=function(ae){var q=(0,v.Um)(ae);if(ae.hierarchyLevel||ae.hierarchyLevelAggr){var Qe=(0,f.S7)(this.schema,ae);return Qe&&1!==Qe.column.queryable}return 1!==this.schema.schema(q.schema).findProperty(q.entity,(0,v.Hp)(ae)).queryable},nt}(u.b),kt=function(Dt){function nt(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,t.__extends)(nt,Dt),nt.prototype.visitAggr=function(ae){return ae.func},nt.prototype.visitDefault=function(ae){},nt.getAggregate=function(ae){var q=new nt;return ae.accept(q)},nt}(b.vq),Gt=function(Dt){function nt(ae){var q=Dt.call(this)||this;return q.schema=ae,q}return(0,t.__extends)(nt,Dt),nt.prototype.visitColumnRef=function(ae){return ae},nt.prototype.visitGroupRef=function(ae){return ae},nt.prototype.visitHierarchyLevel=function(ae){var q=ae.level,Qe=ae.arg,dt=Qe.accept(this);if(Qe&&(0,l.jc)(Qe.arg)){var Qt=dt.getTargetEntityForVariation(this.schema,Qe.arg.name);if(dt&&Qt){var ir=dt.source.schema,yr=be(ir,Qt),ur=this.schema.schema(ir).findHierarchy(Qt,Qe.hierarchy);if(ur)for(var wr=0,Er=ur.levels;wr<Er.length;wr++){var Ar=Er[wr];if(Ar.name===q)return new A(yr,Ar.column.name)}}}else{var Lr=Qe.arg,$e=(0,f.g8)(this.schema,Lr.schema,Lr.entity,Qe.hierarchy,ae.level);if($e)return new A(Qe.arg,$e.column.name)}},nt.prototype.visitHierarchy=function(ae){return ae.arg.accept(this)},nt.prototype.visitPropertyVariationSource=function(ae){return new A(ae.arg,ae.property)},nt.prototype.visitAggr=function(ae){return ae.arg.accept(this)},nt.prototype.visitDefault=function(ae){},nt.getColumnRefSQExpr=function(ae,q){var Qe=new nt(ae);return q.accept(Qe)},nt}(b.vq),er=function(Dt){function nt(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,t.__extends)(nt,Dt),nt.prototype.visitEntity=function(ae){var q=this.result;this.result=void 0===q||(0,a.fS)(q,ae)?ae:null},nt.prototype.visitFilteredEval=function(ae){ae.expression.accept(this)},nt.getEntityExpr=function(ae){var q=new nt;return ae.accept(q),q.result||void 0},nt}(b.PA),sr=function(Dt){function nt(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,t.__extends)(nt,Dt),nt.prototype.visitNativeVisualCalc=function(ae){},nt.prototype.visitDefault=function(ae){return ae.getTargetEntity().schema},nt.getSchemaName=function(ae){return ae.accept(nt.instance)},nt.instance=new nt,nt}(b.vq),tr=function(Dt){function nt(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,t.__extends)(nt,Dt),nt.prototype.visitEntity=function(ae){return ae.variable?be(ae.schema,ae.entity):ae},nt.rewrite=function(ae){return p.fF.assertValue(ae,"expr"),ae.accept(nt.instance)},nt.instance=new nt,nt}(u.b),nr=function(Dt){function nt(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,t.__extends)(nt,Dt),nt.rewrite=function(ae,q,Qe){return p.fF.assertValue(ae,"expr"),p.fF.assert(function(){return(0,l.jX)(ae)},"should be a native visual calc"),ae.accept(nt.instance,{expression:q,name:Qe})},nt.prototype.visitNativeVisualCalc=function(ae,q){return ut(q.name,q.expression,ae.getAnnotations())},nt.instance=new nt,nt}(g.p),Dr=function(Dt){function nt(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,t.__extends)(nt,Dt),nt.prototype.visitHierarchyLevel=function(ae){return ae.arg.accept(this)},nt.prototype.visitHierarchy=function(ae){return ae.arg.accept(this)},nt.prototype.visitPropertyVariationSource=function(ae){return ae.property},nt.getProperty=function(ae){var q=new nt;return ae.accept(q)},nt}(b.vq)},474147:function(ze,K,r){r.d(K,{C6:function(){return b},FK:function(){return v},Me:function(){return m},fS:function(){return p},ll:function(){return h},qV:function(){return e}});var t=r(690016),c=r(883863),i=r(787941),s=r(456535);function p(f,g,S,y,C){return V.run(f,g,S,y,C)}var V=function(){function f(g,S,y){this.ignoreCase=g,this.ignoreVariables=S,this.ignoreAnnotations=y}return f.getInstance=function(g,S,y){g||(g=!1),S||(S=!1),y||(y=!1);var C=[+g,+S,+y].reduce(function(D,P){return D<<1|P}),E=f.instances[C];return E||(E=new f(g,S,y)),E},f.run=function(g,S,y,C,E){return(g=g||null)===(S=S||null)||!g==!S&&(i.fF.assertValue(g,"x"),i.fF.assertValue(S,"y"),g.accept(f.getInstance(y,C,E),S))},f.prototype.visitColumnRef=function(g,S){return!(!(0,s.t3)(S)&&!(0,s.wD)(S))&&g.ref===S.ref&&this.equals(g.source,S.source)&&this.equalAnnotations(g,S)},f.prototype.visitMeasureRef=function(g,S){return!(!(0,s.kb)(S)||!this.equalAnnotations(g,S))&&g.ref===S.ref&&this.equals(g.source,S.source)},f.prototype.visitNativeMeasure=function(g,S){if(!(0,s.cY)(S)||g.language!==S.language||g.expression!==S.expression||g.dataType!==S.dataType||g.format!==S.format||g.proposedName!==S.proposedName||!this.equalAnnotations(g,S))return!1;var y=g.expressionContentCache,C=S.expressionContentCache;return!y&&!C||!(!y||!C)&&y.unrecognizedIdentifiers===C.unrecognizedIdentifiers&&this.equalsAll(y.dependencies,C.dependencies)},f.prototype.visitNativeColumn=function(g,S){if(!(0,s.jk)(S)||g.language!==S.language||g.expression!==S.expression||g.dataType!==S.dataType||g.proposedName!==S.proposedName||g.format!==S.format||!this.equals(g.source,S.source)||!this.equalAnnotations(g,S))return!1;var y=g.expressionContentCache,C=S.expressionContentCache;return!y&&!C||!(!y||!C)&&y.unrecognizedIdentifiers===C.unrecognizedIdentifiers&&this.equalsAll(y.dependencies,C.dependencies)},f.prototype.visitAggr=function(g,S){return(0,s.iV)(S)&&this.equalAnnotations(g,S)&&g.func===S.func&&this.equals(g.arg,S.arg)},f.prototype.visitPercentile=function(g,S){return!(!(0,s.T5)(S)||!this.equalAnnotations(g,S))&&g.exclusive===S.exclusive&&g.k===S.k&&this.equals(g.arg,S.arg)},f.prototype.visitRangePercent=function(g,S){return!(!(0,s.YF)(S)||!this.equalAnnotations(g,S))&&g.percent===S.percent&&this.equals(g.min,S.min)&&this.equals(g.max,S.max)},f.prototype.visitGroupRef=function(g,S){var y=!1;return((0,s.wD)(S)||(0,s.t3)(S))&&(y=g.ref===S.ref&&this.equals(g.source,S.source)&&this.equalAnnotations(g,S)),(0,s.wD)(S)&&this.equalAnnotations(g,S)&&(y=y&&this.equalsAll(g.groupedExprs,S.groupedExprs)),y},f.prototype.visitHierarchy=function(g,S){return!(!(0,s.y3)(S)||!this.equalAnnotations(g,S))&&g.hierarchy===S.hierarchy&&this.equals(g.arg,S.arg)},f.prototype.visitHierarchyLevel=function(g,S){return!(!(0,s.ez)(S)||!this.equalAnnotations(g,S))&&g.level===S.level&&this.equals(g.arg,S.arg)},f.prototype.visitPropertyVariationSource=function(g,S){return!(!(0,s.jc)(S)||!this.equalAnnotations(g,S))&&g.name===S.name&&g.property===S.property&&this.equals(g.arg,S.arg)},f.prototype.visitSelectRef=function(g,S){return!(!(0,s.NH)(S)||!this.equalAnnotations(g,S)||g.expressionName!==S.expressionName||g.attributeKind!==S.attributeKind&&this.isNullOrUndefined(g.attributeKind)!==this.isNullOrUndefined(S.attributeKind))},f.prototype.isNullOrUndefined=function(g){return null==g},f.prototype.visitBetween=function(g,S){return!(!(0,s.Kh)(S)||!this.equalAnnotations(g,S))&&this.equals(g.arg,S.arg)&&this.equals(g.lower,S.lower)&&this.equals(g.upper,S.upper)},f.prototype.visitIn=function(g,S){if(!(0,s.Hi)(S)||!this.equalsAll(g.args,S.args)||!this.equalAnnotations(g,S))return!1;var y=S,C=g.values;if(C){var E=y.values;if(!E||C.length!==E.length)return!1;for(var D=0,P=C.length;D<P;D++)if(!this.equalsAll(C[D],E[D]))return!1}else if(i.fF.assert(function(){return!!g.table},"either values or table must be non-null for an In operator"),!y.table||!this.equals(g.table,y.table))return!1;return!0},f.prototype.visitEntity=function(g,S){return!(!(0,s.Lk)(S)||!this.equalAnnotations(g,S))&&g.schema===S.schema&&g.entity===S.entity&&(this.ignoreVariables||this.optionalEqual(g.variable,S.variable))},f.prototype.visitSubqueryRef=function(g,S){return!(!(0,s.jv)(S)||!this.equalAnnotations(g,S)||!g.query&&S.query||g.query&&!S.query)&&(g.query&&S.query?g.variable===S.variable&&b(g.query,S.query):g.variable===S.variable)},f.prototype.visitNamedQueryRef=function(g,S){return!(!(0,s.Il)(S)||!this.equalAnnotations(g,S))&&g.queryName===S.queryName&&(this.ignoreVariables||this.optionalEqual(g.variable,S.variable))},f.prototype.visitAnd=function(g,S){return!(!(0,s.un)(S)||!this.equalAnnotations(g,S))&&this.equals(g.left,S.left)&&this.equals(g.right,S.right)},f.prototype.visitOr=function(g,S){return!(!(0,s.Z8)(S)||!this.equalAnnotations(g,S))&&this.equals(g.left,S.left)&&this.equals(g.right,S.right)},f.prototype.visitCompare=function(g,S){return!(!(0,s.$Q)(S)||!this.equalAnnotations(g,S))&&g.comparison===S.comparison&&this.equals(g.left,S.left)&&this.equals(g.right,S.right)},f.prototype.visitConditional=function(g,S){var y=this;return!(!(0,s.Gs)(S)||!this.equalAnnotations(g,S))&&(0,c.NF)(g.cases,S.cases,function(C,E){return y.visitCase(C,E)})&&this.equalsNullableObject(g.defaultValue,S.defaultValue,function(C,E){return y.equals(C,E)})},f.prototype.visitCase=function(g,S){return this.equals(g.condition,S.condition)&&this.equals(g.value,S.value)},f.prototype.visitContains=function(g,S){return!(!(0,s.IS)(S)||!this.equalAnnotations(g,S))&&this.equals(g.left,S.left)&&this.equals(g.right,S.right)},f.prototype.visitDateSpan=function(g,S){return!(!(0,s.dZ)(S)||!this.equalAnnotations(g,S))&&g.unit===S.unit&&this.equals(g.arg,S.arg)},f.prototype.visitDateAdd=function(g,S){return!(!(0,s.Ok)(S)||!this.equalAnnotations(g,S))&&g.unit===S.unit&&g.amount===S.amount&&this.equals(g.arg,S.arg)},f.prototype.visitExists=function(g,S){return!(!(0,s.hV)(S)||!this.equalAnnotations(g,S))&&this.equals(g.arg,S.arg)},f.prototype.visitNot=function(g,S){return!(!(0,s.Ym)(S)||!this.equalAnnotations(g,S))&&this.equals(g.arg,S.arg)},f.prototype.visitNow=function(g,S){return!!this.equalAnnotations(g,S)&&(0,s.jr)(S)},f.prototype.visitDefaultValue=function(g,S){return!!this.equalAnnotations(g,S)&&(0,s.FU)(S)},f.prototype.visitAnyValue=function(g,S){return!!this.equalAnnotations(g,S)&&(0,s.cw)(S)},f.prototype.visitResourcePackageItem=function(g,S){return!(!(0,s.MI)(S)||!this.equalAnnotations(g,S))&&g.packageName===S.packageName&&g.packageType===S.packageType&&g.itemName===S.itemName},f.prototype.visitStartsWith=function(g,S){return!(!(0,s.f8)(S)||!this.equalAnnotations(g,S))&&this.equals(g.left,S.left)&&this.equals(g.right,S.right)},f.prototype.visitConstant=function(g,S){return!!((0,s.VC)(S)&&g.type.equals(S.type)&&this.equalAnnotations(g,S))&&(g.type.text&&this.ignoreCase?(0,t.vr)(g.valueEncoded,S.valueEncoded):g.valueEncoded===S.valueEncoded)},f.prototype.visitFillRule=function(g,S){var y=this;if(!(0,s.Tu)(S)||!this.equals(g.input,S.input)||!this.equalAnnotations(g,S))return!1;var C=g.rule,E=S.rule;return C===E||this.equalsNullableObject(C.linearGradient2,E.linearGradient2,function(D,P){return y.visitLinearGradient2(D,P)})&&this.equalsNullableObject(C.linearGradient3,E.linearGradient3,function(D,P){return y.visitLinearGradient3(D,P)})},f.prototype.visitLinearGradient2=function(g,S){var y=this;return i.fF.assertValue(g,"left"),i.fF.assertValue(S,"right"),this.equalsFillRuleStop(g.min,S.min)&&this.equalsFillRuleStop(g.max,S.max)&&this.equalsNullableObject(g.nullColoringStrategy,S.nullColoringStrategy,function(C,E){return y.equalsNullStrategy(C,E)})},f.prototype.visitLinearGradient3=function(g,S){var y=this;return i.fF.assertValue(g,"left"),i.fF.assertValue(S,"right"),this.equalsFillRuleStop(g.min,S.min)&&this.equalsFillRuleStop(g.mid,S.mid)&&this.equalsFillRuleStop(g.max,S.max)&&this.equalsNullableObject(g.nullColoringStrategy,S.nullColoringStrategy,function(C,E){return y.equalsNullStrategy(C,E)})},f.prototype.visitThemeDataColor=function(g,S){return i.fF.assertValue(g,"expr"),i.fF.assertValue(S,"comparand"),(0,s.wt)(S)&&g.colorId===S.colorId&&g.percent===S.percent},f.prototype.equalsFillRuleStop=function(g,S){return i.fF.assertValue(g,"stop1"),i.fF.assertValue(S,"stop2"),this.equals(g.color,S.color)&&this.equalsNullable(g.value,S.value)},f.prototype.equalsNullStrategy=function(g,S){return i.fF.assertValue(g,"equalsNullStrategy - left"),i.fF.assertValue(S,"equalsNullStrategy - right"),this.equals(g.strategy,S.strategy)&&this.equalsNullable(g.color,S.color)},f.prototype.visitArithmetic=function(g,S){return!(!(0,s.lF)(S)||!this.equalAnnotations(g,S))&&g.operator===S.operator&&this.equals(g.left,S.left)&&this.equals(g.right,S.right)},f.prototype.visitFloor=function(g,S){return!(!(0,s.xb)(S)||!this.equalAnnotations(g,S))&&g.timeUnit===S.timeUnit&&g.size===S.size&&this.equals(g.arg,S.arg)},f.prototype.visitScopedEval=function(g,S){return!(!(0,s.g5)(S)||!this.equalAnnotations(g,S))&&this.equals(g.expression,S.expression)&&this.equalsAll(g.scope,S.scope)},f.prototype.visitFilteredEval=function(g,S){return!(!(0,s.ZG)(S)||!this.equalAnnotations(g,S))&&this.equals(g.expression,S.expression)&&g.filters.length===S.filters.length&&_.every(g.filters,function(y,C){return m(y,S.filters[C])})},f.prototype.visitWithRef=function(g,S){return!(!(0,s.DB)(S)||!this.equalAnnotations(g,S))&&g.expressionName===S.expressionName},f.prototype.visitTransformTableRef=function(g,S){return!(!(0,s.PA)(S)||!this.equalAnnotations(g,S))&&g.source===S.source},f.prototype.visitTransformOutputRoleRef=function(g,S){return!(!(0,s.Im)(S)||!this.equalAnnotations(g,S))&&g.role===S.role&&g.transform===S.transform},f.prototype.visitRoleRef=function(g,S){return!(!(0,s.yL)(S)||!this.equalAnnotations(g,S))&&g.role===S.role},f.prototype.visitSummaryValueRef=function(g,S){return!(!(0,s.Bm)(S)||!this.equalAnnotations(g,S))&&g.name===S.name},f.prototype.visitAllRolesRef=function(g,S){return(0,s.LX)(S)},f.prototype.visitDiscretize=function(g,S){return!(!(0,s.P4)(S)||!this.equalAnnotations(g,S))&&g.count===S.count&&this.equals(g.source,S.source)},f.prototype.visitMember=function(g,S){return!(!(0,s.RN)(S)||!this.equalAnnotations(g,S))&&g.member===S.member&&this.equals(g.source,S.source)},f.prototype.visitSparklineData=function(g,S){return!!(0,s.tO)(S)&&this.equals(g.measure,S.measure)&&this.equalsAll(g.grouping,S.grouping)&&!!(!g.scalarKey&&!S.scalarKey||g.scalarKey&&S.scalarKey&&this.equals(g.scalarKey,S.scalarKey))&&g.pointsPerSparkline===S.pointsPerSparkline&&g.includeMinGroupingInterval===S.includeMinGroupingInterval},f.prototype.optionalEqual=function(g,S){return!g||!S||g===S},f.prototype.equals=function(g,S){return g.accept(this,S)},f.prototype.equalsNullable=function(g,S){var y=this;return this.equalsNullableObject(g,S,function(C,E){return y.equals(C,E)})},f.prototype.equalsNullableObject=function(g,S,y){return null==g&&null==S||null!=g&&null!=S&&y(g,S)},f.prototype.equalsAll=function(g,S){var y=this;return(0,c.NF)(g,S,function(C,E){return y.equals(C,E)})},f.prototype.equalAnnotations=function(g,S){return!(!this.ignoreAnnotations&&!_.isEqual(g.getAnnotations(),S.getAnnotations()))},f.prototype.visitNativeVisualCalc=function(g,S){return!(!this.ignoreAnnotations&&!_.isEqual(g.getAnnotations(),S.getAnnotations()))&&g.language===S.language&&g.expression===S.expression&&g.name===S.name},f.instances=[],f}();function m(f,g){return i.fF.assertAnyValue(f,"leftFilter"),i.fF.assertAnyValue(g,"rightFilter"),f||(f=null),g||(g=null),f===g||!(!!f!=!!g||!v(f,g))&&p(f.condition,g.condition)}function v(f,g){return i.fF.assertValue(f,"leftFilter"),i.fF.assertValue(g,"rightFilter"),(0,c.NF)(f.target,g.target,p)}function e(f,g){return i.fF.assertAnyValue(f,"filters"),i.fF.assertValue(g,"searchTarget"),!_.isEmpty(f)&&_.some(f,function(S){return m(S,g)})}function h(f,g){return!f&&!g||!(!f||!g)&&f.direction===g.direction&&p(f.expr,g.expr)}function n(f,g){return!f&&!g||!(!f||!g)&&p(f.expr,g.expr)}function u(f,g){return!f&&!g||!(!f||!g)&&(0,c.NF)(f.columns,g.columns,function(S,y){return function(f,g){return!f&&!g||!(!f||!g)&&f.role===g.role&&n(f.expression,g.expression)}(S,y)})}function d(f,g){return!f&&!g||!(!f||!g)&&f.algorithm===g.algorithm&&function(f,g){return!f&&!g||!(!f||!g)&&(0,c.NF)(f.parameters,g.parameters,function(S,y){return n(S,y)})&&u(f.table,g.table)}(f.input,g.input)&&function(f,g){return!f&&!g||!(!f||!g)&&u(f.table,g.table)}(f.output,g.output)}function b(f,g){return i.fF.assertValue(f,"x SemanticQuery"),i.fF.assertValue(g,"y SemanticQuery"),f.from().equals(g.from())&&(0,c.NF)(f.where(),g.where(),m)&&(0,c.NF)(f.orderBy(),g.orderBy(),h)&&(0,c.NF)(f.select(),g.select(),n)&&(0,c.NF)(f.groupBy(),g.groupBy(),n)&&(0,c.NF)(f.transforms(),g.transforms(),d)&&f.top()===g.top()}},242895:function(ze,K,r){r.d(K,{q:function(){return V}});var t=r(787941),c=r(456535),i=r(474147),s=r(983172),p=r(799818);function V(v,e,h){var a,n=h.disableHierarchyLevelGrouping,o=h.useNativeReferenceNames,u=[];if(0===e.length)return u;for(var l=0,d=(a=s.m.isSQExprArray(e)?e.map(function(S){return s.m.transformToVisualQueryField(S)}):e).length;l<d;l++){var b=a[l],f=b.expr,g=b.isFieldParameter;t.fF.assertValue(f,"Expression not found"),o||!(0,c.ez)(f)?u.push({expr:f,children:null,selectQueryIndex:l,isHierarchyLevelsGroup:!1,isFieldParameter:g}):m(v,u,f,l,n)}return u}function m(v,e,h,n,o){var u=!0,a=(0,p.ZB)(h)||(0,p.uW)(h),l=_.last(e);if(!o&&l&&l.children&&(0,i.fS)(l.expr,a)){var d=(0,p.wA)(v,h.arg);d instanceof Array&&(u=!(0,p.hG)(d,_.last(l.children),h))}u||o?e.push({expr:a,children:[h],selectQueryIndex:n,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(t.fF.assertValue(l,"There should be a group to add the variation to"),t.fF.assertValue(l.children,"The group should have children to add the variation to"),l.children.push(h))}},474374:function(ze,K,r){r.d(K,{H:function(){return V}});var t=r(226514),c=r(787941),i=r(597098),s=r(954617),p=r(998583);function V(v){return m.rewrite(v)}var m=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return(0,t.__extends)(e,v),e.rewrite=function(h){return c.fF.assertValue(h,"expr"),h.accept(e.instance)},e.prototype.visitDefault=function(h){var n=(0,i.Q)(h);return n&&n.percentOfGrandTotal&&(h=(0,p.B)(n.percentOfGrandTotal.baseExpr)),h},e.instance=new e,e}(s.p)},779722:function(ze,K,r){r.d(K,{E:function(){return V}});var t=r(226514),c=r(787941),i=r(597098),s=r(954617),p=r(998583);function V(v){return m.rewrite(v)}var m=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return(0,t.__extends)(e,v),e.rewrite=function(h){return c.fF.assertValue(h,"expr"),h.accept(e.instance)},e.prototype.visitDefault=function(h){var n=(0,i.Q)(h);return n&&n.percentOfRoleTotal&&(h=(0,p.B)(n.percentOfRoleTotal.baseExpr)),h},e.instance=new e,e}(s.p)},334048:function(ze,K,r){r.d(K,{b:function(){return V}});var t=r(226514),c=r(883863),i=r(787941),s=r(324356),p=r(474147),V=function(){function v(){}return v.prototype.visitColumnRef=function(e){var h=e.source,n=h.accept(this);return h===n?e:new s.Wh(n,e.ref,void 0,e.getAnnotations())},v.prototype.visitMeasureRef=function(e){var h=e.source,n=h.accept(this);return h===n?e:new s.UY(n,e.ref,e.getAnnotations())},v.prototype.visitNativeMeasure=function(e){var h=e.expressionContentCache&&e.expressionContentCache.dependencies,n=h&&this.rewriteAll(h);return h===n?e:new s.$f(e.language,e.expression,e.dataType,e.proposedName,(0,t.__assign)((0,t.__assign)({},e.expressionContentCache),{dependencies:n}),e.format,e.getAnnotations())},v.prototype.visitNativeColumn=function(e){var h=e.expressionContentCache&&e.expressionContentCache.dependencies,n=h&&this.rewriteAll(h),o=e.source.accept(this);if(h===n&&e.source===o)return e;var u=e.expressionContentCache?(0,t.__assign)((0,t.__assign)({},e.expressionContentCache),{dependencies:n}):void 0;return new s.F1(e.language,e.expression,e.dataType,o,e.proposedName,u,e.format,e.getAnnotations())},v.prototype.visitAggr=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.v0(n,e.func,e.includeAllTypes,e.getAnnotations())},v.prototype.visitSelectRef=function(e){return e},v.prototype.visitPercentile=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s._n(n,e.k,e.exclusive,e.getAnnotations())},v.prototype.visitRangePercent=function(e){var h=e.min,n=h.accept(this),o=e.max,u=o.accept(this);return h===n&&o===u?e:new s.LE(n,u,e.percent,e.getAnnotations())},v.prototype.visitGroupRef=function(e){for(var h=e.source,n=e.source.accept(this),o=e.groupedExprs,u=new Array(o.length),a=0;a<o.length;a++)u[a]=o[a].accept(this);return h===n&&function(v,e){i.fF.assertValue(v,"x"),i.fF.assertValue(e,"y");var h=v.length;if(h!==e.length)return!1;for(var n=0;n<h;n++)if(!(0,p.fS)(v[n],e[n]))return!1;return!0}(o,u)?e:new s.qg(e.ref,n,u,e.getAnnotations())},v.prototype.visitHierarchy=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.jE(n,e.hierarchy,e.getAnnotations())},v.prototype.visitHierarchyLevel=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.vD(n,e.level,e.getAnnotations())},v.prototype.visitPropertyVariationSource=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.c7(n,e.name,e.property,e.getAnnotations())},v.prototype.visitEntity=function(e){return e},v.prototype.visitSubqueryRef=function(e){return e},v.prototype.visitNamedQueryRef=function(e){return e},v.prototype.visitAnd=function(e){var h=e.left,n=h.accept(this),o=e.right,u=o.accept(this);return h===n&&o===u?e:new s.uV(n,u,e.getAnnotations())},v.prototype.visitBetween=function(e){var h=e.arg,n=h.accept(this),o=e.lower,u=o.accept(this),a=e.upper,l=a.accept(this);return h===n&&o===u&&a===l?e:new s.I6(n,u,l,e.getAnnotations())},v.prototype.visitIn=function(e){var u,h=e.args,n=this.rewriteAll(h),o=e.values,a=e.table,l=a;if(o){i.fF.assert(function(){return!a},"values and table cannot be both specified for the In operator");for(var d=0,b=o.length;d<b;d++){var f=o[d],g=this.rewriteAll(f);f!==g&&!u&&(u=(0,c.qn)(o,d)),u&&u.push(g)}}return a&&(i.fF.assert(function(){return!o},"values and table cannot be both specified for the In operator"),l=a.accept(this)),h!==n||u||a!==l?new s.Xg(n,u||o,l,e.getAnnotations()):e},v.prototype.rewriteAll=function(e){var h=this;return i.fF.assertValue(e,"origExprs"),(0,c.UU)(e,function(n){return n.accept(h)})},v.prototype.visitOr=function(e){var h=e.left,n=h.accept(this),o=e.right,u=o.accept(this);return h===n&&o===u?e:new s.Cc(n,u,e.getAnnotations())},v.prototype.visitCompare=function(e){var h=e.left,n=h.accept(this),o=e.right,u=o.accept(this);return h===n&&o===u?e:new s.wU(e.comparison,n,u,e.getAnnotations())},v.prototype.visitConditional=function(e){i.fF.assertNonEmpty(e.cases,"orig.cases");for(var u,h=e.defaultValue,n=h&&h.accept(this),o=e.cases,a=0,l=o.length;a<l;a++){var d=o[a],b=this.visitCase(d);d!==b&&!u&&(u=(0,c.qn)(o,a)),u&&u.push(b)}return u||(u=o),n===h&&u===o?e:new s.c8(u,n,e.getAnnotations())},v.prototype.visitCase=function(e){var h=e.condition,n=h.accept(this),o=e.value,u=o.accept(this);return h===n&&o===u?e:{condition:n,value:u}},v.prototype.visitContains=function(e){var h=e.left,n=h.accept(this),o=e.right,u=o.accept(this);return h===n&&o===u?e:new s.ev(n,u,e.getAnnotations())},v.prototype.visitExists=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.eX(n,e.getAnnotations())},v.prototype.visitNot=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.v3(n,e.getAnnotations())},v.prototype.visitStartsWith=function(e){var h=e.left,n=h.accept(this),o=e.right,u=o.accept(this);return h===n&&o===u?e:new s.fw(n,u,e.getAnnotations())},v.prototype.visitConstant=function(e){return e},v.prototype.visitFloor=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.UG(n,e.size,e.timeUnit,e.getAnnotations())},v.prototype.visitDateSpan=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.AC(e.unit,n,e.getAnnotations())},v.prototype.visitDateAdd=function(e){var h=e.arg,n=h.accept(this);return h===n?e:new s.YB(e.unit,e.amount,n,e.getAnnotations())},v.prototype.visitNow=function(e){return e},v.prototype.visitDefaultValue=function(e){return e},v.prototype.visitAnyValue=function(e){return e},v.prototype.visitArithmetic=function(e){var h=e.left,n=h.accept(this),o=e.right,u=o.accept(this);return h===n&&o===u?e:new s.MH(n,u,e.operator,e.getAnnotations())},v.prototype.visitScopedEval=function(e){var h=e.expression,n=h.accept(this),o=e.scope,u=this.rewriteAll(o);return h===n&&o===u?e:new s.kC(n,u,e.getAnnotations())},v.prototype.visitFilteredEval=function(e){for(var h=e.expression,n=h.accept(this),o=!1,u=[],a=0,l=e.filters;a<l.length;a++){var d=l[a],b=d.target,f=void 0;_.isEmpty(b)||(f=this.rewriteAll(b));var g=d.condition,S=d.condition.accept(this);(b!==f||g!==S)&&(o=!0),u.push({target:f,condition:S})}return h!==n||o?new s.Gv(n,u,e.getAnnotations()):e},v.prototype.visitWithRef=function(e){return e},v.prototype.visitTransformTableRef=function(e){return e},v.prototype.visitTransformOutputRoleRef=function(e){return e},v.prototype.visitRoleRef=function(e){return e},v.prototype.visitSummaryValueRef=function(e){return e},v.prototype.visitAllRolesRef=function(e){return e},v.prototype.visitFillRule=function(e){var h=e.input,n=h.accept(this),o=e.rule,u=o.linearGradient2,a=u;u&&(a=this.visitLinearGradient2(u));var l=o.linearGradient3,d=l;if(l&&(d=this.visitLinearGradient3(l)),h!==n||u!==a||l!==d){var b={};return a&&(b.linearGradient2=a),d&&(b.linearGradient3=d),new s.DJ(n,b,e.getAnnotations())}return e},v.prototype.visitLinearGradient2=function(e){i.fF.assertValue(e,"origGradient");var h=e.min,n=this.visitFillRuleStop(h),o=e.max,u=this.visitFillRuleStop(o),a=e.nullColoringStrategy,l=this.visitFillNullStrategy(a);if(h!==n||o!==u||a!==l){var d={min:n,max:u};return l&&(d.nullColoringStrategy=l),d}return e},v.prototype.visitLinearGradient3=function(e){i.fF.assertValue(e,"origGradient");var h=e.min,n=this.visitFillRuleStop(h),o=e.mid,u=this.visitFillRuleStop(o),a=e.max,l=this.visitFillRuleStop(a),d=e.nullColoringStrategy,b=this.visitFillNullStrategy(d);if(h!==n||o!==u||a!==l||d!==b){var f={min:n,mid:u,max:l};return b&&(f.nullColoringStrategy=b),f}return e},v.prototype.visitFillRuleStop=function(e){i.fF.assertValue(e,"stop");var h=e.color,n=e.color.accept(this),o=e.value,u=o;if(o&&(u=o.accept(this)),h!==n||o!==u){var a={color:n};return u&&(a.value=u),a}return e},v.prototype.visitFillNullStrategy=function(e){if(e){var h=e.strategy,n=h.accept(this),o=e.color,u=o;if(o&&(u=o.accept(this)),h!==n||o!==u){var a={strategy:n};return u&&(a.color=u),a}return e}},v.prototype.visitThemeDataColor=function(e){return e},v.prototype.visitResourcePackageItem=function(e){return e},v.prototype.visitDiscretize=function(e){var h=e.source.accept(this);return h===e.source?e:new s.ex(h,e.count,e.getAnnotations())},v.prototype.visitMember=function(e){var h=e.source.accept(this);return h===e.source?e:new s.Jm(h,e.member,e.getAnnotations())},v.prototype.visitSparklineData=function(e){var h,n=e.measure.accept(this),o=this.rewriteAll(e.grouping),u=null===(h=e.scalarKey)||void 0===h?void 0:h.accept(this),a=e.pointsPerSparkline,l=e.includeMinGroupingInterval;return n===e.measure&&o===e.grouping&&e.scalarKey===u&&e.pointsPerSparkline===a&&e.includeMinGroupingInterval===l?e:new s.GF(n,o,u,a,l)},v.prototype.visitNativeVisualCalc=function(e){return e},v}()},954617:function(ze,K,r){r.d(K,{p:function(){return t}});var t=function(){function c(){}return c.prototype.visitEntity=function(i,s){return this.visitDefault(i,s)},c.prototype.visitSubqueryRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitColumnRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitMeasureRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitAggr=function(i,s){return this.visitDefault(i,s)},c.prototype.visitPercentile=function(i,s){return this.visitDefault(i,s)},c.prototype.visitRangePercent=function(i,s){return this.visitDefault(i,s)},c.prototype.visitGroupRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitHierarchy=function(i,s){return this.visitDefault(i,s)},c.prototype.visitHierarchyLevel=function(i,s){return this.visitDefault(i,s)},c.prototype.visitPropertyVariationSource=function(i,s){return this.visitDefault(i,s)},c.prototype.visitSelectRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitAnd=function(i,s){return this.visitDefault(i,s)},c.prototype.visitBetween=function(i,s){return this.visitDefault(i,s)},c.prototype.visitIn=function(i,s){return this.visitDefault(i,s)},c.prototype.visitOr=function(i,s){return this.visitDefault(i,s)},c.prototype.visitCompare=function(i,s){return this.visitDefault(i,s)},c.prototype.visitConditional=function(i,s){return this.visitDefault(i,s)},c.prototype.visitContains=function(i,s){return this.visitDefault(i,s)},c.prototype.visitExists=function(i,s){return this.visitDefault(i,s)},c.prototype.visitNot=function(i,s){return this.visitDefault(i,s)},c.prototype.visitStartsWith=function(i,s){return this.visitDefault(i,s)},c.prototype.visitConstant=function(i,s){return this.visitDefault(i,s)},c.prototype.visitDateSpan=function(i,s){return this.visitDefault(i,s)},c.prototype.visitDateAdd=function(i,s){return this.visitDefault(i,s)},c.prototype.visitNow=function(i,s){return this.visitDefault(i,s)},c.prototype.visitDefaultValue=function(i,s){return this.visitDefault(i,s)},c.prototype.visitAnyValue=function(i,s){return this.visitDefault(i,s)},c.prototype.visitArithmetic=function(i,s){return this.visitDefault(i,s)},c.prototype.visitFloor=function(i,s){return this.visitDefault(i,s)},c.prototype.visitFillRule=function(i,s){return this.visitDefault(i,s)},c.prototype.visitThemeDataColor=function(i,s){return this.visitDefault(i,s)},c.prototype.visitResourcePackageItem=function(i,s){return this.visitDefault(i,s)},c.prototype.visitScopedEval=function(i,s){return this.visitDefault(i,s)},c.prototype.visitFilteredEval=function(i,s){return this.visitDefault(i,s)},c.prototype.visitWithRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitTransformTableRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitTransformOutputRoleRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitRoleRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitAllRolesRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitDiscretize=function(i,s){return this.visitDefault(i,s)},c.prototype.visitMember=function(i,s){return this.visitDefault(i,s)},c.prototype.visitNamedQueryRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitNativeMeasure=function(i,s){return this.visitDefault(i,s)},c.prototype.visitNativeColumn=function(i,s){return this.visitDefault(i,s)},c.prototype.visitSummaryValueRef=function(i,s){return this.visitDefault(i,s)},c.prototype.visitSparklineData=function(i,s){return this.visitDefault(i,s)},c.prototype.visitNativeVisualCalc=function(i,s){return this.visitDefault(i,s)},c.prototype.visitDefault=function(i,s){return i},c}()},207598:function(ze,K,r){r.d(K,{F:function(){return V}});var t=r(226514),c=r(787941),i=r(597098),s=r(954617),p=r(998583);function V(v){return m.rewrite(v)}var m=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return(0,t.__extends)(e,v),e.rewrite=function(h){return c.fF.assertValue(h,"expr"),h.accept(e.instance)},e.prototype.visitDefault=function(h){var n=(0,i.Q)(h);return n&&!n.percentOfGrandTotal&&(h=(0,p.B)({percentOfGrandTotal:{baseExpr:n}})),h},e.instance=new e,e}(s.p)},350562:function(ze,K,r){r.d(K,{z:function(){return V}});var t=r(226514),c=r(787941),i=r(597098),s=r(954617),p=r(998583);function V(v,e){return m.rewrite(v,e)}var m=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return(0,t.__extends)(e,v),e.rewrite=function(h,n){return c.fF.assertValue(h,"expr"),h.accept(e.instance,n)},e.prototype.visitDefault=function(h,n){var o=(0,i.Q)(h);return o&&!o.percentOfRoleTotal&&(h=(0,p.B)({percentOfRoleTotal:{baseExpr:o,roles:n}})),h},e.instance=new e,e}(s.p)},456535:function(ze,K,r){r.d(K,{$Q:function(){return te},AW:function(){return e},Az:function(){return ye},Bm:function(){return L},DB:function(){return N},FU:function(){return ve},Gs:function(){return Q},Hi:function(){return a},IS:function(){return H},Il:function(){return U},Im:function(){return A},Kh:function(){return j},LX:function(){return W},Lk:function(){return n},MI:function(){return I},NH:function(){return M},Ny:function(){return f},Ok:function(){return Y},P4:function(){return _e},PA:function(){return x},Pe:function(){return w},RN:function(){return le},S9:function(){return V},T5:function(){return E},Tu:function(){return je},VC:function(){return p},WC:function(){return ie},X5:function(){return d},Xx:function(){return g},YF:function(){return D},Ym:function(){return ce},Z8:function(){return G},ZG:function(){return R},cY:function(){return y},cw:function(){return De},dZ:function(){return de},ez:function(){return u},f8:function(){return We},fU:function(){return v},g:function(){return m},g5:function(){return T},hV:function(){return se},iV:function(){return l},jX:function(){return me},jc:function(){return P},jk:function(){return C},jr:function(){return pe},jv:function(){return B},kb:function(){return S},lF:function(){return c},lg:function(){return b},t3:function(){return s},tO:function(){return Z},uR:function(){return h},un:function(){return z},wD:function(){return F},wt:function(){return Ae},xb:function(){return i},y3:function(){return o},yL:function(){return O}});var t=r(787941);function c(oe){return t.fF.assertValue(oe,"expr"),23===oe.kind}function i(oe){return t.fF.assertValue(oe,"expr"),35===oe.kind}function s(oe){return t.fF.assertValue(oe,"expr"),2===oe.kind}function p(oe){return t.fF.assertValue(oe,"expr"),17===oe.kind}function V(oe){return t.fF.assertValue(oe,"expr"),p(oe)&&oe.type.numeric}function m(oe){return t.fF.assertValue(oe,"expr"),p(oe)&&oe.type.bool}function v(oe){return t.fF.assertValue(oe,"expr"),p(oe)&&oe.type.dateTime}function e(oe){return t.fF.assertValue(oe,"expr"),p(oe)&&oe.type.text}function h(oe){return t.fF.assertValue(oe,"expr"),p(oe)&&0===oe.type.primitiveType&&null===oe.value}function n(oe){return t.fF.assertValue(oe,"expr"),0===oe.kind}function o(oe){return t.fF.assertValue(oe,"expr"),6===oe.kind}function u(oe){return t.fF.assertValue(oe,"expr"),7===oe.kind}function a(oe){return t.fF.assertValue(oe,"expr"),10===oe.kind}function l(oe){return t.fF.assertValue(oe,"expr"),4===oe.kind}function d(oe){return t.fF.assertValue(oe,"expr"),l(oe)&&3===oe.func}function b(oe){return t.fF.assertValue(oe,"expr"),l(oe)&&4===oe.func}function f(oe){return t.fF.assertValue(oe,"expr"),l(oe)&&1===oe.func}function g(oe){return t.fF.assertValue(oe,"expr"),l(oe)&&6===oe.func}function S(oe){return t.fF.assertValue(oe,"expr"),3===oe.kind}function y(oe){return t.fF.assertValue(oe,"expr"),43===oe.kind}function C(oe){return t.fF.assertValue(oe,"expr"),44===oe.kind}function E(oe){return t.fF.assertValue(oe,"expr"),28===oe.kind}function D(oe){return t.fF.assertValue(oe,"expr"),29===oe.kind}function P(oe){return t.fF.assertValue(oe,"expr"),5===oe.kind}function M(oe){return t.fF.assertValue(oe,"expr"),30===oe.kind}function T(oe){return t.fF.assertValue(oe,"expr"),26===oe.kind}function R(oe){return t.fF.assertValue(oe,"expr"),41===oe.kind}function B(oe){return t.fF.assertValue(oe,"expr"),1===oe.kind}function N(oe){return t.fF.assertValue(oe,"expr"),27===oe.kind}function x(oe){return t.fF.assertValue(oe,"expr"),31===oe.kind}function A(oe){return t.fF.assertValue(oe,"expr"),32===oe.kind}function I(oe){return t.fF.assertValue(oe,"expr"),25===oe.kind}function w(oe){return t.fF.assertValue(oe,"expr"),13===oe.kind}function F(oe){return t.fF.assertValue(oe,"expr"),34===oe.kind}function O(oe){return t.fF.assertValue(oe,"expr"),36===oe.kind}function L(oe){return t.fF.assertValue(oe,"expr"),45===oe.kind}function W(oe){return t.fF.assertValue(oe,"expr"),37===oe.kind}function U(oe){return t.fF.assertValue(oe,"expr"),39===oe.kind}function j(oe){return t.fF.assertValue(oe,"expr"),9===oe.kind}function z(oe){return t.fF.assertValue(oe,"expr"),8===oe.kind}function G(oe){return t.fF.assertValue(oe,"expr"),11===oe.kind}function te(oe){return t.fF.assertValue(oe,"expr"),13===oe.kind}function Q(oe){return t.fF.assertValue(oe,"expr"),42===oe.kind}function H(oe){return t.fF.assertValue(oe,"expr"),12===oe.kind}function de(oe){return t.fF.assertValue(oe,"expr"),18===oe.kind}function Y(oe){return t.fF.assertValue(oe,"expr"),19===oe.kind}function se(oe){return t.fF.assertValue(oe,"expr"),15===oe.kind}function ce(oe){return t.fF.assertValue(oe,"expr"),16===oe.kind}function pe(oe){return t.fF.assertValue(oe,"expr"),20===oe.kind}function ve(oe){return t.fF.assertValue(oe,"expr"),22===oe.kind}function De(oe){return t.fF.assertValue(oe,"expr"),21===oe.kind}function We(oe){return t.fF.assertValue(oe,"expr"),14===oe.kind}function je(oe){return t.fF.assertValue(oe,"expr"),24===oe.kind}function Ae(oe){return t.fF.assertValue(oe,"expr"),33===oe.kind}function _e(oe){return t.fF.assertValue(oe,"expr"),38===oe.kind}function le(oe){return t.fF.assertValue(oe,"expr"),40===oe.kind}function Z(oe){return t.fF.assertValue(oe,"expr"),46===oe.kind}function ie(oe){return t.fF.assertValue(oe,"expr"),0===oe.comparison&&(h(oe.right)||h(oe.left))}function me(oe){return t.fF.assertValue(oe,"expr"),47===oe.kind}function ye(oe){return t.fF.assertValue(oe,"expr"),l(oe)&&5===oe.func}},171460:function(ze,K,r){r.d(K,{L:function(){return t},Q:function(){return c}});var t="PowerBI.SQExprEvaluationKind",c="PowerBI.SQExprTextOperatorOption"},983172:function(ze,K,r){r.d(K,{m:function(){return l}});var t=r(226514),c=r(883863),i=r(787941),s=r(19632),p=r(44615),V=r(597098),m=r(217926),v=r(324356),e=r(116170),h=r(620006),n=r(158519),o=r(456535),u=r(474147),a=r(331115),l=function(){function S(){}return S.supportsArithmetic=function(y,C,E){var D=C.getMetadata(E),P=D&&D.type;return!(!D||!P)&&(2===y||3===y?P.numeric:P.numeric||P.dateTime||P.duration)},S.indexOfExpr=function(y,C){i.fF.assertValue(y,"items"),i.fF.assertValue(C,"searchElement");for(var E=0,D=y.length;E<D;E++)if((0,u.fS)(y[E],C))return E;return-1},S.sequenceEqual=function(y,C){i.fF.assertValue(y,"x"),i.fF.assertValue(C,"y");var E=y.length;if(E!==C.length)return!1;for(var D=0;D<E;D++)if(!(0,u.fS)(y[D],C[D]))return!1;return!0},S.isSubset=function(y,C){i.fF.assertValue(y,"x"),i.fF.assertValue(C,"y");for(var E=function(B){if(-1===_.findIndex(C,function(x){return(0,u.fS)(x,B)}))return{value:!1}},D=0,P=y;D<P.length;D++){var T=E(P[D]);if("object"==typeof T)return T.value}return!0},S.isFromVariation=function(y){return i.fF.assertValue(y,"expr"),(0,o.y3)(y)&&(0,o.jc)(y.arg)||(0,o.ez)(y)&&this.isFromVariation(y.arg)},S.discourageAggregation=function(y,C){var E=this.getSchemaCapabilities(y,C);return _.some(E,function(D){return D.discourageQueryAggregateUsage})},S.getAggregateBehavior=function(y,C){i.fF.assertValue(y,"expr"),i.fF.assertValue(C,"schema");var E=this.getConceptualColumn(y,C);if(E)return E.aggregateBehavior},S.getSchemaCapabilities=function(y,C){i.fF.assertValue(y,"expr"),i.fF.assertValue(C,"schema");var E=(0,V.Q)(y,C);if(E){var D=(0,p.pV)(E);return _.chain(D).map(function(P){var M;return null===(M=C.schema(P.schema))||void 0===M?void 0:M.capabilities}).filter(function(P){return!!P}).value()}},S.getKpiMetadata=function(y,C){var E=this.getKpiStatusProperty(y,C);if(E)return E.kpiValue.measure.kpi.statusMetadata;var D=this.getKpiTrendProperty(y,C);return D?D.kpiValue.measure.kpi.trendMetadata:void 0},S.getParameterMetadata=function(y,C){var E=y.getConceptualProperty(C,!0),D=E&&E.column&&E.column.parameterMetadata;return D&&this.getDataViewParameterColumnMetadata(D)},S.getWhatIfParameterMetadata=function(y){if(y&&y.parameterMetadata&&0===y.parameterMetadata.kind)return y.parameterMetadata},S.getFieldParameterQuerySelects=function(y,C){var E;if(!_.isEmpty(y)){var D=y.getConceptualProperty(C);if(D){var P=D.column;if(P&&2===y.kind&&2===(null===(E=P.parameterMetadata)||void 0===E?void 0:E.kind)){var M=y.getTargetEntity(),T=C.schema(M.schema).entities.withName(M.entity),R=_.some(T.properties,function(I){return I.column&&I.column.keys});i.fF.assert(function(){return R},"A key should always exist within the fieldParameter entity");for(var B=0,N=T.properties;B<N.length;B++){var x=N[B];if(x.column&&x.column.keys&&1===x.column.keys.length){var A=x.column.keys[0];if(A===D)return{parameterColumn:y,labelColumn:(0,v.Oh)(M,x.name)};if(D===x)return{labelColumn:y,parameterColumn:(0,v.Oh)(M,A.name)}}}return{parameterColumn:y}}}}},S.getFieldParameters=function(y){var C=[];for(var E in y){var P=y[E].getFieldParameters();C.push({role:E,parameters:P})}return C},S.getParameterValuesOrder=function(y,C){if(!_.isEmpty(y))for(var E=0,D=y;E<D.length;E++){var P=D[E],M=null==P?void 0:P.conditions();if(!_.isEmpty(M)){var T=(0,m.lZ)(C,M[0]);if(!_.isEmpty(T))return T}}return[]},S.isFilterForFieldParameter=function(y,C,E){if(y)for(var P=0,M=S.getFieldParameters(y);P<M.length;P++)for(var R=0,B=M[P].parameters;R<B.length;R++){var x=S.getFieldParameterQuerySelects(B[R].expr,E);if(x&&!_.isEmpty(S.getParameterValuesOrder([C],x.parameterColumn)))return!0}return!1},S.shouldUseAsFieldParameter=function(y,C,E,D,P){return!(!y||P||!D||(0,o.ez)(E)||!S.getFieldParameterQuerySelects(E,C))},S.getDataViewParameterColumnMetadata=function(y){return{kind:this.getDataViewParameterKind(y),mappedMParameterNames:y.mappedMParameterNames,supportsMultipleValues:y.supportsMultipleValues,supportsSelectAll:y.supportsSelectAll}},S.getDataViewParameterKind=function(y){if(null!=y){var C=y.kind;if(null==C)return 0;switch(C){case 0:return 0;case 1:return 1;case 2:return 2;default:return void i.fF.assertNever(C)}}},S.hasMappedMParameter=function(y,C){var E=this.getConceptualParameterMetadata(y,C);return 1===(null==E?void 0:E.kind)},S.isSupportMulitpleValuesEnabled=function(y,C){var E=this.getConceptualParameterMetadata(y,C);return null==E?void 0:E.supportsMultipleValues},S.getConceptualParameterMetadata=function(y,C){var E=this.getConceptualColumn(y,C);return null==E?void 0:E.parameterMetadata},S.getConceptualEntity=function(y,C){return i.fF.assertValue(y,"entityExpr"),C.schema(y.schema).entities.withName(y.entity)},S.hasMappedColumn=function(y,C){return d.hasMappedColumn(y,C)},S.getColumnnsWithKey=function(y,C){i.fF.assertValue(y,"keyExpr"),i.fF.assertValue(C,"schema");var E=y.getTargetColumnRef(C);if(E){var D=E.getConceptualProperty(C);if(D&&D.column){var P=E.getTargetEntity();if(P){var M=this.getConceptualEntity(P,C);if(M){for(var T=[],R=0,B=M.properties;R<B.length;R++){var N=B[R];N.column&&N.column.keys&&_.includes(N.column.keys,D)&&T.push((0,v.Oh)(P,N.name))}return T}}}}},S.tryGetExprFromFilter=function(y){if((0,o.Hi)(y.condition)&&1===_.size(y.condition.args))return y.condition.args[0];if((0,o.$Q)(y.condition)){if((0,o.VC)(y.condition.left))return y.condition.right;if((0,o.VC)(y.condition.right))return y.condition.left}},S.checkExprForValidMParameters=function(y,C){return this.checkExprForMapped(y,C).isValidSQExpr},S.checkExprForMapped=function(y,C){return(0,o.$Q)(y)?this.checkComparsionForMapped(y,C):(0,o.Hi)(y)?this.checkInForMapped(y,C):(0,o.Z8)(y)?this.checkOrForMapped(y,C):{isValidSQExpr:!S.hasMappedColumn(y,C)}},S.checkComparsionForMapped=function(y,C){if(!(0,o.t3)(y.left))return{isValidSQExpr:!0};var P,E=S.getConceptualParameterMetadata(y.left,C);if(1===(null==E?void 0:E.kind)){if(0!==y.comparison||(0,o.uR)(y.right))return{isValidSQExpr:!1};if(!E.supportsSelectAll&&(0,o.cw)(y.right))return{isValidSQExpr:!1};P=y.left}return{isValidSQExpr:!0,columnExpr:P}},S.checkInForMapped=function(y,C){for(var D,E=y.args,P=!1,M=!1,T=0,R=E;T<R.length;T++){var B=R[T];if((0,o.t3)(B)){var N=S.getConceptualParameterMetadata(B,C);if(P=1===(null==N?void 0:N.kind)){D=B,M=null==N?void 0:N.supportsMultipleValues;break}}}if(P){if(E.length>1||y.table&&(0,o.jv)(y.table)||y.values.length>1&&!M)return{isValidSQExpr:!1};if(_.some(y.values,function(A){return _.some(A,function(I){return(0,o.uR)(I)})}))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:D}},S.checkOrForMapped=function(y,C){var E=this.checkExprForMapped(y.left,C),D=this.checkExprForMapped(y.right,C),P=E.columnExpr,M=D.columnExpr;return(0,u.fS)(P,M)?P&&!S.isSupportMulitpleValuesEnabled(P,C)||M&&!S.isSupportMulitpleValuesEnabled(M,C)?{isValidSQExpr:!1}:{isValidSQExpr:E.isValidSQExpr&&D.isValidSQExpr,columnExpr:P}:{isValidSQExpr:!1}},S.getKpiStatusProperty=function(y,C){var E=y.getConceptualProperty(C);if(E){var D=E.kpiValue;if(D&&D.measure.kpi.status===E)return E}},S.getKpiTrendProperty=function(y,C){var E=y.getConceptualProperty(C);if(E){var D=E.kpiValue;if(D&&D.measure.kpi.trend===E)return E}},S.getDefaultValue=function(y,C){var E=this.getConceptualColumn(y,C);if(E)return E.defaultValue},S.getConceptualColumn=function(y,C){if(y&&C){var E=(0,V.Q)(y);if(E){var D=E.column||E.groupingColumn;if(D){if(C.schema(D.schema)&&D.name){var P=C.schema(D.schema).findProperty(D.entity,D.name);if(P)return P.column}}else{var M=E.hierarchyLevel;if(M){var T=(0,p.Um)(E),R=T.schema;if(C.schema(R)){var B=C.schema(R).findHierarchy(T.entity,M.name);if(B){var N=B.levels.withName(M.level);if(N&&N.column)return N.column.column}}}}}}},S.getDefaultValues=function(y,C){if(!_.isEmpty(y)&&C){for(var E=[],D=0,P=y;D<P.length;D++){var T=this.getDefaultValue(P[D],C);T&&E.push(T)}return E}},S.getPrimitiveValuesFromSQConstantExpr=function(y){if((0,o.VC)(y)){if((0,o.AW)(y))return v.jz.getTextValue(y);if((0,o.fU)(y))return v.jz.getDateValue(y);if((0,o.S9)(y))return v.jz.getNumericValue(y);if((0,o.g)(y))return v.jz.getBooleanValue(y)}},S.convertSemanticFilterToDataViewScopeIdentity=function(y){var C=[],E=y.conditions();if(E)for(var D=0,P=E;D<P.length;D++){var M=P[D],T=new m.aL;if(M.accept(T),T.keys&&T.values&&T.values.length>0&&T.keys.length>0&&T.values.length%T.keys.length==0)for(var R=0;R<T.values.length;R+=T.keys.length){for(var B=[],N=[],x=0;x<T.keys.length;x++)B.push(T.keys[x]),N.push(T.values[R+x]);var A=(0,a.R)(B,N),I=(0,s.TZ)(A);C.push(I)}}return C},S.getActiveTablesNames=function(y){var E=new h.Nh;if(y){var D=y.from();if(void 0!==D)for(var P=0,M=D.keys();P<M.length;P++)D.source(M[P]).accept(E,null)}return _.map(E.entities,function(R){return R.entity})},S.isRelatedToMany=function(y,C,E,D){return this.isRelated(y,C,E,0,2,D)||this.isRelated(y,E,C,2,0,D)},S.isRelatedToOne=function(y,C,E,D){return this.isRelated(y,C,E,2,0,D)||this.isRelated(y,E,C,0,2,D)},S.isRelated=function(y,C,E,D,P,M){var T=S.getConceptualEntity(C,y);if(i.fF.assertValue(T,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(T.navigationProperties))return!1;var R=S.getConceptualEntity(E,y);i.fF.assertValue(R,"could not resolve conceptual entity form targetExpr.");var B=[];for(B.push(T);!_.isEmpty(B);){var x=B.shift().navigationProperties;if(!_.isEmpty(x))for(var A=0,I=x;A<I.length;A++){var w=I[A];if(w.isActive&&(null==M||w.behavior===M)&&w.targetMultiplicity===P&&w.sourceMultiplicity===D){if(w.targetEntity===R)return!0;B.push(w.targetEntity)}}}return!1},S.isRelatedOneToOne=function(y,C,E,D){var P=S.getConceptualEntity(C,y);i.fF.assertValue(P,"could not resolve conceptual entity form sourceExpr.");var M=S.getConceptualEntity(E,y);i.fF.assertValue(M,"could not resolve conceptual entity form targetExpr.");var T=P.navigationProperties,R=M.navigationProperties;return(!_.isEmpty(T)||!_.isEmpty(R))&&(this.hasOneToOneNavigation(T,M,D)||this.hasOneToOneNavigation(R,P,D))},S.haveTheSameSchema=function(y){i.fF.assertNonEmpty(y,"exprs should not be null, undefined, or empty");var C=y[0].schema;return _.chain(y).drop(1).every(function(E){return E.schema===C}).value()},S.areHierarchicallyRelated=function(y,C){if(_.isEmpty(C)||!this.haveTheSameSchema(C))return!1;if(1===(C=_.values(_.keyBy(C,function(W){return W.entity}))).length)return!0;var E=C[0].schema,D=_.find(y.schemas,function(W){return W.name===E});if(!D)return!1;var P=C.map(function(W){return S.getConceptualEntity(W,y)});if(_.some(P,function(W){return!W}))return!1;var T=S.buildEntityGraph(D,this.allowedHierarchicalMultiplicityPairForTraversal,0),R=[].concat(P),B=R.shift(),N=this.findEntityPath([B],R,T,!0);if(1===N.length&&0===N[0].unableToVisit.length)return!0;var x=_.values(_.keyBy(_.flatten(N.map(function(W){return W.unableToVisit})),function(W){return W.name})),A=this.findEntityPath([B],x,T,!1);if(1===A.length&&0===A[0].unableToVisit.length)return!0;for(var I=function(U){if(_.find(A,function(z){for(var G=!0,te=0,Q=U.unableToVisit;te<Q.length;te++)if(z.unableToVisit.indexOf(Q[te])>=0){G=!1;break}return G}))return{value:!0}},w=0,F=N;w<F.length;w++){var L=I(F[w]);if("object"==typeof L)return L.value}return!1},S.buildEntityGraph=function(y,C,E){for(var D={},P=y.entities.map(function(L){return L}),M=0,T=P;M<T.length;M++)D[(R=T[M]).name]={entity:R};for(var B=0,N=P;B<N.length;B++){var R,x=(R=N[B]).navigationProperties;if(!_.isEmpty(x))for(var A=D[R.name],I=0,w=x;I<w.length;I++){var F=w[I];if(F.isActive&&(void 0===F.behavior||void 0===E||F.behavior===E)){var O=D[F.targetEntity.name];O&&(this.multiplicityPairMatches([F.targetMultiplicity,F.sourceMultiplicity],C)&&this.addTraversalNodes(O,A),1===F.crossFilterDirection&&this.multiplicityPairMatches([F.sourceMultiplicity,F.targetMultiplicity],C)&&this.addTraversalNodes(A,O))}}}return D},S.addTraversalNodes=function(y,C){y.forwardNodes=y.forwardNodes||[],_.find(y.forwardNodes,function(E){return E.entity.name===C.entity.name})||y.forwardNodes.push(C),C.backwardNodes=C.backwardNodes||[],_.find(C.backwardNodes,function(E){return E.entity.name===y.entity.name})||C.backwardNodes.push(y)},S.multiplicityPairMatches=function(y,C){if(y&&2===y.length&&!_.isEmpty(C))for(var E=0,D=C;E<D.length;E++){var P=D[E];if(2===P.length&&y[0]===P[0]&&y[1]===P[1])return!0}return!1},S.findEntityPath=function(y,C,E,D){if(C=C||[],0===(y=y||[]).length||0===C.length||!E)return[{path:y,unableToVisit:C}];for(var P=0,M=y;P<M.length;P++)if(!E[M[P].name])return[{path:y,unableToVisit:C}];var B=E[y[y.length-1].name],N=D?B.forwardNodes:B.backwardNodes;if(!N||0===N.length)return[{path:y,unableToVisit:C}];for(var x=this.getEntityLoopPatterns(y),A=[],I=0,w=N;I<w.length;I++){var O=w[I].entity,L=[].concat(y);L.push(O);for(var W=!1,U=0,j=x;U<j.length;U++)if(this.endsWith(L,j[U])){W=!0;break}if(!W){var G=C,te=C.indexOf(O);te>=0&&(G=[].concat(C)).splice(te,1);var Q=this.findEntityPath(L,G,E,D);if(1===Q.length&&0===Q[0].unableToVisit.length){A=Q;break}for(var H=0,de=Q;H<de.length;H++)A.push(de[H])}}return 0===A.length&&(A=[{path:y,unableToVisit:C}]),A},S.getEntityLoopPatterns=function(y){for(var C=[],D=function(B){if(y.filter(function(F){return F===B}).length>=2)for(var N=B,x=void 0,A=0,I=y;A<I.length;A++){var w=I[A];w===N?(x&&(x.push(w),C.push(x)),x=[w]):x&&x.push(w)}},P=0,M=_.values(_.keyBy(y,function(R){return R.name}));P<M.length;P++)D(M[P]);return C},S.endsWith=function(y,C){if(C.length>y.length)return!1;for(var E=!0,D=y.length-1,P=C.length-1;P>=0;--P){if(C[P]!==y[D]){E=!1;break}D--}return E},S.hasOneToOneNavigation=function(y,C,E){if(_.isEmpty(y))return!1;for(var D=0,P=y;D<P.length;D++){var M=P[D];if(M.isActive&&(null==E||M.behavior===E)&&M.targetEntity===C&&0===M.sourceMultiplicity&&0===M.targetMultiplicity)return!0}return!1},S.concatUnique=function(y,C){i.fF.assertValue(y,"leftExprs"),i.fF.assertValue(C,"rightExprs");for(var E=(0,c.JG)(y),D=0,P=C;D<P.length;D++){var M=P[D];-1===this.indexOfExpr(E,M)&&E.push(M)}return E},S.detectTransformExpr=function(y){i.fF.assertValue(y,"expr");var C=new b;return y.accept(C),C.sawTransformOutputRoleRef},S.isExprValidForAggregation=function(y){return i.fF.assertValue(y,"expr"),!this.isFromVariation(y)&&!(0,o.y3)(y)},S.isExprValidForSorting=function(y){return i.fF.assertValue(y,"expr"),!(0,o.ZG)(y)},S.isExprValidForFiltering=function(y){return i.fF.assertValue(y,"expr"),!((0,o.ZG)(y)||(0,o.Im)(y)||(0,o.tO)(y)||(0,o.jX)(y))},S.isExprValidForClustering=function(y){return i.fF.assertValue(y,"expr"),!((0,o.ZG)(y)||(0,o.y3)(y)||(0,o.ez)(y)||(0,o.tO)(y)||(0,o.jX)(y))},S.isExprValidForAnalysisTransform=function(y){return i.fF.assertValue(y,"expr"),!(0,o.ZG)(y)},S.getSubqueryExpression=function(y,C){var D,P,E=(0,V.Q)(y);if(E.columnSubquery)E.columnSubquery.subqueryRef?D=E.columnSubquery.subqueryRef:E.columnSubquery.subquery?P=new h.vd(E.columnSubquery.subquery):i.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!E.columnAggrSubquery)return void i.fF.assertFail("invalid fieldExpr in subquery");E.columnAggrSubquery.subqueryRef?D=E.columnAggrSubquery.subqueryRef:E.columnAggrSubquery.subquery?P=new h.vd(E.columnAggrSubquery.subquery):i.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}P||(i.fF.assert(function(){return!(!C||!C.sources)},"context sources should be available for evaluating subquery source"),C.sources[D]?(P=C.sources[D],i.fF.assert(function(){return P&&(0,n.y)(P)},"column referencing source should be available and be a subquery source")):i.fF.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var M=P;if(M){var T=(0,p._6)(E),R=void 0;if(M.subquery&&(R=M.subquery.select().withName(T)),R)return R.expr}},S.buildExprEvaluationContext=function(y){i.fF.assertValue(y,"from");var C=y.sources();if(C)return{sources:C}},S.transformToVisualQueryField=function(y,C,E,D,P){return{expr:y,queryName:C,isFieldParameter:!!E,nativeReferenceName:D,isHidden:P}},S.isSQExprArray=function(y){return y[0]instanceof v.Il},S.syncSQExprWithFilterIdenities=function(y,C){var E=new g(y,(0,o.Ym)(C)),D=C.accept(E);if(D)return D.accept(new f)},S.validate=function(y,C,E){i.fF.assertValue(C,"schema");var D=[];if(y&&(D=y.validate(C,E,D)),!_.isEmpty(D))return D},S.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],S}(),d=function(S){function y(C){var E=S.call(this)||this;return E.schema=C,E.detectedMappedColumn=!1,E}return(0,t.__extends)(y,S),y.prototype.visitIn=function(C){for(var E=0,D=C.args;E<D.length;E++)if(D[E].accept(this),this.detectedMappedColumn)return},y.prototype.visitColumnRef=function(C){l.hasMappedMParameter(C,this.schema)&&(this.detectedMappedColumn=!0)},y.hasMappedColumn=function(C,E){var D=new y(E);return C.accept(D),D.detectedMappedColumn},y}(e.PA),b=function(S){function y(){var C=S.call(this)||this;return C.sawTransformOutputRoleRef=!1,C}return(0,t.__extends)(y,S),y.prototype.visitTransformOutputRoleRef=function(C){this.sawTransformOutputRoleRef=!0},y}(e.PA),f=function(S){function y(){return null!==S&&S.apply(this,arguments)||this}return(0,t.__extends)(y,S),y.prototype.visitIn=function(C){return(0,v.Sh)(C.args,this.removeDuplicates(C.values),C.getAnnotations())},y.prototype.visitAnd=function(C){var E=C.right.accept(this),D=C.left.accept(this);return(0,v.xD)(D,E,C.getAnnotations())},y.prototype.visitOr=function(C){var E=C.right.accept(this),D=C.left.accept(this);return(0,v.or)(D,E,C.getAnnotations())},y.prototype.visitDefault=function(C){return C},y.prototype.removeDuplicates=function(C){return _.uniqWith(C,function(E,D){for(var P=E.length,M=0;M<P;M++)if(!(0,u.fS)(E[M],D[M]))return!1;return!0})},y}(e.vq),g=function(S){function y(C,E){var D=S.call(this)||this;return D.isRootNotExpr=!1,D.hasBeenModified=!1,D.isSupportedSQExpr=!1,D.filterIdentities=C,D.isRootNotExpr=E,D}return(0,t.__extends)(y,S),y.prototype.visitIn=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(C.args))return C;var E=this.tryToRemoveColumnsToMatchVisual(C),D=E.newArgs,P=E.newValues;if(!this.shouldDropWholeSQExpr()&&0!==D.length)return(0,v.Sh)(D,P,C.getAnnotations())}},y.prototype.visitDefault=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.left,D=C.right;if(E&&_.some(this.filterIdentities,function(P){return(0,u.fS)(P,E)})||D&&_.some(this.filterIdentities,function(P){return(0,u.fS)(P,D)}))return C;this.hasBeenModified=!0}},y.prototype.visitAnd=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.right.accept(this),D=C.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(D&&E)return(0,v.xD)(D,E,C.getAnnotations());if(D)return D;if(E)return E}}},y.prototype.visitOr=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.right.accept(this),D=C.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(D&&E)return(0,v.or)(D,E,C.getAnnotations());if(D)return D;if(E)return E}}},y.prototype.visitNot=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.arg.accept(this);if(E&&(this.isRootNotExpr||!this.hasBeenModified))return(0,v.ff)(E,C.getAnnotations())}},y.prototype.verifyIsSupportedSQExpr=function(C){this.isSupportedSQExpr=(0,o.Z8)(C)?(0,o.Hi)(C.right)&&((0,o.Z8)(C.left)||(0,o.Hi)(C.left)):(0,o.un)(C)?(0,o.Ym)(C.right)&&((0,o.Hi)(C.left)||(0,o.Z8)(C.left)):(0,o.Ym)(C)?(0,o.Z8)(C.arg)||(0,o.Ym)(C.arg):!(0,o.Hi)(C)||!!C.values&&C.values.length>0},y.prototype.shouldDropWholeSQExpr=function(){return this.hasBeenModified&&!this.isSupportedSQExpr},y.prototype.noChangeRequired=function(C){var E=this,D=C.map(function(P){return{expr:[P],index:_.findIndex(E.filterIdentities,function(T){return(0,u.fS)(T,P)})}});return 0===D[0].index&&D.every(function(P,M){return P.index>-1&&(M===D.length-1||P.index+1===D[M+1].index)})},y.prototype.tryToRemoveColumnsToMatchVisual=function(C){var E=this,D=[],P=[],T=C.values,R=C.args.map(function(I){return{expr:[I],index:_.findIndex(E.filterIdentities,function(F){return(0,u.fS)(F,I)})}});if(R[0].index>0)return this.hasBeenModified=!0,{newArgs:D,newValues:P};T=_.unzip(T);var B=R.map(function(I,w){return{expr:T[w],index:I.index}});D=R.filter(function(I){return I.index>-1}).map(function(I){return I.expr[0]}),P=B.filter(function(I){return I.index>-1}).map(function(I){return I.expr}),R=R.filter(function(I){return I.index>-1});for(var N=0;N<R.length-1;N++)if(R[N].index+1<R[N+1].index){D=D.splice(0,N+1),P=P.splice(0,N+1);break}return P=_.unzip(P),this.hasBeenModified=!0,{newArgs:D,newValues:P}},y}(e.vq)},174197:function(ze,K,r){r.d(K,{L:function(){return s}});var t=r(226514),c=r(745969);function s(V,m){return void 0===m&&(m="select"),V?V.accept(p.instance,m):m}var p=function(V){function m(){return null!==V&&V.apply(this,arguments)||this}return(0,t.__extends)(m,V),m.prototype.visitEntity=function(v){return v.entity},m.prototype.visitNamedQueryRef=function(v){return"QueryRef(".concat(v.queryName,")")},m.prototype.visitColumnRef=function(v){return v.source.accept(this)+"."+v.ref},m.prototype.visitGroupRef=function(v){return v.source.accept(this)+"."+v.ref},m.prototype.visitMeasureRef=function(v){return v.source.accept(this)+"."+v.ref},m.prototype.visitNativeMeasure=function(v){return"NativeMeasure(".concat(v.proposedName,")")},m.prototype.visitNativeColumn=function(v){return"NativeColumn(".concat(v.proposedName,")")},m.prototype.visitHierarchy=function(v){return v.arg.accept(this)+"."+v.hierarchy},m.prototype.visitHierarchyLevel=function(v){return v.arg.accept(this)+"."+v.level},m.prototype.visitPropertyVariationSource=function(v){return v.arg.accept(this)+"."+v.property+"."+v.name},m.prototype.visitAggr=function(v){return(0,c.b)(v.func)+"("+v.arg.accept(this)+")"},m.prototype.visitPercentile=function(v){return(v.exclusive?"Percentile.Exc(":"Percentile.Inc(")+v.arg.accept(this)+", "+v.k+")"},m.prototype.visitRangePercent=function(v){return"RangePercent("+v.min.accept(this)+", "+v.max.accept(this)+", "+v.percent.toString()+")"},m.prototype.visitArithmetic=function(v){return(0,c.K)(v.operator)+"("+v.left.accept(this)+", "+v.right.accept(this)+")"},m.prototype.visitConstant=function(v){return"const"},m.prototype.visitTransformOutputRoleRef=function(v){var e=v.role;return v.transform&&(e+="."+v.transform),e},m.prototype.visitScopedEval=function(v){var e=this;return"ScopedEval("+v.expression.accept(this)+", ["+_.map(v.scope,function(h){return h.accept(e)}).join(", ")+"])"},m.prototype.visitFilteredEval=function(v){var e=this;return"FilteredEval(".concat(v.expression.accept(this),", [").concat(_.map(v.filters,function(n){return o=n,u="{",_.isEmpty(o.target)||(u+="Target(".concat(_.map(o.target,function(a){return a.accept(e)}).join(", "),"), ")),u+"Condition(".concat(o.condition.accept(e),")}");var o,u}).join(", "),"])")},m.prototype.visitRoleRef=function(v){return"Role."+v.role},m.prototype.visitSummaryRef=function(v){return"SummaryValueRef."+v.name},m.prototype.visitAllRolesRef=function(v){return"AllRoles"},m.prototype.visitDiscretize=function(v){return"Discretize(".concat(v.source.accept(this),", ").concat(v.count,")")},m.prototype.visitMember=function(v){return"Member(".concat(v.source.accept(this),", ").concat(v.member,")")},m.prototype.visitCompare=function(v){var e=v.left.accept(this),h=v.right.accept(this),n="";switch(v.comparison){case 0:n="=";break;case 1:n=">";break;case 2:n=">=";break;case 3:n="<";break;case 4:n="<="}return"".concat(e).concat(n).concat(h)},m.prototype.visitSparklineData=function(v){var e=this;return"SparklineData(".concat(v.measure.accept(this),"_[").concat(_.map(v.grouping,function(h){return h.accept(e)}).join(","),"])")},m.prototype.visitDefault=function(v,e){return e||"expr"},m.instance=new m,m}(r(116170).Ml)},331115:function(ze,K,r){r.d(K,{R:function(){return i}});var t=r(787941),c=r(324356);function i(s,p){t.fF.assert(function(){return s.length===p.length},"fileds and values need to be the same size");for(var V=[],m=0;m<s.length;m++)V.push((0,c.qu)(0,s[m],p[m]));if(!_.isEmpty(V)){for(var v,e=0,h=V;e<h.length;e++)v=(0,c.xD)(v,h[e]);return v}}},450802:function(ze,K,r){r.d(K,{p:function(){return i}});var t=r(787941),c=r(474147);function i(s,p){t.fF.assertValue(s,"items"),t.fF.assertValue(p,"searchElement");for(var V=0,m=s.length;V<m;V++){var v=s[V];if(v&&(0,c.fS)(v.expr,p))return V}return-1}},444119:function(ze,K,r){r.d(K,{F:function(){return s}});var t=r(226514),c=r(787941);function s(V){return c.fF.assertValue(V,"expr"),V.accept(p.instance)}var p=function(V){function m(){return null!==V&&V.apply(this,arguments)||this}return(0,t.__extends)(m,V),m.prototype.visitCompare=function(v){return 0===v.comparison&&v.right.accept(this)},m.prototype.visitAnd=function(v){return v.left.accept(this)&&v.right.accept(this)},m.prototype.visitDefaultValue=function(v){return!0},m.prototype.visitDefault=function(v){return!1},m.instance=new m,m}(r(116170).vq)},374952:function(ze,K,r){r.d(K,{k:function(){return s}});var t=r(226514),c=r(787941);function s(V){return c.fF.assertValue(V,"expr"),V.accept(p.instance)}var p=function(V){function m(){return null!==V&&V.apply(this,arguments)||this}return(0,t.__extends)(m,V),m.prototype.visitMeasureRef=function(v){return!0},m.prototype.visitNativeMeasure=function(v){return!0},m.prototype.visitNativeVisualCalc=function(v){return!0},m.prototype.visitAggr=function(v){return!0},m.prototype.visitArithmetic=function(v){return!0},m.prototype.visitFilteredEval=function(v){return v.expression.accept(this)},m.prototype.visitSparklineData=function(v){return!0},m.prototype.visitDefault=function(v){return!1},m.instance=new m,m}(r(116170).vq)},116170:function(ze,K,r){r.d(K,{Ml:function(){return p},PA:function(){return m},vq:function(){return V}});var t=r(226514),c=r(787941),i=r(655981),s=r(340608),p=function(){function v(){}return v.prototype.visitEntity=function(e,h){return this.visitDefault(e,h)},v.prototype.visitSubqueryRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitNamedQueryRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitColumnRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitMeasureRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitAggr=function(e,h){return this.visitDefault(e,h)},v.prototype.visitPercentile=function(e,h){return this.visitDefault(e,h)},v.prototype.visitRangePercent=function(e,h){return this.visitDefault(e,h)},v.prototype.visitGroupRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitHierarchy=function(e,h){return this.visitDefault(e,h)},v.prototype.visitHierarchyLevel=function(e,h){return this.visitDefault(e,h)},v.prototype.visitPropertyVariationSource=function(e,h){return this.visitDefault(e,h)},v.prototype.visitSelectRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitBetween=function(e,h){return this.visitDefault(e,h)},v.prototype.visitIn=function(e,h){return this.visitDefault(e,h)},v.prototype.visitAnd=function(e,h){return this.visitDefault(e,h)},v.prototype.visitOr=function(e,h){return this.visitDefault(e,h)},v.prototype.visitCompare=function(e,h){return this.visitDefault(e,h)},v.prototype.visitConditional=function(e,h){return this.visitDefault(e,h)},v.prototype.visitContains=function(e,h){return this.visitDefault(e,h)},v.prototype.visitExists=function(e,h){return this.visitDefault(e,h)},v.prototype.visitNot=function(e,h){return this.visitDefault(e,h)},v.prototype.visitStartsWith=function(e,h){return this.visitDefault(e,h)},v.prototype.visitConstant=function(e,h){return this.visitDefault(e,h)},v.prototype.visitDateSpan=function(e,h){return this.visitDefault(e,h)},v.prototype.visitDateAdd=function(e,h){return this.visitDefault(e,h)},v.prototype.visitNow=function(e,h){return this.visitDefault(e,h)},v.prototype.visitDefaultValue=function(e,h){return this.visitDefault(e,h)},v.prototype.visitAnyValue=function(e,h){return this.visitDefault(e,h)},v.prototype.visitArithmetic=function(e,h){return this.visitDefault(e,h)},v.prototype.visitFloor=function(e,h){return this.visitDefault(e,h)},v.prototype.visitFillRule=function(e,h){return this.visitDefault(e,h)},v.prototype.visitThemeDataColor=function(e,h){return this.visitDefault(e,h)},v.prototype.visitResourcePackageItem=function(e,h){return this.visitDefault(e,h)},v.prototype.visitScopedEval=function(e,h){return this.visitDefault(e,h)},v.prototype.visitFilteredEval=function(e,h){return this.visitDefault(e,h)},v.prototype.visitWithRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitTransformTableRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitTransformOutputRoleRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitRoleRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitSummaryValueRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitAllRolesRef=function(e,h){return this.visitDefault(e,h)},v.prototype.visitDiscretize=function(e,h){return this.visitDefault(e,h)},v.prototype.visitMember=function(e,h){return this.visitDefault(e,h)},v.prototype.visitNativeMeasure=function(e,h){return this.visitDefault(e,h)},v.prototype.visitNativeColumn=function(e,h){return this.visitDefault(e,h)},v.prototype.visitSparklineData=function(e,h){return this.visitDefault(e,h)},v.prototype.visitNativeVisualCalc=function(e,h){return this.visitDefault(e,h)},v.prototype.visitDefault=function(e,h){},v}(),V=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return(0,t.__extends)(e,v),e}(p),m=function(){function v(){}return v.prototype.visitEntity=function(e){this.visitDefault(e)},v.prototype.visitSubqueryRef=function(e){this.visitDefault(e)},v.prototype.visitNamedQueryRef=function(e){this.visitDefault(e)},v.prototype.visitColumnRef=function(e){e.source.accept(this)},v.prototype.visitMeasureRef=function(e){e.source.accept(this)},v.prototype.visitAggr=function(e){e.arg.accept(this)},v.prototype.visitPercentile=function(e){e.arg.accept(this)},v.prototype.visitRangePercent=function(e){e.min.accept(this),e.max.accept(this)},v.prototype.visitGroupRef=function(e){e.source.accept(this);for(var h=0,n=e.groupedExprs;h<n.length;h++)n[h].accept(this)},v.prototype.visitHierarchy=function(e){e.arg.accept(this)},v.prototype.visitHierarchyLevel=function(e){e.arg.accept(this)},v.prototype.visitPropertyVariationSource=function(e){e.arg.accept(this)},v.prototype.visitSelectRef=function(e){this.visitDefault(e)},v.prototype.visitBetween=function(e){e.arg.accept(this),e.lower.accept(this),e.upper.accept(this)},v.prototype.visitIn=function(e){for(var h=e.args,n=0,o=h.length;n<o;n++)h[n].accept(this);var u=e.values;if(u)for(n=0,o=u.length;n<o;n++)for(var a=u[n],l=0,d=a.length;l<d;l++)a[l].accept(this);else e.table.accept(this)},v.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitOr=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitCompare=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitConditional=function(e){c.fF.assertValue(e,"expr"),c.fF.assertNonEmpty(e.cases,"expr.cases");for(var h=0,n=e.cases;h<n.length;h++){var o=n[h];o.condition.accept(this),o.value.accept(this)}e.defaultValue&&e.defaultValue.accept(this)},v.prototype.visitContains=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitExists=function(e){e.arg.accept(this)},v.prototype.visitNot=function(e){e.arg.accept(this)},v.prototype.visitStartsWith=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitConstant=function(e){this.visitDefault(e)},v.prototype.visitDateSpan=function(e){e.arg.accept(this)},v.prototype.visitDateAdd=function(e){e.arg.accept(this)},v.prototype.visitNow=function(e){this.visitDefault(e)},v.prototype.visitDefaultValue=function(e){this.visitDefault(e)},v.prototype.visitAnyValue=function(e){this.visitDefault(e)},v.prototype.visitArithmetic=function(e){e.left.accept(this),e.right.accept(this)},v.prototype.visitFloor=function(e){e.arg.accept(this)},v.prototype.visitFillRule=function(e){e.input.accept(this),(0,i.RL)(e.rule,new s._(this,null))},v.prototype.visistExists=function(e){e.arg.accept(this)},v.prototype.visitThemeDataColor=function(e){this.visitDefault(e)},v.prototype.visitResourcePackageItem=function(e){this.visitDefault(e)},v.prototype.visitScopedEval=function(e){e.expression.accept(this);for(var h=0,n=e.scope;h<n.length;h++)n[h].accept(this)},v.prototype.visitFilteredEval=function(e){e.expression.accept(this);for(var h=0,n=e.filters;h<n.length;h++){var o=n[h];if(!_.isEmpty(o.target))for(var u=0,a=o.target;u<a.length;u++)a[u].accept(this);o.condition.accept(this)}},v.prototype.visitWithRef=function(e){this.visitDefault(e)},v.prototype.visitTransformTableRef=function(e){this.visitDefault(e)},v.prototype.visitTransformOutputRoleRef=function(e){this.visitDefault(e)},v.prototype.visitRoleRef=function(e){this.visitDefault(e)},v.prototype.visitSummaryValueRef=function(e){this.visitDefault(e)},v.prototype.visitAllRolesRef=function(e){this.visitDefault(e)},v.prototype.visitDiscretize=function(e){this.visitDefault(e)},v.prototype.visitMember=function(e){this.visitDefault(e)},v.prototype.visitNativeMeasure=function(e){this.visitDefault(e)},v.prototype.visitNativeColumn=function(e){this.visitDefault(e)},v.prototype.visitSparklineData=function(e){var h;e.measure.accept(this);for(var n=0,o=e.grouping;n<o.length;n++)o[n].accept(this);null===(h=e.scalarKey)||void 0===h||h.accept(this)},v.prototype.visitNativeVisualCalc=function(e,h){this.visitDefault(e)},v.prototype.visitDefault=function(e){},v}()},620006:function(ze,K,r){r.d(K,{$r:function(){return u},Ms:function(){return l},Nh:function(){return b},QS:function(){return v},Qo:function(){return h},SX:function(){return m},Ww:function(){return f},Yg:function(){return a},cL:function(){return n},vd:function(){return e}});var t=r(883863),c=r(787941),i=r(690016),s=r(324356),p=r(474147),V=r(158519),m=function(){function g(S,y){this.schema=S,this.entity=y}return g.prototype.accept=function(S,y){return S.visitEntity(this,y)},g.prototype.equals=function(S){return S&&this.entity===S.entity&&this.schema===S.schema},g}(),v=function(){function g(S,y){this.schema=S,this.pod=y}return g.prototype.accept=function(S,y){return S.visitPod(this,y)},g.prototype.equals=function(S){return S&&this.pod===S.pod&&this.schema===S.schema},g}(),e=function(){function g(S){this.subquery=S}return g.prototype.accept=function(S,y){return S.visitSubquery(this,y)},g.prototype.equals=function(S){return S&&(0,p.C6)(this.subquery,S.subquery)},g}(),h=function(){function g(S){this.expr=S}return g.prototype.accept=function(S,y){return S.visitExpr(this,y)},g.prototype.equals=function(S){return S&&(0,p.fS)(this.expr,S.expr)},g}(),n=function(){function g(S,y){if(this.items=S||{},this.usedNames=y||{},!_.isEmpty(this.items))for(var C=0,E=this.keys();C<E.length;C++)this.usedNames[E[C]]=!0}return g.prototype.keys=function(){return Object.keys(this.items)},g.prototype.source=function(S){return this.items[S]},g.prototype.sources=function(){return this.items},g.prototype.usedSourceNames=function(){return this.usedNames},g.prototype.ensureSource=function(S,y){c.fF.assertValue(S,"source");var C=this.getSourceKeyFromItems(S);return C?{name:C}:{name:this.addSource(S,y),new:!0}},g.prototype.remove=function(S){this.items[S]&&delete this.usedNames[S],delete this.items[S]},g.prototype.getSourceKeyFromItems=function(S){var y=this.keys();for(var C in y){var E=y[C];if(o(this.items[E],S))return E}},g.prototype.addSource=function(S,y){var E=y||S.accept(new d,null);return E=(0,i.zE)(this.usedNames,E),this.items[E]=S,this.usedNames[E]=!0,E},g.prototype.clone=function(){var S=new g(null,_.clone(this.usedNames));return $.extend(S.items,this.items),S},g.prototype.equals=function(S){var y=this;if(!S)return!1;var C=this.keys(),E=S.keys();return C.length===E.length&&(0,t.NF)(C,E,function(D,P){return o(y.source(D),S.source(P))})},g.prototype.renameSources=function(S){for(var C,y=this.items,E=Object.keys(y),D=0,P=E.length;D<P;D++){var M=E[D],T=M;if(S[M]&&(T=(0,i.zE)(S,M),!C)){C={};for(var R=0;R<D;R++){var B=E[R];C[B]=y[B]}}S[T]=!0,C&&(C[T]=y[M])}return C?new g(C):this},g}();function o(g,S){if(g===S)return!0;if(g&&S){if(u(g)&&u(S)||a(g)&&a(S))return g.equals(S);if((0,V.y)(g)&&(0,V.y)(S))return g.equals(S);if(l(g)&&l(S))return g.equals(S)}return!1}function u(g){return c.fF.assertValue(g,"source"),null!=g.entity}function a(g){return c.fF.assertValue(g,"source"),null!=g.pod}function l(g){return c.fF.assertValue(g,"source"),null!=g.expr}var d=function(){function g(){}return g.prototype.visitEntity=function(S){return this.getShortName(S.entity)},g.prototype.visitPod=function(S){return this.getShortName(S.pod)},g.prototype.visitSubquery=function(S){return"q"},g.prototype.visitExpr=function(S){return"x"},g.prototype.getShortName=function(S){var y=S,C=y.lastIndexOf(".");return C>=0&&C!==y.length-1&&(y=y.substr(C+1)),(0,i.Nx)(y.charCodeAt(0))?y.charAt(0).toLowerCase():"a"},g}(),b=function(){function g(){this.entities=[]}return g.prototype.visitEntity=function(S,y){this.entities.push(new s.PN(S.schema,S.entity,y))},g.prototype.visitPod=function(S,y){},g.prototype.visitSubquery=function(S,y){},g.prototype.visitExpr=function(S,y){},g}(),f=function(){function g(S){this.exprRewriter=S}return g.prototype.visitEntity=function(S,y){var E=(0,s.nw)(S.schema,S.entity,y).accept(this.exprRewriter);return new m(E.schema,E.entity)},g.prototype.visitPod=function(S,y){var E=(0,s.nw)(S.schema,S.pod,y).accept(this.exprRewriter);return new v(E.schema,E.entity)},g.prototype.visitSubquery=function(S,y){var E=S.subquery.rewrite(this.exprRewriter);return new e(E)},g.prototype.visitExpr=function(S,y){var E=S.expr.accept(this.exprRewriter);return new h(E)},g}()},158519:function(ze,K,r){r.d(K,{y:function(){return c}});var t=r(787941);function c(i){return t.fF.assertValue(i,"source"),null!=i.subquery}},799818:function(ze,K,r){r.d(K,{hG:function(){return b},OQ:function(){return S},wA:function(){return o},g8:function(){return h},S7:function(){return e},cH:function(){return d},u8:function(){return f},uW:function(){return l},ZB:function(){return a},K8:function(){return u}});var t=r(787941),c=r(597098),i=r(324356),s=r(474147),p=r(983172),V=r(44615);function e(y,C){var E=function(y){return y.hierarchyLevel||y.hierarchyLevelAggr||y.columnHierarchyLevelVariation&&y.columnHierarchyLevelVariation.level}(C);if(E)return h(y,E.schema,E.entity,E.name,E.level)}function h(y,C,E,D,P){var T=y.schema(C).findHierarchy(E,D);if(T)return T.levels.withName(P)}function o(y,C,E){return S(C,y)||function(y,C){t.fF.assertValue(y,"sqExpr"),t.fF.assertValue(C,"federatedSchema");var E,D=y.getConceptualProperty(C);if(D){var P=D.column;if(P&&P.variations&&P.variations.length>0){var M=P.variations;t.fF.assert(function(){return 1===M.length},"variations.length");var T=M[0],R=(0,c.Q)(y),B=(0,V.Um)(R);if(E=[],T.defaultHierarchy)for(var N=(0,i.bT)((0,i.yU)((0,i.nw)(B.schema,B.entity,B.entityVar),T.name,D.name),T.defaultHierarchy.name),x=0,A=T.defaultHierarchy.levels;x<A.length;x++)E.push((0,i.os)(N,A[x].name))}}return E}(C,y)||!E&&function(y,C){t.fF.assertValue(y,"sqExpr"),t.fF.assertValue(C,"federatedSchema");var E=[];if(y instanceof i.vD){var D=(0,c.Q)(y);if(D.hierarchyLevel){var P=(0,V.Um)(D),M=C.schema(P.schema).findHierarchy(P.entity,D.hierarchyLevel.name);if(M)for(var R=0,B=M.levels;R<B.length;R++){var N=B[R];if(N.name===D.hierarchyLevel.level){E.push(y);break}E.push((0,i.os)((0,i.bT)((0,i.nw)(P.schema,P.entity,P.entityVar),M.name),N.name))}}}if(!_.isEmpty(E))return E}(C,y)||C}function u(y,C){if(C instanceof i.jE||C instanceof i.vD)return!0;var E=C.getConceptualProperty(y);if(E){var D=E.column;if(D&&D.variations&&D.variations.length>0)return!0}return!1}function a(y){var C=(0,c.Q)(y);if(C.columnHierarchyLevelVariation){var E=(0,i.nw)(C.columnHierarchyLevelVariation.source.schema,C.columnHierarchyLevelVariation.source.entity);return(0,i.Oh)(E,C.columnHierarchyLevelVariation.source.name)}}function l(y){var E=(0,c.Q)(y).hierarchyLevel;if(E){var D=(0,i.nw)(E.schema,E.entity,E.entityVar);return(0,i.bT)(D,E.name)}}function d(y){if(y.arg instanceof i.jE){var C=y.arg;if(C.arg instanceof i.c7)return C.arg}}function b(y,C,E){if(!(C instanceof i.vD&&E instanceof i.vD))return!1;var D=C,P=E;if(!(0,s.fS)(D.arg,P.arg))return!1;var M=p.m.indexOfExpr(y,D),T=p.m.indexOfExpr(y,P);return-1!==M&&-1!==T&&M<T}function f(y,C,E){for(var D=0;D<C.length&&b(y,C[D],E);)D++;return D}function S(y,C){if(t.fF.assertValue(y,"sqExpr"),t.fF.assertValue(C,"federatedSchema"),y instanceof i.jE){var D=function(y,C){if(y instanceof i.jE){var E=y;if(y.arg instanceof i.PN){var D=y.arg;return C.schema(D.schema).findHierarchy(D.entity,E.hierarchy)}if(y.arg instanceof i.c7){var P=y.arg,M=P.arg;return C.schema(M.schema).findHierarchyByVariation(M.entity,P.property,P.name,E.hierarchy)}}}(y,C);if(D)return _.map(D.levels,function(P){return(0,i.os)(y,P.name)})}}},523487:function(ze,K,r){r.d(K,{K:function(){return p}});var t=r(226514),c=r(787941),i=r(324356);function p(m,v){return c.fF.assertValue(m,"expr"),c.fF.assertValue(v,"schema"),m.accept(new V(v))}var V=function(m){function v(e){var h=m.call(this)||this;return h.schema=e,h}return(0,t.__extends)(v,m),v.prototype.visitPropertyVariationSource=function(e){var h=e.arg.getTargetEntity();if(!h)return e;var n=h.schema,o=this.schema.schema(n).findTargetEntityOfVariation(h.entity,e.property,e.name);return o?(0,i.nw)(n,o.name):e},v}(r(334048).b)},326621:function(ze,K,r){r.d(K,{y3:function(){return d},dc:function(){return ce},dx:function(){return Fe},OQ:function(){return De},rH:function(){return oe},SU:function(){return Ae},IE:function(){return Y},iH:function(){return je},JN:function(){return S}});var p,t=r(226514),c=r(787941),i=r(764365),s=r(831917),v=r(826691),e=r(932178),h=r(289135),n=r(520907),o=r(690016),u=r(398491),a=function(){function ee(){}return ee.canFormat=function(k){return k instanceof Date},ee.format=function(k,Ce,J){Ce=Ce||"G",(0,h.M4)(k)&&(k=d.fromTimeValue(k.epochTimeStamp));var ot=1===Ce.length;try{return ot?x(k,Ce,J):function(ee,k,Ce){var J,re=[];if((k=S(k,re)).indexOf("F")>-1){k=(0,o.ko)(k,"FFFF","FFF");var Ie=ee.getMilliseconds();if(Ie%10>=1&&(k=(0,o.ko)(k,"FFF","fff")),k=(0,o.ko)(k,"FFF","FF"),Ie%100/10>=1&&(k=(0,o.ko)(k,"FF","ff")),k=(0,o.ko)(k,"FF","F"),Ie%1e3/100>=1&&(k=(0,o.ko)(k,"F","f")),""===(k=(0,o.ko)(k,"F",""))||"%"===k)return""}var ot=function(ee){return null!=ee.match(/gg/)}(k);k=function(ee){return ee===B?N:(B=ee,ee=function(ee){if(ee=(ee=(ee=(ee=(ee=(ee=(ee=(ee=ee.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),p||(p=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(function(re){return{r:new RegExp("%"+re+"(?!"+re+")","g"),s:re}})),-1!==ee.indexOf("%")&&ee.length>2)for(var k=0,Ce=p;k<Ce.length;k++){var J=Ce[k];ee=ee.replace(J.r,J.s)}return ee}(ee),N=ee,ee)}(k);var we=Ce.calendar;return ot&&(Ce.calendar=Ce.calendars.Japanese),J=Globalize.format(ee,k,Ce),ot&&(Ce.calendar=we),y(J=a.localize(J,Ce.calendar),re,!1)}(k,Ce,J)}catch(we){return x(k,"G",J)}},ee.localize=function(k,Ce){var J=Ce[":"];if(":"===J)return k;for(var re="",Ie=k.length,ot=0;ot<Ie;ot++){var we=k.charAt(ot);re+=":"===we?J:we}return re},ee}(),l=function(){function ee(){}return ee.canFormat=function(k){return"number"==typeof k},ee.format=function(k,Ce,J){Ce=Ce||"G";try{return je(Ce)?function(ee,k,Ce){var J,re=k.length>1?parseInt(k.substr(1,k.length-1),10):void 0,Ie=Ce.numberFormat,ot=k.charAt(0);switch(ot){case"e":case"E":void 0===re&&(re=6);var we=_.repeat("0",re);J=Z(ee,k="0."+we+ot+"+000",Ce);break;case"f":case"F":J=ee.toFixed(void 0!==re?re:Ie.decimals),J=l.localize(J,Ie);break;case"g":case"G":var he=Math.abs(ee);if(0===he||1e-4<=he&&he<1e15)J=void 0!==re?ee.toPrecision(re):ee.toString();else{if(c.fF.assert(function(){return"number"==typeof ee},"value must be a number"),"number"!=typeof ee)return String(ee);J=(J=void 0!==re?ee.toExponential(re):ee.toExponential()).replace("e","E")}J=l.localize(J,Ie);break;case"r":case"R":J=ee.toString(),J=l.localize(J,Ie);break;case"x":case"X":if(J=ee.toString(16),"X"===ot&&(J=J.toUpperCase()),void 0!==re){var Te=J.length,Oe=ee<0;Oe&&Te--;var Je=re-Te,fe=void 0;Je>0&&(fe=_.repeat("0",Je)),J=Oe?"-"+fe+J.substr(1):fe+J}J=l.localize(J,Ie);break;default:J=Globalize.format(ee,k,Ce)}return J}(k,Ce,J):Z(k,Ce,J)}catch(re){return Globalize.format(k,void 0,J)}},ee.localize=function(k,Ce){var J=Ce["+"],re=Ce["-"],Ie=Ce["."],ot=Ce[","];if("+"===J&&"-"===re&&"."===Ie&&","===ot)return k;for(var we=k.length,he="",Te=0;Te<we;Te++){var Oe=k.charAt(Te);switch(Oe){case"+":he+=J;break;case"-":he+=re;break;case".":he+=Ie;break;case",":he+=ot;break;default:he+=Oe}}return he},ee}(),d=function(ee){function k(){return null!==ee&&ee.apply(this,arguments)||this}return(0,t.__extends)(k,ee),k.prototype.setInternalDate=function(Ce){this.date=Ce},k.fromTimeValue=function(Ce){var J=new k(Ce);return"function"!=typeof J.setInternalDate&&v.f.information("epochTimeStamp is '".concat(Ce,"' of type '").concat(typeof Ce,"'")),J.setInternalDate(new Date(Ce)),J},k.fromDateParts=function(Ce,J,re,Ie,ot,we,he){void 0===J&&(J=0),void 0===re&&(re=1),void 0===Ie&&(Ie=0),void 0===ot&&(ot=0),void 0===we&&(we=0),void 0===he&&(he=0);var Te=Date.UTC(Ce,J,re,Ie,ot,we,he),Oe=new k(Te);return Oe.setInternalDate(new Date(Te)),Oe},k.fromString=function(Ce){c.fF.assert(function(){return/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(Ce)},"Only ISO 8601 is guaranteed to be parsed as UTC");var J=new Date(Ce),re=new k(J.getTime());return re.setInternalDate(J),re},k.fromDateWithEpochValue=function(Ce){return k.fromTimeValue(Ce.epochTimeStamp)},k.isDate=function(Ce){return Ce instanceof Date},k.prototype.getDate=function(){return this.date.getUTCDate()},k.prototype.getDay=function(){return this.date.getUTCDay()},k.prototype.getFullYear=function(){return this.date.getUTCFullYear()},k.prototype.getHours=function(){return this.date.getUTCHours()},k.prototype.getMilliseconds=function(){return this.date.getUTCMilliseconds()},k.prototype.getMinutes=function(){return this.date.getUTCMinutes()},k.prototype.getMonth=function(){return this.date.getUTCMonth()},k.prototype.getSeconds=function(){return this.date.getUTCSeconds()},k.prototype.setDate=function(Ce){return this.date.setUTCDate.apply(this.date,arguments)},k.prototype.setFullYear=function(Ce,J,re){return this.date.setUTCFullYear.apply(this.date,arguments)},k.prototype.setHours=function(Ce,J,re,Ie){return this.date.setUTCHours.apply(this.date,arguments)},k.prototype.setMilliseconds=function(Ce){return this.date.setUTCMilliseconds.apply(this.date,arguments)},k.prototype.setMinutes=function(Ce,J,re){return this.date.setUTCMinutes.apply(this.date,arguments)},k.prototype.setMonth=function(Ce,J){return this.date.setUTCMonth.apply(this.date,arguments)},k.prototype.setSeconds=function(Ce,J){return this.date.setUTCSeconds.apply(this.date,arguments)},k.prototype.toString=function(){var Ce=this.date.toUTCString(),J=Ce.length-4;return Ce.indexOf(" GMT")===J&&(Ce=Ce.substr(0,J)),Ce},k.prototype.getTime=function(){return this.date.getTime()},k.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},k.prototype.getUTCDate=function(){return this.date.getUTCDate()},k.prototype.getUTCDay=function(){return this.date.getUTCDay()},k.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},k.prototype.getUTCHours=function(){return this.date.getUTCHours()},k.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},k.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},k.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},k.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},k.prototype.setUTCDate=function(Ce){return this.date.setUTCDate.apply(this.date,arguments)},k.prototype.setUTCFullYear=function(Ce,J,re){return this.date.setUTCFullYear.apply(this.date,arguments)},k.prototype.setUTCHours=function(Ce,J,re,Ie){return this.date.setUTCHours.apply(this.date,arguments)},k.prototype.setUTCMilliseconds=function(Ce){return this.date.setUTCMilliseconds.apply(this.date,arguments)},k.prototype.setUTCMinutes=function(Ce,J,re){return this.date.setUTCMinutes.apply(this.date,arguments)},k.prototype.setUTCMonth=function(Ce,J){return this.date.setUTCMonth.apply(this.date,arguments)},k.prototype.setUTCSeconds=function(Ce,J){return this.date.setUTCSeconds.apply(this.date,arguments)},k.prototype.toDateString=function(){return this.date.toDateString()},k.prototype.toISOString=function(){return this.date.toISOString()},k.prototype.toJSON=function(){return this.date.toJSON()},k.prototype.toLocaleDateString=function(){return this.date.toLocaleDateString()},k.prototype.toLocaleString=function(){return this.date.toLocaleString()},k.prototype.toLocaleTimeString=function(){return this.date.toLocaleTimeString()},k.prototype.toTimeString=function(){return this.date.toTimeString()},k.prototype.toUTCString=function(){return this.date.toUTCString()},k.prototype.valueOf=function(){return this.date.valueOf()},k}(Date),f=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function g(ee){return f.lastIndex=0,ee.replace(f,"\ue100")}function S(ee,k){for(f.lastIndex=0;;){var Ce=f.exec(ee);if(!Ce)break;var J=Ce[0],re=f.lastIndex-J.length,Ie=String.fromCharCode(57600+k.length);k.push(J),ee=ee.substr(0,re)+Ie+ee.substr(f.lastIndex),f.lastIndex=re+1}return ee}function y(ee,k,Ce){void 0===Ce&&(Ce=!0);for(var J=k.length,re=0;re<J;re++){var Ie=String.fromCharCode(57600+re),ot=k[re];if(!Ce){var we=ot[0];ot="\\"===we||1===ot.length||ot[ot.length-1]!==we?ot.substring(1):ot.substring(1,ot.length-1)}ee=ee.replace(Ie,ot)}return ee}var B,N,C=/({{)|(}})|{(\d+[^}]*)}/g,E="0",D="#",T=new RegExp([E,D].join("|"),"g"),R=function(){function ee(){}return ee.prototype.formatValue=function(k,Ce,J){if(null==k)return"";var re=this.getCulture(J);return a.canFormat(k)?a.format(k,Ce,re):l.canFormat(k)?l.format(k,Ce,re):k.toString()},ee.prototype.format=function(k,Ce,J){var re=this;return k?k.replace(C,function(ot,we,he,Te){if(we)return"{";if(he)return"}";var Oe=Te.split(":"),Je=parseInt(Oe[0],10);return re.formatValue(Ce[Je],Oe[1],J)}):""},ee.prototype.isStandardNumberFormat=function(k){return je(k)},ee.prototype.formatNumberWithCustomOverride=function(k,Ce,J,re){return function(ee,k,Ce,J){return c.fF.assertValue(ee,"value"),c.fF.assert(function(){return"number"==typeof ee},"value must be a number"),c.fF.assertValue(k,"format"),c.fF.assertValue(Ce,"nonScientificOverrideFormat"),c.fF.assertValue(J,"culture"),c.fF.assert(function(){return!je(k)},"Standard format"),Z(ee,k,J,Ce)}(k,Ce,J,this.getCulture(re))},ee.prototype.dateFormatString=function(k){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(k)},ee.prototype.setCurrentCulture=function(k){this._currentCultureSelector!==k&&(this._currentCulture=this.getCulture(k),this._currentCultureSelector=k,this._dateTimeScaleFormatInfo=new be(this._currentCulture))},ee.prototype.normalizeCultureSelector=function(k){var Ce=k.split("-");return 2===Ce.length&&2===Ce[1].length&&(k=Ce[0]+"-"+Ce[1].toUpperCase()),k},ee.prototype.getCulture=function(k){if(null==k)return null==this._currentCulture&&this.initialize(),this._currentCulture;k=this.normalizeCultureSelector(k);var Ce=Globalize.findClosestCulture(k);return Ce||(Ce=Globalize.culture("en-US")),Ce},ee.prototype.parseFloat=function(k){return Globalize.parseFloat(k,this.getCulture())},ee.prototype.parseDate=function(k){var Ce=Globalize.parseDate(k,null,this.getCulture());return Ce&&(0,h.Fg)(Ce)},ee.prototype.getCurrentCulture=function(){return this.getCulture()},ee.prototype.initialize=function(){var k=this.getCurrentLocale();this.setCurrentCulture(k);var Ce=this.getUrlParam("calendar");if(Ce){var J=this._currentCulture,re=J.calendars[Ce];re&&(J.calendar=re)}},ee.prototype.getCurrentLocale=function(){var k=e.M.getLanguage()||Globalize.culture().name,Ce=(0,s.hG)().cultureInfo;return k=(0,s.hG)().formattingLocale||Ce||k,this.getUrlParam("formatLocale")||this.getUrlParam("language")||k},ee.prototype.getUrlParam=function(k){var Ce=window.location.search.match(RegExp("[?&]"+k+"=([^&]*)"));return Ce?Ce[1]:void 0},ee}();function x(ee,k,Ce){var J=Ce.calendar.patterns;!function(ee){var k=ee.patterns;void 0===k.g&&(k.g=k.f.replace(k.D,k.d),k.G=k.F.replace(k.D,k.d))}(Ce.calendar);var re=function(ee,k,Ce){switch(k){case"m":k="M";break;case"O":case"o":k="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":ee=new Date(ee.getUTCFullYear(),ee.getUTCMonth(),ee.getUTCDate(),ee.getUTCHours(),ee.getUTCMinutes(),ee.getUTCSeconds(),ee.getUTCMilliseconds()),k="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":k="S";break;case"u":ee=new Date(ee.getUTCFullYear(),ee.getUTCMonth(),ee.getUTCDate(),ee.getUTCHours(),ee.getUTCMinutes(),ee.getUTCSeconds(),ee.getUTCMilliseconds()),k="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":ee=new Date(ee.getUTCFullYear(),ee.getUTCMonth(),ee.getUTCDate(),ee.getUTCHours(),ee.getUTCMinutes(),ee.getUTCSeconds(),ee.getUTCMilliseconds()),k="F";break;case"y":case"Y":switch(Ce){case"default":case"en":case"en-US":k="MMMM, yyyy";break;default:k="Y"}}return{value:ee,format:k}}(ee,k,Ce.name);return k=1===re.format.length?J[re.format]:re.format,Globalize.format(re.value,k,Ce)}var We,O=/^\{.+\}.*/,L=/\{.+\}/,W=/e[+-]*[0#]+/i,U=/^[a-z]\d{0,2}$/i,j=/0+$/,z=/([,]*)\.([0#]*)/g,G=/[0#,\.]+[0,#]*/g,te=/([0#])(?=[^0#]*$)/;function Y(ee,k){if(null==k)return k;if(ve(k)){var Ce=De(k);return se(ee>0?Ce.positive:0===ee?Ce.zero:Ce.negative)}return se(k)}function se(ee){var k=(0,n.KH)(G,ee);return k?k[0]:ee}function ce(ee,k,Ce){if(null==k)return ee;if(null==ee&&(ee=E),ve(ee)){for(var J=De(ee),we=[J.positive,J.negative,J.zero],he=0;he<we.length;he++)we[he]=pe(we[he],k,Ce);return we.join(";")}return pe(ee,k,Ce)}function pe(ee,k,Ce){if((k=Math.abs(k))>=0){var J=[];ee=S(ee,J);var Ie=_.repeat(Ce?E:D,Math.abs(k)),ot=(0,n.KH)(z,ee);if(ot){var we=ee.substr(0,ot.index+ot[1].length),he=ee.substr(ot.index+ot[1].length+1,ot[2].length),Te=ot[1],Oe=ee.substr(ot.index+ot[0].length);if(Ce)he=Ie;else{var Je=Ie.length-he.length;Je>0?he+=Ie.slice(-Je):Je<0&&(he=he.slice(0,Je))}he.length>0?he="."+he:Te.length>0&&(he="."),ee=we+he+Oe}else Ie.length>0&&(ee=ee.replace(te,"$1."+Ie));0!==J.length&&(ee=y(ee,J))}return ee}function ve(ee){return-1!==g(ee).indexOf(";")}function De(ee){var k={hasNegative:!1,positive:ee,negative:ee,zero:ee},Ce=[],J=(ee=S(ee,Ce)).split(";"),re=J.length;return re>1&&(0!==Ce.length&&(J=_.map(J,function(Ie){return y(Ie,Ce)})),k.hasNegative=!0,k.positive=k.zero=J[0],k.negative=J[1],re>2&&(k.zero=J[2])),k}function je(ee){return c.fF.assertValue(ee,"format"),U.test(ee)}function Ae(ee){return!ee||je(ee)||oe(ee).hasDots?ee:ce(ee,2,!0)}function Z(ee,k,Ce,J){var re,Ie=Ce.numberFormat;if(!isFinite(ee))return Globalize.format(ee,void 0);var ot=De(k);k=ee>0?ot.positive:0===ee?ot.zero:ot.negative,ot.hasNegative&&(ee=Math.abs(ee));var we=oe(k,!0),he=[];if(we.hasLiterals&&(k=S(k,he)),we.hasE&&!J){var Te=(0,n.KH)(W,k);if(Te){var Oe=k.substr(0,Te.index),Je=k.substr(Te.index+2),fe=X(Oe,we);if(1!==(ne=Ke(Oe,we))&&(ee*=ne),c.fF.assert(function(){return"number"==typeof ee},"value must be a number"),"number"!=typeof ee)return String(ee);var Ne=ee.toExponential(fe),et=Ne.indexOf("e"),tt=Ne.substr(0,et),xe=Ne.substr(et+1),Ve=Ze(tt,Oe,Ie),Le=Ze(xe,Je,Ie);"+"===Le.charAt(0)&&"+"!==Te[0].charAt(1)&&(Le=Le.substr(1)),re=Ve+Te[0].charAt(0)+Le}}if(void 0===re){var ne,ft=void 0,ht=!1;if(fe=X(k,we),1!==(ne=Ke(k,we))&&(ee*=ne),ee=parseFloat(me(ee,fe)),!isFinite(ee))return Globalize.format(ee,void 0);J?(J=function(ee,k){return k&&void 0!==ee?ee.replace("{0}","{0:"+k+"}"):ee}(J,Y(ee,k)),ft=Fe.format(J,[ee],Ce.name),ht=!0):(ft=me(ee,fe),ft=function(ee,k,Ce,J){if(0===J)return k;var re=k.indexOf(".");if(-1===re)return k;for(var Ie=re+1,we=Ie+(Ce-J);we<k.length;++we){var he=k[we];if("0"===he||"9"===he){var Te=me(ee,we-Ie);if(parseFloat(Te)===ee)return Te}}return k}(ee,ft,fe,function(ee,k){return Se(ee,k),k.optionalPrecision}(k,we))),re=Ze(ft,k,Ie,J,ht)}return we.hasLiterals&&(re=y(re,he,!1)),We=we,re}function me(ee,k){var Ce="",J=0;k>16&&(J=k-16,k=16);var re=(0,i.mv)(Math.abs(ee))+1;if(re<16){if(re>0){var Ie=16-re;k>Ie&&(J+=k-Ie,k=Ie)}Ce=function(ee,k){if(!ee||isFinite(ee)){var Ce=ee<0;Ce&&(ee=-ee);var J=Math.pow(2,Math.floor(Math.log(ee)/Math.LN2)-52),re=Math.pow(10,k);1/re>10*J&&(ee=Math.round((ee+J)*re)/re),Ce&&(ee=-ee)}return ee.toFixed(k)}(ee,k)}else if(16===re)Ce=ee.toFixed(0),(J+=k)>0&&(Ce+=".");else{if(c.fF.assert(function(){return"number"==typeof ee},"value must be a number"),"number"!=typeof ee)return String(ee);var ot=(Ce=ee.toExponential(15)).indexOf("e");if(ot>0){var we=Ce.indexOf("."),he=Ce.substr(0,ot),Te=Ce.substr(ot+1),Oe=parseInt(Te,10)-(he.length-we-1);Ce=he.replace(".","")+_.repeat("0",Oe),k>0&&(Ce=Ce+"."+_.repeat("0",k))}}return J>0&&(Ce+=_.repeat("0",J)),Ce}function oe(ee,k,Ce,J){if(void 0!==We&&ee===We.format)return We;for(var re=[],Ie=S(ee,re),ot={format:ee,hasLiterals:0!==re.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},we=0,he=Ie.length;we<he;we++)switch(Ie.charAt(we)){case"e":case"E":ot.hasE=!0;break;case",":ot.hasCommas=!0;break;case".":ot.hasDots=!0;break;case"%":ot.hasPercent=!0;break;case"\u2030":ot.hasPermile=!0}var Oe=De(ee);return k&&(ot.precision=X(Oe.positive,ot)),J&&(ot.partsPerScale=Be(Oe.positive,ot)),Ce&&(ot.scale=Ke(Oe.positive,ot)),ot}function X(ee,k){return Se(ee,k),k.precision}function Se(ee,k){if(!(k.precision>-1)){var Ce=0,J=0;if(k.hasDots){k.hasLiterals&&(ee=g(ee));var re=ee.indexOf(".");if(re>-1){for(var Ie=ee.length,ot=re;ot<Ie;ot++){var we=ee.charAt(ot);if(we.match(T)&&++Ce,we===D?++J:J=0,"E"===we)break}Ce>19&&(J=Math.max(0,J-(Ce-19)),Ce=19)}}k.precision=Ce,k.optionalPrecision=J}}function Be(ee,k){if(null!=k.partsPerScale)return k.partsPerScale;var Ce=1;return k.hasPercent&&ee.indexOf("%")>-1&&(Ce*=100),k.hasPermile&&ee.indexOf("\u2030")>-1&&(Ce*=1e3),k.partsPerScale=Ce,Ce}function Ke(ee,k){if(k.scale>-1)return k.scale;var Ce=Be(ee,k);if(k.hasCommas){var J=ee.indexOf(".");if(-1===J)for(J=ee.length;J>0&&")"===ee.charAt(J-1);)J--;for(var re=J-1;re>-1&&","===ee.charAt(re);re--)Ce/=1e3}return k.scale=Ce,Ce}function Ze(ee,k,Ce,J,re){var Ie=!!J,ot=k.split(".",2);if(2===ot.length){var we=ot[0],he=ot[1],Te="";J&&(c.fF.assert(function(){return O.test(J)},"Number should always precede the display unit"),Te=J.replace(L,""),ee=ee.replace(Te,""));var Oe=Ce["."],fe=ee.split(re?Oe:".",2),ne=1===fe.length?fe[0]+Te:fe[0],Ne=2===fe.length?fe[1]+Te:"";Ne=Ne.replace(j,"");var et=qe(ne,we,Ce,Ie),tt=function(ee,k,Ce){var J=0,re=k.length,Ie=ee.length;if(Ce){c.fF.assert(function(){return re>0},"Empty formatting string");var ot=k.charAt(re-1);return ot.match(T)?{value:ee,fmtOnly:""===ee}:{value:ee+ot,fmtOnly:""===ee}}for(var we="",he=!0,Te=0;Te<re;Te++){var Oe=k.charAt(Te);if(J<Ie)switch(Oe){case E:case D:we+=ee[J++],he=!1;break;default:we+=Oe}else Oe!==D&&(we+=Oe,he=he&&Oe!==E)}return{value:we,fmtOnly:he}}(Ne,he,Ie);return tt.fmtOnly||""===tt.value?et+tt.value:et+Oe+tt.value}return qe(ee,k,Ce,Ie)}function qe(ee,k,Ce,J){var re=k.indexOf(","),Ie=re>-1&&re<Math.max(k.lastIndexOf("0"),k.lastIndexOf("#"))&&Ce[","],ot=0,we=0,he=Ce.groupSizes||[3],Te=he[0],Oe=Ce[","],Je="",fe=ee.charAt(0);("+"===fe||"-"===fe)&&(Je=Ce[fe],ee=ee.substr(1));for(var ne="0"===ee,Ne="",et="",tt=ee.length-1,xe=!0,Ve=k.length-1;Ve>-1;Ve--){var Le=k.charAt(Ve);switch(Le){case E:case D:xe=!1,""!==et&&(Ne=et+Ne,et=""),J||((tt>-1||Le===E)&&Ie&&(ot===Te?(Ne=Oe+Ne,++we<he.length&&(Te=he[we]),ot=1):ot++),tt>-1?(ne&&Le===D||(Ne=ee.charAt(tt)+Ne),tt--):Le!==D&&(Ne=Le+Ne));break;case",":break;default:et=Le+et}}if(!J){if(tt>-1&&""!==Ne)if(Ie)for(;tt>-1;)ot===Te?(Ne=Oe+Ne,++we<he.length&&(Te=he[we]),ot=1):ot++,Ne=ee.charAt(tt)+Ne,tt--;else Ne=ee.substr(0,tt+1)+Ne;return Je+et+Ne}return xe?Je+et+Ne:Je+et+ee+Ne}var be=function(){function ee(k){var Ce,J,re=k.calendar,Ie=re.patterns,ot=null!=(null===(J=null===(Ce=re.months)||void 0===Ce?void 0:Ce.namesAbbr)||void 0===J?void 0:J[0]),we=Ie.Y,he=Ie.M,Te=Ie.f,Oe=Ie.T,Je=Ie.t,fe=Te.indexOf(",")>-1?", ":" ",ne=0===we.indexOf("yyyy'")&&we.length>6&&"'"===we[6];this.YearPattern=ne?we.substr(0,7):"yyyy";var Ne=Te.indexOf("yy"),et=Te.indexOf("MMMM");this.MonthPattern=ot&&et>-1?Ne>et?"MMM yyyy":"yyyy MMM":we,this.DayPattern=ot?he.replace("MMMM","MMM"):he;var tt=Te.indexOf("mm"),Ve=Te.indexOf("tt")>-1?Je.replace(":mm ",""):Je;"fi-FI"===(this.HourPattern=Ne<tt?this.DayPattern+fe+Ve:Ve+fe+this.DayPattern,this.MinutePattern=Je,this.SecondPattern=Oe,this.MillisecondPattern=Oe.replace("ss","ss.fff"),k.name)&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return ee.prototype.getFormatString=function(k){switch(k){case u.l.Year:return this.YearPattern;case u.l.Month:return this.MonthPattern;case u.l.Week:case u.l.Day:return this.DayPattern;case u.l.Hour:return this.HourPattern;case u.l.Minute:return this.MinutePattern;case u.l.Second:return this.SecondPattern;case u.l.Millisecond:return this.MillisecondPattern}c.fF.assertFail("Unexpected unit: "+k)},ee}(),Fe=new R},744104:function(ze,K,r){r.d(K,{Gg:function(){return m},qC:function(){return V}});var t=r(226514),c=r(787941),i=r(289135),s=r(116170),p=r(326621);function V(h){return JSON.stringify(h.accept(v.instance))}function m(h){for(var n="[",o=0,u=h.length;o<u;o++)o>0&&(n+=","),n+=V(h[o]);return n+"]"}var v=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return(0,t.__extends)(n,h),n.prototype.visitColumnRef=function(o){return{col:{s:o.source.accept(this),r:o.ref}}},n.prototype.visitMeasureRef=function(o){return{measure:{s:o.source.accept(this),r:o.ref}}},n.prototype.visitNativeMeasure=function(o){var u={l:o.language,e:o.expression,t:o.dataType};return o.proposedName&&(u.p=o.proposedName),o.expressionContentCache&&(u.c={}),o.expressionContentCache.dependencies&&(u.c.d=m(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(u.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:u}},n.prototype.visitNativeColumn=function(o){var u={l:o.language,e:o.expression,t:o.dataType,s:o.source.accept(this),f:o.format};return o.proposedName&&(u.p=o.proposedName),o.expressionContentCache&&(u.c={}),o.expressionContentCache.dependencies&&(u.c.d=m(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(u.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:u}},n.prototype.visitAggr=function(o){return{agg:{a:o.arg.accept(this),f:o.func}}},n.prototype.visitEntity=function(o){return c.fF.assertValue(o,"expr"),c.fF.assertValue(o.entity,"expr.entity"),{e:o.entity}},n.prototype.visitHierarchyLevel=function(o){return{h:o.arg.accept(this),l:o.level}},n.prototype.visitHierarchy=function(o){return{e:o.arg.accept(this),h:o.hierarchy}},n.prototype.visitPropertyVariationSource=function(o){return{e:o.arg.accept(this),n:o.name,p:o.property}},n.prototype.visitAnd=function(o){return c.fF.assertValue(o,"expr"),{and:{l:o.left.accept(this),r:o.right.accept(this)}}},n.prototype.visitCompare=function(o){return c.fF.assertValue(o,"expr"),{comp:{k:o.comparison,l:o.left.accept(this),r:o.right.accept(this)}}},n.prototype.visitConstant=function(o){return c.fF.assertValue(o,"expr"),{const:{t:o.type.primitiveType,v:e(o.value)}}},n.prototype.visitArithmetic=function(o){return c.fF.assertValue(o,"expr"),{arithmetic:{o:o.operator,l:o.left.accept(this),r:o.right.accept(this)}}},n.prototype.visitScopedEval=function(o){return c.fF.assertValue(o,"expr"),{scopedEval:{e:o.expression.accept(this),s:m(o.scope)}}},n.prototype.visitFilteredEval=function(o){var u=this;return c.fF.assertValue(o,"expr"),{filteredEval:{e:o.expression.accept(this),f:"[".concat(_.map(o.filters,function(l){return JSON.stringify((d=l,b={},_.isEmpty(d.target)||(b.t=_.map(d.target,function(f){return f.accept(u)})),b.c=d.condition.accept(u),b));var d,b}).join(", "),"]")}}},n.prototype.visitWithRef=function(o){return c.fF.assertValue(o,"expr"),{withRef:{e:o.expressionName}}},n.prototype.visitTransformTableRef=function(o){return c.fF.assertValue(o,"expr"),{transformTableRef:{source:o.source}}},n.prototype.visitTransformOutputRoleRef=function(o){c.fF.assertValue(o,"expr");var u={transformOutputRoleRef:{role:o.role}};return o.transform&&(u.transformOutputRoleRef.transform=o.transform),u},n.prototype.visitFloor=function(o){c.fF.assertValue(o,"expr");var u={floor:{a:o.arg.accept(this),s:o.size}};return null!=o.timeUnit&&(u.floor.timeunit=o.timeUnit),u},n.prototype.visitRoleRef=function(o){return c.fF.assertValue(o,"expr"),{roleRef:{role:o.role}}},n.prototype.visitSummaryValueRef=function(o){return c.fF.assertValue(o,"expr"),{summaryValueRef:{name:o.name}}},n.prototype.visitAllRolesRef=function(o){return c.fF.assertValue(o,"expr"),{allRolesRef:{}}},n.prototype.visitNot=function(o){return c.fF.assertValue(o,"expr"),{not:o.arg.accept(this)}},n.prototype.visitIn=function(o){return c.fF.assertValue(o,"expr"),{in:{c:m(o.args),v:_.map(o.values,function(u){return m(u)})}}},n.prototype.visitSelectRef=function(o){return c.fF.assertValue(o,"expr"),{n:o.expressionName}},n.prototype.visitSparklineData=function(o){var u;return c.fF.assertValue(o,"expr"),{sparklineData:{m:o.measure.accept(this),g:m(o.grouping),s:null===(u=o.scalarKey)||void 0===u?void 0:u.accept(this)}}},n.prototype.visitDefault=function(o){c.fF.assertFail("Unexpected expression type found in DataViewScopeIdentity.")},n.instance=new n,n}(s.vq);function e(h){return(0,i.M4)(h)?p.y3.fromDateWithEpochValue(h):h}},745633:function(ze,K,r){r.d(K,{C:function(){return s},J:function(){return i}});var t=r(787941),c=r(149362);function i(p,V){if(t.fF.assertValue(p,"getStylePreset called with undefined stylePresets"),p){_.isEmpty(V)&&(V=p.defaultPresetName);var m=p.presets[V];return m||(m=p.presets[p.defaultPresetName]),t.fF.assertValue(m,"VisualStylePreset not found and no valid default exists"),m}}function s(p,V){var m=[];if(p){var v=p.presets;if(v)for(var e in v){var h=v[e];h.isDeprecated&&h.name!==V||m.push({value:h.name,displayName:h.displayName})}}return(0,c.i)(m)}},149362:function(ze,K,r){r.d(K,{i:function(){return c}});var t=r(787941);function c(s){return new i(s)}var i=function(){function s(p){t.fF.assertValue(p,"allMembers"),this.allMembers=p}return s.prototype.members=function(p){var V=this.allMembers;if(!p)return V;for(var m=[],v=0,e=V;v<e.length;v++){var h=e[v];_.includes(p,h.value)&&m.push(h)}return m},s}()},615419:function(ze,K,r){r.d(K,{AG:function(){return V},EV:function(){return p},Gl:function(){return i},RL:function(){return s}});var t=r(787941),c=r(324356);function i(m){return m&&(void 0!==m.solid&&void 0!==m.solid.color||void 0!==m.gradient&&(void 0!==m.gradient.startColor||void 0!==m.gradient.endColor)||void 0!==m.pattern&&(void 0!==m.pattern.patternKind||void 0!==m.pattern.color))}function s(m,v){t.fF.assertValue(m,"fill"),m.solid&&m.solid.color?v.visitExpr(m.solid.color):t.fF.assertFail("Unsupported FillDefinition")}function p(m,v){return v?{solid:{color:(0,c.$_)(m,v)}}:null===m?{solid:{color:(0,c.IF)()}}:m?{solid:{color:(0,c.fL)(m)}}:void 0}function V(m){return t.fF.assertValue(m,"descriptor"),!0!==m&&!!m.nullable}},655981:function(ze,K,r){r.d(K,{LX:function(){return i},RL:function(){return m},Sx:function(){return p},TJ:function(){return s},dt:function(){return V}});var t=r(787941),c=r(149362),i="asZero",s="noColor",p="specificColor",V=(0,c.i)([{value:i,displayName:function(u){return u.get("ConditionalFormattingDialog_FormatNull_AsZero")}},{value:s,displayName:function(u){return u.get("ConditionalFormattingDialog_FormatNull_NoFormat")}},{value:p,displayName:function(u){return u.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}}]);function m(o,u){t.fF.assertValue(o,"fillRule"),o.linearGradient2?function(o,u){t.fF.assertValue(o,"gradient2"),h(o.min,u),h(o.max,u),n(o.nullColoringStrategy,u)}(o.linearGradient2,u):o.linearGradient3?function(o,u){t.fF.assertValue(o,"gradient3"),h(o.min,u),h(o.mid,u),h(o.max,u),n(o.nullColoringStrategy,u)}(o.linearGradient3,u):t.fF.assertFail("Unsupported FillRuleDefinition")}function h(o,u){t.fF.assertValue(o,"stop"),u.visitExpr(o.color);var a=o.value;a&&u.visitExpr(a)}function n(o,u){o&&(u.visitExpr(o.strategy),o.color&&u.visitExpr(o.color))}},636490:function(ze,K,r){r.d(K,{BD:function(){return c},Ms:function(){return i},c1:function(){return t},t_:function(){return s}});var t="shared",c="packaged",i="geojson",s="topojson"},813297:function(ze,K,r){r.d(K,{z:function(){return t}});var t={misc:{imageUrl:!0}}},60495:function(ze,K,r){r.d(K,{IM:function(){return p},Kt:function(){return v},RL:function(){return s},Y0:function(){return V},Zm:function(){return e}});var t=r(787941),c=r(324356),i=r(950870);function s(a,l){t.fF.assertValue(a,"paragraphs");for(var d=0,b=a;d<b.length;d++)h(b[d],l)}function p(a){var l=a;return t.fF.assertValue(l,"textRunDefinition"),_.isString(l.value)||(0,i.U)(l.value)||l.value instanceof c.Il}function V(a){var l=a;return t.fF.assertValue(l,"textRunDefinitionGeneric"),_.isString(l.value)||function(a){return a&&a.expr}(l.value)||(0,i.U)(l.value)}function v(a){var l=a;return t.fF.assertValue(l,"textRunConditionalDefinition"),_.isArray(l.cases)&&void 0!==l.defaultCase&&_.isArray(l.defaultCase.textRuns)&&(0,i.U)(l.expression)}function e(a){var l=a;return t.fF.assertValue(l,"conditionalDefinitionGeneric"),_.isArray(l.cases)&&void 0!==l.defaultCase&&void 0!==l.expression}function h(a,l){if(t.fF.assertValue(a,"paragraph"),!_.isEmpty(a.textRuns))for(var d=0,b=a.textRuns;d<b.length;d++){var f=b[d];p(f)?n(f,l):v(f)?u(f,l):t.fF.assertNever(f)}}function n(a,l){t.fF.assertValue(a,"textRun"),t.fF.assertValue(a.value,"textRun.value"),!_.isString(a.value)&&o(a.value,l)}function o(a,l){if((0,i.U)(a))return l.visitValueRef(a);l.visitExpr(a)}function u(a,l){t.fF.assertValue(a,"textRunConditional"),t.fF.assertValue(a.expression,"expression"),t.fF.assertValue(a.defaultCase,"defaultCase"),t.fF.assertValue(a.cases,"cases");for(var d=0,b=a.cases;d<b.length;d++)for(var g=0,S=b[d].textRuns;g<S.length;g++)n(S[g],l);for(var C=0,E=a.defaultCase.textRuns;C<E.length;C++)n(E[C],l);(0,i.U)(a.expression)&&o(a.expression,l)}},340608:function(ze,K,r){r.d(K,{_:function(){return c}});var t=r(787941),c=function(){function i(s,p){this.exprVisitor=s,this.valueRefVisitor=p}return i.prototype.visitExpr=function(s){return t.fF.assertValue(s,"expr"),t.fF.assertValue(this.exprVisitor,"exprVisitor"),s.accept(this.exprVisitor)},i.prototype.visitValueRef=function(s){return t.fF.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(s)},i}()},939141:function(ze,K,r){r.d(K,{DS:function(){return b},Fq:function(){return e},Hr:function(){return n},JY:function(){return y},RL:function(){return f},TS:function(){return S},X2:function(){return p},Xz:function(){return d},ZG:function(){return l},bA:function(){return a},gO:function(){return V},hl:function(){return s},r:function(){return u}});var t=r(787941),c=r(13106),i=r(324356);function s(C){return!!C&&(C instanceof c.yl||p(C)||V(C)||function(C){return!!C.identityFieldsValues}(C)||function(C){return C.name instanceof i.Il&&C.url instanceof i.Il}(C)||e(C)||function(C){return C.name instanceof i.Il&&C.content instanceof i.Il&&C.type instanceof i.Il}(C)||n(C)||o(C)||u(C)||a(C)||l(C)||d(C)||b(C))}function p(C){return!!(C.gradient||C.solid||C.pattern)}function V(C){return!(!C.linearGradient2&&!C.linearGradient3)}function e(C){var E=C;if(!_.isArray(E))return!1;for(var D=0,P=E;D<P.length;D++)if(!P[D].textRuns)return!1;return!0}function n(C){return!(!C.algorithm||!C.parameters)}function o(C){return!!(C.axisColor&&C.negativeColor&&C.negativeColor)}function u(C){return"Icon"===C.kind}function a(C){return"ExprList"===C.kind}function l(C){return null!=C&&"ErrorRange"===C.kind}function d(C){return null!=(null==C?void 0:C.suggestedUtterances)}function b(C){return null!=C&&"ItemLocation"===C.kind}function f(C,E){p(C)?E.visitFillDefinition(C):V(C)?E.visitFillRuleDefinition(C):e(C)?E.visitParagraphs(C):o(C)?E.visitDataBarsDefinition(C):u(C)?E.visitIconDefinition(C):l(C)&&E.visitErrorRangeDefinition(C)}function S(C,E){return E?C?"Icon"===C.kind&&"Icon"===E.kind?{kind:"Icon",layout:null!=E.layout?E.layout:C.layout,verticalAlignment:null!=E.verticalAlignment?E.verticalAlignment:C.verticalAlignment,value:void 0!==E.value?E.value:C.value}:void t.fF.assertFail("unsupported StructuralObjectValues merging"):E:C}function y(C){return t.fF.assertValue(C,"type"),!!(C.fill||C.fillRule||C.filter||C.expression||C.image||C.paragraphs||C.geoJson||C.queryTransform||C.dataBars||C.icon||C.exprList||C.errorRange||C.qnaVisualLink||C.itemLocation)}},950870:function(ze,K,r){function t(i){return!!i&&(void 0!==i.selector&&void 0!==i.propertyIdentifier)}r.d(K,{S:function(){return c},U:function(){return t}});var c=function(){function i(){this.references=[]}return i.prototype.accept=function(s){this.references.push(s)},i}()},592042:function(ze,K,r){r.d(K,{Ep:function(){return u},Ge:function(){return V},yf:function(){return a}});var s,p,t=r(787941),c=r(143509),i=r(725182),V=function(){function D(P,M,T,R,B,N){t.fF.assert(function(){return!!P&&null!=a[P]||0===P},"type"),t.fF.assert(function(){return!!M||null===M},"category"),t.fF.assert(function(){return 26214401!==P||!!T},"enumType"),t.fF.assert(function(){return 26280196!==P||!!R},"flagsEnumType"),this.underlyingType=P,this.category=M,(0,i.yE)(P,512)&&(this.temporalType=new v(P)),(0,i.yE)(P,1024)&&(this.geographyType=new e(P)),(0,i.yE)(P,2048)&&(this.miscType=new h(P,N)),(0,i.yE)(P,4096)&&(this.formattingType=new o(P)),(0,i.yE)(P,26214401)&&(this.enumType=T),(0,i.yE)(P,26280196)&&(this.flagsEnumType=R),(0,i.yE)(P,8192)&&(this.scriptingType=new m(P)),(0,i.yE)(P,16384)&&(this.referenceType=new n(P)),(0,i.yE)(P,13)&&(this.variationTypes=B)}return D.isValueTypeDescriptor=function(P){return 0!==D.fromDescriptor(P).primitiveType},D.fromDescriptor=function(P){if((P=P||{}).scripting&&P.scripting.source)return D.fromExtendedType(32776193);if(P.enumeration)return D.fromEnum(P.enumeration);if(P.flagsEnumeration)return D.fromFlagsEnum(P.flagsEnumeration);if(P.temporal){if(P.temporal.year)return D.fromExtendedType(66308);if(P.temporal.quarter)return D.fromExtendedType(262916);if(P.temporal.month)return D.fromExtendedType(131844);if(P.temporal.day)return D.fromExtendedType(328452);if(P.temporal.paddedDateTableDate)return D.fromExtendedType(197127)}if(P.geography){if(P.geography.address)return D.fromExtendedType(6554625);if(P.geography.city)return D.fromExtendedType(6620161);if(P.geography.continent)return D.fromExtendedType(6685697);if(P.geography.country)return D.fromExtendedType(6751233);if(P.geography.county)return D.fromExtendedType(6816769);if(P.geography.region)return D.fromExtendedType(6882305);if(P.geography.postalCode)return D.fromExtendedType(6947841);if(P.geography.stateOrProvince)return D.fromExtendedType(7013377);if(P.geography.place)return D.fromExtendedType(7078913);if(P.geography.latitude)return D.fromExtendedType(7144707);if(P.geography.longitude)return D.fromExtendedType(7210243)}if(P.misc){if(P.misc.image)return D.fromExtendedType(13109259);if(P.misc.imageUrl)return D.fromExtendedType(13174785);if(P.misc.webUrl)return D.fromExtendedType(13240321);if(P.misc.barcode)return D.fromExtendedType(13305857);if(P.misc.sparkline)return D.fromSparklineType(P.misc.sparkline)}if(P.formatting){if(P.formatting.color)return D.fromExtendedType(19664897);if(P.formatting.formatString)return D.fromExtendedType(19730433);if(P.formatting.alignment)return D.fromExtendedType(20058113);if(P.formatting.labelDisplayUnits)return D.fromExtendedType(20123649);if(P.formatting.displayUnitsWithoutAuto)return D.fromExtendedType(20516865);if(P.formatting.fontFamily)return D.fromExtendedType(20385793);if(P.formatting.fontSize)return D.fromExtendedType(20189443);if(P.formatting.altText)return D.fromExtendedType(20451329);if(P.formatting.stylePreset)return D.fromExtendedType(20582401);if(P.formatting.dashArray)return D.fromExtendedType(20647937)}if(P.text)return D.fromExtendedType(1);if(P.integer)return D.fromExtendedType(260);if(P.numeric)return D.fromExtendedType(259);if(P.bool)return D.fromExtendedType(5);if(P.dateTime)return D.fromExtendedType(519);if(P.duration)return D.fromExtendedType(10);if(P.binary)return D.fromExtendedType(11);if(P.json)return D.fromExtendedType(14);if(P.none)return D.fromExtendedType(12);if(P.extendedType)return D.fromExtendedType(P.extendedType);if(P.operations&&P.operations.searchEnabled)return D.fromExtendedType(65541);if(P.reference){if(P.reference.bookmark)return D.fromExtendedType(39337985);if(P.reference.bookmarkGroup)return D.fromExtendedType(39534593);if(P.reference.section)return D.fromExtendedType(39403521);if(P.reference.perspective)return D.fromExtendedType(39469057);if(P.reference.rowRefText)return D.fromExtendedType(39600129)}if(P.variant){var M=_.map(P.variant,function(T){return D.fromDescriptor(T)});return D.fromVariant(M)}return D.fromExtendedType(0)},D.fromExtendedType=function(P){var M=g(P=P||0),T=function(D){if(function(D){return(65535&D)===D}(D))return null;var P=a[D];if(!P)return null;var M=P.lastIndexOf("_");if(M>0){var T=P.slice(0,M);T in l&&(t.fF.assert(function(){return(D&f)==(D&f)},"Unexpected value for ExtendedType base member of "+D),P=T)}return P}(P);return t.fF.assert(function(){return 0!==M||0===P},"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),D.fromPrimitiveTypeAndCategory(M,T)},D.fromPrimitiveTypeAndCategory=function(P,M){M=M||null;var T=(P=P||0).toString();return M&&(T+="|"+M),D.typeCache[T]||(D.typeCache[T]=new D(function(D,P){var M=u[D],T=l[M];if(null==T&&(t.fF.assertFail("Unexpected primitiveType "+D),T=0),D&&P){var R=l[P];if(R){var B=g(R);0===B?a[R|=T]&&(t.fF.assert(function(){return a[R]===P+"_"+M},"Unexpected name for ExtendedType member "+R),T=R):B===D&&(T=R)}}return T}(P,M),M))},D.fromEnum=function(P){return t.fF.assertValue(P,"enumType"),new D(26214401,null,P)},D.fromFlagsEnum=function(P){return t.fF.assertValue(P,"enumType"),new D(26280196,null,null,P)},D.fromVariant=function(P){return t.fF.assertValue(P,"variantTypes"),new D(13,null,null,null,P)},D.fromSparklineType=function(P){return new D(13371406,"Sparkline",null,null,null,P)},D.isCompatibleFromAny=function(P,M,T){t.fF.assertValue(P,"type"),t.fF.assertValue(M,"otherType");var R=D.fromDescriptor(P);return!!D.isCompatibleTo(R,[M],T)||R&&R.isCompatibleFrom(D.fromDescriptor(M),T)},D.isCompatibleTo=function(P,M,T){t.fF.assertValue(P,"type"),t.fF.assertValue(M,"otherTypes");for(var R=D.fromDescriptor(P),B=0,N=M;B<N.length;B++)if(D.fromDescriptor(N[B]).isCompatibleFrom(R,T))return!0;return!1},D.prototype.isCompatibleFrom=function(P,M){if(t.fF.assertValue(P,"other"),this===P)return!0;if(P.variant)for(var T=0,R=P.variant;T<R.length;T++)if(!this.isCompatibleFrom(R[T],M))return!1;if(this.variant)for(var N=0,x=this.variant;N<x.length;N++)if(x[N].isCompatibleFrom(P,M))return!0;var I=P.primitiveType;return this.primitiveType===I||0===I||this.numeric&&P.numeric&&(!M||!this.integer||P.integer)},D.prototype.equals=function(P){return _.isEqual(this,P)},Object.defineProperty(D.prototype,"primitiveType",{get:function(){return g(this.underlyingType)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"categoryString",{get:function(){return this.category},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"text",{get:function(){return 1===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"numeric",{get:function(){return(0,i.yE)(this.underlyingType,256)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"integer",{get:function(){return 4===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"bool",{get:function(){return 5===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dateTime",{get:function(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"duration",{get:function(){return 10===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"binary",{get:function(){return 11===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"json",{get:function(){return 14===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"none",{get:function(){return 12===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"geography",{get:function(){return this.geographyType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"misc",{get:function(){return this.miscType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"enum",{get:function(){return this.enumType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"flagsEnum",{get:function(){return this.flagsEnumType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"reference",{get:function(){return this.referenceType},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!1,configurable:!0}),D.typeCache={},D}();(0,c.y)(V.prototype);var m=function(){function D(P){t.fF.assert(function(){return!!P&&(0,i.yE)(P,8192)},"type"),this.underlyingType=P}return Object.defineProperty(D.prototype,"source",{get:function(){return E(this.underlyingType,32776193)},enumerable:!1,configurable:!0}),D}(),v=function(){function D(P){t.fF.assert(function(){return!!P&&(0,i.yE)(P,512)},"type"),this.underlyingType=P}return Object.defineProperty(D.prototype,"year",{get:function(){return E(this.underlyingType,66048)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"quarter",{get:function(){return E(this.underlyingType,262656)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"month",{get:function(){return E(this.underlyingType,131584)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"day",{get:function(){return E(this.underlyingType,328192)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"paddedDateTableDate",{get:function(){return E(this.underlyingType,197127)},enumerable:!1,configurable:!0}),D}(),e=function(){function D(P){t.fF.assert(function(){return!!P&&(0,i.yE)(P,1024)},"type"),this.underlyingType=P}return Object.defineProperty(D.prototype,"address",{get:function(){return E(this.underlyingType,6554625)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"city",{get:function(){return E(this.underlyingType,6620161)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"continent",{get:function(){return E(this.underlyingType,6685697)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"country",{get:function(){return E(this.underlyingType,6751233)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"county",{get:function(){return E(this.underlyingType,6816769)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"region",{get:function(){return E(this.underlyingType,6882305)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"postalCode",{get:function(){return E(this.underlyingType,6947840)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"stateOrProvince",{get:function(){return E(this.underlyingType,7013377)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"place",{get:function(){return E(this.underlyingType,7078913)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"latitude",{get:function(){return E(this.underlyingType,7144448)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"longitude",{get:function(){return E(this.underlyingType,7209984)},enumerable:!1,configurable:!0}),D}(),h=function(){function D(P,M){t.fF.assert(function(){return!!P&&(0,i.yE)(P,2048)},"type"),this.underlyingType=P,this.sparklineType=M}return Object.defineProperty(D.prototype,"image",{get:function(){return E(this.underlyingType,13109259)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"imageUrl",{get:function(){return E(this.underlyingType,13174785)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"webUrl",{get:function(){return E(this.underlyingType,13240321)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"barcode",{get:function(){return E(this.underlyingType,13305856)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"sparkline",{get:function(){if(E(this.underlyingType,13371406))return this.sparklineType},enumerable:!1,configurable:!0}),D}();Object.getOwnPropertyNames(h.prototype).forEach(function(D){"constructor"!==D&&Object.defineProperty(h.prototype,D,{enumerable:!0})});var n=function(){function D(P){t.fF.assert(function(){return!!P&&(0,i.yE)(P,16384)},"type"),this.underlyingType=P}return Object.defineProperty(D.prototype,"bookmark",{get:function(){return E(this.underlyingType,39337985)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"bookmarkGroup",{get:function(){return E(this.underlyingType,39534593)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"section",{get:function(){return E(this.underlyingType,39403521)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"perspective",{get:function(){return E(this.underlyingType,39469057)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"rowRefText",{get:function(){return E(this.underlyingType,39600129)},enumerable:!1,configurable:!0}),D}(),o=function(){function D(P){t.fF.assert(function(){return!!P&&(0,i.yE)(P,4096)},"type"),this.underlyingType=P}return Object.defineProperty(D.prototype,"color",{get:function(){return E(this.underlyingType,19664897)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"formatString",{get:function(){return E(this.underlyingType,19730433)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"alignment",{get:function(){return E(this.underlyingType,20058113)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"labelDisplayUnits",{get:function(){return E(this.underlyingType,20123649)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"displayUnitsWithoutAuto",{get:function(){return E(this.underlyingType,20516865)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"fontFamily",{get:function(){return E(this.underlyingType,20385793)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"fontSize",{get:function(){return E(this.underlyingType,20189443)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"altText",{get:function(){return E(this.underlyingType,20451329)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"stylePreset",{get:function(){return E(this.underlyingType,20582401)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dashArray",{get:function(){return E(this.underlyingType,20647937)},enumerable:!1,configurable:!0}),D}();Object.getOwnPropertyNames(o.prototype).forEach(function(D){"constructor"!==D&&Object.defineProperty(o.prototype,D,{enumerable:!0})});var u=((s={})[0]="Null",s[1]="Text",s[2]="Decimal",s[3]="Double",s[4]="Integer",s[5]="Boolean",s[6]="Date",s[7]="DateTime",s[8]="DateTimeZone",s[9]="Time",s[10]="Duration",s[11]="Binary",s[12]="None",s[13]="Variant",s[14]="Json",s),a=((p={})[256]="Numeric",p[512]="Temporal",p[1024]="Geography",p[2048]="Miscellaneous",p[4096]="Formatting",p[8192]="Scripting",p[0]="Null",p[1]="Text",p[258]="Decimal",p[259]="Double",p[260]="Integer",p[5]="Boolean",p[518]="Date",p[519]="DateTime",p[520]="DateTimeZone",p[521]="Time",p[10]="Duration",p[11]="Binary",p[12]="None",p[13]="Variant",p[66048]="Years",p[66049]="Years_Text",p[66308]="Years_Integer",p[66054]="Years_Date",p[66055]="Years_DateTime",p[131584]="Months",p[131585]="Months_Text",p[131844]="Months_Integer",p[131590]="Months_Date",p[131591]="Months_DateTime",p[197127]="PaddedDateTableDates",p[262656]="Quarters",p[262657]="Quarters_Text",p[262916]="Quarters_Integer",p[262662]="Quarters_Date",p[262663]="Quarters_DateTime",p[328192]="DayOfMonth",p[328193]="DayOfMonth_Text",p[328452]="DayOfMonth_Integer",p[328198]="DayOfMonth_Date",p[328199]="DayOfMonth_DateTime",p[6554625]="Address",p[6620161]="City",p[6685697]="Continent",p[6751233]="Country",p[6816769]="County",p[6882305]="Region",p[6947840]="PostalCode",p[6947841]="PostalCode_Text",p[6948100]="PostalCode_Integer",p[7013377]="StateOrProvince",p[7078913]="Place",p[7144448]="Latitude",p[7144706]="Latitude_Decimal",p[7144707]="Latitude_Double",p[7209984]="Longitude",p[7210242]="Longitude_Decimal",p[7210243]="Longitude_Double",p[13109259]="Image",p[13174785]="ImageUrl",p[13240321]="WebUrl",p[13305856]="Barcode",p[13305857]="Barcode_Text",p[13306116]="Barcode_Integer",p[19664897]="Color",p[19730433]="FormatString",p[20058113]="Alignment",p[20123649]="LabelDisplayUnits",p[20516865]="DisplayUnitsWithoutAuto",p[20385793]="FontFamily",p[20451329]="AltText",p[20189443]="FontSize",p[26214401]="Enumeration",p[26280196]="FlagsEnumeration",p[32776193]="ScriptSource",p[65541]="SearchEnabled",p[39337985]="BookmarkRef",p[39534593]="BookmarkGroupRef",p[39403521]="SectionRef",p[20582401]="StylePreset",p[20647937]="DashArray",p[39469057]="PerspectiveRef",p[16384]="Reference",p[14]="Json",p[13371406]="Sparkline",p[39600129]="RowRefText",p),l={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,DashArray:20647937,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},f=4294901760;function g(D){return 255&D}function E(D,P){return(D&f)==(P&f)}},847444:function(ze,K,r){r.d(K,{Mb:function(){return i},dt:function(){return c},r5:function(){return s}});var c=1e3;function i(p,V){return V||!p?0:p.getDuration()}var s=function(){function p(V){V&&V.duration&&(this.animationDuration=V.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:250}return p.prototype.getDuration=function(){return this.animationDuration},p.prototype.animate=function(V){return null},p.prototype.getEasing=function(){return d3.easeCubicInOut},p}()},914285:function(ze,K,r){r.d(K,{B9:function(){return g},EK:function(){return n},aH:function(){return o},k6:function(){return h},kx:function(){return u},mx:function(){return e}});var m,v,t=r(226514),c=r(734287),i=r(436582),s=r(778549),p=r(495944),V=r(244801);function e(S){return S&&S.buttonTileFormatting?d:f}var h={fill:V.OV.fill,outline:V.OV.outline,text:p.nm.text,icon:p.nm.icon,shape:V.OV.shape,shadow:V.OV.shadow,glow:V.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},n={fill:V.eM.fill,outline:V.eM.outline,text:p.Vz.text,icon:p.Vz.icon,shape:V.eM.shape,shadow:V.eM.shadow,glow:V.eM.glow,rotation:"rotation"},o=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},V.Mn),p.WI),{rotation:"angle"}),u={default:"default",hover:"hover",selected:"selected",disabled:"disabled"},a=((m={})[o.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},m[o.shapeRotation]={displayName:(0,c.V)("Visual_ShapeRotation"),type:{integer:!0}},m[o.textRotation]={displayName:(0,c.V)("Visual_TextRotation"),type:{integer:!0}},m),d={objects:((v={})[n.fill]=V.zC.fill,v[n.outline]=V.zC.outline,v[n.text]=p.p.text,v[n.icon]=p.p.icon,v[n.shape]=V.zC.shape,v[n.shadow]=V.zC.shadow,v[n.glow]=V.zC.glow,v[n.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),properties:a},v),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},f={objects:{text:{displayName:(0,c.V)("ActionButton_Text"),properties:{show:s.iD.show,text:{displayName:(0,c.V)("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},fontColor:s.iD.fontColor,padding:{displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:s.iD.horizontalAlignment,fontSize:s.iD.fontSize,fontFamily:s.iD.fontFamily,italic:s.iD.italic,bold:s.iD.bold,underline:s.iD.underline}},icon:{displayName:(0,c.V)("Icon"),properties:{show:s.iD.show,shapeType:{displayName:(0,c.V)("BasicShape_ToolTip"),type:{enumeration:i.i}},padding:{displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:s.iD.horizontalAlignment,lineColor:{displayName:(0,c.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineWeight:{displayName:(0,c.V)("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:s.iD.lineTransparency}},outline:{displayName:(0,c.V)("Visual_Outline"),properties:{show:s.iD.show,lineColor:s.iD.outlineColor,transparency:s.iD.lineTransparency,weight:s.iD.outlineWeight,roundEdge:{displayName:(0,c.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,c.V)("Visual_Fill"),properties:{show:s.iD.show,fillColor:{displayName:(0,c.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:s.iD.transparency,image:s.iD.image}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},g={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},bold:{objectName:"text",propertyName:"bold"},italic:{objectName:"text",propertyName:"italic"},underline:{objectName:"text",propertyName:"underline"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}},632799:function(ze,K,r){r.d(K,{B0:function(){return d},R9:function(){return b},d1:function(){return T},u9:function(){return D},yD:function(){return P}});var h,n,o,u,a,l,R,B,t=r(226514),c=r(145315),i=r(734287),s=r(653460),p=r(210770),V=r(778549),m=r(761565),v=r(244801),e=r(674810),d={Tooltips:"Tooltips"},b={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:v.eM.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:v.eM.outline,shapeCustomRectangle:v.eM.shapeCustomRectangle,layout:"layout",shadowCustom:v.eM.shadowCustom,glowCustom:v.eM.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent"},g={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}},layout:(0,t.__assign)((0,t.__assign)({},v.OV.layout),{style:{objectName:"layout",propertyName:"style"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"}})},S=((h={})[b.angle]={displayName:(0,i.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},h[b.shapeRotation]={displayName:(0,i.V)("Visual_ShapeRotation"),type:{integer:!0}},h[b.textRotation]={displayName:(0,i.V)("Visual_TextRotation"),type:{integer:!0}},h),y=((n={show:V.iD.show})[b.iconType]={displayName:(0,i.V)("Button_Icon_Type"),type:{enumeration:s.j}},n[b.icon]=V.iD.image,n[b.iconUrl]={displayName:(0,i.V)("Image_Url"),type:{text:!0}},n[b.transparency]=V.iD.transparency,n[b.position]={displayName:(0,i.V)("Visual_Position"),type:{enumeration:p.CX}},n[b.padding]={displayName:(0,i.V)("Visual_Padding"),type:{integer:!0}},n[b.size]={displayName:(0,i.V)("Visual_BubbleSize"),type:{integer:!0}},n[b.altText]={displayName:(0,i.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},n),C=((o={show:V.iD.show})[b.color]=V.iD.fill,o[b.transparency]=V.iD.transparency,o[b.wrapContent]={displayName:(0,i.V)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}},o),E=((u={})[b.image]={displayName:(0,i.V)("Field"),type:{variant:[{text:!0}]}},u[b.imageFit]={displayName:(0,i.V)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:e.H}},u[b.transparency]=V.iD.transparency,u[b.position]={displayName:(0,i.V)("Visual_Position"),type:{enumeration:p.CX}},u[b.saturation]={displayName:(0,i.V)("Visual_Saturation"),type:{integer:!0}},u[b.blur]={displayName:(0,i.V)("Visual_DropShadow_Blur"),type:{integer:!0}},u[b.ignorePadding]={displayName:(0,i.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},u[b.setAsBackGround]={displayName:(0,i.V)("Visual_SetAsBackGround"),type:{bool:!0}},u[b.padding]={displayName:(0,i.V)("Visual_Space_Between_Image"),type:{integer:!0}},u[b.imageAreaSize]={displayName:(0,i.V)("Visual_Image_Area_Size"),type:{integer:!0}},u),D={dataRoles:[{name:m.CT.value,kind:c.DW.Grouping,displayName:(0,i.V)("Field"),description:(0,i.V)("Role_DisplayName_FieldDescription")},{name:d.Tooltips,kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description")}],objects:(a={general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:V.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}}},a[b.fill]=v.zC.fillCustom,a[b.outline]=v.zC.outline,a[v.eM.value]=v.zC.value,a[v.eM.label]=(R=v.zC.label,B=_.cloneDeep(R),delete B.properties[v.Mn.text],B.properties[b.field]={displayName:(0,i.V)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},B),a[b.shapeCustomRectangle]=v.zC.shapeCustomRectangle,a[b.layout]=v.zC.layout,a[v.eM.overFlow]=v.zC.overFlow,a[b.shadowCustom]=v.zC.shadowCustom,a[b.glowCustom]=v.zC.glowCustom,a[b.rotation]={displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:S},a[b.spacing]=v.zC.spacing,a[b.padding]=v.zC.padding,a[b.accentBar]=v.zC.accentBar,a[b.icon]={displayName:(0,i.V)("Icon"),properties:y},a[b.image]={displayName:(0,i.V)("Image"),properties:E},a[b.background]={displayName:(0,i.V)("Visual_Background"),properties:C},a.selection={displayName:(0,i.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,i.V)("Visual_SelectAll"),description:(0,i.V)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,i.V)("Visual_ForceSelection"),description:(0,i.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,i.V)("Visual_StrictSingleSelect"),description:(0,i.V)("Visual_StrictSingleSelect"),type:{bool:!0}}}},a.data={suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},a),dataViewMappings:[{conditions:[(l={},l[m.CT.value]={max:1,min:1},l)],matrix:{rows:{select:[{for:{in:m.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:d.Tooltips}}]},includeEmptyGroups:!0}}],tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[d.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0},P={general:{formatString:V.e0.formatString},fillCustom:v.OV.fillCustom,outline:v.OV.outline,value:v.OV.value,label:v.OV.label,shapeCustomRectangle:v.OV.shapeCustomRectangle,layout:g.layout,shadowCustom:v.OV.shadowCustom,glowCustom:v.OV.glowCustom,spacing:v.OV.spacing,padding:v.OV.padding,accentBar:v.OV.accentBar,icon:g.icon,image:g.image,overFlow:v.OV.overFlow,background:g.background},T={default:"default",hover:"hover",press:"press",selected:"selected"}},223834:function(ze,K,r){r.d(K,{Tf:function(){return s},w$:function(){return V}});var t=r(106266),c=r(734287),i=r(778549);function s(){return p}var p={objects:{userPrompt:{properties:{text:{displayName:(0,c.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,c.V)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:i.iD.fontColor,fontSize:i.iD.fontSize,fontFamily:i.iD.fontFamily,textAlignment:i.iD.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},V=(0,t.wZ)(p.objects)},663406:function(ze,K,r){r.d(K,{$E:function(){return g},DQ:function(){return f},Do:function(){return b},MC:function(){return E},Wx:function(){return v},a:function(){return e}});var t=r(145315),c=r(734287),i=r(149362),s=r(636490),p=r(51033),V=r(771803),m=r(778549),v={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips"},e={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},h=(0,i.i)([{value:e.road,displayName:(0,c.V)("Visual_MapThemeRoad")},{value:e.satellite,displayName:(0,c.V)("Visual_AzureMapsSatelliteStyle")},{value:e.satelliteRoadLabels,displayName:(0,c.V)("ContentList_Datasets_Hybrid")},{value:e.grayscaleDark,displayName:(0,c.V)("Visual_AzureMapsGrayScaleDarkStyle")},{value:e.night,displayName:(0,c.V)("Visual_AzureMapsNightStyle")},{value:e.grayscaleLight,displayName:(0,c.V)("Visual_AzureMapsGrayScaleLightStyle")},{value:e.roadShadedRelief,displayName:(0,c.V)("Visual_AzureMapsTerraStyle")},{value:e.blank,displayName:(0,c.V)("ReportAppBar_Blank")},{value:e.blankAccessible,displayName:(0,c.V)("Visual_AzureMapsBlankAccessibleStyle")},{value:e.highContrastDark,displayName:(0,c.V)("Visual_AzureMapsHighContrastDarkStyle")},{value:e.highContrastLight,displayName:(0,c.V)("Visual_AzureMapsHighContrastLightStyle")}]),n=(0,i.i)([{value:0,displayName:(0,c.V)("Visual_AzureMapsBoxShape")},{value:1,displayName:(0,c.V)("Visual_AzureMapsCylinderShape")}]),o=(0,i.i)([{value:0,displayName:(0,c.V)("Visual_Axis_Linear")},{value:1,displayName:(0,c.V)("Visual_Axis_Log")},{value:2,displayName:(0,c.V)("Visual_AzureMapsCubicBezier")}]),u=(0,i.i)([{value:"map",displayName:(0,c.V)("Visual_ShapeMap_Map")},{value:"viewport",displayName:(0,c.V)("Visual_AzureMapsViewport")}]),a=(0,i.i)([{value:"",displayName:(0,c.V)("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:(0,c.V)("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:(0,c.V)("Visual_AzureMapsLayerBelowRoads")}]),l=(0,i.i)([{value:"pixels",displayName:function(P){return P.get("Generic_Pixels")}},{value:"meters",displayName:function(P){return P.get("Visual_MapUnitMeters")}}]),d=(0,i.i)([{value:"url",displayName:(0,c.V)("Url")},{value:"file_upload",displayName:(0,c.V)("Visual_AzureMapsFileUpload")}]),b={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap"},f={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth",datasourceType:"datasourceType",referenceLayerUrl:"referenceLayerUrl"};function g(D){return{dataRoles:S(D),objects:y(D),dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{min:1,max:1,kind:t.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:v.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:v.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:v.y}},{bind:{to:v.x}},{bind:{to:v.size}},{for:{in:v.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:v.series}},{composite:[{for:{in:v.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:t.DW.Grouping},Y:{max:1,kind:t.DW.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:v.series}},{composite:[{bind:{to:v.x}},{bind:{to:v.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:v.size}},{bind:{to:v.tooltips}}]},dataVolume:6}}],sorting:{custom:{},implicit:{clauses:[{role:v.size,direction:2}]}},drilldown:{roles:[v.category]},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[v.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function S(D){var P=[{name:v.y,kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Latitude"),description:(0,c.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:v.x,kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Longitude"),description:(0,c.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:v.series,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:v.size,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Size"),description:(0,c.V)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:v.tooltips,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}];return null!=D&&D.azureMapsGeocoding&&P.unshift({name:v.category,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Location"),description:(0,c.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),P}function y(D){var P,M,T,R,B,N,x,A,I,w,F=((P={general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:m.iD.formatString}},legend:m.TQ.legend,dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{showAllDataPoints:m.iD.showAllDataPoints,fill:m.iD.defaultCategoryColor}},labels:{displayName:(0,c.V)("Visual_DataPointsLabels"),properties:{show:m.iD.show,color:m.iD.dataColor,labelDisplayUnits:m.iD.labelDisplayUnits,labelPrecision:m.iD.labelPrecision}}})[b.mapControls]={displayName:(0,c.V)("Visual_AzureMapsMapSettings"),description:(0,c.V)("Visual_MapControlsDescription"),properties:(M={},M[f.defaultStyle]={displayName:(0,c.V)("Visual_AzureMapsDefaultStyle"),description:(0,c.V)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:h}},M[f.showStylePicker]={displayName:(0,c.V)("Visual_AzureMapsStylePicker"),description:(0,c.V)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},M[f.showLabels]={displayName:(0,c.V)("Visual_MapShowLabels"),description:(0,c.V)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},M[f.showNavigationControls]={displayName:(0,c.V)("Visual_AzureMapsNavigationControls"),description:(0,c.V)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},M[f.zoom]={displayName:(0,c.V)("Visual_ShapeMap_Zoom"),description:(0,c.V)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},M[f.centerLatitude]={displayName:(0,c.V)("Visual_AzureMapsCenterLatitude"),description:(0,c.V)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},M[f.centerLongitude]={displayName:(0,c.V)("Visual_AzureMapsCenterLongitude"),description:(0,c.V)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},M[f.heading]={displayName:(0,c.V)("Visual_AzureMapsHeading"),description:(0,c.V)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},M[f.pitch]={displayName:(0,c.V)("Visual_AzureMapsPitch"),description:(0,c.V)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},M[f.autoZoom]={displayName:(0,c.V)("Visual_AutoZoom"),description:(0,c.V)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},M[f.worldWrap]={displayName:(0,c.V)("Visual_AzureMapsWorldWrap"),description:(0,c.V)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},M[f.showSelectionControl]={displayName:(0,c.V)("Visual_AzureMapsSelectionControl"),description:(0,c.V)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}},M)},P[b.filledMap]={displayName:(0,c.V)("FilledMap_ToolTip"),description:(0,c.V)("Visual_AzureMapsFilledMapDescription"),properties:(T={show:m.iD.show},T[f.defaultColor]={displayName:(0,c.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},T[f.mapTransparency]={displayName:(0,c.V)("Visual_Fill_Transparency"),type:{numeric:!0}},T[f.strokeColor]={displayName:(0,c.V)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},T[f.strokeTransparency]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},T[f.strokeWidth]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},T[f.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},T[f.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},T[f.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:a}},T)},P[b.bubbleLayer]={displayName:(0,c.V)("Visual_Bubbles"),description:(0,c.V)("Visual_BubblesDescription"),properties:(R={show:m.iD.show},R[f.mapTransparency]={displayName:(0,c.V)("Visual_Fill_Transparency"),description:(0,c.V)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},R[f.bubbleRadius]={displayName:(0,c.V)("Visual_BubbleSize"),description:(0,c.V)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},R[f.minBubbleRadius]={displayName:(0,c.V)("Visual_AzureMapsMinBubbleRadius"),description:(0,c.V)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},R[f.markerRangeType]={displayName:(0,c.V)("Visual_MarkerRangeType"),description:(0,c.V)("Visual_MarkerRangeType"),type:{enumeration:p.v6}},R[f.radiusScalingMethod]={displayName:(0,c.V)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,c.V)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:o}},R[f.maxRadius]={displayName:(0,c.V)("Visual_AzureMapsBubbleMaxRadius"),description:(0,c.V)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},R[f.logScale]={displayName:(0,c.V)("Visual_AzureMapsLogScale"),description:(0,c.V)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},R[f.x1]={displayName:(0,c.V)("Visual_AzureMapsX1"),description:(0,c.V)("Visual_AzureMapsX1Description"),type:{numeric:!0}},R[f.x2]={displayName:(0,c.V)("Visual_AzureMapsX2"),description:(0,c.V)("Visual_AzureMapsX2Description"),type:{numeric:!0}},R[f.y1]={displayName:(0,c.V)("Visual_AzureMapsY1"),description:(0,c.V)("Visual_AzureMapsY1Description"),type:{numeric:!0}},R[f.y2]={displayName:(0,c.V)("Visual_AzureMapsY2"),description:(0,c.V)("Visual_AzureMapsY2Description"),type:{numeric:!0}},R[f.strokeColor]={displayName:(0,c.V)("Visual_OutlineColor"),description:(0,c.V)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},R[f.autoStrokeColor]={displayName:(0,c.V)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,c.V)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},R[f.strokeTransparency]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,c.V)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},R[f.bubbleStrokeWidth]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,c.V)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},R[f.blur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),description:(0,c.V)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},R[f.pitchAlignment]={displayName:(0,c.V)("Visual_AzureMapsBubblePitchAlignment"),description:(0,c.V)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:u}},R[f.zoomScaleFactor]={displayName:(0,c.V)("Visual_AzureMapsZoomScaleFactor"),description:(0,c.V)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},R[f.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},R[f.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},R[f.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:a}},R)},P[b.categoryLabels]={displayName:(0,c.V)("Visual_CategoryLabels"),description:(0,c.V)("Visual_CategoryLabelsDescription"),properties:{show:m.iD.show,color:m.iD.categoryColor,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily,enableBackground:m.iD.labelEnableBackground,backgroundColor:m.iD.labelBackgroundColor,backgroundTransparency:m.iD.labelBackgroundTransparency}},P[b.heatMapLayer]={displayName:(0,c.V)("Visual_HeatMap"),description:(0,c.V)("Visual_HeatMapDescription"),properties:(B={show:m.iD.show},B[f.heatMapRadius]={displayName:(0,c.V)("Visual_Radius"),description:(0,c.V)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},B[f.heatMapRadiusUnit]={displayName:(0,c.V)("Visual_Forecast_Parameter_Units"),description:(0,c.V)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:l}},B[f.mapTransparency]={displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},B[f.heatMapIntensity]={displayName:(0,c.V)("Visual_AzureMapsHeatMapIntensity"),description:(0,c.V)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},B[f.heatMapColorLow]={displayName:(0,c.V)("Visual_Color0"),description:(0,c.V)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},B[f.heatMapColorCenter]={displayName:(0,c.V)("Visual_Color50"),description:(0,c.V)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},B[f.heatMapColorHigh]={displayName:(0,c.V)("Visual_Color100"),description:(0,c.V)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},B[f.heatMapUseSize]={displayName:(0,c.V)("Visual_AzureMapsHeatMapUseSize"),description:(0,c.V)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},B[f.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},B[f.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},B[f.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:a}},B)},P[b.barChart]={displayName:(0,c.V)("Visual_AzureMapsBarChart"),description:(0,c.V)("Visual_AzureMapsBarChartDescription"),properties:(N={show:m.iD.show},N[f.barShape]={displayName:(0,c.V)("Visual_AzureMapsBarShape"),description:(0,c.V)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:n}},N[f.height]={displayName:(0,c.V)("Visual_General_Properties_Height"),description:(0,c.V)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},N[f.scaleHeightOnZoom]={displayName:(0,c.V)("Visual_AzureMapsScaleBarHeight"),description:(0,c.V)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},N[f.thickness]={displayName:(0,c.V)("Visual_General_Properties_Width"),description:(0,c.V)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},N[f.scaleThicknessOnZoom]={displayName:(0,c.V)("Visual_AzureMapsScaleBarThickness"),description:(0,c.V)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},N[f.defaultColor]={displayName:(0,c.V)("Visual_FillColor"),description:(0,c.V)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},N[f.mapTransparency]={displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},N[f.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},N[f.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},N[f.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:a}},N)},P[b.commonDataOptions]={displayName:(0,c.V)("Visual_AzureMapsCommonDataLayer"),description:(0,c.V)("Visual_AzureMapsCommonDataLayerDescription"),properties:(x={},x[f.unselectedTransparency]={displayName:(0,c.V)("Visual_AzureMapsUnselectedTransparency"),description:(0,c.V)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},x[f.showZeros]={displayName:(0,c.V)("Visual_AzureMapsShowZeros"),description:(0,c.V)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},x[f.showNegatives]={displayName:(0,c.V)("Visual_AzureMapsShowNegatives"),description:(0,c.V)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},x[f.minDataValue]={displayName:(0,c.V)("Visual_AzureMapsMinDataValue"),description:(0,c.V)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},x[f.maxDataValue]={displayName:(0,c.V)("Visual_AzureMapsMaxDataValue"),description:(0,c.V)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}},x)},P[b.referenceLayer]={displayName:(0,c.V)("Visual_AzureMapsReferenceLayer"),description:(0,c.V)(null!=D&&D.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:(A={},A[f.additionalDatasource]={displayName:null!=D&&D.azureMapsMultiDataFormats?"":(0,c.V)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:s.Ms}}},A)},P[b.traffic]={displayName:(0,c.V)("Visual_AzureMapsTrafficLayer"),description:(0,c.V)("Visual_AzureMapsTrafficLayerDescription"),properties:(I={show:m.iD.show},I[f.showIncidents]={displayName:(0,c.V)("Visual_AzureMapsShowIncidents"),description:(0,c.V)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},I[f.showTrafficControl]={displayName:(0,c.V)("Visual_AzureMapsShowTrafficControl"),description:(0,c.V)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}},I)},P[b.tileLayer]={displayName:(0,c.V)("Visual_AzureMapsTileLayer"),description:(0,c.V)("Visual_AzureMapsTileLayerDescription"),properties:(w={},w[f.tileLayerUrl]={displayName:(0,c.V)("Url"),description:(0,c.V)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},w[f.tileSize]={displayName:(0,c.V)("Visual_AzureMapsTileSize"),description:(0,c.V)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},w[f.northBounds]={displayName:(0,c.V)("Visual_AzureMapsTileNorthBounds"),description:(0,c.V)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},w[f.southBounds]={displayName:(0,c.V)("Visual_AzureMapsTileSouthBounds"),description:(0,c.V)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},w[f.eastBounds]={displayName:(0,c.V)("Visual_AzureMapsTileEastBounds"),description:(0,c.V)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},w[f.westBounds]={displayName:(0,c.V)("Visual_AzureMapsTileWestBounds"),description:(0,c.V)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},w[f.mapTransparency]={displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},w[f.isTMS]={displayName:(0,c.V)("Visual_AzureMapsTileIsTMS"),description:(0,c.V)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},w[f.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},w[f.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},w[f.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:a}},w)},P);return null!=D&&D.azureMapsMultiDataFormats&&(F[b.referenceLayer].properties[f.datasourceType]={displayName:(0,c.V)("Type"),description:(0,c.V)("Visual_AzureMapsTypeDescription"),type:{enumeration:d}},F[b.referenceLayer].properties[f.referenceLayerUrl]={displayName:(0,c.V)("Visual_AzureMapsEnterAUrl"),description:(0,c.V)("Visual_AzureMapsReferenceLayerUploadAFileDescription"),type:{text:!0}}),null!=D&&D.azureMapsGeocoding&&(F[b.mapControls].properties[f.geocodingCulture]={displayName:(0,c.V)("Visual_MapGeocodingCulture"),type:{enumeration:V.dt}}),null!=D&&D.azureMapsBubbleCluster&&(F[b.bubbleLayer].properties[f.clusteringEnabled]={displayName:(0,c.V)("Visual_AzureMapsClusterBubbles"),description:(0,c.V)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},F[b.bubbleLayer].properties[f.clusteredBubbleRadius]={displayName:(0,c.V)("Visual_AzureMapsClusterSize"),type:{integer:!0}},F[b.bubbleLayer].properties[f.clusteredBubbleFillColor]={displayName:(0,c.V)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},F[b.bubbleLayer].properties[f.clusteredBubbleFontSize]=m.iD.fontSize,F[b.bubbleLayer].properties[f.clusteredBubbleFontColor]={displayName:(0,c.V)("Text_Color"),type:{fill:{solid:{color:!0}}}},F[b.bubbleLayer].properties[f.clusteredBubbleStrokeColor]=m.iD.borderColor,F[b.bubbleLayer].properties[f.clusteredBubbleStrokeWidth]={displayName:(0,c.V)("Visual_DonutBorderWidth"),type:{integer:!0}}),F}var E={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"},referenceLayerUrl:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},datasourceType:{objectName:"referenceLayer",propertyName:"datasourceType"}}}},875194:function(ze,K,r){r.d(K,{O:function(){return s},T:function(){return i}});var t=r(734287),c=r(778549),i={objects:{line:{displayName:(0,t.V)("Visual_BasicShape_Line"),properties:{lineColor:{displayName:(0,t.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},transparency:c.iD.transparency,weight:{displayName:(0,t.V)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,t.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,t.V)("Visual_Fill"),properties:{show:c.iD.show,fillColor:{displayName:(0,t.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:c.iD.transparency}},rotation:{displayName:(0,t.V)("Visual_BasicShape_Rotate"),properties:{angle:{displayName:(0,t.V)("Visual_BasicShape_Rotate"),type:{numeric:!0}}}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},s={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},259291:function(ze,K,r){r.d(K,{C:function(){return s},d:function(){return p}});var t=r(145315),c=r(734287),i=r(778549),s={dataRoles:[{name:"Values",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Fields"),description:(0,c.V)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:i.iD.formatString}},labels:{displayName:(0,c.V)("Visual_DataPointLabel"),properties:{color:i.iD.dataColor,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,fontFamily:i.iD.fontFamily,preserveWhitespace:{displayName:(0,c.V)("Visual_LabelPreserveWhitespace"),description:(0,c.V)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,c.V)("Visual_CategoryLabel"),properties:{show:i.iD.show,color:i.iD.dataColor,fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,fontFamily:i.iD.fontFamily,preserveWhitespace:{displayName:(0,c.V)("Visual_LabelPreserveWhitespace"),description:(0,c.V)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,c.V)("Visual_Word_Wrap"),properties:{show:i.iD.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},p={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},980762:function(ze,K,r){r.d(K,{L$:function(){return M},LS:function(){return F},NX:function(){return E},pz:function(){return D}});var a,l,d,b,f,g,S,y,C,t=r(226514),c=r(145315),i=r(734287),s=r(653460),p=r(210770),V=r(778549),m=r(244801),v=r(353278),e=r(274870),h=r(457158),n=r(758732),o=r(311646),u=r(648233),E={Data:"Data",Tooltips:"Tooltips"},D={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:m.eM.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:m.eM.glowCustom,image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",layout:"layout",outline:m.eM.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",spacing:"spacing",size:"size",shapeCustomRectangle:m.eM.shapeCustomRectangle,shadowCustom:m.eM.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},P={image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"},verticalAlignment:{objectName:"image",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"image",propertyName:"horizontalAlignment"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}}},M={general:{formatString:V.e0.formatString},fillCustom:m.OV.fillCustom,outline:m.OV.outline,value:m.OV.value,label:m.OV.label,referenceLabel:P.referenceLabel,shapeCustomRectangle:m.OV.shapeCustomRectangle,layout:m.OV.layout,overFlow:m.OV.overFlow,shadowCustom:m.OV.shadowCustom,glowCustom:m.OV.glowCustom,spacing:m.OV.spacing,padding:m.OV.padding,accentBar:m.OV.accentBar,image:P.image,referenceLabelTitle:P.referenceLabelTitle,referenceLabelValue:P.referenceLabelValue,referenceLabelDetail:P.referenceLabelDetail,referenceLabelLayout:P.referenceLabelLayout,divider:P.divider},T=((a={})[D.angle]={displayName:(0,i.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},a[D.shapeRotation]={displayName:(0,i.V)("Visual_ShapeRotation"),type:{integer:!0}},a[D.textRotation]={displayName:(0,i.V)("Visual_TextRotation"),type:{integer:!0}},a),R=((l={show:V.iD.show})[D.imageType]={displayName:(0,i.V)("Visual_ImageType"),type:{enumeration:s.j}},l[D.image]=V.iD.image,l[D.imageUrl]={displayName:(0,i.V)("Image_Url"),type:{text:!0}},l[D.transparency]=V.iD.transparency,l[D.position]={displayName:(0,i.V)("Visual_Position"),type:{enumeration:p.g4}},l[D.padding]={displayName:(0,i.V)("Visual_Space_Between_Image"),type:{integer:!0}},l[D.size]={displayName:(0,i.V)("Visual_BubbleSize"),type:{integer:!0}},l[D.altText]={displayName:(0,i.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},l[D.fixedSize]={displayName:(0,i.V)("Visual_FixSize"),type:{bool:!0}},l[D.imageAreaSize]={displayName:(0,i.V)("Visual_Image_Area_Size"),type:{integer:!0}},l[D.verticalAlignment]={displayName:(0,i.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},l.horizontalAlignment=V.iD.horizontalAlignment,l),B=((d={})[D.value]={displayName:(0,i.V)("Visual_Add_Label"),formatStringProperty:M.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},d.formatString=V.iD.formatString,d[D.backgroundColor]={displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},d[D.backgroundTransparency]=V.iD.transparency,d[D.backgroundShow]=V.iD.show,d),N=((b={show:V.iD.show})[D.titleText]={displayName:(0,i.V)("Text"),type:{text:!0}},b[D.titleFontColor]=V.iD.fontColor,b[D.titleFontSize]=V.iD.fontSize,b[D.titleFontFamily]=V.iD.fontFamily,b[D.titleUnderline]=V.iD.underline,b[D.titleItalic]=V.iD.italic,b[D.titleBold]=V.iD.bold,b[D.titleFontColor]={displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},b[D.titleTransparency]=V.iD.transparency,b[D.titleContentType]={displayName:(0,i.V)("Content"),type:{enumeration:e.FH}},b),x=((f={show:V.iD.show})[D.valueFontColor]=V.iD.fontColor,f[D.valueFontSize]=V.iD.fontSize,f[D.valueFontFamily]=V.iD.fontFamily,f[D.valueUnderline]=V.iD.underline,f[D.valueBold]=V.iD.bold,f[D.valueItalic]=V.iD.italic,f[D.valueTransparency]=V.iD.transparency,f[D.valuePrecision]=V.iD.labelPrecision,f[D.valueDisplayUnits]=(0,t.__assign)((0,t.__assign)({},V.iD.labelDisplayUnits),{type:{enumeration:h.d}}),f[D.showBlankAs]=V.iD.showBlankAs,f[D.customFormatString]={displayName:(0,i.V)("Visual_FormatCode"),description:(0,i.V)("Visual_FormatCode_Description"),type:{text:!0}},f),A=((g={show:V.iD.show})[D.detailFontColor]=V.iD.fontColor,g[D.detailFontSize]=V.iD.fontSize,g[D.detailFontFamily]=V.iD.fontFamily,g[D.detailUnderline]=V.iD.underline,g[D.detailBold]=V.iD.bold,g[D.detailItalic]=V.iD.italic,g[D.detailTransparency]=V.iD.transparency,g[D.detailPrecision]=V.iD.labelPrecision,g[D.detailDisplayUnits]=(0,t.__assign)((0,t.__assign)({},V.iD.labelDisplayUnits),{type:{enumeration:h.d}}),g[D.showBlankAs]=V.iD.showBlankAs,g[D.detailValue]=(0,t.__assign)((0,t.__assign)({},V.iD.dynamicLabelValue),{formatStringProperty:M.referenceLabelDetail.formatString}),g.formatString=V.iD.formatString,g[D.detailBackgroundColor]={displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:{nullable:!0}}}}},g[D.customFormatString]={displayName:(0,i.V)("Visual_FormatCode"),description:(0,i.V)("Visual_FormatCode_Description"),type:{text:!0}},g),I=((S={show:V.iD.show})[D.dividerColor]={displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},S[D.dividerLineStyle]={displayName:(0,i.V)("Style"),type:{enumeration:u.sb}},S[D.dividerWidth]={displayName:(0,i.V)("Visual_General_Properties_Width"),type:{numeric:!0}},S[D.dividerIgnorePadding]={displayName:(0,i.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},S[D.dividerTransparency]=V.iD.transparency,S),w={position:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:v.C}},arrangement:{displayName:(0,i.V)("Visual_Arrangement"),type:{enumeration:n.b}},style:{displayName:(0,i.V)("Visual_Axis_Style"),type:{enumeration:o.e}},horizontalAlignment:V.iD.horizontalAlignment,verticalAlignment:{displayName:(0,i.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},valueArea:{displayName:(0,i.V)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:V.iD.textWrap,labelSpace:{displayName:(0,i.V)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,i.V)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,i.V)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,i.V)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,i.V)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}},F={dataRoles:[{name:E.Data,kind:c.DW.Measure,displayName:(0,i.V)("Data")},{name:E.Tooltips,kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(y={general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:V.iD.formatString}}},y[D.fill]=m.zC.fillCustom,y[D.outline]=m.zC.outline,y[m.eM.value]=m.zC.value,y[m.eM.label]=m.zC.label,y[D.shapeCustomRectangle]=m.zC.shapeCustomRectangle,y[D.layout]=m.zC.layout,y[m.eM.overFlow]=m.zC.overFlow,y[D.shadowCustom]=m.zC.shadowCustom,y[D.glowCustom]=m.zC.glowCustom,y[D.rotation]={displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:T},y[D.spacing]=m.zC.spacing,y[D.padding]=m.zC.padding,y[D.accentBar]=m.zC.accentBar,y[D.image]={displayName:(0,i.V)("Images"),properties:R},y[D.referenceLabel]={displayName:(0,i.V)("Visual_Reference_Labels"),properties:B},y[D.referenceLabelTitle]={displayName:(0,i.V)("Title"),properties:N},y[D.referenceLabelValue]={displayName:(0,i.V)("Value"),properties:x},y[D.referenceLabelDetail]={displayName:(0,i.V)("Visual_Label_DetailLabelName"),properties:A},y[D.referenceLabelLayout]={displayName:(0,i.V)("Layout"),properties:w},y[D.divider]={displayName:(0,i.V)("Visual_Divider"),properties:I},y),dataViewMappings:[{conditions:[(C={},C[E.Data]={min:1},C)],matrix:{values:{select:[{for:{in:E.Data}},{for:{in:E.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}},664723:function(ze,K,r){r.d(K,{p:function(){return i},x:function(){return c}});var t=r(411916),c={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},i={scalarKey:{scalarKeyMin:t.it},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"}}}},37584:function(ze,K,r){r.d(K,{Ns:function(){return a},au:function(){return o},gE:function(){return u},mi:function(){return d},nn:function(){return l}});var t=r(226514),c=r(106266),i=r(145315),s=r(564227),p=r(734287),V=r(633888),m=r(5635),v=r(201849),e=r(646875),h=r(664723),n=r(778549),o={category:"Category",series:"Series",rows:h.x.rows,y:"Y",gradient:"Gradient",tooltips:"Tooltips"},u=(0,c.wZ)(a(!1,!1,!1,!1,!0));function a(b,f,g,S,y,C){var E;void 0===b&&(b=!1),void 0===f&&(f=!1),void 0===g&&(g=!1),void 0===S&&(S=!1),void 0===y&&(y=!1),void 0===C&&(C=!1);var D=g||f&&!S;return(0,t.__assign)((0,t.__assign)((0,t.__assign)((0,t.__assign)((0,t.__assign)(((E={general:{displayName:(0,p.V)("Visual_General"),properties:{formatString:n.iD.formatString,responsive:n.iD.responsive,responsiveLegacy:n.iD.responsiveLegacy}},legend:{displayName:n.TQ.legend.displayName,description:n.TQ.legend.description,properties:(0,t.__assign)((0,t.__assign)({},n.TQ.legend.properties),{showGradientLegend:n.iD.showGradientLegend})},subheader:(0,t.__assign)({},n.TQ.subheader)})[V.Xi]=(0,t.__assign)({},n.TQ.smallMultiplesLayout),E.categoryAxis={displayName:(0,p.V)(b?"Visual_YAxis":"Visual_XAxis"),properties:(0,t.__assign)((0,t.__assign)({show:n.iD.show,start:n.iD.axisStart,end:n.iD.axisEnd,axisType:n.iD.axisType,showAxisTitle:b?n.iD.showAxisTitle_Y:n.iD.showAxisTitle_X,axisStyle:n.iD.axisStyle,labelColor:n.iD.labelColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,invertAxis:n.iD.invertAxis,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,concatenateLabels:n.iD.concatenateLabels,preferredCategoryWidth:n.iD.preferredCategoryWidth,maxMarginFactor:n.iD.maxMarginFactor,titleColor:n.iD.titleColor,titleFontFamily:n.iD.fontFamily,titleFontSize:n.iD.titleFontSize,titleBold:n.iD.bold,titleItalic:n.iD.italic,titleUnderline:n.iD.underline,titleText:n.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},n.iD.show),{displayName:(0,p.V)("Visual_Gridline_Show")}),gridlineColor:n.iD.lineColor,gridlineThickness:n.iD.strokeWidth,gridlineStyle:n.iD.lineStyle,innerPadding:n.iD.innerPadding},(f||y)&&{reverseStackOrder:n.iD.reverseStackOrder}),{logAxisScale:n.iD.logAxisScale,switchAxisPosition:n.iD.switchAxisPosition})},E.valueAxis={displayName:(0,p.V)(b?"Visual_XAxis":"Visual_YAxis"),properties:{show:n.iD.show,start:n.iD.axisStart,end:n.iD.axisEnd,invertAxis:n.iD.invertAxis,sharedAxis:n.iD.sharedAxis,scaleToFit:n.iD.scaleToFit,showAxisTitle:b?n.iD.showAxisTitle_X:n.iD.showAxisTitle_Y,axisStyle:n.iD.axisStyle,labelColor:n.iD.labelColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,titleColor:n.iD.titleColor,titleFontFamily:n.iD.fontFamily,titleFontSize:n.iD.titleFontSize,titleBold:n.iD.bold,titleItalic:n.iD.italic,titleUnderline:n.iD.underline,titleText:n.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},n.iD.show),{displayName:(0,p.V)("Visual_Gridline_Show")}),gridlineColor:n.iD.lineColor,gridlineThickness:n.iD.strokeWidth,gridlineStyle:n.iD.lineStyle,logAxisScale:n.iD.logAxisScale,switchAxisPosition:n.iD.switchAxisPosition}},E.zoom={displayName:n.TQ.zoom.displayName,properties:{show:n.TQ.zoom.properties.show,showOnCategoryAxis:{displayName:(0,p.V)(b?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:n.TQ.zoom.properties.categoryMin,categoryMax:n.TQ.zoom.properties.categoryMax,categorySize:n.TQ.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,p.V)(b?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:n.TQ.zoom.properties.valueMin,valueMax:n.TQ.zoom.properties.valueMax,valueSize:n.TQ.zoom.properties.valueSize,showLabels:n.TQ.zoom.properties.showLabels,showTooltip:n.TQ.zoom.properties.showTooltip}},E.dataPoint={displayName:(0,p.V)("Visual_DataPoint"),description:(0,p.V)("Visual_DataPointDescription"),properties:(0,t.__assign)((0,t.__assign)((0,t.__assign)({defaultColor:(0,t.__assign)((0,t.__assign)({},n.iD.defaultColor),S&&{displayName:(0,p.V)("Visual_DefaultColumnColor")}),fill:n.iD.fillColor,fillRule:{displayName:(0,p.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:o.gradient,output:{property:"fill",selector:[o.category]}}},fillTransparency:n.iD.fillTransparency},n.sz),(f||y)&&{borderOutlineOnly:n.iD.borderOutlineOnly}),{showAllDataPoints:n.iD.showAllDataPoints})},E.layout={displayName:(0,p.V)("Layout"),properties:(0,t.__assign)((0,t.__assign)((0,t.__assign)({seriesOrderReversed:n.iD.seriesOrderReversed,seriesOrderSorted:n.iD.seriesOrderSorted},(f||y)&&(0,t.__assign)({stackedGapSize:n.iD.stackedGapSize},(!S||y)&&{stackedGapExplodes:n.iD.stackedGapExplodes})),(!f||y)&&{clusteredGapSize:n.iD.clusteredGapSize,clusteredGapOverlaps:n.iD.clusteredGapOverlaps,clusteredGapOverlapReverse:n.iD.clusteredGapOverlapReverse}),(D||y)&&{ribbonGapSize:n.iD.ribbonGapSize})},E.labels={displayName:(0,p.V)("Visual_DataPointsLabels"),description:(0,p.V)("Visual_DataPointsLabelsDescription"),properties:{show:n.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},color:n.iD.dataColor,labelDisplayUnits:C?n.iD.dataLabelDisplayUnitsWithCustom:n.iD.dataLabelDisplayUnits,valueCustomFormatString:n.iD.dataLabelCustomFormatString,labelPrecision:(0,t.__assign)((0,t.__assign)({},n.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,p.V)("Visual_LabelOrientation"),type:{enumeration:m.S}},labelPosition:{displayName:(0,p.V)("Visual_Position"),type:{enumeration:v.O}},enableBackground:n.iD.labelEnableBackground,backgroundColor:n.iD.labelBackgroundColor,backgroundTransparency:n.iD.labelBackgroundTransparency,labelOverflow:{displayName:(0,p.V)("Visual_LabelOverflow"),description:(0,p.V)("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:(0,p.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,fontFamily:n.iD.fontFamily,labelDensity:{displayName:(0,p.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:n.iD.showDynamicLabels,dynamicLabelValue:n.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:n.iD.showBlankAs,transparency:n.iD.transparency,wordWrap:n.iD.wordWrap,titleBold:n.iD.bold,titleColor:n.iD.dataColor,titleContentType:{displayName:(0,p.V)("Content"),type:{enumeration:e.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:n.iD.fontFamily,titleFontSize:n.iD.fontSize,dynamicLabelTitle:n.iD.dynamicLabelValue,titleItalic:n.iD.italic,titleTransparency:n.iD.transparency,titleLabelDisplayUnits:n.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:n.iD.dataLabelCustomFormatString,titleLabelPrecision:n.iD.labelPrecision,titleUnderline:n.iD.underline,titleShowBlankAs:n.iD.showBlankAs,detailBold:n.iD.bold,detailColor:n.iD.dataColor,dynamicLabelDetail:n.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:n.iD.fontFamily,detailFontSize:n.iD.fontSize,detailItalic:n.iD.italic,detailTransparency:n.iD.transparency,detailUnderline:n.iD.underline,detailShowBlankAs:n.iD.showBlankAs,detailLabelDisplayUnits:n.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:n.iD.dataLabelCustomFormatString,detailLabelPrecision:n.iD.labelPrecision,detailContentType:{displayName:(0,p.V)("Content"),type:{enumeration:s.w}},labelContentLayout:n.iD.labelContentLayout,optimizeLabelDisplay:n.iD.optimizeLabelDisplay,labelContainerMaxWidth:n.iD.labelContainerMaxWidth,horizontalAlignment:n.iD.horizontalAlignment}},E),(f||y)&&{totals:n.TQ.totalsWithNet}),{plotArea:{displayName:(0,p.V)("Visual_Plot"),properties:{transparency:n.iD.transparency,image:n.iD.image}},y1AxisReferenceLine:{displayName:(0,p.V)("Visual_Reference_Line"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:n.iD.show,displayName:n.iD.referenceLineDisplayName,value:n.iD.referenceLineValue,lineColor:n.iD.referenceLineColor,transparency:n.iD.referenceLineTransparency,style:n.iD.lineStyle,position:n.iD.referenceLinePosition,dataLabelShow:n.iD.dataLabelShow,dataLabelText:n.iD.dataLabelText,dataLabelColor:n.iD.dataLabelColor,dataLabelDecimalPoints:n.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:n.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:n.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:n.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,p.V)("Visual_Reference_Line_X"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:n.iD.show,displayName:n.iD.referenceLineDisplayName,value:n.iD.referenceLineValueWithDateTime,lineColor:n.iD.lineColor,transparency:n.iD.referenceLineTransparency,style:n.iD.lineStyle,position:n.iD.referenceLinePosition,shadeRegion:n.iD.shadeRegion,shadeColor:n.iD.shadeColor,shadeTransparency:n.iD.shadeTransparency,dataLabelShow:n.iD.dataLabelShow,dataLabelColor:n.iD.dataLabelColor,dataLabelText:n.iD.dataLabelText,dataLabelDecimalPoints:n.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:n.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:n.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:n.iD.dataLabelDisplayUnits}},trend:{displayName:(0,p.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:{type:{bool:!0}},displayName:n.iD.trendlineDisplayName,lineColor:n.iD.trendlineColor,transparency:n.iD.trendlineTransparency,style:n.iD.trendlineStyle,combineSeries:n.iD.trendlineCombineSeries,useHighlightValues:n.iD.trendlineUseHighlightValues}},error:{displayName:n.TQ.error.displayName,objectCategory:n.TQ.error.objectCategory,suppressFormatPainterCopy:n.TQ.error.suppressFormatPainterCopy,properties:{enabled:n.TQ.error.properties.enabled,errorRange:n.TQ.error.properties.errorRange,barShow:n.TQ.error.properties.barShow,barMatchSeriesColor:n.TQ.error.properties.barMatchSeriesColor,barColor:n.TQ.error.properties.barColor,barWidth:n.TQ.error.properties.barWidth,barBorderColor:n.TQ.error.properties.barBorderColor,barBorderSize:n.TQ.error.properties.barBorderSize,markerShape:n.TQ.error.properties.markerShape,markerSize:n.TQ.error.properties.markerSize,labelShow:n.TQ.error.properties.labelShow,labelFontFamily:n.TQ.error.properties.labelFontFamily,labelFontSize:n.TQ.error.properties.labelFontSize,labelBold:n.TQ.error.properties.labelBold,labelItalic:n.TQ.error.properties.labelItalic,labelUnderline:n.TQ.error.properties.labelUnderline,labelColor:n.TQ.error.properties.labelColor,labelMatchSeriesColor:n.TQ.error.properties.labelMatchSeriesColor,labelFormat:n.TQ.error.properties.labelFormat,labelBackground:n.TQ.error.properties.labelBackground,labelBackgroundColor:n.TQ.error.properties.labelBackgroundColor,labelBackgroundTransparency:n.TQ.error.properties.labelBackgroundTransparency,tooltipShow:n.TQ.error.properties.tooltipShow,tooltipFormat:n.TQ.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}}),(!f||y)&&{referenceLine:{displayName:(0,p.V)("Visual_Reference_Line"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:n.iD.show,displayName:n.iD.referenceLineDisplayName,value:n.iD.referenceLineValue,lineColor:n.iD.referenceLineColor,transparency:n.iD.referenceLineTransparency,style:n.iD.lineStyle,position:n.iD.referenceLinePosition,dataLabelShow:n.iD.dataLabelShow,dataLabelText:n.iD.dataLabelText,dataLabelColor:n.iD.dataLabelColor,dataLabelDecimalPoints:n.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:n.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:n.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:n.iD.dataLabelDisplayUnits}}}),(g||y)&&{ribbonChart:{displayName:(0,p.V)("RibbonChart"),description:(0,p.V)("RibbonChart_Description"),properties:{colorBands:{displayName:(0,p.V)("RibbonChart_Color"),description:(0,p.V)("RibbonChart_ColorDescription"),type:{bool:!0}},showBorder:{displayName:(0,p.V)("Visual_Border"),description:(0,p.V)("RibbonChart_BorderDescription"),type:{bool:!0}},seriesGapRatio:{displayName:(0,p.V)("Visual_Spacing"),description:(0,p.V)("RibbonChart_SeriesGapWidthDescription"),type:{integer:!0}},bandsTransparency:{displayName:(0,p.V)("Transparency"),description:(0,p.V)("RibbonChart_ColorTransparencyDescription"),type:{integer:!0}}}}}),(D||y)&&{ribbonBands:{displayName:(0,p.V)("RibbonChart"),description:(0,p.V)("RibbonChart_Description"),properties:(0,t.__assign)({show:n.iD.show,fillMatchColor:{displayName:(0,p.V)("RibbonChart_Color"),description:(0,p.V)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:n.iD.fillColor,fillTransparency:n.iD.fillTransparency},n.sz)}})}function l(b,f,g,S){var y,C,E,D;void 0===b&&(b=!1),void 0===f&&(f=!1),void 0===g&&(g=!1);var I,w,F,O,T=null==S?void 0:S.labelEnhancementsM0;return{dataRoles:(I=b,w=null==S?void 0:S.cartesianConditionalFormatting,F=null==S?void 0:S.useModernFormatPane,O=[{name:o.category,kind:i.DW.Grouping,displayName:(0,p.V)(F?I?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,p.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:o.series,kind:i.DW.Grouping,displayName:(0,p.V)("Role_DisplayName_Legend"),displayOrder:F?3:2,description:(0,p.V)("Role_DisplayName_LegendDescription")},{name:o.y,kind:i.DW.Measure,displayName:(0,p.V)(F?I?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:F?2:3,description:(0,p.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],w||O.push({name:o.gradient,kind:i.DW.Measure,displayName:(0,p.V)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,p.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),O.push({name:o.rows,kind:i.DW.Grouping,displayName:(0,p.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,p.V)("Role_DisplayName_SmallMultiples_Description")}),O.push({name:o.tooltips,kind:i.DW.Measure,displayName:(0,p.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,p.V)("Role_Tooltips_Description"),joinPredicate:0}),O),objects:a(b,f,g,void 0,void 0,T),dataViewMappings:[function(){var I,w,F;return{conditions:[(I={},I[o.rows]={min:1},I[o.series]={max:0},I),(w={},w[o.rows]={min:1},w[o.series]={min:1,max:1},w[o.y]={max:1},w),(F={},F[o.rows]={min:1},F[o.series]={min:1,max:1},F[o.y]={max:0},F)],matrix:{rows:{select:[{composite:[{for:{in:o.rows}}],dataReductionAlgorithm:{window:{count:V.QS}}},{composite:[{for:{in:o.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:o.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:o.y}},{for:{in:o.tooltips}}]},dataVolume:6}}}(),function(){var I,w,F;return{conditions:[(I={},I[o.rows]={max:0},I[o.series]={max:0},I[o.gradient]={max:0},I),(w={},w[o.rows]={max:0},w[o.series]={min:1,max:1},w[o.y]={max:1},w[o.gradient]={max:0},w),(F={},F[o.rows]={max:0},F[o.series]={max:0},F[o.y]={min:0,max:1},F[o.gradient]={max:1},F)],categorical:{categories:{for:{in:o.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:o.series,select:[{for:{in:o.y}},{bind:{to:o.gradient}},{for:{in:o.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}}(),function(){var I,w,F;return{conditions:[(I={},I[h.x.rows]={max:0},I[o.series]={max:0},I[o.gradient]={max:0},I),(w={},w[h.x.rows]={max:0},w[o.series]={min:1,max:1},w[o.y]={max:1},w[o.gradient]={max:0},w),(F={},F[h.x.rows]={max:0},F[o.series]={max:0},F[o.y]={min:0,max:1},F[o.gradient]={max:1},F)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}()],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[o.category]},grouping:{groupingRules:[{condition:(y={},y[o.category]={min:1,max:1},y[o.y]={min:1,max:1},y[o.series]={max:0},y[o.gradient]={max:0},y),groupingTargetRole:o.series,kind:0},{condition:(C={},C[o.category]={min:1,max:1},C[o.y]={min:1},C[o.series]={max:0},C[o.gradient]={max:0},C),groupingTargetRole:o.category,kind:1},{condition:(E={},E[o.category]={min:1,max:1},E[o.y]={min:0,max:1},E[o.series]={max:0},E[o.gradient]={max:1},E),groupingTargetRole:o.category,kind:1},{condition:(D={},D[o.category]={max:0},D[o.y]={min:1,max:1},D[o.series]={max:1},D[o.gradient]={max:0},D),groupingTargetRole:o.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:b?[]:[o.category],supportsOnObjectFormatting:!0}}var d={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},innerPadding:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},108333:function(ze,K,r){r.d(K,{OA:function(){return a},p5:function(){return l},rJ:function(){return u}});var t=r(226514),c=r(106266),i=r(145315),s=r(734287),p=r(633888),V=r(5635),m=r(201849),v=r(37584),e=r(778549),h=r(646875),n=r(564227),o=r(939523),u={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips",rows:"Rows"},a=(0,c.wZ)(l(!0).objects);function l(b,f){var g,S,y,C,E,D,P,M,T,R=(0,v.Ns)(!1,b,!1,!0),B=(0,o.My)(!1,!1,!0,!1);return{dataRoles:[{name:u.category,kind:i.DW.Grouping,displayName:(0,s.V)(null!=f&&f.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,s.V)("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:u.series,kind:i.DW.Grouping,displayName:(0,s.V)(null!=f&&f.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:null!=f&&f.useModernFormatPane?4:2},{name:u.y,kind:i.DW.Measure,displayName:(0,s.V)(null!=f&&f.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:null!=f&&f.useModernFormatPane?2:3,description:(0,s.V)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:u.y2,kind:i.DW.Measure,displayName:(0,s.V)(null!=f&&f.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:null!=f&&f.useModernFormatPane?3:4,description:(0,s.V)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:u.rows,kind:i.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,s.V)("Role_DisplayName_SmallMultiples_Description")},{name:u.tooltips,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(0,t.__assign)((0,t.__assign)((g={general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:e.iD.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:e.iD.responsive,responsiveLegacy:e.iD.responsiveLegacy}},legend:{displayName:e.TQ.legend.displayName,description:e.TQ.legend.description,properties:(0,t.__assign)((0,t.__assign)({},e.TQ.legend.properties),{legendMarkerRendering:e.iD.legendMarkerRendering,matchLineColor:e.iD.matchLineColor})},subheader:(0,t.__assign)({},e.TQ.subheader)},g[p.Xi]=(0,t.__assign)({},e.TQ.smallMultiplesLayout),g.categoryAxis={displayName:(0,s.V)("Visual_XAxis"),properties:{show:e.iD.show,start:e.iD.axisStart,end:e.iD.axisEnd,axisType:e.iD.axisType,showAxisTitle:e.iD.showAxisTitle_X,axisStyle:e.iD.axisStyle,labelColor:e.iD.labelColor,fontFamily:e.iD.fontFamily,fontSize:e.iD.fontSize,bold:e.iD.bold,italic:e.iD.italic,underline:e.iD.underline,invertAxis:e.iD.invertAxis,labelDisplayUnits:e.iD.labelDisplayUnits,labelPrecision:e.iD.labelPrecision,concatenateLabels:e.iD.concatenateLabels,preferredCategoryWidth:e.iD.preferredCategoryWidth,maxMarginFactor:e.iD.maxMarginFactor,titleColor:e.iD.titleColor,titleFontFamily:e.iD.fontFamily,titleFontSize:e.iD.titleFontSize,titleBold:e.iD.bold,titleItalic:e.iD.italic,titleUnderline:e.iD.underline,titleText:e.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},e.iD.show),{displayName:(0,s.V)("Visual_Gridline_Show")}),gridlineColor:e.iD.lineColor,gridlineThickness:e.iD.strokeWidth,gridlineStyle:e.iD.lineStyle,innerPadding:e.iD.innerPadding,logAxisScale:e.iD.logAxisScale,reverseStackOrder:e.iD.reverseStackOrder}},g.valueAxis={displayName:(0,s.V)("Visual_YAxis"),properties:(0,t.__assign)({show:e.iD.show,axisLabel:{displayName:(0,s.V)("Visual_YAxis_ColumnTitle"),type:{none:!0}},start:e.iD.axisStart,end:e.iD.axisEnd,invertAxis:e.iD.invertAxis,sharedAxis:e.iD.sharedAxis,scaleToFit:e.iD.scaleToFit,showAxisTitle:e.iD.showAxisTitle_Y,axisStyle:e.iD.axisStyle,labelColor:e.iD.labelColor,fontFamily:e.iD.fontFamily,fontSize:e.iD.fontSize,bold:e.iD.bold,italic:e.iD.italic,underline:e.iD.underline,labelDisplayUnits:e.iD.labelDisplayUnits,labelPrecision:e.iD.labelPrecision,titleColor:e.iD.titleColor,titleFontFamily:e.iD.fontFamily,titleFontSize:e.iD.titleFontSize,titleBold:e.iD.bold,titleItalic:e.iD.italic,titleUnderline:e.iD.underline,titleText:e.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},e.iD.show),{displayName:(0,s.V)("Visual_Gridline_Show")}),gridlineColor:e.iD.lineColor,gridlineThickness:e.iD.strokeWidth,gridlineStyle:e.iD.lineStyle,logAxisScale:e.iD.logAxisScale,switchAxisPosition:e.iD.switchAxisPosition},e.sJ)},g.zoom={displayName:e.TQ.zoom.displayName,properties:(0,t.__assign)((0,t.__assign)({},e.TQ.zoom.properties),e.DW.zoom.properties)},g.dataPoint=R.dataPoint,g.layout=R.layout,g.labels={displayName:(0,s.V)("Visual_DataPointsLabels"),description:(0,s.V)("Visual_DataPointsLabelsDescription"),properties:{show:e.iD.show,showSeries:{displayName:(0,s.V)("Visual_Show"),type:{bool:!0}},color:e.iD.dataColor,labelDisplayUnits:e.iD.dataLabelDisplayUnits,valueCustomFormatString:e.iD.dataLabelCustomFormatString,labelPrecision:(0,t.__assign)((0,t.__assign)({},e.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,s.V)("Visual_LabelOrientation"),type:{enumeration:V.S}},labelPosition:{displayName:(0,s.V)("Visual_Position"),type:{enumeration:m.O}},fontSize:e.iD.fontSize,bold:e.iD.bold,italic:e.iD.italic,underline:e.iD.underline,fontFamily:e.iD.fontFamily,labelDensity:{displayName:(0,s.V)("Visual_LabelDensity"),type:{integer:!0}},enableBackground:e.iD.labelEnableBackground,backgroundColor:e.iD.labelBackgroundColor,backgroundTransparency:e.iD.labelBackgroundTransparency,showAll:{displayName:(0,s.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showByDefault:{type:{bool:!0}},showDynamicLabels:e.iD.showDynamicLabels,dynamicLabelValue:e.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:e.iD.showBlankAs,transparency:e.iD.transparency,titleBold:e.iD.bold,titleColor:e.iD.dataColor,titleContentType:{displayName:(0,s.V)("Content"),type:{enumeration:h.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:e.iD.fontFamily,titleFontSize:e.iD.fontSize,dynamicLabelTitle:e.iD.dynamicLabelValue,titleItalic:e.iD.italic,titleTransparency:e.iD.transparency,titleLabelDisplayUnits:e.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:e.iD.dataLabelCustomFormatString,titleLabelPrecision:e.iD.labelPrecision,titleUnderline:e.iD.underline,titleShowBlankAs:e.iD.showBlankAs,detailBold:e.iD.bold,detailColor:e.iD.dataColor,dynamicLabelDetail:e.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:e.iD.fontFamily,detailFontSize:e.iD.fontSize,detailItalic:e.iD.italic,detailTransparency:e.iD.transparency,detailUnderline:e.iD.underline,detailShowBlankAs:e.iD.showBlankAs,detailLabelDisplayUnits:e.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:e.iD.dataLabelCustomFormatString,detailLabelPrecision:e.iD.labelPrecision,detailContentType:{displayName:(0,s.V)("Content"),type:{enumeration:n.w}},labelContentLayout:e.iD.labelContentLayout,optimizeLabelDisplay:e.iD.optimizeLabelDisplay,labelContainerMaxWidth:e.iD.labelContainerMaxWidth}},g.seriesLabels=e.TQ.seriesLabels,g.error=e.TQ.error,g.lineStyles={displayName:(0,s.V)("Visual_Shapes"),description:(0,s.V)("Visual_ShapesDescription"),properties:(0,t.__assign)((0,t.__assign)({},B.lineStyles.properties),{shadeArea:{displayName:(0,s.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}}})},g.plotArea={displayName:(0,s.V)("Visual_Plot"),properties:{transparency:e.iD.transparency,image:e.iD.image}},g.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},g.xAxisReferenceLine={displayName:(0,s.V)("Visual_Reference_Line_X"),description:(0,s.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.iD.show,displayName:e.iD.referenceLineDisplayName,value:{displayName:(0,s.V)("Visual_Reference_Line_Value"),description:(0,s.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:e.iD.lineColor,transparency:e.iD.referenceLineTransparency,style:e.iD.lineStyle,position:e.iD.referenceLinePosition,shadeRegion:e.iD.shadeRegion,shadeColor:e.iD.shadeColor,shadeTransparency:e.iD.shadeTransparency,dataLabelShow:e.iD.dataLabelShow,dataLabelColor:e.iD.dataLabelColor,dataLabelText:e.iD.dataLabelText,dataLabelDecimalPoints:e.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:e.iD.dataLabelDisplayUnits}},g),b&&{totals:e.TQ.totalsWithNet}),!b&&{trend:{displayName:(0,s.V)("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:e.iD.trendlineColor,transparency:e.iD.trendlineTransparency,style:e.iD.trendlineStyle,combineSeries:e.iD.trendlineCombineSeries,useHighlightValues:e.iD.trendlineUseHighlightValues}}}),dataViewMappings:[{conditions:[(S={Series:{max:0}},S[u.rows]={max:0},S),(y={Series:{min:1,max:1},Y:{max:1}},y[u.rows]={max:0},y)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(C={Series:{max:0},Y2:{min:1}},C[u.rows]={max:0},C),(E={Series:{min:1,max:1},Y:{max:1},Y2:{min:1}},E[u.rows]={max:0},E)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(D={Series:{max:0}},D[u.rows]={max:0},D),(P={Series:{min:1,max:1},Y:{max:1}},P[u.rows]={max:0},P)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[(M={},M[u.series]={max:0},M[u.rows]={min:1},M)],matrix:d(!1)},{conditions:[(T={},T[u.series]={min:1,max:1},T[u.y]={max:1},T[u.rows]={min:1},T)],matrix:d(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[v.au.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function d(b){var f={rows:{select:[{composite:[{for:{in:u.rows}}],dataReductionAlgorithm:{window:{count:p.QS}}},{composite:[{for:{in:u.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:u.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:u.y}},{for:{in:u.tooltips}}]},dataVolume:6};return b?f.rows.values={select:[{for:{in:u.y2}}]}:f.values.select.push({for:{in:u.y2}}),f}},542277:function(ze,K,r){r.d(K,{KK:function(){return i},Qw:function(){return p},Te:function(){return V},YE:function(){return m},iu:function(){return s}});var t=r(145315),c=r(778549),i={values:"Values"},s={objectName:"general",propertyName:"formatString"},p={objectName:"overrideDataReduction",propertyName:"count"},V={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},m={dataRoles:[{name:"Values",kind:t.DW.GroupingOrMeasure}],objects:{general:{properties:{formatString:c.iD.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},778549:function(ze,K,r){r.d(K,{sz:function(){return L},sJ:function(){return w},DW:function(){return z},TQ:function(){return W},N_:function(){return U},iD:function(){return I},e0:function(){return j}});var t=r(226514),c=r(106266),i=r(734287),s=r(490327),p=r(244945),e=(0,r(149362).i)([{value:"Number of bins",displayName:function(te){return te.get("BinsDialog_ModeByCount")}},{value:"Bin size",displayName:function(te){return te.get("BinsDialog_ModeBySize")}}]),h=r(280122),n=r(984748),o=r(454967),u=r(31394),a=r(201849),l=r(8591),d=r(870743),b=r(281835),f=r(210770),g=r(51033),S=r(306310),y=r(666683),C=r(839789),E=r(265699),D=r(419580),P=r(252844),M=r(694074),T=r(383527),R=r(648233),B=r(834436),N=r(981597),x=r(457158),A=r(266848),I={axisEnd:{displayName:(0,i.V)("Visual_Axis_End"),description:(0,i.V)("Visual_Axis_EndDescription"),placeHolderText:(0,i.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,i.V)("Visual_Axis_Start"),description:(0,i.V)("Visual_Axis_StartDescription"),placeHolderText:(0,i.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,i.V)("Visual_Axis_Style"),type:{enumeration:s.d9}},axisType:{displayName:(0,i.V)("Type"),type:{enumeration:p.F}},backColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,i.V)("BinsDialog_BinType"),type:{enumeration:e}},bold:{displayName:(0,i.V)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,i.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderColor2:{displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},borderShow:{displayName:(0,i.V)("Visual_Border"),type:{bool:!0}},borderSize:{displayName:(0,i.V)("Visual_General_Properties_Width"),type:{numeric:!0}},borderTransparency:{displayName:(0,i.V)("Transparency"),type:{numeric:!0}},borderOutlineOnly:{displayName:(0,i.V)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,i.V)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,i.V)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,i.V)("Visual_LabelsFill"),description:(0,i.V)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},categoryColor:{displayName:(0,i.V)("Visual_LabelsFill"),description:(0,i.V)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}},color:{displayName:(0,i.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,i.V)("Visual_FormatCode"),description:(0,i.V)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelColor:{displayName:(0,i.V)("Visual_Reference_Line_Data_Label_Color"),description:(0,i.V)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,i.V)("Visual_Precision"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0}},dataLabelDisplayUnits:{displayName:(0,i.V)("Visual_DisplayUnits"),description:(0,i.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,i.V)("Visual_DisplayUnits"),description:(0,i.V)("Visual_DisplayUnitsDescription"),type:{enumeration:x.d},suppressFormatPainterCopy:!0},dataLabelHorizontalPosition:{displayName:(0,i.V)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,i.V)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:E.dt}},dataLabelText:{displayName:(0,i.V)("Text"),description:(0,i.V)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:d.dt}},dataLabelShow:{displayName:(0,i.V)("Visual_Reference_Line_Data_Label"),description:(0,i.V)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelVerticalPosition:{displayName:(0,i.V)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,i.V)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:D.dt}},defaultColor:{displayName:(0,i.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,i.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,i.V)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},dynamicLabelValue:{displayName:(0,i.V)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,i.V)("Visual_Error_Format"),type:{enumeration:n.y}},fill:{displayName:(0,i.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},genericColor:{displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},fillColor:{displayName:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},fillTransparency:{displayName:(0,i.V)("Transparency"),type:{numeric:!0}},fontColor:{displayName:(0,i.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,i.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,i.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},horizontalAlignment:{displayName:(0,i.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},iconSize:{displayName:(0,i.V)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,i.V)("Italic"),type:{bool:!0}},image:{type:{image:{}}},invertAxis:{displayName:(0,i.V)("Visual_InvertAxis"),type:{bool:!0}},labelBackgroundColor:{displayName:(0,i.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,i.V)("Visual_Reference_Line_Transparency"),type:{integer:!0}},innerPadding:{displayName:(0,i.V)("Visual_Axis_InnerPadding"),description:(0,i.V)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}},concatenateLabels:{displayName:(0,i.V)("Visual_Axis_ConcatenateLabels"),description:(0,i.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},labelColor:{displayName:(0,i.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},labelContentLayout:{displayName:(0,i.V)("Layout"),type:{enumeration:A.c}},optimizeLabelDisplay:{displayName:(0,i.V)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelDisplayUnits:{displayName:(0,i.V)("Visual_DisplayUnits"),description:(0,i.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,i.V)("Visual_LabelEnableBackground"),type:{bool:!0}},labelPrecision:{displayName:(0,i.V)("Visual_Precision"),description:(0,i.V)("Visual_PrecisionDescription"),placeHolderText:(0,i.V)("Visual_Auto"),type:{integer:!0}},labelContainerMaxWidth:{displayName:(0,i.V)("Visual_Max_Width"),type:{numeric:!0}},leaderLines:{displayName:(0,i.V)("Visual_LeaderLines"),type:{bool:!0}},leaderLineColor:{displayName:(0,i.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},leaderLineTransparency:{displayName:(0,i.V)("Transparency"),type:{numeric:!0}},leaderLineWidth:{displayName:(0,i.V)("Visual_General_Properties_Width"),type:{numeric:!0}},logAxisScale:{displayName:(0,i.V)("Visual_LogarithmicScale"),type:{bool:!0}},matchLineColor:{displayName:(0,i.V)("Visual_LegendMatchLineColor"),description:(0,i.V)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,i.V)("Visual_Label_Maximum_Offset"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,i.V)("Visual_Label_Minimum_Offset"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0}},preferredCategoryWidth:{displayName:(0,i.V)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,i.V)("Visual_MaxMarginFactor"),description:(0,i.V)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},percentageLabelPrecision:{displayName:(0,i.V)("Visual_Percentage_Precision"),description:(0,i.V)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,i.V)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,i.V)("Visual_Axis_Style"),description:(0,i.V)("Visual_LegendStyleDescription"),type:{enumeration:b.A}},legendPosition:{displayName:(0,i.V)("Visual_LegendPosition"),description:(0,i.V)("Visual_LegendPositionDescription"),type:{enumeration:f.FJ}},legendTitle:{displayName:(0,i.V)("Visual_LegendName"),description:(0,i.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,i.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineStyle:{displayName:(0,i.V)("Visual_LineStyle"),type:{enumeration:R.sb}},textWrap:{displayName:(0,i.V)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,i.V)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,i.V)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,i.V)("Visual_AxisTitleText"),placeHolderText:(0,i.V)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,i.V)("Visual_Outline"),type:{enumeration:y.dt}},outlineStyle:{displayName:(0,i.V)("Visual_Outline"),type:{flagsEnumeration:y.Ob}},outlineColor:{displayName:(0,i.V)("Visual_OutlineColor"),description:(0,i.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,i.V)("Visual_OutlineWeight"),description:(0,i.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},referenceLineDisplayName:{displayName:(0,i.V)("Name"),description:(0,i.V)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},referenceLinePosition:{displayName:(0,i.V)("Visual_Reference_Line_Arrange"),description:(0,i.V)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:C.dt}},referenceLineTransparency:{displayName:(0,i.V)("Visual_Reference_Line_Transparency"),description:(0,i.V)("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},referenceLineValue:{displayName:(0,i.V)("Visual_Reference_Line_Value"),description:(0,i.V)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},referenceLineValueWithDateTime:{displayName:(0,i.V)("Visual_Reference_Line_Value"),description:(0,i.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},reverseStackOrder:{displayName:(0,i.V)("Visual_ReverseStackOrder"),type:{bool:!0}},scaleToFit:{displayName:(0,i.V)("ScaleToFit"),type:{bool:!0}},sharedAxis:{displayName:(0,i.V)("Visual_Shared_YAxis"),type:{bool:!0}},show:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,i.V)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,i.V)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,i.V)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,i.V)("Visual_LegendShowTitle"),description:(0,i.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,i.V)("Visual_SeriesOrderReversed"),description:(0,i.V)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,i.V)("Visual_SeriesOrderSorted"),description:(0,i.V)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,i.V)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,i.V)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,i.V)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,i.V)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,i.V)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},strokeWidth:{displayName:(0,i.V)("Visual_StrokeWidth"),type:{integer:!0}},strokeLineJoin:{displayName:(0,i.V)("Visual_StrokeLineJoin"),type:{enumeration:T.A}},strokeDashArray:{displayName:(0,i.V)("Visual_StrokeLineJoin"),type:{extendedType:20647937}},strokeDashCap:{displayName:(0,i.V)("Visual_StrokeLineJoin"),type:{enumeration:R.Dd}},strokeAutoScale:{displayName:(0,i.V)("Visual_StrokeLineJoin"),type:{bool:!0}},switchAxisPosition:{displayName:(0,i.V)("Visual_SwitchAxisPosition"),type:{bool:!0}},showIcon:{displayName:(0,i.V)("Visual_ShowIcon"),type:{bool:!0}},showMarker:{displayName:(0,i.V)("Visual_ShowMarker"),type:{bool:!0}},markerShape:{displayName:(0,i.V)("Visual_MarkerShape"),type:{enumeration:S.dt}},fillPointStyle:{displayName:(0,i.V)("Style"),type:{enumeration:o.F}},markerSize:{displayName:(0,i.V)("Visual_MarkerSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,i.V)("Visual_MarkerRangeType"),type:{enumeration:g.v6}},markerColor:{displayName:(0,i.V)("Visual_MarkerColor"),type:{fill:{solid:{color:!0}}}},showMarkerByDefault:{type:{bool:!0}},matchFillColor:{displayName:(0,i.V)("Visual_MatchFillColor"),description:(0,i.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},matchSeriesColor:{displayName:(0,i.V)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,i.V)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},transparency:{displayName:(0,i.V)("Transparency"),description:(0,i.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,i.V)("Transparency"),description:(0,i.V)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},referenceLineColor:{displayName:(0,i.V)("Visual_Reference_Line_Color"),description:(0,i.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},responsive:{displayName:(0,i.V)("Visual_General_ResponsiveLabel"),description:(0,i.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},shadeRegion:{displayName:(0,i.V)("Visual_ShadeRegion"),type:{enumeration:P.dt}},shadeColor:{displayName:(0,i.V)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:(0,i.V)("Visual_ShadeTransparency"),type:{numeric:!0}},showAxisTitle_Y:{displayName:(0,i.V)("Visual_Axis_Title"),description:(0,i.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,i.V)("Visual_Axis_Title"),description:(0,i.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}},tablixFontColor:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,i.V)("Visual_TextAlignment"),type:{enumeration:B.K}},trendlineColor:{displayName:(0,i.V)("Visual_Trend_Line_Color"),description:(0,i.V)("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},trendlineDisplayName:{displayName:(0,i.V)("Name"),description:(0,i.V)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},trendlineTransparency:{displayName:(0,i.V)("Visual_Trend_Line_Transparency"),description:(0,i.V)("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},trendlineStyle:{displayName:(0,i.V)("Style"),description:(0,i.V)("Visual_Trend_Line_Style_Description"),type:{enumeration:R.sb}},trendlineCombineSeries:{displayName:(0,i.V)("Visual_Trend_Line_Combine_Series"),description:(0,i.V)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},trendlineUseHighlightValues:{displayName:(0,i.V)("Visual_Trend_Line_UseHighlightValues"),description:(0,i.V)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}},totalsEnabled:{displayName:(0,i.V)("Visual_Axis_Total"),description:(0,i.V)("Visual_Axis_TotalDescription"),type:{bool:!0}},underline:{displayName:(0,i.V)("Underline"),type:{bool:!0}},width:{displayName:(0,i.V)("Visual_General_Properties_Width"),type:{integer:!0}},wordWrap:{displayName:(0,i.V)("Visual_Word_Wrap"),type:{bool:!0}}},w={secShow:{displayName:(0,i.V)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,i.V)("Visual_YAxis_AlignZeros"),description:(0,i.V)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,i.V)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,i.V)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,i.V)("Visual_Axis_Start"),description:(0,i.V)("Visual_Axis_StartDescription"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,i.V)("Visual_Axis_End"),description:(0,i.V)("Visual_Axis_EndDescription"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:I.showAxisTitle_Y,secAxisStyle:I.axisStyle,secLabelColor:I.labelColor,secFontFamily:I.fontFamily,secFontSize:I.fontSize,secBold:I.bold,secItalic:I.italic,secUnderline:I.underline,secLabelDisplayUnits:I.labelDisplayUnits,secLabelPrecision:I.labelPrecision,secTitleColor:I.titleColor,secTitleFontFamily:I.fontFamily,secTitleFontSize:I.titleFontSize,secTitleBold:I.bold,secTitleItalic:I.italic,secTitleUnderline:I.underline,secTitleText:I.titleText},F={displayName:(0,i.V)("Visual_DataTotalLabels"),description:(0,i.V)("Visual_DataTotalLabelsDescription"),properties:{show:I.show,color:I.dataColor,labelDisplayUnits:I.dataLabelDisplayUnits,labelPrecision:(0,t.__assign)((0,t.__assign)({},I.labelPrecision),{suppressFormatPainterCopy:!0}),enableBackground:I.labelEnableBackground,backgroundColor:I.labelBackgroundColor,backgroundTransparency:I.labelBackgroundTransparency,fontSize:I.fontSize,bold:I.bold,italic:I.italic,underline:I.underline,fontFamily:I.fontFamily}},O=_.cloneDeep(F);O.properties.showPositiveAndNegative={displayName:(0,i.V)("Visual_LabelPosAndNeg"),description:(0,i.V)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var L={borderShow:I.borderShow,borderSize:I.borderSize,borderColorMatchFill:I.matchFillColor,borderColor:I.borderColor2,borderTransparency:I.borderTransparency},W={legend:{displayName:(0,i.V)("Visual_Legend"),description:(0,i.V)("Visual_LegendDescription"),properties:{show:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,i.V)("Visual_LegendPosition"),description:(0,i.V)("Visual_LegendPositionDescription"),type:{enumeration:f.FJ}},showTitle:{displayName:(0,i.V)("Visual_LegendShowTitle"),description:(0,i.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,i.V)("Visual_LegendName"),description:(0,i.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},labelColor:{displayName:(0,i.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},fontFamily:{displayName:(0,i.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},fontSize:{displayName:(0,i.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,i.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,i.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,i.V)("Underline"),type:{bool:!0}}}},labels:{displayName:(0,i.V)("Visual_DataPointsLabels"),description:(0,i.V)("Visual_DataPointsLabelsDescription"),properties:{show:I.show,showSeries:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}},enableBackground:I.labelEnableBackground,labelPosition:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:a.O}}}},totals:F,totalsWithNet:O,zoom:{displayName:(0,i.V)("Visual_ZoomSlider"),properties:{show:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,i.V)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,i.V)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,i.V)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,i.V)("Visual_ZoomTooltips"),type:{bool:!0}}}},subheader:{displayName:(0,i.V)("Small_Multiples_Title"),description:(0,i.V)("Small_Multiples_Title_Description"),properties:{show:I.show,fontFamily:I.fontFamily,fontSize:I.fontSize,bold:I.bold,italic:I.italic,underline:I.underline,fontColor:I.fontColor,alignment:{displayName:(0,i.V)("Visual_Title_Alignment"),description:(0,i.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:N.bZ}},titleWrap:I.wordWrap}},smallMultiplesLayout:{displayName:(0,i.V)("Small_Multiples_Layout"),description:(0,i.V)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,i.V)("Small_Multiples_Layout"),type:{enumeration:M.h}},rowCount:{displayName:(0,i.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,i.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:(0,t.__assign)((0,t.__assign)({},I.transparency),{displayName:(0,i.V)("Small_Multiples_Layout_Background_Transparency")}),gridLineType:{displayName:(0,i.V)("Visual_Gridline_Show"),description:(0,i.V)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:u.d}},gridLineColor:(0,t.__assign)({},I.lineColor),gridLineWidth:(0,t.__assign)((0,t.__assign)({},I.strokeWidth),{displayName:(0,i.V)("Visual_Line_Width")}),gridLineStyle:I.lineStyle,gridPadding:{displayName:(0,i.V)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,i.V)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,i.V)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,i.V)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,i.V)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,i.V)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,i.V)("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,i.V)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,i.V)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:I.show,barMatchSeriesColor:I.matchSeriesColor,barColor:{displayName:(0,i.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:I.width,barBorderColor:I.borderColor,barBorderSize:{displayName:(0,i.V)("Visual_Border_Size"),type:{integer:!0}},shadeShow:I.show,shadeBandStyle:{displayName:(0,i.V)("Visual_Axis_Style"),type:{enumeration:h.uv}},shadeColor:{displayName:(0,i.V)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:I.matchSeriesColor,shadeTransparency:I.transparency,markerShape:{displayName:(0,i.V)("Visual_MarkerShape"),type:{enumeration:S.OE}},showMarkerByDefault:I.showMarkerByDefault,markerSize:I.markerSize,labelShow:I.show,labelFontFamily:I.fontFamily,labelFontSize:I.fontSize,labelBold:I.bold,labelItalic:I.italic,labelUnderline:I.underline,labelColor:I.color,labelMatchSeriesColor:I.matchSeriesColor,labelFormat:I.errorFormat,labelBackground:I.labelEnableBackground,labelBackgroundColor:I.labelBackgroundColor,labelBackgroundTransparency:I.labelBackgroundTransparency,tooltipShow:(0,t.__assign)((0,t.__assign)({},I.show),{displayName:(0,i.V)("Visual_ShowInTooltip")}),tooltipFormat:I.errorFormat}},seriesLabels:{displayName:(0,i.V)("Visual_SeriesLabels"),description:(0,i.V)("Visual_SeriesDescription"),properties:{show:{displayName:(0,i.V)("Visual_SeriesLabels"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,i.V)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,i.V)("Visual_SeriesPosition"),type:{enumeration:l.B}},enableBackground:I.labelEnableBackground,backgroundColor:I.labelBackgroundColor,backgroundTransparency:I.labelBackgroundTransparency,showAll:{displayName:(0,i.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,i.V)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:I.bold,italic:I.italic,underline:I.underline,seriesFontFamily:{displayName:(0,i.V)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:{displayName:(0,i.V)("Visual_WordWrap"),type:{bool:!0}},seriesMaximumWidth:{displayName:(0,i.V)("Visual_Max_Width"),placeHolderText:(0,i.V)("Visual_Auto"),type:{integer:!0}}}}},U=(0,c.wZ)(W),j={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},smallMultiplesGridLineColor:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},z={zoom:{properties:{showOnValueSecAxis:{displayName:(0,i.V)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}}},464925:function(ze,K,r){r.d(K,{Fw:function(){return p},I8:function(){return V},Sd:function(){return e},bR:function(){return v},hq:function(){return m}});var t=r(145315),c=r(734287),i=r(149362),s=r(778549),p={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},V={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},m={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},v={defaultValue:10,minValue:3,maxValue:30};function e(h){var n,o,u,a,l,d,b,f,g,S=[{name:p.analyze,kind:t.DW.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,c.V)("Role_DisplayName_Target"),description:(0,c.V)("DecompositionTree_Analyze_Tooltip")},{name:p.explainBy,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_ExplainBy"),description:(0,c.V)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:p.tooltips,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}],y={select:[{for:{in:p.analyze}},{for:{in:p.tooltips}}]};return{dataRoles:S,dataViewMappings:[{conditions:[(n={},n[p.analyze]={max:1},n)],matrix:{rows:{for:{in:p.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:y}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[p.tooltips],supportEnhancedTooltips:!1},objects:(o={general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:s.iD.formatString}}},o[V.analysis]={displayName:(0,c.V)("Analysis"),description:(0,c.V)("Analysis"),properties:(u={},u[m.aiEnabled]={displayName:(0,c.V)("DecompositionTree_Formatting_EnableAI"),description:(0,c.V)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},u[m.aiMode]={displayName:(0,c.V)("DecompositionTree_AnalysisType"),description:(0,c.V)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,i.i)([{displayName:(0,c.V)("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:(0,c.V)("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}},u)},o[V.tree]={displayName:(0,c.V)("DecompositionTree_Formatting_Tree"),description:(0,c.V)("DecompositionTree_Formatting_Tree"),properties:(a={},a[m.density]={displayName:(0,c.V)("DecompositionTree_Density"),description:(0,c.V)("DecompositionTree_Density_Description"),type:{enumeration:(0,i.i)([{displayName:(0,c.V)("DecompositionTree_Density_Dense"),value:"dense"},{displayName:(0,c.V)("Default"),value:"default"},{displayName:(0,c.V)("DecompositionTree_Density_Sparse"),value:"sparse"}])}},a[m.accentColor]={displayName:(0,c.V)("DecompositionTree_Formatting_Selected_Line"),description:(0,c.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},a[m.connectorDefaultColor]={displayName:(0,c.V)("DecompositionTree_Formatting_Unselected_Line"),description:(0,c.V)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},a[m.connectorType]={displayName:(0,c.V)("Style"),description:(0,c.V)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,i.i)([{displayName:(0,c.V)("Default"),value:"curve"},{displayName:(0,c.V)("Visual_StrokeLineJoin_Round"),value:"round"}])}},a[m.responsiveLayout]={displayName:(0,c.V)("Visual_General_ResponsiveLabel"),description:(0,c.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},a[m.effectiveBarsPerLevel]={type:{integer:!0}},a[m.barsPerLevel]={displayName:(0,c.V)("DecompositionTree_BarsPerLevel"),description:(0,c.V)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},a[m.defaultClickAction]={displayName:(0,c.V)("DecompositionTree_DefaultAction"),description:(0,c.V)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,i.i)([{displayName:(0,c.V)("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:(0,c.V)("Collapse"),value:"toggle"}])}},a)},o[V.dataBars]={displayName:(0,c.V)("Visual_Bars_Title"),description:(0,c.V)("Visual_ConditionalFormatting_DataBars"),properties:(l={},l[m.positiveBarColor]={displayName:(0,c.V)("DataBarsDialog_PositiveBar"),description:(0,c.V)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},l[m.negativeBarColor]={displayName:(0,c.V)("DataBarsDialog_NegativeBar"),description:(0,c.V)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},l[m.dataBarBackgroundColor]={displayName:(0,c.V)("DecompositionTree_Formatting_BarBackground"),description:(0,c.V)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},l[m.dataBarColor]={displayName:(0,c.V)("DecompositionTree_DataBarColor"),description:(0,c.V)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},l[m.dataBarWidthPercent]={displayName:(0,c.V)("DecompositionTree_Formatting_DataBarSize"),description:(0,c.V)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},l[m.dataBarScalingType]={displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType"),description:(0,c.V)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,i.i)([{displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},l[m.axisStart]=s.iD.axisStart,l[m.axisEnd]=s.iD.axisEnd,l)},o[V.categoryLabels]={displayName:(0,c.V)("Visual_CategoryLabels"),description:(0,c.V)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:(d={},d[m.categoryLabelFontFamily]=s.iD.fontFamily,d[m.categoryLabelFontSize]=s.iD.fontSize,d[m.categoryLabelBold]=s.iD.bold,d[m.categoryLabelItalic]=s.iD.italic,d[m.categoryLabelUnderline]=s.iD.underline,d[m.categoryLabelFontColor]=s.iD.fontColor,d)},o[V.dataLabels]={displayName:(0,c.V)("Visual_Tablix_Values"),description:(0,c.V)("DecompositionTree_Formatting_ValueLabels_Description"),properties:(b={},b[m.dataLabelFontFamily]=s.iD.fontFamily,b[m.dataLabelFontSize]=s.iD.fontSize,b[m.dataLabelBold]=s.iD.bold,b[m.dataLabelItalic]=s.iD.italic,b[m.dataLabelUnderline]=s.iD.underline,b[m.dataLabelFontColor]=s.iD.fontColor,b[m.dataLabelDisplayUnits]=s.iD.labelDisplayUnits,b[m.dataLabelPrecision]=s.iD.labelPrecision,b)},o[V.levelHeader]={displayName:(0,c.V)("Header_Plural"),description:(0,c.V)("DecompositionTree_Formatting_TreeHeader_Description"),properties:(f={},f[m.levelHeaderBackgroundColor]={displayName:(0,c.V)("Generic_Color"),description:(0,c.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},f[m.levelTitleFontFamily]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},f[m.levelTitleFontSize]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},f[m.levelTitleBold]=s.iD.bold,f[m.levelTitleItalic]=s.iD.italic,f[m.levelTitleUnderline]=s.iD.underline,f[m.levelTitleFontColor]={displayName:(0,c.V)("Generic_Color"),description:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},f[m.showSubtitles]={displayName:(0,c.V)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,c.V)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},f[m.levelSubtitleFontFamily]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},f[m.levelSubtitleFontSize]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},f[m.levelSubtitleBold]=s.iD.bold,f[m.levelSubtitleItalic]=s.iD.italic,f[m.levelSubtitleUnderline]=s.iD.underline,f[m.levelSubtitleFontColor]={displayName:(0,c.V)("Generic_Color"),description:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},f)},o[V.insights]={properties:(g={},g[m.isAINode]={type:{bool:!0}},g)},o),drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[p.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[p.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:p.analyze,explainByRole:p.explainBy,enableAIProperty:{objectName:V.analysis,propertyName:m.aiEnabled},highlightedAIMatrixNode:{objectName:V.insights,propertyName:m.isAINode},analysisType:{objectName:V.analysis,propertyName:m.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}}},719661:function(ze,K,r){r.d(K,{Ag:function(){return e},V9:function(){return h},cw:function(){return n}});var t=r(226514),c=r(106266),i=r(145315),s=r(734287),p=r(747168),V=r(605781),m=r(326899),v=r(778549),e={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},h=(0,c.wZ)(n().objects);function n(o){return{dataRoles:[{name:e.category,kind:i.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Legend"),displayOrder:1,description:(0,s.V)("Role_DisplayName_LegendDescription")},{name:e.series,kind:i.DW.Grouping,displayName:(0,s.V)("Details"),displayOrder:null!=o&&o.useModernFormatPane?3:2,description:(0,s.V)("Role_DisplayName_DetailsDonutChartDescription")},{name:e.y,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Values"),displayOrder:null!=o&&o.useModernFormatPane?2:3,description:(0,s.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:e.tooltips,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:v.iD.formatString}},legend:v.TQ.legend,dataPoint:{displayName:(0,s.V)("Visual_DataPoint"),description:(0,s.V)("Visual_DataPointDescription"),properties:{defaultColor:v.iD.defaultColor,fill:v.iD.fill}},labels:{displayName:(0,s.V)("Visual_DetailLabels"),properties:{show:v.iD.show,color:v.iD.dataColor,labelDisplayUnits:v.iD.dataLabelDisplayUnits,labelPrecision:(0,t.__assign)((0,t.__assign)({},v.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,t.__assign)((0,t.__assign)({},v.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:v.iD.fontSize,bold:v.iD.bold,italic:v.iD.italic,underline:v.iD.underline,fontFamily:v.iD.fontFamily,labelStyle:{displayName:(0,s.V)("Visual_LabelStyle"),type:{enumeration:m.dt}},position:{displayName:(0,s.V)("Visual_DonutLabelPosition"),type:{enumeration:V.dt}},overflow:{displayName:(0,s.V)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,s.V)("Visual_Background"),type:{enumeration:p.dt}}}},slices:{displayName:(0,s.V)("Visual_Shapes"),description:(0,s.V)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,s.V)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,s.V)("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:(0,s.V)("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:{displayName:(0,s.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},explode:{displayName:(0,s.V)("Visual_DonutExplode"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},525963:function(ze,K,r){r.d(K,{Vh:function(){return e},XN:function(){return m}});var t=r(145315),c=r(734287),i=r(884983),s=r(771803),p=r(778549);function m(h){return{dataRoles:v(h&&h.cartesianConditionalFormatting),objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:p.iD.formatString}},legend:p.TQ.legend,dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{defaultColor:p.iD.defaultColor,showAllDataPoints:p.iD.showAllDataPoints,fill:p.iD.defaultCategoryColor,fillRule:{displayName:(0,c.V)("Role_DisplayName_Values"),description:(0,c.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:"Size",output:{property:"fill",selector:["Category"]}}},transparency:p.iD.transparency}},labels:{displayName:(0,c.V)("Visual_DataPointsLabels"),properties:{show:p.iD.show,color:p.iD.dataColor,labelDisplayUnits:p.iD.labelDisplayUnits,labelPrecision:p.iD.labelPrecision}},categoryLabels:{displayName:(0,c.V)("Visual_CategoryLabels"),properties:{show:p.iD.show}},mapControls:{displayName:(0,c.V)("Visual_MapControls"),description:(0,c.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,c.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,c.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,c.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,c.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,c.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,c.V)("Visual_MapGeocodingCulture"),type:{enumeration:s.dt}}}},mapStyles:{displayName:(0,c.V)("Visual_MapStyles"),description:(0,c.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,c.V)("Visual_MapTheme"),type:{enumeration:i.dt}},showLabels:{displayName:(0,c.V)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:p.iD.show,strokeColor:{displayName:(0,c.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},strokeWidth:p.iD.strokeWidth}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:"Size",direction:2}]}},drilldown:{roles:["Category"]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}function v(h){var n=[{name:"Category",kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Location"),description:(0,c.V)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:"Series",kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Latitude"),description:(0,c.V)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:"X",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Longitude"),description:(0,c.V)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return h||n.push({name:"Size",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Gradient"),description:(0,c.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),n.push({name:"Tooltips",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}),n}var e={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},635491:function(ze,K,r){r.d(K,{IW:function(){return v},jP:function(){return e},qW:function(){return h}});var t=r(226514),c=r(106266),i=r(145315),s=r(734287),p=r(72653),V=r(201849),m=r(778549),v={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},e=(0,c.wZ)(h().objects);function h(n){return{dataRoles:[{name:v.category,kind:i.DW.Grouping,displayName:(0,s.V)(null!=n&&n.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,s.V)("Role_DisplayName_GroupFunnelDescription")},{name:v.y,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Values"),description:(0,s.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!(null!=n&&n.cartesianConditionalFormatting)&&{name:v.gradient,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Gradient"),description:(0,s.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0},{name:v.tooltips,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}].filter(function(o){return o}),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:m.iD.formatString}},categoryAxis:{displayName:(0,s.V)("Visual_CategoryLabels"),description:(0,s.V)("Visual_CategoryLabelOptionsDescription"),properties:{show:m.iD.show,color:m.iD.categoryColor,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily}},dataPoint:{displayName:(0,s.V)("Visual_DataPoint"),description:(0,s.V)("Visual_DataPointDescription"),properties:{defaultColor:m.iD.defaultColor,showAllDataPoints:m.iD.showAllDataPoints,fill:m.iD.defaultCategoryColor,fillRule:{displayName:(0,s.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,s.V)("Visual_DataPointsLabels"),description:(0,s.V)("Visual_DataPointsLabelsDescription"),properties:{show:m.iD.show,color:m.iD.dataColor,enableBackground:m.iD.labelEnableBackground,backgroundColor:m.iD.labelBackgroundColor,backgroundTransparency:m.iD.labelBackgroundTransparency,labelPosition:{displayName:(0,s.V)("Visual_Position"),type:{enumeration:V.O},suppressFormatPainterCopy:!0},labelDisplayUnits:m.iD.dataLabelDisplayUnits,labelPrecision:(0,t.__assign)((0,t.__assign)({},m.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,t.__assign)((0,t.__assign)({},m.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily,funnelLabelStyle:{displayName:(0,s.V)("Visual_LabelStyle"),type:{enumeration:p.dt}}}},percentBarLabel:{displayName:(0,s.V)("Visual_PercentBarLabel"),description:(0,s.V)("Visual_PercentBarLabelDescription"),properties:{show:m.iD.show,color:m.iD.dataColor,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},381433:function(ze,K,r){r.d(K,{J1:function(){return p},Vd:function(){return s},qJ:function(){return V}});var t=r(145315),c=r(734287),i=r(778549),s={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},p={dataRoles:[{name:s.y,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Value"),description:(0,c.V)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.minValue,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_MinValue"),description:(0,c.V)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.maxValue,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_MaxValue"),description:(0,c.V)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.targetValue,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_TargetValue"),description:(0,c.V)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:i.iD.formatString}},axis:{displayName:(0,c.V)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,c.V)("Min"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,c.V)("Max"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,c.V)("Visual_Gauge_Axis_Target"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),properties:{fill:i.iD.fill,target:{displayName:(0,c.V)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,c.V)("Visual_DataPointsLabels"),properties:{show:i.iD.show,color:i.iD.dataColor,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,fontFamily:i.iD.fontFamily}},target:{displayName:(0,c.V)("Visual_Gauge_Axis_Target"),properties:{show:i.iD.show,color:i.iD.dataColor,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,fontFamily:i.iD.fontFamily}},calloutValue:{displayName:(0,c.V)("Visual_Gauge_CalloutValue"),properties:{show:i.iD.show,color:i.iD.dataColor,fontFamily:i.iD.fontFamily,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,showDynamicLabels:i.iD.showDynamicLabels,dynamicLabelValue:i.iD.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,supportsDataDrivenAlerts:!0},V={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},289166:function(ze,K,r){r.d(K,{Jz:function(){return V},_g:function(){return p}});var t=r(106266),c=r(734287),i=r(674810),s={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,c.V)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,c.V)("Visual_Image_Scaling_Type"),type:{enumeration:i.H}}}}},p=(0,t.wZ)(s),V={objects:s,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},935270:function(ze,K,r){r.d(K,{ml:function(){return h},qG:function(){return v},yM:function(){return n}});var t=r(106266),c=r(145315),i=r(734287),s=r(790517),p=r(966608),V=r(563246),m=r(239311),v={target:"Target",explainBy:"ExplainBy",details:"Details"},e={keyDrivers:{displayName:(0,i.V)("Analysis"),description:(0,i.V)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,i.V)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,i.V)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,i.V)("Visual_KeyDrivers_AllowProfiles"),description:(0,i.V)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,i.V)("Visual_KeyDrivers_NumericAnalysis"),description:(0,i.V)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:V.dt},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,i.V)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,i.V)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,i.V)("KeyDriver_CountType"),description:(0,i.V)("KeyDriver_CountType_Description"),type:{enumeration:p.dt}},selectedAnalysis:{type:{enumeration:s.dt},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:m.dt},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,i.V)("Visual_KeyDriversVisualColors"),description:(0,i.V)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,i.V)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,i.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,i.V)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,i.V)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,i.V)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,i.V)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,i.V)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,i.V)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,i.V)("Visual_KeyDriversDrillVisualColors"),description:(0,i.V)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,i.V)("Visual_DefaultColor"),description:(0,i.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,i.V)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,i.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},h=(0,t.wZ)(e);function n(){var o;return{dataRoles:[{name:v.target,kind:c.DW.GroupingOrMeasure,kindPreference:1,displayName:(0,i.V)("Role_DisplayName_Target"),description:(0,i.V)("Role_DisplayName_TargetDescription")},{name:v.explainBy,kind:c.DW.GroupingOrMeasure,displayName:(0,i.V)("Role_DisplayName_ExplainBy"),description:(0,i.V)("Role_DisplayName_ExplainByDescription")},{name:v.details,kind:c.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Details"),description:(0,i.V)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:e,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[(o={},o[v.target]={min:1,max:1},o)],table:{rows:{select:[{bind:{to:v.target}},{for:{in:v.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},424420:function(ze,K,r){r.d(K,{Pn:function(){return v},Te:function(){return n},pW:function(){return h},xg:function(){return o}});var t=r(106266),c=r(145315),i=r(734287),s=r(38517),p=r(31752),V=r(401973),m=r(778549),v={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function e(u){var a=u&&u.useModernFormatPane;return[{name:v.indicator,kind:c.DW.Measure,displayName:(0,i.V)(a?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,i.V)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:v.trendLine,kind:c.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_KPI_TrendLine"),description:(0,i.V)("Role_DisplayName_KPI_Trendline_Description")},{name:v.goal,kind:c.DW.Measure,displayName:(0,i.V)(a?"Target":"Role_DisplayName_KPI_Goal"),description:(0,i.V)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function h(u){return{dataRoles:e(u),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:m.iD.formatString}},indicator:{displayName:(0,i.V)("Role_DisplayName_KPI_Indicator"),description:(0,i.V)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,i.V)("Visual_DisplayUnits"),description:(0,i.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:m.iD.labelPrecision,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily,fontColor:m.iD.fontColor,showIcon:m.iD.showIcon,iconSize:m.iD.iconSize,verticalAlignment:{displayName:(0,i.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:m.iD.horizontalAlignment}},trendline:{displayName:(0,i.V)("Role_DisplayName_KPI_TrendLine"),description:(0,i.V)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:m.iD.show,transparency:m.iD.transparency}},goals:{displayName:(0,i.V)("Role_DisplayName_KPI_Goals"),description:(0,i.V)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,i.V)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,i.V)("Role_DisplayName_Label"),type:{text:!0}},fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,goalFontFamily:m.iD.fontFamily,goalFontColor:m.iD.fontColor,showDistance:{displayName:(0,i.V)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,i.V)("Role_DisplayName_Label"),type:{enumeration:V.dt}},labelPrecision:m.iD.labelPrecision,titleFontSize:m.iD.fontSize,titleBold:m.iD.bold,titleItalic:m.iD.italic,titleUnderline:m.iD.underline,distanceFontFamily:m.iD.fontFamily,distanceFontColor:m.iD.fontColor,direction:{displayName:(0,i.V)("Visual_KPI_DistanceDirection"),type:{enumeration:p.dt}}}},status:{displayName:(0,i.V)("Role_DisplayName_KPI_Color_Coding"),description:(0,i.V)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,i.V)("Visual_KPI_Direction"),type:{enumeration:s.dt}},goodColor:{displayName:(0,i.V)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,i.V)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,i.V)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,i.V)("ConditionalFormattingDialog_Date"),description:(0,i.V)("Role_DisplayName_KPI_Date_Description"),properties:{show:m.iD.show,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,lastDateFontFamily:m.iD.fontFamily,lastDateFontColor:m.iD.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var n=(0,t.wZ)(h().objects),o={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},939523:function(ze,K,r){r.d(K,{BX:function(){return E},My:function(){return b},qn:function(){return f},yg:function(){return g},zK:function(){return y}});var t=r(226514),c=r(787941),i=r(106266),s=r(145315),p=r(734287),V=r(633888),m=r(345563),v=r(391589),e=r(280122),h=r(201849),n=r(887948),o=r(564227),u=r(646875),a=r(664723),l=r(778549),d=r(681454);function b(P,M,T,R){var B;return void 0===T&&(T=!1),void 0===R&&(R=!1),(0,t.__assign)((0,t.__assign)(((B={general:{displayName:(0,p.V)("Visual_General"),properties:{formatString:l.iD.formatString,responsive:l.iD.responsive,responsiveLegacy:l.iD.responsiveLegacy}},legend:{displayName:l.TQ.legend.displayName,description:l.TQ.legend.description,properties:(0,t.__assign)((0,t.__assign)({},l.TQ.legend.properties),{legendMarkerRendering:l.iD.legendMarkerRendering,matchLineColor:l.iD.matchLineColor})},subheader:(0,t.__assign)({},l.TQ.subheader)})[V.Xi]=(0,t.__assign)({},l.TQ.smallMultiplesLayout),B.categoryAxis={displayName:(0,p.V)("Visual_XAxis"),properties:(0,t.__assign)((0,t.__assign)({show:l.iD.show,start:l.iD.axisStart,end:l.iD.axisEnd,axisType:l.iD.axisType,showAxisTitle:{displayName:(0,p.V)("Visual_Axis_Title"),description:(0,p.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:l.iD.axisStyle,labelColor:l.iD.labelColor,fontFamily:l.iD.fontFamily,fontSize:l.iD.fontSize,bold:l.iD.bold,italic:l.iD.italic,underline:l.iD.underline,invertAxis:l.iD.invertAxis,labelDisplayUnits:l.iD.labelDisplayUnits,labelPrecision:l.iD.labelPrecision,logAxisScale:l.iD.logAxisScale,concatenateLabels:{displayName:(0,p.V)("Visual_Axis_ConcatenateLabels"),description:(0,p.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:l.iD.preferredCategoryWidth,maxMarginFactor:l.iD.maxMarginFactor},(P&&M||T)&&{reverseStackOrder:l.iD.reverseStackOrder}),{titleColor:l.iD.titleColor,titleFontFamily:l.iD.fontFamily,titleFontSize:l.iD.titleFontSize,titleBold:l.iD.bold,titleItalic:l.iD.italic,titleUnderline:l.iD.underline,titleText:l.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},l.iD.show),{displayName:(0,p.V)("Visual_Gridline_Show")}),gridlineColor:l.iD.lineColor,gridlineThickness:l.iD.strokeWidth,gridlineStyle:l.iD.lineStyle})},B.valueAxis={displayName:(0,p.V)("Visual_YAxis"),properties:{show:l.iD.show,start:l.iD.axisStart,end:l.iD.axisEnd,invertAxis:l.iD.invertAxis,sharedAxis:l.iD.sharedAxis,scaleToFit:l.iD.scaleToFit,showAxisTitle:{displayName:(0,p.V)("Visual_Axis_Title"),description:(0,p.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:l.iD.axisStyle,labelColor:l.iD.labelColor,fontFamily:l.iD.fontFamily,fontSize:l.iD.fontSize,bold:l.iD.bold,italic:l.iD.italic,underline:l.iD.underline,labelDisplayUnits:l.iD.labelDisplayUnits,labelPrecision:l.iD.labelPrecision,logAxisScale:l.iD.logAxisScale,titleColor:l.iD.titleColor,titleFontFamily:l.iD.fontFamily,titleFontSize:l.iD.titleFontSize,titleBold:l.iD.bold,titleItalic:l.iD.italic,titleUnderline:l.iD.underline,titleText:l.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},l.iD.show),{displayName:(0,p.V)("Visual_Gridline_Show")}),gridlineColor:l.iD.lineColor,gridlineThickness:l.iD.strokeWidth,gridlineStyle:l.iD.lineStyle,switchAxisPosition:l.iD.switchAxisPosition}},B.y2Axis={displayName:(0,p.V)("Visual_Y2Axis"),properties:(0,t.__assign)({show:l.iD.show},_.omit(l.sJ,["alignZeros","switchAxisPosition","secShow"]))},B.zoom={displayName:l.TQ.zoom.displayName,properties:(0,t.__assign)((0,t.__assign)({},l.TQ.zoom.properties),l.DW.zoom.properties)},B.dataPoint={displayName:(0,p.V)("Visual_DataPoint"),description:(0,p.V)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,p.V)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:l.iD.defaultColor,fill:l.iD.genericColor,showAllDataPoints:l.iD.showAllDataPoints}},B.layout={displayName:(0,p.V)("Layout"),properties:(0,t.__assign)({},(P&&M||T)&&{seriesOrderReversed:l.iD.seriesOrderReversed})},B.labels={displayName:(0,p.V)("Visual_DataPointsLabels"),description:(0,p.V)("Visual_DataPointsLabelsDescription"),properties:(0,t.__assign)({show:l.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,p.V)("Visual_Show"),type:{bool:!0}},color:l.iD.dataColor,labelDisplayUnits:R?l.iD.dataLabelDisplayUnitsWithCustom:l.iD.dataLabelDisplayUnits,valueCustomFormatString:l.iD.dataLabelCustomFormatString,labelPrecision:(0,t.__assign)((0,t.__assign)({},l.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelPosition:{displayName:(0,p.V)("Visual_Position"),type:{enumeration:h.O}},enableBackground:l.iD.labelEnableBackground,backgroundColor:l.iD.labelBackgroundColor,backgroundTransparency:l.iD.labelBackgroundTransparency,showAll:{displayName:(0,p.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:l.iD.fontSize,bold:l.iD.bold,italic:l.iD.italic,underline:l.iD.underline,fontFamily:l.iD.fontFamily,labelDensity:{displayName:(0,p.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:l.iD.showDynamicLabels,dynamicLabelValue:l.iD.dynamicLabelValue,maximumOffset:l.iD.maximumOffset,minimumOffset:l.iD.minimumOffset,enableValueDataLabel:{type:{bool:!0}},showBlankAs:l.iD.showBlankAs,transparency:l.iD.transparency,titleBold:l.iD.bold,titleColor:l.iD.dataColor,titleContentType:{displayName:(0,p.V)("Content"),type:{enumeration:u.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:l.iD.fontFamily,titleFontSize:l.iD.fontSize,dynamicLabelTitle:l.iD.dynamicLabelValue,titleItalic:l.iD.italic,titleTransparency:l.iD.transparency,titleLabelDisplayUnits:l.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:l.iD.dataLabelCustomFormatString,titleLabelPrecision:l.iD.labelPrecision,titleUnderline:l.iD.underline,titleShowBlankAs:l.iD.showBlankAs,detailBold:l.iD.bold,detailColor:l.iD.dataColor,dynamicLabelDetail:l.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:l.iD.fontFamily,detailFontSize:l.iD.fontSize,detailItalic:l.iD.italic,detailTransparency:l.iD.transparency,detailUnderline:l.iD.underline,detailShowBlankAs:l.iD.showBlankAs,detailLabelDisplayUnits:l.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:l.iD.dataLabelCustomFormatString,detailLabelPrecision:l.iD.labelPrecision,detailContentType:{displayName:(0,p.V)("Content"),type:{enumeration:o.w}},labelContentLayout:l.iD.labelContentLayout,optimizeLabelDisplay:l.iD.optimizeLabelDisplay,labelContainerMaxWidth:l.iD.labelContainerMaxWidth,horizontalAlignment:l.iD.horizontalAlignment,leaderLines:l.iD.leaderLines},(!P||T)&&{leaderLineStyle:l.iD.lineStyle,leaderLineColor:l.iD.leaderLineColor,leaderLineTransparency:l.iD.leaderLineTransparency,leaderLineWidth:l.iD.leaderLineWidth})},B),(P||T)&&{totals:l.TQ.totals}),{seriesLabels:l.TQ.seriesLabels,lineStyles:{displayName:(0,p.V)("Visual_Shapes"),description:(0,p.V)("Visual_ShapesDescription"),properties:{strokeWidth:l.iD.width,strokeLineJoin:l.iD.strokeLineJoin,strokeTransparency:l.iD.lineTransparency,strokeAutoScale:l.iD.strokeAutoScale,strokeDashArray:l.iD.strokeDashArray,strokeDashCap:l.iD.strokeDashCap,lineStyle:l.iD.lineStyle,showMarker:l.iD.showMarker,markerShape:l.iD.markerShape,markerSize:l.iD.markerSize,markerColor:l.iD.markerColor,showMarkerByDefault:l.iD.showMarkerByDefault,showSeries:{displayName:(0,p.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},lineChartType:{displayName:(0,p.V)("Visual_Interpolation"),description:(0,p.V)("Visual_InterpolationDescription"),type:{enumeration:n.CO}},interpolationStep:{displayName:(0,p.V)("Visual_SteppedPosition"),type:{enumeration:n.oI}},interpolationSmooth:{displayName:(0,p.V)("Visual_SmoothType"),type:{enumeration:n.cZ}},interpolationSmoothParam:{displayName:(0,p.V)("Visual_LineInterp_Tension"),type:{numeric:!0}},areaShow:{displayName:(0,p.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},areaColor:l.iD.fillColor,areaMatchStrokeColor:l.iD.matchLineColor}},plotArea:{displayName:(0,p.V)("Visual_Plot"),properties:{transparency:l.iD.transparency,image:l.iD.image}},trend:{displayName:(0,p.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:l.iD.show,displayName:l.iD.trendlineDisplayName,lineColor:l.iD.trendlineColor,transparency:l.iD.trendlineTransparency,style:l.iD.trendlineStyle,combineSeries:l.iD.trendlineCombineSeries,useHighlightValues:l.iD.trendlineUseHighlightValues}},scalarKey:{properties:{min:{type:{dateTime:!0}}}},y1AxisReferenceLine:{displayName:(0,p.V)("Visual_Reference_Line_Y"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:l.iD.show,displayName:l.iD.referenceLineDisplayName,value:l.iD.referenceLineValue,lineColor:l.iD.referenceLineColor,transparency:l.iD.referenceLineTransparency,style:l.iD.lineStyle,position:l.iD.referenceLinePosition,dataLabelShow:l.iD.dataLabelShow,dataLabelColor:l.iD.dataLabelColor,dataLabelText:l.iD.dataLabelText,dataLabelDecimalPoints:l.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:l.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:l.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:l.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,p.V)("Visual_Reference_Line_X"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:l.iD.show,displayName:l.iD.referenceLineDisplayName,value:l.iD.referenceLineValueWithDateTime,lineColor:l.iD.lineColor,transparency:l.iD.referenceLineTransparency,style:l.iD.lineStyle,position:l.iD.referenceLinePosition,shadeRegion:l.iD.shadeRegion,shadeColor:l.iD.shadeColor,shadeTransparency:l.iD.shadeTransparency,dataLabelShow:l.iD.dataLabelShow,dataLabelColor:l.iD.dataLabelColor,dataLabelText:l.iD.dataLabelText,dataLabelDecimalPoints:l.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:l.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:l.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:l.iD.dataLabelDisplayUnits}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}})}var f=(0,i.wZ)(b(!0,!0,!0));function g(P,M,T){var R,B=T&&T.useModernFormatPane;c.fF.assert(function(){return!P||M},"Non-area stacked line is not supported");var x=b(P,M,void 0,null==T?void 0:T.labelEnhancementsM0),A=[{name:d.R.Category,kind:s.DW.Grouping,displayName:(0,p.V)(B?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,p.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:d.R.Series,kind:s.DW.Grouping,displayName:(0,p.V)("Role_DisplayName_Legend"),displayOrder:B?4:2,description:(0,p.V)("Role_DisplayName_LegendDescription")},{name:d.R.Y,kind:s.DW.Measure,displayName:(0,p.V)(B?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:B?2:3,description:(0,p.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];P||A.push({name:d.R.Y2,kind:s.DW.Measure,displayName:(0,p.V)(B?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:B?3:4,description:(0,p.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),A.push({name:d.R.Rows,kind:s.DW.Grouping,displayName:(0,p.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,p.V)("Role_DisplayName_SmallMultiples_Description")}),A.push({name:d.R.Tooltips,kind:s.DW.Measure,displayName:(0,p.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,p.V)("Role_Tooltips_Description"),joinPredicate:0});var U,j,z,G,I={dataRoles:A,objects:x,dataViewMappings:[(G={conditions:[(U={},U[d.R.Series]={max:0},U[d.R.Rows]={min:1},U),(j={},j[d.R.Series]={min:1,max:1},j[d.R.Y]={max:1},j[d.R.Rows]={min:1},j),(z={},z[d.R.Series]={min:1,max:1},z[d.R.Y]={max:0},z[d.R.Rows]={min:1},z)],matrix:{rows:{select:[{composite:[{for:{in:d.R.Rows}}],dataReductionAlgorithm:{window:{count:V.QS}}},{composite:[{for:{in:d.R.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:d.R.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:d.R.Y}},{for:{in:d.R.Tooltips}}]},dataVolume:6}},P||S(G),G),function(){var U,j,z,G={conditions:[(U={},U[d.R.Series]={max:0},U[d.R.Rows]={max:0},U),(j={},j[d.R.Series]={min:1,max:1},j[d.R.Y]={max:1},j[d.R.Rows]={max:0},j),(z={},z[d.R.Series]={min:1,max:1},z[d.R.Y]={max:0},z[d.R.Rows]={max:0},z)],categorical:{categories:{for:{in:d.R.Category}},values:{group:{by:d.R.Series,select:[{for:{in:d.R.Y}},{for:{in:d.R.Tooltips}}]}}}};return P?function(P){c.fF.assertValue(P,"mapping"),c.fF.assertValue(P.categorical,"categorical mapping");var M=P.categorical;M.dataReductionAlgorithm=void 0,M.categories.dataReductionAlgorithm={sample:{}},M.values.group.dataReductionAlgorithm={top:{}}}(G):function(P){if(c.fF.assertValue(P,"mapping"),P.categorical){var M=P.categorical;M.dataReductionAlgorithm={binnedLineSample:{}},M.categories.dataReductionAlgorithm=void 0,M.values.group.dataReductionAlgorithm=void 0}else P.matrix&&c.fF.assertFail("Binned sampling not supported in this configuration")}(G),P||S(G),G}(),function(){var U,j,z;return{conditions:[(U={},U[a.x.rows]={max:0},U[d.R.Series]={max:0},U),(j={},j[a.x.rows]={max:0},j[d.R.Series]={min:1,max:1},j[d.R.Y]={max:1},j[d.R.Y2]={max:0},j),(z={},z[a.x.rows]={max:0},z[d.R.Series]={min:1,max:1},z[d.R.Y]={max:0},z[d.R.Y2]={max:1},z)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}(),function(){var U;return{conditions:[(U={},U[a.x.rows]={max:0},U[d.R.Series]={max:0},U[d.R.Category]={min:1},U[d.R.Y]={min:1,max:1},U[d.R.Y2]={max:0},U)],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:d.R.Category}},values:{group:{by:d.R.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}}}(),function(){var U;return{conditions:[(U={},U[d.R.Rows]={max:0},U[d.R.Series]={max:0},U[d.R.Category]={min:1},U[d.R.Y]={min:1,max:1},U[d.R.Y2]={max:0},U)],requiredProperties:[{objectName:m.xn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:d.R.Category}},values:{group:{by:d.R.Series,select:[{for:{in:m.rj.ExpectedValue}},{for:{in:m.rj.ExpectedLow}},{for:{in:m.rj.ExpectedHigh}},{for:{in:m.rj.RawScore}},{for:{in:m.rj.Anomaly}},{for:{in:m.rj.BatchStart}},{for:{in:m.rj.BatchEnd}}]}}}}}()],sorting:{default:{}},drilldown:{roles:[d.R.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[d.R.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:m.rH}},expandAndSort:[d.R.Category],supportsOnObjectFormatting:!0};return P||(I.objects.referenceLine={displayName:(0,p.V)("Visual_Reference_Line"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:l.iD.show,displayName:l.iD.referenceLineDisplayName,value:l.iD.referenceLineValue,lineColor:l.iD.referenceLineColor,transparency:l.iD.referenceLineTransparency,style:l.iD.lineStyle,position:l.iD.referenceLinePosition,dataLabelShow:l.iD.dataLabelShow,dataLabelColor:l.iD.dataLabelColor,dataLabelText:l.iD.dataLabelText,dataLabelDecimalPoints:l.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:l.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:l.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:l.iD.dataLabelDisplayUnits}}),!P&&!M&&(I.objects.error=(0,t.__assign)({},l.TQ.error),I.objects.forecast={displayName:(0,p.V)("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:l.iD.show,displayName:{displayName:(0,p.V)("Name"),description:(0,p.V)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},confidenceBandStyle:{displayName:(0,p.V)("Visual_Forecast_Confidence_Band_Style"),description:(0,p.V)("Visual_Forecast_Confidence_Band_Style_Description"),type:{enumeration:e.dt}},lineColor:{displayName:(0,p.V)("Visual_Forecast_Line_Color"),description:(0,p.V)("Visual_Forecast_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:l.iD.transparency,style:l.iD.lineStyle,transform:{type:{queryTransform:{}}}}},T&&T.daxTransformEnabled&&(I.objects[m.xn]={displayName:(0,p.V)("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:(R={},R[m.MA.show]=l.iD.show,R[m.MA.displayName]={displayName:(0,p.V)("Name"),description:(0,p.V)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},R[m.MA.markerShape]={displayName:(0,p.V)("Visual_AnomalyDetection_AnomalyShape"),description:(0,p.V)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:v.XM}},R[m.MA.markerShapeSize]={displayName:(0,p.V)("Visual_AnomalyDetection_AnomalyShapeSize"),description:(0,p.V)("Visual_AnomalyDetection_AnomalyShapeSize_Description"),type:{numeric:!0}},R[m.MA.markerColor]={displayName:(0,p.V)("Visual_AnomalyDetection_AnomalyColor"),description:(0,p.V)("Visual_AnomalyDetection_AnomalyColor_Description"),type:{fill:{solid:{color:!0}}}},R[m.MA.confidenceBandStyle]={displayName:(0,p.V)("Visual_AnomalyDetection_RangeStyle"),description:(0,p.V)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:e.dt}},R[m.MA.transparency]={displayName:(0,p.V)("Visual_AnomalyDetection_RangeTransparency"),description:(0,p.V)("Visual_AnomalyDetection_RangeTransparency_Description"),type:{numeric:!0}},R[m.MA.confidenceBandColor]={displayName:(0,p.V)("Visual_AnomalyDetection_RangeColor"),description:(0,p.V)("Visual_AnomalyDetection_RangeColor_Description"),type:{fill:{solid:{color:!0}}}},R[m.K1.CategoryValue]={type:{dateTime:!0}},R[m.K1.Value]={type:{numeric:!0}},R[m.K1.ExpectedValue]={type:{numeric:!0}},R[m.K1.ExpectedLow]={type:{numeric:!0}},R[m.K1.ExpectedHigh]={type:{numeric:!0}},R[m.K1.BatchStart]={type:{dateTime:!0}},R[m.K1.BatchEnd]={type:{dateTime:!0}},R.transform={type:{queryTransform:{}}},R[m.Bx]={type:{exprList:{}}},R[m.It]={type:{bool:!0}},R)})),I}function S(P){var M;_.find(P.conditions,function(T){return _.isEqual(T[d.R.Series],{min:1,max:1})&&_.isEqual(T[d.R.Y],{max:1})})[d.R.Y2]={max:0},_.find(P.conditions,function(T){return _.isEqual(T[d.R.Series],{min:1,max:1})&&_.isEqual(T[d.R.Y],{max:0})})[d.R.Y2]={max:1},P.categorical?M=P.categorical.values.group.select:P.matrix&&(M=P.matrix.values.select),M.splice(1,0,{for:{in:d.R.Y2}})}var y={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},anomalyDetection:{show:m.Ne},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"},legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"},leaderLineStyle:{objectName:"labels",propertyName:"leaderLineStyle"},leaderLineColor:{objectName:"labels",propertyName:"leaderLineColor"},leaderLineTransparency:{objectName:"labels",propertyName:"leaderLineTransparency"},leaderLineWidth:{objectName:"labels",propertyName:"leaderLineWidth"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},lineStyles:{areaShow:{objectName:"lineStyles",propertyName:"areaShow"},areaTransparency:{objectName:"dataPoint",propertyName:"transparency"},areaColor:{objectName:"lineStyles",propertyName:"areaColor"},areaMatchStrokeColor:{objectName:"lineStyles",propertyName:"areaMatchStrokeColor"},strokeColor:{objectName:"dataPoint",propertyName:"fill"},strokeTransparency:{objectName:"lineStyles",propertyName:"strokeTransparency"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},strokePattern:{objectName:"lineStyles",propertyName:"lineStyle"},strokeDashArray:{objectName:"lineStyles",propertyName:"strokeDashArray"},strokeDashCap:{objectName:"lineStyles",propertyName:"strokeDashCap"},strokeAutoScale:{objectName:"lineStyles",propertyName:"strokeAutoScale"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showMarker:{objectName:"lineStyles",propertyName:"showMarker"},markerShape:{objectName:"lineStyles",propertyName:"markerShape"},markerSize:{objectName:"lineStyles",propertyName:"markerSize"},markerColor:{objectName:"lineStyles",propertyName:"markerColor"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},interpolation:{objectName:"lineStyles",propertyName:"lineChartType"},interpolationStep:{objectName:"lineStyles",propertyName:"interpolationStep"},interpolationSmooth:{objectName:"lineStyles",propertyName:"interpolationSmooth"},interpolationSmoothParam:{objectName:"lineStyles",propertyName:"interpolationSmoothParam"}}};function E(P,M){if(c.fF.assertValue(P,"mapping"),P.categorical){var T=P.categorical;if(!T)return;T.dataReductionAlgorithm=void 0,T.categories.dataReductionAlgorithm={window:{count:200}},T.values.group.dataReductionAlgorithm={top:{count:60}}}else M&&(0,V.qO)(P)&&(P.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},681454:function(ze,K,r){r.d(K,{R:function(){return c}});var c={Rows:r(664723).x.rows,Category:"Category",Series:"Series",Y:"Y",Y2:"Y2",Tooltips:"Tooltips"}},551493:function(ze,K,r){r.d(K,{NC:function(){return e},aX:function(){return v},jM:function(){return o}});var t=r(145315),c=r(734287),i=r(884983),s=r(746824),p=r(771803),V=r(51033),m=r(778549),v={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function e(u){return{dataRoles:h(u&&u.cartesianConditionalFormatting,u&&u.useModernFormatPane),objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:m.iD.formatString}},legend:m.TQ.legend,dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{defaultColor:m.iD.defaultColor,showAllDataPoints:m.iD.showAllDataPoints,fill:m.iD.defaultCategoryColor,fillRule:{displayName:(0,c.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:v.gradient,output:{property:"fill",selector:[v.category,v.x,v.y]}}},transparency:m.iD.transparency}},categoryLabels:{displayName:(0,c.V)("Visual_CategoryLabels"),description:(0,c.V)("Visual_CategoryLabelsDescription"),properties:{show:m.iD.show,color:m.iD.categoryColor,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily,enableBackground:m.iD.labelEnableBackground,backgroundColor:m.iD.labelBackgroundColor,backgroundTransparency:m.iD.labelBackgroundTransparency}},bubbles:{displayName:(0,c.V)("Visual_Bubbles"),description:(0,c.V)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,c.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,c.V)("Visual_MarkerRangeType"),type:{enumeration:V.v6}}}},mapControls:{displayName:(0,c.V)("Visual_MapControls"),description:(0,c.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,c.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,c.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,c.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,c.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,c.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,c.V)("Visual_MapGeocodingCulture"),type:{enumeration:p.dt}}}},mapStyles:{displayName:(0,c.V)("Visual_MapStyles"),description:(0,c.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,c.V)("Visual_MapTheme"),type:{enumeration:i.dt}},showLabels:{displayName:(0,c.V)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,c.V)("Visual_HeatMap"),properties:{show:m.iD.show,filterRadius:{displayName:(0,c.V)("Visual_Radius"),type:{numeric:!0}},transparency:m.iD.transparency,unit:{displayName:(0,c.V)("Visual_Forecast_Parameter_Units"),type:{enumeration:s.dt}},color0:{displayName:(0,c.V)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,c.V)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,c.V)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,min:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:v.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:v.series,select:[{bind:{to:v.x}},{bind:{to:v.y}},{bind:{to:v.size}},{bind:{to:v.gradient}},{for:{in:v.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:t.DW.Grouping},Y:{max:1,kind:t.DW.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:t.DW.Grouping},Y:{max:1,kind:t.DW.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:v.x}},{bind:{to:v.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:v.series,select:[{bind:{to:v.size}},{bind:{to:v.gradient}},{for:{in:v.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:v.series}},{composite:[{for:{in:v.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:t.DW.Grouping},Y:{max:1,kind:t.DW.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:v.series}},{composite:[{bind:{to:v.x}},{bind:{to:v.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:v.tooltips}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:v.size,direction:2}]}},drilldown:{roles:[v.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:v.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[v.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}function h(u,a){var l=[{name:v.category,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Location"),description:(0,c.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:v.series,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:v.y,kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Latitude"),description:(0,c.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:v.x,kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Longitude"),description:(0,c.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:v.size,kind:t.DW.Measure,displayName:(0,c.V)(a?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,c.V)(a?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return u||l.push({name:v.gradient,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Gradient"),description:(0,c.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),l.push({name:v.tooltips,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}),l}var o={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},826613:function(ze,K,r){r.d(K,{N6:function(){return s},Wj:function(){return c},eT:function(){return i}});var t=r(437705);function c(p){var V=p.dataViewMappings[0];if(V.categorical){var m=V.categorical.categories,v=void 0;if(m.select&&(v=V.categorical.values,_.isEmpty(v.group.select[0].bind.to.items))){m.dataReductionAlgorithm=void 0,v.group.dataReductionAlgorithm=void 0;var h={},n=_.find(m.select,function(a){return"X"===a.bind.to.role}),o=_.find(m.select,function(a){return"Y"===a.bind.to.role});h.x=n?{role:n.bind.to}:void 0,h.y=o?{role:o.bind.to}:void 0,V.categorical.dataReductionAlgorithm={overlappingPointsSample:h}}(!v||_.isEmpty(v.group.by.items))&&V.metadata&&V.metadata.objects&&V.metadata.objects.heatMap&&V.metadata.objects.heatMap.show&&(V.categorical.dataVolume=5)}}function i(p,V){if(p&&V)for(var m=0,v=V;m<v.length;m++){var e=v[m];if(e.categorical&&e.categorical.categories&&e.categorical.categories.select&&!p.Size&&p.Series)return!0}}function s(p){return(0,t.T6)(p,1)}},174665:function(ze,K,r){r.d(K,{d:function(){return p},r:function(){return s}});var t=r(145315),c=r(734287),i=r(778549),s={rows:"Rows",columns:"Columns",values:"Values"},p={dataRoles:[{name:s.rows,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Rows"),description:(0,c.V)("Role_DisplayName_RowsDescription")},{name:s.columns,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Columns"),description:(0,c.V)("Role_DisplayName_ColumnsDescription")},{name:s.values,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:i.iD.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,c.V)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,c.V)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,c.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,c.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,c.V)("Visual_Grid"),properties:{outlineColor:i.iD.outlineColor,outlineWeight:i.iD.outlineWeight,gridVertical:{displayName:(0,c.V)("Visual_GridVertical"),description:(0,c.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,c.V)("Visual_GridVertical_Color"),description:(0,c.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,c.V)("Visual_GridVertical_Weight"),description:(0,c.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,c.V)("Visual_GridHorizontal"),description:(0,c.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,c.V)("Visual_GridHorizontal_Color"),description:(0,c.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,c.V)("Visual_GridHorizontal_Weight"),description:(0,c.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,c.V)("Visual_RowPadding"),description:(0,c.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,c.V)("Visual_Tablix_ImageHeight"),description:(0,c.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,c.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:i.iD.outline,fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor}},rowHeaders:{displayName:(0,c.V)("Visual_Tablix_RowHeaders"),properties:{outline:i.iD.outline,fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor,wordWrap:i.iD.wordWrap}},values:{displayName:(0,c.V)("Visual_Tablix_Values"),properties:{outline:i.iD.outline,backColor:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,c.V)("Visual_FontColor"),description:(0,c.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,c.V)("Visual_Tablix_FontColorSecondary"),description:(0,c.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,c.V)("Visual_Tablix_BackColorSecondary"),description:(0,c.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,c.V)("Visual_Tablix_TotalSub"),properties:{outline:i.iD.outline,fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor}},total:{displayName:(0,c.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:i.iD.outline,fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor,applyToHeaders:{displayName:(0,c.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor,styleHeader:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[s.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[s.columns],displayName:(0,c.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,c.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,c.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[s.rows],displayName:(0,c.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,c.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,c.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},790960:function(ze,K,r){r.d(K,{Mb:function(){return V},Pt:function(){return v},_i:function(){return m}});var t=r(106266),c=r(145315),i=r(734287),s=r(778549),p={general:{properties:{formatString:s.iD.formatString}},dataLabels:{displayName:(0,i.V)("Visual_DataPointsLabels"),description:(0,i.V)("Visual_DataPointsLabelsDescription"),properties:{color:s.iD.dataColor,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}},categoryLabels:{displayName:(0,i.V)("Visual_CategoryLabels"),description:(0,i.V)("Visual_CategoryLabelsDescription"),properties:{show:s.iD.show,color:s.iD.categoryColor,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}},cardTitle:{displayName:(0,i.V)("Visual_CardTitle"),description:(0,i.V)("Visual_CardTitleDescription"),properties:{color:s.iD.dataColor,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}},card:{displayName:(0,i.V)("Card_ToolTip"),properties:{outline:s.iD.outline,outlineStyle:s.iD.outlineStyle,outlineColor:{displayName:(0,i.V)("Visual_OutlineColor"),description:(0,i.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,i.V)("Visual_OutlineWeight"),description:(0,i.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},barShow:{displayName:(0,i.V)("Visual_MultiRowCard_BarShow"),description:(0,i.V)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,i.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,i.V)("Visual_MultiRowCard_BarWeight"),description:(0,i.V)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,i.V)("Visual_Padding"),description:(0,i.V)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,i.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},V=(0,t.wZ)(p),m={dataRoles:[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,i.V)("Role_DisplayName_Fields"),description:(0,i.V)("Role_DisplayName_FieldsDescription")}],objects:p,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!1,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},v={card:{outline:{objectName:"card",propertyName:"outline"},outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},437705:function(ze,K,r){r.d(K,{DS:function(){return v},T6:function(){return h},YW:function(){return l},gY:function(){return o},hK:function(){return p},vx:function(){return e}});var t=r(487496),c=r(664723),i=r(424420),s=r(889093);function p(d){return(0,s.uS)(d)&&d.for?m(d.for.in,3):(0,s.Ci)(d)&&d.bind?m(d.bind.to,3):void 0}function V(d){return d&&d.scalarKeyInfo&&d.scalarKeyInfo.hasScalarKey||(0,t.Hx)(d&&d.type)?2:1}function m(d,b){var f=[];if(!d||d.role===c.x.tooltips||_.isEmpty(d.items))return f;for(var g=d.activeItems,S=0,y=d.items;S<y.length;S++){var C=y[S];if(!_.some(g)||_.includes(g,C.queryName)){var E=0;d.role===i.Pn.goal&&(E=6),f.push({selectName:C.queryName,kind:b,roleKind:E})}}return f}function v(d){var g,b=[],f=d.categorical.categories;(0,s.uS)(f)&&f.for&&f.for.in&&(g=V(_.first(f.for.in.items)),b.push.apply(b,m(f.for.in,g)));return b}function e(d){var b=[],f=d.categorical.values;if(f&&f.group){var g=f.group;if(b.push.apply(b,m(g.by,1)),g.select)for(var S=0,y=g.select;S<y.length;S++){var E=p(y[S]);_.isEmpty(E)||b.push.apply(b,E)}}if(f&&f.select)for(var D=0,P=f.select;D<P.length;D++)E=p(P[D]),_.isEmpty(E)||b.push.apply(b,E);return b}function h(d,b){var f=_.first(d.dataViewMappings);if(!f||!f.categorical||!f.categorical.categories)return{subjectKind:b,error:2,bindings:void 0};var g=v(f);return g.push.apply(g,e(f)),_.isEmpty(g)?{subjectKind:b,error:2,bindings:void 0}:{subjectKind:b,error:void 0,bindings:g}}function o(d,b){var f=function(d){for(var b=[],g=[],S=[],y=0,C=d.rows.select;y<C.length;y++){var E=C[y];if((0,s.Ci)(E)&&E.bind&&E.bind.to){var P=V(_.first(E.bind.to.items));S.push.apply(S,m(E.bind.to,P))}else if((0,s.k2)(E)&&E.composite&&E.composite)for(var M=0,T=E.composite;M<T.length;M++){var R=T[M];(0,s.uS)(R)&&R.for&&R.for.in&&(P=V(_.first(R.for.in.items)),g.push.apply(g,m(R.for.in,P)))}}b.push.apply(b,g),b.push.apply(b,S);var B=d.values;if(B&&B.select)for(var N=0,x=B.select;N<x.length;N++){var I=p(x[N]);_.isEmpty(I)||b.push.apply(b,I)}return b}(d);return _.isEmpty(f)?{subjectKind:b,error:2,bindings:void 0}:{subjectKind:b,error:void 0,bindings:f}}function u(d){for(var b=[],f=d.activeItems,g=0,S=d.items;g<S.length;g++){var y=S[g];if(!_.some(f)||_.includes(f,y.queryName)){var C=0;switch(d.role){case"MinValue":C=8;break;case"MaxValue":C=9;break;case"TargetValue":C=6}b.push({selectName:y.queryName,kind:3,roleKind:C})}}return b}function a(d,b){var f=[];if(!d||!b)return f;var g,S=0,y=0;switch(d.role){case"MinValue":b.min&&(g=b.min.toString(),S=4,y=8);break;case"MaxValue":b.max&&(g=b.max.toString(),S=4,y=9);break;case"TargetValue":b.target&&(g=b.target.toString(),S=4,y=6)}return g&&f.push({selectName:g,kind:S,roleKind:y}),f}function l(d){var b=[];if(!d||!d.categorical||!d.categorical.values)return b;var f=d.categorical.values;if(!f||!f.select)return b;for(var g=0,S=f.select;g<S.length;g++){var y=S[g];if((0,s.Ci)(y)&&y.bind){var C=y.bind.to;C&&C.items?b.push.apply(b,u(C)):C&&void 0===C.items&&d.metadata&&d.metadata.objects&&d.metadata.objects.axis&&b.push.apply(b,a(C,d.metadata.objects.axis))}}return b}},451434:function(ze,K,r){r.d(K,{JT:function(){return y},LU:function(){return x},QP:function(){return I},RI:function(){return f},Uo:function(){return C},a5:function(){return g},h:function(){return D},hx:function(){return b},j0:function(){return w},mr:function(){return S},tP:function(){return E},tp:function(){return d}});var m,v,e,h,n,o,u,a,l,t=r(226514),c=r(734287),i=r(993517),s=r(778549),p=r(495944),V=r(244801),d={fill:V.OV.fill,outline:V.OV.outline,text:p.nm.text,shape:V.OV.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:V.OV.shadow,glow:V.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},b=(0,t.__assign)((0,t.__assign)({},d),{pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}}),f=(0,t.__assign)((0,t.__assign)({},d),{bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}}),g={fill:V.eM.fill,outline:V.eM.outline,text:p.Vz.text,shape:V.eM.shape,layout:"layout",shadow:V.eM.shadow,glow:V.eM.glow,rotation:"rotation"},S=(0,t.__assign)((0,t.__assign)({},g),{pages:"pages"}),y=(0,t.__assign)((0,t.__assign)({},g),{bookmarks:"bookmarks"}),C=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},V.Mn),p.WI),{orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"}),E=(0,t.__assign)((0,t.__assign)({},C),{showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"}),D=(0,t.__assign)((0,t.__assign)({},C),{bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"}),P=((m={show:s.iD.show})[V.Mn.fillColor]=s.iD.fill,m[V.Mn.fillTransparency]=s.iD.transparency,m),M=((v={show:s.iD.show})[p.WI.fontColor]=s.iD.fontColor,v[p.WI.fontSize]=s.iD.fontSize,v[p.WI.fontFamily]=s.iD.fontFamily,v[p.WI.underline]=s.iD.underline,v[p.WI.italic]=s.iD.italic,v[p.WI.bold]=s.iD.bold,v[p.WI.textVerticalAlignment]={displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},v[p.WI.textHorizontalAlignment]=s.iD.horizontalAlignment,v[p.WI.textLeftMargin]={displayName:(0,c.V)("Visual_Margin_Left"),type:{integer:!0}},v[p.WI.textRightMargin]={displayName:(0,c.V)("Visual_Margin_Right"),type:{integer:!0}},v[p.WI.textTopMargin]={displayName:(0,c.V)("Visual_Margin_Top"),type:{integer:!0}},v[p.WI.textBottomMargin]={displayName:(0,c.V)("Visual_Margin_Bottom"),type:{integer:!0}},v),T=((e={})[C.orientation]={displayName:(0,c.V)("Slicer_Orientation"),type:{enumeration:i.oh}},e[C.rowCount]={displayName:(0,c.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},e[C.columnCount]={displayName:(0,c.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},e[C.cellPadding]={displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},e),R=((h={})[C.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},h[C.shapeRotation]={displayName:(0,c.V)("Visual_ShapeRotation"),type:{integer:!0}},h[C.textRotation]={displayName:(0,c.V)("Visual_TextRotation"),type:{integer:!0}},h),B=((n={})[E.showHiddenPages]={displayName:(0,c.V)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},n[E.showTooltipPages]={displayName:(0,c.V)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},n[E.showByDefault]={displayName:(0,c.V)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},n[E.showPage]={displayName:(0,c.V)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0},n),N=((o={})[D.bookmarkGroup]={displayName:(0,c.V)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},o[D.allowDeselectionBookmark]={displayName:(0,c.V)("Visual_AllowDeselection"),description:(0,c.V)("Visual_AllowDeselection_Description"),type:{bool:!0}},o[D.deselectionBookmark]={displayName:(0,c.V)("Visual_LaunchOnDeselection"),description:(0,c.V)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},o[D.hideDeselectedBookmark]={displayName:(0,c.V)("Visual_HideDeselectionBookmark"),description:(0,c.V)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},o[D.selectedBookmark]={type:{text:!0}},o),x={default:"default",hover:"hover",press:"press",selected:"selected"},A=((u={})[g.fill]={displayName:(0,c.V)("Visual_Fill"),properties:P},u[g.outline]=V.zC.outline,u[g.text]={displayName:(0,c.V)("Text"),properties:M},u[g.shape]=V.zC.shape,u[g.layout]={displayName:(0,c.V)("Small_Multiples_Layout"),properties:T},u[g.shadow]=V.zC.shadow,u[g.glow]=V.zC.glow,u[g.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),properties:R},u),I={objects:(0,t.__assign)((0,t.__assign)({},A),(a={},a[S.pages]={displayName:(0,c.V)("Pages"),properties:B},a)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},w={objects:(0,t.__assign)((0,t.__assign)({},A),(l={},l[y.bookmarks]={displayName:(0,c.V)("ExplorationBookmarksPane_Title"),properties:N},l)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},674430:function(ze,K,r){r.d(K,{R:function(){return u},t:function(){return a}});var t=r(106266),c=r(145315),i=r(734287),p=(0,r(149362).i)([{value:"Top",displayName:function(d){return d.get("Top")}},{value:"Bottom",displayName:function(d){return d.get("Bottom")}},{value:"TopAndBottom",displayName:function(d){return d.get("Top_And_Bottom")}}]),V=r(939942),m=r(707903),v=r(518284),e=r(635528),h=r(834436),n=r(778549),o=r(174665);function u(l){return{dataRoles:[{name:o.r.rows,kind:c.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Rows"),description:(0,i.V)("Role_DisplayName_RowsDescription")},{name:o.r.columns,kind:c.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Columns"),description:(0,i.V)("Role_DisplayName_ColumnsDescription")},{name:o.r.values,kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:n.iD.formatString,layout:{displayName:(0,i.V)("Layout"),type:{enumeration:V.e}}}},grid:{displayName:(0,i.V)("Visual_Grid"),properties:{outline:n.iD.outline,outlineStyle:n.iD.outlineStyle,outlineColor:n.iD.outlineColor,outlineWeight:n.iD.outlineWeight,gridVertical:{displayName:(0,i.V)("Visual_GridVertical"),description:(0,i.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.V)("Visual_GridVertical_Color"),description:(0,i.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.V)("Visual_GridVertical_Weight"),description:(0,i.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.V)("Visual_GridHorizontal"),description:(0,i.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.V)("Visual_GridHorizontal_Color"),description:(0,i.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.V)("Visual_GridHorizontal_Weight"),description:(0,i.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.V)("Visual_RowPadding"),description:(0,i.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,i.V)("Visual_General_Properties_Height"),description:(0,i.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,i.V)("Visual_General_Properties_Width"),description:(0,i.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:n.iD.outline,outlineStyle:n.iD.outlineStyle,outlineColor:n.iD.outlineColor,outlineWeight:n.iD.outlineWeight,fontColor:n.iD.tablixFontColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,backColor:n.iD.backColor,alignment:n.iD.textAlignment,titleAlignment:{displayName:(0,i.V)("Visual_TextAlignment_Title"),type:{enumeration:h.K}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,i.V)("Visual_Tablix_UrlIcon"),description:(0,i.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:n.iD.wordWrap}},rowHeaders:{displayName:(0,i.V)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},outline:n.iD.outline,outlineStyle:n.iD.outlineStyle,outlineColor:n.iD.outlineColor,outlineWeight:n.iD.outlineWeight,fontColor:n.iD.tablixFontColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,backColor:n.iD.backColor,alignment:n.iD.textAlignment,stepped:{displayName:(0,i.V)("Visual_PivotTable_SteppedLayout"),description:(0,i.V)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,i.V)(null!=l&&l.matrixLayouts?"Visual_PivotTable_Indentation":"Visual_PivotTable_SteppedLayoutIndentation"),description:(0,i.V)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,i.V)("Visual_Tablix_UrlIcon"),description:(0,i.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:n.iD.wordWrap,showExpandCollapseButtons:{displayName:(0,i.V)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,i.V)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,i.V)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}},repeatRowHeaders:{displayName:(0,i.V)("Visual_RepeatRowHeaders"),type:{bool:!0}}}},values:{displayName:(0,i.V)("Visual_Tablix_Values"),properties:{outline:n.iD.outline,outlineStyle:n.iD.outlineStyle,outlineColor:n.iD.outlineColor,outlineWeight:n.iD.outlineWeight,backColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,fontColorPrimary:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.V)("Visual_Tablix_FontColorSecondary"),description:(0,i.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.V)("Visual_Tablix_BackColorSecondary"),description:(0,i.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,i.V)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,i.V)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,i.V)("Visual_Tablix_UrlIcon"),description:(0,i.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:n.iD.wordWrap,valuesOnRow:{displayName:(0,i.V)("Visual_PivotTable_ValuesOnRow"),description:(0,i.V)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,i.V)("Visual_Tablix_Icons"),description:(0,i.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,i.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,i.V)("Visual_Tablix_TotalSub"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,backColor:n.iD.backColor,rowSubtotals:{type:{bool:!0},displayName:(0,i.V)("Visual_SubtotalRow"),description:(0,i.V)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,i.V)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,i.V)("Visual_SubtotalRow_Position"),type:{enumeration:m.dt},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,i.V)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,i.V)("Visual_SubtotalColumn"),description:(0,i.V)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,i.V)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,i.V)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,i.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,i.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,backColor:n.iD.backColor,applyToHeaders:{displayName:(0,i.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,i.V)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{fontColor:n.iD.tablixFontColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,backColor:n.iD.backColor,applyToHeaders:{displayName:(0,i.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,i.V)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{fontColor:n.iD.tablixFontColor,fontFamily:n.iD.fontFamily,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,backColor:n.iD.backColor,applyToHeaders:{displayName:(0,i.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,i.V)("Visual_DisplayUnits"),description:(0,i.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:n.iD.labelPrecision,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor,alignment:n.iD.textAlignment,styleHeader:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,i.V)("Visual_ConditionalFormatting_DataBars"),description:(0,i.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:{displayName:(0,i.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,i.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:v.O}},dataColor:{displayName:(0,i.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:n.iD.strokeWidth,markers:{displayName:(0,i.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:e.dt}},markerColor:n.iD.markerColor,markerSize:{displayName:(0,i.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:n.iD.markerShape}},accessibility:{displayName:(0,i.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,i.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}},blankRows:{displayName:(0,i.V)("Visual_Blank_Rows"),properties:{showBlankRows:n.iD.show,blankRowColor:n.iD.fillColor,blankRowTransparency:{displayName:(0,i.V)("Transparency"),type:{numeric:!0}},showBorder:n.iD.show,borderPosition:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:p}},borderColor:n.iD.fillColor,borderTransparency:{displayName:(0,i.V)("Transparency"),type:{numeric:!0}},borderWidth:{displayName:(0,i.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},annotations:{properties:{highlights:{type:{annotationType:{color:!0}},transient:!0}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[o.r.columns],displayName:(0,i.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,i.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,i.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[o.r.rows],displayName:(0,i.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,i.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,i.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[o.r.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[o.r.rows,o.r.columns]},expandCollapse:{roles:[o.r.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==l||!l.fieldParameterDynamicSlicer)},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,visualAnnotations:{annotationProperties:[{objectName:"annotations",propertyName:"highlights"}]}}}var a=(0,t.wZ)(u().objects)},889093:function(ze,K,r){r.d(K,{Bx:function(){return h},Ci:function(){return p},_F:function(){return n},k2:function(){return m},pn:function(){return o},uS:function(){return V},vR:function(){return v}});var t=r(474505),c=r(698129),i=r(633888),s=r(518284);function p(u){return u&&!!u.bind}function V(u){return u&&!!u.for}function m(u){return u&&!!u}function v(u,a){var l=u.metadata.objects;if(!l||!l.valueAxis||!1!==l.valueAxis.sharedAxis||!0!==l.valueAxis.scaleToFit){var d=u.matrix,b=e(d.values.select,a),f=d.rows.values;_.isEmpty(f)||b.push.apply(b,e(f.select,a)),h(b,{min:!0,max:!0})}}function e(u,a){return u.filter(function(l){if(!V(l))return!1;var d=l.for.in.role;return _.some(a,function(b){return b===d})})}function h(u,a){for(var l=0,d=u;l<d.length;l++){var g=(0,t.eD)(d[l]).items;if(!_.isEmpty(g))for(var S=0,y=g;S<y.length;S++){var C=y[S];C.hidden||(C.aggregates=C.aggregates||[]).push(a)}}}function n(u){var a=u.matrix.rows.select[0].dataReductionAlgorithm;if(a.window){var l=u.metadata&&u.metadata.objects,d=l&&l[i.Xi];d&&(a.window.count=(0,i.r8)(d.rowCount||i.UE,d.columnCount||i.ZO))}}function o(u,a){var l=_.filter(u.metadata.columns,function(d){var b,f,g,S=null===(g=null===(f=null===(b=d.type)||void 0===b?void 0:b.misc)||void 0===f?void 0:f.sparkline)||void 0===g?void 0:g.groupingType;if(!S)return!1;var y=S.temporal||S.dateTime||S.numeric,C=(0,c.NA)(d.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return y&&C===s.U.column});_.forEach(l,function(d){var b=_.find(a,function(f){return d.queryName===f.queryName});b&&(b.sparklineInfo={includeMinGroupingInterval:!0})})}},886883:function(ze,K,r){r.d(K,{Fp:function(){return p},OF:function(){return V}});var t=r(106266),c=r(734287),i=r(778549),s={inputBox:{displayName:(0,c.V)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,c.V)("Visual_Qna_QuestionFontColor"),description:(0,c.V)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,c.V)("Visual_Qna_QuestionFontSize"),description:(0,c.V)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:i.iD.bold,questionItalic:i.iD.italic,questionUnderline:i.iD.underline,questionFontFamily:{displayName:(0,c.V)("Visual_Qna_QuestionFontFamily"),description:(0,c.V)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,c.V)("Visual_Qna_HoverColor"),description:(0,c.V)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,c.V)("Visual_Qna_AcceptedUnderlineColor"),description:(0,c.V)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,c.V)("Visual_Qna_ErrorUnderlineColor"),description:(0,c.V)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,c.V)("Visual_Qna_WarningUnderlineColor"),description:(0,c.V)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,c.V)("Visual_Qna_RestatementFontColor"),description:(0,c.V)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,c.V)("Visual_Qna_RestatementFontSize"),description:(0,c.V)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,c.V)("Visual_Qna_RestatementFontFamily"),description:(0,c.V)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,c.V)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,c.V)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,c.V)("Suggestions"),properties:{show:i.iD.show,headerFontColor:{displayName:(0,c.V)("Visual_Qna_HeaderFontColor"),description:(0,c.V)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,c.V)("Visual_Qna_HeaderFontSize"),description:(0,c.V)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:i.iD.bold,headerItalic:i.iD.italic,headerUnderline:i.iD.underline,headerFontFamily:{displayName:(0,c.V)("Visual_Qna_HeaderFontFamily"),description:(0,c.V)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,c.V)("Visual_Qna_CardBackgroundColor"),description:(0,c.V)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,c.V)("Visual_Qna_CardFontColor"),description:(0,c.V)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,c.V)("Visual_Qna_CardFontSize"),description:(0,c.V)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:i.iD.bold,cardItalic:i.iD.italic,cardUnderline:i.iD.underline,cardFontFamily:{displayName:(0,c.V)("Visual_Qna_CardFontFamily"),description:(0,c.V)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},p=(0,t.wZ)(s),V={objects:s,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},944854:function(ze,K,r){r.d(K,{Cg:function(){return m},eH:function(){return v}});var t=r(145315),c=r(734287),i=r(149362),s=r(778549),p=r(106266),V=(0,i.i)([{value:0,displayName:(0,c.V)("Top")},{value:1,displayName:(0,c.V)("Bottom")}]),m={advancedEditModeSupport:2,objects:{toolbar:{displayName:(0,c.V)("RdlVisual_Capabilities_Toolbar"),properties:{show:s.iD.show,pageNavigation:{displayName:(0,c.V)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,c.V)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,c.V)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,c.V)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,c.V)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:V}}}},export:{displayName:(0,c.V)("Export"),properties:{show:s.iD.show,exportExcel:{displayName:(0,c.V)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,c.V)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,c.V)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,c.V)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,c.V)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,c.V)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,c.V)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,c.V)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,c.V)("RdlVisual_Capabilities_AutoFilter"),properties:{show:s.iD.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Parameters"),description:(0,c.V)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}],suppressVisualCalc:!0},v=(0,p.wZ)(m.objects)},36629:function(ze,K,r){r.d(K,{CS:function(){return u},TL:function(){return v},il:function(){return a},r4:function(){return e}});var t=r(226514),c=r(787941),i=r(106266),s=r(145315),p=r(734287),V=r(51033),m=r(778549),v={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",play:"Play",tooltips:"Tooltips"};function e(l){return{dataRoles:h(l&&l.cartesianConditionalFormatting,l&&l.useModernFormatPane),objects:o,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:s.DW.Measure},Y:{max:1,kind:s.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:s.DW.Measure},Y:{max:1,kind:s.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:s.DW.Measure},Y:{max:1,kind:s.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},n(!0,!0,!1),n(!0,!1,!0),n(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:s.DW.Measure},Y:{max:1,kind:s.DW.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:s.DW.Measure},Y:{max:1,kind:s.DW.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[v.category,v.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function h(l,d){var b=[{name:v.category,kind:s.DW.Grouping,displayName:(0,p.V)(d?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,p.V)("Role_DisplayName_DetailsScatterChartDescription")},{name:v.series,kind:s.DW.Grouping,displayName:(0,p.V)("Role_DisplayName_Legend"),displayOrder:d?4:2,description:(0,p.V)("Role_DisplayName_LegendDescription")},{name:v.x,kind:s.DW.GroupingOrMeasure,displayName:(0,p.V)("Role_DisplayName_X"),displayOrder:d?2:3,description:(0,p.V)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:v.y,kind:s.DW.GroupingOrMeasure,displayName:(0,p.V)("Role_DisplayName_Y"),displayOrder:d?3:4,description:(0,p.V)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:v.size,kind:s.DW.Measure,displayName:(0,p.V)("Role_DisplayName_Size"),displayOrder:5,description:(0,p.V)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return l||b.push({name:v.gradient,kind:s.DW.Measure,displayName:(0,p.V)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,p.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),b.push({name:v.play,kind:s.DW.Grouping,displayName:(0,p.V)("Role_DisplayName_Play"),displayOrder:7}),b.push({name:v.tooltips,kind:s.DW.Measure,displayName:(0,p.V)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,p.V)("Role_Tooltips_Description"),joinPredicate:0}),b}function n(l,d,b){c.fF.assert(function(){return l||d},"At least one of groupedX or groupedY must be true");var f={min:1,max:1,kind:s.DW.Grouping};b&&(f={min:1,kind:s.DW.Grouping});var S={max:1,kind:s.DW.Measure},y=l?f:S,C=d?{min:1,max:1,kind:s.DW.Grouping}:S,E={bind:{to:"X"}},P={bind:{to:"Y"}},M=[],T=[];l?M.push(b?{for:{in:"X"}}:E):T.push(E),d?M.push(P):T.push(P);var R,B=M.length;return B>=2||1===B&&l&&b?R={composite:M}:1===B&&(R=M[0]),{conditions:[{Category:{max:0},Series:{max:1},X:y,Y:C,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:y,Y:C,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},R],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:(0,t.__spreadArray)((0,t.__spreadArray)([],T||[],!0),[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],!1)},dataVolume:4}}}var o={general:{displayName:(0,p.V)("Visual_General"),properties:{formatString:m.iD.formatString,responsive:m.iD.responsive,responsiveLegacy:m.iD.responsiveLegacy,dataVolume:{displayName:(0,p.V)("Visual_DataVolume"),description:(0,p.V)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:m.TQ.legend.displayName,description:m.TQ.legend.description,properties:(0,t.__assign)((0,t.__assign)({},m.TQ.legend.properties),{showGradientLegend:m.iD.showGradientLegend})},categoryAxis:{displayName:(0,p.V)("Visual_XAxis"),properties:{show:m.iD.show,start:m.iD.axisStart,end:m.iD.axisEnd,invertAxis:m.iD.invertAxis,axisType:m.iD.axisType,showAxisTitle:m.iD.showAxisTitle_X,axisStyle:m.iD.axisStyle,labelColor:m.iD.labelColor,fontFamily:m.iD.fontFamily,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,labelDisplayUnits:m.iD.labelDisplayUnits,labelPrecision:m.iD.labelPrecision,logAxisScale:m.iD.logAxisScale,preferredCategoryWidth:m.iD.preferredCategoryWidth,maxMarginFactor:m.iD.maxMarginFactor,treatNullsAsZero:{displayName:(0,p.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,p.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},titleColor:m.iD.titleColor,titleFontFamily:m.iD.fontFamily,titleFontSize:m.iD.titleFontSize,titleBold:m.iD.bold,titleItalic:m.iD.italic,titleUnderline:m.iD.underline,titleText:m.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},m.iD.show),{displayName:(0,p.V)("Visual_Gridline_Show")}),gridlineColor:m.iD.lineColor,gridlineThickness:m.iD.strokeWidth,gridlineStyle:m.iD.lineStyle,innerPadding:m.iD.innerPadding}},valueAxis:{displayName:(0,p.V)("Visual_YAxis"),properties:{show:m.iD.show,start:m.iD.axisStart,end:m.iD.axisEnd,invertAxis:m.iD.invertAxis,treatNullsAsZero:{displayName:(0,p.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,p.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},showAxisTitle:m.iD.showAxisTitle_Y,axisStyle:m.iD.axisStyle,labelColor:m.iD.labelColor,fontFamily:m.iD.fontFamily,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,labelDisplayUnits:m.iD.labelDisplayUnits,labelPrecision:m.iD.labelPrecision,logAxisScale:m.iD.logAxisScale,titleColor:m.iD.titleColor,titleFontFamily:m.iD.fontFamily,titleFontSize:m.iD.titleFontSize,titleBold:m.iD.bold,titleItalic:m.iD.italic,titleUnderline:m.iD.underline,titleText:m.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},m.iD.show),{displayName:(0,p.V)("Visual_Gridline_Show")}),gridlineColor:m.iD.lineColor,gridlineThickness:m.iD.strokeWidth,gridlineStyle:m.iD.lineStyle,switchAxisPosition:m.iD.switchAxisPosition}},zoom:m.TQ.zoom,dataPoint:{displayName:(0,p.V)("Visual_DataPoint"),description:(0,p.V)("Visual_DataPointDescription"),properties:{defaultColor:m.iD.defaultColor,showAllDataPoints:m.iD.showAllDataPoints,fill:m.iD.defaultCategoryColor,fillRule:{displayName:(0,p.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},bubbles:{displayName:(0,p.V)("Visual_Shapes"),description:(0,p.V)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,p.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,p.V)("Visual_MarkerRangeType"),type:{enumeration:V.v6}},markerShape:m.iD.markerShape,showSeries:{displayName:(0,p.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:(0,p.V)("Visual_Plot"),properties:{transparency:m.iD.transparency,image:m.iD.image}},categoryLabels:{displayName:(0,p.V)("Visual_CategoryLabels"),description:(0,p.V)("Visual_CategoryLabelsDescription"),properties:{show:m.iD.show,color:m.iD.categoryColor,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily,enableBackground:m.iD.labelEnableBackground,backgroundColor:m.iD.labelBackgroundColor,backgroundTransparency:m.iD.labelBackgroundTransparency}},trend:{displayName:(0,p.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:m.iD.show,displayName:m.iD.trendlineDisplayName,lineColor:m.iD.trendlineColor,transparency:m.iD.trendlineTransparency,style:m.iD.trendlineStyle,combineSeries:m.iD.trendlineCombineSeries}},xAxisReferenceLine:{displayName:(0,p.V)("Visual_Reference_Line_X"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:m.iD.show,displayName:m.iD.referenceLineDisplayName,value:m.iD.referenceLineValue,lineColor:m.iD.referenceLineColor,transparency:m.iD.referenceLineTransparency,style:m.iD.lineStyle,position:m.iD.referenceLinePosition,dataLabelShow:m.iD.dataLabelShow,dataLabelColor:m.iD.dataLabelColor,dataLabelText:m.iD.dataLabelText,dataLabelDecimalPoints:m.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:m.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:m.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:m.iD.dataLabelDisplayUnits}},y1AxisReferenceLine:{displayName:(0,p.V)("Visual_Reference_Line_Y"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:m.iD.show,displayName:m.iD.referenceLineDisplayName,value:m.iD.referenceLineValue,lineColor:m.iD.referenceLineColor,transparency:m.iD.referenceLineTransparency,style:m.iD.lineStyle,position:m.iD.referenceLinePosition,dataLabelShow:m.iD.dataLabelShow,dataLabelColor:m.iD.dataLabelColor,dataLabelText:m.iD.dataLabelText,dataLabelDecimalPoints:m.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:m.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:m.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:m.iD.dataLabelDisplayUnits}},referenceLine:{displayName:(0,p.V)("Visual_Reference_Line"),description:(0,p.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:m.iD.show,displayName:m.iD.referenceLineDisplayName,value:m.iD.referenceLineValue,lineColor:m.iD.referenceLineColor,transparency:m.iD.referenceLineTransparency,style:m.iD.lineStyle,position:m.iD.referenceLinePosition,dataLabelShow:m.iD.dataLabelShow,dataLabelColor:m.iD.dataLabelColor,dataLabelText:m.iD.dataLabelText,dataLabelDecimalPoints:m.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:m.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:m.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:m.iD.dataLabelDisplayUnits}},colorBorder:{displayName:(0,p.V)("Visual_ColorBorder"),properties:{show:m.iD.show}},fillPoint:{displayName:(0,p.V)("Visual_FillPoint"),properties:{style:m.iD.fillPointStyle}},colorByCategory:{displayName:(0,p.V)("Visual_ColorByCategory"),properties:{show:m.iD.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,p.V)("Visual_Scatter_SymmetryShading"),description:(0,p.V)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:m.iD.show,displayName:{displayName:(0,p.V)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,p.V)("Visual_Scatter_SymmetryShadingUpper"),description:(0,p.V)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,p.V)("Visual_Scatter_SymmetryShadingLower"),description:(0,p.V)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:m.iD.transparency}},ratioLine:{displayName:(0,p.V)("Visual_Scatter_RatioLine"),description:(0,p.V)("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{show:m.iD.show,displayName:{displayName:(0,p.V)("Name"),type:{text:!0}},lineColor:m.iD.referenceLineColor,transparency:m.iD.lineTransparency,style:m.iD.lineStyle}}},u=(0,i.wZ)(o),a={general:{formatString:{objectName:"general",propertyName:"formatString"},dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"},markerShape:{objectName:"bubbles",propertyName:"markerShape"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:{show:{objectName:"ratioLine",propertyName:"show"},lineColor:{objectName:"ratioLine",propertyName:"lineColor"},transparency:{objectName:"ratioLine",propertyName:"transparency"},style:{objectName:"ratioLine",propertyName:"style"}},categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},465829:function(ze,K,r){r.d(K,{A:function(){return V},b:function(){return p}});var t=r(106266),c=r(734287),i=r(149362),s=r(778549),p={dataViewMappings:[],objects:{scorecard:{displayName:(0,c.V)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,c.V)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,c.V)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,c.V)("ExplorationBookmarks_Display"),type:{enumeration:(0,i.i)([{displayName:(0,c.V)("Tile_Generic"),value:"tile"},{displayName:(0,c.V)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:s.iD.backColor,foregroundColor:s.iD.fontColor,fontFamily:s.iD.fontFamily,tableBackgroundColor:s.iD.backColor,showCommandBar:{type:{bool:!0},displayName:(0,c.V)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,c.V)("ThemeDialog_SubSection_Header"),properties:{show:s.iD.show,showTitle:{type:{bool:!0},displayName:(0,c.V)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,c.V)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,c.V)("Cards")},foregroundColor:s.iD.fontColor,backgroundColor:s.iD.backColor}},columnHeaders:{displayName:(0,c.V)("Visual_Tablix_ColumnHeaders"),properties:{show:s.iD.show,foregroundColor:s.iD.fontColor}},goals:{displayName:(0,c.V)("MetricsName_New"),properties:{foregroundColor:s.iD.fontColor,backgroundColor:s.iD.backColor}},detailsPane:{displayName:(0,c.V)("DetailsPane"),properties:{foregroundColor:s.iD.fontColor,backgroundColor:s.iD.backColor,cardForegroundColor:{displayName:(0,c.V)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,c.V)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,c.V)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,c.V)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,c.V)("Visualization"),properties:{backgroundColor:s.iD.backColor,backgroundTransparency:s.iD.transparency,showScorecardName:{displayName:(0,c.V)("ScorecardDialog_Name"),description:(0,c.V)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:s.iD.fontFamily,scorecardNameFontSize:s.iD.titleFontSize,scorecardNameFontColor:s.iD.fontColor,scorecardNameBold:s.iD.bold,scorecardNameItalic:s.iD.italic,scorecardNameUnderline:s.iD.underline,currentValueFontFamily:s.iD.fontFamily,currentValueFontSize:s.iD.titleFontSize,currentValueFontColor:s.iD.fontColor,currentValueBold:s.iD.bold,currentValueItalic:s.iD.italic,currentValueUnderline:s.iD.underline,targetValueFontFamily:s.iD.fontFamily,targetValueFontSize:s.iD.titleFontSize,targetValueFontColor:s.iD.fontColor,targetValueBold:s.iD.bold,targetValueItalic:s.iD.italic,targetValueUnderline:s.iD.underline,showGrowth:{displayName:(0,c.V)("ScorecardVisual_Growth"),description:(0,c.V)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:s.iD.fontFamily,growthFontSize:s.iD.titleFontSize,growthFontColor:s.iD.fontColor,growthBold:s.iD.bold,growthItalic:s.iD.italic,growthUnderline:s.iD.underline,showGoalName:{displayName:(0,c.V)("MetricName"),description:(0,c.V)("MetricName"),type:{bool:!0}},goalNameFontFamily:s.iD.fontFamily,goalNameFontSize:s.iD.titleFontSize,goalNameFontColor:s.iD.fontColor,goalNameBold:s.iD.bold,goalNameItalic:s.iD.italic,goalNameUnderline:s.iD.underline,showOwner:{displayName:(0,c.V)("Owner_Lowercase"),description:(0,c.V)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,c.V)("Role_DisplayName_Size"),description:(0,c.V)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,c.V)("Due"),description:(0,c.V)("Due"),type:{bool:!0}},dueDateFontFamily:s.iD.fontFamily,dueDateFontSize:s.iD.titleFontSize,dueDateFontColor:s.iD.fontColor,dueDateBold:s.iD.bold,dueDateItalic:s.iD.italic,dueDateUnderline:s.iD.underline,showStatus:{displayName:(0,c.V)("Status"),description:(0,c.V)("Status"),type:{bool:!0}},showNotes:{displayName:(0,c.V)("Notes"),description:(0,c.V)("Notes"),type:{bool:!0}},notesFontSize:s.iD.titleFontSize,notesFontColor:s.iD.fontColor,showVisualization:{displayName:(0,c.V)("Visualization"),description:(0,c.V)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,c.V)("Visual_Legend"),description:(0,c.V)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,c.V)("ScorecardVisual_TargetLine"),description:(0,c.V)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:s.iD.fontColor,currentLineColor:s.iD.fontColor,currentAreaShaded:{displayName:(0,c.V)("Visual_Shapes_ShadeArea"),description:(0,c.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,c.V)("Visual_XAxis_Hyphen"),description:(0,c.V)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:s.iD.fontFamily,xAxisFontSize:s.iD.titleFontSize,xAxisFontColor:s.iD.fontColor,xAxisBold:s.iD.bold,xAxisItalic:s.iD.italic,xAxisUnderline:s.iD.underline,showYAxis:{displayName:(0,c.V)("Visual_YAxis_Hyphen"),description:(0,c.V)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:s.iD.fontFamily,yAxisFontSize:s.iD.titleFontSize,yAxisFontColor:s.iD.fontColor,yAxisBold:s.iD.bold,yAxisItalic:s.iD.italic,yAxisUnderline:s.iD.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},V=(0,t.wZ)(p.objects)},943069:function(ze,K,r){r.d(K,{B3:function(){return a},Ic:function(){return g},MI:function(){return u},W$:function(){return o},W6:function(){return l},WO:function(){return S}});var v,e,h,n,t=r(226514),c=r(106266),i=r(734287),s=r(681280),p=r(778549),V=r(495944),m=r(244801),o={fill:m.OV.fill,outline:m.OV.outline,text:V.nm.text,shape:(0,t.__assign)((0,t.__assign)({},m.OV.shape),{linecapType:{objectName:"shape",propertyName:"linecapType"}}),shadow:m.OV.shadow,glow:m.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},u=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},m.eM),V.Vz),{rotation:"rotation"}),a=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},m.Mn),V.WI),{linecapType:"linecapType",rotation:"angle"}),l={default:"default"},d=((v={show:p.iD.show})[m.Mn.fillColor]=p.iD.fill,v[m.Mn.fillTransparency]=p.iD.transparency,v),b=((e={})[a.rotation]={displayName:(0,i.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},e[a.shapeRotation]={displayName:(0,i.V)("Visual_ShapeRotation"),type:{integer:!0}},e[a.textRotation]={displayName:(0,i.V)("Visual_TextRotation"),type:{integer:!0}},e),f=((h={})[u.fill]={displayName:(0,i.V)("Visual_Fill"),properties:d},h[u.outline]=m.zC.outline,h[u.text]=V.p.text,h[u.shape]={displayName:(0,i.V)("Visual_Shape"),properties:(0,t.__assign)((0,t.__assign)({},m.zC.shape.properties),(n={},n[a.linecapType]={displayName:(0,i.V)("LinecapType"),type:{enumeration:s.i}},n))},h[u.shadow]=m.zC.shadow,h[u.glow]=m.zC.glow,h[u.rotation]={displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:b},h),g={objects:f,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img",disableFormatMode:!0},S=(0,c.wZ)(f)},292638:function(ze,K,r){r.d(K,{L:function(){return h},x:function(){return v}});var t=r(106266),c=r(145315),i=r(734287),s=r(636490),p=r(665226),V=r(778549),m={general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:V.iD.formatString}},legend:V.TQ.legend,dataPoint:{displayName:(0,i.V)("Visual_DataPoint"),description:(0,i.V)("Visual_DataPointDescription"),properties:{defaultColor:V.iD.defaultColor,showAllDataPoints:V.iD.showAllDataPoints,fill:V.iD.defaultCategoryColor,fillRule:{displayName:(0,i.V)("Role_DisplayName_Values"),description:(0,i.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:p.S3,output:{property:"fill",selector:[p.W3]}}}}},shape:{displayName:(0,i.V)("Visual_Shape"),description:(0,i.V)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:s.t_}}},projectionEnum:{displayName:(0,i.V)("Visual_ShapeMap_Projection"),description:(0,i.V)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:p.dt}}}},defaultColors:{displayName:(0,i.V)("Visual_ShapeMap_DefaultColor"),description:(0,i.V)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,i.V)("Visual_ShapeMap_DefaultShow"),description:(0,i.V)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,i.V)("Visual_ShapeMap_DefaultColorColor"),description:(0,i.V)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:{displayName:(0,i.V)("Visual_ShapeMap_BorderColor"),description:(0,i.V)("Visual_ShapeMap_BorderColor_Desc"),type:{fill:{solid:{color:!0}}}},borderThickness:{displayName:(0,i.V)("Visual_ShapeMap_BorderThickness"),description:(0,i.V)("Visual_ShapeMap_BorderThickness_Desc"),type:{numeric:!0}}}},zoom:{displayName:(0,i.V)("Visual_ShapeMap_Zoom"),description:(0,i.V)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,i.V)("Visual_ShapeMap_AutoZoom"),description:(0,i.V)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,i.V)("Visual_ShapeMap_SelectionZoom"),description:(0,i.V)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,i.V)("Visual_ShapeMap_ManualZoom"),description:(0,i.V)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function v(){var n;return{dataRoles:[{name:p.W3,kind:c.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Location"),description:(0,i.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:p.ac,kind:c.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Legend"),description:(0,i.V)("Role_DisplayName_LegendDescription")},{name:p.S3,kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Gradient"),description:(0,i.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:p.jH,kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:m,dataViewMappings:[{conditions:[(n={},n[p.W3]={min:0,max:1},n[p.ac]={min:0,max:1},n[p.S3]={min:0,max:1},n)],categorical:{categories:{for:{in:p.W3},dataReductionAlgorithm:{top:{}}},values:{group:{by:p.ac,select:[{bind:{to:p.S3}},{for:{in:p.jH}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:p.S3,direction:2}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}var h=(0,t.wZ)(m)},761565:function(ze,K,r){r.d(K,{CT:function(){return n},gO:function(){return u},st:function(){return a}});var t=r(106266),c=r(145315),i=r(734287),s=r(928643),p=r(725377),V=r(505328),m=r(395739),v=r(759510),e=r(391980),h=r(778549),n={value:"Values"},o={general:{displayName:(0,i.V)("Visual_General"),properties:{responsive:h.iD.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:h.iD.formatString,outlineColor:h.iD.outlineColor,outlineWeight:h.iD.outlineWeight,orientation:{displayName:(0,i.V)("Slicer_Orientation"),type:{enumeration:e.d}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:V.dt},filterState:!0},relativePeriod:{type:{enumeration:p.GA},filterState:!0},relativeTimePeriod:{type:{enumeration:p._k},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,i.V)("Style"),type:{enumeration:v.dt},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,i.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,i.V)("Visual_SelectAll"),description:(0,i.V)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,i.V)("Visual_MultiSelectWithCtrl"),description:(0,i.V)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,i.V)("Visual_StrictSingleSelect"),description:(0,i.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,i.V)("Slicer_Header"),properties:{show:h.iD.show,fontColor:h.iD.fontColor,text:{displayName:(0,i.V)("Visual_Title_Text"),description:(0,i.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},background:{displayName:(0,i.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}},bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,showRestatement:{displayName:(0,i.V)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,i.V)("PendingIcon"),properties:{show:h.iD.show,color:h.iD.color,transparency:h.iD.transparency,position:{displayName:(0,i.V)("Visual_LegendPosition"),type:{enumeration:s.dt}},size:{displayName:(0,i.V)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,i.V)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,i.V)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,i.V)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,i.V)("SearchBox"),properties:{outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,borderColor:h.iD.outlineColor,background:{displayName:(0,i.V)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,i.V)("Items"),properties:{fontColor:h.iD.fontColor,background:{displayName:(0,i.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}},bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,expandCollapseToggleType:{displayName:(0,i.V)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:m.d}},steppedLayoutIndentation:{displayName:(0,i.V)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,i.V)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,i.V)("Slicer_DateInputs"),properties:{fontColor:h.iD.fontColor,textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}},bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,background:{displayName:(0,i.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,i.V)("Slicer_NumericInputs"),properties:{fontColor:h.iD.fontColor,textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}},bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,background:{displayName:(0,i.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}},slider:{displayName:(0,i.V)("Slicer_Slider"),properties:{show:h.iD.show,color:{displayName:(0,i.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},handleFillColor:{displayName:(0,i.V)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,i.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:{displayName:(0,i.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}}}},dateRange:{displayName:(0,i.V)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,i.V)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,i.V)("RelativeSlicer_AnchorDate"),description:(0,i.V)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},u=(0,t.wZ)(o);function a(f){return{dataRoles:[{name:n.value,kind:c.DW.Grouping,displayName:(0,i.V)("Field"),description:(0,i.V)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:o,drilldown:{roles:[n.value],suppresDrillOperations:!0},dataViewMappings:b(),expandCollapse:d(f),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function d(f){return{roles:[n.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==f||!f.fieldParameterDynamicSlicer)}}function b(){var f,g,S=[{conditions:[(f={},f[n.value]={max:1,suppressDrill:!0},f)],categorical:{categories:{for:{in:n.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return S.unshift({conditions:[(g={},g[n.value]={min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0},g)],matrix:{rows:{for:{in:n.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),S}},225474:function(ze,K,r){r.d(K,{D_:function(){return R},Ni:function(){return T},PM:function(){return u},Wj:function(){return E},ot:function(){return o},pQ:function(){return D},vu:function(){return N}});var t=r(787941),c=r(289135),i=r(698129),s=r(668268),p=r(463446),V=r(211763),m=r(725377),v=r(505328),e=r(759510),h=r(761565);function o(x){var A=x.dataViewMappings[0],I=B(A);if(!_.isEmpty(I)){var w=P(A.metadata.objects);if(null===(w=R(I,w))||(0,e.l6)(w)||(0,e.G5)(w))return null}return[h.CT.value]}function u(x){var A=function(x){var A=P(x.objects),I=P(x.changes);return(A===e.RB&&I===e.j6||A===e.j6&&I===e.RB)&&A!==I&&A?{merge:!0,mode:A}:{merge:!1,mode:I||A}}(x),I=x.changes&&x.changes[h.gO.general.filter.objectName],w=I&&I[h.gO.general.filter.propertyName];if(null!=w){var F=C(x,A.mode);return(0,e.l6)(A.mode)?(function(x,A,I){if(t.fF.assertValue(x,"filter should be defined"),(0,e.l6)(A)){var w=(0,p.pi)(x);if(!w||!w.options)return void t.fF.assertValue(w&&w.options,"filterParams and filterParams.options must be defined.");var F=h.gO.data.numericStart.objectName;t.fF.assert(function(){return h.gO.data.numericStart.objectName===h.gO.data.numericEnd.objectName},"numericStart & numericEnd must have same object name"),t.fF.assert(function(){return h.gO.data.numericStart.objectName===h.gO.data.startDate.objectName},"numericStart & startDate must have same object name"),t.fF.assert(function(){return h.gO.data.numericStart.objectName===h.gO.data.endDate.objectName},"numericStart & endDate must have same object name");var O={};_.isNumber(w.options.min)||_.isNumber(w.options.max)?(O[h.gO.data.numericStart.propertyName]=w.options.min,A!==e.Zr&&(O[h.gO.data.numericEnd.propertyName]=w.options.max),g(I,F,O)):(_.isDate(w.options.min)||_.isDate(w.options.max))&&(t.fF.assert(function(){return void 0===w.options.min||(0,c.M4)(w.options.min)},"Implementing DateWithEpochValue is needed for serialization"),t.fF.assert(function(){return void 0===w.options.max||(0,c.M4)(w.options.max)},"Implementing DateWithEpochValue is needed for serialization"),O[h.gO.data.startDate.propertyName]=w.options.min,O[h.gO.data.endDate.propertyName]=w.options.max,g(I,F,O))}}(w,A.mode,F),F):A.mode===e.K8?(l(w,A.mode,F,h.gO.data.relativePeriod.propertyName),F):(A.mode===e.GV&&l(w,A.mode,F,h.gO.data.relativeTimePeriod.propertyName),F)}return A.merge?C(x,A.mode):null}function l(x,A,I,w){if(t.fF.assertValue(x,"filter should be defined"),(0,e.G5)(A)){var F=(0,e.nW)(A),O=(0,V.pi)(x,F);if(!O||!O.options)return void t.fF.assertValue(O&&O.options,"filterParams and filterParams.options must be defined.");var L=h.gO.data.relativeRange.objectName;t.fF.assert(function(){return h.gO.data.relativeRange.objectName===h.gO.data.relativeDuration.objectName},"relativeRange & relativeDuration must have same object name"),t.fF.assert(function(){return h.gO.data.relativeRange.objectName===h.gO.data.relativePeriod.objectName},"relativeRange & relativePeriod must have same object name");var W=(0,v.BB)(O.options.relativeQualifier),U=(0,m.BB)(O.options.relativeUnit),j=O.options.duration;(null==W||null==j||null==U)&&b(I,L),(null!=W||null!=j||null!=U)&&d(I,L);var z={};z[h.gO.data.relativeRange.propertyName]=W,z[h.gO.data.relativeDuration.propertyName]=W===v.Vk?0:O.options.duration,z[w]=U,g(I,L,z),function(x,A){var I=h.gO.dateRange.includeToday.objectName;t.fF.assert(function(){return h.gO.dateRange.includeToday.objectName===h.gO.dateRange.anchorDate.objectName},"anchorDate is not in the same object as includeToday");var w={};A.includeTodayFromDefault||(w[h.gO.dateRange.includeToday.propertyName]=A.includeToday),w[h.gO.dateRange.anchorDate.propertyName]=A.anchorDate,g(x,I,w)}(I,O.options)}}function d(x,A){x.merge=x.merge||[];var I=S(x.merge,A);return x.merge[I]}function b(x,A){x.remove=x.remove||[];var I=S(x.remove,A);return x.remove[I]}function g(x,A,I){var w=null,F=null;for(var O in _.some(I,function(L){return null==L})&&(w=b(x,A)),_.some(I,function(L){return null!=L})&&(F=d(x,A)),I)null==I[O]?(t.fF.assertValue(w,"remove must be defined here."),w.properties[O]=!0):(t.fF.assertValue(F,"merge must be defined here."),F.properties[O]=I[O])}function S(x,A){t.fF.assertValue(x,"visualObjects");var I=x.map(function(w){return w.objectName}).indexOf(A);return I<0&&(x.push({objectName:A,selector:null,properties:{}}),I=x.length-1),I}function C(x,A){var I=[];for(var w in x.changes){var F={};for(var O in x.changes[w])F[O]=x.changes[w][O];null!=A&&w===h.gO.data.mode.objectName&&(F[h.gO.data.mode.propertyName]=A),I.push({objectName:w,selector:null,properties:F})}return{merge:I}}function E(x){if(!_.isEmpty(x.dataViewMappings)){var A=x.dataViewMappings[0];if(A&&A.metadata){var I=B(A)||[];if(A.matrix&&A.matrix.rows){var w=A.matrix.rows.for.in.items;if(!_.isEmpty(w))for(var F=function(te){if(!_.find(I,function(H){return H.queryName===te.queryName}))return"continue";te.subtotalType=1},O=0,L=w;O<L.length;O++)F(L[O])}var U=P(A.metadata.objects);if(!_.isEmpty(I)){if((U=R(I,U))===e.Zr){var j=A.categorical&&A.categorical.categories;return void(j&&(j.dataReductionAlgorithm={sample:{}}))}if((0,e.Lw)(U)&&A.categorical&&A.categorical.categories){var z=A.categorical.categories.for.in.items;A.categorical.categories=null,A.categorical.values={bind:{to:{role:h.CT.value,aggregates:{min:!0,max:!0},items:z}}}}}(0,e.G5)(U)&&(A.updateType=2),U===e.j6&&function(x){if(x){var A=!1;if(A=(0,i.NA)(x,h.gO.selection.strictSingleSelect,A)){var I=null,w=!1;return I=(0,i.NA)(x,h.gO.general.filter,I),w=(0,i.NA)(x,h.gO.data.isInvertedSelectionMode,w),null!=I&&!w}}return!0}(A.metadata.objects)&&(A.updateType=1)}}}function D(x){var I=x.objects,w=P(I),O=B(x.dataViewMappings[0]);if(!_.isEmpty(O)){w=R(O,w,!0);var L=I&&I[h.gO.data.mode.objectName];L||(L={});var W={};for(var U in L)W[U]=L[U];return W[h.gO.data.mode.propertyName]=w,{replace:[{objectName:h.gO.data.mode.objectName,selector:null,properties:W}]}}}function P(x){var A=null;return x&&(A=(0,i.NA)(x,h.gO.data.mode,A)),A}function T(x){return x&&(0,s.NA)(x,h.gO.data.mode,void 0)}function R(x,A,I){if(void 0===I&&(I=!1),t.fF.assertNonEmpty(x,"pluginMethods.getValidateSlicerMode - columns"),x.length>1)return A===e.j6?e.j6:e.RB;var w=x[0];if(!w.type)return A;if(w.parameter&&0===w.parameter.kind)A=null===A||(0,e.G5)(A)?e.Zr:A;else{if(w.parameter&&1===w.parameter.kind)return null==A?e.RB:A;!0===w.type.dateTime?A=null===A||A===e.Zr?e.vX:A:w.type.numeric?null===A?A=I?e.vX:e.RB:((0,e.G5)(A)||A===e.Zr)&&(A=e.vX):A!==e.RB&&A!==e.j6&&(A=e.RB)}return A}function B(x){return x.metadata?x.metadata.columns:null}function N(x){if(x.filterForFieldParameter)return!1;var w=x.dataViewMappings[0];if(!w||!w.metadata)return!1;var F=P(w.metadata.objects),O=B(w);return _.isEmpty(O)||(F=R(O,F)),(0,e.l6)(F)}},173761:function(ze,K,r){r.d(K,{Y:function(){return p}});var t=r(145315),c=r(734287),i=r(778549);function s(V){return[{name:"Values",kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)(V&&V.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function p(V){return{dataRoles:s(V),objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:i.iD.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,c.V)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,c.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,c.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,c.V)("Visual_Grid"),properties:{outlineColor:i.iD.outlineColor,outlineWeight:i.iD.outlineWeight,gridVertical:{displayName:(0,c.V)("Visual_GridVertical"),description:(0,c.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,c.V)("Visual_GridVertical_Color"),description:(0,c.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,c.V)("Visual_GridVertical_Weight"),description:(0,c.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,c.V)("Visual_GridHorizontal"),description:(0,c.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,c.V)("Visual_GridHorizontal_Color"),description:(0,c.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,c.V)("Visual_GridHorizontal_Weight"),description:(0,c.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,c.V)("Visual_RowPadding"),description:(0,c.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,c.V)("Visual_Tablix_ImageHeight"),description:(0,c.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,c.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:i.iD.outline,fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor,wordWrap:i.iD.wordWrap}},values:{displayName:(0,c.V)("Visual_Tablix_Values"),properties:{outline:i.iD.outline,backColor:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,c.V)("Visual_FontColor"),description:(0,c.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,c.V)("Visual_Tablix_FontColorSecondary"),description:(0,c.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,c.V)("Visual_Tablix_BackColorSecondary"),description:(0,c.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,c.V)("Visual_Tablix_UrlIcon"),description:(0,c.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,c.V)("Visual_Total"),properties:{outline:i.iD.outline,fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor}},columnFormatting:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:i.iD.tablixFontColor,backColor:i.iD.backColor,styleHeader:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},55397:function(ze,K,r){r.d(K,{Z:function(){return e},k:function(){return v}});var t=r(106266),c=r(145315),i=r(734287),s=r(518284),p=r(635528),V=r(778549);function m(h){return[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,i.V)(h&&h.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function v(h){return{dataRoles:m(h),objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:V.iD.formatString}},grid:{displayName:(0,i.V)("Visual_Grid"),properties:{outline:V.iD.outline,outlineStyle:V.iD.outlineStyle,outlineColor:V.iD.outlineColor,outlineWeight:V.iD.outlineWeight,gridVertical:{displayName:(0,i.V)("Visual_GridVertical"),description:(0,i.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.V)("Visual_GridVertical_Color"),description:(0,i.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.V)("Visual_GridVertical_Weight"),description:(0,i.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.V)("Visual_GridHorizontal"),description:(0,i.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.V)("Visual_GridHorizontal_Color"),description:(0,i.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.V)("Visual_GridHorizontal_Weight"),description:(0,i.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.V)("Visual_RowPadding"),description:(0,i.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,i.V)("Visual_General_Properties_Height"),description:(0,i.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,i.V)("Visual_General_Properties_Width"),description:(0,i.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:V.iD.outline,outlineStyle:V.iD.outlineStyle,outlineColor:V.iD.outlineColor,outlineWeight:V.iD.outlineWeight,fontColor:V.iD.tablixFontColor,fontFamily:V.iD.fontFamily,fontSize:V.iD.fontSize,bold:V.iD.bold,italic:V.iD.italic,underline:V.iD.underline,backColor:V.iD.backColor,alignment:V.iD.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:V.iD.wordWrap}},values:{displayName:(0,i.V)("Visual_Tablix_Values"),properties:{outline:V.iD.outline,outlineStyle:V.iD.outlineStyle,outlineColor:V.iD.outlineColor,outlineWeight:V.iD.outlineWeight,backColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:V.iD.fontFamily,fontSize:V.iD.fontSize,bold:V.iD.bold,italic:V.iD.italic,underline:V.iD.underline,fontColorPrimary:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.V)("Visual_Tablix_FontColorSecondary"),description:(0,i.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.V)("Visual_Tablix_BackColorSecondary"),description:(0,i.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,i.V)("Visual_Tablix_UrlIcon"),description:(0,i.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:V.iD.wordWrap,icon:{displayName:(0,i.V)("Visual_Tablix_Icons"),description:(0,i.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,i.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,i.V)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,i.V)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,i.V)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},outline:V.iD.outline,outlineStyle:V.iD.outlineStyle,outlineColor:V.iD.outlineColor,outlineWeight:V.iD.outlineWeight,fontColor:V.iD.tablixFontColor,fontFamily:V.iD.fontFamily,fontSize:V.iD.fontSize,bold:V.iD.bold,italic:V.iD.italic,underline:V.iD.underline,backColor:V.iD.backColor}},columnFormatting:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,i.V)("Visual_DisplayUnits"),description:(0,i.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:V.iD.labelPrecision,fontColor:V.iD.tablixFontColor,backColor:V.iD.backColor,alignment:V.iD.textAlignment,styleHeader:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,i.V)("Visual_ConditionalFormatting_DataBars"),description:(0,i.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:{displayName:(0,i.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,i.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:s.O}},dataColor:{displayName:(0,i.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:V.iD.strokeWidth,markers:{displayName:(0,i.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:p.dt}},markerColor:V.iD.markerColor,markerSize:{displayName:(0,i.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:V.iD.markerShape}},accessibility:{displayName:(0,i.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,i.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,i.V)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var e=(0,t.wZ)(v().objects)},36623:function(ze,K,r){r.d(K,{RL:function(){return V},d$:function(){return e},dd:function(){return m},mj:function(){return v}});var i,s,p,t=r(734287),c=r(778549),V={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},m={objects:{general:{displayName:(0,t.V)("Visual_General"),properties:(i={},i[V.general.paragraphs.propertyName]={type:{paragraphs:{}},suppressFormatPainterCopy:!0},i)},text:{displayName:(0,t.V)("Text"),properties:(s={},s[V.text.fontSize.propertyName]={displayName:(0,t.V)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},s[V.text.fontFamily.propertyName]={displayName:(0,t.V)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},s[V.text.color.propertyName]={displayName:(0,t.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},s)},values:{properties:(p={},p[V.values.expr.propertyName]={formatStringProperty:V.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},p[V.values.formatString.propertyName]=c.iD.formatString,p)}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},v="\n",e="__Newline__"},495944:function(ze,K,r){r.d(K,{Vz:function(){return e},WI:function(){return h},nm:function(){return v},p:function(){return u}});var p,V,m,t=r(734287),c=r(436582),i=r(928643),s=r(778549),v={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},e={text:"text",icon:"icon"},h={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},n=((p={show:s.iD.show})[h.fontColor]=s.iD.fontColor,p[h.fontSize]=s.iD.fontSize,p[h.fontFamily]=s.iD.fontFamily,p[h.underline]=s.iD.underline,p[h.italic]=s.iD.italic,p[h.bold]=s.iD.bold,p[h.text]={displayName:(0,t.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},p[h.textVerticalAlignment]={displayName:(0,t.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},p[h.textHorizontalAlignment]=s.iD.horizontalAlignment,p[h.textLeftMargin]={displayName:(0,t.V)("Visual_Margin_Left"),type:{integer:!0}},p[h.textRightMargin]={displayName:(0,t.V)("Visual_Margin_Right"),type:{integer:!0}},p[h.textTopMargin]={displayName:(0,t.V)("Visual_Margin_Top"),type:{integer:!0}},p[h.textBottomMargin]={displayName:(0,t.V)("Visual_Margin_Bottom"),type:{integer:!0}},p),o=((V={show:s.iD.show,shapeType:{displayName:(0,t.V)("Icon"),type:{enumeration:c.i}}})[h.iconImage]=s.iD.image,V[h.iconColor]={displayName:(0,t.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},V[h.iconTransparency]=s.iD.lineTransparency,V[h.iconWeight]={displayName:(0,t.V)("Visual_BasicShape_Weight"),type:{integer:!0}},V[h.iconPlacement]={displayName:(0,t.V)("Visual_IconPlacement"),type:{enumeration:i.dt}},V[h.iconVerticalAlignment]={displayName:(0,t.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},V[h.iconHorizontalAlignment]=s.iD.horizontalAlignment,V[h.iconLeftMargin]={displayName:(0,t.V)("Visual_Margin_Left"),type:{integer:!0}},V[h.iconRightMargin]={displayName:(0,t.V)("Visual_Margin_Right"),type:{integer:!0}},V[h.iconTopMargin]={displayName:(0,t.V)("Visual_Margin_Top"),type:{integer:!0}},V[h.iconBottomMargin]={displayName:(0,t.V)("Visual_Margin_Bottom"),type:{integer:!0}},V[h.iconSize]={displayName:(0,t.V)("Visual_IconSize"),placeHolderText:(0,t.V)("Visual_Auto"),type:{numeric:!0}},V),u=((m={})[e.text]={displayName:(0,t.V)("Text"),properties:n},m[e.icon]={displayName:(0,t.V)("Icon"),properties:o},m)},244801:function(ze,K,r){r.d(K,{Mn:function(){return L},OV:function(){return I},eM:function(){return O},zC:function(){return Ae}});var d,b,f,g,S,y,C,E,D,P,M,T,R,B,N,x,A,t=r(226514),c=r(734287),i=r(149362),s=r(997431),p=r(457158),V=r(210770),m=r(246509),v=r(42437),e=r(993517),h=r(846841),n=r(580968),o=r(879412),u=r(639907),a=r(778549),l=r(343168),I={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},maxTiles:{objectName:"layout",propertyName:"maxTiles"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"},style:{objectName:"layout",propertyName:"style"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"},horizontalAlignment:{objectName:"label",propertyName:"horizontalAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},w=(0,i.i)([{value:"custom",displayName:function(le){return le.get("Custom")}},{value:"top",displayName:function(le){return le.get("Top")}},{value:"topLeft",displayName:function(le){return le.get("Visual_LabelPosition_TopLeft")}},{value:"topRight",displayName:function(le){return le.get("Visual_LabelPosition_TopRight")}},{value:"center",displayName:function(le){return le.get("Visual_TextAlignment_Center")}},{value:"centerLeft",displayName:function(le){return le.get("Visual_TextAlignment_Left")}},{value:"centerRight",displayName:function(le){return le.get("Visual_TextAlignment_Right")}},{value:"bottom",displayName:function(le){return le.get("Bottom")}},{value:"bottomLeft",displayName:function(le){return le.get("Visual_LabelPosition_BottomLeft")}},{value:"bottomRight",displayName:function(le){return le.get("Visual_LabelPosition_BottomRight")}}]),F=(0,i.i)([{value:"Outer",displayName:function(le){return le.get("Visual_DonutLabelPosition_Outside")}},{value:"Inner",displayName:function(le){return le.get("Visual_DonutLabelPosition_Inside")}}]),O={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},L={accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",alignBaselines:"alignBaselines",alignment:"alignment",arrowStemWidth:"arrowStemWidth",arrowheadSize:"arrowheadSize",bold:"bold",bottomMargin:"bottomMargin",calloutSize:"calloutSize",cellPadding:"cellPadding",chevronAngle:"chevronAngle",columnCount:"columnCount",columnPadding:"columnPadding",customFormatString:"customFormatString",customizePadding:"customizePadding",fillColor:"fillColor",fillImage:"image",fillTransparency:"transparency",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",glowColor:"color",glowDistance:"glowDistance",glowPositionPreset:"glowPositionPreset",glowSpread:"glowSpread",glowTransparency:"transparency",heading:"heading",hexagonSlant:"hexagonSlant",horizontalAlignment:"horizontalAlignment",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",maxTiles:"maxTiles",octagonSnipSize:"octagonSnipSize",orientation:"orientation",outlineColor:"lineColor",outlineTransparency:"transparency",outlineWeight:"weight",OverFlowDirection:"overFlowDirection",OverFlowStyle:"overFlowStyle",paddingSelection:"paddingSelection",parallelogramSlant:"parallelogramSlant",position:"position",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rightMargin:"rightMargin",rowCount:"rowCount",rowPadding:"rowPadding",shadowAngle:"angle",shadowBlur:"shadowBlur",shadowColor:"color",shadowDistance:"shadowDistance",shadowPositionPreset:"shadowPositionPreset",shadowSpread:"shadowSpread",shadowTransparency:"transparency",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",show:"show",showBlankAs:"showBlankAs",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailAngle:"speechBubbleTailAngle",speechBubbleTailPosition:"speechBubbleTailPosition",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabRoundCornerBottom:"tabRoundCornerBottom",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerTopRight:"tabRoundCornerTopRight",text:"text",textWrap:"textWrap",tileShape:"tileShape",topMargin:"topMargin",transparency:"transparency",trapezoidSlant:"trapezoidSlant",underline:"underline",verticalSpacing:"verticalSpacing"},U=((d={show:a.iD.show})[L.fillColor]=a.iD.fill,d[L.fillTransparency]=a.iD.transparency,d[L.fillImage]=a.iD.image,d),j=((b={show:a.iD.show})[L.fillColor]=a.iD.fill,b[L.fillTransparency]=a.iD.transparency,b[L.fillImage]=a.iD.image,b[L.imageTransparency]=a.iD.transparency,b[L.imageSplitTransparency]={type:{bool:!0}},b),z=((f={show:a.iD.show})[L.outlineColor]=a.iD.outlineColor,f[L.outlineTransparency]=a.iD.lineTransparency,f[L.outlineWeight]=a.iD.outlineWeight,f),G=((g={})[L.tileShape]={displayName:(0,c.V)("Visual_Shape"),type:{enumeration:n.d}},g[L.shapeRounding]={displayName:(0,c.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},g[L.arrowheadSize]={displayName:(0,c.V)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},g[L.arrowStemWidth]={displayName:(0,c.V)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},g[L.chevronAngle]={displayName:(0,c.V)("Visual_Angle"),type:{integer:!0}},g[L.isocelesTriangleTipPosition]={displayName:(0,c.V)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},g[L.parallelogramSlant]={displayName:(0,c.V)("Visual_Shape_Slant"),type:{integer:!0}},g[L.trapezoidSlant]={displayName:(0,c.V)("Visual_Shape_Slant"),type:{integer:!0}},g[L.hexagonSlant]={displayName:(0,c.V)("Visual_Shape_Slant"),type:{integer:!0}},g[L.octagonSnipSize]={displayName:(0,c.V)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},g[L.speechBubbleHeight]={displayName:(0,c.V)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},g[L.speechBubbleTailPosition]={displayName:(0,c.V)("Visual_Shape_ChatTailPosition"),type:{enumeration:o.dt}},g[L.speechBubbleTailAngle]={displayName:(0,c.V)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},g[L.rectangleRoundedCurve]={displayName:(0,c.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},g[L.tabCutCornerSnipSizeTopRight]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},g[L.tabCutCornerSnipSizeTop]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},g[L.tabCutCornerSnipSizeBottom]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},g[L.tabRoundCornerTop]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},g[L.tabRoundCornerTopRight]={displayName:(0,c.V)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},g[L.tabRoundCornerTop]={displayName:(0,c.V)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},g[L.tabRoundCornerBottom]={displayName:(0,c.V)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}},g),te=((S={})[L.tileShape]={displayName:(0,c.V)("Visual_Shape"),type:{enumeration:n.d}},S[L.rectangleRoundedCurveCustomStyle]={displayName:(0,c.V)("Visual_CustomStyle"),type:{bool:!0}},S[L.rectangleRoundedCurveLeftTop]={displayName:(0,c.V)("Visual_CornerTopLeft"),type:{integer:!0}},S[L.rectangleRoundedCurveRightTop]={displayName:(0,c.V)("Visual_CornerTopRight"),type:{integer:!0}},S[L.rectangleRoundedCurveLeftBottom]={displayName:(0,c.V)("Visual_CornerBottomLeft"),type:{integer:!0}},S[L.rectangleRoundedCurveRightBottom]={displayName:(0,c.V)("Visual_CornerBottomRight"),type:{integer:!0}},S[L.rectangleRoundedCurve]={displayName:(0,c.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},S[L.tabCutCornerSnipSizeTop]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},S[L.tabCutCornerSnipSizeCustomStyle]={displayName:(0,c.V)("Visual_CustomStyle"),type:{bool:!0}},S[L.tabCutCornerSnipSizeLeftTop]={displayName:(0,c.V)("Visual_CornerTopLeft"),type:{integer:!0}},S[L.tabCutCornerSnipSizeRightTop]={displayName:(0,c.V)("Visual_CornerTopRight"),type:{integer:!0}},S[L.tabCutCornerSnipSizeLeftBottom]={displayName:(0,c.V)("Visual_CornerBottomLeft"),type:{integer:!0}},S[L.tabCutCornerSnipSizeRightBottom]={displayName:(0,c.V)("Visual_CornerBottomRight"),type:{integer:!0}},S[L.tabCutCornerSnipSizeBottom]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},S),Q=((y={show:a.iD.show})[L.shadowColor]=a.iD.fillColor,y[L.shadowTransparency]=a.iD.transparency,y[L.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},y[L.shadowPositionPreset]={displayName:(0,c.V)("Visual_DropShadow_Preset"),type:{enumeration:w}},y[L.shadowAngle]={displayName:(0,c.V)("Visual_Angle"),type:{numeric:!0}},y[L.shadowDistance]={displayName:(0,c.V)("Distance"),type:{numeric:!0}},y),H=((C={show:a.iD.show})[L.glowColor]=a.iD.fillColor,C[L.glowTransparency]=a.iD.transparency,C[L.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},C),de=((E={show:a.iD.show})[L.shadowColor]=a.iD.fillColor,E[L.shadowTransparency]=a.iD.transparency,E[L.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},E[L.shadowPositionPreset]={displayName:(0,c.V)("Visual_DropShadow_Preset"),type:{enumeration:w}},E[L.shadowAngle]={displayName:(0,c.V)("Visual_Angle"),type:{numeric:!0}},E[L.shadowDistance]={displayName:(0,c.V)("Distance"),type:{numeric:!0}},E[L.position]={displayName:(0,c.V)("Offset"),type:{enumeration:F}},E[L.shadowSpread]={displayName:(0,c.V)("Visual_BubbleSize"),type:{numeric:!0}},E),Y=((D={show:a.iD.show})[L.glowColor]=a.iD.fillColor,D[L.glowTransparency]=a.iD.transparency,D[L.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},D[L.glowPositionPreset]={displayName:(0,c.V)("Visual_DropShadow_Preset"),type:{enumeration:w}},D[L.shadowAngle]={displayName:(0,c.V)("Visual_Angle"),type:{numeric:!0}},D[L.glowDistance]={displayName:(0,c.V)("Distance"),type:{numeric:!0}},D[L.position]={displayName:(0,c.V)("Offset"),type:{enumeration:F}},D[L.glowSpread]={displayName:(0,c.V)("Visual_BubbleSize"),type:{numeric:!0}},D),se=((P={show:a.iD.show})[L.position]={displayName:(0,c.V)("Visual_Position"),type:{enumeration:V.CX}},P[L.accentBarColor]={displayName:(0,c.V)("Visual_Reference_Line_Color"),type:{fill:{solid:{color:!0}}}},P[L.accentBarTransparency]=a.iD.transparency,P[L.accentBarWidth]={displayName:(0,c.V)("Visual_General_Properties_Width"),type:{integer:!0}},P),ce=((M={})[L.alignment]={displayName:(0,c.V)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},M[L.orientation]={displayName:(0,c.V)("Visual_Arrangement"),type:{enumeration:e.SO}},M[L.rowCount]={displayName:(0,c.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},M[L.columnCount]={displayName:(0,c.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},M[L.maxTiles]={displayName:(0,c.V)("Visual_Arrangement_CardsShown"),type:{integer:!0}},M[L.cellPadding]={displayName:(0,c.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},M[L.customizePadding]={displayName:(0,c.V)("Visual_Spacing_Customize"),type:{bool:!0}},M[L.rowPadding]={displayName:(0,c.V)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},M[L.columnPadding]={displayName:(0,c.V)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},M[L.calloutSize]={displayName:(0,c.V)("Visual_CallOutSize"),type:{numeric:!0}},M.style={displayName:(0,c.V)("Style"),type:{enumeration:l.d}},M.backgroundFillColor=a.iD.fillColor,M.backgroundTransparency=a.iD.transparency,M.backgroundShow=a.iD.show,M.backgroundImage=a.iD.image,M.backgroundImageTransparency={displayName:(0,c.V)("Visual_Image_Transparency"),type:{numeric:!0}},M.rectangleRoundedCurveCustomStyle={displayName:(0,c.V)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},M.rectangleRoundedCurve={displayName:(0,c.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},M.rectangleRoundedCurveLeftTop={displayName:(0,c.V)("Visual_CornerTopLeft"),type:{integer:!0}},M.rectangleRoundedCurveRightTop={displayName:(0,c.V)("Visual_CornerTopRight"),type:{integer:!0}},M.rectangleRoundedCurveLeftBottom={displayName:(0,c.V)("Visual_CornerBottomLeft"),type:{integer:!0}},M.rectangleRoundedCurveRightBottom={displayName:(0,c.V)("Visual_CornerBottomRight"),type:{integer:!0}},M.customizeLines={displayName:(0,c.V)("Customize_Lines_String"),type:{bool:!0}},M.lineStyle=a.iD.lineStyle,M.lineTransparency=a.iD.lineTransparency,M.lineWidth=a.iD.width,M.lineColor=a.iD.fillColor,M.gridlineStyle=(0,t.__assign)((0,t.__assign)({},a.iD.lineStyle),{displayName:(0,c.V)("Visual_Gridline_Style")}),M.gridlineTransparency=(0,t.__assign)((0,t.__assign)({},a.iD.lineTransparency),{displayName:(0,c.V)("Visual_Gridline_Transparency")}),M.gridlineWidth=(0,t.__assign)((0,t.__assign)({},a.iD.width),{displayName:(0,c.V)("Visual_Gridline_Width")}),M.gridlineColor=a.iD.fillColor,M.borderStyle=(0,t.__assign)((0,t.__assign)({},a.iD.lineStyle),{displayName:(0,c.V)("Visual_Border_Style")}),M.borderTransparency=(0,t.__assign)((0,t.__assign)({},a.iD.lineTransparency),{displayName:(0,c.V)("Visual_Border_Transparency")}),M.borderWidth=(0,t.__assign)((0,t.__assign)({},a.iD.width),{displayName:(0,c.V)("Visual_DonutBorderWidth")}),M.borderColor=a.iD.fillColor,M),pe=((T={})[L.OverFlowStyle]={displayName:(0,c.V)("Visual_OverFlow_Style"),type:{enumeration:m.d}},T[L.OverFlowDirection]={displayName:(0,c.V)("Visual_OverFlow_Direction"),type:{enumeration:v.d}},T),ve=((R={})[L.paddingSelection]={displayName:(0,c.V)("Embed_Size"),type:{enumeration:h.dt}},R[L.leftMargin]={displayName:(0,c.V)("Visual_Margin_Left"),type:{integer:!0}},R[L.rightMargin]={displayName:(0,c.V)("Visual_Margin_Right"),type:{integer:!0}},R[L.topMargin]={displayName:(0,c.V)("Visual_Margin_Top"),type:{integer:!0}},R[L.bottomMargin]={displayName:(0,c.V)("Visual_Margin_Bottom"),type:{integer:!0}},R),De=((B={show:a.iD.show})[L.fontColor]=a.iD.fontColor,B[L.fontSize]=a.iD.fontSize,B[L.fontFamily]=a.iD.fontFamily,B[L.underline]=a.iD.underline,B[L.italic]=a.iD.italic,B[L.bold]=a.iD.bold,B[L.horizontalAlignment]=a.iD.horizontalAlignment,B[L.textWrap]=a.iD.textWrap,B[L.labelDisplayUnits]=(0,t.__assign)((0,t.__assign)({},a.iD.labelDisplayUnits),{type:{enumeration:p.d}}),B[L.labelPrecision]=a.iD.labelPrecision,B[L.customFormatString]={displayName:(0,c.V)("Visual_FormatCode"),description:(0,c.V)("Visual_FormatCode_Description"),type:{text:!0}},B[L.showBlankAs]=a.iD.showBlankAs,B[L.transparency]=a.iD.transparency,B),We=((N={show:a.iD.show})[L.text]={displayName:(0,c.V)("Text"),type:{text:!0}},N[L.heading]={displayName:(0,c.V)("Visual_AzureMapsHeading"),type:{enumeration:u.VX}},N[L.fontColor]=a.iD.fontColor,N[L.fontSize]=a.iD.fontSize,N[L.fontFamily]=a.iD.fontFamily,N[L.underline]=a.iD.underline,N[L.italic]=a.iD.italic,N[L.bold]=a.iD.bold,N[L.position]={displayName:(0,c.V)("Visual_Position"),type:{enumeration:s.d}},N[L.transparency]=a.iD.transparency,N[L.textWrap]=a.iD.textWrap,N[L.alignBaselines]={displayName:(0,c.V)("Visual_AlignBaselines"),type:{bool:!0}},N[L.matchValueAlignment]={displayName:(0,c.V)("Visual_Alignment_MatchValue"),type:{bool:!0}},N[L.horizontalAlignment]=a.iD.horizontalAlignment,N),je=((x={})[L.verticalSpacing]={displayName:(0,c.V)("Visual_Spacing_Vertical"),type:{integer:!0}},x),Ae=((A={})[O.fill]={displayName:(0,c.V)("Visual_Fill"),properties:U},A[O.fillCustom]={displayName:(0,c.V)("Visual_Fill"),properties:j},A[O.outline]={displayName:(0,c.V)("Visual_Outline"),properties:z},A[O.shape]={displayName:(0,c.V)("Visual_Shape"),properties:G},A[O.shadow]={displayName:(0,c.V)("Visual_Shape_Shadow"),properties:Q},A[O.glow]={displayName:(0,c.V)("Visual_Shape_Glow"),properties:H},A[O.shapeCustomRectangle]={displayName:(0,c.V)("Visual_Shape"),properties:te},A[O.shadowCustom]={displayName:(0,c.V)("Visual_Shape_Shadow"),properties:de},A[O.glowCustom]={displayName:(0,c.V)("Visual_Shape_Glow"),properties:Y},A[O.accentBar]={displayName:(0,c.V)("Visual_Outline_AccentBar"),properties:se},A[O.padding]={displayName:(0,c.V)("Visual_Padding"),properties:ve},A[O.value]={displayName:(0,c.V)("Role_DisplayName_Values"),properties:De},A[O.label]={displayName:(0,c.V)("Role_DisplayName_Label"),properties:We},A[O.layout]={displayName:(0,c.V)("Layout"),properties:ce},A[O.overFlow]={displayName:(0,c.V)("Visual_OverFlow"),properties:pe},A[O.spacing]={displayName:(0,c.V)("Visual_Spacing"),properties:je},A)},826335:function(ze,K,r){r.d(K,{A4:function(){return p},_H:function(){return e},cB:function(){return V}});var h,t=r(831917),c=r(145315),i=r(734287),s=r(778549),p={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function V(h){return{dataRoles:v(h&&h.cartesianConditionalFormatting,h&&h.useModernFormatPane),objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:s.iD.formatString}},legend:s.TQ.legend,dataPoint:{displayName:(0,i.V)("Visual_DataPoint"),description:(0,i.V)("Visual_DataPointDescription"),properties:{fill:s.iD.defaultCategoryColor,fillRule:{displayName:(0,i.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:(0,i.V)("Visual_DataPointsLabels"),description:(0,i.V)("Visual_DataPointsLabelsDescription"),properties:{show:s.iD.show,color:s.iD.dataColor,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}},categoryLabels:{displayName:(0,i.V)("Visual_CategoryLabels"),description:(0,i.V)("Visual_CategoryLabelsDescription"),properties:{show:s.iD.show,color:s.iD.categoryColor,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}function v(h,n){var o=[{name:"Group",kind:c.DW.Grouping,displayName:(0,i.V)(n?"Role_DisplayName_Category":"Group"),description:(0,i.V)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:c.DW.Grouping,displayName:(0,i.V)("Details")},{name:"Values",kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Values"),description:(0,i.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return h||o.push({name:"Gradient",kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Gradient"),description:(0,i.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),o.push({name:"Tooltips",kind:c.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description"),joinPredicate:0}),o}(h=(0,t.Z7)()).getTreemapCapabilities||(h.getTreemapCapabilities=function(){return V()});var e={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}}}},103819:function(ze,K,r){r.d(K,{GJ:function(){return h},IT:function(){return v},wW:function(){return e}});var t=r(226514),c=r(106266),i=r(145315),s=r(734287),p=r(5635),V=r(201849),m=r(778549),v={category:"Category",breakdown:"Breakdown",y:"Y",tooltips:"Tooltips"},e=(0,c.wZ)(h().objects);function h(n){return{dataRoles:[{name:v.category,kind:i.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Category"),description:(0,s.V)("Role_DisplayName_CategoryWaterfallDescription")},{name:v.breakdown,kind:i.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_BreakdownWaterfall"),description:(0,s.V)("Role_DisplayName_BreakdownWaterfallDescription")},{name:v.y,kind:i.DW.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,s.V)(null!=n&&n.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,s.V)("Role_DisplayName_ValuesDescription")},{name:v.tooltips,kind:i.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:m.iD.formatString,responsive:m.iD.responsive,responsiveLegacy:m.iD.responsiveLegacy}},legend:m.TQ.legend,categoryAxis:{displayName:(0,s.V)("Visual_XAxis"),properties:{show:m.iD.show,showAxisTitle:m.iD.showAxisTitle_X,axisStyle:m.iD.axisStyle,labelColor:m.iD.labelColor,fontFamily:m.iD.fontFamily,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,preferredCategoryWidth:m.iD.preferredCategoryWidth,maxMarginFactor:m.iD.maxMarginFactor,innerPadding:m.iD.innerPadding,titleColor:m.iD.titleColor,titleFontFamily:m.iD.fontFamily,titleFontSize:m.iD.titleFontSize,titleBold:m.iD.bold,titleItalic:m.iD.italic,titleUnderline:m.iD.underline,titleText:m.iD.titleText}},valueAxis:{displayName:(0,s.V)("Visual_YAxis"),properties:{show:m.iD.show,start:m.iD.axisStart,end:m.iD.axisEnd,invertAxis:m.iD.invertAxis,showAxisTitle:m.iD.showAxisTitle_Y,axisStyle:m.iD.axisStyle,labelColor:m.iD.labelColor,fontFamily:m.iD.fontFamily,fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,labelDisplayUnits:m.iD.labelDisplayUnits,labelPrecision:m.iD.labelPrecision,totalsEnabled:m.iD.totalsEnabled,titleColor:m.iD.titleColor,titleFontFamily:m.iD.fontFamily,titleFontSize:m.iD.titleFontSize,titleBold:m.iD.bold,titleItalic:m.iD.italic,titleUnderline:m.iD.underline,titleText:m.iD.titleText,gridlineShow:(0,t.__assign)((0,t.__assign)({},m.iD.show),{displayName:(0,s.V)("Visual_Gridline_Show")}),gridlineColor:m.iD.lineColor,gridlineThickness:m.iD.strokeWidth,gridlineStyle:m.iD.lineStyle,switchAxisPosition:m.iD.switchAxisPosition}},labels:{displayName:(0,s.V)("Visual_DataPointsLabels"),description:(0,s.V)("Visual_DataPointsLabelsDescription"),properties:{show:m.iD.show,color:m.iD.dataColor,labelDisplayUnits:m.iD.dataLabelDisplayUnits,labelPrecision:(0,t.__assign)((0,t.__assign)({},m.iD.labelPrecision),{suppressFormatPainterCopy:!0}),fontSize:m.iD.fontSize,bold:m.iD.bold,italic:m.iD.italic,underline:m.iD.underline,fontFamily:m.iD.fontFamily,labelOrientation:{displayName:(0,s.V)("Visual_LabelOrientation"),type:{enumeration:p.S}},labelPosition:{displayName:(0,s.V)("Visual_Position"),type:{enumeration:V.O}},enableBackground:m.iD.labelEnableBackground,backgroundColor:m.iD.labelBackgroundColor,backgroundTransparency:m.iD.labelBackgroundTransparency}},plotArea:{displayName:(0,s.V)("Visual_Plot"),properties:{transparency:m.iD.transparency,image:m.iD.image}},sentimentColors:{displayName:(0,s.V)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,s.V)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,s.V)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,s.V)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,s.V)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:(0,s.V)("Visual_Reference_Line"),description:(0,s.V)("Visual_Reference_Line_Description"),objectCategory:2,properties:{show:m.iD.show,displayName:m.iD.referenceLineDisplayName,value:m.iD.referenceLineValue,lineColor:m.iD.referenceLineColor,transparency:m.iD.referenceLineTransparency,style:m.iD.lineStyle,position:m.iD.referenceLinePosition,dataLabelShow:m.iD.dataLabelShow,dataLabelColor:m.iD.dataLabelColor,dataLabelText:m.iD.dataLabelText,dataLabelDecimalPoints:m.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:m.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:m.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:m.iD.dataLabelDisplayUnits}},breakdown:{displayName:(0,s.V)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,s.V)("Visual_Waterfall_MaxBreakdown"),description:(0,s.V)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}},487496:function(ze,K,r){r.d(K,{$9:function(){return o},A8:function(){return l},Hx:function(){return u},PX:function(){return h},_K:function(){return n},iQ:function(){return d}});var t=r(787941),c=r(474505),i=r(698129),s=r(411916),p=r(664723),V=r(37584),m=r(279295),v=r(244945),e=r(633888);function h(b,f,g,S,y){return!(y&&!S)&&(!!function(b){return b&&!_.isEmpty(b.values)}(S)||n(b,f,g))}function n(b,f,g){return!(!u(g)||!o(b,f))}function o(b,f){if(!b)return!0;var g=(0,i.NA)(b,f);return null==g||g===v.w.scalar}function u(b){return!(0,m.c$)(b)}function l(b){return(0,s.A8)(b,p.p.scalarKey.scalarKeyMin)}function d(b,f){if(!b||!b.metadata)return!1;var g;if(b.categorical&&b.categorical.categories&&(0,c.mn)(b.categorical.categories)?g=b.categorical.categories.for.in:f&&(0,e.qO)(b)&&(g=(0,e.b8)(b).for.in),null==g)return!1;var C=g.items;if(_.isEmpty(C))return!1;var E=g.activeItems,D=C[0];if(!_.isEmpty(E)){if(E.length>1)return!1;var P=_.find(C,function(R){return R.queryName===E[0]});t.fF.assertValue(P,"active projection must be part of category items"),D=P}return!!n(b.metadata.objects,V.mi.categoryAxis.axisType,D.type)}},633888:function(ze,K,r){r.d(K,{D4:function(){return h},OW:function(){return o},QS:function(){return v},UE:function(){return V},XG:function(){return s},Xi:function(){return i},ZO:function(){return m},b8:function(){return l},qO:function(){return e},qU:function(){return n},r8:function(){return p},s5:function(){return b}});var t=r(259694),c=r(474505),i="smallMultiplesLayout",s="subheader";function p(g,S){return(g+1)*S}var V=2,m=2,v=p(V,m);function e(g){return t.ZA.check(function(S){return{matrix:S.check(g&&g.matrix,t.Gg,function(y){return{rows:S.check(y.rows,c.G8,function(C){return{select:S.check(C.select,(0,t.dp)(2),function(E){return[S.check(E[0],c.oJ,function(D){return{composite:S.check(D.composite,(0,t.dp)(1),function(P){return[S.check(P[0],c.mn,t.yR)]}),dataReductionAlgorithm:D.dataReductionAlgorithm}}),S.check(E[1],c.oJ,function(D){return{composite:S.check(D.composite,(0,t.dp)(1),function(P){return[S.check(P[0],c.mn,t.yR)]}),dataReductionAlgorithm:D.dataReductionAlgorithm}})]})}}),columns:S.check(y.columns,c.mn,t.yR),values:S.check(y.values,c.G8,t.yR)}}),metadata:g.metadata}})}function h(g){return t.ZA.check(function(S){return{matrix:S.check(g&&g.matrix,t.Gg,function(y){return{rows:S.check(y.rows,c.VV,function(C){return{select:S.check(C.select,(0,t.dp)(2),function(E){return[S.check(E[0],c.V3,function(D){return{composite:S.check(D.composite,(0,t.dp)(1),function(P){return[S.check(P[0],c.Ti,t.yR)]}),dataReductionAlgorithm:D.dataReductionAlgorithm}}),S.check(E[1],c.V3,function(D){return{composite:S.check(D.composite,(0,t.dp)(1),function(P){return[S.check(P[0],c.Ti,t.yR)]}),dataReductionAlgorithm:D.dataReductionAlgorithm}})]})}}),columns:S.check(y.columns,c.Ti,t.yR)}})}})}function n(g){if(!_.isEmpty(g))for(var S=0,y=g;S<y.length;S++){var C=y[S];if(C.matrix&&h(C))return!0}return!1}function o(g){if(!_.isEmpty(g))for(var S=0,y=g;S<y.length;S++){var C=y[S];if(h(C))return C.matrix.rows.select[0].composite[0].for.in}}function l(g){return g.matrix.rows.select[1].composite[0]}function b(g,S){g.matrix.rows.select[1].dataReductionAlgorithm=S}},345563:function(ze,K,r){r.d(K,{Bx:function(){return D},DM:function(){return E},HL:function(){return te},Ik:function(){return We},It:function(){return y},K1:function(){return f},LO:function(){return z},LS:function(){return Z},MA:function(){return L},NG:function(){return je},Ne:function(){return F},Si:function(){return P},XZ:function(){return O},ZS:function(){return x},el:function(){return de},h_:function(){return ie},oN:function(){return A},oR:function(){return C},py:function(){return w},rH:function(){return S},rj:function(){return B},vb:function(){return N},xn:function(){return g},z$:function(){return I}});var t=r(787941),c=r(259694),i=r(989516),s=r(396894),p=r(474505),V=r(698129),m=r(129035),v=r(448711),e=r(161414),h=r(681454),n=r(487496),o=r(391589),u=r(280122),a=r(279295),l=r(298801),d=r(679752),b=r(643068),f={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},g="anomalyDetection",S="anomaly",y="isAnomalyHighlighted",C="sensitivity",E="Sensitivity",D="explainBy",P="referenceLine",B=_.mapValues(f,function(me){return"".concat(g,".").concat(me)}),N="SampleAndDetectAnomaly",x="transform",A="SampleSizePerSeries",I=.7,w={objectName:g,propertyName:x},F={objectName:g,propertyName:"show"},O={objectName:g,propertyName:D},L={show:"show",displayName:"displayName",markerShape:"markerShape",markerShapeSize:"markerShapeSize",markerColor:"markerColor",confidenceBandStyle:"confidenceBandStyle",transparency:"transparency",confidenceBandColor:"confidenceBandColor",transform:"transform"},W={displayName:"",markerShape:o.Re.droplet,markerShapeSize:5,confidenceBandStyle:u.X$.fill,transparency:80},U="foregroundSelected",j="foregroundSelected",z=function(){function me(ye,oe,X,ue){this.host=ye,this.anomalyDetection=oe,this.valuesMetadata=X,this.formatStringProp=ue,t.fF.assertValue(ye,"host"),this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}return me.prototype.getTooltipItems=function(ye,oe){var X=this.anomalies[ye];if(X)return[{displayName:this.expectedValueName,value:(0,d.xq)(X.expectedValue,this.valuesMetadata,this.formatStringProp,!1,oe)},{displayName:this.expectedLowName,value:(0,d.xq)(X.lowerBound,this.valuesMetadata,this.formatStringProp,!1,oe)},{displayName:this.expectedHighName,value:(0,d.xq)(X.upperBound,this.valuesMetadata,this.formatStringProp,!1,oe)}]},me}();function te(me,ye,oe,X,ue,Se,Be,Ke){var Ze;if(_.isEmpty(ye.forecastLines))if(ye.hasDynamicSeries){var qe=me.getLocalizedString("Role_DisplayName_Legend");Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",qe)}else if((0,s.aJ)(ye.valuesMetadata,h.R.Y2))qe=me.getLocalizedString("Role_DisplayName_Y2"),Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",qe);else if(1!==ye.series.length)qe=me.getLocalizedString("Role_DisplayName_Values"),Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",qe);else if(function(me){var ye,oe,X;t.fF.assertValue(me,"anomalyDetectionVisualPlugin hasDatetime dataView");var ue=null===(ye=me.categorical)||void 0===ye?void 0:ye.categories;if(t.fF.assert(function(){return _.size(ue)>0},"should exist at least one category"),!ue||0===_.size(ue))return!1;var Se=null===(oe=_.first(ue).source)||void 0===oe?void 0:oe.type;return!!Se&&(!!Se.dateTime||!(null===(X=Se.temporal)||void 0===X||!X.year)||!!Se.temporal&&_.some(me.metadata.columns,function(Be){var Ke;return null===(Ke=Be.type.temporal)||void 0===Ke?void 0:Ke.year}))}(oe))if(Be){if(function(me){var ye;t.fF.assertValue(me,"anomalyDetectionVisualPlugin hasReferenceLine dataView");var oe=null===(ye=me.categorical)||void 0===ye?void 0:ye.values;return t.fF.assert(function(){return _.size(oe)>0},"should exist at least one categorical value"),!(!oe||0===_.size(oe))&&_.some(oe,function(X){return!!X.source.objects&&!!X.source.objects[P]})}(oe)){var ee=me.getLocalizedString("Visual_Trend_Line"),k=me.getLocalizedString("Visual_Reference_Line");Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",ee,k)}}else{var it=me.getLocalizedString("Type"),be=me.getLocalizedString("Visual_XAxis"),Fe=me.getLocalizedString("Visual_Axis_Scalar");Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",it,be,Fe)}else qe=me.getLocalizedString("Role_DisplayName_Axis"),Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",qe);else Ze=me.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast");!function(me,ye,oe,X,ue){var Se,Be;t.fF.assertValue(me,"enumeration"),t.fF.assertValue(oe,"visualStyle"),t.fF.assertAnyValue(X,"disabledReason"),t.fF.assertAnyValue(ue,"selectors");var Ke=_.first(ye);if(Ke){var qe=((Se={})[L.show]=Ke.show,Se[L.displayName]=Ke.displayName,Se[L.markerShape]=Ke.markerShape,Se[L.markerShapeSize]=Ke.markerShapeSize,Se[L.markerColor]=Ke.markerColor,Se[L.confidenceBandStyle]=Ke.confidenceBandStyle,Se[L.transparency]=Ke.transparency,Se[L.confidenceBandColor]=Ke.confidenceBandColor,Se);if(me.pushInstance({selector:Ke.selector,properties:qe,objectName:g}),ue)for(var it=(0,i.GT)((0,i.tV)(ue)),be=0,Fe=Ke.anomalies;be<Fe.length;be++){var ee=Fe[be];ee.isAnomaly&&(it||(0,i.Ic)(ee.identity.getSelectorsByColumn(),ue))&&me.pushInstance({objectName:S,selector:(0,i.tV)(ee.identity.getSelectorsByColumn()),properties:(Be={},Be[f.CategoryValue]=ee.categoryValue,Be[f.Value]=ee.value,Be[f.ExpectedValue]=ee.expectedValue,Be[f.ExpectedLow]=ee.lowerBound,Be[f.ExpectedHigh]=ee.upperBound,Be[f.BatchStart]=ee.batchStart,Be[f.BatchEnd]=ee.batchEnd,Be[f.FormattedCategoryValue]=ee.formattedCategoryValue,Be[f.ValueFormatString]=ee.valueFormatString,Be)})}}else{var Ze=function(me,ye){var oe;return{selector:{id:"0"},properties:(oe={},oe[L.show]=!1,oe[L.displayName]=W.displayName,oe[L.markerShape]=W.markerShape,oe[L.markerShapeSize]=W.markerShapeSize,oe[L.markerColor]={solid:{color:l.v.getThemeColor(me,U)}},oe[L.confidenceBandStyle]=W.confidenceBandStyle,oe[L.transparency]=W.transparency,oe[L.confidenceBandColor]={solid:{color:l.v.getThemeColor(me,j)}},oe),objectName:g,disabledReason:ye}}(oe,X);me.pushInstance(Ze)}}(X,ue,Se,Ze,Ke)}function de(me){return c.ZA.check(function(ye){return{metadata:ye.check(me&&me.metadata,c.Gg,function(oe){return{columns:ye.check(oe.columns,Y,c.yR),objects:ye.check(oe.objects,se,c.yR)}}),categorical:ye.check(me.categorical,c.Gg,function(oe){return{categories:ye.check(oe.categories,p.mn,function(X){return{for:ye.check(X.for,c.Gg,function(ue){return{in:ye.check(ue.in,ce,c.yR)}})}}),values:ye.check(oe.values,p.wj,function(X){return{group:ye.check(X.group,c.Gg,function(ue){return{by:ye.check(ue.by,pe,c.yR),select:ye.check(ue.select,ve,c.yR)}})}})}})}})}function Y(me){return _.some(me,function(ye){return!(!ye.objects||!ye.objects[g]||ye.objects[P]||ye.objects[b.Po])})}function se(me){if(!me)return!0;var ye=(0,V.NA)(me,{objectName:"categoryAxis",propertyName:"axisType"});return!ye||"Scalar"===ye}function ce(me){var ye,oe,X,ue=me.items,Se=me.activeItems;if(_.size(ue)<1)return!1;if(1===_.size(ue)){if(!(Be=_.first(ue).type)||!Be.dateTime&&(null===(ye=Be.temporal)||void 0===ye||!ye.year))return!1}else{var Ke=_.size(Se);if(Ke<1)return!1;var Ze=_.last(Se),qe=_.find(ue,function(be){return be.queryName===Ze});if(t.fF.assertValue(qe,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!qe)return!1;var Be=qe.type;if(1===Ke&&(null===(oe=null==Be?void 0:Be.temporal)||void 0===oe||!oe.year))return!1;if(Ke>1&&(null==Be||!Be.temporal)||null===(X=qe.scalarKeyInfo)||void 0===X||!X.hasScalarKey)return!1}return!0}function pe(me){return!(me.role===h.R.Series&&!_.isEmpty(me.items))}function ve(me){var ye=me;if(!ye)return!1;var oe=_.find(ye,function(ue){return ue.for.in.role===h.R.Y});if(!oe||1!==_.size(oe.for.in.items))return!1;var X=_.find(ye,function(ue){return ue.for.in.role===h.R.Y2});return!(X&&!_.isEmpty(X.for.in.items))}function We(me){var ye;if(null===(ye=null==me?void 0:me.categorical)||void 0===ye||!ye.values)return!1;var oe=me.categorical.values.grouped();return _.some(oe,function(X){return _.some(X.values,function(ue){return(0,s.R)(ue,B.Anomaly)})})}function je(me,ye,oe,X){var ue;if(t.fF.assertValue(me,"anomalyDetectionDataView"),t.fF.assertValue(ye,"sourceDataView"),t.fF.assertValue(oe,"visualStyle"),t.fF.assertValue(X,"formatStringProp"),!me.categorical||!ye.categorical)return[];var Se=me.categorical;if(_.isEmpty(Se.categories)||_.isEmpty(Se.values))return[];var Ze,qe,Be=_.first(Se.categories),Ke=(0,n.A8)(Be);Ke?(Ze=_.map(Ke.values,function(Or){return Or.min}),qe=_.last(Se.categories).values):Ze=Be.values;var it=Se.values.grouped();if(_.isEmpty(Ze)||_.isEmpty(it))return[];var be=ye.categorical.values;if(_.isEmpty(be))return[];var Fe=_.first(be),ee=null!==(ue=Fe.objects)&&void 0!==ue?ue:[],k=Fe.values,Ce=(0,s.a2)(it,B.Anomaly),J=(0,s.a2)(it,B.ExpectedValue),re=(0,s.a2)(it,B.ExpectedHigh),Ie=(0,s.a2)(it,B.ExpectedLow),ot=(0,s.a2)(it,B.BatchStart),we=(0,s.a2)(it,B.BatchEnd),he=l.v.create(oe),Te=[],Oe=0,Je=function(me){t.fF.assertValue(me.categorical.values,"sourceDataView.categorical.values");var ye=[],oe=_.first(me.categorical.values.grouped());if(oe)for(var X=0,ue=oe.values;X<ue.length;X++){var Se=ue[X],Be=Se.source.queryName;if(Be){var Ke=(0,V.AO)(Se.source.objects,g);ye[Be]=Ke}}return ye}(ye),ne=_.first(ye.categorical.categories).source.queryName,Ne=Fe.source,et=Ne.queryName,tt=Fe.objects;for(var xe in Je){var Ve=Je[xe];for(var Le in Ve){var at=Ve[Le],ft=(0,m.N)(at,L.show,!1);if(ft){for(var ht=(0,m.N)(at,L.displayName),Ge=(0,m.N)(at,L.markerShape,W.markerShape),Re=(0,m.N)(at,L.markerShapeSize,W.markerShapeSize),Xe={solid:{color:he.getColorForPropertyName(at,L.markerColor,U)}},Me=(0,m.N)(at,L.transparency,W.transparency),He=(0,m.N)(at,L.confidenceBandStyle,W.confidenceBandStyle),ct={solid:{color:he.getColorForPropertyName(at,L.confidenceBandColor,j)}},Mt=it[Oe],It=[],Bt=[],jt=Mt.values[Ce].values,Kt=Mt.values[J].values,Yt=Mt.values[re].values,Zt=Mt.values[Ie].values,or=Mt.values[ot].values,_r=Mt.values[we].values,Pr={index:-1,value:Number.MIN_VALUE},mt={index:-1,value:Number.MAX_VALUE},Rt=0;Rt<Ze.length;Rt++){var Xt=ee[Rt],dr=(new e.dw).withCategory([Be],Rt,ne,!0).withMeasure(et).createSelectionId(),ar=(0,V.NA)(Xt,{objectName:g,propertyName:y},!1),gr=(0,a.eT)(k[Rt]),Cr=(0,a.eT)(Kt[Rt]),pr=!!jt[Rt],Br=void 0,Ir=void 0;pr&&(gr>Cr&&Pr.value<gr&&(Pr={index:Rt,value:gr}),gr<Cr&&mt.value>gr&&(mt={index:Rt,value:gr}),Br=_e(Be,X,_.get(qe,Rt,void 0),Rt,Ze[Rt]),Ir=le(Ne,tt?tt[Rt]:void 0,X)),It.push({isAnomaly:pr,categoryValue:(0,a.eT)(Ze[Rt]),value:gr,upperBound:(0,a.eT)(Yt[Rt]),lowerBound:(0,a.eT)(Zt[Rt]),expectedValue:Cr,identity:dr,batchStart:or[Rt],batchEnd:_r[Rt],categoryIndex:Rt,isHighlighted:ar,formattedCategoryValue:Br,valueFormatString:Ir,seriesIndex:0,selected:!1}),pr&&Bt.push(Rt)}Te.push({selector:{id:Le,metadata:xe},anomalies:It,anomaliesCategoryIndex:Bt,show:ft,displayName:ht,markerShape:Ge,markerShapeSize:Re,markerColor:Xe,confidenceBandStyle:He,transparency:Me,confidenceBandColor:ct,highestAnomalyPointIndex:Pr.index,lowestAnomalyPointIndex:mt.index}),Oe++}}}return Te}function _e(me,ye,oe,X,ue){if(t.fF.assertValue(me,"categoryColumn"),t.fF.assertValue(ye,"formatStringProp"),oe)return oe;var Se=me.objects,Be=(0,V.NA)(Se?Se[X]:void 0,ye);return(0,d.xq)(ue,me.source,ye,!1,Be)}function le(me,ye,oe){t.fF.assertValue(me,"valueColumn"),t.fF.assertAnyValue(ye,"objects"),t.fF.assertValue(oe,"formatStringProp");var X=(0,V.NA)(ye,oe);return X||(X=(0,v.EO)(me,oe,!!me.format)),!X&&me&&(X=me.format),X}function Z(me,ye,oe){if(t.fF.assert(function(){return me&&2===_.size(me)&&_.isNumber(me[0])&&_.isNumber(me[1])},"adjustDomainForAnomalyMarkers: Domain values should not be null in practice"),t.fF.assertValue(ye,"adjustDomainForAnomalyMarkers scale"),_.isEmpty(oe)||_.every(oe,function(J){return-1===J.highestAnomalyPointIndex&&-1===J.lowestAnomalyPointIndex}))return me;for(var X=ye,ue=X(me[0]),Se=X(me[1]),Ke=0,Ze=oe;Ke<Ze.length;Ke++){var qe=Ze[Ke],it=5*qe.markerShapeSize;if(-1!==qe.highestAnomalyPointIndex){var be=qe.anomalies[qe.highestAnomalyPointIndex].value;if(it>X(be)-X(me[1])){var ee=X(be)-it;Se=Math.min(Se,ee)}}if(-1!==qe.lowestAnomalyPointIndex){var k=qe.anomalies[qe.lowestAnomalyPointIndex].value;if(it>X(me[0])-X(k)){var Ce=X(k)+it;ue=Math.max(ue,Ce)}}}return[X.invert(ue),X.invert(Se)]}function ie(me,ye){if(1!==_.size(me))return!1;var X=me[0].getMetadata(ye);return X&&!!X.type.dateTime}},279295:function(ze,K,r){r.d(K,{Gv:function(){return n},Or:function(){return p},_9:function(){return v},c$:function(){return m},eT:function(){return V},oq:function(){return a},sc:function(){return h},v9:function(){return e}});var t=r(787941),c=r(448711),i=r(326621),s=r(764365),p=function(l){return l[l.top=0]="top",l[l.bottom=1]="bottom",l[l.left=2]="left",l[l.right=3]="right",l}({});function V(l){return isNaN(l)?null:l===Number.POSITIVE_INFINITY?Number.MAX_VALUE:l===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:l}function m(l){var d,b;return!(!l||!(l.text||l.bool||null!==(d=l.misc)&&void 0!==d&&d.barcode||null!==(b=l.geography)&&void 0!==b&&b.postalCode))}function v(l){return!l.invert}function e(l){return!(!l||!l.dateTime)}function h(l,d,b){t.fF.assertValue(l,"scale");var f=l(d)-l(b);return 0===f?0:f<0?Math.min(f,-1):Math.max(f,1)}function n(l,d,b,f){if(!b){var g=(0,c.Ym)();g.update(d-l),b=g.displayUnit&&g.displayUnit.value||1}var S=(l||0)/b,y=(d||0)/b;if(f){var C=(0,i.rH)(f,!1,!1,!0).partsPerScale;S*=C,y*=C}return Math.max(o(S),o(y))}function o(l){if(0===l)return 0;l<0&&(l=-l);var d=Math.floor((0,s.mv)(l));if(d>=0){var g=5-(d+1);return g<=0?0:u(l,g)}return d<-5?5:-d-1+u(l/(0,s.wA)(d+1),5)}function u(l,d){var b=l.toFixed(d),f=b.indexOf(".");if(-1!==f)for(var g=b.length;g-- >f;)if("0"!==b[g])return g-f;return 0}function a(l,d,b){0!==l.size()&&l.each(function(){var f=d3.select(this);b(f.node(),d)})}},298801:function(ze,K,r){r.d(K,{v:function(){return m}});var t=r(177497),c=r(251912),i=r(787941),s=r(698129),p=r(129035),V=r(744104),m=function(){function v(e,h,n,o,u){this.style=u,this.colors=e,this.fillProp=h,this.defaultDataPointColor=n,this.defaultCategoryColor=o,this.defaultColorScale=this.colors.getNewColorScale()}return v.create=function(e,h,n,o){return new v(e.colorPalette.dataColors,h,n,o,e)},v.prototype.getColorForSeriesValue=function(e,h,n,o,u){return this.style&&this.style.isHighContrast?v.getHighContrastDataColor(this.style,o):this.getFillWithOptionalValidation(e,u)||this.getColorWithOptionalValidation(this.defaultDataPointColor,u)||this.getColorScaleForSeries(h).getColor(n).value},v.prototype.getColorScaleForSeries=function(e){return this.colors.getColorScaleByKey((0,V.Gg)(e||[]))},v.prototype.getColorForStaticSeries=function(e,h,n,o){if(this.style&&this.style.isHighContrast)return v.getHighContrastDataColor(this.style,n);var u=this.defaultColorScale.getColor(h).value;return this.getFillWithOptionalValidation(e,o)||this.getColorWithOptionalValidation(this.defaultDataPointColor,o)||u},v.prototype.getColorForMeasure=function(e,h,n,o){if(this.style&&this.style.isHighContrast)return v.getHighContrastDataColor(this.style,n);var u=this.defaultColorScale.getColor(h).value;return this.getFillWithOptionalValidation(e,o)||this.getColorWithOptionalValidation(this.defaultCategoryColor,o)||this.getColorWithOptionalValidation(this.defaultDataPointColor,o)||u},v.prototype.getColorForProperty=function(e,h,n,o){var u=this.style&&n&&v.getThemeColor(this.style,n);return this.getColorForPropertyWithDefaultColor(e,h,u,o)},v.prototype.hasColorForProperty=function(e,h,n){return(0,s.bC)(e,h,n)},v.prototype.getColorForPropertyWithDefaultColor=function(e,h,n,o){return this.style&&this.style.isHighContrast?n:(0,s.W7)(e,h,n,o)},v.prototype.getColorForPropertyName=function(e,h,n){var o=this.style&&n&&v.getThemeColor(this.style,n);return this.getColorForPropertyNameWithDefaultColor(e,h,o)},v.prototype.getColorForPropertyNameWithDefaultColor=function(e,h,n,o){var u=this.style&&this.style.isHighContrast,a=(0,p.y)(e,h,n,void 0,o);return o&&null===a?null:u?n:a},v.getSentimentColor=function(e,h,n){return e.isHighContrast?v.getHighContrastDataColor(e,n):e.colorPalette.dataColors.getSentimentColors()[h].value},v.getGradientColor=function(e,h,n){return e.isHighContrast?v.getHighContrastDataColor(e,n):e.colorPalette.dataColors.getGradientColors()[h].value},v.getDataColorByIndex=function(e,h,n){return e.isHighContrast?v.getHighContrastDataColor(e,n):e.colorPalette.dataColors.getColorByIndex(h).value},v.getThemeColor=function(e,h){return e.colorPalette[h].value},v.getFillColor=function(e,h,n){return e.isHighContrast?v.getHighContrastDataColor(e,n):h&&h.solid&&h.solid.color},v.normalizeSelector=function(e,h){return i.fF.assertAnyValue(e,"selector"),e&&(h||e.data)?{data:e.data}:e},v.getHighContrastDataColor=function(e,h){return void 0===h&&(h=c.U),e.colorPalette[h].value},v.prototype.getFillWithOptionalValidation=function(e,h){var n=this.fillProp&&(0,s.W7)(e,this.fillProp);return h&&n&&!(0,t.WV)(n)&&(n=void 0),n},v.prototype.getColorWithOptionalValidation=function(e,h){var n=e;return h&&e&&!(0,t.WV)(e)&&(n=void 0),n},v}()},4045:function(ze,K,r){r.d(K,{R:function(){return i}});var t=r(448711),c=r(506963),i=function(){function s(){this.cache={}}return s.prototype.getOrCreate=function(p,V,m,v,e){null==v&&(v=V.precision);var h={formatString:p,displayUnits:V.displayUnits,precision:p?(0,c.h1)(v,p):v,value2:m,appendedKey:e},n=JSON.stringify(h);return this.cache[n]||(this.cache[n]=(0,t.Ue)((0,c.YO)(V,p,m,h.precision))),this.cache[n]},s}()},438165:function(ze,K,r){r.d(K,{AD:function(){return a},ML:function(){return o},Zy:function(){return e},bR:function(){return u}});var t=r(787941),c=r(299747),i=r(760182),s=r(292042),p=r(448711),V=r(324356),m=r(592042),v=r(679752);function e(l,d,b){if(!l||!l.categorical||_.isEmpty(l.categorical.categories))return l;var f=l.categorical.categories,g=function(l,d){for(var b=[],f=0,g=l;f<g.length;f++)for(var S=g[f],y=S.values,C=(0,p.EO)(S.source,d),E=(0,p.Ue)({format:C,value:y[0],value2:y[y.length-1],displayUnitSystemType:i.V.Verbose,columnType:S.source.type}),D=0,P=S.values.length;D<P;D++){var T=E.format(S.values[D]),R=b[D];R||b.splice(D,0,R=[]),R.push(T)}return _.map(b,function(B){return B.join(" ")})}(f,d),S=function(l,d){var f=u(a(l)),g={};g[d]=!0;var S={displayName:f.displayName,roles:g,type:m.Ge.fromPrimitiveTypeAndCategory(1)},y=_.last(l).source;return void 0!==y.isMeasure&&(S.isMeasure=y.isMeasure),S.queryName=y.queryName,S}(f,b),y=(0,c.qO)(l),C=(0,c.qO)(y.metadata.columns);C.push(S);var E=(0,c.qO)(y.metadata);E.columns=C,y.metadata=E;var D=l.categorical,P=(0,s.OC)(D.categories),M={source:S,values:g},T=l.categorical.categories[0];T.identity&&(M.identity=T.identity),T.identityFields&&(M.identityFields=T.identityFields),P&&(M.objects=P);var R=[M],B=(0,c.qO)(D);return B.categories=R,B.originalCategories=f,y.categorical=B,y}function o(l){return l.join(" ")}function u(l){return{displayName:_.map(l,function(d){return d.displayName}).join(" "),value:_.map(l,function(d){return d.value}).join(" ")}}function a(l,d,b){var f=null!=d;t.fF.assert(function(){return!f||!!b},"formatStringProp");for(var g=null,S=null,y=null,C=[],E=0,D=l;E<D.length;E++){var P=D[E],M=P.source;if(M){var T=M.expr?V.X1.getProperty(M.expr):null;null!=T?(T===g?S=M.displayName:(null!==g&&(t.fF.assertValue(y,"currentValueParts is undefined on changing hierarchies..."),C.push({displayName:"".concat(g," ").concat(S),value:y?y.join(" "):null})),g=T,S=M.displayName,y=null,f&&(y=[])),f&&y.push((0,v.xq)(P.values[d],M,b,!1))):null!=g?(C.push({displayName:"".concat(g," ").concat(S),value:y?y.join(" "):null}),g=null,S=null,y=null,C.push({displayName:M.displayName,value:f?(0,v.xq)(P.values[d],M,b,!1):null})):C.push({displayName:M.displayName,value:f?(0,v.xq)(P.values[d],M,b,!1):null})}}return null!=g&&(t.fF.assertValue(f&&!y,"currentValueParts is undefined with defined includeValue..."),C.push({displayName:"".concat(g," ").concat(S),value:f&&y?y.join(" "):null})),C}},2570:function(ze,K,r){r.d(K,{BS:function(){return R},Bo:function(){return B},Cr:function(){return N},FJ:function(){return v},Hj:function(){return H},In:function(){return _e},JA:function(){return Q},L0:function(){return b},LK:function(){return O},LV:function(){return oe},M3:function(){return G},N0:function(){return L},NL:function(){return De},NZ:function(){return z},OW:function(){return g},Pq:function(){return S},Q2:function(){return Ke},Qc:function(){return te},TS:function(){return u},UU:function(){return V},Uy:function(){return f},Vr:function(){return d},WP:function(){return w},WV:function(){return se},XJ:function(){return F},Xx:function(){return de},ZL:function(){return ye},_i:function(){return ve},bL:function(){return qe},bN:function(){return Ze},d1:function(){return I},go:function(){return e},i1:function(){return x},iX:function(){return Y},ki:function(){return a},lj:function(){return We},lp:function(){return T},oA:function(){return ue},pJ:function(){return Se},pl:function(){return M},qy:function(){return m},r_:function(){return n},rp:function(){return je},u9:function(){return X},uM:function(){return A},uQ:function(){return P},vo:function(){return ce},wh:function(){return l},xb:function(){return Ae},xy:function(){return pe}});var t=r(520907),c=r(803018),i=r(744883),s=r(629925),p=r(648233),V=9,m=8,v=8,e=50,n=.3,u=6,a=8,l=8,d=50,b="0.00 %;-0.00 %;0.00 %",f=9,g=c.Wn.regularSecondary.css,S=c.Wn.regular.css,D="normal",P="foregroundNeutralSecondaryAlt",M="foregroundLight",T="backgroundDark",R=.9,B=4,N=2,x=4,A=4,I=2,w=10,F=12,O=7,L=40,z=void 0,G=void 0,te=void 0,Q=p.Dv.solid,H=1,de=0,Y=void 0,se=void 0,ce=15,pe=0,ve=1,De=50,We=25,je=0,Ae=400,_e=-1,ye=((0,s.CH)("labels"),(0,s.CH)("lines"),(0,s.CH)("data-labels"),(0,s.CH)("line-label"),(0,s.CH)("labelGraphicsContext")),oe=(0,s.CH)("labelContainerGraphicsContext"),X=(0,s.CH)("labelBackgroundGraphicsContext"),ue=(0,s.CH)("labelSeriesGraphicsContext"),Se=(0,s.CH)("labelSeriesBackgroundGraphicsContext"),Be="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",Ke=new RegExp("^[^".concat(Be,"]*?[").concat(Be,"]")),Ze={fontFamily:c.Wn.regularSecondary.css,fontSize:t.FP.fromPoint(f),fontWeight:D},qe={family:g,size:i.B.createFromPt(f),weight:D,style:null,textDecoration:null}},679752:function(ze,K,r){r.d(K,{Gr:function(){return a},O1:function(){return e},Pl:function(){return V},TO:function(){return m},cR:function(){return o},pt:function(){return n},xh:function(){return p},xq:function(){return l}});var t=r(787941),c=r(760182),i=r(448711);function p(d,b,f){if(void 0===f&&(f=function(C){return _.last(C.categories).values}),d.categories&&d.categories.length>0){var g=_.last(d.categories),S=f(d);return g.values.length>0?{categories:S,categoryFormatter:(0,i.Ue)({format:(0,i.EO)(g.source,b),value:S[0],value2:S[S.length-1],displayUnitSystemType:c.V.Verbose,columnType:g.source.type}),categoryIdentities:g.identity,categoryObjects:g.objects}:{categories:[],categoryFormatter:{format:i.WU}}}return{categories:[null],categoryFormatter:{format:i.WU}}}function V(d){return t.fF.assertValue(d,"source"),void 0!==d.groupName?d.groupName:d.queryName}function m(d,b,f){t.fF.assertValue(d,"source"),t.fF.assertValue(b,"values");var g=d,S=d.displayName;return void 0!==d.groupName&&(g=b.source,S=d.groupName),(0,i.WU)(S,(0,i.EO)(g,f))}function e(d){var b,f;d instanceof Array?(f=d.map(function(g){return g?g.displayName:""}).filter(function(g,S,y){return""!==g&&y.indexOf(g)===S}),b=(0,i.aY)(f)):d&&(b=d.displayName);return b}function n(d){var b=u(d);return null!=b&&!0===b.imageUrl}function o(d){var b=u(d);return null!=b&&!0===b.webUrl}function u(d){return d&&d.type&&d.type.misc}function a(d){return!(!d||!d.metadata||_.isEmpty(d.metadata.columns))&&_.some(d.metadata.columns,function(b){return!0===n(b)})}function l(d,b,f,g,S){return void 0===g&&(g=!0),t.fF.assertValue(b,"column should exist"),S||(!g&&b&&b.format&&(g=!0),S=(0,i.EO)(b,f,g)),!S&&b&&(S=b.format),(0,i.WU)(d,S)}},760868:function(ze,K,r){r.d(K,{S:function(){return t}});var t=function(c){return c[c.variant=0]="variant",c[c.text=1]="text",c[c.number=2]="number",c[c.DateTime=3]="DateTime",c}({})},169327:function(ze,K,r){function t(i){return i.some(function(s){return c(s)})}function c(i){return i&&void 0!==i.labelDataPointContents}r.d(K,{r:function(){return c},t:function(){return t}})},838094:function(ze,K,r){r.d(K,{Bf:function(){return Be},Bo:function(){return x},JP:function(){return B},Pd:function(){return D},R1:function(){return be},SS:function(){return J},Sw:function(){return Se},TS:function(){return E},W1:function(){return le},Xc:function(){return ie},ZL:function(){return O},bN:function(){return N},d6:function(){return Ze},fI:function(){return qe},gm:function(){return ue},ki:function(){return P},n8:function(){return Fe},ng:function(){return me},u9:function(){return L},wh:function(){return M},x5:function(){return je},y3:function(){return k},z8:function(){return X}});var d,f,g,t=r(629925),c=r(787941),i=r(803018),s=r(786277),p=r(344888),V=r(14253),m=r(520907),v=r(240849),e=r(5635),h=r(279295),n=r(453543),o=r(4045),u=r(187810),a=r(625506),l=r(744883),E=6,D=1,P=8,M=8,B={family:i.Wn.regularSecondary.css,size:l.B.createFromPt(9),weight:"normal"},N={fontFamily:i.Wn.regularSecondary.css,fontSize:m.FP.fromPoint(9),fontWeight:"normal"},x=4,w="-0.25em",O=(0,t.CH)("labelGraphicsContext"),L=(0,t.CH)("labelBackgroundGraphicsContext"),W=(d=(0,t.CH)("label")).class,U=d.selector,j=(0,t.CH)("label-background").class,G=(f=(0,t.CH)("seriesLabel")).class,te=f.selector,Q=(g=(0,t.CH)("label-second-line")).class,H=g.selector,de=(0,t.CH)("leader-lines"),Y=(0,t.CH)("line-label");function se(re){var Ie=re.labelOrientation===e.B.Vertical;return re.boundingBox.left+(Ie?re.boundingBox.width:re.boundingBox.width/2)-(re.hasBackground&&Ie?x:0)}function ve(re){var Ie=re.labelOrientation===e.B.Vertical,ot=Ie?re.boundingBox.height/2:re.boundingBox.height,we=re.hasBackground&&!Ie?2:0;return re.wordBreak&&(ot=re.boundingBox.height/2,we=-2),re.boundingBox.top+ot-we}function je(re){var Ie=re.dataLabels,ot=re.formatMode,we=re.hasTooltip,he=re.labelContext,Te=re.numeric,Oe=re.onObject,Je=re.twoRows,fe={transform:function(at){var ft="translate(".concat(se(at),",").concat(ve(at),")");return at.labelOrientation===e.B.Vertical?"".concat(ft,"rotate(-90)"):ft},dy:w};Te&&(fe.dy=void 0);var ne=he.selectAll(U).data(Ie,Ce),Ne=ne.enter().append("text").classed(W,!0).merge(ne);Oe&&ye(Ne,function(Le){return!Le.hasBackground}),Ne.interrupt().text(function(Le){return Le.text}).attrs(fe).style("text-anchor",function(Le){return Le.textAnchor}).styles(function(Le){return(0,u.E_)(Le.fontProperties)}),ne.exit().remove(),fe={transform:function(at){return"translate(".concat(function(re){return re.boundingBox.left+re.boundingBox.width/2}(at),",").concat(function(re){return re.boundingBox.top+(void 0!==re.text?re.boundingBox.height/2:re.boundingBox.height)}(at),")")},dy:w},Te&&(fe.dy=void 0);var et=_.filter(Je?Ie:[],function(Le){return!_.isEmpty(Le.secondRowText)}),tt=he.selectAll(H).data(et,function(Le,at){return Le.identity?Le.identity.getKeyWithoutHighlight():at.toString()}),xe=tt.enter().append("text").classed(Q,!0).merge(tt);Oe&&ye(xe,function(Le){return!Le.hasBackground}),xe.interrupt().text(function(Le){return Le.secondRowText}).attrs(fe).style("text-anchor",function(Le){return Le.textAnchor}).styles(function(Le){return(0,u.E_)(Le.fontProperties)}),we&&(Ne.append("title").text(function(Le){return Le.tooltip}),xe.append("title").text(function(Le){return Le.tooltip}));var Ve=function(at){return Oe?ot&&at.hasBackground||!ot&&(!we||null==at.tooltip)?"none":"all":we&&null!=at.tooltip?"all":"none"};return Ne.style("pointer-events",function(Le){return Ve(Le)}),xe.style("pointer-events",function(Le){return Ve(Le)}),tt.exit().remove(),Ne}function _e(re,Ie,ot,we){for(var he=d3.select(re),Te=V.b.estimateSvgTextHeight(ot),Oe=Math.min(Ie.length,2),Je=0,fe=0;fe<Oe;fe++){ot.text=Ie[fe],Ie.length>2&&fe&&(ot.text=Ie[fe].concat("..."));var ne=V.b.getTailoredTextOrDefault(ot,we);he.append("tspan").attr("id","wordWrap".concat(Ie[fe])).attrs({x:0,dy:fe?Te:w}).text(ne);var Ne=V.b.measureSvgTextWidth(ot,ne);Je=Ne>Je?Ne:Je}return Je}function le(re,Ie,ot,we,he,Te,Oe){void 0===he&&(he=0),void 0===Te&&(Te=!1),void 0===Oe&&(Oe=!1);var Je=V.b.estimateSvgTextHeight(Ie)+he,fe=Math.max(1,Math.floor(we/Je));return(0,v.ql)(re,Ie,V.b.measureSvgTextWidth,ot,fe,null,!1,Te,Oe)}function Z(re){c.fF.assertValue(re,"textElement");var Ie=V.b.getSvgMeasurementProperties(re);return V.b.measureSvgTextWidth(Ie,re.textContent)}function ie(re,Ie,ot,we,he,Te){void 0===we&&(we=!1),void 0===he&&(he=d3.easeCubicInOut);var Oe={transform:function(Ne){var et="translate(".concat(se(Ne),",").concat(ve(Ne),")");return Ne.labelOrientation===e.B.Vertical?"".concat(et,"rotate(-90)"):et},dy:w};we&&(Oe.dy=void 0);var Je=re.selectAll(U).data(Ie,Ce),fe=Je.enter().append("text").classed(W,!0).style("opacity",0).attrs(Oe).merge(Je);return Te&&fe.classed(a.cy,!0).attr(a.Ez,function(ne){return ne.isCategory?"category-labels":"data-labels"}).attr(a.CK,"Visual_DataPointsLabels").attr(a.QZ,1),fe.text(function(ne){return ne.text}).style("text-anchor",function(ne){return ne.textAnchor}).styles(function(ne){return(0,u.E_)(ne.fontProperties)}).transition().ease(he).duration(ot).attrs(Oe).style("opacity",1),Je.exit().transition().duration(ot).style("opacity",0).remove(),fe}function me(re){var Ie=re.context,we=re.onObject,he=_.filter(re.dataLabels,function(Je){return Je.hasBackground}),Te=Ie.selectAll("rect"),Oe=(Te=Te.data(he,Ce)).enter().append("rect").merge(Te);return Oe.classed(j,!0).attr("x",function(Je){return Je.boundingBox.left-x}).attr("y",function(Je){return Je.boundingBox.top-2}).attr("rx",4).attr("ry",4).attr("width",function(Je){return Je.boundingBox.width+2*x}).attr("height",function(Je){return void 0===Je.text&&void 0===Je.secondRowText?0:Je.boundingBox.height+4}).style("fill",function(Je){return Je.backgroundColor}).style("fill-opacity",function(Je){return 1-Je.backgroundTransparency}),we&&ye(Oe,function(Je){return Je.hasBackground}),Te.exit().remove(),Oe}function ye(re,Ie){re.classed(a.cy,function(ot){return Ie(ot)}).attr(a.Ez,function(ot){return Ie(ot)?ot.isCategory?"category-labels":ot.isTotal?"total-labels":"data-labels":null}).attr(a.CK,function(ot){return Ie(ot)?ot.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(a.QZ,function(ot){return Ie(ot)?1:null})}function X(re,Ie,ot,we){re.select(de.selector).empty()&&re.append("g").classed(de.class,!0);var he=re.select(de.selector).selectAll("polyline").data(Ie,ot);he.enter().append("polyline").classed(Y.class,!0).merge(he).attr("points",function(Oe){return Oe.leaderLinePoints}).style("stroke",function(Oe){return we||(Oe.fontProperties?Oe.fontProperties.color:void 0)}).style("opacity",.5).style("stroke-width",D),he.exit().remove()}function ue(re){var Ie=je(re);return me({context:re.backgroundContext,dataLabels:re.dataLabels,onObject:re.onObject}),Ie}function Se(re){return function(re,Ie,ot,we,he,Te,Oe,Je,fe){var ne={transform:function(Zt){var or=he?5:-5,_r=function(re){return re.boundingBox.left+(re.hasBackground?x:0)}(Zt)+or,Pr="translate(".concat(_r,",").concat(ve(Zt),")");return Zt.labelOrientation===e.B.Vertical?"".concat(Pr,"rotate(-90)"):Pr},dy:w},Ne=re.selectAll(te).data(ot,Ce),et=Ne.enter().append("text").classed(G,!0).merge(Ne);fe&&et.classed(a.cy,!0).attr(a.Ez,"series-labels").attr(a.CK,"Visual_SeriesLabels").attr(a.QZ,1);var tt=[],xe=0;et.interrupt().text(function(Yt){return Te?Yt.text:function(re,Ie,ot,we){var he=N,Te={text:re,fontFamily:ot||he.fontFamily,fontSize:m.FP.fromPoint(Ie),fontWeight:he.fontWeight};return V.b.getTailoredTextOrDefault(Te,we)}(Yt.text,Yt.fontProperties&&Yt.fontProperties.size?Yt.fontProperties.size.pt:void 0,Yt.fontProperties?Yt.fontProperties.family:void 0,we)}).attrs(ne).styles(function(Yt){return(0,u.E_)(Yt.fontProperties)}).styles({"text-anchor":he?"start":"end","white-space":"pre"});var Ve=et.nodes();if(Te)for(var Le=V.b.estimateSvgTextHeight(N),ft=Je+Le+(Oe.height-Le-Je)/2,ht=0,Ge=Ve;ht<Ge.length;ht++){c.fF.assertValue(Re=Ge[ht],"textElement");var Xe=Re.textContent,Me=V.b.getSvgMeasurementProperties(Re);Re.textContent=null;var ct=_e(Re,le(Xe,Me,we,Oe.height-ft,void 0,!0,!0),Me,we);ot[xe].hasBackground&&tt.push(ct),xe++}else for(var Mt=0,It=Ve;Mt<It.length;Mt++){var Re=It[Mt];ot[xe].hasBackground&&tt.push(Z(Re)),xe++}Ne.exit().remove();var Bt=_.filter(ot,function(Yt){return Yt.hasBackground}),jt=Ie.selectAll("rect");return(jt=jt.data(Bt,Ce)).enter().append("rect").merge(jt).attr("transform",function(Yt,Zt){var or=Yt.boundingBox.left;return he||(or-=tt[Zt]),"translate(".concat(or+=he?5:-5,",").concat(function(re){var Ie=0;return re.wordBreak||(Ie=(re.boundingBox.height+4)/4),re.boundingBox.top-Ie}(Yt),")")}).attr("rx",4).attr("ry",4).attr("width",function(Yt,Zt){return tt[Zt]+2*x}).attr("height",function(Yt){return void 0===Yt.text&&void 0===Yt.secondRowText?0:Yt.boundingBox.height+4}).style("fill",function(Yt){return Yt.backgroundColor}).style("fill-opacity",function(Yt){return 1-Yt.backgroundTransparency}),jt.exit().remove(),et}(re.labelContext,re.backgroundContext,re.dataLabels,re.availableWidth,re.position,re.seriesWordWrap,re.plotArea,re.seriesFontSize,re.onObject)}function Be(re){var Ie=ie(re.labelContext,re.dataLabels,re.duration,re.numeric,re.easeType,re.onObject);return function(re,Ie,ot,we,he){void 0===we&&(we=!1),void 0===he&&(he=d3.easeCubicInOut);var Te=_.filter(Ie,function(fe){return fe.hasBackground}),Oe=re.selectAll("rect").data(Te,Ce);Oe.enter().append("rect").style("fill-opacity",0).merge(Oe).transition().ease(he).duration(ot).attrs({x:function(ne){return ne.boundingBox.left-x},y:function(ne){return ne.boundingBox.top-2},rx:4,ry:4,width:function(ne){return ne.boundingBox.width+2*x},height:function(ne){return void 0===ne.text&&void 0===ne.secondRowText?0:ne.boundingBox.height+4}}).style("fill",function(fe){return fe.backgroundColor}).style("fill-opacity",function(fe){return 1-fe.backgroundTransparency}),Oe.exit().transition().duration(ot).style("fill-opacity",0).remove()}(re.backgroundContext,re.dataLabels,re.duration,re.numeric,re.easeType),Ie}var Ke=function(){function re(Ie,ot){if(this.noPrecision=!0,0===ot.displayUnits){var we=Ie.formatter;if(this.units=we&&we.displayUnit&&we.displayUnit.value,null==ot.precision){this.noPrecision=!1;var he=we&&we.options;if(he&&he.precision)this.precisionForAxis=Ie.formatter.options.precision+1;else{var Te=Ie.axis.tickValues();Te&&Te.length&&(this.precisionForAxis=(0,h.Gv)(Te[0],Te.length>1?Te[1]:void 0,10*(this.units||1),he&&he.format))}}}}return re.prototype.getPrecision=function(Ie,ot){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!Ie)return ot&&ot.integer?0:this.precisionForAxis}},re}();function Ze(re,Ie){return new Ke(re,Ie)}function qe(){return new o.R}function be(re){for(var Ie=[],ot={},we=function(Ne,et,tt){return et.some(function(xe){return tt?(0,p.fS)(Ne.parentShape.rect,xe.rect):(0,s.fS)(Ne.parentShape.point,xe.point)})},he=0,Te=re;he<Te.length;he++){var Oe=Te[he];if(c.fF.assertValue(Oe,"dataPoint"),null!=Oe){var fe=ot[Oe.text];fe?we(Oe,fe,1===Oe.parentType)||(Ie.push(Oe),fe.push(Oe.parentShape)):(Ie.push(Oe),ot[Oe.text]=[Oe.parentShape])}}return Ie}function Fe(re){return 11===re?{maximumOffset:n.rA,startingOffset:n.vD,offsetIterationDelta:n.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:M,startingOffset:P,attemptToMoveLabelsIntoViewport:!0}}function k(re,Ie,ot){var we=N,he={text:re,fontFamily:ot||we.fontFamily,fontSize:m.FP.fromPoint(Ie),fontWeight:we.fontWeight};return{width:V.b.measureSvgTextWidth(he),height:V.b.estimateSvgTextHeight(he)}}function Ce(re,Ie){return re.key?re.key:re.identity?re.identity.getKeyWithoutHighlight():Ie}function J(re,Ie,ot,we){if(null==Ie||0===Ie)return ot;var he=Ie/100,Te=Math.ceil(re/we);return 1===he?Te:ot+Math.floor(he*(Te-ot))}},868686:function(ze,K,r){r.d(K,{U2:function(){return se},S1:function(){return Y}});var g,S,y,E,D,P,te,Q,t=r(787941),c=r(838094),i=r(629925),s=r(786277),p=r(344888),V=r(14253),m=r(520907),v=r(240849),e=r(326621),h=r(5635),n=r(279295),o=r(4045),u=r(2570),a=r(169327),l=r(187810),d=r(453543),b=r(945007),f=r(625506),M=(g=(0,i.CH)("label")).class,T=g.selector,R=(S=(0,i.CH)("label-container")).class,B=S.selector,N=(y=(0,i.CH)("label-tspan")).class,x=y.selector,A=(0,i.CH)("label-background").class,w=(E=(0,i.CH)("seriesLabel")).class,F=E.selector,O=(D=(0,i.CH)("label-second-line")).class,L=D.selector,W=(P=(0,i.CH)("label-container-background")).class,U=P.selector,j=function(){function pe(){this.nonNumericVerticalOffset="-0.25em",this.horizontalSeriesLabelPadding=5,this.linesGraphicsContextClass=(0,i.CH)("leader-lines"),this.lineClass=(0,i.CH)("line-label"),this.labelBackgroundRounding=4,this.LineStrokeWidth=1,this.sameParentIsInArray=function(ve,De,We){return De.some(function(je){return We?(0,p.fS)(ve.parentShape.rect,je.rect):(0,s.fS)(ve.parentShape.point,je.point)})},this.roleSortOrder={Title:1,Value:2,Detail:3}}return pe.prototype.createColumnFormatterCacheManager=function(){return new o.R},pe.prototype.drawLabelContainer=function(ve){var me,De=this,je=ve.labelContainers,Ae=ve.onObject,_e={transform:function(X){var ue="translate(".concat(De.getLabelContainerX(X),",").concat(De.getLabelContainerY(X),")");return X.labelOrientation===h.B.Vertical?"".concat(ue,"rotate(-90)"):ue},dy:this.nonNumericVerticalOffset},le=ve.labelGroupContext.selectAll(B).data(je,this.labelKeyFunction),Z=je.some(function(oe){return!_.isEmpty(oe.labelContents)}),ie=je.some(function(oe){return oe.hasBackground});return Z&&(me=le.enter().append("g").merge(le).classed(R,!0).attrs(_e),ie&&this.drawLabelContainerBackground(me,ve.onObject),this.drawLabelContainerContent(me),me.style("pointer-events",function(oe){return X=oe,ve.onObject?ve.formatMode&&X.hasBackground||!ve.formatMode&&(!ve.hasTooltip||null==X.tooltip)?"none":"all":ve.hasTooltip&&null!=X.tooltip?"all":"none";var X})),me&&((!ie||!Z)&&me.selectAll(U).remove(),me.filter(function(oe){return!oe.hasBackground}).selectAll(U).remove()),Ae&&this.updateDataLabelSubSelectionAttributes(me,function(oe){return!oe.hasBackground}),le.exit().remove(),me},pe.prototype.removeContainerContent=function(ve){var De;null===(De=ve.selectAll(B))||void 0===De||De.remove()},pe.prototype.removeContainerBackground=function(ve){var De;null===(De=ve.selectAll(U))||void 0===De||De.remove()},pe.prototype.drawLabelsAndBackgrounds=function(ve){var De=this.drawDefaultLabels(ve);return this.drawLabelBackground({context:ve.backgroundContext,dataLabels:ve.dataLabels,onObject:ve.onObject}),De},pe.prototype.animateDefaultLabels=function(ve,De,We,je,Ae,_e){var le=this,Z={transform:function(oe){var X="translate(".concat(le.getLabelX(oe),",").concat(le.getLabelY(oe),")");return oe.labelOrientation===h.B.Vertical?"".concat(X,"rotate(-90)"):X},dy:this.nonNumericVerticalOffset};je&&(Z.dy=void 0);var ie=ve.selectAll(T).data(De,this.labelKeyFunction),me=ie.enter().append("text").classed(M,!0).style("opacity",0).attrs(Z).merge(ie);return _e&&me.classed(f.cy,!0).attr(f.Ez,function(ye){return ye.isCategory?"category-labels":"data-labels"}).attr(f.CK,"Visual_DataPointsLabels").attr(f.QZ,1),me.text(function(ye){return ye.text}).style("text-anchor",function(ye){return ye.textAnchor}).styles(function(ye){return(0,l.E_)(ye.fontProperties)}).transition().ease(Ae).duration(We).attrs(Z).style("opacity",1),ie.exit().transition().duration(We).style("opacity",0).remove(),me},pe.prototype.animateLabelsAndBackgrounds=function(ve){var De=this.animateDefaultLabels(ve.labelContext,ve.dataLabels,ve.duration,ve.numeric,ve.easeType,ve.onObject);return this.animateLabelBackground(ve.backgroundContext,ve.dataLabels,ve.duration,ve.numeric,ve.easeType),De},pe.prototype.getDataLabelLayoutOptions=function(ve){return 11===ve?{maximumOffset:d.rA,startingOffset:d.vD,offsetIterationDelta:d.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:u.wh,startingOffset:u.ki,attemptToMoveLabelsIntoViewport:!0}},pe.prototype.drawLabelLeaderLines=function(ve,De,We){var je=this;this.ensureGraphicsContext(ve),ve.select(this.linesGraphicsContextClass.selector).selectAll("polyline").data(De,We).join(function(Ae){return Ae.append("polyline").classed(je.lineClass.class,!0)}).attr("points",function(Ae){return Ae.leaderLinePoints}).styles(function(Ae){var _e=_.clone(Ae.leaderLineProperties);return null!=_e&&_e.strokeTransparency&&(_e.strokeTransparency*=100),(0,b.b)(_e)})},pe.prototype.getLabelUnitAndPrecisionForAxis=function(ve,De){return new z(ve,De)},pe.prototype.drawSeriesLabelsAndBackgrounds=function(ve){return this.drawDefaultSeriesLabels(ve.labelContext,ve.backgroundContext,ve.dataLabels,ve.availableWidth,ve.position,ve.seriesWordWrap,ve.plotArea,ve.seriesFontSize,ve.onObject)},pe.prototype.getLabelFormattedText=function(ve,De,We){return We?We.format(ve):e.dx.formatValue(ve,De)},pe.prototype.drawDefaultLabels=function(ve){var De=this,We=ve.dataLabels,je=ve.formatMode,Ae=ve.hasTooltip,_e=ve.labelContext,le=ve.numeric,Z=ve.onObject,ie=ve.twoRows,me={transform:function(Ze){var qe="translate(".concat(De.getLabelX(Ze),",").concat(De.getLabelY(Ze),")");return Ze.labelOrientation===h.B.Vertical?"".concat(qe,"rotate(-90)"):qe},dy:this.nonNumericVerticalOffset};le&&(me.dy=void 0);var ye=_e.selectAll(T).data(We,this.labelKeyFunction),oe=ye.enter().append("text").classed(M,!0).merge(ye);Z&&this.updateDataLabelSubSelectionAttributes(oe,function(Ke){return!Ke.hasBackground}),oe.interrupt().text(function(Ke){return Ke.text}).attrs(me).style("text-anchor",function(Ke){return Ke.textAnchor}).styles(function(Ke){return(0,l.E_)(Ke.fontProperties)}),ye.exit().remove(),me={transform:function(Ze){return"translate(".concat(De.getLabelX2ndLine(Ze),",").concat(De.getLabelY2ndLine(Ze),")")},dy:this.nonNumericVerticalOffset},le&&(me.dy=void 0);var X=_.filter(ie?We:[],function(Ke){return!_.isEmpty(Ke.secondRowText)}),ue=_e.selectAll(L).data(X,function(Ke,Ze){return Ke.identity?Ke.identity.getKeyWithoutHighlight():Ze.toString()}),Se=ue.enter().append("text").classed(O,!0).merge(ue);Z&&this.updateDataLabelSubSelectionAttributes(Se,function(Ke){return!Ke.hasBackground}),Se.interrupt().text(function(Ke){return Ke.secondRowText}).attrs(me).style("text-anchor",function(Ke){return Ke.textAnchor}).styles(function(Ke){return(0,l.E_)(Ke.fontProperties)}),Ae&&(oe.append("title").text(function(Ke){return Ke.tooltip}),Se.append("title").text(function(Ke){return Ke.tooltip}));var Be=function(Ze){return Z?je&&Ze.hasBackground||!je&&(!Ae||null==Ze.tooltip)?"none":"all":Ae&&null!=Ze.tooltip?"all":"none"};return oe.style("pointer-events",function(Ke){return Be(Ke)}),Se.style("pointer-events",function(Ke){return Be(Ke)}),ue.exit().remove(),oe},pe.prototype.drawLabelBackground=function(ve){var De=ve.context,je=ve.onObject,Ae=_.filter(ve.dataLabels,function(Z){return Z.hasBackground}),_e=De.selectAll("rect"),le=(_e=_e.data(Ae,this.labelKeyFunction)).enter().append("rect").merge(_e);return le.classed(A,!0).attr("x",function(Z){return Z.boundingBox.left-u.Bo}).attr("y",function(Z){return Z.boundingBox.top-u.d1}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(Z){return Z.boundingBox.width+2*u.Bo}).attr("height",function(Z){return void 0===Z.text&&void 0===Z.secondRowText?0:Z.boundingBox.height+2*u.d1}).style("fill",function(Z){return Z.backgroundColor}).style("fill-opacity",function(Z){return 1-Z.backgroundTransparency}),je&&this.updateDataLabelSubSelectionAttributes(le,function(Z){return Z.hasBackground}),_e.exit().remove(),le},pe.prototype.getNumberOfLabelsToRender=function(ve,De,We,je){if(null==De||0===De)return We;var Ae=De/100,_e=Math.ceil(ve/je);return 1===Ae?_e:We+Math.floor(Ae*(_e-We))},pe.prototype.removeDuplicates=function(ve){return(0,a.t)(ve)?this.removeDuplicateContainers(ve):this.removeDuplicateLabels(ve)},pe.prototype.getTextSize=function(ve,De,We){var je=u.bN,Ae={text:ve,fontFamily:We||je.fontFamily,fontSize:m.FP.fromPoint(De),fontWeight:je.fontWeight};return{width:V.b.measureSvgTextWidth(Ae),height:V.b.estimateSvgTextHeight(Ae)}},pe.prototype.checkWordBreak=function(ve,De,We,je,Ae,_e,le){void 0===Ae&&(Ae=0),void 0===_e&&(_e=!1),void 0===le&&(le=!1);var Z=V.b.estimateSvgTextHeight(De)+Ae,ie=Math.max(1,Math.floor(je/Z));return(0,v.ql)(ve,De,V.b.measureSvgTextWidth,We,ie,null,!1,_e,le)},pe.prototype.isLabelContainer=function(ve){return ve&&void 0!==ve.labelContents},pe.prototype.drawLabelContainerContent=function(ve){var De=this,We=ve.selectAll(T).data(function(ie){return[ie]}),_e=We.enter().append("text").merge(We).attr("x",function(ie){return(me=ie).labelOrientation===h.B.Vertical?u.Bo:me.boundingBox.width/-2;var me}).attr("y",function(ie){return ye="MultiLine"===(me=ie).contentLayout,ue=De.computeMultiLineGap(me.labelContents,me.labelOrientation===h.B.Vertical,me.hasBackground),ye?(me.boundingBox.height+ue)/-2:-((me.hasBackground?me.labelOrientation===h.B.Vertical?u.d1:u.Bo:0)+ue);var me,ye,ue}).style("text-anchor",function(ie){return ie.textAnchor}).classed(M,!0);_e.selectAll("tspan").remove();var le=_e.interrupt().selectAll(x).data(function(ie){return De.computeTspanData(ie)},function(ie){return ie.label.role}),Z=le.enter().append("tspan").merge(le);Z.interrupt().attr("x",function(ie){return ie.x}).attr("y",function(ie){return ie.y}).attr("dx",function(ie){return ie.dx}).attr("dy",function(ie){return ie.dy}).text(function(ie){return ie.label.text}).styles(function(ie){return(0,l.E_)(ie.label.fontProperties)}).style("fill-opacity",function(ie){var me;return null!==(me=1-ie.label.transparency)&&void 0!==me?me:0}).classed(N,!0),We.exit().remove(),le.exit().remove(),Z.exit().remove()},pe.prototype.computeMultiLineGap=function(ve,De,We){return ve.length>1&&!De?(ve.length-1)*u.i1-(We?u.d1:0):0},pe.prototype.removeDuplicateLabels=function(ve){for(var De=[],We={},je=0,Ae=ve;je<Ae.length;je++){var _e=Ae[je];if(t.fF.assertValue(_e,"dataPoint"),null!=_e){var le=_e,ie=We[le.text];ie?this.sameParentIsInArray(le,ie,1===le.parentType)||(De.push(le),ie.push(le.parentShape)):(De.push(le),We[le.text]=[le.parentShape])}}return De},pe.prototype.removeDuplicateContainers=function(ve){var De=this,We=new Set,je=new Set;return ve.filter(function(Ae){var _e=Ae.labelDataPointContents.map(function(Z){return Z.text}).join("|"),le=1===Ae.parentType;return!(We.has(_e)&&De.sameParentIsInArray(Ae,Array.from(je),le)||(We.add(_e),je.add(Ae.parentShape),0))})},pe.prototype.computeTspanData=function(ve){var De=this,We=ve.labelContents.sort(function(oe,X){return De.roleSortOrder[oe.role]-De.roleSortOrder[X.role]}),je=1===We.length,Ae="MultiLine"===ve.contentLayout,le=ve.hasBackground?ve.labelOrientation===h.B.Vertical?u.d1:u.Bo:0,Z=ve.alignment,ie=ve.boundingBox.width,me=function(X){return X.textSize.height+u.i1},ye=function(X){if(ve.labelOrientation===h.B.Vertical)switch(Z){case"center":return(ie-X.textSize.width)/2;case"left":default:return le;case"right":return ie-le-X.textSize.width}else switch(Z){case"center":default:return-X.textSize.width/2;case"left":return-(ie-2*le)/2;case"right":return(ie-2*le)/2-X.textSize.width}};return We.map(function(oe,X){return Ae&&!je?{x:ye(oe),y:null,label:oe,dx:null,dy:me(oe),id:X}:{x:null,y:0,label:oe,dx:X>0?u.uM:le,dy:".35em",id:X}})},pe.prototype.drawLabelContainerBackground=function(ve,De){var We=this,je=ve.selectAll(U).data(function(le){return[le]}),Ae=je.enter().insert("rect","text").classed(W,!0).merge(je),_e=new Map;Ae.interrupt().filter(function(le){return le.hasBackground}).each(function(le){var Z=0,ie=0,me=le.labelOrientation===h.B.Vertical,ye=We.computeMultiLineGap(le.labelContents,me,!0),oe=2*u.d1+ye,X=2*u.Bo;"MultiLine"===le.contentLayout?(Z=me?le.boundingBox.width+oe:le.boundingBox.width+X,ie=me?le.boundingBox.height+X:le.boundingBox.height+oe):(Z=me?le.boundingBox.height+X:le.boundingBox.width+X,ie=me?le.boundingBox.width+oe:le.boundingBox.height+oe),_e.set(le.identity.getKey(),{calculatedWidth:Z,calculatedHeight:ie})}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(le){return _e.get(le.identity.getKey()).calculatedWidth}).attr("height",function(le){return _e.get(le.identity.getKey()).calculatedHeight}).attr("x",function(le){return le.labelOrientation===h.B.Vertical?0:_e.get(le.identity.getKey()).calculatedWidth/-2}).attr("y",function(le){return _e.get(le.identity.getKey()).calculatedHeight/-2}).style("fill",function(le){return le.backgroundColor}).style("fill-opacity",function(le){return 1-le.backgroundTransparency}),De&&this.updateDataLabelSubSelectionAttributes(Ae,function(le){return le.hasBackground}),je.exit().remove(),Ae.exit().remove()},pe.prototype.getLabelY2ndLine=function(ve){return ve.boundingBox.top+(void 0!==ve.text?ve.boundingBox.height/2:ve.boundingBox.height)},pe.prototype.getSeriesLabelX=function(ve){return ve.boundingBox.left+(ve.hasBackground?u.Bo:0)},pe.prototype.getSeriesLabelY=function(ve){var De=0;return ve.wordBreak||(De=(ve.boundingBox.height+2*u.d1)/4),ve.boundingBox.top-De},pe.prototype.getSeriesLabelFormattedText=function(ve,De,We,je){var Ae=u.bN,_e={text:ve,fontFamily:We||Ae.fontFamily,fontSize:m.FP.fromPoint(De),fontWeight:Ae.fontWeight};return V.b.getTailoredTextOrDefault(_e,je)},pe.prototype.getSeriesLabelWidth=function(ve){t.fF.assertValue(ve,"textElement");var De=V.b.getSvgMeasurementProperties(ve);return V.b.measureSvgTextWidth(De,ve.textContent)},pe.prototype.seriesWordBreak=function(ve,De,We,je){for(var Ae=d3.select(ve),_e=V.b.estimateSvgTextHeight(We),le=Math.min(De.length,2),Z=0,ie=0;ie<le;ie++){We.text=De[ie],De.length>2&&ie&&(We.text=De[ie].concat("..."));var me=V.b.getTailoredTextOrDefault(We,je);Ae.append("tspan").attr("id","wordWrap".concat(De[ie])).attrs({x:0,dy:ie?_e:this.nonNumericVerticalOffset}).text(me);var ye=V.b.measureSvgTextWidth(We,me);Z=ye>Z?ye:Z}return Z},pe.prototype.animateLabelBackground=function(ve,De,We,je,Ae){var _e=_.filter(De,function(ie){return ie.hasBackground}),le=ve.selectAll("rect").data(_e,this.labelKeyFunction),Z=le.enter().append("rect").style("fill-opacity",0).merge(le);return Z.transition().ease(Ae).duration(We).attrs({x:function(me){return me.boundingBox.left-u.Bo},y:function(me){return me.boundingBox.top-u.d1},rx:this.labelBackgroundRounding,ry:this.labelBackgroundRounding,width:function(me){return me.boundingBox.width+2*u.Bo},height:function(me){return void 0===me.text&&void 0===me.secondRowText?0:me.boundingBox.height+2*u.d1}}).style("fill",function(ie){return ie.backgroundColor}).style("fill-opacity",function(ie){return 1-ie.backgroundTransparency}),le.exit().transition().duration(We).style("fill-opacity",0).remove(),Z},pe.prototype.drawDefaultSeriesLabels=function(ve,De,We,je,Ae,_e,le,Z,ie){var me=this,ye={transform:function(Oe){var Je=Ae?me.horizontalSeriesLabelPadding:-me.horizontalSeriesLabelPadding,fe=me.getSeriesLabelX(Oe)+Je,ne="translate(".concat(fe,",").concat(me.getLabelY(Oe),")");return Oe.labelOrientation===h.B.Vertical?"".concat(ne,"rotate(-90)"):ne},dy:this.nonNumericVerticalOffset},oe=ve.selectAll(F).data(We,this.labelKeyFunction),X=oe.enter().append("text").classed(w,!0).merge(oe);ie&&X.classed(f.cy,!0).attr(f.Ez,"series-labels").attr(f.CK,"Visual_SeriesLabels").attr(f.QZ,1);var ue=[],Se=0;X.interrupt().text(function(Te){return _e?Te.text:me.getSeriesLabelFormattedText(Te.text,Te.fontProperties&&Te.fontProperties.size?Te.fontProperties.size.pt:void 0,Te.fontProperties?Te.fontProperties.family:void 0,je)}).attrs(ye).styles(function(Te){return(0,l.E_)(Te.fontProperties)}).styles({"text-anchor":Ae?"start":"end","white-space":"pre"});var Be=X.nodes();if(_e)for(var Ke=V.b.estimateSvgTextHeight(u.bN),qe=Z+Ke+(le.height-Ke-Z)/2,it=0,be=Be;it<be.length;it++){t.fF.assertValue(Fe=be[it],"textElement");var ee=Fe.textContent,k=V.b.getSvgMeasurementProperties(Fe);Fe.textContent=null;var Ce=this.checkWordBreak(ee,k,je,le.height-qe,void 0,!0,!0),J=this.seriesWordBreak(Fe,Ce,k,je);We[Se].hasBackground&&ue.push(J),Se++}else for(var re=0,Ie=Be;re<Ie.length;re++){var Fe=Ie[re];We[Se].hasBackground&&ue.push(this.getSeriesLabelWidth(Fe)),Se++}oe.exit().remove();var ot=_.filter(We,function(Te){return Te.hasBackground}),we=De.selectAll("rect");return(we=we.data(ot,this.labelKeyFunction)).enter().append("rect").merge(we).attr("transform",function(Te,Oe){var Je=Te.boundingBox.left;return Ae||(Je-=ue[Oe]),"translate(".concat(Je+=Ae?me.horizontalSeriesLabelPadding:-me.horizontalSeriesLabelPadding,",").concat(me.getSeriesLabelY(Te),")")}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(Te,Oe){return ue[Oe]+2*u.Bo}).attr("height",function(Te){return void 0===Te.text&&void 0===Te.secondRowText?0:Te.boundingBox.height+2*u.d1}).style("fill",function(Te){return Te.backgroundColor}).style("fill-opacity",function(Te){return 1-Te.backgroundTransparency}),we.exit().remove(),X},pe.prototype.getLabelContainerX=function(ve){return ve.boundingBox.left+ve.boundingBox.width/2},pe.prototype.getLabelContainerY=function(ve){var We=ve.labelOrientation===h.B.Vertical?ve.boundingBox.height:ve.boundingBox.height/2;return ve.wordBreak&&(We=ve.boundingBox.height/2),ve.boundingBox.top+We},pe.prototype.getLabelX=function(ve){var De=ve.labelOrientation===h.B.Vertical;return ve.boundingBox.left+(De?ve.boundingBox.width:ve.boundingBox.width/2)-(ve.hasBackground&&De?u.Bo:0)},pe.prototype.getLabelY=function(ve){var De=ve.labelOrientation===h.B.Vertical,We=De?ve.boundingBox.height/2:ve.boundingBox.height,je=ve.hasBackground&&!De?u.d1:0;return ve.wordBreak&&(We=ve.boundingBox.height/2,je=-u.d1),ve.boundingBox.top+We-je},pe.prototype.labelKeyFunction=function(ve,De){return ve.key?ve.key:ve.identity?ve.identity.getKeyWithoutHighlight():String(De)},pe.prototype.getLabelX2ndLine=function(ve){return ve.boundingBox.left+ve.boundingBox.width/2},pe.prototype.updateDataLabelSubSelectionAttributes=function(ve,De){ve.classed(f.cy,function(We){return De(We)}).attr(f.Ez,function(We){return De(We)?We.isCategory?"category-labels":We.isTotal?"total-labels":"data-labels":null}).attr(f.CK,function(We){return De(We)?We.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(f.QZ,function(We){return De(We)?1:null})},pe.prototype.ensureGraphicsContext=function(ve){ve.select(this.linesGraphicsContextClass.selector).empty()&&ve.append("g").classed(this.linesGraphicsContextClass.class,!0)},pe}(),z=function(){function pe(ve,De){if(this.noPrecision=!0,0===De.displayUnits){var We=ve.formatter;if(this.units=We&&We.displayUnit&&We.displayUnit.value,null==De.precision){this.noPrecision=!1;var je=We&&We.options;if(je&&je.precision)this.precisionForAxis=ve.formatter.options.precision+1;else{var Ae=ve.axis.tickValues();Ae&&Ae.length&&(this.precisionForAxis=(0,n.Gv)(Ae[0],Ae.length>1?Ae[1]:void 0,10*(this.units||1),je&&je.format))}}}}return pe.prototype.getPrecision=function(ve,De){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!ve)return De&&De.integer?0:this.precisionForAxis}},pe}(),G=r(49803),H=null,de=!1;function Y(pe){H=null==pe?void 0:pe.labelEnhancementsM0,de=!0}function se(pe){var ve;return!de&&null==pe&&t.fF.assertFail("DataLabelRendererResolver must be initialized before use."),(null!==(ve=null==pe?void 0:pe.labelEnhancementsM0)&&void 0!==ve?ve:H)?(te||(te=new j),te):(Q||(Q=new ce),Q)}var ce=function(){function pe(){}return pe.prototype.animateDefaultLabels=function(ve,De,We,je,Ae,_e){return(0,c.Xc)(ve,De,We,je,Ae,_e)},pe.prototype.animateLabelsAndBackgrounds=function(ve){return(0,c.Bf)(ve)},pe.prototype.checkWordBreak=function(ve,De,We,je,Ae,_e,le){return(0,c.W1)(ve,De,We,je,Ae,_e,le)},pe.prototype.createColumnFormatterCacheManager=function(){return(0,c.fI)()},pe.prototype.drawDefaultLabels=function(ve){return(0,c.x5)(ve)},pe.prototype.drawLabelBackground=function(ve){return(0,c.ng)(ve)},pe.prototype.drawLabelsAndBackgrounds=function(ve){return(0,c.gm)(ve)},pe.prototype.drawSeriesLabelsAndBackgrounds=function(ve){return(0,c.Sw)(ve)},pe.prototype.getDataLabelLayoutOptions=function(ve){return(0,c.n8)(ve)},pe.prototype.getLabelFormattedText=function(ve,De,We){return(0,G.Bw)(ve,De,We)},pe.prototype.getLabelUnitAndPrecisionForAxis=function(ve,De){return(0,c.d6)(ve,De)},pe.prototype.getNumberOfLabelsToRender=function(ve,De,We,je){return(0,c.SS)(ve,De,We,je)},pe.prototype.getTextSize=function(ve,De,We){return(0,c.y3)(ve,De,We)},pe.prototype.removeDuplicates=function(ve){return(0,c.R1)(ve)},pe.prototype.drawLabelLeaderLines=function(ve,De,We,je){return(0,c.z8)(ve,De,We,je)},pe.prototype.removeContainerContent=function(){throw new Error("Method not implemented.")},pe.prototype.removeContainerBackground=function(){throw new Error("Method not implemented.")},pe.prototype.drawLabelContainer=function(ve){throw new Error("Method not implemented.")},pe}()},49803:function(ze,K,r){r.d(K,{AO:function(){return d},B8:function(){return f},Bw:function(){return B},CC:function(){return D},CH:function(){return F},Cn:function(){return R},DU:function(){return x},ML:function(){return E},Nb:function(){return I},Sm:function(){return l},Vh:function(){return N},Vv:function(){return M},WA:function(){return A},Xc:function(){return L},Zj:function(){return S},aC:function(){return w},hY:function(){return y},hm:function(){return T},nU:function(){return C},t$:function(){return o},tI:function(){return O},wT:function(){return P}});var t=r(226514),c=r(787941),i=r(45696),s=r(326621),p=r(951467),V=r(298801),m=r(2570),v=r(838094),e=r(187810),h=r(648233);function o(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - determineDataLabelFillColor - categoricalDataReader"),G.categoricalDataReader.labels.labelFillColorReader.getDataLabelFillColor(G)}function l(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - determineCategoryLabelFillColor - categoricalDataReader"),G.categoricalDataReader.labels.labelFillColorReader.getCategoryLabelFillColor(G)}function d(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - determineTotalLabelFillColor - categoricalDataReader"),G.categoricalDataReader.labels.labelFillColorReader.getTotalLabelFillColor(G)}function f(G){return"Default"!==G.colorSource}function g(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - extractDynamicLabel - categoricalDataReader"),G.categoricalDataReader.labels.dynamicLabelReader.getDynamicLabel(G)}function S(G,te,Q,H){var de,Y,se=function(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - determineLeaderLineFillColor - categoricalDataReader"),G.categoricalDataReader.labels.leaderLineColorReader.getLeaderLineFillColor(G)}((0,t.__assign)((0,t.__assign)({},Q),{defaultColor:null!=G?G:H.color,seriesColor:null===(Y=null===(de=null==te?void 0:te.leaderLineColor)||void 0===de?void 0:de.solid)||void 0===Y?void 0:Y.color}));return se}function y(G,te,Q,H,de,Y){if(void 0===Y&&(Y=!1),!Y)if(te){if(H&&de.enableDetailDataLabel||!de.enableDetailDataLabel&&(de.enableTitleDataLabel||de.enableValueDataLabel))return void G.setWarnings([new p.x7])}else if(Q&&de.enableValueDataLabel||!de.enableValueDataLabel&&(de.enableTitleDataLabel||de.enableDetailDataLabel))return void G.setWarnings([new p.x7])}function C(G,te,Q,H,de,Y){var se=null==G?void 0:G.value,ce=null==G?void 0:G.formatString;if("number"==typeof se){var pe=H.getPrecision(!!ce,de.type);se=B(te.getOrCreate(ce,Q,H.units,pe,Y).format(se))}return se instanceof Date&&(Q.displayUnits=void 0,se=ce?B(te.getOrCreate(ce,Q,void 0,void 0,Y).format(se)):s.dx.formatValue(se,"d")),se}function E(G){return G.some(function(te){return D(te)})}function D(G){return G&&void 0!==G.labelContents}function P(G,te){var Q;if(te)for(var de=d3.select(G).datum().identity,Y=0,se=te;Y<se.length;Y++){var ce=se[Y];if(null!==(Q=null==ce?void 0:ce.identity)&&void 0!==Q&&Q.includes(de))return ce.identity.getSelectorsByColumn()}}function M(G,te){return te.color!==G&&(te=(0,e.ED)(te,{color:G})),te}function T(G,te,Q){var H=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},te),Q),{data:[(0,i.Ue)(1)]});return G?H:te}function R(G,te,Q){var H;return Q?H=null:G&&(H=te),H}function B(G,te,Q){return Q?Q.format(G):s.dx.formatValue(G,te)}function N(G,te,Q){var H,de,Y,se,ce,pe,ve;if(c.fF.assertValue(te,"DataLabelUtil - createLeaderLineProperties - labelSettings"),te.leaderLines)return{strokeShow:te.leaderLines,strokeColor:null!==(se=null!==(Y=null!==(H=null==G?void 0:G.leaderLineColor)&&void 0!==H?H:null===(de=te.leaderLineColor.solid)||void 0===de?void 0:de.color)&&void 0!==Y?Y:V.v.getThemeColor(Q,m.uQ))&&void 0!==se?se:"#000",strokePattern:null!==(ce=te.leaderLineStyle)&&void 0!==ce?ce:h.Dv.solid,strokeTransparency:null!==(pe=te.leaderLineTransparency)&&void 0!==pe?pe:0,strokeWidth:null!==(ve=te.leaderLineWidth)&&void 0!==ve?ve:v.Pd}}function x(G,te,Q,H,de,Y){return void 0===Y&&(Y=!1),!Y&&(G.labelEnhancementsM0&&G.measureDrivenDataLabels?de?te:te?!Q:1!==H:te&&!de)}function A(G,te,Q){if((!(te>1)||Q)&&!_.isEmpty(G))return F(G)}function I(G,te,Q){return z(G,te,Q,{dynamicSeriesType:0,multipleStaticSeriesType:2})}function w(G,te,Q){return z(G,te,Q,{dynamicSeriesType:1,multipleStaticSeriesType:3})}function F(G,te){var Q,H;return void 0===te&&(te=0),c.fF.assertValue(G,"DataLabelUtil - determineValueLabelPickerFallbackExpression - valuesMetadataBySeries"),(null===(Q=G[te])||void 0===Q?void 0:Q.metadataColumn.expr)||(null===(H=_.first(G))||void 0===H?void 0:H.metadataColumn.expr)}function O(G){var te=G.dataPointLabelSettings,Q=G.categoricalDataReader,H=G.categoryIndex,de=G.seriesIndex,Y=G.dynamicLabelsEnabledForSeries,se=G.valuePropertyId,ce=G.featureSwitches,pe=G.hasHighlights;return null!=ce&&ce.labelEnhancementsM0?g({valuePropertyId:se,categoricalDataReader:Q,categoryIndex:H,seriesIndex:de,hasHighlights:pe,dynamicLabelFormatString:j("Value",te),enabled:null!=ce&&ce.measureDrivenDataLabels&&null!=te.showDynamicLabels?te.showDynamicLabels&&Y.valueEnabled:Y.valueEnabled}):null!=ce&&ce.measureDrivenDataLabels?g({valuePropertyId:se,categoricalDataReader:Q,categoryIndex:H,seriesIndex:de,hasHighlights:pe,enabled:te.showDynamicLabels}):void 0}function L(G){var te=G.dataPointLabelSettings,Q=G.featureSwitches;if(null!=Q&&Q.labelEnhancementsM0){var H=[];if(te.enableTitleDataLabel&&H.push(W(G,"Title",G.titlePropertyId)),te.enableDetailDataLabel&&H.push(W(G,"Detail",G.detailPropertyId)),!_.isEmpty(H))return H}}function W(G,te,Q){var H=G.dataPointLabelSettings,de=G.categoricalDataReader,Y=G.categoryIndex,se=G.seriesIndex,ce=G.hasHighlights,pe=j(te,H),ve=function(G,te){var Q=te.dataPointLabelSettings,H=te.dataLabelFillColorOptions,de=te.defaultLabelSettings,Y={Title:function(){var ce;return function(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - determineDataLabelTitleFillColor - categoricalDataReader"),G.categoricalDataReader.labels.labelFillColorReader.getDataLabelTitleFillColor(G)}((0,t.__assign)((0,t.__assign)({},H),{defaultColor:null==de?void 0:de.titleFontProperties.color,seriesColor:null===(ce=null==Q?void 0:Q.titleFontProperties)||void 0===ce?void 0:ce.color}))},Detail:function(){var ce;return function(G){return c.fF.assertValue(G.categoricalDataReader,"DataLabelUtil - determineDataLabelDetailFillColor - categoricalDataReader"),G.categoricalDataReader.labels.labelFillColorReader.getDataLabelDetailFillColor(G)}((0,t.__assign)((0,t.__assign)({},H),{defaultColor:null==de?void 0:de.detailFontProperties.color,seriesColor:null===(ce=null==Q?void 0:Q.detailFontProperties)||void 0===ce?void 0:ce.color}))},Value:function(){return o((0,t.__assign)((0,t.__assign)({},H),{defaultColor:null==de?void 0:de.fontProperties.color,seriesColor:null==Q?void 0:Q.fontProperties.color}))}};if(Y[G])return Y[G]();c.fF.assertFail("extractFillColorByRole - unknown label role: ".concat(G))}(te,G),De=g({valuePropertyId:Q,categoricalDataReader:de,categoryIndex:Y,seriesIndex:se,hasHighlights:ce,enabled:!0,dynamicLabelFormatString:pe});return{role:te,labelFill:null==ve?void 0:ve.color,labelSettings:H,dynamicLabel:De}}function j(G,te){var Q={Title:function(){return te.titleLabelDisplayUnits===m.In?te.titleCustomFormatString:void 0},Detail:function(){return te.detailLabelDisplayUnits===m.In?te.detailCustomFormatString:void 0},Value:function(){return te.displayUnits===m.In?te.valueCustomFormatString:void 0}};if(Q[G])return Q[G]();c.fF.assertFail("getFormatStringForRole - unknown label role: ".concat(G))}function z(G,te,Q,H){return G>1||Q?te?H.dynamicSeriesType:H.multipleStaticSeriesType:4}},371485:function(ze,K,r){r.d(K,{td:function(){return Be},fI:function(){return pe},WW:function(){return ue},dH:function(){return qe},lw:function(){return me},JA:function(){return Ke},WD:function(){return oe},Zu:function(){return it},XQ:function(){return X},kL:function(){return ye},bT:function(){return Ae},vc:function(){return _e},Gv:function(){return ce},y3:function(){return ve},ww:function(){return De},AR:function(){return je},FJ:function(){return We}});var t=r(226514),c=r(629925),i=r(787941),s=r(14253),p=r(750311),V=r(106266),m=r(520907),v=r(725182),e=r(326621),h=r(939523),n=r(72653),o=r(326899),u=r(298801),a=r(4045),l=r(2570),d=r(868686),b=r(506963),f=r(760868),g=r(45696),S=r(564227),y=r(453543),C=r(605781),E=r(646875),D=r(49803),P=r(397628),M=r(201849),T=r(266848),R=r(118670);function N(be){return function(be,Fe){for(var ee=0,k=Fe;ee<k.length;ee++)if(k[ee]===be)return!0;return!1}(be,[f.S.number,f.S.variant])}function I(be,Fe,ee){void 0===ee&&(ee="Desktop_FileMenu_Options");var k=be.options,Ce=be.dataLabelsProps,J=be.omitGroupDisplayNames,Ie=be.selector,ot=be.hostServices,we=be.featureSwitches,he=k.dataLabelsSettings,Te=Fe||be.cardBuilder;Fe&&Fe.addSimpleSlice("showSeries",new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.showSeries),{selector:Ie}),value:he.show}).build(),function(Oe){return Oe.withDisabled(!Ie).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),Te.addGroup((0,b.Th)(be,"options"),function(Oe){var Je;J||Oe.withDisplayName(ee),!Fe&&Ie&&k.show&&Oe.addSimpleSlice("showSeries",new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.showSeries),{selector:Ie}),value:he.show}).build(),function(xe){return xe.withDisabled(!Ie).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),Ce.labelOrientation&&Oe.addSimpleSlice("labelOrientation",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.labelOrientation),{selector:Ie}),value:he.labelOrientation}).build(),function(xe){return xe.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!Ie)});var fe=Ce.labelPosition||Ce.position,ne=k.positionObject?k.positionObject:void 0,Ne=null!==(Je=he.position)&&void 0!==Je?Je:ne.length>0?ne[0]:M.h.auto;if(fe&&Oe.addSimpleSlice("position",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},fe),{selector:Ie}),value:Ne,filterValues:ne}).build(),function(xe){return xe.withCustomDisplayName("Visual_Position")}),Ce.overflow&&Oe.addSimpleSlice("overflow",new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.overflow),{selector:Ie}),value:he.overflow}).build(),function(xe){return xe.withDisabled(he&&he.position===C.SX)}),Ce.labelStyle&&Oe.addSimpleSlice("labelContents",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.labelStyle),{selector:Ie}),value:he.labelStyle}).build(),function(xe){return xe.withCustomDisplayName("Visual_LabelContents")}),Ce.labelDensity&&k.labelDensity){var et=(0,b.YA)(k.dataLabelsSettings);et&&Oe.addSimpleSlice("labelDensity",V.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.labelDensity),{selector:Ie}),value:et.labelDensity,localize:function(Ve){return ot.getLocalizedString(Ve)}}).build(),function(xe){return xe.withCustomDescription("Visual_LabelDensity_Description")})}if(we.leaderLinesAndOffset&&Ce.leaderLines&&k.leaderLines&&!we.labelEnhancementsM1&&Oe.addSimpleSlice("leaderLines",new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.leaderLines),{selector:Ie}),value:he.leaderLines}).build()),we.leaderLinesAndOffset&&Ce.minimumOffset&&k.leaderLines&&Oe.addSimpleSlice("minimumOffset",new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.minimumOffset),{selector:Ie}),value:he.minimumOffset===l.iX?null:he.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}}}).build()),we.leaderLinesAndOffset&&Ce.maximumOffset&&k.leaderLines){var tt=he.minimumOffset;he.maximumOffset=tt>=he.maximumOffset?tt:he.maximumOffset,Oe.addSimpleSlice("maximumOffset",new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.maximumOffset),{selector:Ie}),value:he.maximumOffset===l.WV?null:he.maximumOffset,options:{minValue:{type:0,value:tt},maxValue:{type:1,value:200}}}).build())}we.labelEnhancementsM0&&(Ce.labelOverflow&&Ne!==M.h.outsideEnd&&Oe.addSimpleSlice("labelOverflow",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.labelOverflow),{selector:Ie}),value:he.labelOverflow}).build()},function(xe){return xe.withCustomDescription("Visual_DataLabel_OverflowDescription")}),Ce.optimizeLabelDisplay&&([M.h.auto,M.h.above,M.h.under,M.h.outsideEnd].includes(Ne)||[M.h.insideBase,M.h.insideCenter,M.h.insideEnd].includes(Ne)&&he.labelOverflow)&&(Oe.addSimpleSlice("optimizeLabelDisplay",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.optimizeLabelDisplay),{selector:Ie}),value:he.optimizeLabelDisplay}).build()},function(xe){return xe.withCustomDescription("Visual_DataLabel_OptimizeLabelDisplayDescription")}),Ce.labelContainerMaxWidth&&he.optimizeLabelDisplay&&Oe.addSimpleSlice("labelContainerMaxWidth",new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.labelContainerMaxWidth),{selector:Ie}),value:he.labelContainerMaxWidth,options:{minValue:{type:0,value:l.rp},maxValue:{type:1,value:l.xb},unitSymbol:P.e_}}).build())))})}function w(be,Fe,ee,k){void 0===ee&&(ee="Title"),void 0===k&&(k=!1);var J=be.cardBuilder;Fe&&(J=Fe),J.addGroup((0,b.Th)(be,"title"),function(re){return function(be,Fe,ee,k){var Ce;void 0===ee&&(ee="Title"),void 0===k&&(k=!1);var J=Fe.options,re=Fe.dataLabelsProps,Ie=Fe.omitGroupDisplayNames,ot=Fe.selector,we=Fe.repetitionSelector,he=Fe.hostServices,Te=J.dataLabelsSettings,Oe=J.style?J.style:(0,p.Ue)();if(Ie||be.withDisplayName(ee).addTopLevelToggle("enableTitleDataLabel",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},re.enableTitleDataLabel),{selector:ot}),value:Te.enableTitleDataLabel}).build()}),k)be.withDisabled(!0,void 0);else{if(re.titleContentType&&be.addSimpleSlice("titleContentType",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleContentType),{selector:ot}),value:Te.titleContentType||E.A.SeriesName}).build()),re.dynamicLabelTitle&&Te.titleContentType===E.A.Custom){var fe=Fe.omitDynamicLabelSelector?void 0:(0,t.__assign)((0,t.__assign)({},ot),{data:[(0,g.Ue)(1)],highlightMatching:1});be.addSimpleSlice("dynamicLabelTitle",new V.k0({descriptor:{propertyName:re.dynamicLabelTitle.propertyName,objectName:re.dynamicLabelTitle.objectName,selector:fe,instanceKind:2,propertyTypes:{text:!0}},value:void 0,unwrapExprOnGet:!0,dataLabelPickerType:{seriesType:Fe.dataLabelPickerSeriesType,dataLabelRole:1},validators:{field:{kind:1}}}).build(),function(Ve){return Ve.withCustomDisplayName("Data").withDisabled(!J.enableDynamicLabelPickers)})}if((re.titleFontFamily||re.titleFontSize)&&be.addCompositeSlice("titleFont","Font",function(){var Ve=new V.UN;if(J.fontFamily&&re.titleFontFamily&&Ve.withFontFamily({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleFontFamily),{selector:ot}),value:Te.titleFontProperties.family||y.rk}),J.fontSize&&re.titleFontSize){var Le={descriptor:(0,t.__assign)((0,t.__assign)({},re.titleFontSize),{selector:ot}),value:Te.titleFontProperties.size.pt};J.fontSizeRange&&(Le.options={minValue:{type:0,value:Te.minFontSize},maxValue:{type:1,value:Te.maxFontSize}}),Ve.withFontSizeProperties(Le)}return J.bold&&re.titleBold&&Ve.withBold({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleBold),{selector:ot}),value:Te.titleBold}),J.italic&&re.titleItalic&&Ve.withItalic({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleItalic),{selector:ot}),value:Te.titleItalic}),J.underline&&re.titleUnderline&&Ve.withUnderline({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleUnderline),{selector:ot}),value:Te.titleUnderline}),Ve.build()}),re.titleColor&&be.addSimpleSlice("titleColor",function(){var Ve={value:Te.titleFontProperties.color||u.v.getThemeColor(Oe,l.uQ)},Le=(0,b.e9)(Fe);return new V.BT({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleColor),{selector:(0,D.hm)(Fe.individualSelector,ot,we),instanceKind:Le,altConstantValueSelector:(0,D.Cn)(Fe.individualSelector,ot,Fe.includeAltConstantValueSelector)}),value:Ve}).build()},function(Ve){return Ve.withDisabled(J.matchSeriesColor)}),re.titleTransparency&&be.addSimpleSlice("titleTransparency",V.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleTransparency),{selector:ot}),value:Math.round(100*(null!==(Ce=Te.titleTransparency)&&void 0!==Ce?Ce:0)),localize:function(Le){return he.getLocalizedString(Le)}}).build()),N(Fe.titleFieldSourceType)&&Te.titleContentType===E.A.Custom){var Ne=re.titleLabelDisplayUnits,et=(null==Te?void 0:Te.titleLabelDisplayUnits)===l.In;J.displayUnits&&void 0!==J.dataLabelsSettings.titleLabelDisplayUnits&&Ne&&be.addSimpleSlice("titleLabelDisplayUnits",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},Ne),{selector:ot}),value:Te.titleLabelDisplayUnits}).build(),function(Ve){return Ve.withAliasName("Decimal").withDisabled(!J.enableDynamicLabelPickers)});var tt=re.titleLabelPrecision;if(et)be.addSimpleSlice("titleCustomFormatString",new V.fq({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleCustomFormatString),{selector:ot,instanceKind:3}),value:Te.titleCustomFormatString,placeholder:"Auto"}).build(),function(Ve){return Ve.withDisabled(!J.enableDynamicLabelPickers)});else if(J.precision&&tt){var xe=Te.titleLabelPrecision;be.addSimpleSlice("titleLabelPrecision",function(){return new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},tt),{selector:ot}),value:xe===l.NZ?null:xe,options:{minValue:{type:0,value:0},maxValue:{type:1,value:l.vo}}}).build()},function(Ve){return Ve.withDisabled(!J.enableDynamicLabelPickers)})}}re.titleShowBlankAs&&be.addSimpleSlice("titleShowBlankAs",new V.fq({descriptor:(0,t.__assign)((0,t.__assign)({},re.titleShowBlankAs),{selector:ot,instanceKind:1}),value:Te.titleShowBlankAs||"",placeholder:"0"}).build(),function(Ve){return Ve.withDisabled(!J.enableDynamicLabelPickers)})}}(re,be,ee,k),re.build()})}function F(be,Fe,ee,k){void 0===ee&&(ee="Value"),void 0===k&&(k=!1);var J=be.cardBuilder;Fe&&(J=Fe),J.addGroup((0,b.Th)(be,"values"),function(re){return function(be,Fe,ee,k,Ce){var J;void 0===ee&&(ee="Value"),void 0===k&&(k=!1);var re=Fe.options,Ie=Fe.dataLabelsProps,ot=Fe.omitGroupDisplayNames,we=Fe.selector,he=Fe.repetitionSelector,Te=Fe.hostServices,Oe=re.dataLabelsSettings,Je=re.style?re.style:(0,p.Ue)();if(ot||be.withDisplayName(ee).addTopLevelToggle("enableValueDataLabel",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.enableValueDataLabel),{selector:we}),value:Oe.enableValueDataLabel}).build()}),k)be.withDisabled(!0,void 0);else{var ne=re.enableDynamicLabelPickers||!1,Ne=Fe.omitDynamicLabelSelector?void 0:(0,t.__assign)((0,t.__assign)({},we),{data:[(0,g.Ue)(1)],highlightMatching:1}),et={propertyName:Ie.dynamicLabelValue.propertyName,objectName:Ie.dynamicLabelValue.objectName,selector:Ne,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};be.addSimpleSlice("dynamicLabelValue",function(){return new V.k0({descriptor:et,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,fallbackExpr:Fe.valueLabelPickerFallbackExpr,dataLabelPickerType:{seriesType:Fe.dataLabelPickerSeriesType,dataLabelRole:0},validators:{field:{kind:1}}}).build()},function(ft){return ft.withDisabled(!ne)}),(Ie.fontFamily||Ie.fontSize)&&be.addCompositeSlice("font","Font",function(){var ft=new V.UN;if(re.fontFamily&&Ie.fontFamily&&ft.withFontFamily({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.fontFamily),{selector:we}),value:Oe.fontProperties.family||y.rk}),re.fontSize&&Ie.fontSize){var ht={descriptor:(0,t.__assign)((0,t.__assign)({},Ie.fontSize),{selector:we}),value:Oe.fontProperties.size.pt};re.fontSizeRange&&(ht.options={minValue:{type:0,value:Oe.minFontSize},maxValue:{type:1,value:Oe.maxFontSize}}),ft.withFontSizeProperties(ht)}return re.bold&&Ie.bold&&ft.withBold({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.bold),{selector:we}),value:Oe.bold}),re.italic&&Ie.italic&&ft.withItalic({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.italic),{selector:we}),value:Oe.italic}),re.underline&&Ie.underline&&ft.withUnderline({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.underline),{selector:we}),value:Oe.underline}),ft.build()}),Ie.color&&be.addSimpleSlice("color",function(){var ft={value:Oe.fontProperties.color||u.v.getThemeColor(Je,l.uQ)},ht=(0,b.e9)(Fe);return new V.BT({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.color),{selector:(0,D.hm)(Fe.individualSelector,we,he),instanceKind:ht,altConstantValueSelector:(0,D.Cn)(Fe.individualSelector,we,Fe.includeAltConstantValueSelector)}),value:ft}).build()},function(ft){return ft.withDisabled(re.matchSeriesColor)}),Ie.transparency&&be.addSimpleSlice("transparency",V.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.transparency),{selector:we}),value:Math.round(100*(null!==(J=Oe.transparency)&&void 0!==J?J:0)),localize:function(ht){return Te.getLocalizedString(ht)}}).build(),function(ft){return ft.withDisabled(undefined)});var tt=Ie.displayUnits;if(N(Fe.valueFieldSourceType)){var xe=Oe.displayUnits,Ve=xe===l.In;re.displayUnits&&void 0!==re.dataLabelsSettings.displayUnits&&tt&&be.addSimpleSlice("displayUnits",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},tt),{selector:we}),value:xe}).build(),function(ft){return ft.withAliasName("Decimal")});var Le=Ie.labelPrecision;if(Ve)be.addSimpleSlice("valueCustomFormatString",new V.fq({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.valueCustomFormatString),{selector:we,instanceKind:3}),value:Oe.valueCustomFormatString,placeholder:"Auto"}).build(),function(ft){return ft.withDisabled(!re.enableDynamicLabelPickers)});else if(re.precision&&Le){var at=Oe.precision;be.addSimpleSlice("precision",function(){return new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},Le),{selector:we}),value:at===l.NZ?null:at,options:{minValue:{type:0,value:0},maxValue:{type:1,value:l.vo}}}).build()})}}Ie.showBlankAs&&be.addSimpleSlice("showBlankAs",new V.fq({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.showBlankAs),{selector:we,instanceKind:1}),value:Oe.showBlankAs?Oe.showBlankAs:"",placeholder:"0"}).build())}}(re,be,ee,k),re.build()})}function O(be,Fe,ee,k){void 0===ee&&(ee="Visual_Label_DetailLabelName"),void 0===k&&(k=!1);var J=be.cardBuilder;Fe&&(J=Fe),J.addGroup((0,b.Th)(be,"detail"),function(re){return function(be,Fe,ee,k,Ce){var J;void 0===ee&&(ee="Visual_Label_DetailLabelName"),void 0===k&&(k=!1);var re=Fe.options,Ie=Fe.dataLabelsProps,ot=Fe.omitGroupDisplayNames,we=Fe.selector,he=Fe.repetitionSelector,Te=Fe.hostServices,Oe=re.dataLabelsSettings,Je=re.isStacked100,fe=re.style?re.style:(0,p.Ue)();if(ot||be.withDisplayName(ee).addTopLevelToggle("enableDetailDataLabel",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.enableDetailDataLabel),{selector:we}),value:Oe.enableDetailDataLabel}).build()}),k)be.withDisabled(!0,void 0);else{if(Ie.dynamicLabelDetail){var Ne=Fe.omitDynamicLabelSelector?void 0:(0,t.__assign)((0,t.__assign)({},we),{data:[(0,g.Ue)(1)],highlightMatching:1}),et={propertyName:Ie.dynamicLabelDetail.propertyName,objectName:Ie.dynamicLabelDetail.objectName,selector:Ne,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};Je&&be.addSimpleSlice("detailContentType",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailContentType),{selector:we}),value:Oe.detailContentType||S.W.Custom}).build(),function(Ve){return Ve.withCustomDisplayName("Content")}),(!Je||Oe.detailContentType===S.W.Custom||null==Oe.detailContentType)&&be.addSimpleSlice("dynamicLabelDetail",function(){return new V.k0({descriptor:et,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,dataLabelPickerType:{seriesType:Fe.dataLabelPickerSeriesType,dataLabelRole:2},validators:{field:{kind:1}}}).build()},function(Ve){return Ve.withCustomDisplayName("Data").withDisabled(!re.enableDynamicLabelPickers)})}if((Ie.detailFontFamily||Ie.detailFontSize)&&be.addCompositeSlice("detailFont","Font",function(){var Ve=new V.UN;if(re.fontFamily&&Ie.detailFontFamily&&Ve.withFontFamily({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailFontFamily),{selector:we}),value:Oe.detailFontProperties.family||y.rk}),re.fontSize&&Ie.detailFontSize){var Le={descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailFontSize),{selector:we}),value:Oe.detailFontProperties.size.pt};re.fontSizeRange&&(Le.options={minValue:{type:0,value:Oe.minFontSize},maxValue:{type:1,value:Oe.maxFontSize}}),Ve.withFontSizeProperties(Le)}return re.bold&&Ie.detailBold&&Ve.withBold({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailBold),{selector:we}),value:Oe.detailBold}),re.italic&&Ie.detailItalic&&Ve.withItalic({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailItalic),{selector:we}),value:Oe.detailItalic}),re.underline&&Ie.detailUnderline&&Ve.withUnderline({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailUnderline),{selector:we}),value:Oe.detailUnderline}),Ve.build()}),Ie.detailColor&&be.addSimpleSlice("detailColor",function(){var Ve={value:Oe.detailFontProperties.color||u.v.getThemeColor(fe,l.uQ)},Le=(0,b.e9)(Fe);return new V.BT({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailColor),{selector:(0,D.hm)(Fe.individualSelector,we,he),instanceKind:Le,altConstantValueSelector:(0,D.Cn)(Fe.individualSelector,we,Fe.includeAltConstantValueSelector)}),value:Ve}).build()},function(Ve){return Ve.withDisabled(re.matchSeriesColor)}),Ie.detailTransparency&&be.addSimpleSlice("detailTransparency",V.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailTransparency),{selector:we}),value:Math.round(100*(null!==(J=Oe.detailTransparency)&&void 0!==J?J:0)),localize:function(Le){return Te.getLocalizedString(Le)}}).build(),function(Ve){return Ve.withDisabled(undefined)}),N(Fe.detailFieldSourceType)&&Oe.detailContentType!==S.W.Percent){var tt=Ie.detailLabelDisplayUnits,xe=(null==Oe?void 0:Oe.detailLabelDisplayUnits)===l.In;void 0!==re.dataLabelsSettings.detailLabelDisplayUnits&&tt&&be.addSimpleSlice("detailDisplayUnits",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},tt),{selector:we}),value:Oe.detailLabelDisplayUnits}).build(),function(Ve){return Ve.withAliasName("Decimal")}),xe?be.addSimpleSlice("detailCustomFormatString",new V.fq({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailCustomFormatString),{selector:we,instanceKind:3}),value:Oe.detailCustomFormatString,placeholder:"Auto"}).build(),function(Ve){return Ve.withDisabled(!re.enableDynamicLabelPickers)}):te(be,Fe)}Je&&Oe.detailContentType===S.W.Percent&&te(be,Fe),Ie.detailShowBlankAs&&be.addSimpleSlice("detailShowBlankAs",new V.fq({descriptor:(0,t.__assign)((0,t.__assign)({},Ie.detailShowBlankAs),{selector:we,instanceKind:1}),value:Oe.detailShowBlankAs||"",placeholder:"0"}).build())}}(re,be,ee,k),re.build()})}function L(be,Fe,ee){void 0===ee&&(ee="Layout");var Ce=be.cardBuilder;Fe&&(Ce=Fe),Ce.addGroup((0,b.Th)(be,"layout"),function(J){return function(be,Fe,ee){void 0===ee&&(ee="Layout");var k=Fe.dataLabelsProps,Ce=Fe.featureSwitches,Ie=Fe.selector,ot=Fe.options.dataLabelsSettings;Fe.omitGroupDisplayNames||be.withDisplayName(ee),k.labelContentLayout&&be.addSimpleSlice("labelContentLayout",new V.uY({descriptor:(0,t.__assign)((0,t.__assign)({},k.labelContentLayout),{selector:Ie}),value:ot.labelContentLayout}).build(),function(we){return we.withDisabled(!1)}),Ce.labelEnhancementsM1&&k.horizontalAlignment&&(null==ot?void 0:ot.labelContentLayout)===T.v.MultiLine&&be.addSimpleSlice("labelHorizontalAlignment",new V.Gp({descriptor:(0,t.__assign)((0,t.__assign)({},k.horizontalAlignment),{selector:Ie}),value:ot.horizontalAlignment||R.D.center,mode:"horizontalAlignment"}).build(),function(we){return we.withCustomDisplayName("Visual_Alignment_Horizontal")})}(J,be,ee),J.build()})}function W(be,Fe,ee){void 0===ee&&(ee="Visual_LeaderLines");var Ce=be.options;if(Ce.leaderLines){var J=be.cardBuilder;Fe&&(J=Fe),J.addGroup((0,b.Th)(be,"leaderLine"),function(re){return function(be,Fe,ee){var k;void 0===ee&&(ee="Visual_LeaderLines");var Ce=Fe.dataLabelsProps,J=Fe.omitGroupDisplayNames,re=Fe.repetitionSelector,Ie=Fe.options,ot=Fe.selector,we=Fe.hostServices;if(Ie.leaderLines){var he=Ie.dataLabelsSettings,Te=Ie.style?Ie.style:(0,p.Ue)();if(J||be.withDisplayName(ee).addTopLevelToggle("enableLeaderLines",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.leaderLines),{selector:ot}),value:he.leaderLines}).build()}),Ce.leaderLineColor&&be.addSimpleSlice("leaderLineColor",function(){var ne,Ne,et=(0,b.e9)(Fe);return new V.BT({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.leaderLineColor),{selector:(0,D.hm)(Fe.individualSelector,ot,re),instanceKind:et,altConstantValueSelector:(0,D.Cn)(Fe.individualSelector,ot,Fe.includeAltConstantValueSelector)}),value:{value:(null===(Ne=null===(ne=he.leaderLineColor)||void 0===ne?void 0:ne.solid)||void 0===Ne?void 0:Ne.color)||he.fontProperties.color||u.v.getThemeColor(Te,l.uQ)}}).build()},function(ne){return ne.withDisabled(Ie.matchSeriesColor)}),Ce.leaderLineTransparency&&be.addSimpleSlice("leaderLineTransparency",V.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.leaderLineTransparency),{selector:ot}),value:Math.round(100*(null!==(k=he.leaderLineTransparency)&&void 0!==k?k:0)),localize:function(Ne){return we.getLocalizedString(Ne)}}).build()),Ce.leaderLineWidth){var fe=he.leaderLineWidth;be.addSimpleSlice("leaderLineWidth",function(){return new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},Ce.leaderLineWidth),{selector:ot}),value:fe||l.Hj,options:{minValue:{type:0,value:1},maxValue:{type:1,value:l.lj}}}).build()})}}}(re,be,ee),Ce.leaderLines||re.withDisabled(!0,"Visual_LeaderLines_DisabledReason"),re.build()})}}function te(be,Fe){var ee=Fe.options,Ce=Fe.selector,re=Fe.dataLabelsProps.detailLabelPrecision;if(ee.precision&&re){var Ie=ee.dataLabelsSettings.detailLabelPrecision;be.addSimpleSlice("detailLabelPrecision",function(){return new V.mu({descriptor:(0,t.__assign)((0,t.__assign)({},re),{selector:Ce}),value:Ie===l.NZ?null:Ie,options:{minValue:{type:0,value:0},maxValue:{type:1,value:l.vo}}}).build()})}}var H=r(187810),de=r(804494),Y=r(906298),se=r(744883);function ce(be){return function(be){var Fe={text:be.formatter?be.formatter.format(be.label):e.dx.formatValue(be.label,be.format),fontFamily:be.fontProperties.family?be.fontProperties.family:l.bN.fontFamily,fontSize:m.FP.fromPoint(be.fontProperties.size.pt),fontWeight:l.bN.fontWeight};return s.b.getTailoredTextOrDefault(Fe,be.maxWidth?be.maxWidth:l.Vr)}({label:be.label,maxWidth:be.maxWidth,format:be.format,formatter:be.formatter,fontProperties:be.fontProperties?be.fontProperties:void 0})}function pe(){return new a.R}function ve(be,Fe){return(0,d.U2)().getTextSize(be,Fe&&Fe.size?Fe.size.pt:void 0,Fe?Fe.family:void 0)}function De(be,Fe,ee,k,Ce){var J,re,Ie,ot,we,he;if(void 0===k&&(k=(0,p.Ue)()),void 0===Ce&&(Ce=!1),be){var Te=u.v.create(k);void 0!==be.showByDefault&&(Fe.showByDefault=be.showByDefault),void 0!==be.show&&(Fe.show=be.show),void 0!==be.showSeries&&(Fe.show=be.showSeries),void 0!==be.valueCustomFormatString&&(Fe.valueCustomFormatString=be.valueCustomFormatString),void 0!==be.labelPrecision&&(Fe.precision=be.labelPrecision>=0?be.labelPrecision:l.NZ),void 0!==be.percentageLabelPrecision&&(Fe.percentagePrecision=be.percentageLabelPrecision>=0?be.percentageLabelPrecision:l.Qc);var Oe=void 0!==be.bold?be.bold:Fe.bold,Je=void 0!==be.italic?be.italic:Fe.italic,fe=void 0!==be.underline?be.underline:Fe.underline;Fe.fontProperties={color:Te.getColorForPropertyNameWithDefaultColor(be,"color",Fe.fontProperties.color),size:void 0!==be.fontSize?se.B.createFromPt(+be.fontSize):Fe.fontProperties.size,family:void 0!==be.fontFamily?be.fontFamily:Fe.fontProperties.family,weight:Oe?c.en:c.AI,style:Je?c.BF:c.AI,textDecoration:fe?c.f0:c.zu},Fe.bold=Oe,Fe.italic=Je,Fe.underline=fe,void 0!==be.showAll&&(Fe.showLabelPerSeries=be.showAll),void 0!==be.labelStyle?Fe.labelStyle=be.labelStyle:void 0!==be.funnelLabelStyle&&(Fe.labelStyle=be.funnelLabelStyle),void 0!==be.labelContainerMaxWidth&&(Fe.labelContainerMaxWidth=be.labelContainerMaxWidth),void 0!==be.labelContentLayout&&(Fe.labelContentLayout=be.labelContentLayout),void 0!==be.labelOrientation&&(Fe.labelOrientation=ee?be.labelOrientation:Fe.labelOrientation),be.labelPosition&&(Fe.position=be.labelPosition),void 0!==be.labelOverflow&&(Fe.labelOverflow=be.labelOverflow);var ne=!1;void 0!==be.enableBackground&&(Fe.enableBackground=be.enableBackground,ne=be.enableBackground),(be.backgroundColor||ne)&&(Fe.backgroundColor=Te.getColorForPropertyName(be,"backgroundColor",l.lp)),null!=be.backgroundTransparency?Fe.backgroundTransparency=be.backgroundTransparency/100:ne&&(Fe.backgroundTransparency=Ce?l.r_:l.BS),void 0!==be.preserveWhitespace&&(Fe.preserveWhitespace=be.preserveWhitespace),void 0!==be.showPositiveAndNegative&&(Fe.showPositiveAndNegative=be.showPositiveAndNegative),void 0!==be.showDynamicLabels&&(Fe.showDynamicLabels=be.showDynamicLabels),void 0!==be.dynamicLabelValue&&(Fe.dynamicLabelValue=be.dynamicLabelValue),void 0!==be.leaderLines&&(Fe.leaderLines=be.leaderLines),void 0!==be.minimumOffset&&(Fe.minimumOffset=be.minimumOffset),void 0!==be.maximumOffset&&(Fe.maximumOffset=be.maximumOffset),void 0!==be.enableTitleDataLabel&&(Fe.enableTitleDataLabel=be.enableTitleDataLabel),void 0!==be.enableValueDataLabel&&(Fe.enableValueDataLabel=be.enableValueDataLabel),void 0!==be.enableDetailDataLabel&&(Fe.enableDetailDataLabel=be.enableDetailDataLabel);var Ne=void 0!==be.titleBold?be.titleBold:Fe.titleBold,et=void 0!==be.titleItalic?be.titleItalic:Fe.titleItalic,tt=void 0!==be.titleUnderline?be.titleUnderline:Fe.titleUnderline;Fe.titleFontProperties={color:Te.getColorForPropertyNameWithDefaultColor(be,"titleColor",null===(J=Fe.titleFontProperties)||void 0===J?void 0:J.color),size:void 0!==be.titleFontSize?se.B.createFromPt(+be.titleFontSize):null===(re=Fe.titleFontProperties)||void 0===re?void 0:re.size,family:void 0!==be.titleFontFamily?be.titleFontFamily:null===(Ie=Fe.titleFontProperties)||void 0===Ie?void 0:Ie.family,weight:Ne?c.en:c.AI,style:et?c.BF:c.AI,textDecoration:tt?c.f0:c.zu},Fe.titleBold=Ne,Fe.titleItalic=et,Fe.titleUnderline=tt,void 0!==be.showBlankAs&&(Fe.showBlankAs=be.showBlankAs),void 0!==be.transparency&&(Fe.transparency=be.transparency/100),void 0!==be.wordWrap&&(Fe.wordWrap=be.wordWrap),void 0!==be.titleContentType&&(Fe.titleContentType=be.titleContentType),void 0!==be.titleTransparency&&(Fe.titleTransparency=be.titleTransparency/100),void 0!==be.titleLabelDisplayUnits&&(Fe.titleLabelDisplayUnits=be.titleLabelDisplayUnits),void 0!==be.titleCustomFormatString&&(Fe.titleCustomFormatString=be.titleCustomFormatString),void 0!==be.titleLabelPrecision&&(Fe.titleLabelPrecision=be.titleLabelPrecision),void 0!==be.titleShowBlankAs&&(Fe.titleShowBlankAs=be.titleShowBlankAs),void 0!==be.titleFontFamily&&(Fe.titleFontFamily=be.titleFontFamily),void 0!==be.titleFontSize&&(Fe.titleFontSize=be.titleFontSize),void 0!==be.titleColor&&(Fe.titleColor=be.titleColor);var xe=void 0!==be.detailBold?be.detailBold:Fe.detailBold,Ve=void 0!==be.detailItalic?be.detailItalic:Fe.detailItalic,Le=void 0!==be.detailUnderline?be.detailUnderline:Fe.detailUnderline;Fe.detailFontProperties={color:Te.getColorForPropertyNameWithDefaultColor(be,"detailColor",null===(ot=Fe.detailFontProperties)||void 0===ot?void 0:ot.color),size:void 0!==be.detailFontSize?se.B.createFromPt(+be.detailFontSize):null===(we=Fe.detailFontProperties)||void 0===we?void 0:we.size,family:void 0!==be.detailFontFamily?be.detailFontFamily:null===(he=Fe.detailFontProperties)||void 0===he?void 0:he.family,weight:xe?c.en:c.AI,style:Ve?c.BF:c.AI,textDecoration:Le?c.f0:c.zu},Fe.detailBold=xe,Fe.detailItalic=Ve,Fe.detailUnderline=Le,void 0!==be.detailColor&&(Fe.detailColor=be.detailColor),void 0!==be.detailFontSize&&(Fe.detailFontSize=be.detailFontSize),void 0!==be.detailFontFamily&&(Fe.detailFontFamily=be.detailFontFamily),void 0!==be.detailTransparency&&(Fe.detailTransparency=be.detailTransparency/100),void 0!==be.detailShowBlankAs&&(Fe.detailShowBlankAs=be.detailShowBlankAs),void 0!==be.dynamicLabelDetail&&(Fe.dynamicLabelDetail=be.dynamicLabelDetail),void 0!==be.detailLabelDisplayUnits&&(Fe.detailLabelDisplayUnits=be.detailLabelDisplayUnits),void 0!==be.detailCustomFormatString&&(Fe.detailCustomFormatString=be.detailCustomFormatString),void 0!==be.detailLabelPrecision&&(Fe.detailLabelPrecision=be.detailLabelPrecision),void 0!==be.detailContentType&&(Fe.detailContentType=be.detailContentType),void 0!==be.optimizeLabelDisplay&&(Fe.optimizeLabelDisplay=be.optimizeLabelDisplay),void 0!==be.labelDisplayUnits&&(Fe.displayUnits=be.labelDisplayUnits),void 0!==be.horizontalAlignment&&(Fe.horizontalAlignment=be.horizontalAlignment),void 0!==be.leaderLineStyle&&(Fe.leaderLineStyle=be.leaderLineStyle),void 0!==be.leaderLineColor&&(Fe.leaderLineColor=be.leaderLineColor),void 0!==be.leaderLineTransparency&&(Fe.leaderLineTransparency=be.leaderLineTransparency/100),void 0!==be.leaderLineWidth&&(Fe.leaderLineWidth=be.leaderLineWidth)}}function We(be,Fe,ee,k){if(void 0===k&&(k=!1),be){var Ce=u.v.create(ee);void 0!==be.showByDefault&&(Fe.showByDefault=be.showByDefault),void 0!==be.show&&(Fe.show=be.show),void 0!==be.seriesColor&&(Fe.seriesColor=Ce.getColorForPropertyNameWithDefaultColor(be,"seriesColor",be.seriesColor));var J=void 0!==be.bold?be.bold:Fe.bold,re=void 0!==be.italic?be.italic:Fe.italic,Ie=void 0!==be.underline?be.underline:Fe.underline;Fe.fontProperties={size:void 0!==be.textSize?se.B.createFromPt(+be.textSize):Fe.fontProperties.size,family:void 0!==be.seriesFontFamily?be.seriesFontFamily:Fe.fontProperties.family,weight:J?c.en:c.AI,style:re?c.BF:c.AI,textDecoration:Ie?c.f0:c.zu},void 0!==be.showAll&&(Fe.showLabelPerSeries=be.showAll),be.seriesPosition&&(Fe.seriesPosition=be.seriesPosition),be.seriesWordWrap&&(Fe.seriesWordWrap=be.seriesWordWrap),be.seriesMaximumWidth&&(Fe.seriesMaximumWidth=be.seriesMaximumWidth,Fe.defaultSeriesWidth=null);var ot=!1;void 0!==be.enableBackground&&(Fe.enableBackground=be.enableBackground,ot=be.enableBackground),(be.backgroundColor||ot)&&(Fe.backgroundColor=Ce.getColorForPropertyName(be,"backgroundColor",l.lp)),null!=be.backgroundTransparency?Fe.backgroundTransparency=be.backgroundTransparency/100:ot&&(Fe.backgroundTransparency=k?l.r_:l.BS),void 0!==be.bold&&(Fe.bold=be.bold),void 0!==be.italic&&(Fe.italic=be.italic),void 0!==be.underline&&(Fe.underline=be.underline)}}function je(be,Fe,ee,k,Ce){void 0===k&&(k=(0,p.Ue)()),void 0===Ce&&(Ce=!1),De(be,Fe,ee,k,Ce),be&&void 0!==be.labelDensity&&(Fe.labelDensity=be.labelDensity)}function Ae(be){var Fe=be.labelColor,ee=be.fontSize,k=be.fontFamily,Ce=be.textClassName,J=be.style||(0,p.Ue)(),re=!!be.show,Ie=!!be.preserveWhitespace,ot=!!be.noColor,we=J&&!ot&&u.v.getThemeColor(J,l.uQ),he=(0,H.ED)(l.bL,{size:ee?se.B.createFromPt(ee):void 0,family:k,color:!ot&&(Fe||we)}),Te=(0,Y.m)(J,Ce,ot),Oe=(0,H.ED)(he,Te),Je={show:re,showByDefault:!0,position:0,displayUnits:0,valueCustomFormatString:l.M3,precision:l.NZ,fontProperties:Oe,titleFontProperties:Oe,detailFontProperties:Oe,bold:!1,italic:!1,underline:!1,transparency:0,wordWrap:!1,titleBold:!1,titleItalic:!1,titleUnderline:!1,titleTransparency:0,titleLabelDisplayUnits:0,titleCustomFormatString:l.M3,titleLabelPrecision:l.NZ,detailBold:!1,detailItalic:!1,detailUnderline:!1,detailTransparency:0,detailLabelDisplayUnits:0,detailCustomFormatString:l.M3,detailLabelPrecision:l.NZ};return Object.defineProperties(Je,{preserveWhitespace:{value:Ie,writable:!0}}),Je}function _e(be,Fe){void 0===be&&(be=(0,p.Ue)());var ee=u.v.getThemeColor(be,l.uQ),k=(0,H.ED)(l.bL,{color:ee}),Ce=(0,Y.m)(be,Fe);return{show:!1,position:0,displayUnits:0,precision:l.NZ,fontProperties:(0,H.ED)(k,Ce),bold:!1,italic:!1,underline:!1}}function me(be,Fe,ee,k){i.fF.assertValue(be,"options"),i.fF.assertValue(be.enumeration,"enumeration");var Ce=be.style?be.style:(0,p.Ue)();if(be.dataLabelsSettings){var re,Ie,J={objectName:k&&k.objectName||"labels",selector:be.selector,properties:{},propertyInstanceKind:{color:be.selector?1:3}};if(be.show&&be.selector?J.properties.showSeries=be.dataLabelsSettings.show:be.show&&(J.properties.show=be.dataLabelsSettings.show),be.labelStyle&&(J.properties.labelStyle=be.dataLabelsSettings.labelStyle,re=(0,b.RC)(be.dataLabelsSettings.labelStyle)),be.funnelLabelStyle&&(J.properties.funnelLabelStyle=be.dataLabelsSettings.labelStyle,Ie=(0,b.Fw)(be.dataLabelsSettings.labelStyle)),J.properties.color=be.dataLabelsSettings.fontProperties.color||u.v.getThemeColor(Ce,l.uQ),be.displayUnits&&(J.properties.labelDisplayUnits=be.dataLabelsSettings.displayUnits),be.precision&&re&&(0,v.yE)(re,o.nO)||be.precision&&Ie&&(0,v.yE)(Ie,n.nO)||be.precision&&!re){var ot=be.dataLabelsSettings.precision;J.properties.labelPrecision=ot===l.NZ?null:ot,Ze(J,"labelPrecision",{numberRange:{min:0,max:l.vo}})}if(be.percentagePrecision&&re&&(0,v.yE)(re,o.tG)||be.percentagePrecision&&Ie&&(0,v.yE)(Ie,n.r0)||(0,v.yE)(Ie,n.CR)||be.percentagePrecision&&!re){var he=be.dataLabelsSettings.percentagePrecision;J.properties.percentageLabelPrecision=he===l.Qc?null:he,Ze(J,"percentageLabelPrecision",{numberRange:{min:0,max:l.vo}})}if(be.labelOrientation&&(J.properties.labelOrientation=be.dataLabelsSettings.labelOrientation),be.position&&(J.properties.labelPosition=be.dataLabelsSettings.position,be.positionObject&&Ze(J,"labelPosition",be.positionObject)),be.labelOverflow&&(J.properties.labelOverflow=be.dataLabelsSettings.labelOverflow),be.fontSize&&(J.properties.fontSize=be.dataLabelsSettings.fontProperties.size.pt,be.fontSizeRange)&&Ze(J,"fontSize",{numberRange:{min:be.dataLabelsSettings.minFontSize,max:be.dataLabelsSettings.maxFontSize}}),be.fontFamily&&(J.properties.fontFamily=be.dataLabelsSettings.fontProperties.family||y.rk),be.bold&&(J.properties.bold=be.dataLabelsSettings.bold||!1),be.italic&&(J.properties.italic=be.dataLabelsSettings.italic||!1),be.underline&&(J.properties.underline=be.dataLabelsSettings.underline||!1),be.labelDensity){var Oe=(0,b.YA)(be.dataLabelsSettings);Oe&&(J.properties.labelDensity=Oe.labelDensity)}if(null!=be.enableBackground&&(J.properties.enableBackground=be.enableBackground),be.enableBackground&&(J.properties.backgroundColor=be.backgroundColor,J.properties.backgroundTransparency=Math.round(100*be.backgroundTransparency)),be.preserveWhitespace&&(J.properties.preserveWhitespace=be.dataLabelsSettings.preserveWhitespace),be.showPositiveAndNegative&&(J.properties.showPositiveAndNegative=be.dataLabelsSettings.showPositiveAndNegative),Fe&&Fe.measureDrivenDataLabels&&(J.properties.showDynamicLabels=be.dataLabelsSettings.showDynamicLabels,be.dynamicLabelValue&&(J.properties.dynamicLabelValue=be.dataLabelsSettings.dynamicLabelValue)),be.leaderLines&&(J.properties.leaderLines=be.dataLabelsSettings.leaderLines,J.properties.minimumOffset=be.dataLabelsSettings.minimumOffset,J.properties.maximumOffset=be.dataLabelsSettings.maximumOffset),be.showAll&&(J.properties.showAll=!!be.dataLabelsSettings.showLabelPerSeries),ee)for(var Je in ee)J.properties[Je]=ee[Je];return k&&k.propertyInstanceKind&&(J.propertyInstanceKind=k.propertyInstanceKind),be.enumeration.pushInstance(J)}}function ye(be){return{color:{objectName:be,propertyName:"color"},displayUnits:{objectName:be,propertyName:"labelDisplayUnits"},fontFamily:{objectName:be,propertyName:"fontFamily"},fontSize:{objectName:be,propertyName:"fontSize"},position:{objectName:be,propertyName:"labelPosition"},percentagePrecision:{objectName:be,propertyName:"percentageLabelPrecision"},precision:{objectName:be,propertyName:"labelPrecision"},show:{objectName:be,propertyName:"show"},labelStyle:{objectName:be,propertyName:"labelStyle"},bold:{objectName:be,propertyName:"bold"},italic:{objectName:be,propertyName:"italic"},underline:{objectName:be,propertyName:"underline"}}}function oe(be){var Fe,ee;return!(!be.hasCategories||be.hasSeriesSelector&&be.hasDynamicSeries||null===(Fe=be.featureSwitches)||void 0===Fe||!Fe.conditionalFormattingDataLabels||(null===(ee=be.featureSwitches)||void 0===ee||!ee.categoricalSecondaryCF)&&be.hasDynamicSeries)}function X(be){var Fe=be.options,ee=be.dataLabelsProps,k=be.cardBuilder,Ce=be.customDescription,J=be.omitDescription,re=be.featureSwitches;i.fF.assertValue(Fe,"options");var Ie=Fe.dataLabelsSettings;if(Ie)return J||k.withDescription(Ce||"Visual_DataPointsLabelsDescription"),ee.show&&k.addTopLevelToggle("show",function(){return new V.bd({descriptor:ee.show,value:Ie.show}).build()}),(ee.position||ee.labelStyle||ee.labelOrientation)&&(re.labelEnhancementsM0&&be.showEnhancedLabelsFormattingOptions?I(be):(0,de.j2)(be)),re.labelEnhancementsM0&&be.showEnhancedLabelsFormattingOptions?(ee.enableTitleDataLabel&&w(be),ee.enableValueDataLabel&&F(be),ee.enableDetailDataLabel&&O(be)):(0,de.$_)(be),null!=Fe.enableBackground&&ee.enableBackground&&Se(be),re.labelEnhancementsM0&&be.showEnhancedLabelsFormattingOptions&&L(be),re.labelEnhancementsM1&&be.showEnhancedLabelsFormattingOptions&&W(be),k.build()}function ue(be,Fe){var ee=be.options,k=be.dataLabelsProps,Ce=be.featureSwitches;i.fF.assertValue(ee,"options"),ee.dataLabelsSettings&&((k.position||k.labelStyle||k.labelOrientation)&&(Ce.labelEnhancementsM0&&be.showEnhancedLabelsFormattingOptions?I(be,Fe):(0,de.j2)(be,Fe)),Ce.labelEnhancementsM0&&be.showEnhancedLabelsFormattingOptions?(k.enableTitleDataLabel&&w(be,Fe),k.enableValueDataLabel&&F(be,Fe),k.enableDetailDataLabel&&O(be,Fe)):(0,de.$_)(be,Fe),null!=ee.enableBackground&&k.enableBackground&&Se(be,Fe),Ce.labelEnhancementsM0&&be.showEnhancedLabelsFormattingOptions&&L(be,Fe),Ce.labelEnhancementsM1&&be.showEnhancedLabelsFormattingOptions&&W(be,Fe))}function Se(be,Fe){var Ce=be.cardBuilder;Fe&&(Ce=Fe),null!=be.options.enableBackground&&Ce.addGroup((0,b.Th)(be,"background"),function(J){Be(J,be)})}function Be(be,Fe,ee){var k=Fe.options,Ce=Fe.hostServices,J=Fe.dataLabelsProps,re=Fe.selector;ee?be.addSimpleSlice("enableBackground",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},J.enableBackground),{selector:re}),value:k.enableBackground}).build()}):be.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new V.bd({descriptor:(0,t.__assign)((0,t.__assign)({},J.enableBackground),{selector:re}),value:k.enableBackground}).build()}),be.addSimpleSlice("backgroundColor",new V.BT({descriptor:(0,t.__assign)((0,t.__assign)({},J.backgroundColor),{selector:re}),value:{value:k.backgroundColor}}).build(),function(ot){ee?ot.withDisabled(!k.enableBackground):ot.withCustomDisplayName("Generic_Color")}).addSimpleSlice("backgroundTransparency",V.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},J.backgroundTransparency),{selector:re}),value:Math.round(100*k.backgroundTransparency),localize:function(we){return Ce.getLocalizedString(we)}}).build(),function(ot){return ot.withDisabled(ee&&!k.enableBackground)})}function Ke(be,Fe,ee){i.fF.assertValue(be,"options"),i.fF.assertValue(be.enumeration,"enumeration");var k=be.style?be.style:(0,p.Ue)();if(be.seriesLabelsSettings){var Ce={objectName:ee&&ee.objectName||"seriesLabels",selector:be.selector,properties:{},propertyInstanceKind:{color:be.selector?1:3}};if(be.show&&(Ce.properties.show=be.seriesLabelsSettings.show),Ce.properties.seriesColor=be.seriesLabelsSettings.seriesColor||u.v.getThemeColor(k,l.uQ),null!=be.seriesPosition&&!be.selector&&(Ce.properties[h.zK.seriesLabels.seriesPosition.propertyName]=be.seriesPosition),be.fontSize&&(Ce.properties[h.zK.seriesLabels.textSize.propertyName]=be.seriesLabelsSettings.fontProperties.size.pt,be.fontSizeRange)&&Ze(Ce,h.zK.seriesLabels.textSize.propertyName,{numberRange:{min:be.seriesLabelsSettings.minFontSize,max:be.seriesLabelsSettings.maxFontSize}}),be.fontFamily&&(Ce.properties[h.zK.seriesLabels.seriesFontFamily.propertyName]=be.seriesLabelsSettings.fontProperties.family||y.rk),be.bold&&(Ce.properties.bold=be.seriesLabelsSettings.bold||!1),be.italic&&(Ce.properties.italic=be.seriesLabelsSettings.italic||!1),be.underline&&(Ce.properties.underline=be.seriesLabelsSettings.underline||!1),null!=be.enableBackground&&(Ce.properties.enableBackground=be.enableBackground),be.enableBackground&&(Ce.properties.backgroundColor=be.backgroundColor,Ce.properties.backgroundTransparency=Math.round(100*be.backgroundTransparency)),null!=be.seriesWordWrap&&!be.selector&&(Ce.properties[h.zK.seriesLabels.seriesWordWrap.propertyName]=be.seriesWordWrap),null==be.seriesMaximumWidth||be.selector||(Ce.properties[h.zK.seriesLabels.seriesMaximumWidth.propertyName]=be.defaultSeriesWidth?null:be.seriesMaximumWidth,Ze(Ce,h.zK.seriesLabels.seriesMaximumWidth.propertyName,{numberRange:{min:l._i,max:l.NL}})),be.showAll&&(Ce.properties.showAll=!!be.seriesLabelsSettings.showLabelPerSeries),Fe)for(var Ie in Fe)Ce.properties[Ie]=Fe[Ie];return ee&&ee.propertyInstanceKind&&(Ce.propertyInstanceKind=ee.propertyInstanceKind),be.enumeration.pushInstance(Ce)}}function Ze(be,Fe,ee){be.validValues||(be.validValues={}),be.validValues[Fe]=ee}function qe(be,Fe,ee,k,Ce,J,re,Ie){void 0===Ce&&(Ce=!1),void 0===re&&(re=(0,p.Ue)());var ot=Fe||_e(re),he={objectName:Ie&&Ie.objectName?Ie.objectName:"categoryLabels",selector:null,properties:{}};ee&&(he.properties.color=ot.categoryLabelColor?ot.categoryLabelColor:ot.fontProperties.color),he.properties.show=Ce?ot.showCategory:ot.show,he.properties.fontSize=Fe?Fe.fontProperties.size.pt:l.Uy,he.properties.fontFamily=Fe?Fe.fontProperties.family:l.OW,he.properties.bold=!!Fe&&Fe.bold,he.properties.italic=!!Fe&&Fe.italic,he.properties.underline=!!Fe&&Fe.underline,he.properties.enableBackground=!!Fe&&!!Fe.enableBackground,Fe&&Fe.enableBackground&&(he.properties.enableBackground=!0,he.properties.backgroundColor=Fe.backgroundColor||u.v.getThemeColor(re,l.lp),he.properties.backgroundTransparency=null!=Fe.backgroundTransparency?Math.round(100*Fe.backgroundTransparency):Math.round(100*l.BS)),J&&(he.properties.fontSize=J),Ie&&Ie.propertyInstanceKind&&(he.propertyInstanceKind=Ie.propertyInstanceKind),be.pushInstance(he)}function it(be){var Fe,ee,k,Ce=be.cardName,J=be.isShowCategory,re=be.props,Ie=be.revertToDefaultProps,ot=be.showBackground,we=be.showValueColor,he=be.style,Te=be.disabled,Oe=be.disabledReason,Je=null!==(Fe=be.dataLabelSettings)&&void 0!==Fe?Fe:_e(he),fe=new V.CQ(new V.lg("categoryLabels"),Ce,Ie,be.localize),Ne=(new V.UN).withFontFamily({descriptor:re.fontFamily,value:null!==(ee=Je.fontProperties.family)&&void 0!==ee?ee:l.OW}).withFontSizeProperties({descriptor:re.fontSize,value:null!==(k=Je.fontProperties.size.pt)&&void 0!==k?k:l.Uy}).withBold({descriptor:re.bold,value:Je.bold}).withItalic({descriptor:re.italic,value:Je.italic}).withUnderline({descriptor:re.underline,value:Je.underline}).build();return fe.withDescription("Visual_CategoryLabelOptionsDescription").addTopLevelToggle("show",function(){return new V.bd({descriptor:re.show,value:J?Je.showCategory:Je.show}).build()}).addGroup("values",function(et){var tt;ot&&et.withDisplayName("Role_DisplayName_Values"),et.addCompositeSlice("font","Font",Ne),we&&et.addSimpleSlice("color",new V.BT({descriptor:re.color,value:{value:null!==(tt=Je.categoryLabelColor)&&void 0!==tt?tt:Je.fontProperties.color}}).build())}),ot&&fe.addGroup("background",function(et){var tt,xe;et.withDisplayName("Visual_Background").addTopLevelToggle("show",function(){return new V.bd({descriptor:re.enableBackground,value:Je.enableBackground}).build()}).addSimpleSlice("color",new V.BT({descriptor:re.backgroundColor,value:{value:null!==(tt=Je.backgroundColor)&&void 0!==tt?tt:u.v.getThemeColor(he,l.lp)}}).build()).addSimpleSlice("transparency",V.JN.getTransparencySliderBuilder({descriptor:re.backgroundTransparency,value:Math.round(100*(null!==(xe=Je.backgroundTransparency)&&void 0!==xe?xe:l.BS)),localize:be.localize}).build())}),Te&&fe.withDisabled(!0,Oe),fe.build()}},506963:function(ze,K,r){r.d(K,{Ej:function(){return n},Fw:function(){return d},RC:function(){return b},Th:function(){return l},YA:function(){return u},YO:function(){return e},e9:function(){return o},h1:function(){return v}});var t=r(226514),c=r(787941),i=r(760182),s=r(326621),p=r(72653),V=r(326899),m=r(2570);function v(f,g){if(c.fF.assertAnyValue(g,"format"),f!==m.NZ)return f;if("g"!==g&&"G"!==g){if(g){var S=(0,s.OQ)(g).positive,y=(0,s.rH)(S,!0);if(y.hasDots)return y.optionalPrecision?void 0:y.precision}return m.xy}}function e(f,g,S,y){return{displayUnitSystemType:i.V.DataLabels,format:g,precision:y,value:f.displayUnits,value2:S,allowFormatBeautification:!0}}function h(f){return m.Q2.test(f)}function n(f,g){f=f?f.filter(function(C){return null!=C&&C.length>0}):[],g=g||"";for(var S=[];f.length>0;){var y=f.shift();S.length>0&&h(S[S.length-1])&&!h(y)&&(S[S.length-1]="".concat(S[S.length-1],"\u200e")),S.push(y)}return S.join(g)}function o(f){return null!=f.instanceKind?f.instanceKind:f.individualSelector?3:1}function u(f){return"labelDensity"in f?f:(0,t.__assign)((0,t.__assign)({},f),{labelDensity:m.go})}function l(f,g){return null!=f&&f.instanceId?"".concat(f.instanceId,"-").concat(g):g}function d(f){switch(f){case p.aT:return p.YK.data;case p.oN:return p.YK.percentOfFirst;case p.r2:return p.YK.percentOfPrevious;case p.MS:return p.YK.dataAndPercentOfFirst;case p.mN:return p.YK.dataAndPercentOfPrevious;default:return c.fF.assertFail("Unexpected labelStyle: ".concat(f)),p.YK.data}}function b(f){switch(f){case V.aT:return V.YK.data;case V.aQ:return V.YK.percent;case V.f3:return V.YK.categoryAndData;case V.ev:return V.YK.categoryAndPercent;case V.qv:return V.YK.dataAndPercent;case V._q:return V.YK.categoryAndDataAndPercent;case V.W3:return V.YK.category;default:return c.fF.assertFail("Unexpected labelStyle: ".concat(f)),V.YK.category}}},485502:function(ze,K,r){r.d(K,{K0:function(){return m},XS:function(){return p},kV:function(){return v},n$:function(){return s}});var t=r(787941),c=r(664723),i=r(238435);function s(e){return e&&e.categorical&&e.categorical.categories&&e.categorical.categories.length>1}function p(e){if(function(e){if(_.isEmpty(e))return!1;var h=_.some(e,function(n){var o=n.categorical;if(!o)return!1;if(!o.categories)return!1;var a=o.values;return!(!(a&&a.group&&a.group.by)||_.isEmpty(a.group.by.items))});return!h}(e))for(var n=0,o=e;n<o.length;n++){var u=o[n];if(!u.categorical)return;var a=u.categorical.categories;if(!a||!a.dataReductionAlgorithm||!a.dataReductionAlgorithm.window)return;a.dataReductionAlgorithm={window:{count:1e3}}}}function m(e){t.fF.assertNonEmpty(e,"mappings");for(var h=0,n=e;h<n.length;h++)(0,i.Sr)(n[h].categorical.categories,{visitRole:function(l){var d=l.items;if(!_.isEmpty(d)&&!_.isEmpty(l.activeItems))for(var f=0,g=_.filter(d,function(y){return _.includes(l.activeItems,y.queryName)});f<g.length;f++)g[f].filteredToUniqueValueProperty=c.p.filters.filteredToUniqueValue}})}function v(e,h,n){void 0===n&&(n=1);for(var o=function(b){if(!(b&&b.categorical&&b.categorical.categories&&b.metadata))return"continue";var f=b.metadata.columns,g=b.categorical.categories;if(_.some(f,function(S){return void 0!==S.sort}))return"continue";(0,i.Sr)(g,{visitRole:function(y,C){if(_.includes(h,y.role)){var E=y.activeItems;if(!_.isEmpty(E))for(var D=0,P=function(N){var x=_.find(f,function(A){return A.queryName===N});x&&(x.sort=n,x.sortOrder=D++)},M=0,T=E;M<T.length;M++)P(T[M])}}})},u=0,a=e;u<a.length;u++)o(a[u])}},488165:function(ze,K,r){r.d(K,{F:function(){return c}});var t=r(787941),c=function(){function i(s,p,V,m){this.matchObjectName=s,this.matchPropertyName=p,this.relatedTopLevelToggleValue=V,this.hasSelector=m,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}return i.prototype.onToggleDisabled=function(){for(var s,p=[],V=0;V<arguments.length;V++)p[V]=arguments[V];return(s=this.disabledBehaviorChanges).push.apply(s,p),this},i.prototype.onToggleEnabled=function(){for(var s,p=[],V=0;V<arguments.length;V++)p[V]=arguments[V];return(s=this.enabledBehaviorChanges).push.apply(s,p),this},i.prototype.getBehaviorChanges=function(s){switch(s){case 2:return this.disabledBehaviorChanges;case 1:return this.enabledBehaviorChanges;default:t.fF.assertNever(s)}},i.prototype.updateBehaviorChanges=function(s,p){switch(s){case 2:this.disabledBehaviorChanges.forEach(function(V){return V.updateChange(p)});break;case 1:this.enabledBehaviorChanges.forEach(function(V){return V.updateChange(p)});break;default:t.fF.assertNever(s)}},i.prototype.getToggleBehaviorType=function(s){return this.relatedTopLevelToggleValue&&!s.propertyValue?2:!this.relatedTopLevelToggleValue&&s.propertyValue?1:0},i.prototype.isMatchingVisualObjectChange=function(s){return s.objectName===this.matchObjectName&&s.propertyName===this.matchPropertyName&&!!s.selector===this.hasSelector},i}()},758977:function(ze,K,r){r.d(K,{$:function(){return i}});var t=r(226514),i=function(s){function p(V,m,v){return s.call(this,V,m,v,!1)||this}return(0,t.__extends)(p,s),p.create=function(V,m){return new p(V.objectName,V.propertyName,m)},p.prototype.getChanges=function(V){if(this.isMatchingVisualObjectChange(V)){var m=this.getToggleBehaviorType(V);if(0!==m)return this.updateBehaviorChanges(m,V),this.getBehaviorChanges(m)}return[]},p}(r(488165).F)},604011:function(ze,K,r){r.d(K,{o:function(){return c}});var t=r(226514),c=function(){function i(){}return i.getDataViewObjectsBehaviorChanges=function(s,p){for(var V=[],m=0,v=s;m<v.length;m++)for(var e=v[m],h=0,n=p;h<n.length;h++)V.unshift.apply(V,n[h].getChanges(e));return V},i.applyDataViewObjectsBehaviorChanges=function(s,p){for(var V=(0,t.__spreadArray)([],s,!0),m=0,v=p;m<v.length;m++)V=v[m].applyChange(V);return V},i}()},932093:function(ze,K,r){r.d(K,{W:function(){return c}});var t=r(226514),c=function(){function i(s,p,V){this.visualObjectChange=s,this.required=p,this.shouldInheritSelector=V}return i.createBooleanDataViewObjectChange=function(s,p,V){var m=(0,t.__assign)((0,t.__assign)({},s),{propertyValue:p,propertyType:{bool:!0}});return i.create(m,V)},i.createRevertToDefaultDataViewObjectChange=function(s,p){return i.create({objectName:s,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},p)},i.createColorDataViewObjectChange=function(s,p,V){var m=(0,t.__assign)((0,t.__assign)({},s),{propertyValue:{value:p},propertyType:{fill:{solid:{color:!0}}}});return i.create(m,V)},i.createNumericDataViewObjectChange=function(s,p,V){var m=(0,t.__assign)((0,t.__assign)({},s),{propertyValue:p,propertyType:{numeric:!0}});return i.create(m,V)},i.create=function(s,p){return null!=p&&p.selector&&(s.selector=p.selector),new i(s,null==p?void 0:p.required,null==p?void 0:p.inheritSelector)},i.prototype.applyChange=function(s){return s.push(this.visualObjectChange),s},i.prototype.updateChange=function(s){this.shouldInheritSelector&&(this.visualObjectChange.selector=s.selector)},i}()},26526:function(ze,K,r){function t(i){if(i)return!!i.handled}function c(i){i&&(i.handled=!0)}r.d(K,{n:function(){return c},q:function(){return t}})},187810:function(ze,K,r){r.d(K,{ED:function(){return n},E_:function(){return b},JZ:function(){return l},XH:function(){return v},Zi:function(){return e},jB:function(){return S},qk:function(){return u},rL:function(){return o},wB:function(){return a},xH:function(){return g}});var t=r(629925),c=r(787941),i=r(299747),s=r(520907),p=r(129035),V=r(906298),m=r(744883);function v(C,E,D,P,M){var T=h(C,E,D,P,M);return M?n(M,T):T}function e(C,E,D,P,M,T,R,B){var N=h(C,E,D,void 0),x=(0,V.m)(P,T),A=x;if(E.color){var I=D.getColorForPropertyName(C,E.color,M);A=B?n(x,{color:I}):n({color:I},x)}return R&&(A=n(R,A)),A?n(A,N):N}function h(C,E,D,P,M){c.fF.assertValue(E,"propertyNames");var T,R=E.weight&&(0,p.N)(C,E.weight),B=E.style&&(0,p.N)(C,E.style),N=E.underline&&(0,p.N)(C,E.underline);if(E.size){var x=(0,p.N)(C,E.size);null!=x&&(T=E.sizeInPixels?m.B.createFromPx(+x):m.B.createFromPt(+x))}return E.bold&&(R=(0,p.N)(C,E.bold)||(null==M?void 0:M.weight)===t.en?t.en:R),E.italic&&(B=(0,p.N)(C,E.italic)||(null==M?void 0:M.style)===t.BF?t.BF:B),E.underline&&(N=(0,p.N)(C,E.underline)||(null==M?void 0:M.textDecoration)===t.f0?t.f0:N),{color:E.color&&D.getColorForPropertyName(C,E.color,P),family:E.family&&(0,p.N)(C,E.family),lineHeight:E.lineHeight&&(0,p.N)(C,E.lineHeight),size:T,style:B,variant:E.variant&&(0,p.N)(C,E.variant),weight:R,whiteSpace:E.whiteSpace&&(0,p.N)(C,E.whiteSpace),textDecoration:N}}function n(C,E){c.fF.assertValue(C,"fontProperties");var D=(0,i.ED)(C);return E&&((E.color||null===E.color)&&(D.color=E.color),E.family&&(D.family=E.family),E.lineHeight&&(D.lineHeight=E.lineHeight),E.size&&(D.size=E.size),E.style&&(D.style=E.style),E.variant&&(D.variant=E.variant),E.weight&&(D.weight=E.weight),E.whiteSpace&&(D.whiteSpace=E.whiteSpace),E.textDecoration&&(D.textDecoration=E.textDecoration)),D}function o(C,E){return c.fF.assertValue(C,"fontProperties"),b(n(C,E))}function u(C,E,D){return c.fF.assertValue(C,"fontProperties"),D&&(C=f(C)),{text:E,fontFamily:C.family,fontSize:C.size?s.FP.toString(C.size.px):void 0,fontWeight:C.weight,fontStyle:C.style,fontVariant:C.variant,whiteSpace:C.whiteSpace}}function a(C){c.fF.assertValue(C,"fontProperties");var E={};return C.color&&(E.color=C.color),C.family&&(E["font-family"]=C.family),C.lineHeight&&(E["line-height"]=C.lineHeight),C.size&&(E["font-size"]=C.size?s.FP.toString(C.size.px):void 0),C.variant&&(E["font-variant"]=C.variant),C.whiteSpace&&(E["white-space"]=C.whiteSpace),E["font-weight"]=C.weight?C.weight:null,E["font-style"]=C.style?C.style:null,E["text-decoration"]=C.textDecoration?C.textDecoration:null,E}function l(C,E){return c.fF.assertValue(C,"fontProperties"),c.fF.assertValue(E,"element"),function(C,E){c.fF.assertValue(C,"fontProperties"),c.fF.assertValue(E,"style"),C.color&&(E.fill=C.color),C.family&&(E.fontFamily=C.family),C.lineHeight&&(E.lineHeight=C.lineHeight),C.size&&(E.fontSize=C.size?s.FP.toString(C.size.px):void 0),C.style&&(E.fontStyle=C.style),C.variant&&(E.fontVariant=C.variant),C.weight&&(E.fontWeight=C.weight),C.whiteSpace&&(E.whiteSpace=C.whiteSpace)}(C,E.style),E}function b(C){c.fF.assertValue(C,"fontProperties");var E={};return C.color&&(E.fill=C.color),C.family&&(E["font-family"]=C.family),C.lineHeight&&(E["line-height"]=C.lineHeight),C.size&&(E["font-size"]=C.size?s.FP.toString(C.size.px):void 0),C.variant&&(E["font-variant"]=C.variant),C.whiteSpace&&(E["white-space"]=C.whiteSpace),E["font-weight"]=C.weight?C.weight:null,E["font-style"]=C.style?C.style:null,E["text-decoration"]=C.textDecoration?C.textDecoration:null,E}function f(C,E){void 0===E&&(E=0);for(var D={},P=Object.getPrototypeOf({}),M=0;M<=E&&null!=C&&C!==P;M++)_.forOwn(C,function(T,R){void 0===D[R]&&(D[R]=T)}),C=Object.getPrototypeOf(C);return D}function g(C){return f(C,Number.MAX_VALUE)}function S(C){return{color:function(D){return C(D).color},"font-family":function(D){return C(D).family},"font-size":function(D){return C(D).size?s.FP.toString(C(D).size.px):void 0},"font-style":function(D){return C(D).style},"font-variant":function(D){return C(D).variant},"font-weight":function(D){return C(D).weight},"white-space":function(D){return C(D).whiteSpace},"text-decoration":function(D){return C(D).textDecoration}}}},643068:function(ze,K,r){r.d(K,{Aq:function(){return P},NG:function(){return M},Po:function(){return u},mG:function(){return g},qo:function(){return E},zr:function(){return R}});var t=r(629925),c=r(787941),i=r(396894),s=r(698129),p=r(129035),V=r(487496),m=r(280122),v=r(648233),e=r(279295),h=r(298801),n=r(737104),o=r(945007),u="forecast",b="foregroundDark",f={strokeShow:!1,strokeTransparency:0,strokeWidth:1,strokePattern:v.Dv.solid,displayName:"",confidenceBand:{style:m.X$.fill,areaTransparency:80}},g="Visual_Quarter_Abbreviated",S=(0,t.CH)("forecast-line"),y=(0,t.CH)("forecast-error-range"),C=(0,t.CH)("forecast-line-layer");function E(B,N,x,A){var I,w;if(c.fF.assertValue(B,"enumeration"),_.isEmpty(N)||(w=N[0]),w){var O=((I={})[n.$Z]=w.strokeShow,I[n.ss]=w.displayName,I[n.tZ]={solid:{color:w.strokeColor}},I[n.oB]=w.strokePattern,I[n.hc]=w.confidenceBand.style,I[n.KZ]=w.confidenceBand.areaTransparency,I);B.pushInstance({selector:w.selector,properties:O,objectName:u})}else{var F={selector:{id:"0"},properties:{show:!1,lineColor:D(x),style:f.strokePattern,confidenceBandStyle:f.confidenceBand.style,transparency:f.confidenceBand.areaTransparency},objectName:u,disabledReason:A};B.pushInstance(F)}}function D(B){return{solid:{color:h.v.getThemeColor(B,b)}}}function P(B){if(!B||!B.categorical||!B.categorical.values)return!1;for(var x=0,A=B.categorical.values.grouped();x<A.length;x++)if(_.some(A[x].values,function(F){return(0,i.R)(F,"forecast.ForecastValue")}))return!0;return!1}function M(B,N,x){if(!(B&&B.categorical&&N&&N.categorical))return[];var A=B.categorical;if(_.isEmpty(A.categories)||_.isEmpty(A.values))return[];var I=(0,V.A8)(A.categories[0]),w=I?_.map(I.values,function(me){return me.min}):A.categories[0].values,F=A.values.grouped();if(_.isEmpty(w)||_.isEmpty(F))return[];var O=(0,i.a2)(F,"forecast.ForecastValue"),L=(0,i.a2)(F,"forecast.ConfidenceHighBound"),W=(0,i.a2)(F,"forecast.ConfidenceLowBound"),U=[],j=function(B){var N=[];if(B&&B.categorical&&B.categorical.values){var x=_.head(B.categorical.values.grouped());if(x)for(var A=0,I=x.values;A<I.length;A++){var w=I[A],F=w.source.queryName,O=(0,s.AO)(w.source.objects,u);N[F]=O}}return N}(N),z=0,G=h.v.create(x);for(var te in j){var Q=j[te];for(var H in Q){for(var de=Q[H],Y=G.getColorForPropertyName(de,n.tZ,b),se=h.v.create(x,{objectName:"dataPoint",propertyName:"fill"},D(x).solid.color),ce=F[z],pe=[],ve=ce.values[O].highlights?ce.values[O].highlights:ce.values[O].values,De=ce.values[L].highlights?ce.values[L].highlights:ce.values[L].values,We=ce.values[W].highlights?ce.values[W].highlights:ce.values[W].values,je=0;je<w.length;je++){var Ae=(0,e.eT)(w[je]),_e=(0,e.eT)(ve[je]);null!=Ae&&null!=_e&&pe.push({point:{x:Ae,y:_e},upperBound:{x:Ae,y:(0,e.eT)(De[je])},lowerBound:{x:Ae,y:(0,e.eT)(We[je])}})}if(!Y)if(N.categorical.values.source){var le=N.categorical.values.grouped();Y=se.getColorForSeriesValue(le[z].objects,N.categorical.values.identityFields,ce.name,b)}else Y=se.getColorForMeasure(N.categorical.values[z].source.objects,ce.name,b);U.push({selector:{id:H,metadata:te},points:pe,strokeShow:(0,p.N)(de,n.$Z,f.strokeShow),displayName:(0,p.N)(de,n.ss),confidenceBand:{style:(0,p.N)(de,n.hc,f.confidenceBand.style),areaTransparency:(0,p.N)(de,n.KZ,f.confidenceBand.areaTransparency)},strokeColor:Y,strokeTransparency:f.strokeTransparency,strokePattern:(0,p.N)(de,n.oB,f.strokePattern),strokeWidth:f.strokeWidth}),z++}}return U}function R(B,N,x,A,I){var w=N.select(C.selector);w.empty()&&(w=N.insert("g",":first-child").classed(C.class,!0));var F=d3.line().x(function(L){return x(L.x)}).y(function(L){return A(L.y)});w.selectAll(y.selector).data(B||[]).join(function(L){return L.insert("path",":first-child").classed(y.class,!0)}).styles(function(L){var W=(100-L.confidenceBand.areaTransparency)/100,U="transparent",j="transparent";switch(L.confidenceBand.style){case m.X$.fill:j=L.strokeColor;break;case m.X$.line:U=L.strokeColor;break;case m.X$.none:break;case m.X$.fillLine:j=L.strokeColor,U=L.strokeColor;break;default:c.fF.assertNever(L.confidenceBand.style)}return{"fill-opacity":W,"stroke-opacity":W,stroke:U,fill:j}}).transition().ease(d3.easeLinear).duration(I).attr("d",function(L){for(var W=[],U=0,j=L.points.slice().reverse();U<j.length;U++)W.push({x:(z=j[U]).lowerBound.x,y:z.lowerBound.y});for(var G=0,te=L.points;G<te.length;G++){var z;W.push({x:(z=te[G]).upperBound.x,y:z.upperBound.y})}return F(W)});var O=d3.line().x(function(L){return x(L.point.x)}).y(function(L){return A(L.point.y)});w.selectAll(S.selector).data(B||[]).join(function(L){return L.append("path").classed(S.class,!0)}).style("fill","transparent").styles(function(L){return(0,o.b)(L)}).transition().ease(d3.easeLinear).duration(I).attr("d",function(L){return O(L.points)})}},737104:function(ze,K,r){r.d(K,{$Z:function(){return t},KZ:function(){return p},hc:function(){return s},oB:function(){return V},ss:function(){return c},tZ:function(){return i}});var t="show",c="displayName",i="lineColor",s="confidenceBandStyle",p="transparency",V="style"},210683:function(ze,K,r){r.d(K,{Kj:function(){return D},MG:function(){return a},Q1:function(){return u},Rr:function(){return o},Vn:function(){return S},Wt:function(){return g},Ym:function(){return f},Zn:function(){return h},_8:function(){return b},d9:function(){return l},jT:function(){return P},qG:function(){return y},yj:function(){return n},yw:function(){return d}});var t=r(177497),c=r(787941),i=r(396894),s=r(668268),p=r(324356),V=r(655981),m=V.LX,v="dataPoint",e="fillRule";function h(F){if(F)for(var O in F){var L=F[O];for(var W in L.properties){var U=L.properties[W];if(U.type&&U.type[e])return U.rule}}}function n(F){if(F&&F.values&&F.values.grouped){var O=F.values.grouped();return(0,i.a2)(O,"Gradient")}return-1}function o(F){if(null==F)return null;var O=n(F);return-1===O?null:F.values[O]}function u(F){return n(F)>=0}function a(F){return _.findIndex(F.valueSources,function(L){return(0,i.nu)(L,"Gradient")})>=0}function l(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:m,nullColor:null}}function d(){return P()}function b(F,O,L){var j,z,W=(0,s.zx)(L,v,null),U=S(L);if(U)switch($.isNumeric(O)&&(j=void 0!==O?(0,p.tx)(+O):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],F)&&(z=(0,p.$_)(O&&O.value,F)),F){case"minColor":!function(F,O){F.linearGradient2?F.linearGradient2.min.color=O:F.linearGradient3&&(F.linearGradient3.min.color=O)}(U,z);break;case"midColor":!function(F,O){F.linearGradient3&&(F.linearGradient3.mid.color=O)}(U,z);break;case"maxColor":!function(F,O){F.linearGradient2?F.linearGradient2.max.color=O:F.linearGradient3&&(F.linearGradient3.max.color=O)}(U,z);break;case"nullColor":!function(F,O){F.linearGradient2?F.linearGradient2.nullColoringStrategy.color=O:F.linearGradient3&&(F.linearGradient3.nullColoringStrategy.color=O)}(U,z);break;case"minValue":!function(F,O){F.linearGradient2?F.linearGradient2.min.value=O:F.linearGradient3&&(F.linearGradient3.min.value=O)}(U,j);break;case"midValue":!function(F,O){F.linearGradient3&&(F.linearGradient3.mid.value=O)}(U,j);break;case"maxValue":!function(F,O){F.linearGradient2?F.linearGradient2.max.value=O:F.linearGradient3&&(F.linearGradient3.max.value=O)}(U,j);break;case"nullStrategy":!function(F,O){F.linearGradient2?F.linearGradient2.nullColoringStrategy.strategy=O:F.linearGradient3&&(F.linearGradient3.nullColoringStrategy.strategy=O)}(U,O);break;case"diverging":U=O?{linearGradient3:_.assign({mid:{color:(0,p.$_)(null,"midColor")}},U.linearGradient2)}:{linearGradient2:U.linearGradient3},W.properties[e]=U;break;case"revertToDefault":U=d(),W.properties[e]=U;break;default:c.fF.assertFail("updateFillRule - Unexpected propertyName: ".concat(F))}}function f(F){return F?y(F):l()}function g(F){return F?function(F){var O,L,W,U,j,z,G,te,Q,H,de,Y,se,ce,pe,ve,De,We,je,Ae,_e,le=m,ie=null==F?void 0:F.linearGradient2,me=null==F?void 0:F.linearGradient3;ie?(pe=null===(O=ie.max)||void 0===O?void 0:O.color,ve=null===(L=ie.min)||void 0===L?void 0:L.color,je=null===(W=ie.max)||void 0===W?void 0:W.value,_e=null===(U=ie.min)||void 0===U?void 0:U.value,le=null===(j=ie.nullColoringStrategy)||void 0===j?void 0:j.strategy,We=null===(z=ie.nullColoringStrategy)||void 0===z?void 0:z.color):me&&(pe=null===(G=me.max)||void 0===G?void 0:G.color,De=null===(te=me.mid)||void 0===te?void 0:te.color,ve=null===(Q=me.min)||void 0===Q?void 0:Q.color,je=null===(H=me.max)||void 0===H?void 0:H.value,Ae=null===(de=me.mid)||void 0===de?void 0:de.value,_e=null===(Y=me.min)||void 0===Y?void 0:Y.value,le=null===(se=me.nullColoringStrategy)||void 0===se?void 0:se.strategy,We=null===(ce=me.nullColoringStrategy)||void 0===ce?void 0:ce.color);var ye={diverging:void 0!==F.linearGradient3,minColor:E(ve),midColor:E(De),maxColor:E(pe),nullStrategy:le,nullColor:E(We)};return null!=_e&&(ye.minValue=_e),null!=Ae&&(ye.midValue=Ae),null!=je&&(ye.maxValue=je),ye}(F):l()}function S(F){return(0,s.NA)(F,{objectName:v,propertyName:e},null)}function y(F){var O,L,W,U,j,z,G,Y,te=m,H=F.linearGradient2,de=F.linearGradient3;if(H)O=H.max.color.value,L=H.min.color.value,(se=H.max.value)&&(j=se.value),(ce=H.min.value)&&(G=ce.value),Y=H.nullColoringStrategy;else if(de){var se;O=de.max.color.value,W=de.mid.color.value,L=de.min.color.value,(se=de.max.value)&&(j=se.value);var ce,pe=de.mid.value;pe&&(z=pe.value),(ce=de.min.value)&&(G=ce.value),Y=de.nullColoringStrategy}if(Y){te=Y.strategy.value;var ve=Y.color;ve&&(U=ve.value)}var De={diverging:void 0!==F.linearGradient3,minColor:E(L),midColor:E(W),maxColor:E(O),nullStrategy:te,nullColor:E(U)};return null!=G&&(De.minValue=G),null!=z&&(De.midValue=z),null!=j&&(De.maxValue=j),De}function E(F){if((0,t.A7)(F))return F}function D(F,O){var L=[];return L.push(F.minColor||O.minColor.value),F.diverging&&L.push(F.midColor||O.midColor.value),L.push(F.maxColor||O.maxColor.value),L.join(",")}function P(F){var O=f(F),L={linearGradient2:{min:{color:(0,p.$_)(O.minColor,"minColor")},max:{color:(0,p.$_)(O.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,p.fL)(O.nullStrategy)}}},W=L.linearGradient2;return null!=O.minValue&&(W.min.value=(0,p.tx)(O.minValue)),null!=O.maxValue&&(W.max.value=(0,p.tx)(O.maxValue)),O.nullStrategy===V.Sx&&(W.nullColoringStrategy.color=(0,p.$_)(O.nullColor,"nullColor")),L}},918537:function(ze,K,r){r.d(K,{A$:function(){return S},BV:function(){return E},FO:function(){return l},FW:function(){return M},I8:function(){return f},Jv:function(){return x},Ku:function(){return a},OW:function(){return D},TY:function(){return R},US:function(){return P},W3:function(){return C},XM:function(){return w},Xt:function(){return d},YG:function(){return o},a0:function(){return n},bt:function(){return m},c8:function(){return I},ct:function(){return F},kW:function(){return B},lq:function(){return u},lt:function(){return e},tn:function(){return O},to:function(){return h},wf:function(){return g},zV:function(){return N}});var t=r(932178),c=r(453543),i=r(26526);function m(){var L=d3.event;return{x:L.clientX,y:L.clientY}}var v="keydown.clearCatcher";function e(L,W){L.on(v,function(){var U=d3.event;67===U.keyCode&&U.ctrlKey&&U.shiftKey&&(W.handleClearSelection(),U.preventDefault(),U.stopPropagation())})}function h(L){L.on(v,null)}function n(L,W){o(L,W),D(L,W)}function o(L,W){L.on("click",function(U){I(d(U)?U.data:U,W)}),L.on("keydown.select",function(U){var j=d3.event,z=j.keyCode;32!==z&&13!==z||(I(d(U)?U.data:U,W),j.preventDefault(),j.stopPropagation())},!0)}function u(L){L.on("click",null),L.on("keydown.select",null)}function a(L){L.on("contextmenu",null)}function l(L){u(L),a(L)}function d(L){return!!L.data}var b="keydown.dataPoint";function f(L,W,U){L.on(b,function(){var j=d3.event,z=j.keyCode;(9===z||37===z||39===z||38===z||40===z)&&B(function(G){j.preventDefault(),j.stopPropagation();var te=S(G)?G.data:G;W.handleKeyDownEvent(U,te.categoryIndex,te.seriesIndex,z,j.shiftKey)},void 0)})}function g(L){L.on(b,null)}function S(L){return!!L.data}var y="keydown.enterPlotArea";function C(L,W,U){L.on(y,function(){var j=d3.event,z=j.keyCode;if(13===z)j.preventDefault(),j.stopPropagation(),W.goToFirstElement(U);else if(27===z&&j.target!==L.node()){j.preventDefault(),j.stopPropagation();var G=L.node();t.M.focus(G)}})}function E(L){L.on(y,null)}function D(L,W){L.on("contextmenu",function(U){A(d(U)?U.data:U,W)})}function P(L,W,U){(function(L,W,U){L.on(W.node(),"click",function(){B(function(j){I(d(j)?j.data:j,U)},void 0)}),L.on(W.node(),"keydown.select",function(){var z=d3.event.keyCode;(32===z||13===z)&&B(function(G){I(d(G)?G.data:G,U)},!0)},!0)})(L,W,U),R(L,W,U)}function M(L,W){L.on(W.node(),"click",function(){return null}),L.on(W.node(),"keydown.select",function(){return null})}function R(L,W,U){L.on(W.node(),"contextmenu",function(){B(function(j){A(d(j)?j.data:j,U)},void 0)})}function B(L,W){var U=d3.event,z=d3.select(U.target).datum();z&&(L(z),W&&(U.preventDefault(),U.stopPropagation()))}function N(L,W,U,j){L.selectAll("use").remove(),L.append("use").attr("href","#".concat(c.aY,"-").concat(W,"-").concat(U)).style("pointer-events","none").attr("role",null!=j?j:null).attr("aria-hidden",!0).style("fill","none")}function x(L){L.selectAll("use").remove()}function A(L,W){var U=d3.event;if(!t.M.isCtrlOrMeta(U)){U.preventDefault(),(0,i.n)(U);var j=m();W.handleContextMenu(L,j)}}function I(L,W){var U=m(),j=d3.event;(function(L){L.selectionHandled=!0})(j),W.handleSelection(L,(0,t.D)(j),U)}function w(L,W){var U=d3.event;!t.M.isCtrlOrMeta(U)&&!function(L){return!!L.selectionHandled}(U)&&(!W||null!=W&&W(U))&&L.handleClearSelection()}function F(L,W,U){var j=0;t.M.isCtrlOrMeta(L)?j=3:L.shiftKey&&(j=1),U.handleMultipleSelection(W,j,!0)}function O(L,W,U){U.handleMultipleSelection(L,W,!0)}},506038:function(ze,K,r){r.d(K,{jz:function(){return l},sq:function(){return u},zl:function(){return a}});var t=r(787941),c="powervisuals-glyph",i="big-kpi",s=["kpi-red","kpi-yellow","kpi-green"],p={kpiIconClass:"circle",statusValues:s},V={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},m={kpiIconClass:"traffic-light",statusValues:s},v={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},e={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},h={"THREE CIRCLES COLORED":p,"TRAFFIC LIGHT - SINGLE":p,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:s},"ROAD SIGNS":V,"THREE SYMBOLS CIRCLED COLORED":V,"TRAFFIC LIGHT":m,"THREE TRAFFIC LIGHTS RIMMED COLORED":m,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:v,"SMILEY FACE":v,THERMOMETER:v,CYLINDER:v,"THREE SIGNS COLORED":v,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":e,"GAUGE - ASCENDING":e,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function n(d,b){var f=parseFloat(b);if(d){var g=h[d.graphic.toUpperCase()];if(g&&!isNaN(f)){var S=g.statusValues;return d.normalizedFiveStateKpiRange&&5===S.length&&(f*=2),[g.kpiIconClass,S[f+(S.length>>1)]].join(" ").trim()}}}function o(d,b){if(d)return 1===b?[c,i,d].join(" "):[c,d].join(" ")}function u(d,b,f){return t.fF.assertValue(d,"kpi"),t.fF.assertValue(b,"value"),o(n(d,b),f)}function a(d,b,f){var g=d&&d.kpi;if(g){var S=n(g,b);if(S)return{caption:S,statusGraphic:g.graphic,class:o(S,f)}}}function l(d){return!(!d||!d.kpi)}},804494:function(ze,K,r){r.d(K,{$_:function(){return l},j2:function(){return a},lJ:function(){return d}});var t=r(226514),c=r(605781),i=r(72653),s=r(106266),p=r(725182),V=r(326899),m=r(298801),v=r(2570),e=r(49803),h=r(506963),n=r(453543),o=r(750311),u=r(45696);function a(b,f,g){void 0===g&&(g="Desktop_FileMenu_Options");var S=b.options,y=b.dataLabelsProps,C=b.omitGroupDisplayNames,D=b.selector,P=b.hostServices,M=b.featureSwitches,T=S.dataLabelsSettings,R=f||b.cardBuilder;f&&f.addSimpleSlice("showSeries",new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},y.showSeries),{selector:D}),value:T.show}).build(),function(B){return B.withDisabled(!D).withCustomDisplayName("Visual_Show_Data_Labels")}),R.addGroup("options",function(B){var N;C||B.withDisplayName(g),!f&&D&&S.show&&B.addSimpleSlice("showSeries",new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},y.showSeries),{selector:D}),value:T.show}).build(),function(F){return F.withDisabled(!D).withCustomDisplayName("Visual_Show_Data_Labels")}),y.labelOrientation&&B.addSimpleSlice("labelOrientation",new s.uY({descriptor:(0,t.__assign)((0,t.__assign)({},y.labelOrientation),{selector:D}),value:T.labelOrientation}).build(),function(F){return F.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!D)});var x=y.labelPosition||y.position;if(x){var A=S.positionObject?S.positionObject:void 0;B.addSimpleSlice("position",new s.uY({descriptor:(0,t.__assign)((0,t.__assign)({},x),{selector:D}),value:null!==(N=T.position)&&void 0!==N?N:A.length>0?A[0]:"Auto",filterValues:A}).build(),function(F){return F.withCustomDisplayName("Visual_Position")})}if(y.overflow&&B.addSimpleSlice("overflow",new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},y.overflow),{selector:D}),value:T.overflow}).build(),function(F){return F.withDisabled(T&&T.position===c.SX)}),y.labelStyle&&B.addSimpleSlice("labelContents",new s.uY({descriptor:(0,t.__assign)((0,t.__assign)({},y.labelStyle),{selector:D}),value:T.labelStyle}).build(),function(F){return F.withCustomDisplayName("Visual_LabelContents")}),y.labelDensity&&S.labelDensity){var I=S.dataLabelsSettings;I&&B.addSimpleSlice("labelDensity",s.JN.getTransparencySliderBuilder({descriptor:(0,t.__assign)((0,t.__assign)({},y.labelDensity),{selector:D}),value:I.labelDensity,localize:function(O){return P.getLocalizedString(O)}}).build(),function(F){return F.withCustomDescription("Visual_LabelDensity_Description")})}if(M.leaderLinesAndOffset&&y.leaderLines&&S.leaderLines&&B.addSimpleSlice("leaderLines",new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},y.leaderLines),{selector:D}),value:T.leaderLines}).build()),M.leaderLinesAndOffset&&y.minimumOffset&&S.leaderLines&&B.addSimpleSlice("minimumOffset",new s.JN({descriptor:(0,t.__assign)((0,t.__assign)({},y.minimumOffset),{selector:D}),value:T.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}},localize:function(O){return P.getLocalizedString(O)}}).build()),M.leaderLinesAndOffset&&y.maximumOffset&&S.leaderLines){var w=T.minimumOffset;T.maximumOffset=w>=T.maximumOffset?w:T.maximumOffset,B.addSimpleSlice("maximumOffset",new s.JN({descriptor:(0,t.__assign)((0,t.__assign)({},y.maximumOffset),{selector:D}),value:T.maximumOffset,options:{minValue:{type:0,value:w},maxValue:{type:1,value:200}},localize:function(O){return P.getLocalizedString(O)}}).build())}})}function l(b,f,g,S){void 0===g&&(g="Role_DisplayName_Values"),void 0===S&&(S=!1);var C=b.cardBuilder;f&&(C=f),C.addGroup("values",function(E){return d(E,b,g,S),E.build()})}function d(b,f,g,S){void 0===g&&(g="Role_DisplayName_Values"),void 0===S&&(S=!1);var B,N,y=f.options,C=f.featureSwitches,E=f.dataLabelsProps,D=f.omitGroupDisplayNames,P=f.selector,M=f.repetitionSelector,T=f.displayDisabledSlices,R=y.dataLabelsSettings;y.labelStyle&&(B=(0,h.RC)(R.labelStyle)),y.funnelLabelStyle&&(N=(0,h.Fw)(R.labelStyle));var x=y.style?y.style:(0,o.Ue)();if(D||b.withDisplayName(g),S)b.withDisabled(!0,void 0);else{(E.fontFamily||E.fontSize)&&b.addCompositeSlice("font","Font",function(){var j=new s.UN;if(y.fontFamily&&E.fontFamily&&j.withFontFamily({descriptor:(0,t.__assign)((0,t.__assign)({},E.fontFamily),{selector:P}),value:R.fontProperties.family||n.rk}),y.fontSize&&E.fontSize){var z={descriptor:(0,t.__assign)((0,t.__assign)({},E.fontSize),{selector:P}),value:R.fontProperties.size.pt};y.fontSizeRange&&(z.options={minValue:{type:0,value:R.minFontSize},maxValue:{type:1,value:R.maxFontSize}}),j.withFontSizeProperties(z)}return y.bold&&E.bold&&j.withBold({descriptor:(0,t.__assign)((0,t.__assign)({},E.bold),{selector:P}),value:R.bold}),y.italic&&E.italic&&j.withItalic({descriptor:(0,t.__assign)((0,t.__assign)({},E.italic),{selector:P}),value:R.italic}),y.underline&&E.underline&&j.withUnderline({descriptor:(0,t.__assign)((0,t.__assign)({},E.underline),{selector:P}),value:R.underline}),j.build()}),E.matchSeriesColor&&b.addSimpleSlice("matchSeriesColor",function(){return new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},E.matchSeriesColor),{selector:P}),value:y.matchSeriesColor}).build()}),E.color&&b.addSimpleSlice("color",function(){var j={value:R.fontProperties.color||m.v.getThemeColor(x,v.uQ)},z=(0,h.e9)(f);return new s.BT({descriptor:(0,t.__assign)((0,t.__assign)({},E.color),{selector:(0,e.hm)(f.individualSelector,P,M),instanceKind:z,altConstantValueSelector:(0,e.Cn)(f.individualSelector,P,f.includeAltConstantValueSelector)}),value:j}).build()},function(j){return j.withDisabled(y.matchSeriesColor)}),E.background&&b.addSimpleSlice("background",new s.uY({descriptor:(0,t.__assign)((0,t.__assign)({},E.background),{selector:P}),value:R.enableBackgroundWithAuto}).build(),function(j){return j.withDisabled(R&&R.position===c.SX)});var A=E.labelDisplayUnits||E.displayUnits;y.displayUnits&&void 0!==y.dataLabelsSettings.displayUnits&&A&&b.addSimpleSlice("displayUnits",new s.uY({descriptor:(0,t.__assign)((0,t.__assign)({},A),{selector:P}),value:-1!==R.displayUnits?R.displayUnits:0}).build(),function(j){return j.withAliasName("Decimal")});var I=E.labelPrecision||E.precision;if(y.precision&&B&&(0,p.yE)(B,V.nO)||y.precision&&N&&(0,p.yE)(N,V.nO)||y.precision&&!B&&I){var w=R.precision;b.addSimpleSlice("precision",function(){return new s.mu({descriptor:(0,t.__assign)((0,t.__assign)({},I),{selector:P}),value:w===v.NZ?null:w,options:{minValue:{type:0,value:0},maxValue:{type:1,value:v.vo}}}).build()})}if(y.percentagePrecision&&B&&(0,p.yE)(B,V.tG)||y.percentagePrecision&&N&&(0,p.yE)(N,i.r0)||(0,p.yE)(N,i.CR)||y.percentagePrecision&&!B&&E.percentagePrecision){var F=R.percentagePrecision;b.addSimpleSlice("percentagePrecision",function(){return new s.mu({descriptor:(0,t.__assign)((0,t.__assign)({},E.percentagePrecision),{selector:P}),value:F===v.Qc?null:F,options:{minValue:{type:0,value:0},maxValue:{type:1,value:v.vo}}}).build()},function(j){return j.withCustomDisplayName("Visual_PercentagePrecision")})}y.wordWrap&&E.wordWrap&&b.addSimpleSlice("wordWrap",function(){return new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},E.wordWrap),{selector:P}),value:R.wordWrap}).build()},function(j){return j.withCustomDisplayName("TextWrap")}),y.preserveWhitespace&&E.preserveWhitespace&&b.addSimpleSlice("preserveWhitespace",function(){return new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},E.preserveWhitespace),{selector:P}),value:R.preserveWhitespace}).build()});var O=T&&!!T.labelOverflow;if((y.labelOverflow&&E.labelOverflow||O)&&b.addSimpleSlice("labelOverflow",function(){return new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},E.labelOverflow),{selector:P}),value:O?void 0:R.labelOverflow}).build()},function(j){return j.withDisabled(S||O).withCustomDescription("Visual_DataLabel_OverflowDescription")}),y.showPositiveAndNegative&&E.showPositiveAndNegative&&b.addSimpleSlice("showPositiveAndNegative",function(){return new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},E.showPositiveAndNegative),{selector:P}),value:R.showPositiveAndNegative}).build()}),C.measureDrivenDataLabels&&E.showDynamicLabels){var L=R.showDynamicLabels&&y.enableDynamicLabelPickers||!1;E.showDynamicLabels&&b.addSimpleSlice("showDynamicLabels",function(){return new s.bd({descriptor:(0,t.__assign)((0,t.__assign)({},E.showDynamicLabels),{selector:P}),value:R.showDynamicLabels}).build()},function(j){return j.withCustomDescription("Visual_ShowCustomLabel")});var W=f.omitDynamicLabelSelector?void 0:(0,t.__assign)((0,t.__assign)({},P),{data:[(0,u.Ue)(1)],highlightMatching:1}),U={propertyName:E.dynamicLabelValue.propertyName,objectName:E.dynamicLabelValue.objectName,selector:W,instanceKind:2,propertyTypes:{text:!0}};b.addSimpleSlice("dynamicLabelValue",function(){return new s.k0({descriptor:U,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build()},function(j){return j.withDisabled(!L)})}}}},10806:function(ze,K,r){r.d(K,{$:function(){return c}});var t=r(320380);function c(i,s,p){return new t.mZ(i,s,p.bingMapControlUrl)}},696428:function(ze,K,r){r.d(K,{R:function(){return t}});var t={BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S",AzureKey:"xfefTl4ZST_fZb9l-IT5EpZqJGKpqQOsHTXeyoi3zeQ"}},320380:function(ze,K,r){r.d(K,{yV:function(){return de},Bz:function(){return Q},jj:function(){return H},mZ:function(){return B},mS:function(){return Y},tE:function(){return se},eP:function(){return pe},Kq:function(){return ce},n9:function(){return ne},w6:function(){return O},Ch:function(){return j},jv:function(){return F},z8:function(){return z},Gs:function(){return We},qG:function(){return ye},PN:function(){return De},RR:function(){return je},nv:function(){return _e},Kp:function(){return le},TM:function(){return Ae},Zr:function(){return M},h$:function(){return T},CL:function(){return me},Yb:function(){return Te},$f:function(){return N},DT:function(){return Oe},wu:function(){return he},oT:function(){return ue},IG:function(){return et},BP:function(){return Ne},o:function(){return Ze},x6:function(){return Se},IU:function(){return I},N2:function(){return A},Jy:function(){return it},Sc:function(){return qe},N0:function(){return P},M_:function(){return fe},q1:function(){return w},Bo:function(){return we},n8:function(){return k},ml:function(){return D}});var p,V,t=r(226514),c=r(787941),i=r(564809),s=r(565146);window.globalMapControlLoaded=function(){c.fF.assertValue(p,"WaitForMSMapLoad"),p.resolve(void 0)};var u=r(696428),a=r(99450),l=r(298801),d=r(371485),b=r(187810),f=r(611799),g=r(884983),S=r(51033),y=r(2570);function D(tt){if(tt){var xe=tt._v8Map&&tt._v8Map._sizeHelper;xe&&_.isFunction(xe.pollSize)?xe.pollSize():c.fF.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function P(tt){var xe=Microsoft.Maps.MapTypeId[tt];return c.fF.assertValue(xe,"Map theme did not select a MapTypeId"),xe}var M={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:u.R.BingKey},T=16,B=function(){function tt(xe,Ve,Le){this.promiseFactory=xe,this.loader=Ve,this.mapControlUrl=Le}return tt.prototype.ensureMap=function(xe){return function(tt,xe,Ve,Le){if(p)return p.promise;var at=Ve=(0,s.fS)(Ve,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),ft=(0,s.mA)(Ve),ht=ft.c||ft.culture,Ge={};if(_.isEmpty(Le)||(Ge.setLang=Le),!_.isEmpty(ht)){var Re=ht.split("-",2);Ge.setMkt=ht,Ge.UR=Re.length>1?Re[1]:ht,Ge.setLang=Re[0]}return at=(0,s.fS)(Ve,Ge,!0),p=tt.defer(),xe.require({javascript:at}),p.promise}(this.promiseFactory,this.loader,this.mapControlUrl,xe)},tt.prototype.createMapControl=function(xe,Ve){return new Microsoft.Maps.Map(xe,Ve)},tt.prototype.loadAzureMapScripts=function(xe){return function(tt,xe,Ve){if(V)return V.promise;var Le="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",at="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return Ve&&(Le="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",at="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),V=tt.defer(),xe.require({javascript:Le,css:[at]}).then(function(Re){var Xe=window;Xe.atlas=Xe.atlas||Re,Xe.atlas||V.reject(),Promise.all([xe.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}),xe.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]})]).then(function(){return V.resolve(void 0)}).catch(function(){return V.reject()})},function(){return V.reject()}),V.promise}(this.promiseFactory,this.loader,xe)},tt.prototype.loadShpJs=function(){return this.shpJs||(this.shpJs=function(tt){return tt.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/shpjs.min.js"})}(this.loader)),this.shpJs},tt.prototype.createAzureMapControl=function(xe){var Ve=xe.element,Le=xe.locale,at=xe.sasTokenCallback,Ge=xe.isScreenshotWorkload,Re=xe.progressiveLoading,Xe=xe.defaultStyle,Me=xe.showLabels,He=xe.renderWorldCopies;xe.azureMapsDataResidency&&atlas.setDomain(xe.azureMapsEndpoint.getDomainUrl$().getValue());var ct={language:Le,style:Xe,view:"Auto",disableTelemetry:!0,progressiveLoading:Re,showLabels:Me,renderWorldCopies:He};return Ge&&(ct.preserveDrawingBuffer=!0),at?ct.authOptions={authType:atlas.AuthenticationType.sas,getToken:at}:ct.subscriptionKey=u.R.AzureKey,this.createAzureMapControlCore(Ve,ct)},tt.prototype.createAzureMapControlCore=function(xe,Ve){return new atlas.Map(xe,Ve)},tt.prototype.isAzureMapSupported=function(){return atlas.isSupported(!1)},tt}(),N=function(xe,Ve){return new B(xe,Ve,"https://www.bing.com/api/maps/mapcontrol")};function A(tt,xe){return tt?I(tt.latitude,tt.longitude):xe}function I(tt,xe){return tt<-90||tt>90||xe<-180||xe>180}function w(tt){for(;tt<-180;)tt+=360;for(;tt>180;)tt-=360;return tt}var F=-85.05112878,O=85.05112878,j=23,z=1,Q=.5,H="foregroundDark",de={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},Y="mapLassoButton",se="mapLassoButtonHighContrast",ce=".".concat(Y),pe="MapLassoButton",De=".".concat("NavBar_Container"),We="NavBar_Button",je="NavButton_Icon",Ae="Rectangle_Select",_e="plot-area",le=".".concat(_e),Z="NavBar_zoomIn",ie="NavBar_zoomOut",me=".".concat(Z,", .").concat(ie),ye="".concat(ce,", .").concat(Z,", #").concat(ie);function X(tt,xe,Ve){return Math.min(Math.max(tt,xe),Ve)}function ue(){return Se(11)}function Se(tt){return 23===tt?2147483648:Math.floor(tt)===tt?256<<tt:256*Math.pow(2,tt)}function Be(tt,xe,Ve){var Le=xe/360,at=Math.sin(tt*Math.PI/180),ht=-Math.log((1+at)/(1-at))/(4*Math.PI);if(!Ve)return{x:Le,y:ht};Ve(Le,ht)}function Ze(tt,xe){switch(tt){case de.Continent:case de.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case de.City:return{level:1,maxPolygons:5,strokeWidth:xe<200?6:0};default:return xe<100?{level:1,maxPolygons:5,strokeWidth:6}:xe<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function qe(tt,xe,Ve){var ht,Le=Ve&&Ve.xAdjust,at=Ve&&Ve.unconstrained,ft=new Float64Array(tt.length),Ge=function(He,ct){He+=.5,ct+=.5,He*=xe,ct*=xe,He+=.5,ct+=.5,Le&&(He+=Le*xe),ft[ht]=He,ft[ht+1]=ct};for(ht=0;ht<tt.length;ht+=2){var Re=tt[ht],Xe=tt[ht+1];at||(Re=X(Re,F,O),Xe=X(Xe,-180,180)),Be(Re,Xe,Ge)}return ft}function it(tt,xe,Ve,Le){var at=qe(new Float64Array([tt,xe]),Se(Ve),Le);return{x:at[0],y:at[1]}}function k(tt,xe,Ve){var Le=function(tt,xe,Ve){return function(tt,xe,Ve){var Le=Math.exp(4*-xe*Math.PI);return{latitude:180*Math.asin((Le-1)/(Le+1))/Math.PI,longitude:360*tt}}((tt-.5)/Ve-.5,(xe-.5)/Ve-.5)}(tt,xe,Se(Ve));return new Microsoft.Maps.Location(Le.latitude,Le.longitude)}function Ce(tt,xe){return it(tt.latitude,tt.longitude,xe)}function J(tt,xe){var Ve=Ce(tt.getNorthwest(),xe),Le=Ce(tt.getSoutheast(),xe);return new i.U(Ve.x,Ve.y,Le.x-Ve.x,Le.y-Ve.y)}function ot(tt){var xe=function(tt){for(var xe={latitude:-90,longitude:180},Ve={latitude:90,longitude:-180},Le=0;Le<tt.length;Le+=2)xe.latitude=Math.max(tt[Le],xe.latitude),xe.longitude=Math.min(tt[Le+1],xe.longitude),Ve.latitude=Math.min(tt[Le],Ve.latitude),Ve.longitude=Math.max(tt[Le+1],Ve.longitude);return xe.longitude=X(xe.longitude,-180,180),Ve.longitude=X(Ve.longitude,-180,180),{top:xe.latitude,bottom:Ve.latitude,left:xe.longitude,right:Ve.longitude}}(tt);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(xe.top,xe.left),new Microsoft.Maps.Location(xe.bottom,xe.right))}function we(tt){for(var xe=[],Ve=0,Le=0,at=0,ft=4294967296;Ve<tt.length;){for(var ht=0,Ge=0;;){if(Ve>=tt.length)return null;var Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".indexOf(tt.charAt(Ve++));if(-1===Re)return null;var Xe=(31&Re)*Math.pow(2,Ge);if(ht=(Xe/ft|ht/ft)*ft+((Xe%ft|ht%ft)>>>0),Ge+=5,Re<32)break}var Bt=Math.floor((Math.sqrt(8*ht+5)-1)/2);ht-=Bt*(Bt+1)/2;var jt=Math.floor(ht),Kt=Bt-jt,Zt=1e-5*(Le+=Kt=Kt>>1^-(1&Kt));xe.push(X(1e-5*(at+=jt=jt>>1^-(1&jt)),-90,90)),xe.push(Zt)}return new Float64Array(xe)}function he(tt,xe){return xe&&(tt?(xe.west<tt.west&&(tt.west=xe.west),xe.east>tt.east&&(tt.east=xe.east),xe.south<tt.south&&(tt.south=xe.south),xe.north>tt.north&&(tt.north=xe.north)):tt=(0,t.__assign)({},xe)),tt}function Te(tt){if(!_.isEmpty(tt)){for(var xe=!1,Ve=0,Le=tt;Ve<Le.length;Ve++){var at=Le[Ve];at.nativeBing&&!at.geographic&&(at.geographic=we(at.nativeBing),at.geographic&&(xe=!0))}if(xe){for(var ft=[],ht=0,Ge=tt;ht<Ge.length;ht++){var Re=Ge[ht];if(Xe=Re.geographic){var Me=ot(Xe);Re.adjustedBounds={west:Me.getWest(),north:Me.getNorth(),east:Me.getEast(),south:Me.getSouth()},Re.absoluteBounds=J(Me,11),ft.push({location:Re,bounds:Me,xAdjust:0})}}for(var He,ct=-1,Mt=0;Mt<ft.length;++Mt){var Bt=(It=ft[Mt]).bounds.width*It.bounds.height;(-1===ct||Bt>He)&&(ct=Mt,He=Bt)}for(var jt=ue(),Kt=ft[ct].bounds.getWest(),Yt=ft[ct].bounds.getEast(),Zt=0,or=ft;Zt<or.length;Zt++){var _r=(Me=(It=or[Zt]).bounds).getWest(),Pr=Me.getEast();if(Pr<Kt&&_r+360-Yt<Kt-Pr&&(It.xAdjust=1),_r>Yt&&Kt-(Pr-360)<_r-Yt&&(It.xAdjust=-1),It.xAdjust){var Xt=360*It.xAdjust,dr=It.location.adjustedBounds;dr.west+=Xt,dr.east+=Xt,It.location.absoluteBounds.left+=It.xAdjust*jt}}for(var ar=0,gr=ft;ar<gr.length;ar++){var It,Xe,Cr=(It=gr[ar]).location;(Xe=Cr.geographic)&&(Cr.absolute||(Cr.absolute=qe(Xe,jt,{xAdjust:It.xAdjust})))}}}}function Oe(tt){return function(tt,xe,Ve,Le){var at={draggable:!1,icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="#FF5F00" cx="12" cy="12" r="6"></circle><circle fill="none" stroke="#FF5F00" stroke-width="2" cx="12" cy="12" r="10"></circle></svg>'};return new Microsoft.Maps.Pushpin(tt,at)}(tt)}function fe(tt,xe,Ve){var Le=tt.tryLocationToPixel(tt.getCenter(),Microsoft.Maps.PixelReference.page);!function(tt,xe,Ve){var Le=new Microsoft.Maps.Point(xe,Ve),at=tt.tryPixelToLocation(Le,Microsoft.Maps.PixelReference.page);tt.setView({center:at})}(tt,Le.x-xe,Le.y-Ve)}var ne=function(){function tt(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}return tt.prototype.reCalc=function(xe,Ve,Le){var at=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var ft=Ce(this._locationRect.getNorthwest(),11),ht=Ce(this._locationRect.getSoutheast(),11);this._baseRect=new i.U(ft.x,ft.y,ht.x-ft.x,ht.y-ft.y)}var Ge=xe.tryLocationToPixel(at),Re=Ge[0].x+Ve/2,Xe=Ge[0].y+Le/2,Me=xe.getZoom()-11,He=Math.pow(2,Me);this._currentRect=new i.U(Re,Xe,this._baseRect.width*He,Ge[1].y-Ge[0].y)},Object.defineProperty(tt.prototype,"scale",{get:function(){return this._baseRect?this._currentRect.width/this._baseRect.width:1},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"transform",{get:function(){var Ve=this._baseRect,Le=this._currentRect,at=new a.wx;return at.translate(Le.left,Le.top),at.scale(Le.width/Ve.width,Le.height/Ve.height),at.translate(-Ve.left,-Ve.top),at},enumerable:!1,configurable:!0}),tt.prototype.transformToString=function(xe){var Ve=xe.matrix;return"matrix(".concat(Ve.m00," ").concat(Ve.m10," ").concat(Ve.m01," ").concat(Ve.m11," ").concat(Ve.m02," ").concat(Ve.m12,")")},tt}();function Ne(tt){var xe=l.v.getThemeColor(tt,y.pl),Ve=(0,d.bT)({style:tt,labelColor:xe,textClassName:"smallLightLabel"}).fontProperties;return Ve=(0,b.ED)(Ve,{color:xe}),{show:!1,showCategory:!1,position:0,displayUnits:0,precision:y.NZ,fontProperties:Ve,enableBackground:!0,backgroundColor:l.v.getThemeColor(tt,y.lp),backgroundTransparency:Q,bold:!1,italic:!1,underline:!1}}function et(tt){return{dataPoints:[],hasSeries:!0,geocodingCategory:"",hasSize:!1,properties:{autoZoomEnabled:!0,showZoomButtons:!1,showLassoButton:!1,bubbleSizeMultiplier:1,markerRangeType:S.Dl.dataRange,savedLatitude:void 0,savedLongitude:void 0,savedZoomLevel:void 0,defaultDataPointColor:void 0,fill:void 0,mapTheme:g.uH,showHeatMap:!1,minZoom:void 0,maxZoom:void 0,showLabels:!0},dataLabelSettings:Ne(tt),legendData:(0,f.Fe)(tt),invalidLatLongCoordinatesFound:!1}}},549772:function(ze,K,r){r.d(K,{DW:function(){return C},F:function(){return E},RZ:function(){return a},UI:function(){return f},Wo:function(){return b},XU:function(){return P},Yh:function(){return l},aW:function(){return M},tp:function(){return d},xf:function(){return D}});var t=r(226514),c=r(177497),i=r(251912),s=r(787941),p=r(299747),V=r(932178),m=r(698129),v=r(939523),e=r(281835),h=r(648233),n=r(306310),o=r(298801);function a(R,B){if(_.isEmpty(R))return d();var N=d();return{strokePattern:N.strokePattern,showMarkerByDefault:(0,m.NA)(R,v.zK.lineStyles.showMarkerByDefault,N.showMarkerByDefault),showMarker:(0,m.NA)(R,v.zK.lineStyles.showMarker,N.showMarker),shape:(0,m.NA)(R,v.zK.lineStyles.markerShape,N.shape),size:(0,m.NA)(R,v.zK.lineStyles.markerSize,N.size),color:o.v.create(B).getColorForProperty(R,v.zK.lineStyles.markerColor,void 0)}}function l(R,B,N,x,A){var I=(0,p.ED)((0,t.__assign)((0,t.__assign)({},B),{showMarker:B.showMarker&&B.showMarkerByDefault}));if(I.key="seriesMarker"+N,!R.data.hasSeries()||A)return I.color=B.color?B.color:R.colors.createBySeries(N,void 0,i.fA),I;var w=R.objects.getSeriesDataObjects(N),F=(0,m.NA)(w,v.zK.lineStyles.showMarker);null!=F&&(I.showMarker=F);var O=(0,m.NA)(w,v.zK.lineStyles.markerShape);null!=O&&(I.shape=O);var L=(0,m.NA)(w,v.zK.lineStyles.markerSize);null!=L&&(I.size=+L);var U=o.v.create(x).getColorForProperty(w,v.zK.lineStyles.markerColor,void 0);return null!=U?I.color=U:B.color||(I.color=R.colors.createBySeries(N,void 0,i.fA)),I}function d(){return{strokePattern:h.Dv.solid,showMarker:!1,showMarkerByDefault:!0,shape:n.ZO.circle,size:f,color:void 0}}var b=function(){function R(){this.uniqueIdentifier=_.uniqueId(),this.markerKeyModifier=""}return R.prototype.ensureMarkers=function(B,N){var x=this,A=this.modifyMarkersIfNeeded(N),I=B.selectAll("marker").data(A.filter(function(O){return O.showMarker}),function(O){return x.getMarkerId(O)}),w=I.enter().append("marker").merge(I);w.append("path").classed("markerPaths",!0),w.attrs({id:function(L){return x.getMarkerId(L)},markerUnits:"strokeWidth",orient:function(L){var W;return null!==(W=L.orient)&&void 0!==W?W:0},refX:0,refY:0,viewBox:"-6 -6 12 12"}).transition().duration(1).attrs({markerHeight:function(L){return L.size},markerWidth:function(L){return L.size}}),I.exit().remove();var F=B.selectAll(".markerPaths").data(A.filter(function(O){return O.showMarker}),function(O){return x.getMarkerId(O)});F.attr("d",function(O){return O.lineRadius?function(R,B,N){var x=(N+1)/(B/5);switch(R){case n.ZO.none:return null;case n.ZO.x:return"M ".concat(x,",1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-").concat(x,",1");case n.ZO.shortDash:return"M ".concat(x,",1 L 5,1 L 5,-1 L -").concat(x,",-1 L -").concat(x,",1");case n.ZO.longDash:return"M ".concat(x,",1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -").concat(x,",1");case n.ZO.plus:return"M ".concat(x,",1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-").concat(x,",1");default:return C(R)}}(O.shape,O.size,O.lineRadius):C(O.shape)}).style("stroke-width",function(O){return O.lineRadius?O.strokeSize/(O.size/5):E(O.shape)}).style("stroke-opacity",function(O){return null!=O.transparency?(0,c.TD)(O.transparency):1}).style("stroke",function(O){var L;return null!==(L=O.strokeColor)&&void 0!==L?L:O.color}).style("fill",function(O){return O.color}).style("opacity",function(O){return null!=O.transparency?(0,c.TD)(O.transparency):null}),F.exit().remove()},R.prototype.getMarkerId=function(B){return"".concat(B.key,"-").concat(this.uniqueIdentifier).concat(B.modifier||"")},R.prototype.getMarkerKey=function(B){if(!B.showMarker)return null;var N=V.M.isSafari()||V.M.isIOSWebView()?window.location.href:"",x=B.key;return"url('".concat(N,"#").concat(x,"-").concat(this.uniqueIdentifier).concat(this.markerKeyModifier,"')")},R.prototype.modifyMarkersIfNeeded=function(B){if(V.M.isInternetExplorerOrEdge()){var N=[];return this.cycleMarkerKeyModifier(),(N=this.modifyMarkerProperties(B,"a")).push.apply(N,this.modifyMarkerProperties(B,"b")||[]),N}return B},R.prototype.cycleMarkerKeyModifier=function(){this.markerKeyModifier="a"===this.markerKeyModifier?"b":"a"},R.prototype.modifyMarkerProperties=function(B,N){return _.map(B,function(x){var A=(0,p.ED)(x);return A.modifier=N,A})},R.sizeRatio=10/12,R}(),f=5;function C(R){return M(R,f)}function E(R){switch(R){case n.ZO.circle:case n.ZO.square:case n.ZO.diamond:case n.ZO.triangle:case n.ZO.none:return 0;case n.ZO.x:case n.ZO.plus:case n.ZO.lowerErrorBar:case n.ZO.upperErrorBar:return 1;case n.ZO.shortDash:case n.ZO.longDash:return 2;default:s.fF.assertNever(R)}}function D(R,B,N){var x=null==R?void 0:R.showMarker;switch(B){case e._.markerOnly:return x?R.shape:N;case e._.markerCircleDefault:return x?R.shape:n.ZO.circle;case e._.lineAndMarker:return x?R.shape:n.ZO.none;case e._.lineOnly:return n.ZO.none;default:return n.ZO.circle}}function P(R,B,N,x){return R&&(N!==e._.markerOnly&&N!==e._.markerCircleDefault||!x&&R.showMarker)&&R.color||B}function M(R,B){switch(R){case n.ZO.circle:return"M 0 0 m ".concat(-B," 0 a ").concat(B," ").concat(B," 0 1 0 ").concat(2*B," 0 a ").concat(B," ").concat(B," 0 1 0 ").concat(-2*B," 0");case n.ZO.square:return"M 0 0 m ".concat(-B," ").concat(-B," l ").concat(2*B," 0 l 0 ").concat(2*B," l ").concat(-2*B," 0 z");case n.ZO.diamond:return"M 0 0 m ".concat(-B," 0 l ").concat(B," ").concat(-B," l ").concat(B," ").concat(B," l ").concat(-B," ").concat(B," z");case n.ZO.triangle:return"M 0 0 m ".concat(-B," ").concat(B," l ").concat(B," ").concat(-2*B," l ").concat(B," ").concat(2*B," z");case n.ZO.x:return"M 0 0 m ".concat(-B," ").concat(-B," l ").concat(2*B," ").concat(2*B," m ").concat(2*-B," 0 l ").concat(2*B," ").concat(2*-B);case n.ZO.shortDash:return"M 0 0 l ".concat(B," 0");case n.ZO.longDash:return"M 0 0 m ".concat(-B," 0 l ").concat(2*B," 0");case n.ZO.plus:return"M 0 0 m ".concat(-B," 0 l ").concat(2*B," 0 m ").concat(-B," ").concat(-B," l 0 ").concat(2*B);case n.ZO.lowerErrorBar:return"M 0 0 m 0 ".concat(-B," l 0 ").concat(2*B," m ").concat(-B," 0 l ").concat(2*B," 0");case n.ZO.upperErrorBar:return"M 0 0 m 0 ".concat(B," l 0 ").concat(2*-B," m ").concat(-B," 0 l ").concat(2*B," 0");case n.ZO.none:return null;default:s.fF.assertNever(R)}}},877108:function(ze,K,r){r.d(K,{Jf:function(){return m},Mw:function(){return u},RM:function(){return e},dF:function(){return n},s4:function(){return o},un:function(){return s},w3:function(){return V},xs:function(){return p}});var t=r(226514),c=r(787941),i=r(49803),s=function(l,d,b){return(0,t.__assign)({type:1},e(l,d,b))},p=function(l,d,b){var f=d.precisionReference,g=d.displayUnitsReference,S=(0,t.__rest)(d,["precisionReference","displayUnitsReference"]);return(0,t.__assign)((0,t.__assign)({type:2},e(l,S,b)),{precision:(0,t.__assign)((0,t.__assign)({},null==b?void 0:b.precision),{reference:f,label:l.getLocalizedString("Visual_Precision")}),displayUnits:{reference:g,label:l.getLocalizedString("Visual_DisplayUnits")}})},V=function(l,d,b,f){void 0===d&&(d=null),void 0===b&&(b=null),void 0===f&&(f=null);var g={type:3};return d&&(g.stroke={reference:d,label:f||l.getLocalizedString("Visual_Shape_Line")}),b&&(g.fill={reference:b,label:l.getLocalizedString("Visual_Fill")}),g},m=function(l,d){var b=l.hostServices,f=l.omitSelectorForSingleSeries,g=l.individualSelector,S=l.repetitionSelector,y=l.subSelectionStylesOptions,C=d.fontColorReference;return C&&(d=(0,t.__assign)((0,t.__assign)({},d),{fontColorReference:(0,t.__assign)((0,t.__assign)({},C),{selector:(0,i.hm)(g,f?void 0:C.selector,S)})})),void 0!==d.precisionReference?p(b,d,y):s(b,d,y)},e=function(l,d,b){var f=d.fontFamilyReference,g=d.fontSizeReference,S=d.boldReference,y=d.italicReference,C=d.underlineReference,D=d.backgroundReference,P=d.wordWrapReference,M=d.horizontalAlignmentReference,T={fontColor:{reference:d.fontColorReference,label:l.getLocalizedString("Visual_FontColor")},fontFamily:{reference:f,label:l.getLocalizedString("Visual_FontFamily")},bold:{reference:S,label:l.getLocalizedString("Bold")},italic:{reference:y,label:l.getLocalizedString("Italic")},underline:{reference:C,label:l.getLocalizedString("Underline")}};return g&&(T.fontSize={reference:g,label:l.getLocalizedString("FontSize")}),D&&(T.background={reference:D,label:l.getLocalizedString("Background_Color")}),P&&(T.wordWrap={reference:P,label:l.getLocalizedString("Visual_Word_Wrap")}),M&&(T.horizontalAlignment={reference:M,label:l.getLocalizedString("Visual_Alignment_Horizontal")}),b&&(b.grid&&(T.grid=b.grid),b.border&&(T.border=b.border)),T},n=function(l){var b=_.first(l).visualObjects;c.fF.assert(function(){return 1===b.length},"Expected 1 visual");var f=b[0];return c.fF.assert(function(){return 1===l.length||l.every(function(g){return _.isEqual(g.visualObjects,[f])},"Expected 1 sub-selection or matching objects")}),f},o=function(l,d){if(l)return{reference:l,style:2,displayValue:d}},u=function(l,d){if(l)return{reference:l,style:1,displayValue:d||""}}},31499:function(ze,K,r){r.d(K,{lk:function(){return n},oW:function(){return h},tv:function(){return v},g6:function(){return e}});var t=r(608014),c=r(932178),i=r(959138);function s(u,a,l){var d;if(void 0===l&&(l=1),a){for(var b=d3.event,f=void 0;f=b.sourceEvent;)b=f;var g=u.getBoundingClientRect();d=[(b.clientX-g.left-u.clientLeft)/l,(b.clientY-g.top-u.clientTop)/l]}else{var S=d3.touches(u);S&&S.length>0&&(d=S[0])}return d}var v=3500;function e(u,a){return void 0===a&&(a=!0),a?{left:u.dataSpace.left.value,top:u.dataSpace.top.value,right:u.dataSpace.right.value,bottom:u.dataSpace.bottom.value}:{left:u.pixelValue.left,top:u.pixelValue.top,right:u.pixelValue.right,bottom:u.pixelValue.bottom}}var h=function(){function u(a){var l=this;this.requireKeyModifier=a,this.uiScale=1,this.isSpaceKeyPressed=!1,this.initiateKeyboardDrag=!1,this.lassoMousemoveCallback=function(){l.drag(d3.event)},this.lassoMouseupCallback=function(){l.wasDragged&&d3.event.stopPropagation(),l.endDrag(d3.event),l.body.on("mousemove.lasso",null),l.body.on("mouseup.lasso",null)},this.lassoClickCallback=function(){l.wasDragged&&d3.event.stopPropagation(),l.body.on("click.lasso",null)},this.lassoKeyUpCallback=function(){l.crosshairSVG&&"Space"===d3.event.code&&(d3.event.stopPropagation(),l.isSpaceKeyPressed=!1,l.endKeyboardDrag())},this.lassoBodyKeyUpCallback=function(){"Space"===d3.event.code&&(l.body.on("keydown.keyboardLasso",null),l.body.on("keyup.keyboardLasso",null))},this.lassoKeyBlurCallback=function(){l.crosshairSVG&&l.removeLasso(),d3.select(d3.event.currentTarget).on("blur.keyboardLasso",null)},this.announceLassoKeyboardEnd=function(d){l.hostServices.alertScreenReader(l.hostServices.getLocalizedString("LassoRectangleWidth",[Math.round(d.right-d.left)])),l.hostServices.alertScreenReader(l.hostServices.getLocalizedString("LassoRectangleHeight",[Math.round(d.bottom-d.top)]))}}return u.prototype.init=function(a,l,d,b){this.body=d3.select("body"),this.surfaces=a,this.svg=l,this.hostServices=d,this.featureSwitches=b,this.initDragEvents(),this.behaviors=[],this.forceLasso=!1},u.prototype.setUiScale=function(a){this.uiScale=a},u.prototype.setForceLasso=function(a){this.forceLasso=a;for(var l=0,d=this.surfaces;l<d.length;l++)d[l].classed("pendingLasso",a)},u.prototype.initDragEvents=function(){for(var a=this,l=function(y){y.on("mousedown.lasso",function(){a.startDrag(d3.event)&&(a.body.on("mousemove.lasso",a.lassoMousemoveCallback,!0),a.body.on("mouseup.lasso",a.lassoMouseupCallback,!0),a.body.on("click.lasso",a.lassoClickCallback,!0))},!0),d.featureSwitches.keyboardShortcutsLassoSelect&&(y.on("keydown.keyboardLasso",function(){"KeyS"===d3.event.code||"Space"===d3.event.code||(0,i.FJ)(d3.event.code)||d3.event.shiftKey||d3.event.ctrlKey?("Space"===d3.event.code&&(d3.event.preventDefault(),a.isSpaceKeyPressed=!0,a.crosshairSVG&&d3.event.stopPropagation()),!c.M.isCtrlOrMeta(d3.event)&&!d3.event.altKey&&!d3.event.shiftKey&&"KeyS"===d3.event.code&&(d3.event.stopPropagation(),a.startKeyboardDrag(),a.crosshairSVG&&(a.body.on("keydown.keyboardLasso",function(){"Space"===d3.event.code&&(a.isSpaceKeyPressed=!0,d3.event.stopPropagation()),a.body.on("keyup.keyboardLasso",a.lassoBodyKeyUpCallback,!0)},!0),y.on("blur.keyboardLasso",a.lassoKeyBlurCallback,!0))),a.crosshairSVG&&(0,i.FJ)(d3.event.code)&&(d3.event.preventDefault(),d3.event.stopPropagation(),a.keyboardDrag())):a.removeLasso()},!0),y.on("keyup.keyboardLasso",d.lassoKeyUpCallback,!0))},d=this,b=0,f=this.surfaces;b<f.length;b++)l(f[b])},u.prototype.removeLasso=function(){this.dragRect&&(this.dragRect=void 0),this.dragRectSelection&&(this.dragRectSelection.remove(),this.dragRectSelection=void 0),this.crosshairSVG&&(this.crosshairSVG.remove(),this.crosshairSVG=void 0),this.lassoPointerPosition=void 0,this.initiateKeyboardDrag=!1},u.prototype.startKeyboardDrag=function(){var a,l=this.lassoPointerPosition=function(u,a,l){void 0===l&&(l=1);var d=u.getBoundingClientRect(),b=a.getBoundingClientRect();return 0===d.width&&0===d.height?[b.width/2/l,b.height/2/l]:[(d.left-b.left+d.width/2)/l,(d.top-b.top+d.height/2)/l]}(d3.event.target,this.svg.node(),this.uiScale);null!==(a=this.crosshairSVG)&&void 0!==a||(this.crosshairSVG=this.svg.append("path").attr("id","lasso-pointer").attr("fill","#000").attr("stroke","#fff").attr("stroke-linecap","square").attr("d","M11.03 1V.5H8.97v8.458h2.06V1Zm.558 8.005h-.5V11.05H19.5V9.005h-7.912Zm-2.676.5v-.5H.5V11.05H8.912V9.505Zm2.117 2.037v-.5H8.971V19.5h2.058v-7.958Z").attr("transform","translate(".concat(l[0]-10,",").concat(l[1]-10,")")))},u.prototype.keyboardDrag=function(){var a=this.lassoPointerPosition;if(this.crosshairSVG&&this.lassoPointerPosition)switch(d3.event.code){case"ArrowRight":this.lassoPointerPosition=[Math.min(this.svg.node().clientWidth,a[0]+5),a[1]];break;case"ArrowLeft":this.lassoPointerPosition=[Math.max(0,a[0]-5),a[1]];break;case"ArrowUp":this.lassoPointerPosition=[a[0],Math.max(0,a[1]-5)];break;case"ArrowDown":this.lassoPointerPosition=[a[0],Math.min(this.svg.node().clientHeight,a[1]+5)]}this.lassoPointerPosition&&(this.wasDragged=this.isBeingDragged({x:this.lassoPointerPosition[0],y:this.lassoPointerPosition[1]})),this.crosshairSVG&&this.lassoPointerPosition&&this.crosshairSVG.attr("transform","translate(".concat(this.lassoPointerPosition[0]-10,",").concat(this.lassoPointerPosition[1]-10,")")),this.isSpaceKeyPressed&&(this.dragRectSelection||(this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0)),this.initiateKeyboardDrag||(this.dragStart={x:a[0],y:a[1]},this.initiateKeyboardDrag=!0),this.updateDragRect(this.lassoPointerPosition))},u.prototype.endKeyboardDrag=function(){if(this.wasDragged&&this.dragRect){var a=this.createMouseEvent(d3.event),l={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.onRectEnd(a,l),this.removeLasso(),this.announceLassoKeyboardEnd(l)}},u.prototype.createMouseEvent=function(a){return new MouseEvent("mousemove.keyboardLasso",{ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey,altKey:a.altKey})},u.prototype.startDrag=function(a){if(this.wasDragged=!1,this.removeLasso(),!this.forceLasso&&(!this.onRectStart(a)||!c.M.isCtrlOrMeta(a)&&!a.shiftKey&&(0!==this.hostServices.getViewMode()||this.requireKeyModifier)))return!1;this.requireKeyModifier&&d3.event.stopPropagation();var l=s(this.svg.node(),!0,this.uiScale);return this.dragStart={x:l[0],y:l[1]},this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0),this.updateDragRect(l),!0},u.prototype.endDrag=function(a){var l=s(this.svg.node(),!0,this.uiScale);this.updateDragRect(l);var d={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.wasDragged&&(this.onRectEnd(a,d),this.announceLassoKeyboardEnd(d),a.stopPropagation()),this.removeLasso(),this.setForceLasso(!1),this.dragRect&&(this.dragRect=null)},u.prototype.drag=function(a){a.stopPropagation();var l=s(this.svg.node(),!0,this.uiScale);this.wasDragged||(this.wasDragged=this.isBeingDragged({x:l[0],y:l[1]})),this.updateDragRect(l)},u.prototype.updateDragRect=function(a){var l=this.dragRect=this.getDragRect(a,this.dragStart);this.renderDragRect(l)},u.prototype.renderDragRect=function(a){this.dragRectSelection&&this.dragRectSelection.attrs({x:a.left,y:a.top,width:a.width,height:a.height})},u.prototype.onRectEnd=function(a,l){for(var d=0,b=this.behaviors;d<b.length;d++){var f=b[d];f.onRectEnd&&f.onRectEnd({event:a,rect:l})}},u.prototype.onRectStart=function(a){for(var l=!0,d=0,b=this.behaviors;d<b.length;d++){var f=b[d];f.onDragStart&&(l=l&&f.onDragStart(a))}return l},u.prototype.getDragRect=function(a,l){var d=a[0]-l.x,b=a[1]-l.y;return{left:Math.min(l.x,a[0]),top:Math.min(l.y,a[1]),width:this.crosshairSVG&&0===d?1:Math.abs(d),height:this.crosshairSVG&&0===b?1:Math.abs(b)}},u.prototype.isBeingDragged=function(a){return this.dragStart&&(Math.abs(a.x-this.dragStart.x)>=3||Math.abs(a.y-this.dragStart.y)>=3)},u}(),n=function(){function u(a){this.behavior=a}return u.prototype.onRectEnd=function(a){var d=a.rect;d.bottom===d.top||d.left===d.right||this.selectRegion(a.event,d)},u.prototype.onRectHover=function(a){this.behavior.hoverLassoRegion&&this.behavior.hoverLassoRegion(a.event,a.rect)},u.prototype.onDragStart=function(a){return a.button===t.tc.Main},u.prototype.selectRegion=function(a,l){this.behavior.lassoSelectRect&&this.behavior.lassoSelectRect(a,l)},u}()},453543:function(ze,K,r){r.d(K,{Bj:function(){return V},Ko:function(){return p},Pg:function(){return c},YD:function(){return v},aY:function(){return i},eR:function(){return n},eU:function(){return s},rA:function(){return e},rk:function(){return h},vD:function(){return m}});var t=r(803018),c="setFocusRing",i="currentFocusDataPoint",s=.4,p=1,V=2,m=2,v=6,e=m+2*v,h=t.Wn.regular.css;function n(o,u,a,l,d){return void 0===d&&(d=p),a&&l&&u?o?d:0:l&&!u||a&&!o?s*d:d}},945007:function(ze,K,r){r.d(K,{b:function(){return m}});var t=r(648233),c=r(453543),i=r(787941),s=r(177497);function p(v){var e=v.strokeAutoScale?v.strokeWidth:1;switch(v.strokePattern){case t.Dv.dashed:return[5*e,5*e].join(",");case t.Dv.dotted:return[1,5*e].join(",");case t.Dv.solid:return null;case t.Dv.custom:return v.strokeDashArray;default:return i.fF.assertNever(v.strokePattern),null}}function V(v){switch(v.strokePattern){case t.Dv.dashed:case t.Dv.solid:return null;case t.Dv.dotted:return t.qH.round;case t.Dv.custom:return v.strokeDashCap;default:return i.fF.assertNever(v.strokePattern),null}}function m(v,e){return null!=v&&v.strokeShow?{stroke:v.strokeColor,"stroke-opacity":null!=v.strokeTransparency?(0,s.TD)(v.strokeTransparency):null,"stroke-width":null!=e&&e.isHighContrast?c.Bj:v.strokeWidth,"stroke-linejoin":v.strokeLineJoin,"stroke-dasharray":p(v),"stroke-linecap":V(v)}:{stroke:null}}},625506:function(ze,K,r){r.d(K,{Qh:function(){return u},y3:function(){return l},cy:function(){return d},O5:function(){return A},Zx:function(){return y},kv:function(){return E},CK:function(){return f},Ez:function(){return S},oy:function(){return T},QZ:function(){return C},CP:function(){return P}});var c,t=r(226514),i=Object.freeze(((c={}).background=10,c.title=20,c["legend-title"]=30,c["legend-items"]=40,c["y1-axis-title"]=50,c["y1-axis-values"]=60,c["y1-axis-zoom-slider"]=70,c["y2-axis-title"]=80,c["y2-axis-values"]=90,c["y2-axis-zoom-slider"]=100,c["x-axis-values"]=110,c["x-axis-title"]=120,c["x-axis-zoom-slider"]=130,c["horizontal-gridlines"]=140,c["vertical-gridlines"]=150,c.lines=1e3,c.markers=1010,c.columns=1020,c.bars=1030,c["data-labels"]=1040,c["total-labels"]=1050,c["series-labels"]=1060,c["category-labels"]=1070,c)),V=r(989516),m=r(26526),v=r(629925),e=r(787941),n=(0,v.CH)("sub-selectable"),o="sub-selection-data",u=(0,v.CH)("direct-edit-placeholder"),a=(0,v.CH)("direct-edit-placeholder-outline"),l="format-mode",d=n.class,b=n.selector,f="data-sub-selection-display-name",g="data-sub-selection-hide-outline",S="data-sub-selection-object-name",y="data-sub-selection-alt-object-name",C="data-sub-selection-type",E="data-sub-selection-direct-edit",D="data-sub-selection-sub-selected",P="data-sub-selection-ui-anchor",T="data-sub-selection-restricting-element",R="data-helper-host";function N(I){return"".concat(I,".").concat("htmlSubSelection")}function x(I,w){return w.closest("[".concat(R,"]"))===I}var A=function(){function I(w){this.hostElement=w.hostElement,this.host=d3.select(w.hostElement),this.hostServices=w.hostServices,this.subSelectionRegionOutlines={},this.renderer=w.renderer,this.scale=w.scale,this.selectorCallback=w.selectorCallback,this.customOutlineCallback=w.customOutlineCallback,this.customElementCallback=w.customElementCallback,this.subSelectionMetadataCallback=w.subSelectionMetadataCallback,this.host.attr(R,!0)}return I.createHtmlSubselectionHelper=function(w){return new I(w)},I.prototype.setCustomOutlineCallback=function(w){this.customOutlineCallback=w},I.prototype.destroy=function(){this.removeEventHandlers(),this.hideAllOutlines()},I.prototype.setFormatMode=function(w){this.formatMode!==w&&(this.formatMode=w,w?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))},I.prototype.attachEventHandlers=function(){var w=this;this.host.on(N("pointerover"),function(){w.onPointerOver(d3.event)}),this.host.on(N("click"),function(){w.onClick(d3.event)}),this.host.on(N("contextmenu"),function(){w.onContextMenu(d3.event)})},I.prototype.onVisualScroll=function(){var w=this;this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(function(){return w.onVisualScrollEnd()},100)),this.scrollDebounce()},I.prototype.onVisualScrollStart=function(){this.scrollSubSelections||(this.subSelect(void 0),this.scrollSubSelections=this.subSelections)},I.prototype.onVisualScrollEnd=function(){this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0},I.prototype.onPointerOver=function(w){var F=this;if(!(0,m.q)(w)){this.clearHoveredOutline();var O=this.getSubSelectionSourceFromEvent(w);if(O&&O.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([O.visualSubSelection],1).length){var W=this.getSubSelectionElementsFromSubSelectionSource(O);W=W.filter(function(z){var G=d3.select(z);return!G.attr(D)&&"true"!==G.attr(g)}),this.updateOutlinesFromSubSelectionElements(W,1)}this.renderOutlines();var U=N("pointerleave"),j=d3.select(O.subSelectionElement);j.on(U,function(){j.attr(D)||(F.clearHoveredOutline(),j.on(U,null))}),(0,m.n)(w)}}},I.prototype.clearHoveredOutline=function(){var w=this;_.values(this.subSelectionRegionOutlines).filter(function(L){return 1===L.visibility}).forEach(function(L){w.subSelectionRegionOutlines[L.id]=(0,t.__assign)((0,t.__assign)({},w.subSelectionRegionOutlines[L.id]),{visibility:0})}),this.renderOutlines()},I.prototype.onClick=function(w){this.subSelectFromEvent(w,!1)},I.prototype.onContextMenu=function(w){this.subSelectFromEvent(w,!0)},I.prototype.subSelectFromEvent=function(w,F){if(!(0,m.q)(w)){var O=this.getSubSelectionElementsFromEvent(w);(0,m.n)(w);var L={x:w.clientX,y:w.clientY};if(_.isEmpty(O))return void this.hostServices.onSelect({type:1,selectionMode:0,visualObjects:[],selectionOrigin:L});var W=O[0],U=d3.select(W).attr(S),j=this.getSubSelectionTypeFromElement(W),z=w.target,G=this.getDisplayNameFromElement(W),te=this.selectorCallback?this.selectorCallback(W):{},Q=this.createVisualSubSelectionForSingleObject({objectName:U,subSelectionType:j,displayName:G,showUI:F,selectorsByColumn:te,selectionOrigin:L,target:z});this.scrollSubSelections=void 0,this.subSelect(Q)}},I.prototype.getSubSelectionElementsFromEvent=function(w){var F=this.getSubSelectionSourceFromEvent(w);return this.getSubSelectionElementsFromSubSelectionSource(F)},I.prototype.getSubSelectionSourceFromEvent=function(w){var F=w.composedPath();if(F){for(var W,O=F.indexOf(this.hostElement),U=0,j=F.slice(0,O+1);U<j.length;U++){var z=j[U];if(d3.select(z).classed(d)){W=z;break}}if(W&&x(this.hostElement,W)){var te=this.selectorCallback?this.selectorCallback(W):{},Q=d3.select(W).attr(S),H=this.getDisplayNameFromElement(W),de=this.getSubSelectionTypeFromElement(W),Y={x:w.clientX,y:w.clientY},se=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(W):null;return{subSelectionElement:W,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:Q,subSelectionType:de,displayName:H,showUI:!1,selectorsByColumn:te,selectionOrigin:Y,metadata:se})}}}},I.prototype.getSubSelectionElementsFromSubSelectionSource=function(w){var F=this;if(!w)return[];var O=w.visualSubSelection;if(this.customElementCallback){var L=this.customElementCallback(O);if(!_.isEmpty(L))return L}var W=this.getSubSelectableElements(),U=O.visualObjects[0],j=U.objectName,z=U.selectorsByColumn,G=W.filter(function(Q){return Q.getAttribute(S)===j});return this.selectorCallback&&(G=G.filter(function(Q){return(0,V.Ic)(F.selectorCallback(Q),z)})),G},I.prototype.removeEventHandlers=function(){this.host.on(N("pointerover"),null),this.host.on(N("click"),null),this.host.on(N("contextmenu"),null)},I.prototype.subSelect=function(w){var F=(0,t.__assign)({type:1},w);this.hostServices.onSelecting(F),1!==F.action&&this.hostServices.onSelect(F)},I.prototype.isVisualObjectSubSelected=function(w){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(function(F){return F.visualObjects.find(function(O){return w.objectName===O.objectName&&(0,V.Ic)(w.selectorsByColumn,O.selectorsByColumn)})})},I.prototype.updateElementOutline=function(w,F,O){return void 0===O&&(O=!1),this.updateElementOutlines([w],F,O)[0]},I.prototype.updateElementOutlines=function(w,F,O){var L=this;void 0===O&&(O=!1);for(var W=_.groupBy(w,function(Q){var H=d3.select(Q);return L.getElementRegionOutlineId(H)}),U=Object.keys(W),j=0,z=U;j<z.length;j++){var G=z[j],te=this.getSubSelectionRegionOutline(G,W[G],F);this.subSelectionRegionOutlines[G]=te}return O||this.renderOutlines(),U},I.prototype.getSubSelectionRegionOutline=function(w,F,O){for(var W,U,L=[],j=function(Y){var se=z.getRectangleSubSelectionOutline(Y),ce=z.getRestrictionElement(Y,0);if(e.fF.assert(function(){return!U||ce&&ce===U},"All elements for an outline require the same clamp restriction element."),U=ce){var pe=z.applyElementRestriction(U,Y),ve=Math.max(se.x,pe.left),De=Math.max(se.y,pe.top),We=Math.min(se.x+se.width,pe.left+pe.width),je=Math.min(se.y+se.height,pe.top+pe.height);se=(0,t.__assign)((0,t.__assign)({},se),{x:ve,y:De,height:je-De,width:We-ve})}var Ae=z.getRestrictionElement(Y,1);if(e.fF.assert(function(){return!W||Ae&&Ae===W},"All elements for an outline require the same clip restriction element."),W=Ae){var _e=z.applyElementRestriction(W,Y);se=(0,t.__assign)((0,t.__assign)({},se),{clipPath:{type:1,x:_e.left,y:_e.top,height:_e.height,width:_e.width}})}se.height>0&&se.width>0&&L.push(se)},z=this,G=0,te=F;G<te.length;G++)j(te[G]);return{id:w,visibility:O,outline:{type:0,outlines:L}}},I.prototype.getRestrictionElement=function(w,F){var O=w.closest("[".concat(T,'="').concat(F,'"]'));if(O&&x(this.hostElement,O))return O},I.prototype.applyElementRestriction=function(w,F){var O=w.getBoundingClientRect(),L={top:O.top,left:O.left,height:O.height,width:O.width},W=I.getDataForElement(F);if(W&&W.outlineRestrictionOptions){var U=W.outlineRestrictionOptions,j=U.margin,z=U.padding,G=0,te=0,Q=0,H=0;if(j){var de=j.top;G+=Y=j.left,te+=de,Q-=j.bottom+de,H-=Y+j.right}if(z){var Y,pe=z.top;G-=Y=z.left,te-=pe,Q+=z.bottom+pe,H+=Y+z.right}L.left+=G,L.top+=te,L.height+=Q,L.width+=H}return L},I.prototype.getRectangleSubSelectionOutline=function(w){var F=w.getBoundingClientRect(),j={height:F.height,width:F.width,x:F.x,y:F.y,type:1};return w.hasAttribute(E)&&(j.directEdit=function(){if(w.hasAttribute(E))return JSON.parse(w.getAttribute(E))}),j},I.prototype.updateRegionOutline=function(w,F){void 0===F&&(F=!1),this.updateRegionOutlines([w],F)},I.prototype.updateRegionOutlines=function(w,F){void 0===F&&(F=!1);for(var O=0,L=w;O<L.length;O++){var W=L[O];this.subSelectionRegionOutlines[W.id]=W}F||this.renderOutlines()},I.prototype.getElementsFromSubSelections=function(w){if(!w)return[];var F=[],O=this.getSubSelectableElements(),L=this.isElementSubSelected,W=this.selectorCallback;return d3.selectAll(O).each(function(){L(this,w,W)&&F.push(this)}),F},I.prototype.setSubSelectedStateDOM=function(w){if(w){var F=this.getSubSelectableElements(),O=this.isElementSubSelected,L=this.selectorCallback;d3.selectAll(F).attr(D,function(){return!!O(this,w,L)||null})}},I.prototype.isElementSubSelected=function(w,F,O){if(!F)return!1;var L=d3.select(w).attr(S),W=d3.select(w).attr(y);return F.some(function(j){var z;return null===(z=j.visualObjects)||void 0===z?void 0:z.some(function(G){var te=!0;return O&&((0,V.Ic)(G.selectorsByColumn,O(w))||(te=!1)),(G.objectName===L||G.objectName===W)&&te})})},I.prototype.updateCustomOutlinesFromSubSelections=function(w,F){var O;void 0===F&&(F=2);var L=[];if(this.customOutlineCallback&&!_.isEmpty(w))for(var W=0,U=w;W<U.length;W++){var j=U[W],z=this.customOutlineCallback(j);if(z&&z.length>0){for(var G=0,te=z;G<te.length;G++){var Q=te[G],H=null===(O=this.subSelectionRegionOutlines[Q.id])||void 0===O?void 0:O.visibility;(1!==F||2!==H)&&this.setOutline(Q,F)}L.push(j)}}return L},I.prototype.updateOutlinesFromSubSelectionElements=function(w,F){void 0===F&&(F=2);var O=[];if(!_.isEmpty(w)){for(var L=0,W=w;L<W.length;L++){var U=W[L],j=I.getDataForElement(U);if(j&&j.getRegionOutlines)for(var G=0,te=j.getRegionOutlines();G<te.length;G++)this.setOutline(te[G],F);else O.push(U)}this.updateElementOutlines(O,F,!0)}},I.prototype.updateOutlinesFromSubSelections=function(w,F,O){F&&this.hideAllOutlines(!0),this.subSelections=w;var L=w?(0,t.__spreadArray)([],w,!0):[];this.setSubSelectedStateDOM(w);var W=this.updateCustomOutlinesFromSubSelections(w);(null==W?void 0:W.length)>0&&_.remove(L,function(z){return W.find(function(G){return _.isEqual(z,G)})});var j=this.getElementsFromSubSelections(L).filter(function(z){return"true"!==d3.select(z).attr(g)});this.updateOutlinesFromSubSelectionElements(j),O||this.renderOutlines()},I.prototype.refreshOutlines=function(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)},I.prototype.getLabelsFromSubSelections=function(w,F,O){void 0===O&&(O=" ");for(var W=[],U=0,j=this.getElementsFromSubSelections(w);U<j.length;U++){for(var z=j[U],G="",te=0,Q=F;te<Q.length;te++){var de=z.attributes.getNamedItem(Q[te]);de&&de.value&&(G+=de.value+O)}_.isEmpty(G)||W.push(G.trim())}return W},I.prototype.setOutline=function(w,F){var O=(0,t.__assign)((0,t.__assign)({},w),{visibility:F,id:w.id});this.subSelectionRegionOutlines[w.id]=O},I.setDataForElement=function(w,F){$(w).data(o,F)},I.getDataForElement=function(w){return $(w).data(o)},I.prototype.hideAllOutlines=function(w){void 0===w&&(w=!1);var F=this.subSelectionRegionOutlines,O=[];for(var L in F)O.push((0,t.__assign)((0,t.__assign)({},F[L]),{visibility:0}));this.updateRegionOutlines(O,w)},I.prototype.getRegionOutline=function(w){return this.getRegionOutlines([w])[0]},I.prototype.getRegionOutlines=function(w){var F=this;return w.map(function(O){return F.subSelectionRegionOutlines[O]})},I.prototype.getAllOutlines=function(){return(0,t.__assign)({},this.subSelectionRegionOutlines)},I.prototype.renderOutlines=function(){var w=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(w)},I.prototype.addDirectEditPlaceholderOutlines=function(){var w=this,F=this.scale(),O=this.hostElement.getBoundingClientRect(),W=_.filter(_.map(this.hostElement.querySelectorAll(u.selector),function(j){return{element:j,bounds:(z=j,G=z.getBoundingClientRect(),{left:(G.x-O.x)/F-1,top:(G.y-O.y)/F-1,width:G.width/F,height:G.height/F}),outlineId:w.getElementRegionOutlineId(d3.select(j)),objectName:j.getAttribute(S),displayNameKey:j.getAttribute(f)};var z,G}),function(j){return!!j.outlineId&&!!j.objectName}),U=d3.select(this.hostElement).selectAll("div.".concat(a.class)).data(W,function(j){return j.objectName});U.enter().append("div").classed(a.class,!0).attr("data-testid",function(j){return"direct-edit-placeholder-outline-".concat(j.objectName)}).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",function(j){d3.event.stopImmediatePropagation();var z={visualObjects:[{objectName:j.objectName,selectorsByColumn:{}}],subSelectionType:1,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:j.outlineId,displayName:j.displayNameKey&&w.hostServices.getLocalizedString(j.displayNameKey)};w.subSelect(z)}).merge(U).style("width",function(j){return"".concat(j.bounds.width,"px")}).style("height",function(j){return"".concat(j.bounds.height,"px")}).style("left",function(j){return"".concat(j.bounds.left,"px")}).style("top",function(j){return"".concat(j.bounds.top,"px")}),U.exit().remove()},I.prototype.getElementRegionOutlineId=function(w){var F=w.attr(S),O="";if(this.selectorCallback){var L=this.selectorCallback(w.node()),W=(0,V.tV)(L);W&&(O=(0,V.km)(W))}return""!==O?"".concat(F,"___").concat(O):F},I.prototype.getAllSubSelectables=function(w){var F=this,O=this.getSubSelectableElements(),W=_.uniqWith(O,function(de,Y){return de.getAttribute(S)===Y.getAttribute(S)&&(!F.selectorCallback||(0,V.Ic)(F.selectorCallback(de),F.selectorCallback(Y)))}),U=W;w&&(U=W.filter(function(H){var de=F.getSubSelectionTypeFromElement(H);return Number(de)===w}));var j=U.map(function(H){var de=H.getBoundingClientRect();return{x:de.x+de.width/2,y:de.y+de.height/2}}),G=_.orderBy(Array.from(Array(j.length).keys()),function(de){return j[de].y},["asc"]),te={currentSeriesMultiplier:0};return G.map(function(H){return F.createSubSelectionFromElement(U[H],!1,void 0,te,j[H])})},I.prototype.getNextSubSelectable=function(w,F){var O=this.getAllSubSelectables();if(O.length){var W,L=_.orderBy(O,["focusOrder"],["asc"]);if(!w)return F?_.last(L):_.first(L);var U=_.findIndex(L,function(z){return _.isEqual(w,z)});if(U>-1){var j=F?U-1:U+1;j>-1&&j<L.length&&(W=L[j])}return W}},I.prototype.createVisualSubSelectionForSingleObject=function(w){var F,O=w.objectName,L=w.subSelectionType,W=w.displayName,U=w.showUI,j=w.selectorsByColumn,z=w.selectionOrigin,G=w.focusOrder,te=w.metadata,Q=w.target,H=(null!==(F=null==Q?void 0:Q.getBoundingClientRect())&&void 0!==F?F:{top:0}).top,de=z&&L in[1,2]?(0,t.__assign)((0,t.__assign)({},z),{offset:{x:0,y:-1*((null==z?void 0:z.y)-H)}}):z;return(0,t.__assign)((0,t.__assign)({visualObjects:[{objectName:O,selectorsByColumn:null!=j?j:{}}],showUI:U,displayName:W,subSelectionType:L,selectionOrigin:de,target:Q},te?{metadata:te}:{}),G?{focusOrder:G}:{})},I.prototype.createSubSelectionFromElement=function(w,F,O,L,W){var U=w.getAttribute(S);e.fF.assert(function(){return!!U},"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var j={};this.selectorCallback&&(j=this.selectorCallback(w));var z=this.getSelectorKey(j);z&&void 0===L[z]&&(L[z]=L.currentSeriesMultiplier,L.currentSeriesMultiplier++);var G=this.getSubSelectionFocusOrder(U,L[z]),te=this.getSubSelectionTypeFromElement(w),Q=this.getDisplayNameFromElement(w),H=W;return O&&(H={x:O.clientX,y:O.clientY}),this.createVisualSubSelectionForSingleObject({objectName:U,subSelectionType:te,displayName:Q,showUI:F,selectorsByColumn:j,selectionOrigin:H,focusOrder:G})},I.prototype.getDisplayNameFromElement=function(w){var F=w.getAttribute(f);if(F)F=this.hostServices.getLocalizedString(F);else{var O=I.getDataForElement(w);null!=O&&O.getDisplayName?F=O.getDisplayName():e.fF.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return F},I.prototype.getSubSelectionTypeFromElement=function(w){var F=w.getAttribute(C);if(F)return Number(F);e.fF.assertFail("getAllSubSelectables - DOMElement should have type")},I.prototype.getSelectorKey=function(w){var F=(0,V.fd)((0,V.tV)(w));return _.isEmpty(F)?"":JSON.stringify(F)},I.prototype.getSubSelectionFocusOrder=function(w,F){var O=i[w];return O?(void 0!==F&&(O+=1e3*F),O):999999},I.prototype.getSubSelectableElements=function(){var w=this.hostElement;return this.host.selectAll(b).filter(function(){return x(w,this)}).nodes()},I}()},906298:function(ze,K,r){r.d(K,{m:function(){return c}});var t=r(744883);function c(i,s,p){if(i&&i.textClasses){var V=i.textClasses[s];if(V){var m=V.fontSize&&t.B.createFromPt(+V.fontSize);return{color:p?void 0:V.color&&V.color.value,family:V.fontFace,size:m,weight:V.fontWeight}}}return{}}},452657:function(ze,K,r){r.d(K,{PC:function(){return V},lM:function(){return v},mC:function(){return p},nU:function(){return s},zI:function(){return m}});var t=r(787941),c=r(14253),i=r(240849);function s(e){return e.toString().replace(new RegExp(" ","g"),"&nbsp")}function p(e){return e.replace(/\u2026/g,"")}function V(e){if(null!=e)return e.replace(/ /g,"\xa0")}function m(e){if(null!=e)return e.replace(/\n| /g,"\xa0")}function v(e,h,n,o,u,a){void 0===o&&(o=0),void 0===u&&(u=!1),void 0===a&&(a=!1),t.fF.assertValue(e,"textElement");var l=c.b.getSvgMeasurementProperties(e),d=c.b.estimateSvgTextHeight(l)+o,b=Math.max(1,Math.floor(n/d)),f=d3.select(e),g=e.textContent;e.textContent="";for(var S=(0,i.ql)(g,l,c.b.measureSvgTextWidth,h,b,null,!1,u,a),y=0,C=S.length;y<C;y++)l.text=S[y],f.append("tspan").attr("x",0).attr("dy",0===y?0:d).text(c.b.getTailoredTextOrDefault(l,h))}},438554:function(ze,K,r){r.d(K,{Q:function(){return c},X:function(){return i}});var t=r(787941);function c(s,p){if(0!==p.length){t.fF.assert(function(){return s.nodes().length===p.length||s.size()===p.length},"data length should match dom element count");var m=s.selectAll("title").data(function(v,e){return[p[e]]});m.enter().append("title").merge(m).text(function(v){return v}),m.exit().remove()}}function i(s){return _.reduce(s,function(V,m,v){var e=m.value;return null==e&&(e=m.kpiValue&&m.kpiValue.value),v>0?"".concat(V," ").concat(m.displayName," ").concat(e,"."):"".concat(m.displayName," ").concat(e,".")},"")}},99450:function(ze,K,r){r.d(K,{wx:function(){return t}});var t=function(){function m(v){this.matrix=v||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}return m.prototype.applyToPoint=function(v){if(!v)return v;var e=this.matrix;return{x:e.m00*v.x+e.m01*v.y+e.m02,y:e.m10*v.x+e.m11*v.y+e.m12}},m.prototype.applyToRect=function(v){if(!v)return v;var e=v.left,h=v.top,n=this.matrix,u=0!==n.m01||0!==n.m10;if(!u&&1===n.m00&&1===n.m11)return{left:e+n.m02,top:h+n.m12,width:v.width,height:v.height};var d,b,f,g,a=v.left+v.width,l=v.top+v.height;if(u){var S=n.m00*e+n.m01*h+n.m02,y=n.m10*e+n.m11*h+n.m12,C=n.m00*e+n.m01*l+n.m02,E=n.m10*e+n.m11*l+n.m12,D=n.m00*a+n.m01*h+n.m02,P=n.m10*a+n.m11*h+n.m12,M=n.m00*a+n.m01*l+n.m02,T=n.m10*a+n.m11*l+n.m12;d=Math.min(S,C,D,M),b=Math.max(S,C,D,M),f=Math.min(y,E,P,T),g=Math.max(y,E,P,T)}else S=n.m00*e+n.m02,y=n.m11*h+n.m12,M=n.m00*a+n.m02,T=n.m11*l+n.m12,d=Math.min(S,M),b=Math.max(S,M),f=Math.min(y,T),g=Math.max(y,T);return{left:d,top:f,width:b-d,height:g-f}},m.prototype.translate=function(v,e){if(0!==v||0!==e){var h=function(m,v){return{m00:1,m01:0,m02:m,m10:0,m11:1,m12:v}}(v,e);this.matrix=V(this.matrix,h),this._inverse=null}},m.prototype.scale=function(v,e){if(1!==v||1!==e){var h=function(m,v){return{m00:m,m01:0,m02:0,m10:0,m11:v,m12:0}}(v,e);this.matrix=V(this.matrix,h),this._inverse=null}},m.prototype.rotate=function(v){if(0!==v){var e=function(m){var v=m,e=Math.sin(v),h=Math.cos(v);return{m00:h,m01:-e,m02:0,m10:e,m11:h,m12:0}}(v);this.matrix=V(this.matrix,e),this._inverse=null}},m.prototype.add=function(v){v&&(this.matrix=V(this.matrix,v.matrix),this._inverse=null)},m.prototype.getInverse=function(){return this._inverse||(this._inverse=new m(function(m){var e=1/(m.m00*m.m11-m.m01*m.m10);return{m00:m.m11*e,m01:-m.m01*e,m02:(m.m01*m.m12-m.m02*m.m11)*e,m10:-m.m10*e,m11:m.m00*e,m12:-(m.m00*m.m12-m.m10*m.m02)*e}}(this.matrix))),this._inverse},m}();function V(m,v){return{m00:m.m00*v.m00+m.m01*v.m10,m01:m.m00*v.m01+m.m01*v.m11,m02:m.m00*v.m02+m.m01*v.m12+m.m02,m10:m.m10*v.m00+m.m11*v.m10,m11:m.m10*v.m01+m.m11*v.m11,m12:m.m10*v.m02+m.m11*v.m12+m.m12}}},744883:function(ze,K,r){r.d(K,{B:function(){return i}});var t=r(787941),c=r(520907),i=function(){function s(p,V){this.pt=p,this.px=V}return s.createFromPt=function(p,V){return t.fF.assert(function(){return _.isFinite(p)},"pt is not a number"),V&&(p=_.round(p,V)),new s(p,c.FP.fromPointToPixel(p))},s.createFromPx=function(p,V){return t.fF.assert(function(){return _.isFinite(p)},"px is not a number"),V&&(p=_.round(p,V)),new s(c.FP.toPoint(p),p)},s.createFromElement=function(p){var V=p.css("font-size");return _.isEmpty(V)?void 0:s.createFromCSS(V)},s.createFromCSS=function(p,V){t.fF.assertValue(p,"fontSizeCSS");var m=p.slice(-2).toLowerCase();t.fF.assert(function(){return"pt"===m||"px"===m},"expected an absolute size");var v=parseFloat(p.slice(0,-2));switch(t.fF.assert(function(){return!isNaN(v)},"value is NaN"),m){case"px":return s.createFromPx(v,V);case"pt":return s.createFromPt(v,V);default:t.fF.assertFail("Can not convert unit '".concat(m,"' to a FontSize"))}},s.prototype.equals=function(p){return this.pt===p.pt&&this.px===p.px},s}()},943079:function(ze,K,r){r.d(K,{Il:function(){return e},O4:function(){return v},Re:function(){return n},WO:function(){return p},_W:function(){return h},kB:function(){return m},q5:function(){return o},x6:function(){return V}});var t=r(226514),c=r(106266),i=r(37584),s=r(674810);function p(){return{solid:{color:"#FFF"}}}function V(){return 50}function m(){return!1}function v(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function e(u,a){var l;u.pushInstance({selector:null,properties:{transparency:null!==(l=null==a?void 0:a.transparency)&&void 0!==l?l:50,image:null==a?void 0:a.image},objectName:"plotArea"})}function h(u,a){var l=i.mi.plotArea,d=new c.CQ(new c.lg("plotBackground"),"Visual_Plot_Background",[l.image,l.transparency],a);return d.addGroup(void 0,function(b){var f;b.addSimpleSlice("image",new c.bD({descriptor:l.image,value:u&&u.image}).build()).addSimpleSlice("transparency",c.JN.getTransparencySliderBuilder({descriptor:l.transparency,value:null!==(f=null==u?void 0:u.transparency)&&void 0!==f?f:50,localize:a}).build(),function(g){var S,y;return g.withDisabled(!(u&&u.image&&(null!==(S=u.image)&&void 0!==S&&S.name||null!==(y=u.image)&&void 0!==y&&y.url)))})}),d.build()}function n(u,a,l){var d,b=null===(d=null==u?void 0:u.image)||void 0===d?void 0:d.url;if(b){var g,f=a.children(".background-image");switch(0===f.length&&(a.prepend('<div class="background-image"></div>'),(f=a.children(".background-image")).css("position","absolute")),u.image.scaling){case s.C.normal:g={"background-size":"","background-position":"50% 50%"};break;case s.C.fit:g={"background-size":"100% 100%","background-position":""};break;case s.C.fill:g={"background-size":"100%","background-position":"50% 50%"};break;default:g={"background-size":"","background-position":"50% 50%"}}f.css((0,t.__assign)((0,t.__assign)({},g),{width:l.width,height:l.height,"margin-left":l.left,"margin-top":l.top,"background-image":"url(".concat(b,")"),"background-repeat":"no-repeat",opacity:(100-u.transparency)/100}))}else o(a)}function o(u){null==u||u.children(".background-image").remove()}},41455:function(ze,K,r){r.d(K,{$b:function(){return v},FJ:function(){return m},H4:function(){return n},O4:function(){return e},kG:function(){return h}});var t=r(666683),c=r(453543),i=r(251912),s=r(298801),m=0;function v(o,u){var a=(0,t.yo)(o)?u:0,l=(0,t.BK)(o)?u:0,d=(0,t.mv)(o)?u:0,b=(0,t.fs)(o)?u:0;return"".concat(a,"px ").concat(l,"px ").concat(d,"px ").concat(b,"px")}function e(){return{color:{solid:{color:"#000"}},show:!1,radius:m}}function h(o){if(o.isHighContrast)return{visible:!0,color:s.v.getThemeColor(o,i.fA),width:c.Bj}}function n(o,u){null!=u&&u.visible&&o.style("stroke",u.color).style("stroke-width",u.width)}},397628:function(ze,K,r){r.d(K,{e_:function(){return c},g:function(){return t},t2:function(){return s},tQ:function(){return i}});var t="Slider_Degree",c="Numeric_Pixel",i="Slider_Weight",s="Slider_Percent"},29436:function(ze,K,r){r.d(K,{OT:function(){return e},sd:function(){return m},u9:function(){return v}});var t=r(787941),c=r(989516),i=r(668268),s=r(620108),p=r(45696);function m(h,n){if(_.isEmpty(h))return[];t.fF.assertValue(n,"objectDescriptors");for(var o=[],u=function(f){for(var g in f.objects){var S=f.objects[g]&&f.objects[g].formattingProperties;if(!_.isEmpty(S))for(var y=0,C=S;y<C.length;y++){var D={objectName:g,propertyName:C[y]},P=(0,s.VM)(n,D),M=void 0;f.allowOverrideSubtotalMatching&&(t.fF.assert(function(){return(0,c.N6)(f.selector)},"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),M=!0),P&&o.push({selector:f.selector,allowOverrideSubtotalMatching:M,altStaticSelector:f.altStaticSelector,propertyId:D,propertyDescriptor:P,containerName:f.containerName})}}},a=0,l=h;a<l.length;a++)u(l[a]);return o}function v(h,n){return h===n||null==h&&null==n||!h==!n&&void 0===h.altStaticSelector==(void 0===n.altStaticSelector)&&!!h.allowOverrideSubtotalMatching==!!n.allowOverrideSubtotalMatching&&h.containerName===n.containerName&&_.isEqual(h.propertyDescriptor,n.propertyDescriptor)&&_.isEqual(h.propertyId,n.propertyId)&&(0,c.fS)(h.selector,n.selector)}function e(h,n){if(!n.allowOverrideSubtotalMatching)return(0,i.NA)(h,n.propertyId,n.selector);t.fF.assert(function(){return(0,c.N6)(n.selector)},"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");for(var u=0,a=[(0,p.Ue)(1),(0,p.Ue)(2),(0,p.Ue)(0)];u<a.length;u++){var d={data:[a[u]],metadata:n.selector.metadata,id:n.selector.id},b=(0,i.NA)(h,n.propertyId,d);if(b)return n.selector=d,b}}},691203:function(ze,K,r){function t(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"nonInteractive"}}}function c(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}}r.d(K,{DH:function(){return c},ss:function(){return t}})},854479:function(ze,K,r){function t(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function c(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}r.d(K,{DH:function(){return c},ss:function(){return t}})},563245:function(ze,K,r){r.d(K,{A1:function(){return T},FX:function(){return B},IC:function(){return R},Pi:function(){return D},Sc:function(){return M},UR:function(){return S},e9:function(){return C},mO:function(){return P},nv:function(){return E},tJ:function(){return y},u3:function(){return a},vW:function(){return g}});var t=r(939942),c=r(251912),i=r(787941),s=r(803018),p=r(690016),V=r(698129),m=r(298801),v=r(306310),e=r(666683),h=r(707903),n=r(518284),o=r(635528),u=r(834436),a='"',l=function(){function N(x,A,I,w,F,O){this.objectName=x,this.propertyName=A,this.defaultValue=I,this.usage=w,this.fallbackProperties=O,this.getterFunction=F||V.NA}return N.prototype.getValue=function(x,A,I,w,F,O){void 0===A&&(A=!1);var L=this.getterFunction(x,this,this.defaultValue,F);if(F&&void 0===L&&(L=this.getValue(x,A)),I&&!I(x,this,F)&&!_.isNil(w)&&(L=w),void 0===L&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach(function(W,U){L=W.getValue(x,A,void 0,void 0,O&&O[U])})),!A&&"string"==typeof L)switch(this.usage){case"attribute":L=L.replace(N.AttributeDelimiter,a+a);break;case"unsafeTextContent":L=(0,p.HZ)(L);break;case"codeOnly":case"safeTextContent":break;default:i.fF.assertNever(this.usage)}return L},N.prototype.setInstanceProperty=function(x,A,I,w,F){var O=this.getValue(A,!0,I,w,F);return x&&x.properties&&(x.properties[this.propertyName]=O),O},N.prototype.setInstanceValidValues=function(x,A){x.validValues||(x.validValues={}),x.validValues[this.propertyName]=A},N.AttributeDelimiter=new RegExp(a,"g"),N}(),d="foregroundNeutralLight",f="foregroundNeutralSecondary",g=e.wI,S=e.$m.Bottom,y=e.YP,C=e.$m.Nil,E=e.RH,D=e.$m.Right,P=e.j0,M=e.$m.Top,T=e.YP,R=e.$m.Nil,B=function(){function N(x){var A=this;this.colorHelper=m.v.create(x);var I=function(F,O,L,W){return A.colorHelper.getColorForProperty(F,O,L,W)};this.PropGridVerticalColor=new l(N.ObjectGrid,"gridVerticalColor",d,"attribute",I),this.PropGridHorizontalColor=new l(N.ObjectGrid,"gridHorizontalColor",d,"attribute",I),this.PropGridOutlineColor=new l(N.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",I),this.PropRowsOutlineColor=new l(N.ObjectRowHeaders,"outlineColor",void 0,"attribute",I),this.PropColumnsOutlineColor=new l(N.ObjectColumnHeaders,"outlineColor",void 0,"attribute",I),this.PropValuesOutlineColor=new l(N.ObjectValues,"outlineColor",void 0,"attribute",I),this.PropTotalOutlineColor=new l(N.ObjectTotal,"outlineColor",void 0,"attribute",I),this.PropBlankRowsBlankRowColor=new l(N.ObjectBlankRows,"blankRowColor",void 0,"attribute",I),this.PropBlankRowsBorderColor=new l(N.ObjectBlankRows,"borderColor",void 0,"attribute",I),this.PropColumnsFontColor=new l(N.ObjectColumnHeaders,"fontColor",f,"attribute",I),this.PropColumnsBackColor=new l(N.ObjectColumnHeaders,"backColor",void 0,"attribute",I),this.PropRowsFontColor=new l(N.ObjectRowHeaders,"fontColor",f,"attribute",I),this.PropRowsBackColor=new l(N.ObjectRowHeaders,"backColor",void 0,"attribute",I),this.PropRowsExpandCollapseButtonsColor=new l(N.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",I),this.PropValuesFontColor=new l(N.ObjectValues,"fontColor",void 0,"attribute",I),this.PropValuesFontColorPrimary=new l(N.ObjectValues,"fontColorPrimary",c.fA,"attribute",I),this.PropValuesFontColorSecondary=new l(N.ObjectValues,"fontColorSecondary",c.fA,"attribute",I),this.PropValuesBackColor=new l(N.ObjectValues,"backColor",void 0,"attribute",I),this.PropValuesBackColorPrimary=new l(N.ObjectValues,"backColorPrimary",void 0,"attribute",I),this.PropValuesBackColorSecondary=new l(N.ObjectValues,"backColorSecondary",void 0,"attribute",I),this.PropTotalFontColor=new l(N.ObjectTotal,"fontColor",c.fA,"attribute",I),this.PropTotalBackColor=new l(N.ObjectTotal,"backColor",void 0,"attribute",I),this.PropSubTotalsFontColor=new l(N.ObjectSubTotals,"fontColor",void 0,"attribute",I),this.PropSubTotalsBackColor=new l(N.ObjectSubTotals,"backColor",void 0,"attribute",I),this.PropGrandTotalFontColor=new l(N.ObjectTotal,"fontColor",void 0,"attribute",I),this.PropGrandTotalBackColor=new l(N.ObjectTotal,"backColor",void 0,"attribute",I),this.PropColumnGrandTotalFontColor=new l(N.ObjectColumnTotal,"fontColor",void 0,"attribute",I),this.PropColumnGrandTotalBackColor=new l(N.ObjectColumnTotal,"backColor",void 0,"attribute",I),this.PropRowGrandTotalFontColor=new l(N.ObjectRowTotal,"fontColor",void 0,"attribute",I),this.PropRowGrandTotalBackColor=new l(N.ObjectRowTotal,"backColor",void 0,"attribute",I),this.PropColumnFormattingFontColor=new l(N.ObjectColumnFormatting,"fontColor",void 0,"attribute",I),this.PropColumnFormattingBackColor=new l(N.ObjectColumnFormatting,"backColor",void 0,"attribute",I),this.PropSparklinesDataColor=new l(N.ObjectSparklines,"dataColor",{solid:{color:m.v.getDataColorByIndex(x,0)}},"attribute"),this.PropSparklinesMarkerColor=new l(N.ObjectSparklines,"markerColor",{solid:{color:m.v.getDataColorByIndex(x,0)}},"attribute")}return N.ObjectGeneral="general",N.ObjectGrid="grid",N.ObjectBlankRows="blankRows",N.ObjectColumnHeaders="columnHeaders",N.ObjectRowHeaders="rowHeaders",N.ObjectValues="values",N.ObjectTotal="total",N.ObjectColumnTotal="columnTotal",N.ObjectRowTotal="rowTotal",N.ObjectSubTotals="subTotals",N.ObjectColumnFormatting="columnFormatting",N.ObjectColumnWidth="columnWidth",N.ObjectSparklines="sparklines",N.ObjectAccessibility="accessibility",N.PropColumnFormatString=new l(N.ObjectGeneral,"formatString",void 0,"codeOnly"),N.PropGeneralTableTotals=new l(N.ObjectGeneral,"totals",!0,"codeOnly"),N.PropGeneralMatrixRowSubtotals=new l(N.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),N.PropGeneralMatrixColumnSubtotals=new l(N.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),N.PropGeneralAutoSizeColumns=new l(N.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),N.PropGeneralTextSize=new l(N.ObjectGeneral,"textSize",8,"attribute"),N.PropGeneralMatrixLayout=new l(N.ObjectGeneral,"layout",void 0,"codeOnly"),N.PropGridPivotTableTextSize=new l(N.ObjectGrid,"textSize",8,"attribute"),N.PropGridVertical=new l(N.ObjectGrid,"gridVertical",!1,"codeOnly"),N.PropGridVerticalWeight=new l(N.ObjectGrid,"gridVerticalWeight",1,"attribute"),N.PropGridHorizontalTable=new l(N.ObjectGrid,"gridHorizontal",!0,"codeOnly"),N.PropGridHorizontalMatrix=new l(N.ObjectGrid,"gridHorizontal",!1,"codeOnly"),N.PropGridHorizontalWeight=new l(N.ObjectGrid,"gridHorizontalWeight",1,"attribute"),N.PropGridRowPadding=new l(N.ObjectGrid,"rowPadding",0,"attribute"),N.PropGridOutlineStyle=new l(N.ObjectGrid,"outlineStyle",void 0,"codeOnly"),N.PropGridOutline=new l(N.ObjectGrid,"outline",void 0,"codeOnly"),N.PropGridOutlineWeight=new l(N.ObjectGrid,"outlineWeight",1,"attribute"),N.PropGridImageHeight=new l(N.ObjectGrid,"imageHeight",75,"attribute"),N.PropGridImageWidth=new l(N.ObjectGrid,"imageWidth",void 0,"attribute",void 0,[N.PropGridImageHeight]),N.PropBlankRowsShowBlankRows=new l(N.ObjectBlankRows,"showBlankRows",!1,"attribute"),N.PropBlankRowsTransparency=new l(N.ObjectBlankRows,"blankRowTransparency",0,"attribute"),N.PropBlankRowsShowBorder=new l(N.ObjectBlankRows,"showBorder",!1,"attribute"),N.PropBlankRowsBorderPosition=new l(N.ObjectBlankRows,"borderPosition",void 0,"attribute"),N.PropBlankRowsBorderTransparency=new l(N.ObjectBlankRows,"borderTransparency",0,"attribute"),N.PropBlankRowsBorderWidth=new l(N.ObjectBlankRows,"borderWidth",1,"attribute"),N.PropColumnsFontFamily=new l(N.ObjectColumnHeaders,"fontFamily",s.Wn.regular.css,"attribute"),N.PropColumnsOutline=new l(N.ObjectColumnHeaders,"outline",e.wI,"codeOnly"),N.PropColumnsOutlineStyle=new l(N.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),N.PropColumnsNewVisualOutline=new l(N.ObjectColumnHeaders,"outline",void 0,"codeOnly"),N.PropColumnsAlignment=new l(N.ObjectColumnHeaders,"alignment",u.H.auto,"codeOnly"),N.PropColumnsAlignmentTitle=new l(N.ObjectColumnHeaders,"titleAlignment",u.H.auto,"codeOnly",null,[N.PropColumnsAlignment]),N.PropColumnPivotTableAutoSizeColumns=new l(N.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),N.PropColumnsWordWrap=new l(N.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),N.PropColumnsOutlineWeight=new l(N.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),N.PropColumnsUrlIcon=new l(N.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),N.PropColumnsFontSize=new l(N.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[N.PropGridPivotTableTextSize]),N.PropColumnsBold=new l(N.ObjectColumnHeaders,"bold",!1,"codeOnly"),N.PropColumnsItalic=new l(N.ObjectColumnHeaders,"italic",!1,"codeOnly"),N.PropColumnsUnderline=new l(N.ObjectColumnHeaders,"underline",!1,"codeOnly"),N.PropRowsSteppedLayout=new l(N.ObjectRowHeaders,"stepped",!0,"codeOnly"),N.PropRowsSteppedLayoutIndentation=new l(N.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),N.PropRowsFontFamily=new l(N.ObjectRowHeaders,"fontFamily",s.Wn.regular.css,"attribute"),N.PropRowsOutline=new l(N.ObjectRowHeaders,"outline",e.RH,"codeOnly"),N.PropRowsPivotTableOutline=new l(N.ObjectRowHeaders,"outline",void 0,"codeOnly"),N.PropRowsOutlineStyle=new l(N.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),N.PropRowsAlignment=new l(N.ObjectRowHeaders,"alignment",u.H.auto,"codeOnly"),N.PropRowsWordWrap=new l(N.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),N.PropRowsOutlineWeight=new l(N.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),N.PropRowsUrlIcon=new l(N.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),N.PropRowsFontSize=new l(N.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[N.PropGridPivotTableTextSize]),N.PropRowsShowExpandCollapseButtons=new l(N.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),N.PropRowsExpandCollapseButtonsSize=new l(N.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[N.PropRowsFontSize]),N.PropRowsBold=new l(N.ObjectRowHeaders,"bold",!1,"codeOnly"),N.PropRowsItalic=new l(N.ObjectRowHeaders,"italic",!1,"codeOnly"),N.PropRowsUnderline=new l(N.ObjectRowHeaders,"underline",!1,"codeOnly"),N.PropRowsExpandCompositeHierarchy=new l(N.ObjectRowHeaders,"expandCompositeHierarchy",!1,"codeOnly"),N.PropRowsRepeatRowHeaders=new l(N.ObjectRowHeaders,"repeatRowHeaders",!1,"codeOnly"),N.PropValuesFontFamily=new l(N.ObjectValues,"fontFamily",s.Wn.regular.css,"attribute"),N.PropValuesBandedRowHeaders=new l(N.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),N.PropValuesOutline=new l(N.ObjectValues,"outline",e.YP,"codeOnly"),N.PropValuesOutlineStyle=new l(N.ObjectValues,"outlineStyle",void 0,"codeOnly"),N.PropValuesNewVisualOutline=new l(N.ObjectValues,"outline",void 0,"codeOnly"),N.PropValuesUrlIcon=new l(N.ObjectValues,"urlIcon",!1,"codeOnly"),N.PropValuesWordWrap=new l(N.ObjectValues,"wordWrap",!1,"codeOnly"),N.PropValuesOutlineWeight=new l(N.ObjectValues,"outlineWeight",void 0,"attribute"),N.PropValuesOnRow=new l(N.ObjectValues,"valuesOnRow",!1,"attribute"),N.PropValuesFontSize=new l(N.ObjectValues,"fontSize",void 0,"attribute",void 0,[N.PropGridPivotTableTextSize]),N.PropValuesIcon=new l(N.ObjectValues,"icon",void 0,"attribute"),N.PropValuesWebURL=new l(N.ObjectValues,"webURL",void 0,"attribute"),N.PropValuesBold=new l(N.ObjectValues,"bold",!1,"codeOnly"),N.PropValuesItalic=new l(N.ObjectValues,"italic",!1,"codeOnly"),N.PropValuesUnderline=new l(N.ObjectValues,"underline",!1,"codeOnly"),N.PropTotalTableExTotals=new l(N.ObjectTotal,"totals",!0,"codeOnly"),N.PropTotalTableExTotalLabel=new l(N.ObjectTotal,"label",null,"safeTextContent"),N.PropTotalOutline=new l(N.ObjectTotal,"outline",e.j0,"codeOnly"),N.PropTotalTableExOutline=new l(N.ObjectTotal,"outline",void 0,"codeOnly"),N.PropTotalOutlineStyle=new l(N.ObjectTotal,"outlineStyle",void 0,"codeOnly"),N.PropTotalOutlineWeight=new l(N.ObjectTotal,"outlineWeight",void 0,"attribute"),N.PropTotalFontFamily=new l(N.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[N.PropValuesFontFamily]),N.PropTotalFontSize=new l(N.ObjectTotal,"fontSize",void 0,"attribute",void 0,[N.PropValuesFontSize]),N.PropTotalBold=new l(N.ObjectTotal,"bold",!0,"codeOnly"),N.PropTotalItalic=new l(N.ObjectTotal,"italic",!1,"codeOnly"),N.PropTotalUnderline=new l(N.ObjectTotal,"underline",!1,"codeOnly"),N.PropSubTotalsPivotTableRowSubtotals=new l(N.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),N.PropSubTotalsPivotTableRowSubtotalsLabel=new l(N.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),N.PropSubTotalsPivotTableRowSubtotalsPerLevel=new l(N.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),N.PropSubTotalsPivotTableColumnSubtotals=new l(N.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),N.PropSubTotalsPivotTableColumnSubtotalsLabel=new l(N.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),N.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new l(N.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),N.PropSubTotalsPivotTableLevelSubtotalEnabled=new l(N.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),N.PropSubTotalsPivotTableLevelSubtotalLabel=new l(N.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),N.PropSubTotalsPivotTableRowSubtotalsPosition=new l(N.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",function(x,A,I){if(N.PropGeneralMatrixLayout.getValue(x)===t.t.Tabular)return h.I;var w=(0,V.NA)(x,A,I);return null!=w?w:N.PropRowsSteppedLayout.getValue(x)?h.we:h.I}),N.PropSubTotalsApplyToHeaders=new l(N.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),N.PropSubTotalsFontFamily=new l(N.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[N.PropValuesFontFamily]),N.PropSubTotalsFontSize=new l(N.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[N.PropValuesFontSize]),N.PropSubTotalsBold=new l(N.ObjectSubTotals,"bold",!0,"codeOnly"),N.PropSubTotalsItalic=new l(N.ObjectSubTotals,"italic",!1,"codeOnly"),N.PropSubTotalsUnderline=new l(N.ObjectSubTotals,"underline",!1,"codeOnly"),N.PropGrandTotalApplyToHeaders=new l(N.ObjectTotal,"applyToHeaders",!1,"codeOnly"),N.PropGrandTotalFontFamily=new l(N.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[N.PropSubTotalsFontFamily]),N.PropGrandTotalFontSize=new l(N.ObjectTotal,"fontSize",void 0,"attribute",void 0,[N.PropSubTotalsFontSize]),N.PropGrandTotalBold=new l(N.ObjectTotal,"bold",!0,"codeOnly"),N.PropGrandTotalItalic=new l(N.ObjectTotal,"italic",!1,"codeOnly"),N.PropGrandTotalUnderline=new l(N.ObjectTotal,"underline",!1,"codeOnly"),N.PropColumnGrandTotalApplyToHeaders=new l(N.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),N.PropColumnGrandTotalFontFamily=new l(N.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[N.PropSubTotalsFontFamily]),N.PropColumnGrandTotalFontSize=new l(N.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[N.PropSubTotalsFontSize]),N.PropColumnGrandTotalBold=new l(N.ObjectColumnTotal,"bold",!0,"codeOnly"),N.PropColumnGrandTotalItalic=new l(N.ObjectColumnTotal,"italic",!1,"codeOnly"),N.PropColumnGrandTotalUnderline=new l(N.ObjectColumnTotal,"underline",!1,"codeOnly"),N.PropRowGrandTotalApplyToHeaders=new l(N.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),N.PropRowGrandTotalFontFamily=new l(N.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[N.PropSubTotalsFontFamily]),N.PropRowGrandTotalFontSize=new l(N.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[N.PropSubTotalsFontSize]),N.PropRowGrandTotalBold=new l(N.ObjectRowTotal,"bold",!0,"codeOnly"),N.PropRowGrandTotalItalic=new l(N.ObjectRowTotal,"italic",!1,"codeOnly"),N.PropRowGrandTotalUnderline=new l(N.ObjectRowTotal,"underline",!1,"codeOnly"),N.PropColumnFormattingDisplayUnits=new l(N.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",V.NA),N.PropColumnFormattingPrecision=new l(N.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",V.NA),N.PropColumnFormattingAlignment=new l(N.ObjectColumnFormatting,"alignment",u.H.auto,"codeOnly"),N.PropColumnFormattingStyleHeader=new l(N.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),N.PropColumnFormattingStyleValues=new l(N.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),N.PropColumnFormattingStyleSubtotals=new l(N.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),N.PropColumnFormattingDataBars=new l(N.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),N.PropSparklinesChartType=new l(N.ObjectSparklines,"chartType",n.U.line,"codeOnly"),N.PropSparklinesStrokeWidth=new l(N.ObjectSparklines,"strokeWidth",1,"attribute"),N.PropSparklinesMarkerType=new l(N.ObjectSparklines,"markers",o.qC,"codeOnly"),N.PropSparklinesMarkerSize=new l(N.ObjectSparklines,"markerSize",3,"attribute"),N.PropSparklinesMarkerShape=new l(N.ObjectSparklines,"markerShape",v.ZO.circle,"codeOnly"),N.PropColumnFormattingStyleTotal=new l(N.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),N.PropColumnWidthValue=new l(N.ObjectColumnWidth,"value",void 0,"attribute"),N.PropAltTextValue=new l(N.ObjectAccessibility,"altTextColumns",void 0,"attribute"),N.ProprowWithReferenceText=new l(N.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),N.PropUnfrozenRowHeaders=new l(N.ObjectRowHeaders,"unfrozen",!1,"codeOnly"),N}()},781935:function(ze,K,r){r.d(K,{WD:function(){return O},dz:function(){return x}});var t=r(226514),c=r(629925),i=r(787941),s=r(803018),p=r(14253),V=r(569071),m=r(240849),v=r(187810),e=r(506038),h=r(549772),n=r(744883),o=r(306310),u=r(648233),a=(0,c.CH)("tooltip-container"),l=(0,c.CH)("tooltip-light"),d=(0,c.CH)("tooltip-content-container"),b=(0,c.CH)("tooltip-data-container"),f=(0,c.CH)("tooltip-icon-cell"),g=(0,c.CH)("tooltip-line-icon"),S=(0,c.CH)("tooltip-marker-icon"),y=(0,c.CH)("tooltip-header"),C=(0,c.CH)("tooltip-subheader"),E=(0,c.CH)("tooltip-footer"),D=(0,c.CH)("tooltip-discoverabilityText"),P=(0,c.CH)("tooltip-row"),M=(0,c.CH)("tooltip-title-cell"),T=(0,c.CH)("tooltip-value-cell"),R=(0,c.CH)("tooltip-kpi-cell"),B=(0,c.CH)("arrow"),N=n.B.createFromPt(9),x={titleFontProperties:{color:"#C8C8C8",family:s.Wn.regular.css,size:N,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:s.Wn.semibold.css,size:N,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:s.Wn.regular.css,size:n.B.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},O=function(){function L(){}return L.prototype.create=function(){var W=$("<div>").get(0);return(this.container=d3.select(W).classed(d.class,!0)).append("div").classed(b.class,!0).style("direction","ltr"),W},L.prototype.update=function(W){if(null==W.style&&(W.style=x),i.fF.assert(function(){return!!W.style.titleFontProperties},"Title Font Properties Should Be Defined"),i.fF.assert(function(){return!!W.style.valueFontProperties},"Value Font Properties Should Be Defined"),!_.isEqual(W,this.currentData)&&(this.currentData=W,this.textTitleFontProperty=(0,v.qk)(W.style.titleFontProperties),this.textValueFontProperty=(0,v.qk)(W.style.valueFontProperties),this.container.data)){var U=this.buildViewModel(W),j=this.dataContainer=this.dataContainer||this.container.select(b.selector);j.selectAll(C.selector).remove(),j.selectAll(y.selector).remove(),j.selectAll(P.selector).remove(),j.selectAll(E.selector).remove(),j.selectAll(D.selector).remove();var z=this.renderSubeader(j,U),G=this.renderHeader(j,U);this.updateTooltipRows(j,U.rows);var te=this.renderDiscoverabilityText(j,U);this.renderFooter(j,U);var Q=d3.select(a.selector),H=Q.node()&&Q.classed(l.class),de=Q.selectAll(B.selector),Y=Q.selectAll(d.selector),se=Q.select(b.selector).selectAll(M.selector),ce=Q.select(b.selector).selectAll(T.selector),pe=this.currentData.style;if(H)return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void de.styles({"border-right-color":null,"border-left-color":null,opacity:null});de.styles({"border-right-color":pe.background&&pe.background.solid.color,"border-left-color":pe.background&&pe.background.solid.color,opacity:1-pe.transparency/100}),G.styles((0,v.jB)(function(){return pe.valueFontProperties})),z.styles((0,v.jB)(function(){return pe.valueFontProperties})),Y.attr("aria-live","polite").styles({"background-color":pe.background&&pe.background.solid.color,opacity:1-pe.transparency/100}),se.styles((0,v.jB)(function(){return pe.titleFontProperties})),ce.styles((0,v.jB)(function(){return pe.valueFontProperties})),te&&pe.discoverabilityFontProperties&&te.styles((0,v.jB)(function(){return pe.discoverabilityFontProperties}))}},L.prototype.renderHeader=function(W,U){var j=W.selectAll(y.selector).data(_.filter([U.header],function(G){return!!G})),z=j.enter().append("div").attr("class",y.class).merge(j);return z.text(U.header),j.exit().remove(),z},L.prototype.renderSubeader=function(W,U){var j=W.selectAll(C.selector).data(_.filter([U.subheader],function(G){return!!G})),z=j.enter().append("div").attr("class",C.class).merge(j);return z.text(U.subheader),j.exit().remove(),z},L.prototype.renderFooter=function(W,U){var j=W.selectAll(E.selector).data(_.filter([U.footer],function(G){return!!G})),z=j.enter().append("div").attr("class",E.class).merge(j);return z.text(U.footer),j.exit().remove(),z},L.prototype.renderDiscoverabilityText=function(W,U){var j=W.selectAll(D.selector).data(_.filter([U.discoverabilityText],function(G){return!!G})),z=j.enter().append("div").attr("class",D.class).merge(j);return z.text(U.discoverabilityText),j.exit().remove(),z},L.prototype.updateTooltipRows=function(W,U){W.selectAll(P.selector).remove();var j=W.selectAll(P.selector).data(U),z=j.enter().append("div").classed(P.class,!0).merge(j),G=z.selectAll(f.selector).data(function(le){return _.filter([le.icon],function(Z){return void 0!==Z})}),te=G.enter().append("div").classed(f.class,!0),Q=te.append("svg").attr("height","15px");Q.append("path").classed(g.class,!0).styles({"stroke-opacity":"1","stroke-width":"2"}),Q.append("path").classed(S.class,!0);var H=te.merge(G),de=function(Z){var ie;return!(null===(ie=null==Z?void 0:Z.line)||void 0===ie||!ie.strokePattern)},Y=function(Z){return(0,V.aI)(de(Z)?15.5:5,8,5/h.UI)},se=function(Z){var ie;return null===(ie=null==Z?void 0:Z.marker)||void 0===ie?void 0:ie.color},ce=function(Z){var ie,me;return null!==(me=null===(ie=null==Z?void 0:Z.marker)||void 0===ie?void 0:ie.opacity)&&void 0!==me?me:1},pe=(0,h.tp)().shape;H.style("max-width",function(le){return de(le)?"31px":"13px"}),H.selectAll("svg").attr("width",function(le){return de(le)?31:"100%"}),H.selectAll(g.selector).attrs({transform:Y,d:function(Z){return de(Z)?"M 0 0 M -15.5 0 L 15.5 0":null}}).styles({stroke:function(Z){var ie;return null===(ie=null==Z?void 0:Z.line)||void 0===ie?void 0:ie.lineColor},"stroke-dasharray":function(Z){return de(Z)?(0,u.XG)(Z.line.strokePattern):null}}),H.selectAll(S.selector).attrs({transform:Y,d:function(Z){var ie;return(0,h.DW)((null===(ie=null==Z?void 0:Z.marker)||void 0===ie?void 0:ie.markerShape)||pe)}}).styles({fill:se,stroke:se,"fill-opacity":ce,"stroke-opacity":ce});var ve=z.selectAll(M.selector).data(function(le){return _.filter([le.displayNameRows],function(Z){return!!Z})}),De=ve.enter().append("div").classed(M.class,!0).merge(ve);this.buildTextRows(De,this.textTitleFontProperty,260);var We=z.selectAll(T.selector).data(function(le){return _.filter([le.valueRows],function(Z){return!_.isEmpty(Z)})}),je=We.enter().append("div").classed(T.class,!0).merge(We);this.buildTextRows(je,this.textValueFontProperty,260);var Ae=z.selectAll(R.selector).data(function(le){return _.filter([le.kpi],function(Z){return!!Z})});Ae.enter().append("div").styles({"vertical-align":"middle",margin:0}).merge(Ae).attr("class",function(le){return"".concat(R.class," ").concat((0,e.sq)(le.metadata,le.value))}),z.each(function(le){var Z=le.extraPadding;null!=Z&&d3.selectAll(this.children).style("padding-top","top"===Z?"5px":null).style("padding-bottom","bottom"===Z?"5px":null)}),G.exit().remove(),ve.exit().remove(),We.exit().remove(),Ae.exit().remove(),j.exit().remove()},L.prototype.buildTextRows=function(W,U,j){var z=W.selectAll("div").data(function(te){return te});z.enter().append("div").merge(z).text(function(te){var Q=(0,t.__assign)((0,t.__assign)({},U),{text:te});return p.b.getTailoredTextOrDefault(Q,j)}),z.exit().remove()},L.prototype.updateOptions=function(W){if(this.dataContainer){var U=W.dataContainerWidth;this.dataContainer.style("width",null!=U?"".concat(U,"px"):"")}},L.prototype.buildViewModel=function(W){var U=this,j=W.items,z=_.chain(j).filter(function(Ae){return U.isValidDataItem(Ae)}).map(function(Ae){return U.buildRowViewModel(Ae,W.style.titleFontProperties.color)}).value();this.distributeRows(z,W.bounds);for(var G=_.head(j),te=G&&G.header,Q=G&&G.subheader,H=_.last(j),de=W.discoverabilityText,Y=H&&H.footer,se=!1,ce=!1,pe=0,ve=z;pe<ve.length;pe++){var De=ve[pe];if(!se&&De.icon&&(se=!0),!ce&&(De.valueRows||De.kpi)&&(ce=!0),se&&ce)break}for(var We=0,je=z;We<je.length;We++)De=je[We],se&&void 0===De.icon&&(De.icon=null),ce&&void 0===De.valueRows&&null==De.kpi&&(De.valueRows=[]);return{footer:Y,hasIcons:se,hasValues:ce,header:te,subheader:Q,rows:z,discoverabilityText:de}},L.prototype.buildRowViewModel=function(W,U){var j,z;U&&(W.markerShape===o.ZO.lowerErrorBar||W.markerShape===o.ZO.upperErrorBar)&&(W.color=U),W.color&&(j={line:{lineColor:W.lineColor,strokePattern:W.strokePattern},marker:{color:W.color,opacity:W.opacity,markerShape:W.markerShape}},W.markerShape===o.ZO.upperErrorBar&&(z="top"),W.markerShape===o.ZO.lowerErrorBar&&(z="bottom"));var G={displayNameRows:[W.displayName],icon:j,kpi:W.kpiValue,valueRows:null!=W.value?[W.value]:void 0,extraPadding:z};return W.kpiValue&&(void 0!==G.valueRows&&(i.fF.assertFail("Should not have a `value` and a `kpiValue`"),G.valueRows=void 0),G.kpi=W.kpiValue),G},L.prototype.isValidDataItem=function(W){return W?null!=W.displayName&&"string"!=typeof W.displayName?(i.fF.assertFail("Tooltip datapoint displayName must be a string"),!1):null==W.value||"string"==typeof W.value||(i.fF.assertFail("Tooltip datapoint value must be a string"),!1):(i.fF.assertFail("Tooltip datapoint must not be null/undefined"),!1)},L.prototype.getRowHeight=function(){return Math.max(p.b.estimateSvgTextHeight(this.textTitleFontProperty),p.b.estimateSvgTextHeight(this.textValueFontProperty))},L.prototype.distributeRows=function(W,U){for(var G=U.height/this.getRowHeight(),te=0,Q=[],H=[],de=[],Y=[],se=function(Ae){var _e=W[Ae];i.fF.assert(function(){return 1===_e.displayNameRows.length},"Expected `displayNameRows` to have 1 row"),i.fF.assert(function(){return null==_e.valueRows||1===_e.valueRows.length},"Expected `valueRows` to be `undefined` or have 1 row");var Z=de[Ae]=(0,m.ql)(_e.displayNameRows[0],ce.textTitleFontProperty,p.b.measureSvgTextWidth,260,G,null,!1,!0),ie=void 0;null!=_e.valueRows&&(ie=Y[Ae]=(0,m.ql)(_e.valueRows[0],ce.textValueFontProperty,p.b.measureSvgTextWidth,260,G,null,!1,!0));var ye=Math.max(Z.length,ie?ie.length:0);Q.push(ye),te+=ye},ce=this,pe=0;pe<W.length;pe++)se(pe);if(te<=G)H=Q;else{var ve=G-W.length;for(pe=0;pe<W.length;pe++)H[pe]=1+Math.round(Math.max(ve,0)*(Q[pe]/G))}for(pe=0;pe<W.length;pe++){var De=W[pe];De.displayNameRows=this.getRows(de[pe],H[pe]),Y[pe]&&(De.valueRows=this.getRows(Y[pe],H[pe]))}},L.prototype.getRows=function(W,U){return W.length>U+1?W[U-1]+=W[U]+"\u2026":W.length>U&&(W[U-1]+=W[U]),W.slice(0,U)},L}()},960990:function(ze,K,r){r.d(K,{y:function(){return R},G:function(){return B}});var t=r(787941),c=r(698129),i=r(298801);function s(N,x,A,I){return new p(N,x,A,I)}var p=function(){function N(x,A,I,w){if(this.columnReader=x,this.objectReader=A,this.dataReader=I,w&&w.colorOptions){this.style=w.colorOptions.visualStyle,this.valueRole=w.colorOptions.valueRole;var F=(0,c.W7)(this.objectReader.getStaticObjects(),N.defaultColorProp),O=(0,c.W7)(this.objectReader.getStaticObjects(),N.fillProp);this.colorHelper=i.v.create(this.style,N.fillProp,w.colorOptions.ignoreDefaultColor?void 0:F,w.colorOptions.ignoreDefaultCategoryColor?void 0:O),this.colorReaderIsValid=!0}else this.colorReaderIsValid=!1}return N.prototype.createByCategory=function(x,A){if(this.colorReaderIsValid)return this.colorHelper.getColorForSeriesValue(this.objectReader.getCategoryDataObjects(x),this.columnReader.getCategoryColumnIdentityFields(),this.getCategoryValueForColor(x),A);t.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},N.prototype.createBySeries=function(x,A,I,w){if(this.colorReaderIsValid){var F="",O=this.columnReader.getStaticRoleInfo(x);return O&&O.roleToUse&&(F=this.columnReader.getValueQueryName(O.roleToUse,O.seriesIndexToUse)||""),this.columnReader.hasDynamicSeries()?this.colorHelper.getColorForSeriesValue(this.objectReader.getSeriesDataObjects(x),this.columnReader.getDynamicSeriesColumnIdentityFields(),this.dataReader.getSeriesName(x),I,w):this.columnReader.hasStaticSeries()?this.colorHelper.getColorForStaticSeries(this.objectReader.getSeriesDataObjects(x),F,I,w):this.columnReader.hasCategories()&&null!=A?this.colorHelper.getColorForMeasure(this.objectReader.getCategoryDataObjects(A),F,I,w):this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(this.valueRole,x),F,I,w)}t.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},N.prototype.createByValue=function(x,A){if(this.colorReaderIsValid){var I=this.columnReader.getStaticRoleInfo(x);if(I&&null!=I.roleToUse){var w=this.columnReader.getValueQueryName(I.roleToUse,0)||"";return this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(I.roleToUse,I.seriesIndexToUse),w,A)}t.fF.assertFail("You cannot use colors.createByValue if you do not initialize the reader with a valueRole in colorOptions.")}else t.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},N.prototype.getCategoryValueForColor=function(x){var A=this.columnReader.getAllCategoryColumns();if(A)return _.head(A).values[x]},N.defaultColorProp={objectName:"dataPoint",propertyName:"defaultColor"},N.fillProp={objectName:"dataPoint",propertyName:"fill"},N}(),V=r(396894);function m(N,x){return new v(N,x)}var v=function(){function N(x,A){var I,w,F;if(t.fF.assertValue(x,"dataView"),this.dataView=x,x&&(I=x.categorical),I&&(w=this.categories=I.categories),this.hasValidCategories=!_.isEmpty(w),A&&(this.staticSeriesRoleNames=A.staticSeriesRoleNames),I&&(F=I.values),this.dataHasAnyValidValues=!1,null!=F){var O=x.categorical.values.grouped(),L={};if(O.length>0){this.grouped=O;var W=O[0].values;this.dataHasAnyValidValues=!!O[0].identity||!_.isEmpty(W)&&!_.isEmpty(W[0].values);for(var U=0,j=W.length;U<j;U++){var z=W[U].source.roles;for(var G in z)z[G]&&(L[G]||(L[G]=[]),L[G].push(U))}}this.valueRoleIndexMapping=L,this.dataHasDynamicSeries=!!this.dataView.categorical.values.source}var te=this.totalStaticSeriesCount=this.getValueColumnCount(this.staticSeriesRoleNames);this.dataHasStaticSeries=!this.dataHasDynamicSeries&&te>1}return N.prototype.hasCategories=function(){return this.hasValidCategories},N.prototype.hasCategoryWithRole=function(x){return-1!==(0,V.pc)(this.categories,x)},N.prototype.getCategoryCount=function(){return this.hasValidCategories?_.last(this.categories).values.length:0},N.prototype.hasCompositeCategories=function(){return!!this.hasValidCategories&&this.categories.length>1},N.prototype.getCategoryColumn=function(x){if(this.hasValidCategories){var A=this.categories;return A[x?(0,V.pc)(A,x):0]}},N.prototype.getCategoryMetadataColumn=function(x){var A=this.getCategoryColumn(x);if(A)return A.source},N.prototype.getCategoryColumnIdentityFields=function(x){var A=this.getCategoryColumn(x);return A?A.identityFields:void 0},N.prototype.getAllCategoryColumns=function(x){if(null==x)return this.categories;if(this.hasValidCategories){var A=this.categories,I=x?(0,V.zT)(A,x):[0];return _.map(I,function(w){return A[w]})}return[]},N.prototype.hasValues=function(x){return!!this.valueRoleIndexMapping&&!_.isEmpty(this.valueRoleIndexMapping[x])},N.prototype.hasAnyValidValues=function(){return this.dataHasAnyValidValues},N.prototype.getValueColumnCount=function(x){var I,A=this,w=0;return"string"==typeof x?this.valueRoleIndexMapping&&this.hasValues(x)&&(w=null===(I=this.valueRoleIndexMapping[x])||void 0===I?void 0:I.length):this.valueRoleIndexMapping&&Array.isArray(x)&&(w=_.sum(_.map(x,function(F){var O;return null===(O=A.valueRoleIndexMapping[F])||void 0===O?void 0:O.length}))),w},N.prototype.hasHighlights=function(){return!!(this.grouped&&this.grouped[0]&&this.grouped[0].values[0])&&!_.isEmpty(this.grouped[0].values[0].highlights)},N.prototype.getValueColumn=function(x,A){if(void 0===A&&(A=0),this.hasValues(x))return this.dataHasDynamicSeries?this.getValueColumnInternal(x,A,0):this.getValueColumnInternal(x,0,A)},N.prototype.getValueColumnBySeries=function(x){var A=this.getStaticRoleInfo(x);if(A)return this.getValueColumn(A.roleToUse,A.seriesIndexToUse)},N.prototype.getAllValueColumnsForRole=function(x,A){if(void 0===A&&(A=0),this.hasValues(x)){for(var w=this.valueRoleIndexMapping[x].length,F=[],O=0;O<w;O++)F.push(this.getValueColumnInternal(x,A,O));return F}},N.prototype.getValueColumnInternal=function(x,A,I){if(this.hasValues(x))return this.grouped[A].values[this.valueRoleIndexMapping[x][I]]},N.prototype.getValueMetadataColumn=function(x,A){void 0===A&&(A=0);var I=this.getValueColumn(x,A);if(I)return I.source},N.prototype.getValueMetadataColumnBySeries=function(x){var A=this.getValueColumnBySeries(x);if(A)return A.source},N.prototype.getAllValueMetadataColumnsForRole=function(x,A){if(void 0===A&&(A=0),this.hasValues(x))return _.map(this.getAllValueColumnsForRole(x,A),function(I){return I.source})},N.prototype.getAllMetadataRelatedObjects=function(){var x=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(x=_.filter(this.dataView.metadata.columns,function(A){return null!=A.relatedObjects})),_.isEmpty(x)?void 0:x},N.prototype.getValueQueryName=function(x,A){var I=this.getValueMetadataColumn(x,A);if(I)return I.queryName},N.prototype.getAllValueQueryNames=function(x,A){var I=this.getAllValueMetadataColumnsForRole(x,A);if(!_.isEmpty(I))return _.map(I,function(w){return w.queryName})},N.prototype.getAllValueRoles=function(){var x=_.keys(this.valueRoleIndexMapping);if(!_.isEmpty(x))return x},N.prototype.hasDynamicSeries=function(){return this.dataHasDynamicSeries},N.prototype.hasStaticSeries=function(){return this.dataHasStaticSeries},N.prototype.getSeriesCount=function(x){return this.dataHasAnyValidValues?this.dataHasDynamicSeries?x&&!this.hasValues(x)?0:this.grouped.length:_.isEmpty(this.staticSeriesRoleNames)?this.grouped?this.grouped.length:0:x?this.getValueColumnCount(x):this.totalStaticSeriesCount:0},N.prototype.getSeriesValueColumns=function(){var x=this.dataHasDynamicSeries;if(t.fF.assert(function(){return x},"getSeriesValueColumns should not be called when there is no dynamic series"),x)return this.dataView.categorical.values},N.prototype.getSeriesMetadataColumn=function(){var x=this.getSeriesValueColumns();if(x)return x.source},N.prototype.getSeriesValueColumnGroup=function(x){var A=this.dataHasDynamicSeries;if(t.fF.assert(function(){return A},"getSeriesValueColumnGroup should not be called when there is no dynamic series"),this.dataHasAnyValidValues&&A)return this.grouped[x]},N.prototype.getDynamicSeriesColumnIdentityFields=function(){var x=this.getSeriesValueColumns();return x?x.identityFields:void 0},N.prototype.getStaticObjects=function(){if(this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects)return this.dataView.metadata.objects},N.prototype.getMetadataColumns=function(x){var A=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(A=_.filter(this.dataView.metadata.columns,function(I){return null!=I.roles&&!0===I.roles[x]})),_.isEmpty(A)?void 0:A},N.prototype.getStaticRoleInfo=function(x){if(!this.seriesIndexToRoleInfoMap&&(this.seriesIndexToRoleInfoMap={},this.staticSeriesRoleNames))for(var A=0,I=0,w=this.staticSeriesRoleNames;I<w.length;I++)for(var F=w[I],O=this.getSeriesCount(F),L=0;L<O;L++)this.seriesIndexToRoleInfoMap[A]={roleToUse:F,seriesIndexToUse:L},A++;return this.seriesIndexToRoleInfoMap[x]},N}(),e=r(226514),h=r(989516),n=r(45696);function o(N,x){return new u(N,x)}var u=function(){function N(x,A){this.columnReader=x,this.dataHasDynamicSeries=x.hasDynamicSeries(),this.dataHasStaticSeries=x.hasStaticSeries(),A&&(this.staticSeriesRoleNames=A.staticSeriesRoleNames,this.formatStringProp=A.formatStringProp,this.errorRangeProp=A.errorRangeProp)}return N.prototype.hasCategories=function(){return this.columnReader.hasCategories()},N.prototype.hasCategoryWithRole=function(x){return this.columnReader.hasCategoryWithRole(x)},N.prototype.hasCompositeCategories=function(){return this.columnReader.hasCompositeCategories()},N.prototype.getCategoryCount=function(){return this.columnReader.getCategoryCount()},N.prototype.getCategoryValue=function(x,A){var I=this.columnReader.getCategoryColumn(x);return I?I.values[A]:void 0},N.prototype.getAllCategoryValuesForRole=function(x,A){var I=this.columnReader.getAllCategoryColumns(x);return I?_.map(I,function(w){return w.values[A]}):void 0},N.prototype.getCategoryMetadataColumn=function(x){var A=this.columnReader.getCategoryColumn(x);return A?A.source:void 0},N.prototype.getCategoryDisplayName=function(x){var A=this.columnReader.getCategoryColumn(x);if(A&&A.source)return A.source.displayName},N.prototype.getAllCategoryDisplayNamesForRole=function(x){var A=this.columnReader.getAllCategoryColumns(x);if(A)return _.map(A,function(I){return I.source&&I.source.displayName})},N.prototype.getCategoryType=function(x){var A=this.columnReader.getCategoryMetadataColumn(x);if(A)return A.type},N.prototype.hasValues=function(x){return this.columnReader.hasValues(x)},N.prototype.hasHighlights=function(){return this.columnReader.hasHighlights()},N.prototype.getValue=function(x,A,I){if(void 0===I&&(I=0),this.hasValues(x)){var w=this.columnReader.getValueColumn(x,I);if(w)return w.values[A]}},N.prototype.getFormatString=function(x,A,I){if(void 0===I&&(I=0),t.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(x)){var w=this.columnReader.getValueColumn(x,I);if(w)return(0,c.NA)(w.objects&&w.objects[A],this.formatStringProp)}},N.prototype.hasProperty=function(x,A,I,w){var F,O;void 0===A&&(A=0),t.fF.assertValue(I,"propertyIdentifier");var L=this.columnReader.getStaticRoleInfo(A).roleToUse;if(!this.hasValues(L))return!1;var W=this.columnReader.getValueColumn(L,A);return!!W&&(w?W.highlightObjects&&W.highlightObjects[x]&&(null===(F=W.highlightObjects[x][I.objectName])||void 0===F?void 0:F.hasOwnProperty(I.propertyName)):W.objects&&W.objects[x]&&(null===(O=W.objects[x][I.objectName])||void 0===O?void 0:O.hasOwnProperty(I.propertyName)))},N.prototype.getObject=function(x,A,I,w,F){if(void 0===I&&(I=0),t.fF.assertValue(w,"propertyIdentifier"),this.hasValues(x)){var O=this.columnReader.getValueColumn(x,I);if(O)return(0,c.NA)(F?O.highlightObjects&&O.highlightObjects[A]:O.objects&&O.objects[A],w)}},N.prototype.getValueBySeries=function(x,A){var I=this.columnReader.getStaticRoleInfo(A);return this.getValue(I.roleToUse,x,I.seriesIndexToUse)},N.prototype.getObjectsBySeries=function(x,A,I,w){var F=this.columnReader.getStaticRoleInfo(A);return this.getObject(F.roleToUse,x,F.seriesIndexToUse,I,w)},N.prototype.getFormatStringBySeries=function(x,A){var I=this.columnReader.getStaticRoleInfo(A);return this.getFormatString(I.roleToUse,x,I.seriesIndexToUse)},N.prototype.getHighlight=function(x,A,I){var w=this;if(void 0===I&&(I=0),t.fF.assert(function(){return w.hasHighlights()},"getHighlight should not be called when there are no highlight values."),this.hasValues(x)&&this.hasHighlights()){var F=this.columnReader.getValueColumn(x,I);if(F)return F.highlights[A]}},N.prototype.getHighlightFormatString=function(x,A,I){var w=this;if(void 0===I&&(I=0),t.fF.assert(function(){return w.hasHighlights()},"getHighlightFormatString should not be called when there are no highlight values."),t.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(x)&&this.hasHighlights()){var F=this.columnReader.getValueColumn(x,I);if(F&&F.highlightObjects)return(0,c.NA)(F.highlightObjects[A],this.formatStringProp)}},N.prototype.getErrorValues=function(x,A,I){void 0===A&&(A=0),t.fF.assertValue(this.errorRangeProp,"formatStringProp");var w=this.columnReader.getStaticRoleInfo(A);if(w&&this.hasValues(w.roleToUse)){var F=this.columnReader.getValueColumn(w.roleToUse,w.seriesIndexToUse);if(F)return(0,c.NA)(I?F.highlightObjects&&F.highlightObjects[x]:F.objects&&F.objects[x],this.errorRangeProp)}},N.prototype.getHighlightBySeries=function(x,A){var I=this.columnReader.getStaticRoleInfo(A);return this.getHighlight(I.roleToUse,x,I.seriesIndexToUse)},N.prototype.getHighlightFormatStringBySeries=function(x,A){var I=this.columnReader.getStaticRoleInfo(A);return this.getHighlightFormatString(I.roleToUse,x,I.seriesIndexToUse)},N.prototype.getFormatStringForRelatedObject=function(x,A,I){var w,F,O=this.getMetadataColumnMatchingRelatedObject(x,A,I);return(null==O?void 0:O.format)||(null===(F=null===(w=null==O?void 0:O.objects)||void 0===w?void 0:w.general)||void 0===F?void 0:F.formatString.valueOf())},N.prototype.getMetadataColumnMatchingRelatedObject=function(x,A,I){var w=[],F=this.columnReader.getAllMetadataRelatedObjects();if(F){var O={data:[(0,n.Ue)(null!=I?I:1)]};A&&(w.push((0,e.__assign)((0,e.__assign)({},O),{highlightMatching:1,metadata:A})),w.push((0,e.__assign)((0,e.__assign)({},O),{metadata:A}))),w.push((0,e.__assign)((0,e.__assign)({},O),{highlightMatching:1})),w.push(O),w.push(void 0);for(var L=function(te){return F.find(function(Q){var H,de,Y=null===(de=null===(H=Q.relatedObjects)||void 0===H?void 0:H[x.objectName])||void 0===de?void 0:de[x.propertyName];return Y&&_.some(Y,function(se){return(0,h.fS)(se,te)})})},W=0,U=w;W<U.length;W++){var z=L(U[W]);if(z)return z}}},N.prototype.getValueType=function(x,A){var I=this.columnReader.getValueMetadataColumn(x,A);if(I)return I.type},N.prototype.getAllValuesForRole=function(x,A,I){var w=this;if(void 0===I&&(I=0),t.fF.assert(function(){return!_.some(w.staticSeriesRoleNames,function(O){return O===x})},"getAllValuesForRole should not be called with a static series role.  Use getValue and a seriesIndex."),this.hasValues(x)){this.dataHasDynamicSeries||(I=0);var F=this.columnReader.getAllValueColumnsForRole(x,I);return _.map(F,function(O){return O.values[A]})}},N.prototype.getAllFormatStringsForRole=function(x,A,I){var w=this;if(void 0===I&&(I=0),t.fF.assert(function(){return!_.some(w.staticSeriesRoleNames,function(O){return O===x})},"getAllFormatStringsForRole should not be called with a static series role.  Use getValue and a seriesIndex."),t.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(x)){this.dataHasDynamicSeries||(I=0);var F=this.columnReader.getAllValueColumnsForRole(x,I);return _.map(F,function(O){return(0,c.NA)(O.objects&&O.objects[A],w.formatStringProp)})}},N.prototype.getAllHighlightsForRole=function(x,A,I){var w=this;if(void 0===I&&(I=0),t.fF.assert(function(){return w.hasHighlights()},"getAllHighlightsForRole should not be called when there are no highlight values."),t.fF.assert(function(){return!_.some(w.staticSeriesRoleNames,function(O){return O===x})},"getAllHighlightsForRole should not be called with a static series role.  Use getHighlight and a seriesIndex."),this.hasValues(x)&&this.hasHighlights()){this.dataHasDynamicSeries||(I=0);var F=this.columnReader.getAllValueColumnsForRole(x,I);return _.map(F,function(O){return O.highlights[A]})}},N.prototype.getAllValueTypesForRole=function(x,A){var I=this.columnReader.getAllValueMetadataColumnsForRole(x,A);if(I)return _.map(I,function(w){return w.type})},N.prototype.getFirstNonNullValueForCategory=function(x,A){var I=this;if(this.hasValues(x)){var w=this.getSeriesCount();if(!this.dataHasDynamicSeries)return t.fF.assert(function(){return!I.dataHasStaticSeries},"getFirstNonNullValueForCategory shouldn't be called if you have a static series"),this.getValue(x,A);for(var F=0;F<w;F++){var O=this.getValue(x,A,F);if(null!=O)return O}}},N.prototype.getValueDisplayName=function(x){var A=this;if(t.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(w){return w===x})||!A.columnReader.hasStaticSeries()},"getValueDisplayName shouldn't be called on the static series role if there is a static series.  Use getSeriesName."),this.hasValues(x)){var I=this.columnReader.getValueMetadataColumn(x);if(I)return I.displayName}},N.prototype.getAllValueDisplayNamesForRole=function(x){var A=this;if(t.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(w){return w===x})},"getAllValueDisplayNamesForRole shouldn't be called on the static series role if you have a static series. Use getSeriesName."),this.hasValues(x)){var I=this.columnReader.getAllValueMetadataColumnsForRole(x);if(!_.isEmpty(I))return _.map(I,function(w){return w.displayName})}},N.prototype.getValueQueryName=function(x,A){return this.columnReader.getValueQueryName(x,A)},N.prototype.hasSeries=function(){return this.dataHasDynamicSeries||this.dataHasStaticSeries},N.prototype.getSeriesCount=function(){return this.columnReader.getSeriesCount()},N.prototype.getSeriesName=function(x){var A=this;if(t.fF.assert(function(){return A.hasSeries()},"getSeriesName should not be called when there is no series"),this.hasSeries())if(this.dataHasDynamicSeries){var I=this.columnReader.getSeriesValueColumnGroup(x);if(I)return I.name}else if(this.dataHasStaticSeries){var w=this.columnReader.getStaticRoleInfo(x);if(this.hasValues(w.roleToUse)){var F=this.columnReader.getValueMetadataColumnBySeries(x);if(F)return F.displayName}}},N.prototype.getSeriesDisplayName=function(){var x=this;if(t.fF.assert(function(){return x.hasSeries()},"getSeriesDisplayName should not be called when there is no series"),this.dataHasDynamicSeries)return this.columnReader.getSeriesValueColumns().source.displayName},N.prototype.getSeriesType=function(){var x=this.columnReader.getSeriesMetadataColumn();if(x)return x.type},N}(),a=r(161414);function l(N){return new d(N)}var d=function(){function N(x){this.columnReader=x,this.dataHasDynamicSeries=x.hasDynamicSeries(),this.dataHasStaticSeries=x.hasStaticSeries()}return N.prototype.createForCategory=function(x,A){var I,w=this.columnReader.getCategoryColumn();return(new a.dw).withCategory([w],x,null===(I=null==w?void 0:w.source)||void 0===I?void 0:I.queryName,!0).withMeasures(this.mapRolesToValueMetadata(A)).createSelectionId()},N.prototype.createForDataPoint=function(x,A,I){var w;(this.dataHasDynamicSeries||this.dataHasStaticSeries)&&t.fF.assert(function(){return null!=A},"A seriesIndex is required if you have a series");var F=this.columnReader.getCategoryColumn(),O=(new a.dw).withCategory([F],x,null===(w=null==F?void 0:F.source)||void 0===w?void 0:w.queryName,!0);return null!=A&&this.dataHasDynamicSeries&&O.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(A),!0),O.withMeasures(this.mapRolesToValueMetadata(I,A)),O.createSelectionId()},N.prototype.createForSeries=function(x,A){var I=new a.dw;return this.dataHasDynamicSeries&&I.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(x),!0),I.withMeasures(this.mapRolesToValueMetadata(A,x)),I.createSelectionId()},N.prototype.createForValue=function(x,A){return(new a.dw).withMeasures(this.mapRolesToValueMetadata(A,x)).createSelectionId()},N.prototype.mapRolesToValueMetadata=function(x,A){var I=[],w=0,F=this.columnReader.hasStaticSeries(),O=this.columnReader.getStaticRoleInfo(A);null==x&&(x=this.columnReader.getAllValueRoles()||[]),F&&O&&I.push(this.columnReader.getValueQueryName(O.roleToUse,O.seriesIndexToUse));for(var L=x.length;w<L;w++){var W=x[w];(!O||W!==O.roleToUse||!F)&&I.push.apply(I,this.columnReader.getAllValueQueryNames(W)||[])}return I},N}(),b=r(760868),f=r(129035),g_dynamicLabelValue={objectName:"labels",propertyName:"dynamicLabelValue"},g_dynamicLabelEnabled={objectName:"labels",propertyName:"showDynamicLabels"},g_labelColor={objectName:"labels",propertyName:"color"},g_totalsColor={objectName:"totals",propertyName:"color"},g_categoryLabelsColor={objectName:"categoryLabels",propertyName:"color"},g_labelTitleColor={objectName:"labels",propertyName:"titleColor"},g_labelDetailColor={objectName:"labels",propertyName:"detailColor"},g_dynamicLabelDetail={objectName:"labels",propertyName:"dynamicLabelDetail"},g_dynamicLabelTitle={objectName:"labels",propertyName:"dynamicLabelTitle"},g_leaderLineColor={objectName:"labels",propertyName:"leaderLineColor"};function S(N,x,A){return new C(N,x,A)}var y=function(){function N(x,A){this.objectReader=x,this.dataReader=A}return N.prototype.hasSeriesColor=function(x){var A=x.seriesColor;return null!=A&&A!==x.defaultColor},N.prototype.getLabelFillByCategory=function(x,A){void 0===A&&(A=0);var I=this.objectReader.getCategoryDataObjects(A);if(null!=(null==I?void 0:I[x.objectName])&&null!=x){var w=(0,f.y)(null==I?void 0:I[x.objectName],x.propertyName);if(w)return{color:w,colorSource:"Category"}}},N.prototype.getLabelFillBySeries=function(x,A,I){var w;if(void 0===A&&(A=0),null!=I){var F=this.dataReader.getObjectsBySeries(A,I,x),O=null===(w=null==F?void 0:F.solid)||void 0===w?void 0:w.color;if(O)return{color:O,colorSource:"Intersection"}}},N.prototype.getFill=function(x,A){var I=A.defaultColor,w=A.categoryIndex,F=A.seriesIndex,O=A.seriesColor;return this.hasSeriesColor(A)?{color:O,colorSource:"Series"}:this.getLabelFillBySeries(x,w,F)||this.getLabelFillByCategory(x,w)||{color:I,colorSource:"Default"}},N}(),C=function(){return function(x,A,I){this.columnReader=x,this.objectReader=A,this.dataReader=I,this.dynamicLabelReader=new E(x,A,I),this.labelFillColorReader=new D(A,I),this.leaderLineColorReader=new P(A,I)}}(),E=function(){function N(x,A,I){var w=this;this.columnReader=x,this.objectReader=A,this.dataReader=I,this.enabledPropertyId=g_dynamicLabelEnabled,this.memoizedDynamicLabelFormatString=_.memoize(function(F,O){return w.dataReader.getFormatStringForRelatedObject(F,O)},function(F,O){return"".concat(O).concat(F.objectName).concat(F.propertyName)})}return N.prototype.isDynamicLabelEnabled=function(x){var A=this.objectReader.getValueMetadataObjectsBySeries(x);return(0,c.NA)(A,this.enabledPropertyId,!1)},N.prototype.isDynamicLabelValueEnabled=function(x,A){return void 0===A&&(A=!1),this.isDynamicLabelEnabledForPropertyId(g_dynamicLabelValue,x,A)},N.prototype.isDynamicLabelDetailEnabled=function(x,A){return this.isDynamicLabelEnabledForPropertyId(g_dynamicLabelDetail,x,A)},N.prototype.isDynamicLabelTitleEnabled=function(x,A){return this.isDynamicLabelEnabledForPropertyId(g_dynamicLabelTitle,x,A)},N.prototype.getDynamicLabelValueType=function(x){return void 0===x&&(x=0),this.getDynamicLabelType(g_dynamicLabelValue,x)},N.prototype.getDynamicLabelDetailType=function(x){return void 0===x&&(x=0),this.getDynamicLabelType(g_dynamicLabelDetail,x)},N.prototype.getDynamicLabelTitleType=function(x){return void 0===x&&(x=0),this.getDynamicLabelType(g_dynamicLabelTitle,x)},N.prototype.getLabelFieldSourceTypes=function(x){var A=this.getDynamicLabelDetailType(x),I=this.getDynamicLabelValueType(x),w=this.getDynamicLabelTitleType(x),F=function(L){return L?L.bool||L.numeric?b.S.number:L.text?b.S.text:L.dateTime?b.S.DateTime:b.S.variant:b.S.variant};return{detailFieldSourceType:F(A),valueFieldSourceType:F(I),titleFieldSourceType:F(w)}},N.prototype.areDynamicValueLabelsEnabled=function(x,A,I){return x?{titleEnabled:this.isDynamicLabelTitleEnabled(A,I),valueEnabled:this.isDynamicLabelValueEnabled(A,I),detailEnabled:this.isDynamicLabelDetailEnabled(A,I)}:{titleEnabled:!1,valueEnabled:!1,detailEnabled:!1}},N.prototype.getDynamicLabel=function(x){var A=x.valuePropertyId,I=x.hasHighlights,w=x.categoryIndex,F=x.seriesIndex,O=x.enabled,L=x.dynamicLabelFormatString,W=null!=O?O:this.isDynamicLabelEnabled(F);if(W){var U=this.getDynamicLabelValue(I,A,w,F);if(U){var j=L||this.getDynamicLabelFormatString(A,F);return(0,e.__assign)((0,e.__assign)({},U),{formatString:j,enabled:!0})}}return{value:void 0,enabled:W,source:"Default"}},N.prototype.getDynamicLabelFormatString=function(x,A){void 0===A&&(A=0);var I=this.columnReader.getValueMetadataColumnBySeries(A).queryName;return this.memoizedDynamicLabelFormatString(x,I)},N.prototype.getDynamicLabelType=function(x,A){var I,w;void 0===A&&(A=0);var F=null===(I=this.columnReader.getValueMetadataColumnBySeries(A))||void 0===I?void 0:I.queryName;return null===(w=this.dataReader.getMetadataColumnMatchingRelatedObject(x,F))||void 0===w?void 0:w.type},N.prototype.getDynamicLabelValue=function(x,A,I,w){return void 0===x&&(x=!1),void 0===I&&(I=0),void 0===w&&(w=0),this.getDynamicLabelBySeries(x,A,I,w)||this.getDynamicLabelByCategory(x,A,I)},N.prototype.getDynamicLabelBySeries=function(x,A,I,w){if(void 0===I&&(I=0),null!=w){var F=this.dataReader.getObjectsBySeries(I,w,A,x);if(null!=F)return{value:F,source:"Intersection"}}},N.prototype.isDynamicLabelEnabledForPropertyId=function(x,A,I){var w;void 0===I&&(I=!1);for(var F=this.dataReader.getCategoryCount(),O=0;O<=F;O++){if(this.dataReader.hasProperty(O,A,x,I))return!0;var W=I?this.objectReader.getCategoryHighlightObjects(O):this.objectReader.getCategoryDataObjects(O);if(null!==(w=null==W?void 0:W.labels)&&void 0!==w&&w.hasOwnProperty(x.propertyName))return!0}return!1},N.prototype.getDynamicLabelByCategory=function(x,A,I){void 0===I&&(I=0);var w=x?this.objectReader.getCategoryHighlightObjects(I):this.objectReader.getCategoryDataObjects(I),F=(0,f.N)(null==w?void 0:w.labels,A.propertyName);if(null!=F)return{value:F,source:"Category"}},N}(),D=function(N){function x(){return null!==N&&N.apply(this,arguments)||this}return(0,e.__extends)(x,N),x.prototype.getDataLabelFillColor=function(A){return this.getFill(g_labelColor,A)},x.prototype.getDataLabelTitleFillColor=function(A){return this.getFill(g_labelTitleColor,A)},x.prototype.getDataLabelDetailFillColor=function(A){return this.getFill(g_labelDetailColor,A)},x.prototype.getCategoryLabelFillColor=function(A){return this.getFill(g_categoryLabelsColor,A)},x.prototype.getTotalLabelFillColor=function(A){return this.getFill(g_totalsColor,A)},x}(y),P=function(N){function x(){return null!==N&&N.apply(this,arguments)||this}return(0,e.__extends)(x,N),x.prototype.getLeaderLineFillColor=function(A){return this.getFill(g_leaderLineColor,A)},x}(y);function M(N,x){return new T(N,x)}var T=function(){function N(x,A){this.columnReader=x,this.staticObjects=x.getStaticObjects(),A&&(this.staticSeriesRoleNames=A.staticSeriesRoleNames)}return N.prototype.getStaticObjects=function(){return this.staticObjects},N.prototype.getCategoryMetadataObjects=function(x){var A=this.columnReader.getCategoryColumn(x);if(A)return A.source.objects},N.prototype.getAllCategoryMetadataObjectsForRole=function(x){var A=this.columnReader.getAllCategoryColumns(x);if(A)return _.map(A,function(I){return I.source.objects})},N.prototype.getCategoryDataObjects=function(x){var A=this.columnReader.getCategoryColumn();if(A&&A.objects)return A.objects[x]},N.prototype.getCategoryHighlightObjects=function(x){var A=this.columnReader.getCategoryColumn();if(A&&A.highlightObjects)return A.highlightObjects[x]},N.prototype.getValueMetadataObjects=function(x,A){var I=this;t.fF.assert(function(){return!(_.some(I.staticSeriesRoleNames,function(F){return F===x})&&null==A)},"getValueMetadataObjects requires a seriesIndex when called on a static series role");var w=this.columnReader.getValueMetadataColumn(x,A);if(w)return w.objects},N.prototype.getValueMetadataObjectsBySeries=function(x){var A=this.columnReader.getStaticRoleInfo(x);return this.getValueMetadataObjects(A.roleToUse,A.seriesIndexToUse)},N.prototype.getAllValueMetadataObjectsForRole=function(x){var A=this;t.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(w){return w===x})},"getAllValueMetadataObjectsForRole should not be called a the static series role.  Use getValueMetadataObjects with a seriesIndex.");var I=this.columnReader.getAllValueMetadataColumnsForRole(x);return _.map(I,function(w){return w.objects})},N.prototype.getSeriesMetadataObjects=function(){var x=this;if(t.fF.assert(function(){return x.columnReader.hasDynamicSeries()||x.columnReader.hasStaticSeries()},"getSeriesDataObjects should not be called if there is no series."),this.columnReader.hasDynamicSeries()){var A=this.columnReader.getSeriesMetadataColumn();if(A)return A.objects}},N.prototype.getSeriesDataObjects=function(x){var A;if(this.columnReader.hasDynamicSeries())A=this.columnReader.getSeriesValueColumnGroup(x);else{var I=this.columnReader.getStaticRoleInfo(x);I&&(A=this.columnReader.getValueMetadataColumn(I.roleToUse,I.seriesIndexToUse))}if(A)return A.objects},N.prototype.getCategoryFormatString=function(x){return(0,c.NA)(this.getCategoryMetadataObjects(x),N.StandardFormatStringProp)},N.prototype.getAllCategoryFormatStringsForRole=function(x){return _.map(this.getAllCategoryMetadataObjectsForRole(x),function(A){return(0,c.NA)(A,N.StandardFormatStringProp)})},N.prototype.getValueFormatString=function(x,A){if(!this.columnReader.hasStaticSeries||!_.some(this.staticSeriesRoleNames,function(I){return I===x})||null!=A)return(0,c.NA)(this.getValueMetadataObjects(x,A),N.StandardFormatStringProp);t.fF.assertFail("getValueFormatString requires a seriesIndex when called on a static series role")},N.prototype.getValueFormatStringBySeries=function(x){var A=this.columnReader.getStaticRoleInfo(x);return this.getValueFormatString(A.roleToUse,A.seriesIndexToUse)},N.prototype.getAllValueFormatStringsForRole=function(x){var A=this;t.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(w){return w===x})},"getAllValueFormatStringsForRole should not be called with a static series role.  Use getValueFormatString and a seriesIndex.");var I=this.getAllValueMetadataObjectsForRole(x);return _.map(I,function(w){return(0,c.NA)(w,N.StandardFormatStringProp)})},N.prototype.getSeriesFormatString=function(x){if(!this.columnReader.hasStaticSeries()){if(this.columnReader.hasDynamicSeries())return(0,c.NA)(this.getSeriesMetadataObjects(),N.StandardFormatStringProp);t.fF.assertFail("getSeriesFormatString should not be called if you have no series.")}},N.StandardFormatStringProp={objectName:"general",propertyName:"formatString"},N}();function R(N,x){var A=m(N,x),I=o(A,x),w=M(A,x);return{data:I,identities:l(A),objects:w,colors:s(A,w,I,x),labels:S(A,w,I)}}function B(N,x){var A=m(N,x),I=o(A,x),w=M(A,x);return{data:I,identities:l(A),objects:w,colors:s(A,w,I,x),columns:A,labels:S(A,w,I)}}},646225:function(ze,K,r){r.d(K,{l:function(){return t}});var t=function(c){return c[c.Box=0]="Box",c[c.Circle=1]="Circle",c[c.Line=2]="Line",c}({})},611799:function(ze,K,r){r.d(K,{vs:function(){return Mt},hD:function(){return ct},xw:function(){return mt},Lk:function(){return Rt},PP:function(){return Xt},pq:function(){return _r},Ue:function(){return hr},OG:function(){return Me},Rh:function(){return gr},Fe:function(){return Yt},ZF:function(){return Cr},tY:function(){return Or},Gh:function(){return Br},tV:function(){return Ir},aJ:function(){return pr},nh:function(){return ar},xz:function(){return Bt},l3:function(){return Rr}});var t=r(226514),c=r(251912),i=r(787941),s=r(299747),p=r(750311),V=r(106266),m=r(569071),v=r(690016),e=r(698129),h=r(448711),n=r(161414),o=r(939523),u=r(298801),a=r(679752),l=r(187810),d=r(549772),b=r(877108),f=r(906298),g=r(452657),S=r(744883),y=r(960990),T=r(453543),R=r(629925),B=(0,R.CH)("previousNavArrow"),N=(0,R.CH)("nextNavArrow"),x=(0,R.CH)("legend"),A=(0,R.CH)("legend-title"),I=(0,R.CH)("legend-item-container"),w=(0,R.CH)("gradient-legend"),F=(0,R.CH)("legend-item"),O=(0,R.CH)("legend-item-svg"),L=(0,R.CH)("legend-icon"),W=(0,R.CH)("legend-icon-line"),U=(0,R.CH)("legend-item-text"),j=S.B.createFromPt(8),z="foregroundNeutralTertiary",G_fillColor=function(Ut,Et,Ct){return Et&&!Ut.selected?u.v.getThemeColor(Ct,z):Ut.color},G_strokeColor=function(Ut,Et,Ct){var Nt,st;return Et&&!Ut.selected?u.v.getThemeColor(Ct,z):null!==(st=null===(Nt=Ut.border)||void 0===Nt?void 0:Nt.color)&&void 0!==st?st:Ut.color},G_lineStrokeColor=function(Ut,Et,Ct){return Et&&!Ut.selected?u.v.getThemeColor(Ct,z):Ut.lineColor},G_opacity=function(Ut,Et){return Et&&!Ut.selected?T.eU:T.Ko},te=r(14253),Q=r(932178),H=r(520907),de=r(240849),Y=r(648233),se=r(625506),ce=r(918537),pe=function(){function Tt(){}return Tt.prototype.bindEvents=function(Ut,Et,Ct,Nt){this.legendIcons=Ut.legendIcons,this.legendLines=Ut.legendLines,this.visualStyle=Ut.visualStyle;var st=Ut.legendRoot;this.legendItems=Ut.legendItems;var lt=Ut.clearCatcher;Nt?this.unbindEventsFormatMode():((0,ce.lt)(st,Et),st.on("keydown",function(){var ut=d3.event;if(Q.M.noModifierPressed(ut)&&27===ut.keyCode&&ut.target.classList.contains(F.class)){var yt=st.node();Q.M.focus(yt),ut.preventDefault(),ut.stopPropagation()}return!1}),this.legendItems.on("click",function(ut){return(0,ce.c8)(ut.dataPoint,Et)}).on("keydown",function(ut){var yt=d3.event.keyCode;(32===yt||13===yt)&&(0,ce.c8)(ut.dataPoint,Et)}),lt&&lt.on("click",function(){Q.M.isCtrlOrMeta(d3.event)||Et.handleClearSelection()}))},Tt.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},Tt.prototype.renderSelection=function(Ut){var Et=this;this.legendIcons.styles({fill:function(Nt){return G_fillColor(Nt.dataPoint,Ut,Et.visualStyle)},stroke:function(Nt){return G_strokeColor(Nt.dataPoint,Ut,Et.visualStyle)}}),this.legendLines.styles({stroke:function(Nt){return G_lineStrokeColor(Nt.dataPoint,Ut,Et.visualStyle)}}),this.legendItems.attrs({"aria-selected":function(Nt){return Ut&&Nt.dataPoint.selected}}),this.visualStyle.isHighContrast&&(this.legendIcons.styles({"fill-opacity":function(Nt){return G_opacity(Nt.dataPoint,Ut)},"stroke-opacity":function(Nt){return G_opacity(Nt.dataPoint,Ut)}}),this.legendLines.styles({"stroke-opacity":function(Nt){return G_opacity(Nt.dataPoint,Ut)}}))},Tt}(),ve=r(778549),De=r(669780),We=r(315552),je=r(306310);function Ae(Tt){var Ut=Tt.data,Et=Tt.parentViewport,Ct=Tt.interactivityService,Nt=Tt.orientation,st=Tt.legendDataStartIndex,lt=Tt.hostService,ut=Tt.showTitlePlaceholder,yt=Tt.element,Ft=Ut.fontProperties,Lt=(0,De.XZ)(Ft),kt=(0,De.dx)(Ut),Gt=function(Tt){var Ut=Tt.data;if(!(0,De.dx)(Ut))return{height:0,width:0};switch(Tt.orientation){case De.tV.Top:case De.tV.Bottom:case De.tV.TopCenter:case De.tV.BottomCenter:case De.tV.TopRight:case De.tV.BottomRight:return{height:(Ut&&Ut.fontProperties?Ut.fontProperties.size.px:H.FP.fromPointToPixel(j.pt))-j.pt+24,width:0};case De.tV.Right:case De.tV.Left:case De.tV.RightCenter:case De.tV.LeftCenter:return{height:0,width:Tt.lastCalculatedWidth?Tt.lastCalculatedWidth:Tt.parentViewport.width*Ie};default:i.fF.assertFail("Unexpected legend position - calculateViewport")}}({data:Ut,lastCalculatedWidth:Tt.lastCalculatedWidth,orientation:Nt,parentViewport:Et}),er=Ut&&void 0!==Ut.fontProperties?Ut.fontProperties.size.px:H.FP.fromPointToPixel(j.pt),sr=er-we,tr=Ut.showTitle&&!Ut.isGradientLegend?tt({hostServices:Tt.hostService,fontProperties:Ft,legendFontSizeMarginDifference:sr,legendFontSizeMarginValue:er,parentViewport:Et,orientation:Nt,viewport:Gt,title:Ut.title,showTitlePlaceholder:ut}):null,nr=te.b.estimateSvgTextHeight((0,l.qk)(Ft))/Fe;(er<=we||nr<be)&&(nr=be);var Dr=sr/Fe,Dt=2*(nr+Dr),nt=ee+2*Dr,ae=Te+Dr,q=Ct&&(0,We.G6)(Ut.dataPoints),Qe=(0,De.s0)(Nt)?Gt.height:20+sr,dt=Se({fontProperties:Ft,drawOptions:Tt,navigationArrows:{previous:null,next:null},titleLayout:tr,iconWidth:Dt,iconAndLineWidth:nt,svgHeight:Qe,totalTextPadding:ae}),Pt=dt.legendItems,Qt=dt.verticalLegendWidth,ir=dt.horizontalLegendWidth,yr=function(Tt){var Ut=Tt.drawOptions,Et=Tt.titleLayout,Ct=Tt.legendViewport,Nt=Tt.legendItems,st=Tt.drawOptions,ut=st.parentViewport,yt=st.data,Ft=st.legendDataStartIndex,Lt={next:void 0,previous:void 0};Ut.isScrollable&&(Lt=(0,De.s0)(st.orientation)?function(Tt,Ut,Et,Ct){var Gt,Nt=Ne,st=et,lt=Et.height/2-Nt/2,ut={previous:void 0,next:void 0},yt=Tt?Tt.x+Tt.width:0,Ft=(0,m.AD)(st,Nt,180),Lt=(0,m.AD)(st,Nt,0),kt=0;return Ct.useLargeArrowHitArea&&(kt=fe_Horizontal.arrowsOffset,Gt=fe_Horizontal.hitAreaWidthPx),ut.previous={x:yt,y:lt,path:Ft.path,rotateTransform:Ft.transform,type:1,arrowOffset:kt||0,hitAreaWidth:Gt||10},ut.next={x:Ut.width-st,y:lt,path:Lt.path,rotateTransform:Lt.transform,type:0,arrowOffset:kt||0,hitAreaWidth:Gt||10},ut}(Et,ut,Ct,yt):function(Tt,Ut,Et,Ct){var er,Nt=Ne,st=et,ut={previous:void 0,next:void 0},yt=Et.height/2+Nt/2,Ft=(0,m.AD)(st,Nt,270),Lt=(0,m.AD)(st,Nt,90),Gt=0;return Ct.useLargeArrowHitArea&&(Gt=fe_Vertical.arrowsOffset,er=fe_Vertical.hitAreaWidthPx),ut.previous={x:yt,y:st+(Tt?Tt.height:0),path:Ft.path,rotateTransform:Ft.transform,type:1,arrowOffset:Gt,hitAreaWidth:er},ut.next={x:yt,y:Ut.height-Nt,path:Lt.path,rotateTransform:Lt.transform,type:0,arrowOffset:Gt,hitAreaWidth:er},ut}(Et,ut,Ct,yt));var Gt,er,kt=xe(Lt,yt.dataPoints.length-Ft,Nt.length,Ft,Ut.arrowPosWindow);if(Lt.previous||Lt.next){var sr=Se({fontProperties:yt.fontProperties,drawOptions:Ut,navigationArrows:Lt,titleLayout:Et,iconWidth:Tt.iconWidth,iconAndLineWidth:Tt.iconAndLineWidth,svgHeight:Tt.svgHeight,totalTextPadding:Tt.totalTextPadding});kt=xe(Lt,yt.dataPoints.length-Ft,(er=sr.legendItems).length,Ft,Ut.arrowPosWindow),Gt=sr.horizontalLegendWidth}return{navigationArrows:Lt,arrowPosWindow:kt,newLegendItems:er,horizontalLegendWidth:Gt}}({drawOptions:Tt,legendViewport:Gt,legendItems:Pt,titleLayout:tr,iconWidth:Dt,iconAndLineWidth:nt,svgHeight:Qe,totalTextPadding:ae}),ur=yr.navigationArrows,wr=yr.arrowPosWindow;yr.newLegendItems&&(Pt=yr.newLegendItems),null!=Qt&&(Gt.width=Qt),tr&&Qt&&Qt>tr.width&&(tr=Ut.showTitle?tt({hostServices:Tt.hostService,fontProperties:Ft,legendFontSizeMarginDifference:sr,legendFontSizeMarginValue:er,parentViewport:Et,orientation:Nt,viewport:Gt,title:Ut.title,showTitlePlaceholder:ut}):null);var Er=(0,De.s0)(Nt),Ar=!Er,Lr=(0,De.EH)(Nt),$e=(0,De.Ok)(Nt),gt=(0,De.F3)(Nt),Ue=yt.select(x.selector),Pe=lt?lt.getLocalizedString("Visual_Legend"):null;kt?(Ue.empty()&&(Ue=yt.append("div").classed(x.class,!0).styles({position:"absolute"}),Ct&&Ue.attrs({tabindex:0,role:"region","focus-nav-mode":"HierarchicalTabOrder","aria-label":null==Pe?void 0:Pe.concat(Ut.showTitle&&Ut.title?" ".concat(Ut.title):"")}).attr("data-testid","legend")),Ue.classed("flex-row",Er).classed("flex-column",Ar).classed("flex-justify-content-center",Lr).classed("flex-justify-content-start",gt).classed("flex-justify-content-end",$e).classed("flex-align-items-center",Er&&!Ut.isGradientLegend).classed("flex-align-items-start",Ar||Ut.isGradientLegend).styles({"padding-top":Ut.isGradientLegend?"3px":"null"}),Ct&&Ue.attrs({"aria-label":null==Pe?void 0:Pe.concat(Ut.showTitle&&Ut.title?" ".concat(Ut.title):"")})):Ue.remove();var ke=Ue.select(w.selector).empty();(Ut.isGradientLegend?ke:!ke)&&Ue.selectAll("*").remove();var pt=Ue.select(".clearCatcher");if(pt.empty()&&(pt=(0,We.EX)(Ue,"div")),pt.style("position","absolute").style("width","100%").style("height","100%"),Tt.formatMode?(0,We.kA)(Ue,"div"):(0,We.ku)(Ue,"div"),ht(Gt,Tt.orientation,Ue,kt,Et),!kt)return{width:0,height:0};var St=Ue.select(I.selector);if(St.empty()&&(St=Ue.append("div").classed(I.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative")),St.classed("flex-grow",!(!ur.next&&!ur.previous)).classed("flex-row",Er).classed("flex-column",Ar).classed("flex-align-items-center",Er).classed("flex-align-items-start",Ar).classed(w.class,Ut.isGradientLegend).attr("width",ir).attr("role","listbox").attr("aria-label",function(){return Tt.hostService&&tr&&tr.text?tr.text:Tt.hostService?Pe:null}),Tt.onObject&&St.classed(se.cy,!0).attr(se.Ez,"legend-items").attr(se.CK,"Visual_Legend").attr(se.QZ,1),Tt.data.isGradientLegend)!function(Tt,Ut,Et,Ct,Nt,st){var er,nr,Dr,lt=Tt.data.gradientRule.options.linearGradient2?Tt.data.gradientRule.options.linearGradient2:Tt.data.gradientRule.options.linearGradient3,ut=Tt.data.fontProperties,yt=ut.size.px,Lt=0,kt=(0,h.Ue)({value:lt.min.value,value2:lt.max.value,format:(0,h.EO)(Tt.data.gradientRule.source,ve.e0.formatString)}),Gt=(0,l.qk)(ut),sr=kt.format(lt.min.value),tr={width:te.b.measureSvgTextWidth(Gt,sr),height:te.b.measureSvgTextHeight(Gt,sr)};er=Tt.hostService.getLocalizedString("ConditionalFormattingDialog_LowestValue")+" "+sr+", ",X(lt)&&(nr=kt.format(lt.mid.value),Dr={width:te.b.measureSvgTextWidth(Gt,nr),height:te.b.measureSvgTextHeight(Gt,nr)},er+=Tt.hostService.getLocalizedString("ConditionalFormattingDialog_MiddleValue")+" "+nr+", ");var Dt=kt.format(lt.max.value),nt={width:te.b.measureSvgTextWidth(Gt,Dt),height:te.b.measureSvgTextHeight(Gt,Dt)};er+=Tt.hostService.getLocalizedString("ConditionalFormattingDialog_HighestValue")+" "+Dt;var Er,Lr,$e,gt,Ue,yr=.5*Tt.parentViewport.width,ur=.25*yt,wr=1.5*yt,Ar=wr,Pe=[];if(Ut){Lr=tr.width+ur+(Er=6*yt)+ur+nt.width,$e=wr+ur,Lt=Ye=wr/2,Ue=[{text:sr,text_anchor:"start",x:0,y:Ye,width:tr.width,height:Ar},{text:Dt,text_anchor:"start",x:ke=tr.width+ur+Er+ur,y:Ye,width:nt.width,height:Ar}];var pt=tr.width+ur;if(gt=[{fill:"url(#legendGradient-".concat(Tt.hostService.instanceId,")"),fill_opacity:"1",x:pt,y:0,width:Er,height:wr}],X(lt)){$e+=1.25*yt;var St=ue(lt);Ue.splice(1,0,{text:nr,text_anchor:"middle",x:pt+St*Er,y:wr+ur+yt/2,width:Dr.width,height:Ar}),Pe=[{x1:pt+St*Er,x2:pt+St*Er,y1:0,y2:wr+ur,stroke:ut.color?ut.color:Tt.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}]}}else{if(Er=X(lt)?6*yt:10*yt,(Lr=X(lt)?tr.width+ur+Er+ur+nt.width:Er+ur)>yr){$e=yr;var At=function(Tt,Ut,Et,Ct,Nt,st,lt,ut){var yt,Ft;return lt?(yt=.6*(Ft=Tt-2*ut),st.text=Et,Et=te.b.getTailoredTextOrDefault(st,.2*Ft),Ut.width=te.b.measureSvgTextWidth(st,Et),st.text=Nt,Nt=te.b.getTailoredTextOrDefault(st,.2*Ft),Ct.width=te.b.measureSvgTextWidth(st,Nt)):(yt=Ft=Tt-ut,st.text=Et,Et=te.b.getTailoredTextOrDefault(st,yt/2),Ut.width=te.b.measureSvgTextWidth(st,Et),st.text=Nt,Nt=te.b.getTailoredTextOrDefault(st,yt/2),Ct.width=te.b.measureSvgTextWidth(st,Nt)),{gradientWidth:yt,minValueString:Et,minValueWidth:Ut.width,maxValueString:Nt,maxValueWidth:Ct.width}}(yr,tr,sr,nt,Dt,Gt,X(lt),ur);Er=At.gradientWidth,sr=At.minValueString,tr.width=At.minValueWidth,Dt=At.maxValueString,nt.width=At.maxValueWidth}if(X(lt)){Lr=tr.width+ur+Er+ur+nt.width,$e=8+3*yt;var Ye=8+wr/2,ke=tr.width+ur+Er+ur;St=ue(lt),Ue=[{text:sr,text_anchor:"start",x:0,y:Ye,width:tr.width,height:Ar},{text:nr,text_anchor:"middle",x:(pt=tr.width+ur)+St*Er,y:8+wr+ur+yt/2,width:Dr.width,height:Ar},{text:Dt,text_anchor:"start",x:ke,y:Ye,width:nt.width,height:Ar}],Pe=[{x1:pt+St*Er,x2:pt+St*Er,y1:8,y2:8+wr+ur,stroke:ut.color?ut.color:Tt.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}],gt=[{fill:"url(#legendGradient-".concat(Tt.hostService.instanceId,")"),fill_opacity:"1",x:pt,y:8,width:Er,height:wr}]}else $e=16+3*yt,Ue=[{text:sr,text_anchor:"start",x:0,y:Ye=16+2*yt,width:(Lr=Er+ur)/2,height:Ar},{text:Dt,text_anchor:"start",x:Lr-ur-nt.width,y:Ye,width:Lr/2,height:Ar}],gt=[{fill:"url(#legendGradient-".concat(Tt.hostService.instanceId,")"),fill_opacity:"1",x:0,y:8,width:Er,height:wr}]}Et.height=Ut?Math.max(Et.height,$e):Et.height,Et.width=Ut?Et.width:Math.max(Et.width,Lr)+re,ht(Et,Tt.orientation,Nt,st,Tt.parentViewport,!0),function(Tt,Ut,Et,Ct,Nt,st,lt){var Ft,Lt,ut=(0,l.qk)((0,De.XZ)(Tt.data.fontProperties),Tt.data.title),yt=[];if(Ut)yt=[{dy:"0.35em",word:(Ft=[te.b.getTailoredTextOrDefault(ut,Tt.parentViewport.width-Et.width-J/2-2*re)])[0]}],Lt={height:Et.height,width:te.b.measureSvgTextWidth(ut,Ft[0])};else{var Gt=te.b.measureSvgTextHeight(ut,Tt.data.title),sr=Math.min(3,Math.floor((Tt.parentViewport.height-Et.height-8-2*re)/Gt));Ft=(0,de.ql)(Tt.data.title,ut,te.b.measureSvgTextWidth,Et.width,sr,te.b.getTailoredTextOrDefault,!0);for(var tr=0;tr<Ft.length;tr++)yt.push({dy:String(Gt),word:Ft[tr]});Lt={height:(Ft.length+.5)*Gt,width:Et.width}}var nr=Tt.data.showTitle&&!_.isEmpty(Tt.data.title)?[0]:[],Dr=Ct.selectAll(A.selector).data(nr),Dt=Dr.enter().append("svg").classed(A.class,!0).merge(Dr);Dt.attr("height",Lt.height).attr("width",Lt.width).styles({"padding-right":J/2+"px"});var nt=Dt.selectAll("text").data([0]),ae=nt.enter().append("text").merge(nt);ae.classed("flex-order-first",!0).styles((0,l.wB)((0,De.XZ)(Tt.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",Tt.data.fontProperties.color).attr("title",function(dt){return Tt.data.title}).attr("x",0).attr("y",st).text(null);var q=ae.selectAll("tspan").data(yt);q.enter().append("tspan").merge(q).attr("dy",function(dt){return dt.dy}).attr("x",function(dt){return 0}).text(function(dt){return dt.word}),q.exit().remove(),nt.exit().remove(),Dr.exit().remove()}(Tt,Ut,{height:$e,width:Lr},Nt,0,Lt);var Jt=function(Tt,Ut,Et,Ct,Nt){var st=Ut.selectAll("svg").data(Tt),lt=st.enter().append("svg").merge(st);lt.attr("width",function(er){return er.width}).attr("height",function(er){return er.height}).attrs({tabindex:0,"aria-label":Nt});var ut=lt.selectAll("defs").data([0]),yt=ut.enter().append("defs").merge(ut);yt.append("linearGradient").attr("id",Ct);var Ft=[{stop:0,color:Et.min.color},{stop:1,color:Et.max.color}];if(X(Et)){var Lt=ue(Et);Ft.splice(1,0,{stop:Lt,color:Et.mid.color})}var kt=yt.select("linearGradient").selectAll("stop").data(Ft,function(er){return er.stop.toString()}),Gt=kt.enter().append("stop").merge(kt);return Gt.attr("stop-color",function(er){return er.color}).attr("offset",function(er){return er.stop}),Gt.order(),kt.exit().remove(),lt}([{width:Lr,height:$e}],Ct,lt,"legendGradient-".concat(Tt.hostService.instanceId),er);(function(Tt,Ut,Et){var Ct=Ut.selectAll("g.rect").data([0]),Nt=Ct.enter().append("g").classed("rect",!0).merge(Ct),st=Nt.selectAll("rect").data(Tt);st.enter().append("rect").merge(st).attr("fill",function(ut){return ut.fill}).attr("fill-opacity",function(ut){return ut.fill_opacity}).attr("x",function(ut){return ut.x}).attr("y",function(ut){return ut.y}).attr("width",function(ut){return ut.width}).attr("height",function(ut){return ut.height}),function(Tt,Ut){var Et=Tt.selectAll("line").data(Ut);Et.enter().append("line").merge(Et).attr("x1",function(Nt){return Nt.x1}).attr("x2",function(Nt){return Nt.x2}).attr("y1",function(Nt){return Nt.y1}).attr("y2",function(Nt){return Nt.y2}).styles({stroke:function(st){return st.stroke}}).styles({"stroke-width":function(st){return st.stroke_width}}),Et.exit().remove()}(Nt,Et)})(gt,Jt,Pe),function(Tt,Ut,Et){var Ct=Ut.selectAll("g.text").data([0]),st=Ct.enter().append("g").classed("text",!0).merge(Ct).selectAll("text").data(Tt),lt=st.enter().append("text").merge(st);lt.text(function(Ft){return Ft.text}).attr("text-anchor",function(Ft){return Ft.text_anchor}).attr("x",function(Ft){return Ft.x}).attr("y",function(Ft){return Ft.y}).attr("width",function(Ft){return Ft.width}).attr("dy","0.35em").attr("height",function(Ft){return Ft.height}).styles((0,l.E_)(Et));var ut=lt.selectAll("title").data(function(Ft){return[Ft.text]});ut.enter().append("title").merge(ut).text(function(Ft){return Ft}),ut.exit().remove(),st.exit().remove()}(Ue,Jt,ut)}(Tt,Er,Gt,St,Ue,kt);else{var bt=Ue.selectAll(A.selector).data(tr?[tr]:[]),vt=bt.enter().insert("text",".clearCatcher").classed(A.class,!0).merge(bt);vt.text(function(xr){return xr.text}).classed("flex-order-first",!0).styles((0,l.wB)(Lt)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":J/2+"px",position:"relative"}).attr("title",function(xr){return Ut.title}),Tt.onObject&&(vt.classed(se.cy,!0).classed(se.Qh.class,null==tr?void 0:tr.isPlaceholder).attr(se.Ez,"legend-title").attr(se.CK,"MiniToolbar_LegendTitle").attr(se.QZ,0),Tt.formatMode||ut)&&vt.attr(se.kv,JSON.stringify({reference:ve.N_.legend.titleText,style:3})),bt.exit().remove();var zt=function(Fr){return Fr.dataPoint.identity.getKey()+(null!=Fr.dataPoint.layerNumber?Fr.dataPoint.layerNumber:"")},Jt=St.selectAll(F.selector).data(_.uniqBy(Pt,zt),zt),$t=Jt.enter().append("div").classed(F.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option");Ct&&$t.attr("tabindex",0).attr("data-testid","legend-item");var qt=lt?lt.getLocalizedString("NullValue"):null,rr=$t.merge(Jt);rr.attr("aria-label",function(xr){return Tt.hostService?xr.dataPoint.label?xr.dataPoint.label:qt:null}).attr("aria-selected",function(xr){return q&&xr.dataPoint.selected}).attr("aria-posinset",function(xr){return xr.dataPoint.index+1}).attr("aria-setsize",Ut.dataPoints.length),rr.sort(function(xr,Fr){var Jr=xr.dataPoint,Hr=Fr.dataPoint;if(null!=Jr.layerNumber){i.fF.assertValue(Hr.layerNumber,"Both datapoints should have a layerNumber");var Ot=Jr.layerNumber-Hr.layerNumber;if(0!==Ot)return Ot}return Jr.index-Hr.index}),Jt.exit().remove();var vr=$t.append("svg").classed(O.class,!0);vr.append("path").classed(W.class,!0),vr.append("path").classed(L.class,!0),$t.append("text").classed(U.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),rr.select(O.selector).attrs({height:Qe,width:function(Fr){return Fr.dataPoint.strokePattern?nt:Dt}});var br=rr.select(W.selector);br.attrs({transform:(0,m.Iu)(ee/2,Qe*he),d:function(Fr){return Fr.dataPoint.strokePattern?"M -".concat(ee/2," 0 L ").concat(ee/2," 0"):null},"stroke-width":2,fill:"none","stroke-dasharray":function(Fr){return Fr.dataPoint.strokePattern?(0,Y.XG)(Fr.dataPoint.strokePattern):null}}).styles({stroke:function(Fr){return G_lineStrokeColor(Fr.dataPoint,q,Tt.visualStyle)}});var Mr=rr.select(L.selector);if(Mr.attrs({transform:function(Fr){return(0,m.aI)((Fr.dataPoint.strokePattern?nt:Dt)/2,Qe*he,nr/d.UI)},d:function(Fr){return(0,d.DW)(Fr.dataPoint.markerShape||je.ZO.circle)},"stroke-width":function(Fr){return(0,d.F)(Fr.dataPoint.markerShape||je.ZO.circle)}}).styles({fill:function(Fr){return G_fillColor(Fr.dataPoint,q,Tt.visualStyle)},stroke:function(Fr){return G_strokeColor(Fr.dataPoint,q,Tt.visualStyle)},"stroke-linejoin":"round"}).append("title").text(function(xr){return xr.dataPoint.label}),rr.select(U.selector).text(function(xr){return xr.textProperties.text}).styles((0,t.__assign)((0,t.__assign)({},Ft&&(0,l.wB)(Ft)),{"padding-left":Oe+"px","padding-right":ae-Oe+"px"})).attr("title",function(xr){return xr.dataPoint.label}),it({navigationArrow:ur.previous,arrowPosWindow:wr,arrowClassAndSelector:B,legend:Ue,legendDataStartIndex:st,rerenderCallback:Tt.rerenderCallback,useLargeArrowHitArea:Ut.useLargeArrowHitArea,verticalLegendWidth:(0,De.s0)(Nt)?void 0:Gt.width,isTabbable:!!Ct,hostService:Tt.hostService}),it({navigationArrow:ur.next,arrowPosWindow:wr,arrowClassAndSelector:N,legend:Ue,legendDataStartIndex:st,rerenderCallback:Tt.rerenderCallback,useLargeArrowHitArea:Ut.useLargeArrowHitArea,verticalLegendWidth:(0,De.s0)(Nt)?void 0:Gt.width,isTabbable:!!Ct,hostService:Tt.hostService}),Ct){var jr={legendRoot:Ue,legendItems:rr,legendIcons:Mr,legendLines:br,clearCatcher:pt,visualStyle:Tt.visualStyle};Ct.bind(Ut.dataPoints,new pe,jr,{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:Tt.isHierarchicalAxis,formatMode:Tt.formatMode})}}return Gt}function X(Tt){return void 0!==Tt.mid}function ue(Tt){return Tt.min.value===Tt.max.value?.5:(Tt.mid.value-Tt.min.value)/(Tt.max.value-Tt.min.value)}function Se(Tt){var Ut,Et=Tt.drawOptions.parentViewport,Ct=Tt.drawOptions.data,Nt=Tt.drawOptions.legendDataStartIndex,st=Tt.titleLayout,lt=Tt.navigationArrows,ut=Tt.iconWidth,yt=Tt.iconAndLineWidth,Ft=_.some(Ct.dataPoints,function(Dr){return Dr.strokePattern}),Lt=Tt.drawOptions.autoWidth?Tt.drawOptions.parentViewport.width*Ie:Tt.drawOptions.lastCalculatedWidth,kt=Ct.dataPoints;if((0,De.s0)(Tt.drawOptions.orientation)){var Gt=Et.width-(st?st.width:0)-(lt.previous&&lt.previous.hitAreaWidth||0)-(lt.next&&lt.next.hitAreaWidth||0);return Ut=function(Tt,Ut,Et,Ct,Nt,st,lt){for(var ut=Ut,yt=[],Ft=Et,Lt=Tt.length;Ft<Lt;Ft++){var kt=Tt[Ft],Gt=Ke(yt,kt,Ct,kt.strokePattern?st:Nt,ut,lt);if(ut=Gt.newRemainingWidth,!Gt.fit)break}for(var er=_.filter(yt,function(dt){return dt.desiredOverMaxWidth}),sr=ut;ut>0&&er.length>0;){for(Ft=0;Ft<er.length;){var nr=er[Ft],Dr=nr.width,Dt=Dr+ut/er.length;if(Dt>nr.desiredWidth)nr.textProperties.text=nr.dataPoint.label,nr.width=nr.desiredWidth,nr.desiredOverMaxWidth=!1,er.splice(Ft,1),ut-=nr.width-Dr;else{var nt=er[Ft].textProperties,ae=nt.text;nt.text=nr.dataPoint.label;var q=te.b.getTailoredTextOrDefault(nt,Dt);if(ae===q)nt.text=ae;else{nt.text=q;var Qe=te.b.measureSvgTextWidth(nt,q);nr.width=Qe,ut-=nr.width-Dr}Ft++}}if(sr===ut)break;sr=ut}return yt}(kt,Gt,Nt,Tt.fontProperties,ut,yt,Tt.totalTextPadding),{legendItems:Ut,horizontalLegendWidth:Gt}}var tr=function(Tt){for(var Ut=Tt.dataPoints,Et=Tt.maxHorizontalSpaceAvaliable,Ct=Tt.fontProperties,Nt=Tt.legendDataStartIndex,st=[],lt=Math.min(Math.floor(Tt.legendItemContainerHeight/Tt.legendItemHeight),Ut.length),ut=Tt.titleWidth||0,yt=0,Ft=Ut.length;yt<Ft;yt++){var Lt=Ut[yt],kt=(0,l.qk)(Ct,Lt.label),Gt=te.b.measureSvgTextWidth(kt);if(Gt>ut&&(ut=Math.min(Gt,Et)),yt>=Nt&&yt<Nt+lt){var er=Gt;if(er>Et){var sr=te.b.getTailoredTextOrDefault(kt,Et);kt.text=sr,Gt=te.b.measureSvgTextWidth(kt)}st.push({dataPoint:Lt,desiredOverMaxWidth:Gt>Et,textProperties:kt,desiredWidth:er,width:Gt})}}return{legendItems:st,horizontalWidthUsed:ut}}({dataPoints:kt,legendItemContainerHeight:Et.height-(st?st.height:0)-(lt.previous?Ne:0)-(lt.next?Ne:0),maxHorizontalSpaceAvaliable:Lt-(Ft?yt:ut)-re,legendDataStartIndex:Nt,fontProperties:Tt.fontProperties,titleWidth:st?st.width:void 0,legendItemHeight:Tt.svgHeight});Ut=tr.legendItems;var nr=Tt.drawOptions.lastCalculatedWidth;return Tt.drawOptions.autoWidth&&(nr=Math.ceil(tr.horizontalWidthUsed+(Ft?yt:ut)+re)),{legendItems:Ut,verticalLegendWidth:nr}}function Ke(Tt,Ut,Et,Ct,Nt,st){var lt=(0,l.qk)(Et,Ut.label),ut=te.b.measureSvgTextWidth(lt),yt=ut,Ft=!1;if(yt>k){Ft=!0;var Lt=te.b.getTailoredTextOrDefault(lt,k);lt=(0,l.qk)(Et,Lt),yt=te.b.measureSvgTextWidth(lt)}var kt=Nt-(yt+Ct+st);return kt<0?{newRemainingWidth:Nt,fit:!1}:(Tt.push({dataPoint:Ut,textProperties:lt,width:yt,desiredWidth:ut,desiredOverMaxWidth:Ft}),{newRemainingWidth:kt,fit:!0})}function it(Tt){var Ut=Tt.legendDataStartIndex,Et=Tt.arrowPosWindow,Ct=Tt.useLargeArrowHitArea,Nt=Tt.verticalLegendWidth,st=Tt.isTabbable,lt=Tt.navigationArrow,yt=Tt.arrowClassAndSelector,Lt=Nt?Nt+Je:Ct?lt?lt.hitAreaWidth:et:et+Je,kt=Tt.legend.selectAll(yt.selector).data(lt?[lt]:[]),Gt=kt.enter().append("svg").classed(yt.class,!0).style("position","relative").merge(kt);st&&Gt.attrs({tabindex:0,focusable:!0}).on("keydown",function(tr){var nr=d3.event,Dr=nr.keyCode;if(32===Dr||13===Dr){nr.stopPropagation(),Tt.rerenderCallback(lt.type,Ut,Et);var nt=Tt.legend.selectAll(F.selector+(1===lt.type?":last-child":":first-child")).node();nt&&Q.M.focus(nt)}}),Gt.classed("flex-order-second",lt&&1===lt.type).classed("flex-order-fourth",lt&&0===lt.type).attrs({width:Lt,height:Ne,role:"button","aria-label":function(nr){return Tt.hostService?Tt.arrowClassAndSelector.class===N.class?Tt.hostService.getLocalizedString("Next_ButtonText"):Tt.arrowClassAndSelector.class===B.class?Tt.hostService.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",function(tr){Tt.rerenderCallback(lt.type,Ut,Et)}),kt.exit().remove();var er=Gt.selectAll(".navArrow").data(function(tr){return function(Tt,Ut){var Et=Tt;if(Et.isHitArea=!1,Et.index=Math.abs(Et.arrowOffset),!Ut)return[Et];var Ct=Object.create(Et);return Ct.isHitArea=!0,Ct.index++,[Ct,Et]}(tr,Ct)},function(tr){return tr.index.toString()});er.enter().append("path").classed("navArrow",!0).merge(er).attrs({d:function(nr){return nr.path},transform:function(nr){return"".concat((0,m.Iu)(Lt/2-et/2,0)," ").concat(nr.rotateTransform)},"stroke-width":function(nr){return nr.isHitArea?"".concat(nr.hitAreaWidth,"px"):void 0},"fill-opacity":function(nr){return nr.isHitArea?"0":void 0},"stroke-opacity":function(nr){return nr.isHitArea?"0":void 0}}),er.exit().remove()}var be=5,Fe=5,ee=31,k=60,J=15,re=10,Ie=.3,we=j.pt,he=.52,Te=5,Oe=1,Je=2,fe_Horizontal={arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},fe_Vertical={arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3},Ne=15,et=7.5;function tt(Tt){var Ut=Tt.title,Et=0,Ct=!_.isEmpty(Ut),Nt=!Ct&&Tt.showTitlePlaceholder;if(Nt&&(Ut=Tt.hostServices.getLocalizedString("Format_AddLegendTitle")),Ct||Nt){var st=(0,De.s0)(Tt.orientation),lt=void 0;lt=st?Tt.parentViewport.width*Ie-(be+(Tt.legendFontSizeMarginValue>we?5+Tt.legendFontSizeMarginDifference:5)+(5+be))-re+J/2:Tt.viewport.width-re;var Lt=(0,l.qk)(Tt.fontProperties,Ut),kt=Ut;return(Et=te.b.measureSvgTextWidth(Lt))>lt&&(kt=te.b.getTailoredTextOrDefault(Lt,lt),Lt.text=kt,Et=te.b.measureSvgTextWidth(Lt)),st?Et+=J/2:kt=te.b.getTailoredTextOrDefault(Lt,Tt.viewport.width),{x:0,y:0,text:kt,width:Et,height:te.b.estimateSvgTextHeight(Lt),isPlaceholder:Nt}}return null}function xe(Tt,Ut,Et,Ct,Nt){0===Ct&&(Tt.previous=void 0);var st=Nt;return Nt=Et,(Tt.next||Tt.previous)&&Nt===Ut&&(Nt=st,Tt.next=void 0),Nt}function ht(Tt,Ut,Et,Ct,Nt,st){var lt=Tt;Et.styles({height:(lt.height||(Ct?Nt.height:0))+"px",width:(lt.width||(Ct?Nt.width:0))+"px"});var ut=st?re:0;Et.styles({"margin-left":(0,De.tO)(Ut)?Nt.width-lt.width+ut+"px":null,"margin-top":(0,De.Kx)(Ut)?Nt.height-lt.height+"px":null,"margin-right":(0,De.nM)(Ut)&&st?ut+"px":null})}var Ge=r(281835),Re=r(646225),Xe={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}};function Me(Tt,Ut,Et,Ct,Nt,st,lt){return void 0===Ct&&(Ct=!1),void 0===Nt&&(Nt=De.tV.Top),void 0===st&&(st=(0,p.Ue)()),Ut?new zr(Tt):new Kr(Tt,Nt,st,Et,lt,Ct)}var ct=7,Mt=8,It={objectName:"dataPoint",propertyName:"fill"};function Bt(Tt,Ut){var Et=Ut.getMargins(),Ct=Ut.getPosition();Tt.styles({"margin-left":(0,De.nM)(Ct)?Et.width+"px":null,"margin-top":(0,De.RB)(Ct)?Et.height+"px":null})}function Kt(Tt){void 0===Tt&&(Tt=(0,p.Ue)());var Ut=(0,f.m)(Tt,"lightLabel"),Et={family:De.cp,size:j,color:u.v.getThemeColor(Tt,Ur)};return(0,l.ED)(Et,Ut)}function Yt(Tt){return{show:!0,title:"",dataPoints:[],fontProperties:Kt(Tt),grouped:!1,showTitle:!0,position:De.tV.Top,isGradientLegend:!1,fromDefault:!0}}function _r(Tt,Ut){var Et=(0,y.G)(Tt.dataView,{staticSeriesRoleNames:Tt.staticSeriesRoleNames,colorOptions:{valueRole:Tt.staticSeriesRoleNames&&Tt.staticSeriesRoleNames[0],visualStyle:Tt.style,ignoreDefaultColor:Tt.ignoreDefaultColor,ignoreDefaultCategoryColor:Tt.ignoreDefaultCategoryColor}});if(!Et.data.hasSeries()){var Ct=function(Tt,Ut){if(Ut)return(0,e.t6)(Tt,It)}(Tt.dataView,Ut);return Ct?function(Tt,Ut,Et){return hr(Tt.metadata.objects,[],!1,Ut.source.displayName,!1,Et,Ut)}(Tt.dataView,Ct,Tt.style):Tt.allowLegendWithNoSeries?function(Tt,Ut){if(Tt.data.getSeriesCount()){var er,Et=Tt.data.getValueDisplayName(_.last(Ut.staticSeriesRoleNames)),Ct=(0,h.WU)(Et,Tt.objects.getValueFormatString(_.last(Ut.staticSeriesRoleNames),0)),Nt=Tt.colors.createByValue(0,c.fA),st=Tt.identities.createForValue(0),lt=Tt.objects.getStaticObjects(),ut=Ut.lineAndMarkerOptions,yt=ut?ut.defaultMarkerShape:void 0,Ft=ut?(0,d.RZ)(lt,Ut.style):void 0,Lt=ut&&ut.legendMarkerRendering,kt=ut?(0,d.Yh)(Tt,Ft,0,Ut.style):void 0,Gt=Ut.simpleMarkerProp;er=Gt?Gt?(0,e.NA)(lt,Gt,je.ZO.circle):je.ZO.circle:(0,d.xf)(kt,Lt,yt);var sr=(null==ut?void 0:ut.renderLineStyle)&&Lt!==Ge._.markerOnly&&Lt!==Ge._.markerCircleDefault;return hr(lt,[{color:(0,d.XU)(kt,Nt,Lt,ut&&ut.matchSeriesColor),label:Ct,icon:Re.l.Circle,identity:st,selected:!1,markerShape:er,strokePattern:sr?(0,e.NA)(lt,o.zK.lineStyles.strokePattern,Y.Dv.solid):void 0,lineColor:Nt,index:0}],Ut.showByDefault,"",void 0,Ut.style)}}(Et,Tt):Yt(Tt.style)}for(var Nt=Et.objects.getStaticObjects(),st=[],lt=Et.columns.hasDynamicSeries(),ut=Tt.simpleMarkerProp,yt=ut?(0,e.NA)(Nt,ut,je.ZO.circle):je.ZO.circle,Ft=Tt.lineAndMarkerOptions,Lt=Ft?Ft.defaultMarkerShape:void 0,kt=Ft&&Ft.legendMarkerRendering,Gt=Ft?(0,d.RZ)(Nt,Tt.style):void 0,er=Ft&&(0,e.NA)(Nt,o.zK.lineStyles.showSeries,!0),sr=(0,e.NA)(Nt,o.zK.lineStyles.strokePattern,Y.Dv.solid),tr=0,nr=Et.data.getSeriesCount();tr<nr;tr++){var Qe,Dr=Et.data.getSeriesName(tr),Dt=(0,h.WU)(Dr,Et.objects.getSeriesFormatString(tr)),nt=er?(0,d.Yh)(Et,Gt,tr,Tt.style):Gt,ae=Et.colors.createBySeries(tr,void 0,c.fA),q=Et.identities.createForSeries(tr);Qe=ut?(0,e.NA)(Et.objects.getSeriesDataObjects(tr),ut,yt):(0,d.xf)(nt,kt,Lt);var dt=(null==Ft?void 0:Ft.renderLineStyle)&&kt!==Ge._.markerOnly&&kt!==Ge._.markerCircleDefault;st.push({color:(0,d.XU)(nt,ae,kt,Ft&&Ft.matchSeriesColor),label:Dt,icon:Re.l.Circle,identity:q,selected:!1,markerShape:Qe,strokePattern:dt?(0,e.NA)(Et.objects.getSeriesDataObjects(tr),o.zK.lineStyles.strokePattern,sr):void 0,lineColor:ae,index:tr})}return hr(Et.objects.getStaticObjects(),st,Tt.showByDefault,Et.data.getSeriesDisplayName()||"",lt,Tt.style)}function mt(Tt){var Ct,Ut=(0,y.y)(Tt.dataView,{colorOptions:{valueRole:Tt.valueRole,visualStyle:Tt.style}}),Et=[],Nt=Tt.categoryRole,st=Ut.objects.getStaticObjects();if(Ut.data.hasCategories()){Ct=Ut.data.getCategoryDisplayName(Nt);for(var lt=0,ut=Ut.data.getCategoryCount();lt<ut;lt++){var yt=Ut.data.getCategoryValue(Nt,lt),Ft=(0,h.WU)(yt,Ut.objects.getCategoryFormatString(Nt)),Lt=Ut.colors.createByCategory(lt,c.fA),kt=Ut.identities.createForCategory(lt);Et.push({color:Lt,label:Ft,icon:Re.l.Circle,identity:kt,selected:!1,index:lt})}}return hr(st,Et,Tt.showByDefault,Ct,void 0,Tt.style)}function Rt(Tt){var Ut=Tt.dataView.matrix;return i.fF.assertValue(Ut,"there must be a valid matrix DataView"),dr(Tt,Ut.columns)}function Xt(Tt){var Ut=Tt.dataView.matrix;return i.fF.assertValue(Ut,"there must be a valid matrix DataView"),dr(Tt,Ut.rows)}function dr(Tt,Ut){var Et=Tt.dataView.metadata.objects;i.fF.assert(function(){return!_.isEmpty(Ut.levels)},"the matrix should have at least one level");var Ct=[];if(_.isEmpty(Ut.levels))return Yt(Tt.style);var Nt=Ut.levels[0].sources[0],st=Ut.root.childIdentityFields,lt=Ut.root.children;if(!lt)return Yt(Tt.style);var Lt,ut=Tt.markerShowSeriesPropIdentifier,yt=!1,Ft=Tt.markerShapePropIdentifier;Ft?(ut&&(yt=(0,e.NA)(Et,ut,!0)),Lt=(0,e.NA)(Et,Tt.markerShapePropIdentifier,je.ZO.circle)):Lt=je.ZO.circle;for(var kt=0,Gt=lt.length;kt<Gt;kt++){var er=lt[kt];if(!er.isSubtotal){var sr=er.value,tr=(0,a.xq)(sr,Nt,Tt.formatStringProp),nr=Tt.colorHelper.getColorForSeriesValue(er.objects,st,sr,c.fA),Dt=(new n.dw).withColumnIdentity(er.identity,Nt.queryName).createSelectionId(),nt=Lt;yt&&(nt=Ft?(0,e.NA)(er.objects,Ft,nt):je.ZO.circle),Ct.push({color:nr,label:tr,icon:Re.l.Circle,identity:Dt,selected:!1,markerShape:nt,index:kt})}}return hr(Et,Ct,Tt.showByDefault,Nt.displayName,!!lt,Tt.style)}function ar(Tt){var Ut=[],Et=!1,Ct=Tt[0];if(Ct.isGradientLegend){for(var Nt=function(er,sr){i.fF.assert(function(){return Ct===Tt[er]})},st=0,lt=Tt.length;st<lt;st++)Nt(st);return Ct}for(st=0,lt=Tt.length;st<lt;st++){var ut=Tt[st];if(!_.isEmpty(ut.dataPoints))for(var yt=0,Ft=ut.dataPoints;yt<Ft.length;yt++){var Lt=Ft[yt];Lt.layerNumber=st,Ut.push(Lt)}ut.grouped&&(Et=!0)}var kt=_.find(Tt,function(Gt){return!Gt.fromDefault})||Ct;return{dataPoints:Ut,show:kt.show,position:kt.position,showTitle:kt.showTitle,title:kt.title,grouped:Et,fontProperties:kt.fontProperties,bold:kt.bold,italic:kt.italic,underline:kt.underline}}function gr(Tt,Ut){var Et=Tt.legendData,Ct={selector:null,properties:{show:Et.show,position:De.tV[Et.position],showTitle:Et.showTitle,titleText:Et.title,labelColor:Et.fontProperties.color,fontFamily:Et.fontProperties.family,fontSize:Et.fontProperties.size.pt,bold:Et.bold,italic:Et.italic,underline:Et.underline},propertyInstanceKind:{labelColor:3},objectName:Tt.objectName||"legend"};null!=Tt.legendMarkerRendering&&(Ct.properties[o.zK.legend.legendMarkerRendering.propertyName]=Tt.legendMarkerRendering),null!=Tt.matchLineColor&&(Ct.properties[o.zK.legend.matchLineColor.propertyName]=Tt.matchLineColor),Tt.enumeration.pushInstance(Ct)}function Cr(Tt,Ut,Et,Ct,Nt){void 0===Ct&&(Ct=!1),null==Nt&&(Nt=Et.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var st=Tt.legendData,lt=[Xe.show,Xe.showGradientLegend,Xe.position,Xe.showTitle,Xe.titleText,Xe.labelColor,Xe.fontFamily,Xe.fontSize,o.zK.legend.legendMarkerRendering,o.zK.legend.matchLineColor,Xe.bold,Xe.italic,Xe.underline],ut=new V.CQ(new V.lg("legend"),"Role_DisplayName_Legend",lt,function(Lt){return Ut.getLocalizedString(Lt)});if(ut.addTopLevelToggle("show",function(){return new V.bd({descriptor:Xe.show,value:!Ct&&st.show}).build()}),Ct)return ut.withDisabled(!0,Nt),ut.build();var Ft=(new V.UN).withFontFamily({descriptor:Xe.fontFamily,value:st.fontProperties.family}).withFontSizeProperties({descriptor:Xe.fontSize,value:st.fontProperties.size.pt}).withBold({descriptor:Xe.bold,value:st.bold}).withItalic({descriptor:Xe.italic,value:st.italic}).withUnderline({descriptor:Xe.underline,value:st.underline}).build();return ut.withDescription("Visual_LegendDescription").addGroup("options",function(Lt){Lt.withDisplayName("Desktop_FileMenu_Options"),Lt.addSimpleSlice("position",new V.uY({descriptor:Xe.position,value:De.tV[st.position]}).build()),null!=Tt.legendMarkerRendering&&Lt.addSimpleSlice("markerRendering",new V.uY({descriptor:o.qn.legend.legendMarkerRendering,value:Tt.legendMarkerRendering}).build()),null!=Tt.matchLineColor&&Lt.addSimpleSlice("matchLineColor",new V.bd({descriptor:o.qn.legend.matchLineColor,value:Tt.matchLineColor}).build())}),ut.addGroup("text",function(Lt){Lt.withDisplayName("Text").addCompositeSlice("fontselector","Font",Ft).addSimpleSlice("color",function(){var kt={value:st.fontProperties.color};return new V.BT({descriptor:(0,t.__assign)((0,t.__assign)({},Xe.labelColor),{instanceKind:3}),value:kt}).build()})}).addGroup("title",function(Lt){Lt.withDisplayName("Title").addTopLevelToggle("showTitle",function(){return new V.bd({descriptor:Xe.showTitle,value:st.showTitle}).build()}).addSimpleSlice("titleText",new V.fq({descriptor:Xe.titleText,value:st.title,placeholder:""}).build(),function(kt){return kt.withCustomDisplayName("Visual_Title_Text")})}),ut.build()}function pr(){}function Br(Tt){return(0,b.un)(Tt,{fontFamilyReference:Xe.fontFamily,fontSizeReference:Xe.fontSize,boldReference:Xe.bold,italicReference:Xe.italic,underlineReference:Xe.underline,fontColorReference:Xe.labelColor})}function Ir(Tt){return[(0,t.__assign)((0,t.__assign)({type:2},Xe.showTitle),{disabledLabel:Tt.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]}),{type:0,excludedResetFormattingIds:[Xe.showTitle]},{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("title")},label:Tt.getLocalizedString("Format_Legend_Title")}]}function Or(Tt){var Ut=Tt.hostServices,Et=Tt.showSort,Ct=[(0,t.__assign)((0,t.__assign)({type:2},Xe.show),{disabledLabel:Ut.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]}),{type:0,excludedResetFormattingIds:[Xe.show,Xe.showTitle]},(0,t.__assign)((0,t.__assign)({type:2},Xe.showTitle),{enabledLabel:Ut.getLocalizedString("Format_AddLegendTitle")})];return Et&&Ct.push({type:4,sortableField:{queryName:"",sortDirection:1},label:Ut.getLocalizedString("Format_SortLegend"),key:"Legend"}),(0,t.__spreadArray)((0,t.__spreadArray)([],Ct,!0),[{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")},label:Ut.getLocalizedString("Format_Legend")}],!1)}var Kr=function(){function Tt(Ut,Et,Ct,Nt,st,lt){this.style=Ct,this.interactivityService=Nt,this.hostService=st,this.isScrollable=lt,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(Ut.get(0)),this.setPosition(Et),this.viewport={height:0,width:0}}return Tt.prototype.getMargins=function(){return this.viewport},Tt.prototype.isVisible=function(){return(0,De.dx)(this.data)},Tt.prototype.setPosition=function(Ut){this.orientation=Ut||De.tV.Top},Tt.prototype.getPosition=function(){return this.orientation},Tt.prototype.drawLegend=function(Ut,Et,Ct){var Nt=Ct&&Ct.isHierarchicalAxis||!1,st=Ct&&Ct.formatMode||void 0,lt=Ct&&Ct.onObject,ut=(0,s.ED)(Ut);_.defaults(ut,{fontProperties:Kt(this.style)});for(var yt=[],Ft=0,Lt=Ut.dataPoints;Ft<Lt.length;Ft++)yt.push((0,s.ED)(Lt[Ft]));ut.dataPoints=yt,Tt.setTooltipToLegendItems(ut),(ut.fontSize||ut.labelColor)&&(ut.fontProperties={color:ut.labelColor||"#666666",size:ut.fontSize?S.B.createFromPt(ut.fontSize):j,family:De.cp}),ut.fontProperties||(ut.fontProperties=Kt(this.style)),ut.isGradientLegend||((0===ut.dataPoints.length||ut.position===De.tV.None)&&(ut.show=!1),ut.show||(ut.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(Ut.dataPoints),this.interactivityService.applySelectionStateToData(ut.dataPoints)),this.legendDataStartIndex=v.b$.clampValue(this.legendDataStartIndex,0,Math.max(ut.dataPoints.length-1,0)),this.render(ut,Et,Ae,Nt,st,lt,Ct&&Ct.showTitlePlaceholder)},Tt.prototype.render=function(Ut,Et,Ct,Nt,st,lt,ut){var yt=this;this.viewport=Ct({data:Ut,parentViewport:Et,autoWidth:!0,element:this.element,lastCalculatedWidth:this.lastCalculatedWidth,orientation:this.orientation,isScrollable:this.isScrollable,arrowPosWindow:this.arrowPosWindow,legendDataStartIndex:this.legendDataStartIndex,interactivityService:this.interactivityService,rerenderCallback:function Lt(kt,Gt,er){var sr=0===kt?Gt+er:Gt-er;sr=yt.legendDataStartIndex=v.b$.clampValue(sr,0,Ut.dataPoints.length-1),yt.viewport=Ct({data:Ut,parentViewport:Et,autoWidth:!0,element:yt.element,lastCalculatedWidth:yt.lastCalculatedWidth,orientation:yt.orientation,isScrollable:yt.isScrollable,arrowPosWindow:er,legendDataStartIndex:sr,interactivityService:yt.interactivityService,rerenderCallback:Lt,visualStyle:yt.style,hostService:yt.hostService,isHierarchicalAxis:Nt,formatMode:st,onObject:lt,showTitlePlaceholder:ut})},visualStyle:this.style,hostService:this.hostService,isHierarchicalAxis:Nt,formatMode:st,onObject:lt,showTitlePlaceholder:ut})},Tt.prototype.reset=function(){},Tt.setTooltipToLegendItems=function(Ut){for(var Et=0,Ct=Ut.dataPoints;Et<Ct.length;Et++){var Nt=Ct[Et];Nt.tooltip=Nt.label}},Tt}(),zr=function(){function Tt(Ut){this.legendContainerParent=d3.select(Ut.get(0))}return Tt.prototype.getMargins=function(){return{height:Tt.LegendHeight,width:0}},Tt.prototype.drawLegend=function(Ut){i.fF.assertValue(Ut,"legendData");var Et=Ut.dataPoints;if(i.fF.assertValue(Et,"dataPoints"),!(Et.length<1)){var Ct=this.legendContainerParent.select(Tt.LegendContainerSelector);if(Ct.empty()){if(!Et.length)return;var Nt=$("<div></div>").height(this.getMargins().height).addClass(Tt.LegendContainerClass);$(this.legendContainerParent.node()).prepend(Nt),Ct=d3.select(Nt.get(0))}this.legendContainerDiv=Ct,this.drawTitle(Et),this.drawLegendItems(Et)}},Tt.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},Tt.prototype.isVisible=function(){return!0},Tt.prototype.setPosition=function(Ut){},Tt.prototype.getPosition=function(){return De.tV.Top},Tt.prototype.drawTitle=function(Ut){i.fF.assert(function(){return Ut&&Ut.length>0},"data is null or empty");var Ct=this.legendContainerDiv.selectAll("div."+Tt.LegendTitleClass).data([Ut[0]]),Nt=Ct.enter().append("div").attr("class",Tt.LegendTitleClass);Nt.filter(function(lt){return lt.iconOnlyOnLabel}).append("span").attr("class",Tt.legendIconClass).html(Tt.legendPlaceSelector),Nt.append("span");var st=Nt.merge(Ct);st.filter(function(lt){return lt.iconOnlyOnLabel}).select("span."+Tt.legendIconClass).style(Tt.legendColorCss,function(lt){return lt.color}),st.select("span:last-child").text(function(lt){return lt.category})},Tt.prototype.drawLegendItems=function(Ut){this.ensureLegendTableCreated();var Et=[Ut],Ct=this.legendContainerDiv.select("tbody").selectAll("tr").data(Et),Nt=Ct.enter().append("tr"),lt=Nt.selectAll("td").data(function(Ft){return Ft},function(Ft){return Ft.label}).enter().append("td").attr("class",Tt.LegendItem).append("span");lt.filter(function(Ft){return!Ft.iconOnlyOnLabel}).append("span").html(Tt.legendPlaceSelector).attr("class",Tt.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),lt.append("span").attr("class",Tt.legendItemNameClass),lt.append("span").attr("class",Tt.legendItemMeasureClass);var yt=Nt.merge(Ct).selectAll("td").data(function(Ft){return Ft},function(Ft){return Ft.label});yt.select("span."+Tt.legendItemNameClass).html(function(Ft){return(0,g.nU)(Ft.label)}),yt.select("span."+Tt.legendItemMeasureClass).html(function(Ft){return"&nbsp;"+Ft.measure}),yt.select("span."+Tt.legendIconClass).style("color",function(Ft){return Ft.color}),yt.exit().remove()},Tt.prototype.ensureLegendTableCreated=function(){if(this.legendContainerDiv.select("div table").empty()){var Ut=this.legendContainerDiv.append("div").append("table");Ut.style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(Ut)}},Tt.prototype.setPanGestureOnLegend=function(Ut){var Et=$(this.legendContainerParent.node()).width(),Ct=d3.zoom().on("zoom",function(){if($(Ut.node()).width()>Et){var Nt=d3.event.transform.x;Nt=Math.min(Nt,0),Nt=Math.max(Nt,Et-$(Ut.node()).width()),Ut.style("-ms-transform",(0,m.y4)(Nt)),Ut.style("-webkit-transform",(0,m.y4)(Nt)),Ut.style("transform",(0,m.y4)(Nt))}});this.legendContainerDiv?this.legendContainerDiv.call(Ct):Ut.call(Ct)},Tt.LegendHeight=70,Tt.LegendContainerClass="interactive-legend",Tt.LegendContainerSelector=".interactive-legend",Tt.LegendTitleClass="title",Tt.LegendItem="item",Tt.legendPlaceSelector="\u25cf",Tt.legendIconClass="icon",Tt.legendColorCss="color",Tt.legendItemNameClass="itemName",Tt.legendItemMeasureClass="itemMeasure",Tt}(),Ur="foregroundNeutralSecondary";function hr(Tt,Ut,Et,Ct,Nt,st,lt){void 0===Nt&&(Nt=!1),void 0===st&&(st=(0,p.Ue)());var ut=u.v.create(st),yt=(0,e.NA)(Tt,Xe.showGradientLegend,!1),Ft=(0,e.NA)(Tt,Xe.show,Et=lt?yt:Et);Ft=lt?Ft&&yt:Ft;var Lt=De.tV[(0,e.NA)(Tt,Xe.position,"Top")],kt=(0,e.NA)(Tt,Xe.showTitle,!0),Gt=(0,e.RK)(Tt,Xe.labelColor.objectName),er=(0,l.Zi)(Gt,{color:Xe.labelColor.propertyName,size:Xe.fontSize.propertyName,family:Xe.fontFamily.propertyName,bold:Xe.bold.propertyName,italic:Xe.italic.propertyName,underline:Xe.underline.propertyName},ut,st,Ur,"lightLabel",{color:u.v.getThemeColor(st,Ur),size:j,family:De.cp,weight:void 0,style:void 0,textDecoration:void 0});return{show:Ft,position:Lt,dataPoints:Ut,showTitle:kt,title:(0,e.NA)(Tt,Xe.titleText,Ct),grouped:Nt,fontProperties:er,isGradientLegend:!!lt,gradientRule:lt,bold:(0,e.NA)(Tt,Xe.bold,!1),italic:(0,e.NA)(Tt,Xe.italic,!1),underline:(0,e.NA)(Tt,Xe.underline,!1)}}function Rr(Tt){return _.map(Tt.dataPoints,function(Ut){return{color:Ut.color,displayName:Ut.label,identity:Ut.identity}})}},600348:function(ze,K,r){r.d(K,{D:function(){return t}});var t={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",hundredPercentStackedAreaChart:"hundredPercentStackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},318220:function(ze,K,r){r.d(K,{L:function(){return Ut}});var t=r(226514),c=r(600348),i=r(832867),s=r(787941),p=r(734287),V=r(324356),m=r(456535),v=r(884983),e=r(663406),h=r(525963),n=r(551493);function l(Et){switch(Et){case v.GT:return e.a.satellite;case v.j2:return e.a.night;case v.fS:return e.a.road;case v.se:return e.a.grayscaleLight;case v.AB:return e.a.road}return e.a.grayscaleLight}function d(Et){return _.clamp(Et-1,0,22)}function b(Et,Ct,Nt){var st=Ct[0],ut=Nt[0],Ft=Ct[1]-st,Lt=Nt[1]-ut;if(0===Ft)throw new Error("Input range size must be greater than 0");return(Et-st)/Ft*Lt+ut}var f=r(437705);function g(Et){var Ct=_.first(Et.dataViewMappings),Nt=[],lt=(0,f.hK)(Ct.table.rows);return _.isEmpty(lt)?{subjectKind:5,error:2,bindings:void 0}:(Nt.push.apply(Nt,lt),{subjectKind:5,error:void 0,bindings:Nt})}function S(Et){var Ct=_.first(Et.dataViewMappings),Nt=[],lt=(0,f.hK)(Ct.table.rows);return _.isEmpty(lt)?{subjectKind:5,error:2,bindings:void 0}:(Nt.push.apply(Nt,lt),{subjectKind:5,error:void 0,bindings:Nt})}var y=r(487496),C=r(485502),E=r(37584);function D(Et){var Ct={},Nt=Et&&Et.categorical&&_.head(Et.categorical.categories);return Nt&&(Ct.axisType=(0,y.PX)(Et.metadata.objects,E.mi.categoryAxis.axisType,Nt.source.type,void 0,(0,C.n$)(Et))?"scalar":"categorical"),Ct}function P(Et){return(0,f.T6)(Et,1)}var M=r(633888),T=r(939523),R=r(889093);function B(Et){var Ct=Et.dataViewMappings[0];Ct&&(Ct.categorical?function(Et){var Ct=Et.dataViewMappings[0];if(Ct.categorical.categories){if(Ct.categorical.dataVolume=4,(0,y.iQ)(Ct,!1)){Ct.categorical.categories.dataReductionAlgorithm={sample:{}};var st=Ct.categorical.values;st&&st.group&&(st.group.dataReductionAlgorithm={top:{}})}else(0,C.XS)([Ct]);(0,C.K0)(Et.dataViewMappings);var lt=A(Et);(0,C.kV)(Et.dataViewMappings,lt)}}(Et):Ct.matrix&&function(Et){var Ct=Et.dataViewMappings[0];if((0,M.qO)(Ct)){if((0,y.iQ)(Ct,!0)){(0,M.s5)(Ct,{sample:{}});var Nt=(0,M.b8)(Ct);(0,R.Bx)([Nt],{min:!0,max:!0})}(0,R.vR)(Ct,[E.au.y]),(0,R._F)(Ct)}}(Et))}function A(Et){var Ct=Et.dataViewMappings[0];return(0,M.qO)(Ct)?function(Et){var Ct=(0,y.iQ)(Et,!0),Nt=[E.au.rows];return Ct||Nt.push(E.au.category),Nt.push(E.au.y,E.au.tooltips,E.au.series),Nt}(Ct):function(Et){if(!Et||!Et.categorical||!Et.categorical.categories)return null;var Nt=Et.categorical.categories.for.in,st=Nt.items,lt=Nt.activeItems,ut=["Category","Series","Y","Tooltips"];if(!_.isEmpty(st)){var Ft=void 0;Et.metadata&&(Ft=Et.metadata.objects);var Lt=void 0;if(_.isEmpty(lt))Lt=st[0].type;else if(1===lt.length){var kt=_.find(st,function(Gt){return Gt.queryName===lt[0]});s.fF.assert(function(){return!!kt},"Item should always be defined"),Lt=kt.type}else if(lt.length>1)return ut;return(0,y._K)(Ft,T.zK.categoryAxis.axisType,Lt)?["Series"]:ut}return null}(Ct)}var F=r(108333);function O(Et){_.isEmpty(Et.dataViewMappings)||(Et.dataViewMappings[0].matrix?function(Et){var Ct=Et.dataViewMappings[0];if((0,M.qO)(Ct)){if((0,y.iQ)(Ct,!0)){(0,M.s5)(Ct,{sample:{}});var Nt=(0,M.b8)(Ct);(0,R.Bx)([Nt],{min:!0,max:!0})}(0,R.vR)(Ct,[F.rJ.y,F.rJ.y2]),(0,R._F)(Ct)}}(Et):function(Et){var Ct=!_.isEmpty(Et.dataViewMappings)&&Et.dataViewMappings[0],Nt=Et.dataViewMappings.length>1&&Et.dataViewMappings[1];U(Ct,Nt);var ut,st=(0,y.iQ)(Ct,!1);(Ct&&Ct.categorical&&(Ct.categorical.dataVolume=4,st)&&(Ct.categorical.categories.dataReductionAlgorithm={sample:{}},(ut=Ct.categorical.values)&&ut.group&&(ut.group.dataReductionAlgorithm={top:{}})),Nt&&Nt.categorical&&(Nt.categorical.dataVolume=4,st))&&(Nt.categorical.categories.dataReductionAlgorithm={sample:{}},(ut=Nt.categorical.values)&&ut.group&&(ut.group.dataReductionAlgorithm={top:{}}));st||(0,C.XS)(Et.dataViewMappings),(0,C.K0)(Et.dataViewMappings);var yt=z(Et);(0,C.kV)(Et.dataViewMappings,yt)}(Et))}function U(Et,Ct){if(Et&&Ct){var Nt=Et.categorical&&Et.categorical.values,st=Nt.group&&!_.isEmpty(Nt.group.select)&&Nt.group.select[0];_.isEmpty(st.for.in.items)&&(Nt.group.by.items=void 0)}}function z(Et){if(Et&&Et.dataViewMappings.length>0){var Ct=Et.dataViewMappings[0];if((0,M.qO)(Ct))return function(Et){var Ct=(0,y.iQ)(Et,!0),Nt=[F.rJ.rows];return Ct||Nt.push(F.rJ.category),Nt.push(F.rJ.y,F.rJ.y2,F.rJ.tooltips,F.rJ.series),Nt}(Ct);if(!(0,y.iQ)(Ct,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function G(Et){if(!Et||_.isEmpty(Et.dataViewMappings))return{subjectKind:1,error:2,bindings:void 0};var Ct=Et.dataViewMappings[0],Nt=Et.dataViewMappings[1];if(U(Ct,Nt),!(Ct&&Ct.categorical&&Ct.categorical.categories))return{subjectKind:1,error:2,bindings:void 0};var st=(0,f.DS)(Ct);return st.push.apply(st,(0,f.vx)(Ct)),Nt&&Nt.categorical&&Nt.categorical.categories&&st.push.apply(st,(0,f.vx)(Nt)),_.isEmpty(st)?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:st}}var te=r(238435),Q=r(698129),H=r(542277);function de(Et){var Ct=_.first(Et.dataViewMappings);s.fF.assertValue(Ct,"mapping");var Nt=(0,Q.NA)(Ct.metadata.objects,H.Qw,void 0);null!=Nt&&(s.fF.assert(function(){return Nt>0&&_.isInteger(Nt)},"Invalid data reduction count"),Ct.table.rows.dataReductionAlgorithm={top:{count:Nt}});var st=_.groupBy(_.filter(Ct.metadata.columns,function(lt){var ut,yt;return!(null===(yt=null===(ut=null==lt?void 0:lt.objects)||void 0===ut?void 0:ut.columnOptions)||void 0===yt||!yt.suppressJoinPredicate)}),function(lt){return lt.queryName});_.isEmpty(st)||(0,te.vV)(Ct.table,{visitRole:function(ut){if(ut.role===H.KK.values)for(var yt=0,Ft=ut.items;yt<Ft.length;yt++){var Lt=Ft[yt];st[Lt.queryName]&&(Lt.joinPredicate=0)}}})}var Y=r(464925);function se(Et){var Ct=Et.dataViewMappings[0];Ct&&Ct.matrix&&Ct.metadata&&(function(Et,Ct){var Nt=Et.metadata.columns,st=Ct.rows.for.in.items;if(!_.isEmpty(st))for(var lt=function(Lt,kt){var Gt=st[Lt];if(!_.find(Nt,function(sr){return sr.queryName===Gt.queryName}))return"continue";Gt.subtotalType=1},ut=0,yt=st.length;ut<yt;ut++)lt(ut)}(Ct,Ct.matrix),Et.scopedAggregates&&function(Et){var Nt=_.find(Et.matrix.values.select,function(sr){return(0,R.uS)(sr)&&sr.for.in.role===Y.Fw.analyze}).for.in.items;if(!_.isEmpty(Nt)){var st=Et.matrix.rows.for.in.items;if(!_.isEmpty(st)&&"levelMaximum"===(0,Q.NA)(Et.metadata.objects,{objectName:Y.I8.dataBars,propertyName:Y.hq.dataBarScalingType},"levelMaximum")){for(var yt=0,Ft=Et.metadata.columns;yt<Ft.length;yt++){var Lt=Ft[yt];if(Lt.discourageAggregationAcrossGroups)return void s.fF.assertFail("Aggregates should not be computed across groups with different values of the column "+Lt.queryName)}var kt=Nt[0].queryName,Gt=st.map(function(sr){return sr.queryName});Et.scopedAggregates=[{min:!0,max:!0,scope:[Gt[0]],queryName:kt}];for(var er=0;er<st.length-1;er++)st[er].aggregates=[{min:!0,max:!0,scope:Gt.slice(0,er+2),queryName:kt}]}}}(Ct),function(Et){var Ct,Nt=Et.matrix.rows.dataReductionAlgorithm;if(Nt&&Nt.topNPerLevel){var st=Et.metadata.objects,lt=null===(Ct=(0,Q.NA)(st,{objectName:Y.I8.tree,propertyName:Y.hq.responsiveLayout}))||void 0===Ct||Ct,ut=(0,Q.NA)(st,{objectName:Y.I8.tree,propertyName:lt?Y.hq.effectiveBarsPerLevel:Y.hq.barsPerLevel},Y.bR.defaultValue);(ut<Y.bR.minValue||ut>Y.bR.maxValue)&&(ut=Y.bR.defaultValue),Nt.topNPerLevel.count=ut}}(Ct))}function De(Et){return(0,f.T6)(Et,2)}function We(Et){var Nt=_.first(Et.dataViewMappings);if(!Nt||!Nt.categorical||!Nt.categorical.values)return{subjectKind:1,error:2,bindings:void 0};var st=(0,f.YW)(Nt);return _.isEmpty(st)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:st}}function je(Et){return!Et||_.isEmpty(Et.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:Ae(Et.dataViewMappings),error:void 0}}function Ae(Et){s.fF.assertValue(Et,"compiledDataViewMappings");var Ct=_.first(Et),Nt=Ct.table,st=Ct.metadata,lt=st.objects,ut=_.map(st.columns,function(nt){return nt.queryName}),yt=Nt.rows,Ft=yt.select[0],Lt=yt.select[1];s.fF.assert(function(){return 1===Ft.bind.to.items.length},"There should be exactly one analyze item"),s.fF.assert(function(){return Lt.for.in.items.length>=1},"There should be at least one explain by item");var kt="keyDrivers",Gt=_.first(Ft.bind.to.items).queryName,er=_.map(Lt.for.in.items,function(nt){return nt.queryName}),sr=_.filter(ut,function(nt){return Gt!==nt&&er.indexOf(nt)<0}),tr=(0,Q.NA)(lt,{objectName:kt,propertyName:"targetValue"},void 0),nr=(0,Q.NA)(lt,{objectName:kt,propertyName:"selectedNumericAnalysis"},void 0),Dr=(0,Q.NA)(lt,{objectName:kt,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==Dr&&0===Dr?Dr="Increase":void 0!==Dr&&1===Dr&&(Dr="Decrease"),{analyzeQueryName:Gt,explainByQueryNames:er,expandByQueryNames:sr,targetValue:tr,numericTargetSelectedKind:Dr,selectedNumericAnalysis:nr}}var _e=r(803018),le=r(2570),Z=r(424420),ie=[{objectProperty:Z.xg.indicatorFontFamilyProp,defaultValue:(0,V.fL)(_e.Wn.lightSecondary.family)},{objectProperty:Z.xg.goalFontSizeProp,defaultValue:(0,V.cA)(le.qy)},{objectProperty:Z.xg.goalFontFamilyProp,defaultValue:(0,V.fL)(_e.Wn.semibold.family)}];function me(Et){return(0,f.T6)(Et,5)}var ye=r(389521),oe=r(411916),X=r(592042),ue=r(345563),Ke=r(664723),Ze=r(681454);function qe(Et){var Ct=Et.dataViewMappings[0];Ct&&(Ct.categorical?function(Et){var Ct=Et.dataViewMappings[0],Nt=null==Ct?void 0:Ct.categorical;if(Nt&&Nt.categories){Nt.dataVolume=4;var st=Nt.categories,lt=_.find(Et.dataViewMappings,function(kt){var Gt;return!(null===(Gt=kt.usage)||void 0===Gt||!Gt.anomalyDetection)});lt&&(function(Et,Ct){s.fF.assertValue(Et&&Et.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),s.fF.assertValue(Ct&&Ct.categorical,"anomalyDetection.categorical");var Nt=Et.dataReductionAlgorithm.binnedLineSample;s.fF.assertValue(!Nt.count,"binnedLineSample.count should be undefined"),s.fF.assertValue(!Nt.warningCount,"binnedLineSample.warningCount should be undefined"),Nt.count=4900,Nt.warningCount=3500,Ct.categorical.dataReductionAlgorithm={binnedLineSample:{}};var st=Ct.categorical.dataReductionAlgorithm.binnedLineSample;st.count=Nt.count,st.warningCount=Nt.warningCount}(Nt,lt),_.some(Et.dataViewMappings,function(kt){return(0,ue.el)(kt)})||_.remove(Et.dataViewMappings,function(kt){return kt===lt}));var ut=!1;if((0,y.$9)(Ct.metadata.objects,T.zK.categoryAxis.axisType)){ut=(0,oe.A9)(Ct);var yt=_.find(Et.dataViewMappings,function(kt){var Gt;return!(null===(Gt=kt.usage)||void 0===Gt||!Gt.forecast)});(0,te.Sr)(st,{visitRole:function(Gt){it(Gt,yt,lt,!1)}})}if(!ut&&!(0,y.iQ)(Ct,!1)){_.remove(Et.dataViewMappings,function(kt){return kt.usage&&(kt.usage.forecast||kt.usage.anomalyDetection)}),(0,T.BX)(Ct,!1);var Ft=[Ct];(0,C.XS)(Ft);var Lt=k(Et);(0,C.kV)(Ft,Lt)}(0,C.K0)(Et.dataViewMappings)}}(Et):Ct.matrix&&function(Et){var Ct=Et.dataViewMappings[0];if((0,M.qO)(Ct)){var Nt=!1;(0,y.$9)(Ct.metadata.objects,T.zK.categoryAxis.axisType)&&(Nt=(0,oe.A9)(Ct),(0,te.Ay)(Ct.matrix.rows,{visitRole:function(yt){it(yt,void 0,void 0,!0)}}));var st=(0,y.iQ)(Ct,!0);if(Nt||st){if(st){var lt=(0,M.b8)(Ct);(0,R.Bx)([lt],{min:!0,max:!0})}}else(0,T.BX)(Ct,!0);(0,R.vR)(Ct,[Ze.R.Y,Ze.R.Y2]),(0,R._F)(Ct)}}(Et))}function it(Et,Ct,Nt,st){if(Et.role===Ze.R.Category){var lt=[Ze.R.Category];st&&lt.unshift(Ze.R.Rows);for(var ut={data:[(0,ye.Yp)(lt)]},yt=Et.items,Ft=0,Lt=_.size(yt);Ft<Lt;Ft++){var Gt=yt[Ft].scalarKeyInfo;if(Gt&&Gt.hasScalarKey){Gt.scalarKeyMinProperty=Ke.p.scalarKey.scalarKeyMin,Gt.selector=ut,Ct&&ee(Ct,ut,Ft),Nt&&ee(Nt,ut,Ft);break}}}}function ee(Et,Ct,Nt){var st;(0,te.Sr)(null===(st=null==Et?void 0:Et.categorical)||void 0===st?void 0:st.categories,{visitRole:function(ut){ut.items[Nt].scalarKeyInfo||(ut.items[Nt].scalarKeyInfo={});var yt=ut.items[Nt].scalarKeyInfo;yt.scalarKeyMinProperty=Ke.p.scalarKey.scalarKeyMin,yt.selector=Ct}})}function k(Et){var Ct=Et.dataViewMappings[0];return(0,M.qO)(Ct)?function(Et){var Ct=(0,y.iQ)(Et,!0),Nt=[E.au.rows];return Ct||Nt.push(E.au.category),Nt.push(E.au.y,E.au.tooltips,E.au.series),Nt}(Ct):function(Et){if(!Et||!Et.categorical||!Et.categorical.categories)return null;var ut,yt,Nt=Et.categorical.categories.for.in,st=Nt.items,lt=Nt.activeItems;if(ut=["Category","Series","Y","Y2","Tooltips"],yt=["Series"],!_.isEmpty(st)){var Ft=void 0;if(Et.metadata&&(Ft=Et.metadata.objects),(0,oe.A9)(Et)&&(0,y.$9)(Ft,T.zK.categoryAxis.axisType))return yt;var Lt=void 0;if(_.isEmpty(lt))Lt=st[0].type;else if(1===lt.length){var kt=_.find(st,function(Gt){return Gt.queryName===lt[0]});s.fF.assert(function(){return!!kt},"Item should always be defined"),Lt=kt.type}else if(lt.length>1)return ut;return(0,y._K)(Ft,T.zK.categoryAxis.axisType,Lt)?yt:ut}return null}(Ct)}function re(Et,Ct){for(var Nt,st,lt,ut=[],yt=[],Ft=[],Lt=[],kt=[],Gt={xIndex:void 0,yIndex:void 0},er=0,sr=null==Et?void 0:Et.selects;er<sr.length;er++){var tr=sr[er];null!=tr&&tr.roles[Ze.R.Series]&&ut.push(tr),null!=tr&&tr.roles[Ze.R.Category]&&(yt.push(tr),kt.push(X.Ge.fromDescriptor(null==tr?void 0:tr.type))),null!=tr&&tr.roles[Ze.R.Y]&&Ft.push(tr),null!=tr&&tr.roles[Ze.R.Y2]&&Lt.push(tr)}if(function(Et,Ct,Nt){var st,lt,ut,yt,Ft,Lt,kt=Nt[0],Gt=(0,y.A8)(null===(st=null==kt?void 0:kt.categorical)||void 0===st?void 0:st.categories[0]),er=(0,y.PX)(null===(lt=null==kt?void 0:kt.metadata)||void 0===lt?void 0:lt.objects,T.zK.categoryAxis.axisType,null===(ut=Et[0])||void 0===ut?void 0:ut.type,Gt,(0,C.n$)(kt));return 1===Et.length||Et.length>1&&er&&(null===(Ft=null===(yt=Et[0])||void 0===yt?void 0:yt.type)||void 0===Ft?void 0:Ft.temporal)&&!(null!==(Lt=null==Ct?void 0:Ct.objects)&&void 0!==Lt&&Lt.categoryAxis)}(yt,Et,Ct)&&function(Et,Ct,Nt,st){var lt,ut,yt,Ft,Lt=_.first(Et);return 1===Ct.length&&0===Nt.length&&0===st.length&&((null==Lt?void 0:Lt.dateTime)||(null==Lt?void 0:Lt.numeric)||(null===(lt=null==Lt?void 0:Lt.temporal)||void 0===lt?void 0:lt.day)||(null===(ut=null==Lt?void 0:Lt.temporal)||void 0===ut?void 0:ut.year))&&!(null!==(yt=null==Lt?void 0:Lt.temporal)&&void 0!==yt&&yt.quarter||null!==(Ft=null==Lt?void 0:Lt.temporal)&&void 0!==Ft&&Ft.month)}(kt,Ft,Lt,ut)&&Et&&Et.roles&&Et.roles.ordering){if(Et.roles.ordering[Ze.R.Category]&&Et.roles.activeItems)for(var nr=null===(Nt=_.first(Et.roles.activeItems[Ze.R.Category]))||void 0===Nt?void 0:Nt.queryRef,Dr=0;Dr<(null===(st=Et.selects)||void 0===st?void 0:st.length);Dr++)(null===(lt=Et.selects[Dr])||void 0===lt?void 0:lt.queryName)===nr&&(Gt.xIndex=Dr);Et.roles.ordering[Ze.R.Y]&&(Gt.yIndex=_.first(Et.roles.ordering[Ze.R.Y]))}return Gt}var he=r(826613),Te=r(563245);function Oe(Et){var Ct=Et.dataViewMappings[0];if(Ct&&Ct.matrix&&Ct.metadata){var Nt=Ct.matrix;_.isEmpty(Nt.columns.for.in.items)||(Nt.rows.dataReductionAlgorithm.window.count=100);var st=Ct.metadata.objects;Nt.rows.for.in.subtotalType=Te.FX.PropGeneralMatrixRowSubtotals.getValue(st)?2:0,Nt.columns.for.in.subtotalType=Te.FX.PropGeneralMatrixColumnSubtotals.getValue(st)?2:0}}function Je(Et){return["Rows","Values"]}function ne(Et){if(Et&&Et.dataViewMappings&&!_.isEmpty(Et.dataViewMappings))for(var Ct=0,Nt=Et.dataViewMappings;Ct<Nt.length;Ct++){var st=Nt[Ct];if(st.table){var lt=st.table.rows;if(lt&&lt.for&&lt.for.in&&lt.for.in.items)return["Values"]}}}function Ne(Et){var Ct=_.first(Et.dataViewMappings),Nt=[];if(Ct&&Ct.table&&Ct.table.rows){var lt=(0,f.hK)(Ct.table.rows);return _.isEmpty(lt)?{subjectKind:5,error:2,bindings:void 0}:(Nt.push.apply(Nt,lt),{subjectKind:5,error:void 0,bindings:Nt})}}var et=r(939942),tt=r(707903);function xe(Et){var Ct=Et.dataViewMappings[0];if(Ct&&Ct.matrix&&Ct.metadata){var Nt=Ct.matrix,st=!_.isEmpty(Nt.columns.for.in.items);st&&(Nt.rows.dataReductionAlgorithm.window.count=100);var lt=Nt.values;if(lt){var ut=lt.for.in.items;_.some(ut,function(yt){var Ft,Lt;return!(null===(Lt=null===(Ft=yt.type)||void 0===Ft?void 0:Ft.misc)||void 0===Lt||!Lt.sparkline)})&&(Nt.rows.dataReductionAlgorithm.window.count=st?50:100,st&&(Nt.columns.dataReductionAlgorithm.top.count=25)),(0,R.pn)(Ct,ut)}(function(Et,Ct){var Nt=Et.metadata.objects,st=Et.metadata.columns,lt=Ct.rows.for.in.items,ut=Te.FX.PropSubTotalsPivotTableRowSubtotals.getValue(Nt),yt=Te.FX.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(Nt)===tt.we?1:2,Ft=Te.FX.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(Nt);if(!_.isEmpty(lt))for(var Lt=function(sr,tr){var nr=lt[sr],Dr=_.find(st,function(q){return q.queryName===nr.queryName});if(!Dr)return"continue";var Dt=Te.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(Dr.objects);if(!ut||Ft&&!Dt)nr.subtotalType=0;else{var nt=Te.FX.PropGeneralMatrixLayout.getValue(Nt),ae=void 0!==nt?nt===et.t.Compact:Te.FX.PropRowsSteppedLayout.getValue(Nt);nr.subtotalType=0===sr&&ae?1:yt}},kt=0,Gt=lt.length;kt<Gt;kt++)Lt(kt)})(Ct,Nt),function(Et,Ct){var Nt=Et.metadata.objects,st=Et.metadata.columns,lt=Ct.columns.for.in.items,ut=Te.FX.PropSubTotalsPivotTableColumnSubtotals.getValue(Nt),yt=Te.FX.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(Nt);if(!_.isEmpty(lt))for(var Ft=function(sr){var tr=_.find(st,function(Dr){return Dr.queryName===sr.queryName});if(!tr)return"continue";var nr=Te.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(tr.objects);sr.subtotalType=!ut||yt&&!nr?0:2},Lt=0,kt=lt;Lt<kt.length;Lt++)Ft(kt[Lt])}(Ct,Nt)}}function at(Et){return["Rows","Values"]}function ft(Et){var Ct=Et.dataViewMappings[0];Ct&&Ct.table&&(Ct.table.rows.for.in.subtotalType=1)}var ht=[{objectProperty:E.gE.valueAxis.showAxisTitle,defaultValue:(0,V.O7)(!1)}],Ge=r(396894),Re=r(244945),Xe=r(36629);function Me(Et){var Ct=Et.dataViewMappings[0];if(Ct&&Ct.matrix&&Ct.metadata){var Nt=Ct.matrix,st=Ct.metadata.objects,lt=(0,Q.NA)(st,Xe.il.ratioLine.show,!1),ut=!1,yt=!1,Ft=!1,Lt=[],kt=Nt.rows;if(kt&&!_.isEmpty(kt.select)){s.fF.assert(function(){return!!(kt.dataReductionAlgorithm.bottom||kt.dataReductionAlgorithm.sample||kt.dataReductionAlgorithm.overlappingPointsSample)},"invalid data reduction");for(var Gt=0,er=kt.select;Gt<er.length;Gt++)for(var sr=er[Gt],Dr=0,Dt=sr.composite?sr.composite:[sr];Dr<Dt.length;Dr++){var nt=Dt[Dr];(0,R.Ci)(nt)&&Lt.push(nt.bind.to),(0,R.uS)(nt)&&Lt.push(nt.for.in);var ae=ct(nt);ae&&(ut=!0,ae===Xe.TL.y&&(yt=!0),ae===Xe.TL.x&&(Ft=!0))}}if(lt&&!ut){for(var q=0,Qe=Lt;q<Qe.length;q++)Qe[q].subtotalType=2;(0,R.uS)(Nt.columns)&&(Nt.columns.for.in.subtotalType=2)}var Pt=Nt.rows.dataReductionAlgorithm,Qt=(0,Q.NA)(st,Xe.il.general.dataVolume,null),ir=(0,Q.NA)(st,Ke.p.categoryAxis.axisType)===Re.w.categorical,yr=_.find(Lt,function(Ye){return Ye.role===Xe.TL.x}),ur=yr&&_.filter(yr.items,function(Ye){return _.includes(yr.activeItems,Ye.queryName)}),wr=_.size(ur),Er=0===wr?void 0:1===wr&&_.every(ur,function(Ye){return Ye.type&&(Ye.type.numeric||Ye.type.integer)}),Ar=_.find(Nt.values.select,function(Ye){return(0,R.Ci)(Ye)&&Ye.bind.to.role===Xe.TL.x}),Lr=Ar&&(0,R.Ci)(Ar)&&Ar.bind.to,$e=Lr?_.filter(Lr.items,function(Ye){return!Ye.hidden}):[],gt=_.size($e),Ue=_.every($e,function(Ye){return Ye.type&&(Ye.type.numeric||Ye.type.integer)});if(!Ft&&gt>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(yt&&wr>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!Ft&&1===gt&&!Ue)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(ut&&(ir||!1===Er)){if(yt)return{error:{code:ir?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};Nt.rows.dataReductionAlgorithm={window:{count:200}};var Pe=_.remove(kt.select,function(Ye){return(0,R.Ci)(Ye)&&Ye.bind.to.role===Xe.TL.series});s.fF.assert(function(){return 1===Pe.length},"series mapping should be removed");var ke=Pe[0];ke&&ke.bind&&(Nt.columns={for:{in:ke.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else null!=Pt&&Pt.overlappingPointsSample?((0,Q.NA)(st,Ke.p.categoryAxis.logAxisScale)&&(Pt.overlappingPointsSample.x.transform=1),(0,Q.NA)(st,Ke.p.valueAxis.logAxisScale)&&(Pt.overlappingPointsSample.y.transform=1),null!=Qt&&(Pt.overlappingPointsSample.count=Qt)):null!=Pt&&Pt.sample&&null!=Qt&&(Pt.sample.count=Qt)}}function He(Et){if(_.find(Et.dataViewMappings,function(Nt){var st,lt,ut;return null===(ut=null===(lt=null===(st=Nt.matrix)||void 0===st?void 0:st.rows)||void 0===lt?void 0:lt.dataReductionAlgorithm)||void 0===ut?void 0:ut.window}))return[Xe.TL.x,Xe.TL.y,E.au.series]}function ct(Et){var Ct;return(0,R.Ci)(Et)?Ct=Et.bind.to.role:(0,R.uS)(Et)&&(Ct=Et.for.in.role),Ct===Xe.TL.x?Xe.TL.x:Ct===Xe.TL.y?Xe.TL.y:void 0}function Mt(Et){return{hasSize:(0,Ge.c5)(Et,"Size"),hasPlayAxis:(0,Ge.c5)(Et,"Play")}}function It(Et){var Ct=_.first(Et.dataViewMappings);return Ct&&Ct.matrix?(0,f.gY)(Ct.matrix,3):Ct&&Ct.categorical&&Ct.categorical.categories?(0,f.T6)(Et,3):{subjectKind:3,error:2,bindings:void 0}}var Bt=r(370030),jt=r(580968),Kt=r(875194),Yt=r(943069),Zt=r(244801),_r=r(225474);function Pr(Et){var Ct=Et.dataViewMappings[0];Ct&&Ct.table&&Ct.metadata&&(Ct.table.rows.for.in.subtotalType=Te.FX.PropGeneralTableTotals.getValue(Ct.metadata.objects)?1:0)}function mt(Et){return["Values"]}var Rt=r(55397);function Xt(Et){var Ct=Et.dataViewMappings[0];if(Ct&&Ct.table&&Ct.metadata){var Nt=Ct.table.rows,st=Nt.for.in.items;_.some(st,function(ut){var yt,Ft;return!(null===(Ft=null===(yt=ut.type)||void 0===yt?void 0:yt.misc)||void 0===Ft||!Ft.sparkline)})&&(Ct.table.rows.dataReductionAlgorithm.window.count=100),Nt.for.in.subtotalType=Te.FX.PropTotalTableExTotals.getValue(Ct.metadata.objects)?1:0,(0,R.pn)(Ct,st)}}function dr(Et){return["Values"]}var ar=r(103819);function gr(Et){var Ct=Et.dataViewMappings[0];if(Ct&&Ct.matrix){var Nt=Ct.matrix;Nt.columns&&Nt.columns.for&&Nt.columns.for.in&&(Nt.columns.for.in.subtotalType=1)}}function Cr(Et){return[ar.IT.category,ar.IT.y,ar.IT.tooltips]}var pr=r(437189),Br={name:"heatMap",capabilities:pr.D.map,create:function(){throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:function(){return(0,t.__awaiter)(void 0,void 0,void 0,function(){return(0,t.__generator)(this,function(Nt){switch(Nt.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return[2,new(0,Nt.sent().Map)({filledMap:!1})]}})})}},Ir=r(223834),Kr=r(632799),zr=r(761565);function Ur(Et){return[zr.CT.value,Kr.B0.Tooltips]}var hr=function(){throw new Error("plugins.ts: 'Create' function is deprecated")},Rr=!1,Ut=function(){var Et,Ct=this;if(Rr)return i.N;var Nt=(Et={actionButton:{name:c.D.actionButton,titleKey:(0,p.V)("Button"),capabilities:pr.D.actionButton,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("actionButton").then(r.bind(r,555972))];case 1:return[2,new(0,yt.sent().ActionButton)]}})})}},animatedNumber:{name:c.D.animatedNumber,capabilities:pr.D.animatedNumber,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("animatedNumber").then(r.bind(r,949733))];case 1:return[2,new(0,yt.sent().AnimatedNumber)]}})})}},areaChart:{name:c.D.areaChart,watermarkKey:"area",titleKey:(0,p.V)("AreaChart_ToolTip"),capabilities:pr.D.areaChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:1,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:qe,getSortableRoles:k,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},barChart:{name:c.D.barChart,watermarkKey:"bar",titleKey:(0,p.V)("BarChart_ToolTip"),capabilities:pr.D.barChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:7,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},basicShape:{name:c.D.basicShape,titleKey:(0,p.V)("BasicShape_ToolTip"),capabilities:pr.D.basicShape,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("basicShape").then(r.bind(r,185865))];case 1:return[2,new(0,yt.sent().BasicShape)]}})})}},shape:{name:c.D.shape,titleKey:(0,p.V)("BasicShape_ToolTip"),capabilities:pr.D.shape,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("shape").then(r.bind(r,425658))];case 1:return[2,new(0,yt.sent().Shape)]}})})},getCustomizeConvertTo:function(ut,yt,Ft){return function(Et){var Ct,Nt,st,lt,ut;if("basicShape"===Et)return{objects:(Ct={},Ct[Zt.eM.fill]=(Nt={},Nt[Zt.Mn.fillColor]={transform:function(Ft){return null!=Ft?Ft:(0,V.$_)(null,"backgroundLight")},transformArgs:[{identifier:Kt.O.fill.fillColor}],targetSelector:{id:Yt.W6.default}},Nt[Zt.Mn.fillTransparency]={transformArgs:[{identifier:Kt.O.fill.transparency}],targetSelector:{id:Yt.W6.default}},Nt),Ct[Zt.eM.outline]=(st={},st[Zt.Mn.outlineColor]={transform:function(Ft){return null!=Ft?Ft:(0,V.e7)(2,0)},transformArgs:[{identifier:Kt.O.line.lineColor}],targetSelector:{id:Yt.W6.default}},st[Zt.Mn.outlineWeight]={transform:function(Ft){return null!=Ft?Ft:(0,V.cA)(3)},transformArgs:[{identifier:Kt.O.line.weight}],targetSelector:{id:Yt.W6.default}},st[Zt.Mn.outlineTransparency]={transformArgs:[{identifier:Kt.O.line.transparency}],targetSelector:{id:Yt.W6.default}},st),Ct[Zt.eM.shape]=(lt={},lt[Zt.Mn.tileShape]={transform:function(Ft){if(Ft&&(0,m.VC)(Ft)){var Lt;switch(Ft.value){case Bt.C9:Lt=jt.m.Rectangle;break;case Bt.BG:Lt=jt.m.Oval;break;case Bt.jv:Lt=jt.m.Line;break;case Bt.x7:Lt=jt.m.Arrow;break;case Bt.cP:Lt=jt.m.TriangleIsoc;break;default:Lt=jt.m.Rectangle}return(0,V.fL)(Lt)}},transformArgs:[{identifier:Kt.O.general.shapeType}]},lt[Zt.Mn.shapeRounding]={transformArgs:[{identifier:Kt.O.line.roundEdge}]},lt),Ct[Yt.MI.rotation]=(ut={},ut[Zt.Mn.shapeRotation]={transform:function(Ft,Lt){if(void 0===Ft&&(Ft=(0,V.cA)(0)),!Lt)return Ft;if((0,m.VC)(Ft)&&(0,m.VC)(Lt)){var Gt,kt=Ft.value;switch(Lt.value){case Bt.jv:Gt=(kt+90)%360;break;case Bt.x7:Gt=(kt+270)%360;break;default:Gt=kt}return(0,V.cA)(Gt)}s.fF.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:Kt.O.rotation.angle},{identifier:Kt.O.general.shapeType}]},ut[Yt.B3.rotation]={transform:function(){}},ut),Ct)}}(ut)}},card:{name:c.D.card,watermarkKey:"card",titleKey:(0,p.V)("Card_ToolTip"),titleInSentenceKey:(0,p.V)("Card_Visual_InSentenceCase"),capabilities:pr.D.card,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("cardModule").then(r.bind(r,870930))];case 1:return[2,(0,yt.sent().createCard)(void 0)]}})})},getNarrativeSummaryBindings:g},cardVisual:{name:c.D.cardVisual,watermarkKey:"cardVisual",titleKey:(0,p.V)("Card_ToolTip_New"),titleInSentenceKey:(0,p.V)("Card_Visual_New_InSentenceCase"),capabilities:pr.D.cardVisual,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("cardVisual").then(r.bind(r,97040))];case 1:return[2,new(0,yt.sent().CardVisual)(void 0)]}})})},module:{css:["cardVisual"]},getNarrativeSummaryBindings:S},multiRowCard:{name:c.D.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,p.V)("MultiRowCard_ToolTip"),titleInSentenceKey:(0,p.V)("MultiRowCard_Visual_InSentenceCase"),capabilities:pr.D.multiRowCard,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("multiRowCard").then(r.bind(r,748511))];case 1:return[2,new(0,yt.sent().MultiRowCard)(void 0)]}})})},getSortableRoles:ne,getNarrativeSummaryBindings:Ne},clusteredBarChart:{name:c.D.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,p.V)("ClusteredBarChart_ToolTip"),capabilities:pr.D.clusteredBarChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:6,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},clusteredColumnChart:{name:c.D.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,p.V)("ClusteredColumnChart_ToolTip"),capabilities:pr.D.clusteredColumnChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:4,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},columnChart:{name:c.D.columnChart,watermarkKey:"column",titleKey:(0,p.V)("ColumnChart_ToolTip"),capabilities:pr.D.columnChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:5,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},donutChart:{name:c.D.donutChart,watermarkKey:"donut",titleKey:(0,p.V)("DonutChart_ToolTip"),capabilities:pr.D.donutChart,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("donutChart").then(r.bind(r,900172))];case 1:return[2,new(0,yt.sent().DonutChart)(void 0)]}})})},getNarrativeSummaryBindings:De},funnel:{name:c.D.funnel,watermarkKey:"funnel",titleKey:(0,p.V)("Funnel_ToolTip"),capabilities:pr.D.funnel,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("funnelChart").then(r.bind(r,819239))];case 1:return[2,new(0,yt.sent().FunnelChart)(void 0)]}})})}},gauge:{name:c.D.gauge,watermarkKey:"gauge",titleKey:(0,p.V)("Gauge_ToolTip"),capabilities:pr.D.gauge,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("gauge").then(r.bind(r,80168))];case 1:return[2,new(0,yt.sent().Gauge)(void 0,void 0)]}})})},getNarrativeSummaryBindings:We},hundredPercentStackedBarChart:{name:c.D.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,p.V)("HundredPercentStackedBarChart_ToolTip"),capabilities:pr.D.hundredPercentStackedBarChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:8,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},hundredPercentStackedColumnChart:{name:c.D.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,p.V)("HundredPercentStackedColumnChart_ToolTip"),capabilities:pr.D.hundredPercentStackedColumnChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:9,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},image:{name:c.D.image,titleKey:(0,p.V)("Image"),capabilities:pr.D.image,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("imageVisual").then(r.bind(r,508116))];case 1:return[2,new(0,yt.sent().ImageVisual)]}})})}},lineChart:{name:c.D.lineChart,watermarkKey:"line",titleKey:(0,p.V)("LineChart_ToolTip"),capabilities:pr.D.lineChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:0,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:qe,getSortableRoles:k,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P,getDataDrivenAlertCapabilities:re},lineStackedColumnComboChart:{name:c.D.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,p.V)("LineStackedColumnComboChart_ToolTip"),capabilities:pr.D.lineStackedColumnComboChart,customizeQuery:O,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:14,featureSwitches:ut.featureSwitches})]}})})},getSortableRoles:z,getAdditionalTelemetry:D,getNarrativeSummaryBindings:G},lineClusteredColumnComboChart:{name:c.D.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,p.V)("LineClusteredColumnComboChart_ToolTip"),capabilities:pr.D.lineClusteredColumnComboChart,customizeQuery:O,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:13,featureSwitches:ut.featureSwitches})]}})})},getSortableRoles:z,getAdditionalTelemetry:D,getNarrativeSummaryBindings:G},map:{name:c.D.map,watermarkKey:"map",titleKey:(0,p.V)("Map_ToolTip"),capabilities:pr.D.map,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return[2,new(0,yt.sent().Map)({filledMap:!1})]}})})},customizeQuery:he.Wj,getNarrativeSummaryBindings:he.N6},filledMap:{name:c.D.filledMap,watermarkKey:"filledMap",titleKey:(0,p.V)("FilledMap_ToolTip"),capabilities:pr.D.filledMap,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return[2,new(0,yt.sent().Map)({filledMap:!0})]}})})}},azureMap:{name:c.D.azureMap,watermarkKey:"azureMap",titleKey:(0,p.V)("AzureMap_ToolTip"),capabilities:pr.D.azureMap,module:{css:["azureMapVisuals"]},create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("azureMap").then(r.bind(r,720748))];case 1:return[2,new(0,yt.sent().AzureMap)(void 0)]}})})},getCustomizeConvertTo:function(ut,yt,Ft){return function(Et,Ct){if(Ct.azureMapsConversion){if("map"===Et)return function(){var Et,Ct,Nt,st,lt;return{skipRoleMapping:!0,objects:(Et={},Et[e.Do.mapControls]=(Ct={},Ct[e.DQ.defaultStyle]={transformArgs:[{identifier:n.jM.mapStyles.mapTheme}],transform:function(yt){if(!yt||!(0,m.VC)(yt))return(0,V.fL)(l(v.AB));var Ft=l(yt.value);return(0,V.fL)(Ft)}},Ct[e.DQ.showLabels]={transformArgs:[{identifier:n.jM.mapStyles.showLabels}]},Ct[e.DQ.autoZoom]={transformArgs:[{identifier:n.jM.mapControls.autoZoom}]},Ct[e.DQ.zoom]={transformArgs:[{identifier:n.jM.mapControls.zoomLevel}],transform:function(yt){if(yt&&(0,m.VC)(yt)){var Lt=d(yt.value);return(0,V.cA)(Lt)}}},Ct[e.DQ.centerLatitude]={transformArgs:[{identifier:n.jM.mapControls.centerLatitude}]},Ct[e.DQ.centerLongitude]={transformArgs:[{identifier:n.jM.mapControls.centerLongitude}]},Ct[e.DQ.showStylePicker]={transform:function(){return(0,V.O7)(!1)}},Ct[e.DQ.showNavigationControls]={transformArgs:[{identifier:n.jM.mapControls.showZoomButtons}],transform:function(yt){return yt||(0,V.O7)(!1)}},Ct[e.DQ.showSelectionControl]={transformArgs:[{identifier:n.jM.mapControls.showLassoButton}],transform:function(yt){return yt||(0,V.O7)(!1)}},Ct),Et.dataPoint={showAllDataPoints:{transformArgs:[{identifier:n.jM.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:n.jM.dataPoint.fill}]}},Et[e.Do.bubbleLayer]=(Nt={},Nt[e.DQ.show]={transformArgs:[{identifier:n.jM.heatMap.show}],transform:function(yt){return yt&&(0,m.VC)(yt)&&yt.value?(0,V.O7)(!1):(0,V.O7)(!0)}},Nt[e.DQ.bubbleRadius]={transformArgs:[{identifier:n.jM.bubbles.bubbleSize}],transform:function(yt){(!yt||!(0,m.VC)(yt))&&(yt=(0,V.cA)(1));var kt=b(yt.value,[-30,100],[.6,24]);return(0,V.cA)(Math.round(kt))}},Nt[e.DQ.minBubbleRadius]={transformArgs:[{identifier:n.jM.bubbles.bubbleSize}],transform:function(yt){(!yt||!(0,m.VC)(yt))&&(yt=(0,V.cA)(1));var Ft=[-30,50],Gt=b(_.clamp(yt.value,Ft[0],Ft[1]),Ft,[.6,15]);return(0,V.cA)(Math.round(Gt))}},Nt[e.DQ.maxRadius]={transformArgs:[{identifier:n.jM.bubbles.bubbleSize}],transform:function(yt){(!yt||!(0,m.VC)(yt))&&(yt=(0,V.cA)(1));var Ft=[-30,50],Gt=b(_.clamp(yt.value,Ft[0],Ft[1]),Ft,[2,50]);return(0,V.cA)(Math.round(Gt))}},Nt[e.DQ.markerRangeType]={transformArgs:[{identifier:n.jM.bubbles.markerRangeType}],transform:function(yt){if(yt&&(0,m.VC)(yt)&&yt.value)return(0,V.fL)(yt.value)}},Nt[e.DQ.bubbleStrokeWidth]={transform:function(){return(0,V.cA)(1)}},Nt[e.DQ.autoStrokeColor]={transform:function(){return(0,V.O7)(!0)}},Nt[e.DQ.layerPosition]={transform:function(){return(0,V.fL)("")}},Nt),Et[e.Do.categoryLabels]=(st={},st[e.DQ.show]={transformArgs:[{identifier:n.jM.categoryLabels.show},{identifier:n.jM.heatMap.show}],transform:function(yt,Ft){return Ft&&(0,m.VC)(Ft)&&Ft.value?(0,V.O7)(!1):yt}},st.color={transformArgs:[{identifier:n.jM.categoryLabels.color}]},st.fontFamily={transformArgs:[{identifier:n.jM.categoryLabels.fontFamily}]},st.fontSize={transformArgs:[{identifier:n.jM.categoryLabels.fontSize}]},st.bold={transformArgs:[{identifier:n.jM.categoryLabels.bold}]},st.italic={transformArgs:[{identifier:n.jM.categoryLabels.italic}]},st.underline={transformArgs:[{identifier:n.jM.categoryLabels.underline}]},st.enableBackground={transformArgs:[{identifier:n.jM.categoryLabels.enableBackground}]},st.backgroundColor={transformArgs:[{identifier:n.jM.categoryLabels.backgroundColor}]},st.backgroundTransparency={transformArgs:[{identifier:n.jM.categoryLabels.backgroundTransparency}]},st),Et[e.Do.heatMapLayer]=(lt={},lt[e.DQ.show]={transformArgs:[{identifier:n.jM.heatMap.show}]},lt[e.DQ.heatMapRadius]={transformArgs:[{identifier:n.jM.heatMap.filterRadius}]},lt[e.DQ.heatMapRadiusUnit]={transformArgs:[{identifier:n.jM.heatMap.unit}]},lt[e.DQ.mapTransparency]={transformArgs:[{identifier:n.jM.heatMap.transparency}]},lt[e.DQ.heatMapColorLow]={transformArgs:[{identifier:n.jM.heatMap.color0}]},lt[e.DQ.heatMapColorCenter]={transformArgs:[{identifier:n.jM.heatMap.color50}]},lt[e.DQ.heatMapColorHigh]={transformArgs:[{identifier:n.jM.heatMap.color100}]},lt),Et)}}();if("filledMap"===Et)return function(){var Et,Ct,Nt,st,lt;return{skipRoleMapping:!0,objects:(Et={dataPoint:{showAllDataPoints:{transformArgs:[{identifier:h.Vh.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:h.Vh.dataPoint.fill}]}}},Et[e.Do.mapControls]=(Ct={},Ct[e.DQ.defaultStyle]={transformArgs:[{identifier:n.jM.mapStyles.mapTheme}],transform:function(yt){if(!yt||!(0,m.VC)(yt))return(0,V.fL)(l(v.AB));var Ft=l(yt.value);return(0,V.fL)(Ft)}},Ct[e.DQ.showLabels]={transformArgs:[{identifier:n.jM.mapStyles.showLabels}]},Ct[e.DQ.autoZoom]={transformArgs:[{identifier:h.Vh.mapControls.autoZoom}]},Ct[e.DQ.zoom]={transformArgs:[{identifier:h.Vh.mapControls.zoomLevel}],transform:function(yt){if(yt&&(0,m.VC)(yt)){var Lt=d(yt.value);return(0,V.cA)(Lt)}}},Ct[e.DQ.centerLatitude]={transformArgs:[{identifier:h.Vh.mapControls.centerLatitude}]},Ct[e.DQ.centerLongitude]={transformArgs:[{identifier:h.Vh.mapControls.centerLongitude}]},Ct[e.DQ.showStylePicker]={transform:function(){return(0,V.O7)(!1)}},Ct[e.DQ.showNavigationControls]={transformArgs:[{identifier:h.Vh.mapControls.showZoomButtons}],transform:function(yt){return yt||(0,V.O7)(!1)}},Ct[e.DQ.showSelectionControl]={transformArgs:[{identifier:h.Vh.mapControls.showLassoButton}],transform:function(yt){return yt||(0,V.O7)(!1)}},Ct),Et[e.Do.categoryLabels]=(Nt={},Nt[e.DQ.show]={transform:function(){return(0,V.O7)(!1)}},Nt),Et[e.Do.bubbleLayer]=(st={},st[e.DQ.show]={transform:function(){return(0,V.O7)(!1)}},st),Et[e.Do.filledMap]=(lt={},lt[e.DQ.show]={transform:function(){return(0,V.O7)(!0)}},lt[e.DQ.defaultColor]={transformArgs:[{identifier:h.Vh.dataPoint.defaultColor}]},lt[e.DQ.mapTransparency]={transform:function(){return(0,V.cA)(40)}},lt),Et)}}()}}(ut,Ft)}},ribbonChart:{name:c.D.ribbonChart,watermarkKey:"ribbon",titleKey:(0,p.V)("RibbonChart_ToolTip"),capabilities:pr.D.ribbonChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:10,featureSwitches:ut.featureSwitches})]}})})},stampHardcodedDefaultObjects:ht,customizeQuery:B,getSortableRoles:A,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},shapeMap:{name:c.D.shapeMap,watermarkKey:"shapeMap",titleKey:(0,p.V)("ShapeMap_ToolTip"),capabilities:pr.D.shapeMap,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("shapeMap").then(r.bind(r,693363))];case 1:return[2,new(0,yt.sent().ShapeMap)(void 0)]}})})}},treemap:{name:c.D.treemap,watermarkKey:"tree",titleKey:(0,p.V)("Treemap_ToolTip"),capabilities:pr.D.treemap,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("treemap").then(r.bind(r,80062))];case 1:return[2,new(0,yt.sent().Treemap)(void 0)]}})})}},pieChart:{name:c.D.pieChart,watermarkKey:"pie",titleKey:(0,p.V)("PieChart_ToolTip"),capabilities:pr.D.pieChart,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("donutChart").then(r.bind(r,900172))];case 1:return[2,new(0,yt.sent().DonutChart)({sliceWidthRatio:0})]}})})},getNarrativeSummaryBindings:De},realTimeLineChart:{name:c.D.realTimeLineChart,watermarkKey:"line",titleKey:(0,p.V)("LineChart_ToolTip"),capabilities:pr.D.realTimeLineChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:15,featureSwitches:ut.featureSwitches})]}})})},getAdditionalTelemetry:D},scatterChart:{name:c.D.scatterChart,watermarkKey:"scatterplot",titleKey:(0,p.V)("ScatterChart_ToolTip"),capabilities:pr.D.scatterChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:11,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:Me,getSortableRoles:He,getAdditionalTelemetry:Mt,getNarrativeSummaryBindings:It},stackedAreaChart:{name:c.D.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,p.V)("StackedAreaChart_ToolTip"),capabilities:pr.D.stackedAreaChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:2,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:qe,getSortableRoles:k,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},hundredPercentStackedAreaChart:{name:c.D.hundredPercentStackedAreaChart,watermarkKey:"stacked100area",titleKey:(0,p.V)("HundredPercentStackedAreaChart_ToolTip"),capabilities:pr.D.stackedAreaChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:3,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:qe,getSortableRoles:k,getAdditionalTelemetry:D,getNarrativeSummaryBindings:P},table:{name:c.D.table,watermarkKey:"table",titleKey:(0,p.V)("Table_ToolTip"),titleInSentenceKey:(0,p.V)("Table_Visual_InSentenceCase"),capabilities:pr.D.table,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("table").then(r.bind(r,180939))];case 1:return[2,new(0,yt.sent().Table)]}})})},customizeQuery:Pr,getSortableRoles:mt},matrix:{name:c.D.matrix,watermarkKey:"matrix",titleKey:(0,p.V)("Matrix_ToolTip"),titleInSentenceKey:(0,p.V)("Matrix_Visual_InSentenceCase"),capabilities:pr.D.matrix,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("matrix").then(r.bind(r,50039))];case 1:return[2,new(0,yt.sent().Matrix)]}})})},customizeQuery:Oe,getSortableRoles:Je},tableEx:{name:c.D.tableEx,watermarkKey:"table",titleKey:(0,p.V)("Table_ToolTip"),titleInSentenceKey:(0,p.V)("Table_Visual_InSentenceCase"),capabilities:(0,Rt.k)(),create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("tableEx").then(r.bind(r,453890))];case 1:return[2,new(0,yt.sent().TableEx)(void 0,void 0)]}})})},customizeQuery:Xt,getSortableRoles:dr,module:{css:["pivotTableVisuals"]}},pivotTable:{name:c.D.pivotTable,watermarkKey:"matrix",titleKey:(0,p.V)("Matrix_ToolTip"),titleInSentenceKey:(0,p.V)("Matrix_Visual_InSentenceCase"),capabilities:pr.D.pivotTableCapabilities,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("pivotTable").then(r.bind(r,911025))];case 1:return[2,new(0,yt.sent().PivotTable)(void 0,void 0)]}})})},customizeQuery:xe,getSortableRoles:at,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:c.D.accessibleTable,watermarkKey:"matrix",capabilities:pr.D.accessibleTable,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("accessibleTable").then(r.bind(r,528621))];case 1:return[2,new(0,yt.sent().AccessibleTable)]}})})},module:{css:["accessibleTableVisual"]}},slicer:{name:c.D.slicer,watermarkKey:"slicer",titleKey:(0,p.V)("Slicer_ToolTip"),capabilities:pr.D.slicer,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("slicer").then(r.bind(r,817174))];case 1:return[2,new(0,yt.sent().Slicer)(void 0)]}})})},customizeQuery:_r.Wj,getSortableRoles:_r.ot,shouldIgnoreCrossFilter:_r.vu,mergeObjects:_r.PM,customizeVisualAuthoringOperations:_r.pQ},advancedSlicerVisual:{name:c.D.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,p.V)("ButtonSlicer_Tooltip"),capabilities:pr.D.advancedSlicer,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("advancedSlicer").then(r.bind(r,361157))];case 1:return[2,(0,yt.sent().createAdvancedSlicer)(void 0)]}})})},getSortableRoles:Ur,module:{css:["advancedSlicerVisual"]}},pageNavigator:{name:c.D.pageNavigator,titleKey:(0,p.V)("Visual_PageNavigator"),capabilities:pr.D.pageNavigator,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("navigator").then(r.bind(r,146078))];case 1:return[2,(0,yt.sent().createNavigator)({navigatorType:"page"})]}})})}},bookmarkNavigator:{name:c.D.bookmarkNavigator,titleKey:(0,p.V)("Visual_BookmarkNavigator"),capabilities:pr.D.bookmarkNavigator,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("navigator").then(r.bind(r,146078))];case 1:return[2,(0,yt.sent().createNavigator)({navigatorType:"bookmark"})]}})})}},filterSlicer:{name:c.D.filterSlicer,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("slicer").then(r.bind(r,817174))];case 1:return[2,new(0,yt.sent().Slicer)(void 0)]}})})},capabilities:pr.D.slicer,customizeQuery:_r.Wj,getSortableRoles:_r.ot,shouldIgnoreCrossFilter:_r.vu,mergeObjects:_r.PM,customizeVisualAuthoringOperations:_r.pQ},textbox:{name:c.D.textbox,titleKey:(0,p.V)("Textbox"),capabilities:pr.D.textbox,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("textbox").then(r.bind(r,772849))];case 1:return[2,new(0,yt.sent().Textbox)(void 0)]}})})},supportsSummarization:!0,summarizationMessage:(0,p.V)("SmartNarratives_InitializationMessage")},aiNarratives:{name:c.D.aiNarratives,titleKey:(0,p.V)("Narrative"),capabilities:pr.D.aiNarratives,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("aiNarratives").then(r.bind(r,722734))];case 1:return[2,new(0,yt.sent().AINarratives)]}})})},module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:function(ut){return function(Et){var Ct,Nt;if("textbox"===Et)return{objects:(Ct={},Ct[Ir.w$.narrativeSelection.dismissSelectionScreen.objectName]=(Nt={},Nt[Ir.w$.narrativeSelection.dismissSelectionScreen.propertyName]={transform:function(){return(0,V.O7)(!0)}},Nt),Ct)}}(ut)}},waterfallChart:{name:c.D.waterfallChart,watermarkKey:"waterfall",titleKey:(0,p.V)("WaterfallChart_ToolTip"),capabilities:pr.D.waterfallChart,create:hr,createES6:function(ut){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:12,featureSwitches:ut.featureSwitches})]}})})},customizeQuery:gr,getSortableRoles:Cr,getAdditionalTelemetry:D},scriptVisual:{name:c.D.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,p.V)("ScriptVisual_ToolTip"),capabilities:pr.D.scriptVisual,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("scriptVisual").then(r.bind(r,378791))];case 1:return[2,new(0,yt.sent().ScriptVisual)]}})})}},pythonVisual:{name:c.D.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,p.V)("PythonVisual_ToolTip"),capabilities:pr.D.pythonVisual,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("scriptVisual").then(r.bind(r,378791))];case 1:return[2,new(0,yt.sent().ScriptVisual)]}})})}},kpi:{name:c.D.kpi,watermarkKey:"kpi",titleKey:(0,p.V)("kpi_Tooltip"),capabilities:pr.D.kpi,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("kpiStatusWithHistory").then(r.bind(r,966035))];case 1:return[2,new(0,yt.sent().KPIStatusWithHistory)(void 0)]}})})},stampHardcodedDefaultObjects:ie,getNarrativeSummaryBindings:me},keyDriversVisual:{name:c.D.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,p.V)("KeyDriver_Tooltip"),capabilities:pr.D.keyDrivers,create:function(ut){return ut.module.createAnalysisVisual()},getAnalysisVisualNarrativeSummaryConfiguration:je},decompositionTreeVisual:{name:c.D.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,p.V)("DecompositionTree_Tooltip"),capabilities:pr.D.decompositionTree,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("decompositionTree").then(r.bind(r,231966))];case 1:return[2,new(0,yt.sent().DecompositionTree)]}})})},customizeQuery:se},qnaVisual:{name:c.D.qnaVisual,capabilities:pr.D.qnaVisual,create:function(ut){return ut.module.createQnaVisual()},titleKey:(0,p.V)("Generic_Qna")},scorecard:{name:c.D.scorecard,watermarkKey:"scorecard",titleKey:(0,p.V)("Scorecard_Visual_Tooltip"),capabilities:pr.D.scorecard,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("scorecard").then(r.bind(r,585358))];case 1:return[2,new(0,yt.sent().Scorecard)]}})})},module:{css:["scorecardVisual"]}},rdlVisual:{name:c.D.rdlVisual,titleKey:(0,p.V)("RdlVisual_ToolTip"),capabilities:pr.D.rdlVisual,create:hr,createES6:function(){return(0,t.__awaiter)(Ct,void 0,void 0,function(){return(0,t.__generator)(this,function(yt){switch(yt.label){case 0:return[4,r.e("rdlVisual").then(r.bind(r,139894))];case 1:return[2,new(0,yt.sent().RdlVisual)]}})})},module:{css:["rdlVisual"]},customizeQuery:ft},dataQueryVisual:{name:c.D.dataQueryVisual,capabilities:pr.D.dataQueryVisual,create:function(){s.fF.assertFail("This visual should not be created")},customizeQuery:de}},Et[Br.name]=Br,Et);for(var st in Nt)i.N[st]=Nt[st];return Rr=!0,i.N}()},437189:function(ze,K,r){r.d(K,{D:function(){return de}});var t=r(145315),c=r(734287),i=r(778549),s=r(174665),p={dataRoles:[{name:s.r.rows,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Rows"),description:(0,c.V)("Role_DisplayName_RowsDescription")},{name:s.r.columns,kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Columns"),description:(0,c.V)("Role_DisplayName_ColumnsDescription")},{name:s.r.values,kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:i.iD.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:s.r.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:s.r.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:s.r.values}}}}]},V=r(914285),m=r(223834),e={objects:{general:{properties:{formatString:i.iD.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},h=r(663406),n=r(875194),o=r(632799),u=r(259291),a=r(980762),l=r(37584),d=r(108333),b=r(542277),f=r(464925),g=r(719661),S=r(525963),y=r(635491),C=r(381433),E=r(289166),D=r(935270),P=r(424420),M=r(939523),T=r(551493),R=r(790960),B=r(451434),N=r(674430),A=r(886883),I=r(944854),w=r(226514),F={dataRoles:[{name:"Category",kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Axis"),description:(0,c.V)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:t.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:t.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Values"),description:(0,c.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:i.iD.formatString,responsive:i.iD.responsive,responsiveLegacy:i.iD.responsiveLegacy}},legend:{displayName:(0,c.V)("Visual_Legend"),description:(0,c.V)("Visual_LegendDescription"),properties:{show:i.iD.show,position:i.iD.legendPosition,showTitle:i.iD.showLegendTitle,titleText:(0,w.__assign)((0,w.__assign)({},i.iD.legendTitle),{suppressFormatPainterCopy:!0}),labelColor:i.iD.labelColor,fontSize:i.iD.fontSize}},categoryAxis:{displayName:(0,c.V)("Visual_XAxis"),properties:{show:i.iD.show,axisType:i.iD.axisType,showAxisTitle:i.iD.showAxisTitle_X,axisStyle:i.iD.axisStyle,labelColor:i.iD.labelColor,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,c.V)("Visual_YAxis"),properties:{show:i.iD.show,showAxisTitle:i.iD.showAxisTitle_Y,axisStyle:i.iD.axisStyle,labelColor:i.iD.labelColor,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision}},dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{defaultColor:i.iD.defaultColor,fill:i.iD.fill}},plotArea:{displayName:(0,c.V)("Visual_Plot"),properties:{transparency:i.iD.transparency,image:i.iD.image}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}},O=r(36629),L=r(465829),W={dataRoles:[{name:"Values",kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},U=r(943069),j=r(292638),z=r(761565),G=r(173761),te=r(36623),Q=r(826335),H=r(103819),de={actionButton:(0,V.mx)(),aiNarratives:(0,m.Tf)(),animatedNumber:e,areaChart:(0,M.yg)(!1,!0),barChart:(0,l.nn)(!0,!0),basicShape:n.T,advancedSlicer:o.u9,shape:U.Ic,card:u.C,cardVisual:a.LS,multiRowCard:R._i,clusteredBarChart:(0,l.nn)(!0),clusteredColumnChart:(0,l.nn)(),columnChart:(0,l.nn)(!1,!0),donutChart:(0,g.cw)(),funnel:(0,y.qW)(),gauge:C.J1,hundredPercentStackedBarChart:(0,l.nn)(!0,!0),hundredPercentStackedColumnChart:(0,l.nn)(!1,!0),ribbonChart:(0,l.nn)(!1,!0,!0),image:E.Jz,lineChart:(0,M.yg)(!1,!1),stackedAreaChart:(0,M.yg)(!0,!0),lineStackedColumnComboChart:(0,d.p5)(!0),lineClusteredColumnComboChart:(0,d.p5)(!1),map:(0,T.NC)(),filledMap:(0,S.XN)(),azureMap:(0,h.$E)(),shapeMap:(0,j.x)(),treemap:(0,Q.cB)(),pieChart:(0,g.cw)(),scatterChart:(0,O.r4)(),table:(0,G.Y)(),matrix:s.d,slicer:(0,z.st)(),pageNavigator:B.QP,bookmarkNavigator:B.j0,textbox:te.dd,waterfallChart:(0,H.GJ)(),heatMap:(0,T.NC)(),scriptVisual:W,pythonVisual:{dataRoles:[{name:"Values",kind:t.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,P.pW)(),realTimeLineChart:F,accessibleTable:p,pivotTableCapabilities:(0,N.R)(),keyDrivers:(0,D.yM)(),decompositionTree:(0,f.Sd)(),qnaVisual:A.OF,dataQueryVisual:b.YE,scorecard:L.b,rdlVisual:I.Cg}},832867:function(ze,K,r){function t(s,p){i[s]=p}r.d(K,{G:function(){return t},N:function(){return i}});var s,i=(s={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?s=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=s,s)},829062:function(ze,K,r){r.d(K,{Q:function(){return h},o:function(){return n}});var t=r(787941),c=r(121157),i=r(185664),s=r(448711),p=r(35259),V=r(967908),m=r(1010),v={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},e={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"},h=function(){function o(){this.instanceId=void 0}return o.initialize=function(){(0,s.X0)(o.createLocaleOptions()),m.I6.localizationOptions=o.createTooltipLocaleOptions(),(0,V.iZ)(o.createDataViewTransformLocalizationOptions())},o.createLocaleOptions=function(){return{null:e.NullValue,true:e.BooleanTrue,false:e.BooleanFalse,NaN:e.NaNValue,infinity:e.InfinityValue,negativeInfinity:e.NegativeInfinityValue,beautify:function(a){return o.beautify(a)},describe:function(a){return o.describeUnit(a)},restatementComma:e.Restatement_Comma,restatementCompoundAnd:e.Restatement_CompoundAnd,restatementCompoundOr:e.Restatement_CompoundOr}},o.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:e.Tooltip_HighlightedValueDisplayName}},o.createDataViewTransformLocalizationOptions=function(){return{quarterPrefix:e.Visual_Quarter_Abbreviated}},o.prototype.getLocalizedString=function(u){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return e[u]},o.prototype.alertScreenReader=function(u){},o.prototype.alertWithDebounce=function(u,a){},o.prototype.requestFocus=function(){},o.prototype.onDragStart=function(){},o.prototype.getVisualLinkProperties=function(){},o.prototype.canSelect=function(){return!1},o.prototype.onSelecting=function(u){u.action=0},o.prototype.onSelect=function(){},o.prototype.onSwitchFocusModeState=function(){},o.prototype.canExpandCollapse=function(u){return!1},o.prototype.setNodeExpansionState=function(u){},o.prototype.setLevelExpansionState=function(u){},o.prototype.setCanDrill=function(u){},o.prototype.onContextMenu=function(){},o.prototype.loadMoreData=function(){},o.prototype.loadWindow=function(u){},o.prototype.setShouldDeferData=function(){},o.prototype.fetchMoreData=function(u){return!0},o.prototype.persistProperties=function(u){},o.prototype.onCustomSort=function(u){},o.prototype.getViewMode=function(){return 0},o.prototype.getEditMode=function(){return 0},o.prototype.setWarnings=function(u){},o.prototype.getWarnings$=function(){},o.prototype.setToolbar=function(u){},o.prototype.shouldRetainSelection=function(){return!1},o.prototype.geocoder=function(){return(0,p.Wy)()},o.prototype.geolocation=function(){t.fF.assertFail("Not being called anywhere")},o.prototype.promiseFactory=function(){return(0,c.p)()},o.prototype.visualCapabilitiesChanged=function(){},o.prototype.ignoreDefaultFilter=function(){},o.prototype.getIdentityDisplayNames=function(u){},o.prototype.setIdentityDisplayNames=function(u){},o.prototype.drill=function(u){},o.prototype.setFilterExpressionMetadata=function(u){},o.prototype.getFilterExpressionMetadata=function(){},o.prototype.dropdown=function(){},o.prototype.tooltips=function(){},o.prototype.telemetry=function(){},o.prototype.authenticationService=function(){},o.prototype.localStorageService=function(){},o.prototype.acquireAADTokenService=function(){},o.prototype.eventService=function(){},o.prototype.licenseManagerService=function(){},o.prototype.decompositionService=function(){},o.prototype.locale=function(){return navigator.language},o.prototype.allowInteractions=function(){return!0},o.prototype.loader=function(){return(0,i.hQ)(this.promiseFactory(),void 0,null)},o.prototype.getUIComponentFactory=function(){return null},o.prototype.applyJsonFilter=function(u,a,l,d){return!0},o.prototype.applyIdentityFilter=function(u,a,l,d){return!0},o.prototype.launchUrl=function(u){},o.prototype.refreshHostData=function(){},o.prototype.sendSelectionIdsToHost=function(u){},o.prototype.getJSONFilter=function(u,a){return this.promiseFactory().reject()},o.prototype.onHyperlinkClick=function(u,a){},o.prototype.visualTimeSynchronization=function(){},o.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},o.prototype.dataMultiSelectMode=function(){return 0},o.prototype.networkAvailability=function(){},o.prototype.downloadService=function(){},o.prototype.setAriaMetadata=function(u){},o.prototype.artifactService=function(){},o.prototype.getSectionsMetadata$=function(){},o.prototype.getBookmarksMetadata$=function(){},o.prototype.onNotifyLicense=function(u){},o.prototype.onClearLicenseNotification=function(){},o.prototype.onNotifyFeatureBlocked=function(u){},o.prototype.getSubSelectionService=function(){},o.prototype.webAccessService=function(){},o.prototype.getAzureMapToken=function(){},o.prototype.azureMapsEndpoint=function(){},o.prototype.geocoderIndexedDB=function(){},o.prototype.triggerUpdate=function(){},o.prototype.isScreenshotWorkload=function(){return!1},o.prototype.localStorageV2Service=function(){},o.prototype.aiNarrativesService=function(){},o.prototype.dateTimeFormatService=function(){},o.prototype.visualExportService=function(){},o.prototype.visualHostSubSelectionService=function(){},o.beautify=function(u){var a=v[u];return a?((0,s.J6)(a),e[a]||u):u},o.describeUnit=function(u){var a=-1===u?"Auto":u.toString(),l=e["DisplayUnitSystem_E"+a+"_Title"],d=u<=0?"{0}":e["DisplayUnitSystem_E"+a+"_LabelFormat"];if(l||d)return{title:l,format:d}},o}(),n=new h},23807:function(ze,K,r){r.d(K,{ag:function(){return P},rO:function(){return y},Ei:function(){return D},cq:function(){return E},xm:function(){return S}});var m,h,t=r(226514),c=r(787941),i=r(565146),s=r(696428),p=r(320380),V=r(898136);function e(M){return m||((m={})[p.yV.Continent.toLowerCase()]=V.fk.Continent,m[p.yV.CountryRegion.toLowerCase()]=V.fk.Sovereign,m[p.yV.StateOrProvince.toLowerCase()]=V.fk.AdminDivision1,m[p.yV.County.toLowerCase()]=V.fk.AdminDivision2,m[p.yV.City.toLowerCase()]=V.fk.PopulatedPlace,m[p.yV.PostalCode.toLowerCase()]=V.fk.Postcode,m[p.yV.Address.toLowerCase()]=V.fk.Address),M&&m[M.toLowerCase()]||""}function o(M){return h||((h={})[p.yV.CountryRegion.toLowerCase()]=V.fk.CountryRegion,h[p.yV.StateOrProvince.toLowerCase()]=V.fk.AdminDivision1,h[p.yV.County.toLowerCase()]=V.fk.AdminDivision2,h[p.yV.City.toLowerCase()]=V.fk.PopulatedPlace,h[p.yV.PostalCode.toLowerCase()]=V.fk.Postcode1),M&&h[M.toLowerCase()]||""}var a,u=r(703649),l=((a={})[V.yL]="G",a[V.a_]="S",a[V.Tu]="AG",a[V.S3]="AS",a),d={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},b={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},f={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},g=function(){function M(T,R,B,N){this.location=T,R&&(B&&N&&(R=this.removeRegion(R)),this.key=((R=l[R]||R)+";"+_.map(this.location.components,function(x){return(x.query||"")+"/"+(x.category||"")}).join("&")).toLowerCase(),T.culture&&(this.key+="&c=".concat(T.culture)))}return M.prototype.removeRegion=function(T){return c.fF.assert(function(){return!!T&&T.indexOf("atlas.microsoft.com")>0},"should be a valid azure maps url, but received ".concat(T)),T.slice(0,8)+T.slice(T.indexOf("atlas.microsoft.com"))},M.prototype.getKey=function(){return this.key},M.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}},M}(),S=function(M){function T(R,B,N){var x=M.call(this,B,R)||this;return x.credentials=N,x}return(0,t.__extends)(T,M),T.prototype.getCulture=function(){return this.location.culture},T.prototype.getBingEntity=function(){return e(_.last(this.location.components).category)},T.prototype.validate=function(){return null!=this.getEntity()},T.prototype.getEntity=function(){var R=this.getGeocodingParameters();if(_.some(R,function(L){return!L.key})){var B=_.chain(R).map(function(L){return L.value}).filter(function(L){return L}).reverse().value().join(", ");return B?{Query:B}:void 0}for(var N={Address:{}},x=N.Address,A=0,I=R;A<I.length;A++){var w=I[A],F=w.value;if(!F||!(F=F.trim()))return;var O=w.key;"adminDistrict"===O&&x.AdminDistrict?x.AdminDistrict=w.value+", "+x.AdminDistrict:x[V.$o[O]]=w.value}return N},T.prototype.getUrl=function(R){var B={key:this.credentials||p.Zr.BingKey},N=this.getEntity();if(N){var x=N.Address;if(x)for(var A in x)B[V.H6[A]]=x[A];else B.q=N.Query;var I=this.location.culture||(0,u.$F)();return I&&(B.c=I),B.maxRes="10",(0,i.fS)(R,B,!0)}},T.prototype.getGeocodingParameters=function(){var R=this.location.components;return R.length>=2&&R[0].category===p.yV.Continent&&R[1].category===p.yV.CountryRegion&&(R=_.tail(R)),_.map(R,function(N){var x=e(N.category),A="";x in d&&(A=d[x]);var I=N.query;return x===V.fk.Sovereign&&I&&(I=T.Iso3166Substitutions[I]||I),{key:A,value:I}})},T.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(R){return!R.key})},T.prototype.getResult=function(R){var B=this,N=this.isGeneralQuery(),x=C(R,function(w){return B.locationQuality(w,N)});if(x){var A=x.point.coordinates;return{coordinates:{latitude:A&&A[0],longitude:A&&A[1],entityType:x.entityType}}}return{error:new Error("Geocode result is empty.")}},T.prototype.shouldDoFullGeocoding=function(R){var B=R&&R.resourceSets&&R.resourceSets[0]&&R.resourceSets[0].resources&&R.resourceSets[0].resources[0];if(!B||(0,u.SN)(B.matchCodes))return!1;var N=this.getBingEntity().toLowerCase(),x=B.entityType&&B.entityType.toLowerCase();return"admindivision1"===N&&"admindivision2"===x||"admindivision2"===N&&"admindivision1"===x},T.prototype.extractSingleResult=function(R,B){return R&&R.resourceSets&&R.resourceSets.length>B?{resourceSets:[R.resourceSets[B]]}:void 0},T.prototype.locationQuality=function(R,B){if(!B&&R.matchCodes&&!(0,u.X5)(R.matchCodes))return-1;var N=0;if(1===this.location.components.length&&this.location.components[0].category===p.yV.CountryRegion){var x=R.address&&R.address.countryRegionIso2;if(x){var A=this.location.components[0].query.toLowerCase();2===A.length&&A===x.toLowerCase()&&(N+=2)}}return R.entityType&&R.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(N+=1),N},T.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},T}(g),y=function(M){function T(R,B,N,x,A,I,w){void 0===w&&(w="subscriptionKey");var F=M.call(this,B,R,N,x)||this;return F.apiVersion=A,F.credentials=I,F.credentialType=w,c.fF.assert(function(){return"subscriptionKey"===w||!!I},"credentials must be provided when using Azure Maps SAS Token"),F}return(0,t.__extends)(T,M),T.prototype.getCulture=function(){return this.location.culture},T.prototype.validate=function(){return null!=this.getEntity()},T.prototype.getEntity=function(){var R=this.getGeocodingParameters();if(_.some(R,function(O){return!O.key})){var B=_.chain(R).map(function(O){return O.value}).filter(function(O){return O}).reverse().value().join(", ");return B?{query:B}:void 0}for(var N={},x=0,A=R;x<A.length;x++){var I=A[x],w=I.value;if(!w||!(w=w.trim()))return;var F=I.key;"adminDistrict"===F&&N.adminDistrict?N.adminDistrict=I.value+", "+N.adminDistrict:N[F]=I.value}return N},T.prototype.getUrl=function(R){var B={},N=this.getEntity();if(!_.isEmpty(N)){for(var x in N)B[x]=N[x];return B.top="10",B["api-version"]=this.apiVersion,(0,i.fS)(R,B,!0)}},T.prototype.getGeocodingParameters=function(){var R=this.location.components;return R.length>=2&&R[0].category===p.yV.Continent&&R[1].category===p.yV.CountryRegion&&(R=_.tail(R)),_.map(R,function(N){var x=e(N.category),A="";x in b&&(A=b[x]);var I=N.query;return x===V.fk.Sovereign&&I&&(I=T.Iso3166Substitutions[I]||I),{key:A,value:I}})},T.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(R){return!R.key})},T.prototype.getResult=function(R){var x,B=this,N=R&&!_.isEmpty(R.features)&&R.features;if(Array.isArray(N)){var A=_.chain(N).map(function(O){return{feature:O,value:B.locationQuality(O,B.isGeneralQuery())}}).filter(function(O){return O.value>=0}).maxBy(function(O){return O.value}).value();x=A&&A.feature}if(x){var I=x.geometry,w=x.properties;return{coordinates:{latitude:I&&I.coordinates[1],longitude:I&&I.coordinates[0],entityType:w&&w.type}}}return{error:new Error("Geocode result is empty.")}},T.prototype.extractSingleResult=function(R,B){return R&&R.batchItems&&R.batchItems.length>B?R.batchItems[B]:void 0},T.prototype.getBingEntity=function(){return e(_.last(this.location.components).category)},T.prototype.locationQuality=function(R,B){var N;if(!B&&R.properties&&R.properties.matchCodes&&!(0,u.X5)(R.properties.matchCodes))return-1;var x=0;if("High"===(null===(N=R.properties)||void 0===N?void 0:N.confidence)&&(x+=3),1===this.location.components.length&&this.location.components[0].category===p.yV.CountryRegion){var A=R.properties&&R.properties.address&&R.properties.address.countryRegion&&R.properties.address.countryRegion.ISO;if(A){var I=this.location.components[0].query.toLowerCase();2===I.length&&I===A.toLowerCase()&&(x+=2)}}return R.properties&&R.properties.type&&R.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(x+=1),x},T.prototype.getHeaders=function(){var R;R="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||s.R.AzureKey};var B=this.getCulture()||(0,u.$F)();return B&&(R["Accept-Language"]=B),R},T.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},T.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},T}(g);function C(M,T){var R=M&&!_.isEmpty(M.resourceSets)&&M.resourceSets[0].resources;if(Array.isArray(R)){var B=_.chain(R).map(function(N){return{location:N,value:T(N)}}).filter(function(N){return N.value>=0}).maxBy(function(N){return N.value}).value();return B&&B.location}}var E=function(M){function T(R,B,N,x,A){var I=M.call(this,{components:[{query:[B,N].join(),category:"Point"}]})||this;return I.credentials=A,I.latitude=B,I.longitude=N,I.entities=x,I}return(0,t.__extends)(T,M),T.prototype.validate=function(){return!0},T.prototype.getUrl=function(R){var B=this;c.fF.assert(function(){return B.entities.every(function(I){return!!_.findKey(V.fk,function(w){return w===I})})},"All entities should match one of the allowed BingEntities");var N=(0,i.oB)(R),x=_.endsWith(N.baseUrl,"/")?N.baseUrl:N.baseUrl+"/";x+=[this.latitude,this.longitude].join();var A={key:this.credentials||p.Zr.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(A.includeEntityTypes=this.entities.join()),(0,i.fS)(x,A,!0)},T.prototype.getResult=function(R){var B=this,N=C(R,function(F){return-1===B.entities.indexOf(F.entityType)?0:1});if(N){var x=N.point.coordinates,A=N.address||{};return{coordinates:{latitude:x[0],longitude:x[1],addressLine:A.addressLine,locality:A.locality,neighborhood:A.neighborhood,adminDistrict:A.adminDistrict,adminDistrict2:A.adminDistrict2,formattedAddress:A.formattedAddress,postalCode:A.postalCode,countryRegionIso2:A.countryRegionIso2,countryRegion:A.countryRegion,landmark:A.landmark,name:N.name}}}return{coordinates:null}},T}(g),D=function(M){function T(R,B,N,x,A,I,w,F){void 0===I&&(I=3);var O=M.call(this,{components:[{query:[B,N,A,I].join(",")+(w!==o(x)?","+w:""),category:x}]},R)||this;return O.credentials=F,O.latitude=B,O.longitude=N,O.levelOfDetail=A,O.maxGeoData=I,O.entityType=w,O}return(0,t.__extends)(T,M),T.prototype.getBingEntity=function(){return o(_.last(this.location.components).category)},T.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},T.prototype.getUrl=function(R){var B=this.entityType||this.getBingEntity();if(!B)return null;var N=(0,i.oB)(R),x=N.baseUrl,A=N.queryParameters;A||(A={});var I=A.c||A.culture,w=I||"",F=I&&(0,u.VB)(I)||"";return A.key=this.credentials||p.Zr.BingKey,A.$format="json",A.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+B+"'",1,0,"'"+w+"'","'"+F+"'"].join(", ")+")",delete A.c,delete A.culture,(0,i.fS)(x,A,!0)},T.prototype.getResult=function(R){var B=R;if(B&&B.d&&Array.isArray(B.d.results)&&B.d.results.length>0){var x=B.d.results[0].Primitives;if(x&&x.length>0){var A={latitude:this.latitude,longitude:this.longitude,locations:[]};x.sort(function(W,U){return W.Shape.length<U.Shape.length?1:W.Shape.length>U.Shape.length?-1:0});for(var I=Math.min(x.length,this.maxGeoData),w=0;w<I;w++)for(var O=x[w].Shape.split(","),L=1;L<O.length;L++)A.locations.push({nativeBing:O[L]});return{coordinates:A}}}return{error:new Error("Geocode result is empty.")}},T}(g),P=function(M){function T(R,B,N,x,A,I,w,F,O,L,W,U){void 0===O&&(O=3),void 0===U&&(U="subscriptionKey");var j=M.call(this,{components:[{query:[I,w,F,O].join(",")+(L!==o(B)?","+L:""),category:B}]},R,N,x)||this;return j.apiVersion=A,j.latitude=I,j.longitude=w,j.levelOfDetail=F,j.maxGeoData=O,j.entityType=L,j.credentials=W,j.credentialType=U,c.fF.assert(function(){return"subscriptionKey"===U||!!W},"credentials must be provided when using Azure Maps SAS Token"),j}return(0,t.__extends)(T,M),T.prototype.getBingEntity=function(){return o(_.last(this.location.components).category)},T.prototype.getResolution=function(){switch(this.levelOfDetail){case 3:return"huge";case 2:return"large";case 1:return"medium";default:return"small"}},T.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},T.prototype.getUrl=function(R){var B,N,x=null!==(B=this.entityType)&&void 0!==B?B:this.getBingEntity();if(""!==x&&x in f&&(N=f[x]),!N)return null;var I={coordinates:"".concat(this.longitude,",").concat(this.latitude),view:"".concat("Auto"),resultType:N,resolution:"".concat(this.getResolution()),"api-version":this.apiVersion};return(0,i.fS)(R,I,!0)},T.prototype.getResult=function(R){var B=R;if(B&&B.geometry&&Array.isArray(B.geometry.geometries)&&B.geometry.geometries.length>0){var N=B.geometry.geometries,x=function(I,w){return I+w.length};return N.sort(function(A,I){var w=A.coordinates.reduce(x,0);return I.coordinates.reduce(x,0)-w}),this.maxGeoData<N.length&&(N=N.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:N}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}},T.prototype.getHeaders=function(){var R;(R="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||s.R.AzureKey}).Accept="application/json";var B=(0,u.$F)();return B&&(R["Accept-Language"]=B),R},T.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},T}(g)},35259:function(ze,K,r){r.d(K,{Gv:function(){return P},A7:function(){return w},Wy:function(){return C}});var n,t=r(226514),c=r(787941),i=r(121157),s=r(320380),p=r(23807),V=r(898136),m=r(376461),h=function(){function W(U,j,z){this.maxMemoryCacheSize=U,this.maxMemoryCacheSizeOverflow=j,this.localStorageCache=z,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=z}return W.prototype.clear=function(U,j){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(z){switch(z.label){case 0:return U&&j.isSupported()?[4,j.clear()]:[3,2];case 1:z.sent(),z.label=2;case 2:return(0,m.LK)("G"),this.geocodeCache={},this.geocodeCacheCount=0,[2]}})})},W.prototype.getCoordinates=function(U,j,z,G){return(0,t.__awaiter)(this,void 0,void 0,function(){var te,Q,H;return(0,t.__generator)(this,function(Y){switch(Y.label){case 0:return te=U.getKey(),(Q=this.geocodeCache[te])?(++Q.hitCount,[2,Q.coordinate]):(H=void 0,z&&G.isSupported()?[4,G.get(te)]:[3,2]);case 1:H=Y.sent(),Y.label=2;case 2:return!H&&(!z||!G.isSupported()||this.isBingQuery(U))&&(H=this.localStorageCache.getData(te)),H?(j&&j.logFirstQueryHit(U),this.registerInMemory(te,H,j,z,G),[2,H]):(void 0===Q&&(j&&j.logFirstQueryMiss(U),this.markPendingInMemory(te)),[2])}})})},W.prototype.getCoordinatesMemoryOnly=function(U,j){var z=U.getKey(),G=this.geocodeCache[z];if(G)return++G.hitCount,G.coordinate},W.prototype.registerCoordinates=function(U,j,z,G,te){return(0,t.__awaiter)(this,void 0,void 0,function(){var Q;return(0,t.__generator)(this,function(H){switch(H.label){case 0:return this.registerInMemory(U,j,z,G,te),Q=W.getCoordinateToCache(j),G&&te.isSupported()?[4,te.set(U,Q,function(){return z.logGeocodeCacheLimitExceeded(!0)})]:[3,2];case 1:return H.sent(),[3,3];case 2:this.localStorageCache.setData(U,Q,function(){return z.logGeocodeCacheLimitExceeded(!1)}),H.label=3;case 3:return[2]}})})},W.prototype.markPendingInMemory=function(U){this.geocodeCache[U]=null},W.prototype.registerInMemory=function(U,j,z,G,te){var Q=this.geocodeCache,H=this.maxMemoryCacheSize,de=H+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=de){z&&z.disableFirstQueryLogging();var Y=Object.keys(Q),se=Y.length;if(Y.sort(function(ve,De){var We=Q[ve],je=Q[De];return(je?je.hitCount:0)-(We?We.hitCount:0)}),se<2*de)for(var ce=H-1;ce<se;ce++)Q[Y[ce]]=void 0;else{var pe={};for(ce=H-1;ce-- >0;)pe[Y[ce]]=Q[Y[ce]];Q=this.geocodeCache=pe}this.geocodeCacheCount=H}G&&te.isSupported()&&null==j&&(j={latitude:void 0,longitude:void 0}),Q[U]={coordinate:j,hitCount:1},++this.geocodeCacheCount},W.prototype.isBingQuery=function(U){return U instanceof p.xm||U instanceof p.cq||U instanceof p.Ei},W.getCoordinateToCache=function(U){var j=null==U?void 0:U.locations;if(!j||!W.hasRuntimeBoundaryData(j))return U;var z={latitude:U.latitude,longitude:U.longitude,locations:_.map(j,function(G){return{nativeBing:G.nativeBing}})};return U.entityType&&(z.entityType=U.entityType),z},W.hasRuntimeBoundaryData=function(U){for(var j=0,z=U;j<z.length;j++){var G=z[j];for(var te in G)if("nativeBing"!==te)return!0}return!1},W}();function o(){return n||(n=new h(s.Zr.MaxCacheSize,s.Zr.MaxCacheSizeOverflow,(0,m.T5)("G",V.XF,s.Zr.MaxPersistedSpace,s.Zr.MaxAge))),n}function u(W,U,j,z){return W.getKey()?o().getCoordinates(W,U,j,z):Promise.resolve(void 0)}function a(W,U){if(W.getKey())return o().getCoordinatesMemoryOnly(W,U)}function l(W,U,j,z,G){return W?o().registerCoordinates(W,U,j,z,G):Promise.resolve(void 0)}function b(W,U){return o().clear(W,U)}var f=r(703649),g=function(){function W(){}return W.setMapsAjaxCall=function(U){W.MapsAjaxCall=U},W.MapsAjaxCall=$.ajax,W}(),S=r(696428),y=r(565146);function C(){return new M}function E(W,U,j){W&&(U instanceof p.xm?W.logGeocodeImmediate(U,j):U instanceof p.Ei?W.logGeocodeBoundaryImmediate(U,j):U instanceof p.rO?W.logAzureMapsGeocodeImmediate(U):U instanceof p.ag&&W.logAzureMapsGeocodeBoundaryImmediate(U))}function D(W,U,j,z,G){W&&(U instanceof p.xm?W.logGeocodeResult(U,j,z,G):U instanceof p.Ei?W.logGeocodeBoundaryResult(U,j,z,G):U instanceof p.rO?W.logAzureMapsGeocodeResult(U,j,z,G):U instanceof p.ag&&W.logAzureMapsGeocodeBoundaryResult(U,j,z,G))}var P=function(){function W(U,j){this.useBatchGeocoding=U,this.bypassGeocodingCache=j}return W.prototype.geocodeBaseUrl=function(U){switch(U){case 4:case 6:return this.azureMapsGeocodingUrl();case 5:return this.azureMapsBoundaryUrl();case 1:return this.bingSpatialDataUrl();default:return this.bingGeocodingUrl()}},W.prototype.geocodeQueueType=function(U){return 1===U?this.useBatchGeocoding()?6:4:this.useBatchGeocoding()?3:0},W.prototype.geocode=function(U,j,z,G,te,Q){c.fF.assert(function(){return 1===j||"sasToken"!==(null==te?void 0:te.credentialType)},"SASToken credential type is only supported for Azure Maps");var H=(0,i.p)().defer(),de=this.geocodeQueueType(j),Y=1===j?new p.rO(this.azureMapsGeocodingUrl(),U,!0,Q,V.Ee,te&&te.credentials,te&&te.credentialType):new p.xm(this.bingGeocodingUrl(),U,te&&te.credentials);return this.geocodeCore(de,Y,z,G,te).pipe(function(se){return H.resolve(se)},function(se){return H.reject(se)}),H.promise},W.prototype.geocodeBoundary=function(U,j,z,G,te,Q){c.fF.assert(function(){return 1===j||"sasToken"!==(null==te?void 0:te.credentialType)},"SASToken credential type is only supported for Azure Maps");var H=U.latitude,de=U.longitude,Y=U.category,se=void 0===Y?"":Y,ce=U.levelOfDetail,pe=void 0===ce?2:ce,ve=U.maxGeoData,De=void 0===ve?3:ve,We=U.entityType,je=1===j?5:1,Ae=1===j?new p.ag(this.azureMapsBoundaryUrl(),se,!0,Q,V.Ee,H,de,pe,De,We,te&&te.credentials,te&&te.credentialType):new p.Ei(this.bingSpatialDataUrl(),H,de,se,pe,De,We,te&&te.credentials);return this.geocodeCore(je,Ae,z,G,te)},W.prototype.geocodePoint=function(U,j,z,G,te,Q){return this.geocodeCore(2,new p.cq(this.bingGeocodingUrl(),U,j,te,Q&&Q.credentials),z,G,Q)},W.prototype.tryGeocodeImmediate=function(U,j,z,G,te){return(0,t.__awaiter)(this,void 0,void 0,function(){var Q,H,de;return(0,t.__generator)(this,function(Y){switch(Y.label){case 0:return this.bypassGeocodingCache()?[2]:(Q=1===j?new p.rO(this.azureMapsGeocodingUrl(),U,!0,te,V.Ee):new p.xm(this.bingGeocodingUrl(),U),H=this.bingGeocodingLogger(),[4,u(Q,H,z,G)]);case 1:return de=Y.sent(),E(H,Q,de),[2,de]}})})},W.prototype.tryGeocodeBoundaryImmediate=function(U,j,z,G,te){return(0,t.__awaiter)(this,void 0,void 0,function(){var Q,H,de,Y,se,ce,pe,ve,De,We;return(0,t.__generator)(this,function(je){switch(je.label){case 0:return this.bypassGeocodingCache()?[2]:(Q=U.latitude,H=U.longitude,de=U.category,Y=U.levelOfDetail,ce=void 0===(se=U.maxGeoData)?3:se,pe=U.entityType,ve=1===j?new p.ag(this.azureMapsBoundaryUrl(),de,!0,te,V.Ee,Q,H,Y,ce,pe):new p.Ei(this.bingSpatialDataUrl(),Q,H,de,Y,ce,pe),De=this.bingGeocodingLogger(),[4,u(ve,De,z,G)]);case 1:return We=je.sent(),E(De,ve,We),[2,We]}})})},W.prototype.geocodeCore=function(U,j,z,G,te){var Q=$.Deferred();if(j.validate()){var H=this.bingGeocodingLogger(),de=te&&null!=te.bypassCache?te.bypassCache:this.bypassGeocodingCache(),Y=!de&&a(j,H);if(Y)E(H,j,Y),Q.resolve(Y);else{var se=te&&te.timeout,ce=3===U||6===U,pe=function(W,U,j,z,G,te,Q){var H=W.toString()+U+(j||"");(3===W||6===W)&&Q&&(H+=Q);var Y=F[H];if(!Y){var se=(0,y.oB)(U),ce=se.queryParameters;switch("/"===(U=se.baseUrl)[U.length-1]&&(U=U.substring(0,U.length-1)),W){case 6:Y=new A("".concat(U,":").concat(V.TY),j,{batchGeocodeCulture:Q,batchSize:V.uC,batchRequest:function(ve){return JSON.stringify({batchItems:_.map(ve,function(De){return De.getEntity()})})},batchHeaders:function(ve,De){var We={"Accept-Language":De||(0,f.$F)()};return"sasToken"===te?We.Authorization="jwt-sas ".concat(ve):We["subscription-key"]=ve||S.R.AzureKey,We},batchQueryParameters:function(ve,De){return(0,t.__assign)((0,t.__assign)({},ce),{"api-version":V.Ee})},tryIndexedDB:z,indexedDBService:G,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case 3:Y=new A("".concat(U,"/").concat(V.KE),j,{batchGeocodeCulture:Q,batchSize:V.TT,batchRequest:function(ve){return JSON.stringify({GeocodeEntities:_.map(ve,function(De){return De.getEntity()})})},batchHeaders:function(ve,De){return{}},batchQueryParameters:function(ve,De){return(0,t.__assign)((0,t.__assign)({},ce),{culture:De||(0,f.$F)(),output:"json",key:ve})},tryIndexedDB:z,indexedDBService:G});break;case 4:case 5:Y=new I(U,j,{tryIndexedDB:z,indexedDBService:G,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:Y=new I(U,j,{tryIndexedDB:z,indexedDBService:G})}F[H]=Y}return Y}(U,this.geocodeBaseUrl(U),te&&te.credentials,z,G,te&&te.credentialType,ce&&j.getCulture?j.getCulture():void 0),ve={timeout:se,geocoder:this,query:j,deferred:Q,logger:this.bingGeocodingLogger(),bypassCache:de};pe.enqueue(ve),se&&te.timeout.finally(function(){ve.deferred.state()===i.O[i.O.pending]&&ve.deferred.reject()})}}else Q.reject();return Q},W}(),M=function(W){function U(j,z,G){void 0===j&&(j=function(){return!1}),void 0===z&&(z=function(){return!1});var te=W.call(this,j,z)||this;return te.logger=G,te}return(0,t.__extends)(U,W),U.prototype.bingSpatialDataUrl=function(){return V.a_},U.prototype.bingGeocodingUrl=function(){return V.yL},U.prototype.bingGeocodingLogger=function(){return this.logger},U.prototype.azureMapsGeocodingUrl=function(){return V.Tu},U.prototype.azureMapsBoundaryUrl=function(){return V.S3},U}(P),A=function(){function W(U,j,z){this.baseUrl=U,this.credentials=j,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.inDequeue=!1,this.culture=z.batchGeocodeCulture,this.batchSize=z.batchSize,this.batchRequest=z.batchRequest,this.batchHeaders=z.batchHeaders,this.batchQueryParameters=z.batchQueryParameters,this.geocodeRetryOptions=z.geocodeRetryOptions,this.tryIndexedDB=z.tryIndexedDB,this.indexedDBService=z.indexedDBService}return W.prototype.getGeocodeBatchSize=function(){return this.batchSize},W.prototype.setGeocodeBatchSize=function(U){c.fF.assert(function(){return U>0&&_.isInteger(U)},"Invalid geocode batch size"),this.batchSize=U},W.prototype.reset=function(){var U=this.dequeueTimeout;U&&(this.dequeueTimeout=void 0,clearTimeout(U));for(var j=0,z=this.entries.concat(this.activeEntries);j<z.length;j++)this.cancel(z[j]);this.entries=[],this.activeEntries=[]},W.prototype.enqueue=function(U){var j=this,z={item:U};this.entries.push(z),U.deferred.always(function(){j.cancel(z)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=s.Zr.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())},W.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<s.Zr.MaxBingRequest;){for(var U=[];0!==this.entries.length&&U.length<this.batchSize;){var j=this.entries.shift();if(!j.isCompleted){var z=!j.item.bypassCache&&a(j.item.query,j.item.logger);z?(E(j.item.logger,j.item.query,z),this.complete(j,{coordinates:z},!0)):U.push(j)}}U.length&&(this.geocodeRetryOptions?this.makeRequest(U,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(U))}}finally{this.inDequeue=!1}},W.prototype.scheduleDequeue=function(){var U=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){U.dequeueTimeout=void 0,U.dequeue()}))},W.prototype.cancel=function(U){var j=U.batch;if(j){var z=j.request;z&&--j.uncancelledCount<=0&&(j.request=null,z.abort())}this.complete(U,{error:new Error("cancelled")})},W.prototype.complete=function(U,j,z){var te,G=this,Q=!1;if(!U.isCompleted&&(U.isCompleted=!0,U.item.deferred.state()===i.O[i.O.pending])){var H=this.tryIndexedDB&&this.indexedDBService.isSupported(),de=!U.item.bypassCache&&!z;!j||j.error?H&&de&&"Geocode result is empty."===(null===(te=null==j?void 0:j.error)||void 0===te?void 0:te.message)?(Q=!0,l(U.item.query.getKey(),void 0,U.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){U.item.deferred.reject(j&&j.error||new Error("cancelled")),G.scheduleDequeue()},function(Y){(0,f.MB)(f.PR.Set,{error:JSON.stringify(Y)}),U.item.deferred.reject(j&&j.error||new Error("cancelled")),G.scheduleDequeue()})):U.item.deferred.reject(j&&j.error||new Error("cancelled")):de&&j.coordinates?(Q=!0,l(U.item.query.getKey(),j.coordinates,U.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){U.item.deferred.resolve(j.coordinates),G.scheduleDequeue()},function(Y){H&&(0,f.MB)(f.PR.Set,{error:JSON.stringify(Y)}),U.item.deferred.resolve(j.coordinates),G.scheduleDequeue()})):U.item.deferred.resolve(j.coordinates)}Q||this.scheduleDequeue()},W.prototype.makeRequest=function(U,j,z){var G=this;if(!_.isEmpty(U)){var te={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(U.map(function(We){return We.item.query}))},Q=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(Q)||(te.headers=Q);for(var H=this.batchQueryParameters(this.credentials,this.culture),de=(0,y.fS)(this.baseUrl,H),Y={uncancelledCount:U.length,request:g.MapsAjaxCall(de,te)},se=0,ce=U;se<ce.length;se++){var pe=ce[se];pe.batch=Y,this.activeEntries.push(pe)}++this.activeBatches;var ve=Y.request;ve.always(function(){--G.activeBatches;for(var We=0,je=U;We<je.length;We++)_.pull(G.activeEntries,je[We])});var De=_.head(U).item.bypassCache;ve.pipe(function(We){De&&(0,f.OU)({url:de,request:te.data,response:JSON.stringify(We)});for(var je=function(le){var Z=U[le];Z.batch=null;var me,ie=Z.item,ye=ie.query.extractSingleResult&&ie.query.extractSingleResult(We,le);if(ie.geocoder&&ie.query.shouldDoFullGeocoding&&ie.query.shouldDoFullGeocoding(ye))ie.geocoder.geocodeCore(0,ie.query,G.tryIndexedDB,G.indexedDBService,{bypassCache:!0,timeout:ie.timeout}).then(function(oe){me={coordinates:oe}},function(oe){me={error:oe}}).done(function(){G.complete(Z,me)});else{if(ye)try{me=ie.query.getResult(ye)}catch(oe){me={error:oe}}else me={error:new Error("no data")};D(ie.logger,ie.query,ye,me,!0),G.complete(Z,me)}},Ae=0;Ae<U.length;++Ae)je(Ae)},function(We){if(De&&(0,f.OU)({url:de,request:te.data,error:JSON.stringify(We)}),G.shouldRetry(We?We.status:void 0,j)){var Ae=Math.random()*z+z;z*=2,setTimeout(function(){j++,G.makeRequest(U,j,z)},Ae)}else for(var _e=0,le=U;_e<le.length;_e++){var Z=le[_e];Z.batch=null;var ie={error:new Error(We&&We.statusText||"cancelled")};D(Z.item.logger,Z.item.query,void 0,ie,!0),G.complete(Z,ie)}})}},W.prototype.shouldRetry=function(U,j){if(!this.geocodeRetryOptions)return!1;var z=this.geocodeRetryOptions,te=z.maxRetryAttempts;return z.retryOnStatusCodes.includes(U)&&j<te},W}(),I=function(){function W(U,j,z){this.baseUrl=U,this.credentials=j,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=z.geocodeRetryOptions,this.tryIndexedDB=z.tryIndexedDB,this.indexedDBService=z.indexedDBService}return W.prototype.reset=function(){var U=this.dequeueTimeout;U&&(this.dequeueTimeout=void 0,clearTimeout(U));for(var j=0,z=this.entries.concat(this.activeEntries);j<z.length;j++)this.cancel(z[j]);this.entries=[],this.activeEntries=[]},W.prototype.enqueue=function(U){var j=this,z={item:U};this.entries.push(z),U.deferred.always(function(){j.cancel(z)}),this.dequeue()},W.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<s.Zr.MaxBingRequest;){var U=this.entries.shift();U.isCompleted||(this.geocodeRetryOptions?this.makeRequest(U,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(U))}}finally{this.inDequeue=!1}},W.prototype.scheduleDequeue=function(){var U=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){U.dequeueTimeout=void 0,U.dequeue()}))},W.prototype.cancel=function(U){if(!U.jsonp){var j=U.request;j&&(U.request=null,j.abort())}this.complete(U,{error:new Error("cancelled")})},W.prototype.complete=function(U,j,z){var te,G=this,Q=!1;if(!U.isCompleted&&(U.isCompleted=!0,U.item.deferred.state()===i.O[i.O.pending])){var H=this.tryIndexedDB&&this.indexedDBService.isSupported(),de=!U.item.bypassCache&&!z;!j||j.error?H&&de&&"Geocode result is empty."===(null===(te=null==j?void 0:j.error)||void 0===te?void 0:te.message)?(Q=!0,l(U.item.query.getKey(),void 0,U.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){U.item.deferred.reject(j&&j.error||new Error("cancelled")),G.scheduleDequeue()},function(Y){(0,f.MB)(f.PR.Set,{error:JSON.stringify(Y)}),U.item.deferred.reject(j&&j.error||new Error("cancelled")),G.scheduleDequeue()})):U.item.deferred.reject(j&&j.error||new Error("cancelled")):de&&j.coordinates?(Q=!0,l(U.item.query.getKey(),j.coordinates,U.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){U.item.deferred.resolve(j.coordinates),G.scheduleDequeue()},function(Y){H&&(0,f.MB)(f.PR.Set,{error:JSON.stringify(Y)}),U.item.deferred.resolve(j.coordinates),G.scheduleDequeue()})):U.item.deferred.resolve(j.coordinates)}Q||this.scheduleDequeue()},W.prototype.makeRequest=function(U,j,z){var G=this,te=!U.item.bypassCache&&a(U.item.query,U.item.logger);if(te)return E(U.item.logger,U.item.query,te),void this.complete(U,{coordinates:te},!0);var Q=U.item.query.getAjaxConfig();Q.jsonp&&(U.jsonp=!0);var H=U.item.query.getHeaders&&U.item.query.getHeaders();_.isEmpty(H)||(Q.headers=H);var de=U.item.query.getUrl(this.baseUrl);de?(this.activeEntries.push(U),U.request=g.MapsAjaxCall(de,Q),U.request.always(function(){_.pull(G.activeEntries,U)}),U.request.pipe(function(Y){var se;U.item.bypassCache&&(0,f.OU)({url:de,response:JSON.stringify(Y)}),U.request=null;try{se=U.item.query.getResult(Y)}catch(ce){se={error:ce}}D(U.item.logger,U.item.query,Y,se,!1),G.complete(U,se)},function(Y){if(U.item.bypassCache&&(0,f.OU)({url:de,error:JSON.stringify(Y)}),G.shouldRetry(Y?Y.status:void 0,j)){var ce=Math.random()*z+z;z*=2,setTimeout(function(){j++,G.makeRequest(U,j,z)},ce)}else{U.request=null;var pe={error:new Error(Y&&Y.statusText||"cancelled")};D(U.item.logger,U.item.query,void 0,pe,!1),G.complete(U,pe)}})):this.complete(U,{error:new Error("Unsupported query.")})},W.prototype.shouldRetry=function(U,j){if(!this.geocodeRetryOptions)return!1;var z=this.geocodeRetryOptions,te=z.maxRetryAttempts;return z.retryOnStatusCodes.includes(U)&&j<te},W}();function w(W,U){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,b(W,U)];case 1:return j.sent(),[2]}})})}var F={}},898136:function(ze,K,r){r.d(K,{$o:function(){return o},Ee:function(){return c},H6:function(){return u},KE:function(){return s},S3:function(){return n},TT:function(){return V},TY:function(){return i},Tu:function(){return h},XF:function(){return m},a_:function(){return v},fk:function(){return t},uC:function(){return p},yL:function(){return e}});var t={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},c="2023-06-01",i="batch",s="multigeocode",p=100,V=30,m="4",v="https://platform.bing.com/geo/spatial/v1/public/Geodata",e="https://dev.virtualearth.net/REST/v1/Locations",h="https://atlas.microsoft.com/geocode",n="https://atlas.microsoft.com/search/polygon",o={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},u={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"}},703649:function(ze,K,r){r.d(K,{$F:function(){return i},MB:function(){return h},OU:function(){return e},PR:function(){return n},SN:function(){return V},VB:function(){return v},X5:function(){return p}});var t=r(932178),c=r(826691);function i(){return function(o){switch(o.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return o;default:return null}}(t.M.getLanguage())}function p(o){return!m(o,"UpHierarchy")}function V(o){return!m(o,"Ambiguous")}function m(o,u){return _.some(o,function(a){return a===u})}function v(o){switch(o=o.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var u=o.split("-",2);return u.length>1?u[1]:""}function e(o){c.f.information("georequest",void 0,o)}function h(o,u){c.f.error("geocoding IndexedDB ".concat(o," failure"),!0,void 0,u)}var n=function(o){return o.Init="init",o.Get="get",o.Set="set",o.Clear="clear",o}({})},315552:function(ze,K,r){r.d(K,{Bt:function(){return u},EX:function(){return p},G6:function(){return e},jN:function(){return a},kA:function(){return V},ku:function(){return m},ub:function(){return s},x0:function(){return l}});var t=r(787941),c=r(989516),i=r(161414);function s(f){return new u(f)}function p(f,g){void 0===g&&(g="rect");var S=f.select("".concat(g,".clearCatcher"));return S.empty()&&(S=f.append(g).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),S}function V(f,g){void 0===g&&(g="rect");var S=f.select("".concat(g,".clearCatcher"));S.empty()||S.style("pointer-events","none")}function m(f,g){void 0===g&&(g="rect");var S=f.select("".concat(g,".clearCatcher"));S.empty()||S.style("pointer-events","auto")}function e(f){if(_.isEmpty(f))return!1;for(var g=0,S=f.length;g<S;g++)if(f[g].selected)return!0;return!1}var h=function(){function f(g,S,y,C,E){this.dataPoints=g,this.behavior=S,this.key=y,this.hasSelection=C,this.matchPartialIdentities=E}return f.prototype.render=function(){this.behavior.renderSelection(this.hasSelection())},f}();function n(f,g){return _.find(f,function(S){return!S.identity.highlight&&g.identity.includes(S.identity,!0)})}var o=function(){function f(g){this.selectionStateManager=g,this.pointSources={}}return f.prototype.findNonHightlightDataPoint=function(g){for(var S=0,y=this.getSelectablePointSources();S<y.length;S++){var E=n(y[S].dataPoints,g);if(E)return E}},f.prototype.applySelectionStateToDataPoints=function(g){this.updateSelectableDataPointsBySelectedIds(g)},f.prototype.syncSelectionState=function(g){var S=this;this.getSelectablePointSources(g).forEach(function(y){S.updateSelectableDataPointsBySelectedIds(y.dataPoints,y.matchPartialIdentities)})},f.prototype.clearDataPointSelection=function(){this.applyToAllSelectableDataPoints(function(g){return g.selected=!1})},f.prototype.render=function(){this.getSelectablePointSources().forEach(function(g){g.render()})},f.prototype.bind=function(g,S,y,C){var D,E=this,P=!1;C&&(C.isAxis||C.isLabels||C.isLegend||C.useSelectableDataPointForHasSelection)?D=function(){return!!g&&e(g)}:(D=function(){return E.selectionStateManager.getSelectionSize()>0},P=!0),this.isHierarchicalAxis=C&&C.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[y]=new h(g,S,y,D,P)},f.prototype.hasSelectionForSource=function(g){var S;return e(null===(S=this.pointSources[g])||void 0===S?void 0:S.dataPoints)},f.prototype.applyToAllSelectableDataPoints=function(g){this.getSelectablePointSources().forEach(function(S){if(S.dataPoints)for(var y=0,C=S.dataPoints;y<C.length;y++)g(C[y])})},f.prototype.updateSelectableDataPointsBySelectedIds=function(g,S){void 0===S&&(S=!1),!_.isEmpty(g)&&this.selectionStateManager.updateDatapointAgainstSelectedIds(g,S,this.isHierarchicalAxis)},f.prototype.getSelectablePointSources=function(g){var S=this;if(g){var y=this.pointSources[g];return y?[y]:[]}return _.map(Object.keys(this.pointSources),function(C){return S.pointSources[C]})},f}(),u=function(){function f(g){t.fF.assertValue(g,"hostServices"),this.hostService=g,this.dataPointNavigationManager=new b,this.categoryAxisNavigationManager=new b,this.selectionStateManager=new d,this.dataPointManager=new o(this.selectionStateManager)}return f.prototype.bind=function(g,S,y,C){C&&C.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(g),this.isHierarchicalAxis=C&&C.isHierarchicalAxis;var E=C?C.pointSourceKey:"";this.dataPointManager.bind(g,S,E,C),C&&C.navigationOptions&&(C.isAxis?this.categoryAxisNavigationManager.update(S,C.navigationOptions,E):this.dataPointNavigationManager.update(S,C.navigationOptions,E),C.navigationOptions.focusElement&&S.renderFocus(C.navigationOptions.focusElement)),S.bindEvents(y,this,C&&C.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:E}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:E},this.formatMode),this.syncSelectionState(C&&C.pointSourceKey)},f.prototype.clearSelection=function(){this.clearSelectionInternal(),this.renderAll()},f.prototype.clearSelectionInternal=function(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()},f.prototype.applySelectionStateToData=function(g){return this.dataPointManager.applySelectionStateToDataPoints(g),this.hasSelection()},f.prototype.hasSelection=function(){return this.selectionStateManager.getSelectionSize()>0},f.prototype.hasSelectionForSource=function(g){return this.dataPointManager.hasSelectionForSource(g)},f.getVisualObjects=function(g){return _.map(g,function(S){return{objectName:f.dataPointObjectName,selectorsByColumn:S.getSelectorsByColumn()}})},f.prototype.handleSelection=function(g,S,y){var E,C=this;(t.fF.assertValue(g,"dataPoint"),g)&&(g.specificIdentity?E=g.specificIdentity.getSelectorsByColumn():(!g.identity&&g.lazyIdentity&&(g.identity=g.lazyIdentity()),g.identity&&(E=g.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===S&&(S=3),this.runInTransaction(function(){g.identity&&C.select(g,S);var R={type:0,visualObjects:g.specificIdentity?[{objectName:f.dataPointObjectName,selectorsByColumn:E}]:f.getVisualObjects(C.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===S,isShiftKey:1===S,isLassoSelect:!1,position:y};return _.isEmpty(E)||C.hostService.onSelecting(R),R},S,!1,!g.identity))},f.prototype.handleMultipleSelection=function(g,S,y,C){var E=this;this.runInTransaction(function(){E.selectMultiple(g,S);var M={type:0,visualObjects:f.getVisualObjects(E.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!y||3===S,isShiftKey:1===S,isLassoSelect:y,position:C};return E.hostService.onSelecting(M),M},S,y,!1)},f.prototype.runInTransaction=function(g,S,y,C){var D,E=!1;this.selectionStateManager.beginTransaction();try{var P=g();0!==P.action&&P.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),E=!0,D=P.selectionLimitInfo,this.syncSelectionState())}catch(M){this.selectionStateManager.rollback()}finally{E&&(C?this.handleClearSelection():(this.sendSelectionToHost(S,y,D),this.renderAll()))}},f.prototype.handleContextMenu=function(g,S){this.sendContextMenuToHost(g,S)},f.prototype.handleClearSelection=function(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))},f.prototype.restoreSelection=function(g){return this.clearSelection(),this.selectionStateManager.restoreSelection(g,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()},f.prototype.renderAll=function(){this.dataPointManager.render()},f.prototype.clearSelectionState=function(){this.selectionStateManager.clearSelectionState()},f.prototype.selectMultiple=function(g,S){(0===S||2===S)&&this.clearSelectionState();for(var y=0,C=g;y<C.length;y++){var E=C[y],D=E.identity;D.highlight||(1===S||0===S?this.addId(D):3===S?E.selected?this.removeId(D):this.addId(D):2===S&&E.selected&&this.addId(D))}},f.prototype.updateSelectionState=function(g,S,y,C){C||this.clearSelectionInternal(),g.selected?C&&3===S&&this.removeId(y):(this.addId(y),C&&(y.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))},f.prototype.select=function(g,S){g.identity&&g.identity.highlight&&(g=this.dataPointManager.findNonHightlightDataPoint(g),t.fF.assertValue(g,"Expected to find a non-highlight data point"));var y=g.identity;if(y){var C=this.getSelectionIds(),E=this.hostService.canSelect(f.createSelectEventArgs(C,S));switch(S){case 0:!g.selected||C.length>1||1===C.length&&!C[0].equals(y)?(this.clearSelectionInternal(),this.addId(y)):g.selected?this.removeId(y):this.addId(y);break;case 3:case 1:this.updateSelectionState(g,S,y,E);break;case 2:t.fF.assertFail("single selection does not have intersection implemented");break;default:t.fF.assertFail("no such multiSelectMode")}}},f.prototype.removeId=function(g){this.selectionStateManager.removeId(g,this.isHierarchicalAxis)},f.prototype.addId=function(g){this.selectionStateManager.addId(g,this.isHierarchicalAxis)},f.prototype.getSelectionIds=function(){return this.selectionStateManager.getSelectionIds()},f.prototype.sendContextMenuToHost=function(g,S){var y=this.hostService;if(y.onContextMenu){var C,D;g.specificIdentity?C=g.specificIdentity:g.identity&&(C=g.identity),D=this.selectionStateManager.isIdSelected(C);for(var P=[],M=0,T=!C||D?this.getSelectionIds():[C];M<T.length;M++){var B=T[M].getSelectorsByColumn();_.isEmpty(B)||P.push(B)}_.isEmpty(P)||y.onContextMenu({data:P,position:S})}},f.prototype.sendSelectionToHost=function(g,S,y){var C=this.hostService;if(C.onSelect){var E=f.createSelectEventArgs(this.getSelectionIds(),g,S,y);C.onSelect(E)}},f.createSelectEventArgs=function(g,S,y,C){var E=!1;_.isEmpty(g)||(E=g[0].getSelector()&&!g[0].getSelectorsByColumn());var D=_.chain(g).filter(function(M){return M.hasIdentity()}),P={type:0,visualObjects:D.map(function(M){return{objectName:f.dataPointObjectName,selectorsByColumn:M.getSelectorsByColumn()}}).value(),selectionMode:S,isLassoSelect:y,selectionLimitInfo:C};return E&&(P.selectors=D.map(function(M){return M.getSelector()}).value()),P},f.prototype.takeSelectionStateFromDataPoints=function(g){t.fF.assertValue(g,"dataPoints"),this.clearSelectionState();for(var S=0,y=g;S<y.length;S++){var C=y[S];C.selected&&this.addId(C.identity)}},f.prototype.syncSelectionState=function(g){this.dataPointManager.syncSelectionState(g)},f.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.filterSelection(function(g){return g.hasIdentity()})},f.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.filterSelection(function(g){return!g.hasIdentity()})},f.prototype.filterSelection=function(g){this.selectionStateManager.filterSelection(g)},f.prototype.setFormatMode=function(g){this.formatMode=g,g&&this.handleClearSelection()},f.prototype.setSubSelectionHelper=function(g){this.subSelectionHelper=g},f.prototype.getSubSelectionHelper=function(){return this.subSelectionHelper},f.dataPointObjectName="dataPoint",f}(),a=function(f){return f[f.CategoryFirst=0]="CategoryFirst",f[f.SeriesFirst=1]="SeriesFirst",f[f.CategoryOnly=2]="CategoryOnly",f[f.SeriesOnly=3]="SeriesOnly",f}({}),l=function(f){return f[f.NextCategory=0]="NextCategory",f[f.PreviousCategory=1]="PreviousCategory",f[f.NextSeries=2]="NextSeries",f[f.PreviousSeries=3]="PreviousSeries",f}({}),d=function(){function f(){this.clearSelectionState()}return f.prototype.beginTransaction=function(){var g=this;t.fF.assert(function(){return void 0===g.previousSelectedIds},"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize},f.prototype.commit=function(){t.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},f.prototype.rollback=function(){t.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},f.prototype.isIdSelected=function(g){var S=this.selectedIds[null==g?void 0:g.getKeyWithoutHighlight()];return this.selectionIdSize>1&&S&&S.equals(g)},f.prototype.clearSelectionState=function(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0},f.prototype.restoreSelection=function(g,S){var y=this;_.forEach(g,function(C){var E=i.l0.fromSelectorsByColumn(C);y.addId(E,S)})},f.prototype.addId=function(g,S){this.addDecomposedId(g,!S);var y=!!this.selectedIds[g.getKeyWithoutHighlight()];this.selectedIds[g.getKeyWithoutHighlight()]=g,y||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)},f.prototype.addDecomposedId=function(g,S){var y=g.getDecomposedKeys(S);if(y)for(var C=0,E=y;C<E.length;C++){var D=E[C],P=this.decomposedSelectedIds[D];_.isArray(P)?_.some(P,function(M){return M.equals(g)})||P.push(g):this.decomposedSelectedIds[D]=[g]}},f.prototype.amendDecomposedSelection=function(g){this.decomposedSelectedIds={};for(var y=0,C=_.values(this.selectedIds);y<C.length;y++)this.addDecomposedId(C[y],g)},f.prototype.removeId=function(g,S){var y=this,C=function(x){var A=x.getKeyWithoutHighlight(),I=y.selectedIds[A];I&&I.includes(g)&&(delete y.selectedIds[A],y.selectionIdSize--)};C(g);var E=function(x){if(x)for(var A=x.length-1;A>-1;A--){var I=x[A];g.includes(I)&&(x.splice(A,1),C(I))}},D=g.getDecomposedKeys(!S);if(D)for(var P=0,M=D;P<M.length;P++){var T=M[P],R=this.decomposedSelectedIds[T];E(R),_.isEmpty(R)&&delete this.decomposedSelectedIds[T]}var B=this.decomposedSelectedIds[c.xO];B&&B.length&&(E(B),_.isEmpty(B)&&delete this.decomposedSelectedIds[c.xO])},f.prototype.getSelectionSize=function(){return this.selectionIdSize},f.prototype.getSelectionIds=function(){return _.values(this.selectedIds)},f.prototype.filterSelection=function(g){this.selectedIds=_.pickBy(this.selectedIds,g);var S={};_.forEach(this.decomposedSelectedIds,function(y,C){var E=_.filter(y,g);E&&!_.isEmpty(E)&&(S[C]=E)}),this.decomposedSelectedIds=S},f.prototype.updateDatapointAgainstSelectedIds=function(g,S,y){if(_.isEmpty(this.selectedIds)&&_.isEmpty(this.decomposedSelectedIds))for(var C=0,E=g;C<E.length;C++)(D=E[C]).selected=!1;else for(var P=0,M=g;P<M.length;P++){var D;(D=M[P]).selected=this.checkDatapointAgainstSelectedIds(D,S,y)}},f.prototype.checkDatapointAgainstSelectedIds=function(g,S,y){var C,E;if(!_.isEmpty(this.selectedIds)&&(D=null===(C=g.identity)||void 0===C?void 0:C.getKeyWithoutHighlight())&&(P=this.selectedIds[D])&&P.includes(g.identity,!0,S))return!0;if(!_.isEmpty(this.decomposedSelectedIds)){var M=null===(E=g.identity)||void 0===E?void 0:E.getDecomposedKeys(!y);if(M)for(var T=0,R=M;T<R.length;T++){var D,B=this.decomposedSelectedIds[D=R[T]];if(B)for(var N=0,x=B;N<x.length;N++)if((P=x[N])&&P.includes(g.identity,!0,S))return!0}var A=this.decomposedSelectedIds[c.xO];if(!_.isEmpty(A))for(var I=0,w=A;I<w.length;I++){var P;if((P=w[I])&&P.includes(g.identity,!0,S))return!0}}return!1},f}(),b=function(){function f(){this.behaviors={},this.helpers={}}return f.prototype.update=function(g,S,y){this.behaviors[y]=g,this.navigationStrategy=S.navigationStrategy,this.helpers[y]=S.helper},f.prototype.goToFirstElement=function(g){var S=this.helpers[g].getFirstElement().element;S&&this.behaviors[g].renderFocus(S)},f.prototype.isEmpty=function(g){return!this.behaviors[g]||_.isEmpty(this.helpers[g])},f.prototype.handleKeyDownEvent=function(g,S,y,C,E){var D,P,M,T,R,B=this.helpers[g];switch(C){case 9:var N=this.navigationStrategy;N===a.CategoryFirst||N===a.SeriesOnly?R=B.getNextDataPoint(S,y,E?l.PreviousSeries:l.NextSeries):N===a.SeriesFirst||N===a.CategoryOnly?R=B.getNextDataPoint(S,y,E?l.PreviousCategory:l.NextCategory):t.fF.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case 37:R=B.getNextDataPoint(S,y,l.PreviousCategory);break;case 39:R=B.getNextDataPoint(S,y,l.NextCategory);break;case 38:R=B.getNextDataPoint(S,y,null!==(P=null===(D=B.validateDirection)||void 0===D?void 0:D.call(B,l.NextSeries))&&void 0!==P?P:l.NextSeries);break;case 40:R=B.getNextDataPoint(S,y,null!==(T=null===(M=B.validateDirection)||void 0===M?void 0:M.call(B,l.PreviousSeries))&&void 0!==T?T:l.PreviousSeries);break;default:t.fF.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[g].renderFocus(R.element)},f}()},404747:function(ze,K,r){r.d(K,{K:function(){return m}});var t=r(690016),c=r(734287),i=r(324356),s=r(615419),p=r(346816);function V(v,e){var h=(0,p.eG)(v,e);return h?{grid:[{properties:{outlineColor:(0,s.EV)(h.outlineColor),outlineWeight:(0,i.cA)(t.b$.valueOrDefault(h.outlineWeight,p.TK)),gridVertical:(0,i.O7)(h.gridVerticalEnabledMatrix),gridVerticalColor:(0,s.EV)(h.gridColor),gridVerticalWeight:(0,i.cA)(t.b$.valueOrDefault(h.gridVerticalWeight,p.FT)),gridHorizontal:(0,i.O7)(h.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,s.EV)(h.gridColor),gridHorizontalWeight:(0,i.cA)(t.b$.valueOrDefault(h.gridHorizontalWeight,p.cr)),rowPadding:(0,i.cA)(h.rowPadding)}}],columnHeaders:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(h.outlineModeColumnHeaders,p.dc)),fontColor:(0,s.EV)(h.fontColorHeaders),backColor:(0,s.EV)(h.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(h.outlineModeRowHeaders,p.hW)),fontColor:(0,s.EV)(h.fontColorHeaders),backColor:(0,s.EV)(h.backColorHeaders)}}],values:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(h.outlineModeValues,p.Wy)),fontColorPrimary:(0,s.EV)(h.fontColorValues1),backColorPrimary:(0,s.EV)(h.backColorValues1),fontColorSecondary:(0,s.EV)(h.fontColorValues2),backColorSecondary:(0,s.EV)(h.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,s.EV)(h.fontColorTotals),backColor:(0,s.EV)(h.backColorTotals),applyToHeaders:(0,i.O7)(!1)}}]}:{}}function m(){var v;return{sectionTitle:(0,c.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:p.Hq,presets:(v={},v[p.Hq]={name:p.Hq,displayName:(0,c.V)("None"),evaluate:function(h){return V(p.Hq,h)}},v[p.iU]={name:p.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(h){return V(p.iU,h)}},v[p.xO]={name:p.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(h){return V(p.xO,h)}},v[p.Au]={name:p.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(h){return V(p.Au,h)}},v[p.iq]={name:p.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(h){return V(p.iq,h)}},v[p.rO]={name:p.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(h){return V(p.rO,h)}},v[p.b6]={name:p.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(h){return V(p.b6,h)}},v[p.rJ]={name:p.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(h){return V(p.rJ,h)}},v[p.TJ]={name:p.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(h){return V(p.TJ,h)}},v)}}},187511:function(ze,K,r){r.d(K,{F:function(){return m}});var t=r(690016),c=r(734287),i=r(324356),s=r(615419),p=r(346816);function V(v,e,h){var n=(0,p.eG)(v,e);if(!n)return{};var o=h.splitSubTotals?[{properties:{fontColor:(0,s.EV)(n.fontColorSubtotalsRow),backColor:(0,s.EV)(n.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}]:[{properties:{fontColor:(0,s.EV)(n.fontColorSubtotalsRow),backColor:(0,s.EV)(n.backColorSubtotalsRow)}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,s.EV)(n.outlineColor),outlineWeight:(0,i.cA)(t.b$.valueOrDefault(n.outlineWeight,p.TK)),gridVertical:(0,i.O7)(n.gridVerticalEnabledMatrix),gridVerticalColor:(0,s.EV)(n.gridColor),gridVerticalWeight:(0,i.cA)(t.b$.valueOrDefault(n.gridVerticalWeight,p.FT)),gridHorizontal:(0,i.O7)(n.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,s.EV)(n.gridColor),gridHorizontalWeight:(0,i.cA)(t.b$.valueOrDefault(n.gridHorizontalWeight,p.cr)),rowPadding:(0,i.cA)(n.rowPadding)}}],columnHeaders:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(n.outlineModeColumnHeaders,p.WI)),outlineStyle:(0,i.cA)(t.b$.valueOrDefault(n.outlineModeColumnHeaders,p.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,s.EV)(n.fontColorHeaders),backColor:(0,s.EV)(n.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(n.outlineModeRowHeaders,p.bW)),outlineStyle:(0,i.cA)(t.b$.valueOrDefault(n.outlineModeRowHeaders,p.Z0)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,s.EV)(n.fontColorHeaders),backColor:(0,s.EV)(n.backColorHeaders),applyAlternation:(0,i.O7)(!0)}}],values:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(n.outlineModeValues,p.F)),outlineStyle:(0,i.cA)(t.b$.valueOrDefault(n.outlineModeValues,p.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,s.EV)(n.fontColorValues1),backColorPrimary:(0,s.EV)(n.backColorValues1),fontColorSecondary:(0,s.EV)(n.fontColorValues2),backColorSecondary:(0,s.EV)(n.backColorValues2)}}],subTotals:o,total:[{properties:{fontColor:(0,s.EV)(n.fontColorTotals),backColor:(0,s.EV)(n.backColorTotals),applyToHeaders:(0,i.O7)(!1)}}],rowTotal:[{properties:{fontColor:(0,s.EV)(n.fontColorTotals),backColor:(0,s.EV)(n.backColorTotals),applyToHeaders:(0,i.O7)(!1)}}],columnTotal:[{properties:{fontColor:(0,s.EV)(n.fontColorTotals),backColor:(0,s.EV)(n.backColorTotals),applyToHeaders:(0,i.O7)(!1)}}]}}function m(v){var e;return{sectionTitle:(0,c.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:p.gA,presets:(e={},e[p.gA]={name:p.gA,displayName:(0,c.V)("Default"),evaluate:function(n){return V(p.gA,n,v)}},e[p.Hq]={name:p.Hq,displayName:(0,c.V)("None"),evaluate:function(n){return V(p.Hq,n,v)}},e[p.iU]={name:p.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(n){return V(p.iU,n,v)}},e[p.xO]={name:p.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(n){return V(p.xO,n,v)}},e[p.Au]={name:p.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(n){return V(p.Au,n,v)},isDeprecated:!0},e[p.pJ]={name:p.pJ,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(n){return V(p.pJ,n,v)}},e[p.iq]={name:p.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(n){return V(p.iq,n,v)}},e[p.rO]={name:p.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(n){return V(p.rO,n,v)}},e[p.b6]={name:p.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(n){return V(p.b6,n,v)}},e[p.rJ]={name:p.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(n){return V(p.rJ,n,v)}},e[p.TJ]={name:p.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(n){return V(p.TJ,n,v)}},e)}}},816476:function(ze,K,r){r.d(K,{L:function(){return m}});var t=r(690016),c=r(734287),i=r(324356),s=r(615419),p=r(346816);function V(v,e){var h=(0,p.eG)(v,e);return h?{grid:[{properties:{outlineColor:(0,s.EV)(h.outlineColor),outlineWeight:(0,i.cA)(t.b$.valueOrDefault(h.outlineWeight,p.TK)),gridVertical:(0,i.O7)(h.gridVerticalEnabledTable),gridVerticalColor:(0,s.EV)(h.gridColor),gridVerticalWeight:(0,i.cA)(t.b$.valueOrDefault(h.gridVerticalWeight,p.FT)),gridHorizontal:(0,i.O7)(h.gridHorizontalEnabledTable),gridHorizontalColor:(0,s.EV)(h.gridColor),gridHorizontalWeight:(0,i.cA)(t.b$.valueOrDefault(h.gridHorizontalWeight,p.cr)),rowPadding:(0,i.cA)(h.rowPadding)}}],columnHeaders:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(h.outlineModeColumnHeaders,p.dc)),fontColor:(0,s.EV)(h.fontColorHeaders),backColor:(0,s.EV)(h.backColorHeaders)}}],values:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(h.outlineModeValues,p.Wy)),fontColorPrimary:(0,s.EV)(h.fontColorValues1),backColorPrimary:(0,s.EV)(h.backColorValues1),fontColorSecondary:(0,s.EV)(h.fontColorValues2),backColorSecondary:(0,s.EV)(h.backColorValues2)}}],total:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(h.outlineModeTotals,p.jF)),fontColor:(0,s.EV)(h.fontColorTotals),backColor:(0,s.EV)(h.backColorTotals)}}]}:{}}function m(){var v;return{sectionTitle:(0,c.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:p.Hq,presets:(v={},v[p.Hq]={name:p.Hq,displayName:(0,c.V)("None"),evaluate:function(h){return V(p.Hq,h)}},v[p.iU]={name:p.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(h){return V(p.iU,h)}},v[p.xO]={name:p.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(h){return V(p.xO,h)}},v[p.Au]={name:p.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(h){return V(p.Au,h)}},v[p.iq]={name:p.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(h){return V(p.iq,h)}},v[p.rO]={name:p.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(h){return V(p.rO,h)}},v[p.b6]={name:p.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(h){return V(p.b6,h)}},v[p.rJ]={name:p.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(h){return V(p.rJ,h)}},v[p.TJ]={name:p.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(h){return V(p.TJ,h)}},v)}}},431782:function(ze,K,r){r.d(K,{w:function(){return m}});var t=r(690016),c=r(734287),i=r(324356),s=r(615419),p=r(346816);function V(v,e,h){var n=(0,p.eG)(v,e);return n?{grid:[{properties:{outline:void 0,outlineColor:(0,s.EV)(n.outlineColor),outlineWeight:(0,i.cA)(t.b$.valueOrDefault(n.outlineWeight,p.TK)),gridVertical:(0,i.O7)(n.gridVerticalEnabledTable),gridVerticalColor:(0,s.EV)(n.gridColor),gridVerticalWeight:(0,i.cA)(t.b$.valueOrDefault(n.gridVerticalWeight,p.FT)),gridHorizontal:(0,i.O7)(n.gridHorizontalEnabledTable),gridHorizontalColor:(0,s.EV)(n.gridColor),gridHorizontalWeight:(0,i.cA)(t.b$.valueOrDefault(n.gridHorizontalWeight,p.cr)),rowPadding:(0,i.cA)(n.rowPadding)}}],columnHeaders:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(n.outlineModeColumnHeaders,p.WI)),outlineStyle:(0,i.cA)(t.b$.valueOrDefault(n.outlineModeColumnHeaders,p.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,s.EV)(n.fontColorHeaders),backColor:(0,s.EV)(n.backColorHeaders)}}],values:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(n.outlineModeValues,p.F)),outlineStyle:(0,i.cA)(t.b$.valueOrDefault(n.outlineModeValues,p.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,s.EV)(n.fontColorValues1),backColorPrimary:(0,s.EV)(n.backColorValues1),fontColorSecondary:(0,s.EV)(n.fontColorValues2),backColorSecondary:(0,s.EV)(n.backColorValues2)}}],total:[{properties:{outline:(0,i.fL)(t.b$.valueOrDefault(n.outlineModeTotals,p.fd)),outlineStyle:(0,i.cA)(t.b$.valueOrDefault(n.outlineModeTotals,p.EH)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,s.EV)(n.fontColorTotals),backColor:(0,s.EV)(n.backColorTotals)}}]}:{}}function m(v){var e;return{sectionTitle:(0,c.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:p.gA,presets:(e={},e[p.gA]={name:p.gA,displayName:(0,c.V)("Default"),evaluate:function(n){return V(p.gA,n)}},e[p.Hq]={name:p.Hq,displayName:(0,c.V)("None"),evaluate:function(n){return V(p.Hq,n)}},e[p.iU]={name:p.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(n){return V(p.iU,n)}},e[p.xO]={name:p.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(n){return V(p.xO,n)}},e[p.Au]={name:p.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(n){return V(p.Au,n)},isDeprecated:!0},e[p.pJ]={name:p.pJ,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(n){return V(p.pJ,n)}},e[p.iq]={name:p.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(n){return V(p.iq,n)}},e[p.rO]={name:p.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(n){return V(p.rO,n)}},e[p.b6]={name:p.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(n){return V(p.b6,n)}},e[p.rJ]={name:p.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(n){return V(p.rJ,n)}},e[p.TJ]={name:p.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(n){return V(p.TJ,n)}},e)}}},346816:function(ze,K,r){r.d(K,{Au:function(){return M},EH:function(){return d},F:function(){return n},FT:function(){return m},Hq:function(){return C},TJ:function(){return A},TK:function(){return o},WI:function(){return v},Wy:function(){return b},Z0:function(){return a},b6:function(){return N},bW:function(){return e},cr:function(){return V},dc:function(){return s},eG:function(){return I},es:function(){return p},fd:function(){return h},gA:function(){return E},hW:function(){return u},iU:function(){return D},iq:function(){return R},jF:function(){return l},pJ:function(){return T},rJ:function(){return x},rO:function(){return B},xO:function(){return P},yh:function(){return f}});var t=r(177497),c=r(787941),i=r(563245),s=i.FX.PropColumnsOutline.defaultValue,p=i.FX.PropColumnsOutlineStyle.defaultValue,V=i.FX.PropGridHorizontalWeight.defaultValue,m=i.FX.PropGridVerticalWeight.defaultValue,v=i.FX.PropColumnsNewVisualOutline.defaultValue,e=i.FX.PropRowsPivotTableOutline.defaultValue,h=i.FX.PropTotalTableExOutline.defaultValue,n=i.FX.PropValuesNewVisualOutline.defaultValue,o=i.FX.PropGridOutlineWeight.defaultValue,u=i.FX.PropRowsOutline.defaultValue,a=i.FX.PropRowsOutlineStyle.defaultValue,l=i.FX.PropTotalOutline.defaultValue,d=i.FX.PropTotalOutlineStyle.defaultValue,b=i.FX.PropValuesOutline.defaultValue,f=i.FX.PropValuesOutlineStyle.defaultValue,C="None",E="Default",D="Minimal",P="BoldHeader",M="AlternatingRows",T="AlternatingRowsNew",R="ContrastAlternatingRows",B="FlashyRows",N="BoldHeaderFlashyRows",x="Sparse",A="Condensed";function I(w,F){var O=F.colorPalette.background.value,L=F.colorPalette.foreground.value,W=F.colorPalette.tableAccent.value,j=new i.FX(F);switch(w){case C:return{outlineColor:j.PropGridOutlineColor.getValue(null),gridColor:j.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:i.FX.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:i.FX.PropGridVertical.defaultValue,gridHorizontalEnabledTable:i.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:i.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:i.FX.PropGridRowPadding.defaultValue,fontColorHeaders:j.PropColumnsFontColor.getValue(null),backColorHeaders:j.PropColumnsBackColor.getValue(null),fontColorValues1:j.PropValuesFontColorPrimary.getValue(null),backColorValues1:j.PropValuesBackColorPrimary.getValue(null),fontColorValues2:j.PropValuesFontColorSecondary.getValue(null),backColorValues2:j.PropValuesBackColorSecondary.getValue(null),fontColorTotals:j.PropTotalFontColor.getValue(null),backColorTotals:j.PropTotalBackColor.getValue(null)};case E:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.12,O=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:i.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:i.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:L,backColorHeaders:O,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:(0,t.ok)(L,.08,O),fontColorTotals:void 0,backColorTotals:void 0};case D:return{outlineColor:W,gridColor:(0,t.ok)(L,.12,O),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:L,backColorHeaders:O,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:O,fontColorTotals:L,backColorTotals:O};case P:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.12,O=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,backColorHeaders:L,fontColorHeaders:O,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:O,fontColorTotals:L,backColorTotals:O};case M:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.12,O=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:O,backColorHeaders:L,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:(0,t.ok)(L,.08,O),fontColorTotals:O,backColorTotals:L};case T:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.12,O=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:O,backColorHeaders:L,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:(0,t.ok)(L,.08,O),fontColorTotals:O,backColorTotals:L,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case R:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.12,O=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:O,backColorHeaders:L,fontColorValues1:O,backColorValues1:(0,t.ok)(L,.75,O),fontColorValues2:L,backColorValues2:(0,t.ok)(L,.25,O),fontColorTotals:O,backColorTotals:L};case B:return{outlineColor:L=F.colorPalette.foreground.value,gridColor:O=F.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:3,fontColorHeaders:L,backColorHeaders:O,fontColorValues1:L,backColorValues1:(0,t.ok)(W=F.colorPalette.tableAccent.value,.4,O),fontColorValues2:L,backColorValues2:(0,t.ok)(W,.8,O),fontColorTotals:L,backColorTotals:O};case N:return{outlineColor:O=F.colorPalette.background.value,gridColor:O,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:3,fontColorHeaders:O,backColorHeaders:L=F.colorPalette.foreground.value,fontColorValues1:L,backColorValues1:(0,t.ok)(W=F.colorPalette.tableAccent.value,.4,O),fontColorValues2:L,backColorValues2:(0,t.ok)(W,.8,O),fontColorTotals:O,backColorTotals:L};case x:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.2,O=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:6,fontColorHeaders:O,backColorHeaders:L,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:O,fontColorTotals:O,backColorTotals:L};case A:return{outlineColor:W=F.colorPalette.tableAccent.value,gridColor:(0,t.ok)(L=F.colorPalette.foreground.value,.2,O=F.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:0,fontColorHeaders:O,backColorHeaders:L,fontColorValues1:L,backColorValues1:O,fontColorValues2:L,backColorValues2:O,fontColorTotals:O,backColorTotals:L};default:return void c.fF.assertFail("Attempt to get Tablix style elements with invalid preset name ["+w+"].")}}},1010:function(ze,K,r){r.d(K,{E4:function(){return O},I6:function(){return B},Io:function(){return T},Oe:function(){return N},Q6:function(){return F},Rm:function(){return L},UV:function(){return M},VT:function(){return w},rx:function(){return P}});var t=r(226514),c=r(629925),i=r(787941),s=r(166851),p=r(698129),V=r(438165),m=r(679752),v=r(438554),e=(0,c.CH)("tooltip-container"),h=(0,c.CH)("tooltip-content"),n=(0,c.CH)("arrow"),o=(0,c.CH)("hide-arrow"),u=(0,c.CH)("small-touch-screen"),a=(0,c.CH)("large-touch-screen"),l=(0,c.CH)("truncate-tooltip-height"),d=(0,c.CH)("new-mobile-tooltip"),b=(0,c.CH)("heightened-header"),f=(0,c.CH)("themeableElement"),g=(0,c.CH)("tooltip-light"),P={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},M={opacity:.87,scale:1,animationDuration:0,animationDurationTouchOld:250,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10};function T(W,U){return new R(W,U)}var R=function(){function W(U,j){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=U,this.originalTooltipOptions=$.extend({},P,j),this.tooltipOptions=this.originalTooltipOptions}return W.prototype.isVisible=function(){return this.isTooltipVisible},W.prototype.isTouchOptimized=function(){return!!this.tooltipOptions.touchOptimized},W.prototype.setTestScreenSize=function(U,j){this.customScreenWidth=U,this.customScreenHeight=j},W.prototype.show=function(U,j){var z,G,te,Q;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),U&&(z=N(U,this.getScreenBounds(),this.tooltipOptions),Q={x:U.left+(G=U.width>>1),y:U.top+(te=U.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0).style("opacity",this.tooltipOptions.opacity),U&&this.setPositionAndSize(U,z,G,te,Q,j)},W.prototype.classed=function(U,j){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(U.class,j)},W.prototype.move=function(U,j){var z,G,te;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),z=N(U,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(U,z,G=U.width>>1,te=U.height>>1,{x:U.left+G,y:U.top+te},j)},W.prototype.updateContent=function(U){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(h.selector).remove(),U&&($(U).addClass(h.class),this.tooltipContainer.node().appendChild(U))},W.prototype.hide=function(){if(this.isTooltipVisible){var U=this.isTouchOptimized()&&!this.tooltipOptions.newMobileTooltip?this.tooltipOptions.animationDurationTouchOld:this.tooltipOptions.animationDuration;this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(U).style("opacity",0).on("end",function(){this.style.display="none"})}},W.prototype.destroy=function(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)},W.prototype.setTooltipAppearanceOptions=function(U){var j=$.extend({},this.originalTooltipOptions,U);this.tooltipOptions=j},W.prototype.attachPointerEnterCallback=function(U){this.onPointerEnter=U},W.prototype.attachPointerLeaveCallback=function(U){this.onPointerLeave=U},W.prototype.createTooltipContainer=function(U){var j=this,z=d3.select(U).append("div").classed(e.class,!0).classed(f.class,!0);return z.append("div").classed(n.class,!0),z.style("display","none"),z.on("pointerenter.callback",function(){return j.onPointerEnter&&j.onPointerEnter()}),z.on("pointerleave.callback",function(){return j.onPointerLeave&&j.onPointerLeave()}),z},W.prototype.getTooltipContainerBounds=function(){var U;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),U=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):U=this.tooltipContainer.node().getBoundingClientRect(),{height:U.height/this.tooltipScaleFactor,width:U.width/this.tooltipScaleFactor}},Object.defineProperty(W.prototype,"tooltipScale",{get:function(){return this.tooltipOptions.scale||1},enumerable:!1,configurable:!0}),W.prototype.updateTooltipPosition=function(U,j,z,G,te,Q){var H=this.getTooltipContainerBounds(),de=0,Y=0,se=this.tooltipOptions.adjustXLeftSideOfScreen,ce=this.tooltipOptions.adjustXRightSideOfScreen,pe=this.tooltipOptions.hideArrow?0:(Q?3:7)*this.tooltipScale,ve=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,De=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,We=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:Q?.5:1,je=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:Q?2.5:1;return this.tooltipOptions.offsetPosition&&(se=0,ce=0,de+=0===j||3===j?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,Y+=0===j||1===j?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),0===j?(de+=De*pe+z-se,Y-=ve*je*pe+G):1===j?(de-=ve*We*pe+H.width+z-ce,Y-=ve*je*pe+G):3===j?(de+=De*pe+z-se,Y-=H.height-ve*je*pe+G):2===j&&(de-=ve*We*pe+H.width+z-ce,Y-=H.height-ve*je*pe+G),{x:te.x+de,y:te.y+Y}},W.prototype.setPositionAndSize=function(U,j,z,G,te,Q){te=this.updateTooltipPosition(U,j,z,G,te,Q);var H=this.widenTooltipIfNeeded(te);this.setTooltipContainerAttributes(j,H,!!H.width),this.tooltipContainer.style("width",H.width?H.width+"px":""),this.setArrowPosition(j)},W.prototype.widenTooltipIfNeeded=function(U){var j={left:U.x,top:U.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){j.left=8;var z=this.getScreenBounds().width;j.width=z-16}return j},W.prototype.setTooltipContainerAttributes=function(U,j,z){var G=this.getTooltipContainerBounds(),te=this.getScreenBounds(),Q=this.shouldWidenTooltip(),H=G.width,de=G.height,Y=te.width,se=te.height,ve=j.left,De=j.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(ve=j.left>=0?j.left:5,De=j.top>=0?j.top:5);var We=Y-ve-H,je=se-De-de;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){We<0&&(We=Y-(ve-=Math.abs(We)+5)-H+5);var Ae=this.getScreenBounds().width<=540?35:5;je<Ae&&(De-=Ae-je,je=Ae)}var me,ye,_e=!1,le=!1,Z=0===U||1===U,ie=0===U||3===U,oe={left:null,top:null,right:null,bottom:null};ie?(_e=!0,oe.left="".concat(ve,"px"),ye=ve):(le=!0,oe.right="".concat(We,"px"),ye=We),Z?(oe.top="".concat(De,"px"),me=De):(oe.bottom="".concat(je,"px"),me=je),z&&(oe.left="".concat(ve,"px"));var X={height:(de+10)*this.tooltipScale,width:(Q?H:H+10)*this.tooltipScale},ue=X.width+ye>Y,Se=X.height+me>se;this.tooltipScaleFactor=this.tooltipScale,(ue||Se)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(X,te,ye,me)),this.tooltipContainer.classed("left",_e).classed("right",le).classed(g.class,this.tooltipOptions.useLightColors).classed(u.class,this.isSmallTouchScreen()).classed(a.class,this.isLargeTouchScreen()).classed(l.class,this.isTruncateTooltipHeight()).classed(d.class,this.isNewMobileTooltip()).classed(b.class,this.heightenedHeader()).styles(oe).style("transform","scale(".concat(this.tooltipScaleFactor,")")).style("transform-origin","".concat(Z?"top":"bottom"," ").concat(ie?"left":"right"))},W.prototype.calculateScaleFactor=function(U,j,z,G){return Math.min((j.width-z)/U.width,(j.height-G)/U.height)},W.prototype.setArrowPosition=function(U){var z;z=0===U?"top left":1===U?"top right":3===U?"bottom left":"bottom right",this.getArrowElement().attr("class","arrow").classed(z,!0).classed(o.class,this.tooltipOptions.hideArrow)},W.prototype.shouldWidenTooltip=function(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540},W.prototype.isSmallTouchScreen=function(){if(!this.tooltipOptions.touchOptimized)return!1;var U=this.getScreenBounds();return U.width<=540||U.height<=450},W.prototype.isLargeTouchScreen=function(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()},W.prototype.isTruncateTooltipHeight=function(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620},W.prototype.isNewMobileTooltip=function(){return this.tooltipOptions.newMobileTooltip},W.prototype.heightenedHeader=function(){return!this.tooltipOptions.offsetPosition&&this.tooltipOptions.newMobileTooltip},W.prototype.getArrowElement=function(){return this.tooltipContainer.select(n.selector)},W.prototype.getScreenBounds=function(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}},W}(),B=function(){function W(){}return W.highlightedValueDisplayNameResorceKey="Tooltip_HighlightedValueDisplayName",W}();function N(W,U,j){var de=(null==j?void 0:j.showAboveClickedArea)||W.top+W.height/2>=U.height/2;return W.left+W.width/2<U.width/2?de?3:0:de?2:1}function w(W,U,j,z,G){var te=W.data.getAllValuesForRole("Tooltips",j,z),Q=W.data.getAllFormatStringsForRole("Tooltips",j,z),H=W.data.getAllValueDisplayNamesForRole("Tooltips"),de=W.columns.getAllValueMetadataColumnsForRole("Tooltips",z);if(te)for(var Y=0;Y<te.length;Y++)null!=te[Y]&&U.push({displayName:H[Y],value:(0,m.xq)(te[Y],de[Y],G,!1,Q[Y])})}function F(W,U,j,z,G){if(W&&(i.fF.assert(function(){return W.length===U.length},"CategoricalLazyTooltipBuilder:withMultipleColumnAndValues: unexpected count of sources & values"),j||!_.every(U,function(H){return null==H}))){var te=(0,V.ML)(_.map(W,function(H){return H.queryName}));if(G){if(_.includes(G,te))return;G.push(te)}var Q=(0,V.ML)(_.map(W,function(H){return H.displayName}));return function(){var H=(0,V.ML)(_.map(U,function(de,Y){return z(de,W[Y])}));return{displayName:Q,value:H}}}}var O=function(){function W(){this.items=[],this.columns=[]}return W.prototype.withColumnValue=function(U,j,z,G,te){return U&&(G||null!=j)?(_.includes(this.columns,U.queryName)||(this.columns.push(U.queryName),this.items.push(new s.o(function(){return{displayName:U.displayName,value:te(j,U,z)}}))),this):this},W.prototype.withMultipleColumnAndValues=function(U,j,z,G){var te=F(U,j,z,G);return te&&this.items.push(new s.o(te)),this},W.prototype.withValue=function(U,j){return this.items.push(new s.o(function(){return{displayName:U,value:j}})),this},W.prototype.withLazyValue=function(U){return this.items.push(U),this},W.prototype.withLazyValues=function(U){return this.items.push(new s.o(U)),this},W.prototype.getTooltipItems=function(){return _.flatten(_.map(this.items,function(U){return U.getValue()}))},W.prototype.getFormattedTooltipItems=function(){return void 0===this.formatted&&(this.formatted=(0,v.X)(this.getTooltipItems())),this.formatted},W}(),L=function(W){function U(j,z){var G=W.call(this)||this;return G.reader=j,G.formatStringProp=z,G}return(0,t.__extends)(U,W),U.prototype.withAllValuesForRole=function(j,z,G,te,Q){var H=this.reader.getAllValueColumnsForRole(j,G);if(_.isEmpty(H))return this;for(var de=0,Y=H;de<Y.length;de++)this.withColumnValueByIndex(Y[de],z,te,Q);return this},U.prototype.withColumnValueByIndex=function(j,z,G,te){var Q;if(!j)return this;var H=j.values[z],de=(0,p.NA)(null===(Q=j.objects)||void 0===Q?void 0:Q[z],this.formatStringProp);return this.withColumnValue(j.source,H,de,G,te)},U}(O)},436582:function(ze,K,r){r.d(K,{W:function(){return c},i:function(){return i}});var t=r(149362),c=function(s){return s.blank="blank",s.leftArrow="leftArrow",s.rightArrow="rightArrow",s.back="back",s.reset="reset",s.information="information",s.help="help",s.qna="qna",s.insights="insights",s.bookmarks="bookmarks",s.custom="custom",s.applyAllSlicers="applyAllSlicers",s.clearAllSlicers="clearAllSlicers",s}({}),i=(0,t.i)([{value:c.blank,displayName:function(p){return p.get("ReportAppBar_Blank")}},{value:c.leftArrow,displayName:function(p){return p.get("Generic_LeftArrow")}},{value:c.rightArrow,displayName:function(p){return p.get("Generic_RightArrow")}},{value:c.back,displayName:function(p){return p.get("Generic_Back")}},{value:c.reset,displayName:function(p){return p.get("Reset")}},{value:c.help,displayName:function(p){return p.get("Generic_Help")}},{value:c.information,displayName:function(p){return p.get("ReportAppBar_InfoIcon")}},{value:c.qna,displayName:function(p){return p.get("Generic_Qna")}},{value:c.bookmarks,displayName:function(p){return p.get("Generic_Bookmark")}},{value:c.applyAllSlicers,displayName:function(p){return p.get("ReportAppBar_ApplyAllSlicers")}},{value:c.clearAllSlicers,displayName:function(p){return p.get("ReportAppBar_ClearAllSlicers")}},{value:c.custom,displayName:function(p){return p.get("Custom")}}])},391589:function(ze,K,r){r.d(K,{E3:function(){return p},Re:function(){return i},XM:function(){return s}});var t=r(787941),c=r(149362),i=function(V){return V.droplet="droplet",V.circle="circle",V.square="square",V.diamond="diamond",V.triangle="triangle",V.none="none",V}({}),s=(0,c.i)([{value:i.droplet,displayName:function(m){return m.get("Visual_MarkerShape_Droplet")}},{value:i.circle,displayName:function(m){return m.get("Visual_MarkerShape_Circle")}},{value:i.square,displayName:function(m){return m.get("Visual_MarkerShape_Square")}},{value:i.diamond,displayName:function(m){return m.get("Visual_MarkerShape_Diamond")}},{value:i.triangle,displayName:function(m){return m.get("Visual_MarkerShape_Triangle")}}]);function p(V){switch(V){case i.droplet:return"M 1.123 -0.214\n                        C 1.123 0.123 0.947 0.435 0.749 0.626\n                        L 0.139 1.275\n                        C 0.065 1.353 -0.059 1.353 -0.133 1.275\n                        L -0.743 0.626\n                        C -1.023 0.346 -1.117 0.118 -1.117 -0.214\n                        C -1.117 -0.832 -0.615 -1.333 0.003 -1.333\n                        C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case i.circle:return"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0";case i.square:return"M 0 0 m -1 -1 l 2 0 l 0 2 l -2 0 z";case i.diamond:return"M 0 0 m -1 0 l 1 -1 l 1 1 l -1 1 z";case i.triangle:return"M 0 0 m -1 1 l 1 -2 l 1 2 z";case i.none:return null;default:t.fF.assertNever(V)}}},490327:function(ze,K,r){r.d(K,{DO:function(){return c},O1:function(){return s},d9:function(){return i}});var t=r(149362),c=function(p){return p.showBoth="showBoth",p.showTitleOnly="showTitleOnly",p.showUnitOnly="showUnitOnly",p}({}),i=(0,t.i)([{value:c.showTitleOnly,displayName:function(V){return V.get("Visual_Axis_ShowTitleOnly")}},{value:c.showUnitOnly,displayName:function(V){return V.get("Visual_Axis_ShowUnitOnly")}},{value:c.showBoth,displayName:function(V){return V.get("Visual_Axis_ShowBoth")}}]);function s(p,V,m){return p?p===c.showBoth?"".concat(V," (").concat(m,")"):p===c.showUnitOnly?m:V:V}},244945:function(ze,K,r){r.d(K,{F:function(){return i},w:function(){return c}});var t=r(149362),c=function(s){return s.scalar="Scalar",s.categorical="Categorical",s.both="Both",s}({}),i=(0,t.i)([{value:c.scalar,displayName:function(p){return p.get("Visual_Axis_Scalar")}},{value:c.categorical,displayName:function(p){return p.get("Visual_Axis_Categorical")}}])},370030:function(ze,K,r){r.d(K,{BG:function(){return i},C9:function(){return c},cP:function(){return V},dt:function(){return v},jv:function(){return s},x7:function(){return p},yX:function(){return m}});var t=r(149362),c="rectangle",i="oval",s="line",p="arrow",V="triangle",m="arrowbutton",v=(0,t.i)([{value:c,displayName:function(h){return h.get("ReportAppBar_ShapeRectangle")}},{value:i,displayName:function(h){return h.get("ReportAppBar_ShapeOval")}},{value:s,displayName:function(h){return h.get("Visual_Shape_Line")}},{value:p,displayName:function(h){return h.get("ReportAppBar_ShapeArrow")}},{value:V,displayName:function(h){return h.get("ReportAppBar_ShapeTriangle")}},{value:m,displayName:"arrowbutton"}])},884983:function(ze,K,r){r.d(K,{AB:function(){return V},GT:function(){return c},IZ:function(){return v},VW:function(){return h},dt:function(){return e},fS:function(){return s},j2:function(){return i},se:function(){return p},uH:function(){return m}});var t=r(149362),c="aerial",i="canvasDark",s="canvasLight",p="grayscale",V="road",m=V,v=i,e=(0,t.i)([{value:c,displayName:function(o){return o.get("Visual_MapThemeAerial")}},{value:i,displayName:function(o){return o.get("Visual_MapThemeDark")}},{value:s,displayName:function(o){return o.get("Visual_MapThemeLight")}},{value:p,displayName:function(o){return o.get("Visual_MapThemeGrayScale")}},{value:V,displayName:function(o){return o.get("Visual_MapThemeRoad")}}]);function h(n){return n===c||n===i}},746824:function(ze,K,r){r.d(K,{XT:function(){return p},aA:function(){return s},dt:function(){return m},dw:function(){return V},zH:function(){return i}});var t=r(149362),c="pixels",i="meters",s=c,p=200,V=4e6,m=(0,t.i)([{value:c,displayName:function(e){return e.get("Generic_Pixels")}},{value:i,displayName:function(e){return e.get("Visual_MapUnitMeters")}}])},353278:function(ze,K,r){r.d(K,{C:function(){return i},F:function(){return c}});var t=r(149362),c=function(s){return s.below="below",s.right="right",s}({}),i=(0,t.i)([{value:c.below,displayName:function(p){return p.get("Visual_CallOutRelative_Below")}},{value:c.right,displayName:function(p){return p.get("Visual_CallOutRelative_Right")}}])},997431:function(ze,K,r){r.d(K,{A:function(){return c},d:function(){return i}});var t=r(149362),c=function(s){return s.BelowValue="belowValue",s.AboveValue="aboveValue",s}({}),i=(0,t.i)([{value:c.BelowValue,displayName:function(p){return p.get("CardVisualPositioning_BelowValue")}},{value:c.AboveValue,displayName:function(p){return p.get("CardVisualPositioning_AboveValue")}}])},280122:function(ze,K,r){r.d(K,{X$:function(){return c},dt:function(){return i},uv:function(){return s}});var t=r(149362),c=function(p){return p.fill="fill",p.line="line",p.none="none",p.fillLine="fillLine",p}({}),i=(0,t.i)([{value:c.fill,displayName:function(V){return V.get("Visual_Confidence_Band_Style_Fill")}},{value:c.line,displayName:function(V){return V.get("Visual_Confidence_Band_Style_Line")}},{value:c.none,displayName:function(V){return V.get("None")}}]),s=(0,t.i)([{value:c.fill,displayName:function(V){return V.get("Visual_Confidence_Band_Style_Fill")}},{value:c.line,displayName:function(V){return V.get("Visual_Confidence_Band_Style_Line")}},{value:c.fillLine,displayName:function(V){return V.get("Visual_Confidence_Band_Style_LineFill")}}])},274870:function(ze,K,r){r.d(K,{FH:function(){return s},PG:function(){return c},Vm:function(){return i}});var t=r(149362),c="custom",i="fieldName",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Custom")}},{value:i,displayName:function(V){return V.get("StreamingDataflow_FieldName")}}])},564227:function(ze,K,r){r.d(K,{W:function(){return c},w:function(){return i}});var t=r(149362),c=function(s){return s.Percent="Percent of total",s.Custom="Custom",s}({}),i=(0,t.i)([{value:c.Percent,displayName:function(p){return p.get("Visual_LabelStyle_Percent")}},{value:c.Custom,displayName:function(p){return p.get("Custom")}}])},457158:function(ze,K,r){r.d(K,{d:function(){return c}});var c=(0,r(149362).i)([{value:0,displayName:function(s){return s.get("DisplayUnitSystem_EAuto_Title")}},{value:1,displayName:function(s){return s.get("DisplayUnitSystem_E0_Title")}},{value:1e3,displayName:function(s){return s.get("DisplayUnitSystem_E3_Title")}},{value:1e6,displayName:function(s){return s.get("DisplayUnitSystem_E6_Title")}},{value:1e9,displayName:function(s){return s.get("DisplayUnitSystem_E9_Title")}},{value:1e12,displayName:function(s){return s.get("DisplayUnitSystem_E12_Title")}},{value:-1,displayName:function(s){return s.get("Custom")}}])},747168:function(ze,K,r){r.d(K,{d7:function(){return c},dt:function(){return p},on:function(){return i}});var t=r(149362),c="auto",i="on",p=(0,t.i)([{value:c,displayName:function(m){return m.get("Visual_Auto")}},{value:i,displayName:function(m){return m.get("ToggleSwitchOn")}},{value:"off",displayName:function(m){return m.get("ToggleSwitchOff")}}])},605781:function(ze,K,r){r.d(K,{Od:function(){return i},SX:function(){return c},UX:function(){return p},dt:function(){return V},gC:function(){return s}});var t=r(149362),c="outside",i="inside",s="preferOutside",p="preferInside",V=(0,t.i)([{value:c,displayName:function(v){return v.get("Visual_DonutLabelPosition_Outside")}},{value:i,displayName:function(v){return v.get("Visual_DonutLabelPosition_Inside")}},{value:s,displayName:function(v){return v.get("Visual_DonutLabelPosition_PreferOutside")}},{value:p,displayName:function(v){return v.get("Visual_DonutLabelPosition_PreferInside")}}])},984748:function(ze,K,r){r.d(K,{K:function(){return c},y:function(){return i}});var t=r(149362),c=function(s){return s.absolute="absolute",s.relativeNumeric="relativeNumeric",s.relativePercentage="relativePercentage",s.range="range",s}({}),i=(0,t.i)([{value:c.absolute,displayName:function(p){return p.get("Visual_Absolute")}},{value:c.relativeNumeric,displayName:function(p){return p.get("Visual_RelativeNumeric")}},{value:c.relativePercentage,displayName:function(p){return p.get("Visual_RelativePercentage")}},{value:c.range,displayName:function(p){return p.get("Visual_Axis_Range")}}])},454967:function(ze,K,r){r.d(K,{F:function(){return i},f:function(){return c}});var t=r(149362),c=function(s){return s.fillOnly="Fill only",s.borderOnly="Border only",s}({}),i=(0,t.i)([{value:c.fillOnly,displayName:function(p){return p.get("Visual_FillStyle_Fill")}},{value:c.borderOnly,displayName:function(p){return p.get("Visual_FillStyle_Border")}}])},72653:function(ze,K,r){r.d(K,{CR:function(){return s},MS:function(){return e},YK:function(){return p},aT:function(){return V},dt:function(){return n},mN:function(){return h},nO:function(){return c},oN:function(){return m},r0:function(){return i},r2:function(){return v}});var t=r(149362),c=2,i=4,s=8,p=function(o){return o[o.data=c]="data",o[o.percentOfFirst=i]="percentOfFirst",o[o.percentOfPrevious=s]="percentOfPrevious",o[o.dataAndPercentOfFirst=c|i]="dataAndPercentOfFirst",o[o.dataAndPercentOfPrevious=c|s]="dataAndPercentOfPrevious",o}({}),V="Data",m="Percent of first",v="Percent of previous",e="Data, percent of first",h="Data, percent of previous",n=(0,t.i)([{value:V,displayName:function(u){return u.get("Visual_LabelStyle_DataValue")}},{value:m,displayName:function(u){return u.get("Funnel_PercentOfFirst")}},{value:v,displayName:function(u){return u.get("Funnel_PercentOfPrevious")}},{value:e,displayName:function(u){return u.get("Visual_LabelStyle_DataAndPercentOfFirst")}},{value:h,displayName:function(u){return u.get("Visual_LabelStyle_DataAndPercentOfPrevious")}}])},771803:function(ze,K,r){r.d(K,{ST:function(){return c},_h:function(){return f},dt:function(){return S},gA:function(){return i},xF:function(){return g}});var t=r(149362),c={v1_0:"1.0",v2_0:"2.0"},i="",s="de-de",p="en-GB",V="en-US",m="es-ES",v="fr-FR",e="it-it",o="nl-BE",u="pt-BR",l="zh-Hans",d="zh-Hant",b=[{value:i,version:c.v1_0},{value:s,version:c.v2_0},{value:p,version:c.v2_0},{value:V,version:c.v2_0},{value:m,version:c.v2_0},{value:v,version:c.v2_0},{value:e,version:c.v2_0},{value:"ja",version:c.v1_0},{value:"ko",version:c.v2_0},{value:o,version:c.v2_0},{value:u,version:c.v2_0},{value:"ru",version:c.v2_0},{value:l,version:c.v2_0},{value:d,version:c.v2_0}];function f(y){return _.findIndex(b,function(C){return C.value===y})>=0}function g(y,C){var E=_.find(b,function(D){return D.value===y});return!!E&&E.version===C}var S=(0,t.i)([{value:i,displayName:function(C){return C.get("Visual_Auto")}},{value:s,displayName:function(C){return C.get("Visual_MapGeocodingCulture_DE")}},{value:p,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ENGB")}},{value:V,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ENUS")}},{value:m,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ES")}},{value:v,displayName:function(C){return C.get("Visual_MapGeocodingCulture_FR")}},{value:e,displayName:function(C){return C.get("Visual_MapGeocodingCulture_IT")}},{value:"ja",displayName:function(C){return C.get("Visual_MapGeocodingCulture_JA")}},{value:"ko",displayName:function(C){return C.get("Visual_MapGeocodingCulture_KO")}},{value:o,displayName:function(C){return C.get("Visual_MapGeocodingCulture_NL")}},{value:u,displayName:function(C){return C.get("Visual_MapGeocodingCulture_PT")}},{value:"ru",displayName:function(C){return C.get("Visual_MapGeocodingCulture_RU")}},{value:l,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ZHS")}},{value:d,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ZHT")}}])},31394:function(ze,K,r){r.d(K,{d:function(){return i},o:function(){return c}});var t=r(149362),c=function(s){return s.inner="inner",s.innerHorizontal="innerHorizontal",s.innerVertical="innerVertical",s.all="all",s.none="none",s}({}),i=(0,t.i)([{value:c.all,displayName:function(p){return p.get("All")},icon:{glyph:"border-all"}},{value:c.inner,displayName:function(p){return p.get("Border_Grid_Line_Type_Inner")},icon:{glyph:"border-inside"}},{value:c.innerHorizontal,displayName:function(p){return p.get("Border_Grid_Line_Type_Inner_Horizontal")},icon:{glyph:"border-inside-horizontal"}},{value:c.innerVertical,displayName:function(p){return p.get("Border_Grid_Line_Type_Inner_Vertical")},icon:{glyph:"border-inside-vertical"}},{value:c.none,displayName:function(p){return p.get("None")},icon:{glyph:"border-none"}}])},118670:function(ze,K,r){r.d(K,{D:function(){return c}});var t=r(149362),c=function(s){return s.left="left",s.center="center",s.right="right",s}({});(0,t.i)([{value:c.left,displayName:function(p){return p.get("Visual_TextAlignment_Left")}},{value:c.center,displayName:function(p){return p.get("Visual_TextAlignment_Center")}},{value:c.right,displayName:function(p){return p.get("Visual_TextAlignment_Right")}}])},928643:function(ze,K,r){r.d(K,{B2:function(){return V},F2:function(){return s},PG:function(){return c},aE:function(){return p},dt:function(){return m},t$:function(){return i}});var t=r(149362),c="custom",i="left",s="right",p="above",V="below",m=(0,t.i)([{value:c,displayName:function(e){return e.get("Custom")}},{value:i,displayName:function(e){return e.get("Visual_IconPlacement_Left")}},{value:s,displayName:function(e){return e.get("Visual_IconPlacement_Right")}},{value:p,displayName:function(e){return e.get("Visual_IconPlacement_Above")}},{value:V,displayName:function(e){return e.get("Visual_IconPlacement_Below")}}])},674810:function(ze,K,r){r.d(K,{C:function(){return c},H:function(){return i}});var t=r(149362),c=function(s){return s.normal="Normal",s.fit="Fit",s.fill="Fill",s}({}),i=(0,t.i)([{value:c.normal,displayName:function(p){return p.get("Normal")}},{value:c.fit,displayName:function(p){return p.get("Visual_ImageScalingType_Fit")}},{value:c.fill,displayName:function(p){return p.get("Visual_ImageScalingType_Fill")}}])},653460:function(ze,K,r){r.d(K,{_:function(){return c},j:function(){return i}});var t=r(149362),c=function(s){return s.image="image",s.imageUrl="imageUrl",s}({}),i=(0,t.i)([{value:c.image,displayName:function(p){return p.get("Image")}},{value:c.imageUrl,displayName:function(p){return p.get("Image_Url")}}])},790517:function(ze,K,r){r.d(K,{Mu:function(){return c},W2:function(){return i},dt:function(){return s}});var t=r(149362),c="keyInfluencers",i="topProfiles",s=(0,t.i)([{value:c,displayName:function(){return"keyInfluencers"}},{value:i,displayName:function(){return"topProfiles"}}])},966608:function(ze,K,r){r.d(K,{AG:function(){return c},Gf:function(){return i},dt:function(){return s}});var t=r(149362),c="absolute",i="relative",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Visual_Absolute")}},{value:i,displayName:function(V){return V.get("Visual_Relative")}}])},563246:function(ze,K,r){r.d(K,{Pf:function(){return i},dt:function(){return s},us:function(){return c}});var t=r(149362),c="Continuous",i="Categorical",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Visual_Axis_Scalar")}},{value:i,displayName:function(V){return V.get("Visual_Axis_Categorical")}}])},239311:function(ze,K,r){r.d(K,{QX:function(){return i},dt:function(){return s},ob:function(){return c}});var t=r(149362),c="impact",i="count",s=(0,t.i)([{value:c,displayName:function(V){return V.get("KeyDriver_SortType_Impact")}},{value:i,displayName:function(V){return V.get("KeyDriver_SortType_Count")}}])},31752:function(ze,K,r){r.d(K,{dt:function(){return s},i1:function(){return c},pd:function(){return i}});var t=r(149362),c="High is good",i="Low is good",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Visual_KPI_DistanceDirection_Positive")}},{value:i,displayName:function(V){return V.get("Visual_KPI_DistanceDirection_Negative")}}])},401973:function(ze,K,r){r.d(K,{Hk:function(){return s},S3:function(){return c},aQ:function(){return i},dt:function(){return p}});var t=r(149362),c="Value",i="Percent",s="Value, percent",p=(0,t.i)([{value:c,displayName:function(m){return m.get("Visual_LabelText_Value")}},{value:i,displayName:function(m){return m.get("ConditionalFormattingDialog_Percent")}},{value:s,displayName:function(m){return m.get("Visual_LabelStyle_Both")}}])},38517:function(ze,K,r){r.d(K,{dt:function(){return s},i1:function(){return c},pd:function(){return i}});var t=r(149362),c="Positive",i="Negative",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Visual_KPI_Direction_Positive")}},{value:i,displayName:function(V){return V.get("Visual_KPI_Direction_Negative")}}])},758732:function(ze,K,r){r.d(K,{b:function(){return i},g:function(){return c}});var t=r(149362),c=function(s){return s.rows="rows",s.columns="columns",s}({}),i=(0,t.i)([{value:c.rows,displayName:function(p){return p.get("Small_Multiples_Layout_Rows")}},{value:c.columns,displayName:function(p){return p.get("Small_Multiples_Layout_Columns")}}])},266848:function(ze,K,r){r.d(K,{c:function(){return i},v:function(){return c}});var t=r(149362),c=function(s){return s.MultiLine="MultiLine",s.SingleLine="SingleLine",s}({}),i=(0,t.i)([{value:c.MultiLine,displayName:function(p){return p.get("Visual_LabelContentLayout_MultiLine")}},{value:c.SingleLine,displayName:function(p){return p.get("Visual_LabelContentLayout_SingleLine")}}])},311646:function(ze,K,r){r.d(K,{L:function(){return c},e:function(){return i}});var t=r(149362),c=function(s){return s.sentence="sentence",s.tabular="tabular",s}({}),i=(0,t.i)([{value:c.sentence,displayName:function(p){return p.get("Visual_LabelLayout_Sentence")}},{value:c.tabular,displayName:function(p){return p.get("Visual_Tabular")}}])},5635:function(ze,K,r){r.d(K,{B:function(){return c},S:function(){return i}});var t=r(149362),c=function(s){return s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s}({}),i=(0,t.i)([{value:c.Vertical,displayName:function(p){return p.get("Visual_LabelOrientation_Vertical")}},{value:c.Horizontal,displayName:function(p){return p.get("Visual_LabelOrientation_Horizontal")}}])},201849:function(ze,K,r){r.d(K,{O:function(){return i},h:function(){return c}});var t=r(149362),c=function(s){return s.auto="Auto",s.insideEnd="InsideEnd",s.insideCenter="InsideCenter",s.outsideEnd="OutsideEnd",s.insideBase="InsideBase",s.above="Above",s.under="Under",s}({}),i=(0,t.i)([{value:c.auto,displayName:function(p){return p.get("Visual_Auto")}},{value:c.insideEnd,displayName:function(p){return p.get("Visual_LabelPosition_InsideEnd")}},{value:c.outsideEnd,displayName:function(p){return p.get("Visual_LabelPosition_OutsideEnd")}},{value:c.insideCenter,displayName:function(p){return p.get("Visual_LabelPosition_InsideCenter")}},{value:c.insideBase,displayName:function(p){return p.get("Visual_LabelPosition_InsideBase")}},{value:c.above,displayName:function(p){return p.get("Visual_Reference_Line_Data_Label_Above")}},{value:c.under,displayName:function(p){return p.get("Visual_Reference_Line_Data_Label_Under")}}])},8591:function(ze,K,r){r.d(K,{B:function(){return i},M:function(){return c}});var t=r(149362),c=function(s){return s.left="Left",s.right="Right",s}({}),i=(0,t.i)([{value:c.left,displayName:function(p){return p.get("Visual_yAxis_Left")}},{value:c.right,displayName:function(p){return p.get("Visual_yAxis_Right")}}])},326899:function(ze,K,r){r.d(K,{W3:function(){return V},YK:function(){return p},_q:function(){return o},aQ:function(){return v},aT:function(){return m},dt:function(){return u},ev:function(){return h},f3:function(){return e},mA:function(){return c},nO:function(){return i},qv:function(){return n},tG:function(){return s}});var t=r(149362),c=2,i=4,s=8,p=function(a){return a[a.category=c]="category",a[a.data=i]="data",a[a.percent=s]="percent",a[a.categoryAndData=c|i]="categoryAndData",a[a.categoryAndPercent=c|s]="categoryAndPercent",a[a.dataAndPercent=i|s]="dataAndPercent",a[a.categoryAndDataAndPercent=c|i|s]="categoryAndDataAndPercent",a}({}),V="Category",m="Data",v="Percent of total",e="Both",h="Category, percent of total",n="Data value, percent of total",o="Category, data value, percent of total",u=(0,t.i)([{value:V,displayName:function(l){return l.get("Visual_LabelStyle_Category")}},{value:m,displayName:function(l){return l.get("Visual_LabelStyle_DataValue")}},{value:v,displayName:function(l){return l.get("Visual_LabelStyle_Percent")}},{value:e,displayName:function(l){return l.get("Visual_LabelStyle_CategoryAndData")}},{value:h,displayName:function(l){return l.get("Visual_LabelStyle_CategoryAndPercent")}},{value:n,displayName:function(l){return l.get("Visual_LabelStyle_DataAndPercent")}},{value:o,displayName:function(l){return l.get("Visual_LabelStyle_CategoryAndDataAndPercent")}}])},870743:function(ze,K,r){r.d(K,{S3:function(){return c},dt:function(){return p},u2:function(){return i},u6:function(){return s}});var t=r(149362),c="Value",i="Name",s="ValueAndName",p=(0,t.i)([{value:c,displayName:function(m){return m.get("Visual_LabelStyle_DataValue")}},{value:i,displayName:function(m){return m.get("Name")}},{value:s,displayName:function(m){return m.get("Visual_LabelStyle_Both")}}])},343168:function(ze,K,r){r.d(K,{d:function(){return i},i:function(){return c}});var t=r(149362),c=function(s){return s.Cards="Cards",s.Table="Table",s}({}),i=(0,t.i)([{value:c.Cards,displayName:function(p){return p.get("Cards")}},{value:c.Table,displayName:function(p){return p.get("Table_ToolTip")}}])},281835:function(ze,K,r){r.d(K,{A:function(){return i},_:function(){return c}});var t=r(149362),c=function(s){return s.markerOnly="markerOnly",s.lineAndMarker="lineAndMarker",s.lineOnly="lineOnly",s.markerCircleDefault="markerCircleDefault",s}({}),i=(0,t.i)([{value:c.markerCircleDefault,displayName:function(p){return p.get("MarkerCircleDefault")}},{value:c.markerOnly,displayName:function(p){return p.get("Marker")}},{value:c.lineOnly,displayName:function(p){return p.get("Visual_Shape_Line")}},{value:c.lineAndMarker,displayName:function(p){return p.get("Visual_LegendLineAndMarker")}}])},210770:function(ze,K,r){r.d(K,{CX:function(){return p},FJ:function(){return i},g4:function(){return V},tV:function(){return c},zw:function(){return s}});var t=r(149362),c=function(m){return m.top="Top",m.bottom="Bottom",m.left="Left",m.right="Right",m.topCenter="TopCenter",m.bottomCenter="BottomCenter",m.leftCenter="LeftCenter",m.rightCenter="RightCenter",m.topRight="TopRight",m.bottomRight="BottomRight",m}({}),i=(0,t.i)([{value:c.top,displayName:function(v){return v.get("Visual_LabelPosition_TopLeft")}},{value:c.topCenter,displayName:function(v){return v.get("Visual_LabelPosition_TopCenter")}},{value:c.topRight,displayName:function(v){return v.get("Visual_LabelPosition_TopRight")}},{value:c.left,displayName:function(v){return v.get("Visual_LegendPosition_TopLeftStacked")}},{value:c.right,displayName:function(v){return v.get("Visual_LegendPosition_TopRightStacked")}},{value:c.leftCenter,displayName:function(v){return v.get("Visual_LegendPosition_LeftCenter")}},{value:c.rightCenter,displayName:function(v){return v.get("Visual_LegendPosition_RightCenter")}},{value:c.bottom,displayName:function(v){return v.get("Visual_LabelPosition_BottomLeft")}},{value:c.bottomCenter,displayName:function(v){return v.get("Visual_LabelPosition_BottomCenter")}},{value:c.bottomRight,displayName:function(v){return v.get("Visual_LabelPosition_BottomRight")}}]),s=function(m){return m.top="Top",m.bottom="Bottom",m.left="Left",m.right="Right",m}({}),p=(0,t.i)([{value:s.left,displayName:function(v){return v.get("Visual_TextAlignment_Left")}},{value:s.right,displayName:function(v){return v.get("Visual_TextAlignment_Right")}},{value:s.bottom,displayName:function(v){return v.get("Bottom")}},{value:s.top,displayName:function(v){return v.get("Top")}}]),V=(0,t.i)([{value:s.left,displayName:function(v){return v.get("Visual_IconPlacement_Left")}},{value:s.right,displayName:function(v){return v.get("Visual_IconPlacement_Right")}},{value:s.bottom,displayName:function(v){return v.get("Visual_IconPlacement_Below")}},{value:s.top,displayName:function(v){return v.get("Visual_IconPlacement_Above")}}])},887948:function(ze,K,r){r.d(K,{CO:function(){return i},Fu:function(){return c},_U:function(){return V},cZ:function(){return m},oI:function(){return p},rv:function(){return s}});var t=r(149362),c=function(v){return v.linear="linear",v.step="step",v.smooth="smooth",v}({}),i=(0,t.i)([{value:c.linear,displayName:function(e){return e.get("Visual_Axis_Linear")}},{value:c.smooth,displayName:function(e){return e.get("Visual_SmoothLine")}},{value:c.step,displayName:function(e){return e.get("Visual_StepLine")}}]),s=function(v){return v.center="center",v.before="before",v.after="after",v}({}),p=(0,t.i)([{value:s.before,displayName:function(e){return e.get("Visual_Before")}},{value:s.center,displayName:function(e){return e.get("Visual_Gradient_MidColor")}},{value:s.after,displayName:function(e){return e.get("Visual_After")}}]),V=function(v){return v.monotoneX="monotoneX",v.cardinal="cardinal",v}({}),m=(0,t.i)([{value:V.monotoneX,displayName:function(e){return e.get("Visual_LineInterp_Monotone")}},{value:V.cardinal,displayName:function(e){return e.get("Visual_LineInterp_Cardinal")}}])},681280:function(ze,K,r){r.d(K,{C:function(){return c},i:function(){return i}});var t=r(149362),c=function(s){return s.Flat="flat",s.Round="round",s}({}),i=(0,t.i)([{value:c.Flat,displayName:function(p){return p.get("Visual_StrokeCap_Flat")}},{value:c.Round,displayName:function(p){return p.get("Visual_StrokeLineJoin_Round")}}])},51033:function(ze,K,r){r.d(K,{Dl:function(){return c},Yu:function(){return i},v6:function(){return s}});var t=r(149362),c=function(p){return p.magnitude="magnitude",p.dataRange="dataRange",p.auto="auto",p.deprecated="scatterDeprecated",p}({}),i=[{value:c.magnitude,displayName:function(V){return V.get("Visual_MarkerRangeType_Magnitude")}},{value:c.dataRange,displayName:function(V){return V.get("Visual_MarkerRangeType_DataRange")}},{value:c.auto,displayName:function(V){return V.get("Visual_Auto")}}],s=(0,t.i)(i)},306310:function(ze,K,r){r.d(K,{OE:function(){return V},ZO:function(){return i},dt:function(){return p}});var t=r(226514),c=r(149362),i=function(m){return m.circle="circle",m.square="square",m.diamond="diamond",m.triangle="triangle",m.x="x",m.shortDash="shortDash",m.longDash="longDash",m.plus="plus",m.upperErrorBar="upperErrorBar",m.lowerErrorBar="lowerErrorBar",m.none="none",m}({}),s=[{value:i.circle,displayName:function(v){return v.get("Visual_MarkerShape_Circle")},label:function(v){return v.get("Visual_MarkerShape_Circle_Label")}},{value:i.square,displayName:function(v){return v.get("Visual_MarkerShape_Square")},label:function(v){return v.get("Visual_MarkerShape_Square_Label")}},{value:i.diamond,displayName:function(v){return v.get("Visual_MarkerShape_Diamond")},label:function(v){return v.get("Visual_MarkerShape_Diamond_Label")}},{value:i.triangle,displayName:function(v){return v.get("Visual_MarkerShape_Triangle")},label:function(v){return v.get("Visual_MarkerShape_Triangle_Label")}},{value:i.x,displayName:function(v){return v.get("Visual_MarkerShape_X")},label:function(v){return v.get("Visual_MarkerShape_X_Label")}},{value:i.shortDash,displayName:function(v){return v.get("Visual_MarkerShape_ShortDash")},label:function(v){return v.get("Visual_MarkerShape_ShortDash_Label")}},{value:i.longDash,displayName:function(v){return v.get("Visual_MarkerShape_LongDash")},label:function(v){return v.get("Visual_MarkerShape_LongDash_Label")}},{value:i.plus,displayName:function(v){return v.get("Visual_MarkerShape_Plus")},label:function(v){return v.get("Visual_MarkerShape_Plus_Label")}}],p=(0,c.i)(s),V=(0,c.i)((0,t.__spreadArray)((0,t.__spreadArray)([],s,!0),[{value:i.none,displayName:function(v){return v.get("None")}}],!1))},993517:function(ze,K,r){r.d(K,{Bz:function(){return c},SO:function(){return s},oh:function(){return i}});var t=r(149362),c=function(p){return p[p.Grid=0]="Grid",p[p.Vertical=1]="Vertical",p[p.Horizontal=2]="Horizontal",p}({}),i=(0,t.i)([{value:c.Grid,displayName:function(V){return V.get("Visual_Grid")}},{value:c.Vertical,displayName:function(V){return V.get("Slicer_Orientation_Vertical")}},{value:c.Horizontal,displayName:function(V){return V.get("Slicer_Orientation_Horizontal")}}]),s=(0,t.i)([{value:c.Vertical,displayName:function(V){return V.get("Visual_Arrangement_Column")}},{value:c.Horizontal,displayName:function(V){return V.get("Visual_Arrangement_Row")}},{value:c.Grid,displayName:function(V){return V.get("Visual_Grid")}}])},666683:function(ze,K,r){r.d(K,{$m:function(){return c},BK:function(){return o},LI:function(){return V},Ob:function(){return l},RH:function(){return m},Wi:function(){return h},YP:function(){return i},b_:function(){return v},dt:function(){return d},fs:function(){return a},j0:function(){return p},mv:function(){return u},v3:function(){return e},wI:function(){return s},yo:function(){return n}});var t=r(149362),c=function(b){return b[b.Nil=0]="Nil",b[b.Top=1]="Top",b[b.Right=2]="Right",b[b.Bottom=4]="Bottom",b[b.Left=8]="Left",b}({}),i="None",s="BottomOnly",p="TopOnly",V="LeftOnly",m="RightOnly",v="TopBottom",e="LeftRight",h="Frame";function n(b){return"number"==typeof b?!!(b&c.Top):[p,v,h].some(function(f){return f===b})}function o(b){return"number"==typeof b?!!(b&c.Right):[m,e,h].some(function(f){return f===b})}function u(b){return"number"==typeof b?!!(b&c.Bottom):[s,v,h].some(function(f){return f===b})}function a(b){return"number"==typeof b?!!(b&c.Left):[V,e,h].some(function(f){return f===b})}var l=(0,t.i)([{value:c.Top,displayName:function(f){return f.get("Top")}},{value:c.Bottom,displayName:function(f){return f.get("Bottom")}},{value:c.Left,displayName:function(f){return f.get("Visual_TextAlignment_Left")}},{value:c.Right,displayName:function(f){return f.get("Visual_TextAlignment_Right")}}]),d=(0,t.i)([{value:i,displayName:function(f){return f.get("None")}},{value:s,displayName:function(f){return f.get("Visual_Outline_bottom_only")}},{value:p,displayName:function(f){return f.get("Visual_Outline_top_only")}},{value:V,displayName:function(f){return f.get("Visual_Outline_LeftOnly")}},{value:m,displayName:function(f){return f.get("Visual_Outline_RightOnly")}},{value:v,displayName:function(f){return f.get("Visual_Outline_top_Bottom")}},{value:e,displayName:function(f){return f.get("Visual_Outline_leftRight")}},{value:h,displayName:function(f){return f.get("Visual_Outline_frame")}}])},42437:function(ze,K,r){r.d(K,{d:function(){return i},m:function(){return c}});var t=r(149362),c=function(s){return s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s}({}),i=(0,t.i)([{value:c.Vertical,displayName:function(p){return p.get("Slicer_Orientation_Vertical")}},{value:c.Horizontal,displayName:function(p){return p.get("Slicer_Orientation_Horizontal")}}])},246509:function(ze,K,r){r.d(K,{a:function(){return c},d:function(){return i}});var t=r(149362),c=function(s){return s[s.Paginated=0]="Paginated",s[s.Scroll=1]="Scroll",s}({}),i=(0,t.i)([{value:c.Paginated,displayName:function(p){return p.get("Visual_Paginated")}},{value:c.Scroll,displayName:function(p){return p.get("Visual_Scroll")}}])},846841:function(ze,K,r){r.d(K,{EY:function(){return c},Ln:function(){return s},PG:function(){return p},YP:function(){return v},cO:function(){return m},dt:function(){return e},mJ:function(){return i},uz:function(){return V}});var t=r(149362),c="Wide",i="Normal",s="Narrow",p="Custom",V=6,m=12,v=20,e=(0,t.i)([{value:c,displayName:function(n){return n.get("Wide")}},{value:i,displayName:function(n){return n.get("Normal")}},{value:s,displayName:function(n){return n.get("Narrow")}},{value:p,displayName:function(n){return n.get("Custom")}}])},939942:function(ze,K,r){r.d(K,{e:function(){return i},t:function(){return c}});var t=r(149362),c=function(s){return s.Compact="Compact",s.Outline="Outline",s.Tabular="Tabular",s}({}),i=(0,t.i)([{value:c.Compact,displayName:function(p){return p.get("Visual_Compact")}},{value:c.Outline,displayName:function(p){return p.get("Visual_Outline")}},{value:c.Tabular,displayName:function(p){return p.get("Visual_Tabular")}}])},839789:function(ze,K,r){r.d(K,{W$:function(){return i},dt:function(){return s}});var t=r(149362),i="front",s=(0,t.i)([{value:"back",displayName:function(V){return V.get("Visual_Reference_Line_Behind")}},{value:i,displayName:function(V){return V.get("Visual_Reference_Line_InFront")}}])},265699:function(ze,K,r){r.d(K,{dt:function(){return s},t$:function(){return c}});var t=r(149362),c="left",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Visual_Reference_Line_Data_Label_Left")}},{value:"right",displayName:function(V){return V.get("Visual_Reference_Line_Data_Label_Right")}}])},419580:function(ze,K,r){r.d(K,{aE:function(){return c},dt:function(){return s}});var t=r(149362),c="above",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Visual_Reference_Line_Data_Label_Above")}},{value:"under",displayName:function(V){return V.get("Visual_Reference_Line_Data_Label_Under")}}])},252844:function(ze,K,r){r.d(K,{YP:function(){return s},bb:function(){return c},dt:function(){return p}});var t=r(149362),c="before",s="none",p=(0,t.i)([{value:c,displayName:function(m){return m.get("Visual_Before")}},{value:"after",displayName:function(m){return m.get("Visual_After")}},{value:s,displayName:function(m){return m.get("None")}}])},725377:function(ze,K,r){r.d(K,{$G:function(){return a},BB:function(){return g},GA:function(){return l},J6:function(){return b},LK:function(){return V},P4:function(){return e},PN:function(){return f},YP:function(){return s},_k:function(){return d},an:function(){return v},e7:function(){return n},gQ:function(){return u},i4:function(){return m},ks:function(){return o},qQ:function(){return h}});var t=r(787941),c=r(648887),i=r(149362),s="None",V="Minutes",m="Hours",v="Days",e="Weeks",h="Calendar Weeks",n="Months",o="Calendar Months",u="Years",a="Calendar Years",l=(0,i.i)([{value:s,displayName:function(y){return y.get("Select")}},{value:v,displayName:function(y){return y.get("TimeUnit_Days")}},{value:e,displayName:function(y){return y.get("TimeUnit_Weeks")}},{value:h,displayName:function(y){return y.get("Visual_SlicerPeriod_CalWeeks")}},{value:n,displayName:function(y){return y.get("TimeUnit_Months")}},{value:o,displayName:function(y){return y.get("Visual_SlicerPeriod_CalMonths")}},{value:u,displayName:function(y){return y.get("TimeUnit_Years")}},{value:a,displayName:function(y){return y.get("Visual_SlicerPeriod_CalYears")}}]),d=(0,i.i)([{value:s,displayName:function(y){return y.get("Select")}},{value:V,displayName:function(y){return y.get("TimeUnit_Minutes")}},{value:m,displayName:function(y){return y.get("TimeUnit_Hours")}}]),b=(0,i.i)([{value:s,displayName:function(y){return y.get("Select")}},{value:v,displayName:function(y){return y.get("TimeUnit_Day")}},{value:e,displayName:function(y){return y.get("TimeUnit_Week")}},{value:n,displayName:function(y){return y.get("TimeUnit_Month")}},{value:u,displayName:function(y){return y.get("TimeUnit_Year")}}]),f=(0,i.i)([{value:s,displayName:function(y){return y.get("Select")}},{value:V,displayName:function(y){return y.get("TimeUnit_Minute")}},{value:m,displayName:function(y){return y.get("TimeUnit_Hour")}}]);function g(S){if(null==S)return null;switch(S){case c.hU.Second:return"Seconds";case c.hU.Minute:return V;case c.hU.Hour:return m;case c.hU.Day:return v;case c.hU.Week:return e;case c.hU.CalendarWeek:return h;case c.hU.Month:return n;case c.hU.CalendarMonth:return o;case c.hU.Year:return u;case c.hU.CalendarYear:return a;default:return void t.fF.assertNever(S)}}},505328:function(ze,K,r){r.d(K,{BB:function(){return v},Vk:function(){return V},Z$:function(){return s},dt:function(){return m},lp:function(){return p}});var t=r(787941),c=r(648887),i=r(149362),s="Last",p="Next",V="This",m=(0,i.i)([{value:s,displayName:function(h){return h.get("Visual_SlicerRange_Last")}},{value:p,displayName:function(h){return h.get("Visual_SlicerRange_Next")}},{value:V,displayName:function(h){return h.get("Visual_SlicerRange_This")}}]);function v(e){if(null==e)return null;switch(e){case c.KO.Last:return s;case c.KO.Current:return V;case c.KO.Next:return p;default:return void t.fF.assertNever(e)}}},707903:function(ze,K,r){r.d(K,{I:function(){return i},dt:function(){return s},we:function(){return c}});var t=r(149362),c="Top",i="Bottom",s=(0,t.i)([{value:c,displayName:function(V){return V.get("Top")}},{value:i,displayName:function(V){return V.get("Bottom")}}])},665226:function(ze,K,r){r.d(K,{Lu:function(){return v},S3:function(){return p},W3:function(){return c},ac:function(){return i},dt:function(){return h},hD:function(){return m},jH:function(){return s},rU:function(){return V},s6:function(){return e}});var t=r(149362),c="Category",i="Series",s="Tooltips",p="Value",V="albersUsa",m="equirectangular",v="mercator",e="orthographic",h=(0,t.i)([{value:V,displayName:function(o){return o.get("Visual_ShapeMap_Projection_AlbersUsa")}},{value:m,displayName:function(o){return o.get("Visual_ShapeMap_Projection_Equirectangular")}},{value:v,displayName:function(o){return o.get("Visual_ShapeMap_Projection_Mercator")}},{value:e,displayName:function(o){return o.get("Visual_ShapeMap_Projection_Orthographic")}}])},580968:function(ze,K,r){r.d(K,{d:function(){return i},m:function(){return c}});var t=r(149362),c=function(s){return s.AccentBar="accentBar",s.Arrow="arrow",s.ArrowChevron="arrowChevron",s.ArrowPentagon="arrowPentagon",s.Heart="heart",s.Hexagon="hexagon",s.Line="line",s.Octagon="octagon",s.Oval="oval",s.Parallelogram="parallelogram",s.Pentagon="pentagon",s.Pill="pill",s.Rectangle="rectangle",s.RectangleRounded="rectangleRounded",s.RectangleRoundedByPixel="rectangleRoundedByPixel",s.TabCutCorner="tabCutCorner",s.TabCutTopCorners="tabCutTopCorners",s.TabCutTopCornersByPixel="tabCutTopCornersByPixel",s.TabRoundCorner="tabRoundCorner",s.TabRoundTopCorners="tabRoundTopCorners",s.Speechbubble="speechbubbleRectangle",s.Trapezoid="trapezoid",s.TriangleIsoc="triangleIsoc",s.TriangleRight="triangleRight",s}({}),i=(0,t.i)([{value:c.Arrow,displayName:function(p){return p.get("ReportAppBar_ShapeArrow")}},{value:c.ArrowChevron,displayName:function(p){return p.get("Visual_Shape_ArrowChevron")}},{value:c.ArrowPentagon,displayName:function(p){return p.get("Visual_Shape_ArrowPentagon")}},{value:c.Heart,displayName:function(p){return p.get("Visual_Shape_Heart")}},{value:c.Hexagon,displayName:function(p){return p.get("Visual_Shape_Hexagon")}},{value:c.Line,displayName:function(p){return p.get("Visual_Shape_Line")}},{value:c.Octagon,displayName:function(p){return p.get("Visual_Shape_Octagon")}},{value:c.Oval,displayName:function(p){return p.get("ReportAppBar_ShapeOval")}},{value:c.Parallelogram,displayName:function(p){return p.get("Visual_Shape_Parallelogram")}},{value:c.Pentagon,displayName:function(p){return p.get("Visual_Shape_Pentagon")}},{value:c.Pill,displayName:function(p){return p.get("Visual_Shape_Pill")}},{value:c.Rectangle,displayName:function(p){return p.get("ReportAppBar_ShapeRectangle")}},{value:c.RectangleRounded,displayName:function(p){return p.get("Visual_Shape_RectangleRounded")}},{value:c.RectangleRoundedByPixel,displayName:function(p){return p.get("Visual_Shape_RectangleRounded")}},{value:c.TabCutCorner,displayName:function(p){return p.get("Visual_Shape_TabCutCorner")}},{value:c.TabCutTopCorners,displayName:function(p){return p.get("Visual_Shape_TabCutTopCorners")}},{value:c.TabCutTopCornersByPixel,displayName:function(p){return p.get("Visual_Shape_TabCutTopCorners")}},{value:c.TabRoundCorner,displayName:function(p){return p.get("Visual_Shape_TabRoundCorner")}},{value:c.TabRoundTopCorners,displayName:function(p){return p.get("Visual_Shape_TabRoundTopCorners")}},{value:c.Speechbubble,displayName:function(p){return p.get("Visual_Shape_SpeechBubble")}},{value:c.Trapezoid,displayName:function(p){return p.get("Visual_Shape_Trapezoid")}},{value:c.TriangleIsoc,displayName:function(p){return p.get("Visual_Shape_TriangleIsoc")}},{value:c.TriangleRight,displayName:function(p){return p.get("Visual_Shape_TriangleRight")}}])},395739:function(ze,K,r){r.d(K,{H:function(){return c},d:function(){return i}});var t=r(149362),c=function(s){return s[s.Chevron=0]="Chevron",s[s.PlusMinus=1]="PlusMinus",s[s.Caret=2]="Caret",s}({}),i=(0,t.i)([{value:c.Chevron,displayName:function(p){return p.get("Icon_Chevron")}},{value:c.PlusMinus,displayName:function(p){return p.get("Icon_PlusMinus")}},{value:c.Caret,displayName:function(p){return p.get("Icon_Caret")}}])},759510:function(ze,K,r){r.d(K,{Ek:function(){return f},G5:function(){return b},GV:function(){return n},Ih:function(){return u},K8:function(){return e},Lw:function(){return d},RB:function(){return m},Zr:function(){return h},bb:function(){return s},dt:function(){return a},e4:function(){return p},j6:function(){return v},l6:function(){return l},nW:function(){return g},of:function(){return o},vX:function(){return V}});var t=r(787941),c=r(648887),i=r(149362),s="Before",p="After",V="Between",m="Basic",v="Dropdown",e="Relative",h="Single",n="RelativeTime",o="HorizontalList",u="VerticalList",a=(0,i.i)([{value:u,displayName:function(y){return y.get("Visual_SliderMode_VerticalList")}},{value:o,displayName:function(y){return y.get("Tile_Generic")}},{value:V,displayName:function(y){return y.get("Visual_SliderMode_Between")}},{value:s,displayName:function(y){return y.get("Visual_Before")}},{value:p,displayName:function(y){return y.get("Visual_After")}},{value:m,displayName:function(y){return y.get("Visual_SliderMode_Basic")}},{value:v,displayName:function(y){return y.get("Visual_SliderMode_Dropdown")}},{value:e,displayName:function(y){return y.get("Visual_SliderMode_RelativeDate")}},{value:h,displayName:function(y){return y.get("Visual_SliderMode_SingleVal")}},{value:n,displayName:function(y){return y.get("Visual_SliderMode_RelativeTime")}}]);function l(S){return S===s||S===V||S===p||S===h}function d(S){return S===s||S===V||S===p}function b(S){return S===e||S===n}function f(S){return S===m||S===v}function g(S){switch(S){case n:return c.wj.Time;case e:return c.wj.Date;default:t.fF.assertFail("The following slicer mode is not a relative filter: ".concat(S))}}},391980:function(ze,K,r){r.d(K,{d:function(){return i},i:function(){return c}});var t=r(149362),c=function(s){return s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s}({}),i=(0,t.i)([{value:c.Vertical,displayName:function(p){return p.get("Slicer_Orientation_Vertical")}},{value:c.Horizontal,displayName:function(p){return p.get("Slicer_Orientation_Horizontal")}}])},694074:function(ze,K,r){r.d(K,{h:function(){return i},r:function(){return c}});var t=r(149362),c=function(s){return s.auto="auto",s.custom="custom",s}({}),i=(0,t.i)([{value:c.auto,displayName:function(p){return p.get("Visual_Auto")}},{value:c.custom,displayName:function(p){return p.get("Custom")}}])},518284:function(ze,K,r){r.d(K,{O:function(){return i},U:function(){return c}});var t=r(149362),c=function(s){return s.line="line",s.column="column",s}({}),i=(0,t.i)([{value:c.line,displayName:function(p){return p.get("Visual_Shape_Line")}},{value:c.column,displayName:function(p){return p.get("Column")}}])},635528:function(ze,K,r){r.d(K,{$6:function(){return c},O3:function(){return s},Ps:function(){return p},Z$:function(){return V},Zc:function(){return i},dt:function(){return e},pd:function(){return m},qC:function(){return v}});var t=r(149362),c=1,i=2,s=4,p=8,V=16,m=32,v=128,e=(0,t.i)([{value:c,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_All")}},{value:i,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_Highest")}},{value:s,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_Lowest")}},{value:p,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_First")}},{value:V,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_Last")}},{value:m,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_Negative")}},{value:v,displayName:function(n){return n.get("Sparkline_Formatting_MarkerType_Isolated")}}])},879412:function(ze,K,r){r.d(K,{Ai:function(){return s},GA:function(){return e},K2:function(){return V},R5:function(){return c},TB:function(){return i},UQ:function(){return p},dt:function(){return h},mH:function(){return v},tY:function(){return m}});var t=r(149362),c="bottomLeft",i="bottomRight",s="rightDown",p="rightUp",V="topRight",m="topLeft",v="leftUp",e="leftDown",h=(0,t.i)([{value:c,displayName:function(o){return o.get("Visual_LabelPosition_BottomLeft")}},{value:i,displayName:function(o){return o.get("Visual_LabelPosition_BottomRight")}},{value:s,displayName:function(o){return o.get("Visual_Shape_ChatPosition_RightDown")}},{value:p,displayName:function(o){return o.get("Visual_Shape_ChatPosition_RightUp")}},{value:V,displayName:function(o){return o.get("Visual_LabelPosition_TopRight")}},{value:m,displayName:function(o){return o.get("Visual_LabelPosition_TopLeft")}},{value:v,displayName:function(o){return o.get("Visual_Shape_ChatPosition_LeftUp")}},{value:e,displayName:function(o){return o.get("Visual_Shape_ChatPosition_LeftDown")}}])},14083:function(ze,K,r){r.d(K,{Bo:function(){return m},G:function(){return V},M4:function(){return i},S$:function(){return l},S9:function(){return p},Ss:function(){return e},Wl:function(){return o},X9:function(){return u},Xl:function(){return h},dt:function(){return d},ei:function(){return n},fC:function(){return c},p8:function(){return s},r5:function(){return a},sp:function(){return v}});var t=r(149362),c="australia.states.topo",i="austria.states.topo",s="brazil.states.topo",p="canada.provinces.topo",V="france.regions.v2.topo",m="germany.states.topo",v="ireland.counties.v2.topo",e="italy.regions.topo",h="mexico.states.topo",n="netherlands.provinces.topo",o="uk.countries.topo",u="usa.states.topo",a="france.regions.topo",l="ireland.counties.topo",d=(0,t.i)([{value:c,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_AustraliaStates")}},{value:i,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_AustriaStates")}},{value:s,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_BrazilStates")}},{value:p,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")}},{value:V,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_FranceRegions")}},{value:a,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")}},{value:m,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_GermanyStates")}},{value:v,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_IrelandCounties")}},{value:l,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")}},{value:e,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_ItalyRegions")}},{value:h,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_MexicoStates")}},{value:n,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")}},{value:o,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_UkCountries")}},{value:u,displayName:function(f){return f.get("Visual_ShapeMap_StandardMaps_UsaStates")}}])},383527:function(ze,K,r){r.d(K,{A:function(){return i},t:function(){return c}});var t=r(149362),c=function(s){return s.miter="miter",s.round="round",s.bevel="bevel",s}({}),i=(0,t.i)([{value:c.miter,displayName:function(p){return p.get("Visual_StrokeLineJoin_Miter")}},{value:c.round,displayName:function(p){return p.get("Visual_StrokeLineJoin_Round")}},{value:c.bevel,displayName:function(p){return p.get("Visual_StrokeLineJoin_Bevel")}}])},648233:function(ze,K,r){r.d(K,{Dd:function(){return v},Dv:function(){return i},XG:function(){return e},qH:function(){return m},sb:function(){return s}});var t=r(787941),c=r(149362),i=function(h){return h.dashed="dashed",h.solid="solid",h.dotted="dotted",h.custom="custom",h}({}),s=(0,c.i)([{value:i.dashed,displayName:function(n){return n.get("Visual_LineStyle_Dashed")}},{value:i.solid,displayName:function(n){return n.get("Visual_LineStyle_Solid")}},{value:i.dotted,displayName:function(n){return n.get("Visual_LineStyle_Dotted")}}]);(0,c.i)([{value:i.dashed,displayName:function(n){return n.get("Visual_LineStyle_Dashed")}},{value:i.solid,displayName:function(n){return n.get("Visual_LineStyle_Solid")}},{value:i.dotted,displayName:function(n){return n.get("Visual_LineStyle_Dotted")}},{value:i.custom,displayName:function(n){return n.get("Custom")}}]);var m=function(h){return h.none="none",h.round="round",h.square="square",h}({}),v=(0,c.i)([{value:m.round,displayName:function(n){return n.get("Visual_StrokeLineJoin_Round")}},{value:m.square,displayName:function(n){return n.get("Outline_Dashes_Square_Dot")}},{value:m.none,displayName:function(n){return n.get("None")}}]);function e(h){switch(h){case i.dashed:return"7,5";case i.dotted:return"2.5,3.1";case i.solid:case i.custom:return null;default:return t.fF.assertNever(h),null}}},834436:function(ze,K,r){r.d(K,{H:function(){return c},K:function(){return i}});var t=r(149362),c=function(s){return s.auto="Auto",s.left="Left",s.center="Center",s.right="Right",s}({}),i=(0,t.i)([{value:c.auto,displayName:function(p){return p.get("Visual_TextAlignment_Auto")}},{value:c.left,displayName:function(p){return p.get("Visual_TextAlignment_Left")}},{value:c.center,displayName:function(p){return p.get("Visual_TextAlignment_Center")}},{value:c.right,displayName:function(p){return p.get("Visual_TextAlignment_Right")}}])},646875:function(ze,K,r){r.d(K,{A:function(){return c},D:function(){return i}});var t=r(149362),c=function(s){return s.SeriesName="Series name",s.Custom="Custom",s}({}),i=(0,t.i)([{value:c.SeriesName,displayName:function(p){return p.get("Visual_Label_TitleLabelContent_SeriesName")}},{value:c.Custom,displayName:function(p){return p.get("Custom")}}])},639907:function(ze,K,r){r.d(K,{VX:function(){return s},cm:function(){return i},cy:function(){return p}});var t=r(149362),c=r(787941),i=function(m){return m.Normal="Normal",m.Heading2="Heading2",m.Heading3="Heading3",m.Heading4="Heading4",m.Heading5="Heading5",m.Heading6="Heading6",m}({}),s=(0,t.i)([{value:i.Normal,displayName:function(v){return v.get("Normal")}},{value:i.Heading2,displayName:function(v){return v.get("Heading_2")}},{value:i.Heading3,displayName:function(v){return v.get("Heading_3")}},{value:i.Heading4,displayName:function(v){return v.get("Heading_4")}},{value:i.Heading5,displayName:function(v){return v.get("Heading_5")}},{value:i.Heading6,displayName:function(v){return v.get("Heading_6")}}]);function p(m){switch(m){case i.Normal:return"p";case i.Heading2:return"h2";case i.Heading3:return"h3";case i.Heading4:return"h4";case i.Heading5:return"h5";case i.Heading6:return"h6";default:return c.fF.assertNever(m),"p"}}},981597:function(ze,K,r){r.d(K,{Q4:function(){return c},bZ:function(){return s},cL:function(){return i}});var t=r(149362),c=function(p){return p.top="top",p.middle="middle",p.bottom="bottom",p}({}),i=function(p){return p.top="top",p.bottom="bottom",p}({}),s=(0,t.i)([{value:i.top,displayName:function(V){return V.get("Top")}},{value:i.bottom,displayName:function(V){return V.get("Bottom")}}])},669780:function(ze,K,r){r.d(K,{EH:function(){return n},F3:function(){return u},Kx:function(){return m},Ok:function(){return o},RB:function(){return e},XZ:function(){return V},cB:function(){return l},cp:function(){return i},dx:function(){return p},nM:function(){return v},s0:function(){return a},tO:function(){return h},tV:function(){return s}});var t=r(187810),c=r(803018),i=c.Wn.regular.css,s=function(d){return d[d.Top=0]="Top",d[d.Bottom=1]="Bottom",d[d.Right=2]="Right",d[d.Left=3]="Left",d[d.None=4]="None",d[d.TopCenter=5]="TopCenter",d[d.BottomCenter=6]="BottomCenter",d[d.RightCenter=7]="RightCenter",d[d.LeftCenter=8]="LeftCenter",d[d.TopRight=9]="TopRight",d[d.BottomRight=10]="BottomRight",d}({});function p(d){return!d||null==d.show||d.show}function V(d){var b=d.family===i;return(0,t.ED)(d,{family:b?c.Wn.semibold.css:void 0,weight:b?void 0:"bold"})}function m(d){switch(d){case s.Bottom:case s.BottomCenter:case s.BottomRight:return!0;default:return!1}}function v(d){switch(d){case s.Left:case s.LeftCenter:return!0;default:return!1}}function e(d){switch(d){case s.Top:case s.TopCenter:case s.TopRight:return!0;default:return!1}}function h(d){switch(d){case s.Right:case s.RightCenter:return!0;default:return!1}}function n(d){switch(d){case s.BottomCenter:case s.LeftCenter:case s.RightCenter:case s.TopCenter:return!0;default:return!1}}function o(d){switch(d){case s.TopRight:case s.BottomRight:return!0;default:return!1}}function u(d){switch(d){case s.Top:case s.Bottom:return!0;default:return!1}}function a(d){return e(d)||m(d)}function l(d){return v(d)||h(d)}},951467:function(ze,K,r){r.d(K,{$B:function(){return G},C_:function(){return A},Dm:function(){return a},Dr:function(){return D},EN:function(){return n},EY:function(){return b},El:function(){return pe},Fy:function(){return I},GU:function(){return ve},Gh:function(){return s},IX:function(){return x},JG:function(){return T},L$:function(){return g},MX:function(){return l},Mk:function(){return P},Sm:function(){return te},TH:function(){return u},TS:function(){return E},Tr:function(){return F},U9:function(){return Q},VS:function(){return ce},Vt:function(){return H},W0:function(){return B},Yx:function(){return w},_7:function(){return U},aV:function(){return p},aj:function(){return j},e:function(){return N},er:function(){return L},fi:function(){return h},fk:function(){return M},iB:function(){return je},ij:function(){return de},lC:function(){return R},ni:function(){return C},ox:function(){return De},p7:function(){return y},pi:function(){return Y},pj:function(){return We},rO:function(){return d},s2:function(){return o},tb:function(){return Ae},v3:function(){return v},we:function(){return S},x7:function(){return e},x8:function(){return se},zC:function(){return O},zI:function(){return V},zX:function(){return W}});var t=r(226514),c=r(787941),s=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"NoValidGeotaggedCategory"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("NoValidGeotaggedCategoryMessage"),title:le.get("NoValidGeotaggedCategoryKey"),detail:le.get("NoValidGeotaggedCategoryValue")}},_e}(),p=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"InvalidGeocodingCulture"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("Visual_MapGeocodingCultureInvalid_Message"),title:le.get("Visual_MapGeocodingCultureInvalid_Key"),detail:le.get("Visual_MapGeocodingCultureInvalid_Value")}},_e}(),V=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"InvalidLatLong"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("InvalidLatLongMessage"),title:le.get("InvalidLatLongKey"),detail:le.get("InvalidLatLongValue")}},_e}(),v=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"NegativeValuesNotSupported"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_NegativeValues"),title:"",detail:""}},_e}(),e=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"ModifiedLabelValueWarning"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_ModifiedLabelValue"),title:"",detail:""}},_e}(),h=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AllNegativeValuesNotSupported"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_AllNegativeValues"),title:"",detail:""}},_e}(),n=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"NaNNotSupported"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_NanValues"),title:"",detail:""}},_e}(),o=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"InfinityValuesNotSupported"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_InfinityValues"),title:"",detail:""}},_e}(),u=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"ValuesOutOfRange"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_VisualizationOutOfRange"),title:"",detail:""}},_e}(),a=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"InvalidAxisRange"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="VisualWarning_InvalidAxisRange";return{message:le.get(Z),title:le.get(Z),detail:""}},_e}(),l=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"ZeroValuesNotSupported"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="VisualWarning_ZeroValues";return{message:le.get(Z),title:le.get("VisualWarning_ZeroValuesTitle"),detail:le.get(Z)}},_e}(),d=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AlignZerosWithCustomDomain"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="VisualWarning_AlignZerosWithCustomDomain";return{message:le.get(Z),title:le.get("VisualWarning_AlignZerosWithCustomDomainTitle"),detail:le.get(Z)}},_e}(),b=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"VisualKPIDataMissing"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("Visual_KPI_DataMissing"),title:"",detail:""}},_e}(),g=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"DateSlicerNoData"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("VisualWarning_DateSlicerNoData"),title:"",detail:""}},_e}(),S=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"DataLabelsNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="DataLabelsNotRenderedMessage";return{message:le.get(Z),title:le.get(Z),detail:le.get("DataLabelsNotRenderedValue")}},_e}(),y=function(){function _e(le){this.propertyName=le}return Object.defineProperty(_e.prototype,"code",{get:function(){return"LegendFontSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_LegendFontSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_LegendFontSize")}},_e}(),C=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"LegendNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_LegendNotRendered";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_LegendNotRendered")}},_e}(),E=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"LegendLocation"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_LegendLocation";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_LegendLocation")}},_e}(),D=function(){function _e(le){this.propertyName=le}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AxisFontSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_AxisFontSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_AxisFontSize")}},_e}(),P=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AxisAndAxisLabelsNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_AxisNotRendered";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_AxisNotRendered")}},_e}(),M=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AxisLabelsNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_AxisLabelNotRendered";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_AxisLabelNotRendered")}},_e}(),T=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"ZoomSlidersNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_ZoomSlidersNotRendered";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_ZoomSlidersNotRendered")}},_e}(),R=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SmallMultiplesSubheaderNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersNotRendered";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersNotRendered")}},_e}(),B=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SmallMultiplesSubheaderFontSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersFontSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersFontSize")}},_e}(),N=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SmallMultiplesPaddingSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_SmallMultiplesPaddingSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_SmallMultiplesPaddingSize")}},_e}(),x=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SmallMultiplesGridlinesSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_SmallMultiplesGridlinesSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_SmallMultiplesGridlinesSize")}},_e}(),A=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SlicerHeaderNotRendered"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_SlicerHeaderNotRendered";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_SlicerHeaderNotRendered")}},_e}(),I=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SlicerHeaderFontSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_SlicerHeaderFontSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_SlicerHeaderFontSize")}},_e}(),w=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"HorizontalSlicerFontSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_HorizontalSlicerFontSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_HorizontalSlicerFontSize")}},_e}(),F=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return _e.code},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="NoIdentityExprMessage";return{message:le.get(Z),title:le.get(Z),detail:le.get("NoIdentityExprValue")}},_e.code="NoIdentityExprWarning",_e}(),O=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return _e.code},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("Visual_Error_SelectionNotShownMessage"),title:le.get("Visual_Error_SelectionNotShownKey"),detail:le.get("Visual_Error_SelectionNotShownValue")}},_e.code="OnRestoreSelectionNotSupportedWarning",_e}(),L=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"DataLabelsFontSize"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){var Z="Visual_ResponsiveWarningMessage_DataLabelsFontSize";return{message:le.get(Z),title:le.get(Z),detail:le.get("Visual_ResponsiveWarningValue_DataLabelsFontSize")}},_e}(),W=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AzureMapsInvalidLatLong"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("InvalidLatLongMessage"),title:le.get("InvalidLatLongKey"),detail:le.get("AzureMapsInvalidLatLongValue")}},_e}(),U=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AzureMapsControlLoad"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("AzureMapsControlLoadMessage"),title:le.get("AzureMapsControlLoadTitle"),detail:le.get("AzureMapsControlLoadDetail")}},_e}(),j=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AzureMapsBrowserUnsupported"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("AzureMapsBrowserUnsupportedMessage"),title:le.get("AzureMapsBrowserUnsupportedTitle"),detail:le.get("AzureMapsBrowserUnsupportedDetail")}},_e}(),z=function(){function _e(){}return _e.prototype.getMessages=function(le,Z,ie,me){return{message:Z&&le.get(Z),title:ie&&le.get(ie),detail:me&&le.get(me)}},_e}(),G=function(_e){function le(){return null!==_e&&_e.apply(this,arguments)||this}return(0,t.__extends)(le,_e),Object.defineProperty(le.prototype,"code",{get:function(){return"AzureMapsFileRead"},enumerable:!1,configurable:!0}),le.prototype.getMessages=function(Z){return _e.prototype.getMessages.call(this,Z,"AzureMapsFileReadMessage","AzureMapsFileReadTitle","AzureMapsFileReadDetail")},le}(z),te=function(_e){function le(){return null!==_e&&_e.apply(this,arguments)||this}return(0,t.__extends)(le,_e),Object.defineProperty(le.prototype,"code",{get:function(){return"AzureMapsFilledMapData"},enumerable:!1,configurable:!0}),le.prototype.getMessages=function(Z){return _e.prototype.getMessages.call(this,Z,"AzureMapsFilledMapDataMessage","AzureMapsFilledMapDataTitle","AzureMapsFilledMapDataDetail")},le}(z),Q=function(_e){function le(){return null!==_e&&_e.apply(this,arguments)||this}return(0,t.__extends)(le,_e),Object.defineProperty(le.prototype,"code",{get:function(){return"UndefinedToken"},enumerable:!1,configurable:!0}),le.prototype.getMessages=function(Z){return _e.prototype.getMessages.call(this,Z,"AzureMapsRequestErrorTitle",void 0,void 0)},le}(z),H=function(_e){function le(){return null!==_e&&_e.apply(this,arguments)||this}return(0,t.__extends)(le,_e),Object.defineProperty(le.prototype,"code",{get:function(){return"UnrecognizedCode"},enumerable:!1,configurable:!0}),le.prototype.getMessages=function(Z){return _e.prototype.getMessages.call(this,Z,"AzureMapsRequestErrorTitle",void 0,void 0)},le}(z),de=function(_e){function le(){return null!==_e&&_e.apply(this,arguments)||this}return(0,t.__extends)(le,_e),Object.defineProperty(le.prototype,"code",{get:function(){return"RequestError"},enumerable:!1,configurable:!0}),le.prototype.getMessages=function(Z){return _e.prototype.getMessages.call(this,Z,"AzureMapsRequestErrorTitle",void 0,void 0)},le}(z),Y=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"ShapeMapBoundsFailure"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("ShapeMapBoundsMessage"),title:le.get("ShapeMapBoundsitle"),detail:le.get("ShapeMapBoundsDetail")}},_e}(),se=function(_e){function le(){return null!==_e&&_e.apply(this,arguments)||this}return(0,t.__extends)(le,_e),Object.defineProperty(le.prototype,"code",{get:function(){return"AzureMapsSetCamera"},enumerable:!1,configurable:!0}),le.prototype.getMessages=function(Z){return _e.prototype.getMessages.call(this,Z,"AzureMapsSetCameraTitle","AzureMapsSetCameraTitle","AzureMapsSetCameraDetail")},le}(z),ce=function(){function _e(le,Z,ie){this.titleKey=Z,this.detailKey=ie,this._code=le}return Object.defineProperty(_e.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}},_e}(),pe=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"SparklineDataCountExceeded"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("Sparkline_Visual_DataWarning"),title:"",detail:""}},_e}(),ve=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AINarrativesConsumerDataReductionWarning"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("AINarrativesVisual_ConsumerDataReductionWarning"),title:"",detail:""}},_e}(),De=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AINarrativesAuthorDataReductionWarning"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("AINarrativesVisual_AuthorDataReductionWarning"),title:"",detail:""}},_e}(),We=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AINarrativesConsumerLLMLimitWarning"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("AINarrativesVisual_ConsumerLLMLimitWarning"),title:"",detail:""}},_e}(),je=function(){function _e(){}return Object.defineProperty(_e.prototype,"code",{get:function(){return"AINarrativesAuthorLLMLimitWarning"},enumerable:!1,configurable:!0}),_e.prototype.getMessages=function(le){return{message:le.get("AINarrativesVisual_AuthorLLMLimitWarning"),title:"",detail:""}},_e}(),Ae=function(){function _e(){}return _e.prototype.add=function(){for(var le,Z=[],ie=0;ie<arguments.length;ie++)Z[ie]=arguments[ie];return c.fF.assertValue(Z,"warnings"),this.warnings||(this.warnings=[]),(le=this.warnings).push.apply(le,Z||[]),this},_e.prototype.addForVisualObject=function(le){for(var Z=[],ie=1;ie<arguments.length;ie++)Z[ie-1]=arguments[ie];c.fF.assertValue(le,"objectName"),c.fF.assertValue(Z,"objectWarning"),this.visualObjectWarnings||(this.visualObjectWarnings={});var me=this.visualObjectWarnings[le]=this.visualObjectWarnings[le]||[];return me.push.apply(me,Z||[]),this},_e.prototype.removeForVisualObject=function(le){return this.visualObjectWarnings&&(this.visualObjectWarnings[le]=void 0),this},_e.prototype.complete=function(){if(!_.isEmpty(this.warnings)||null!=this.visualObjectWarnings)return{warnings:this.warnings,visualObjectWarnings:this.visualObjectWarnings}},_e}()},20806:function(ze,K,r){r.d(K,{Aa4:function(){return ta},BQZ:function(){return Li},BzC:function(){return Di},FPM:function(){return ea},Fjb:function(){return Z},GHz:function(){return xi},Go5:function(){return Ji},HnK:function(){return Vi},Iqw:function(){return wi},LtN:function(){return ra},MSF:function(){return Wi},NKh:function(){return Ei},NSv:function(){return Ni},P32:function(){return Pi},Rm8:function(){return me},Trq:function(){return Yi},WDM:function(){return Gi},_gT:function(){return ie},dzr:function(){return mi},eqJ:function(){return Oi},fm1:function(){return l},gvl:function(){return Xi},j$j:function(){return ji},jbo:function(){return oa},k4V:function(){return Ai},oiJ:function(){return li},pn4:function(){return Hi},rbA:function(){return Ri},rte:function(){return na},ueG:function(){return Mi},vXN:function(){return ui},voY:function(){return ia},xMU:function(){return le},xaj:function(){return Fi},yGN:function(){return oi},ySc:function(){return ci}});var l="me",le="Report",Z="Dashboard",ie="NavModel",me="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",Vi="; ",xi="browserLanguage",Ei="PowerBIUserQuotaExceeded",Di="PowerBIGroupQuotaExceeded",mi=5,Ai=260,Pi="OverwriteNonLocalPackageWithLocalFileError",Ni="InformationProtectionInsufficientUsageRights",ui="ReportWithDisplayNameForTheModelExists",wi="MoreThanOneDuplicateReportFoundError",ci="ReplaceOriginalReportForPowerBICompanionNotSupported",Ri="PowerBIModelNotFoundException",Hi="MipClientUnauthorizedUser",Gi="MissingMandatorySensitivityLabelException",Mi="ModelDiagramLayoutSizeTooBig",Xi={type:4,name:"updateUrlAndAcquireApp"},Ji="dismissed",Yi="clicked",ea=9e6,Wi=216e5,Oi="https://go.microsoft.com/fwlink/?linkid=844603",Li="pbi-glyph-my-apps",ta="pbi-glyph-gauge",oi="pbi-glyph-barchart",ra="pbi-glyph-rdl-report",ia="pbi-glyph-database",ji="pbi-glyph-collections",na="pbi-glyph-rocket",oa="pbi-glyph-trophy2",Fi=200,li={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},59038:function(ze,K,r){function t(i,s,p){s.emailValidationError=s.emailValidationWarning="",s.showSecurityGroupUpgradeAccount=!1;var V=i.promiseFactory.defer();return i.domainHelperService.getVerifiedDomains().then(function(m){var v={},e={},h=null,n="",o=0,u=0,a=i.licenseEnforcementService.supportsGroups();if(s&&s.emailsList){var l=s.emailsList.inputUserList,d=p.maxNumberOfEmailsAllowedAtATime;d>0&&l.length>d&&(s.emailValidationError=i.localizationService.format("MaxOneTimeEmailCountReached",[d]),h=2,n="User entered ".concat(l.length," email addresses"));for(var b=!1,f=0,g=l;f<g.length;f++){var S=g[f];if(S.userPrincipalName){var C=S.userPrincipalName.split("@")[1].toLowerCase();m.verifiedDomains[C.toUpperCase()]||(v[C]=C,o++),m.blockedDomains[C.toUpperCase()]&&(e[C]=C,u++)}S.isSecurityGroup&&!a&&(b=!0)}var E="",D=0;for(var P in v)D++,E+=P+", ";var M="",T=0;for(var R in e)T++,M+=R+", ";b&&(s.showSecurityGroupUpgradeAccount=!0),_.endsWith(E,", ")&&(E=E.substring(0,E.length-2)),_.endsWith(M,", ")&&(M=M.substring(0,M.length-2)),!p.disableExternalSharingValidationForEmailSubscriptions&&!i.featureSwitchService.featureSwitches.externalSharingEnabled&&D>0?(s.emailValidationError=i.localizationService.format("Sharing_ExternalSharingDisabled"),h=0,n=E):!p.disableExternalSharingValidationForEmailSubscriptions&&p.shouldBlockExternalDomains&&D>0?(s.emailValidationError=i.localizationService.format("Sharing_EmailDomainNotInTenant"),h=0,n=E):p.shouldBlockConsumerDomains&&T>0?(s.emailValidationError=i.localizationService.format("Sharing_BlockedDomains",[M]),h=1,n=M):D>0&&(s.emailValidationWarning=i.localizationService.format("Sharing_ExternalOrganization",[E]))}_.isEmpty(s.emailValidationError)?V.resolve({externalEmailCount:o,consumerEmailCount:u}):V.reject({errorReason:n,errorType:h})},function(m){V.reject(null)}),V.promise}function c(i){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(i)}r.d(K,{X:function(){return c},r:function(){return t}})},747e3:function(ze,K,r){r.d(K,{P:function(){return t}});var t=function(){return function(i){this.contract=i}}()},635693:function(ze,K,r){r.d(K,{Q:function(){return g}});var t=r(226514),c=r(320569),i=r(847444),s=r(691203),p=r(854479),V=r(318220),m=r(787941),v=r(299747),e=r(587318),h=r(731479),n=r(123694),o=r(780760),u=r(926201);function g(E,D,P,M,T,R){return new S(E,D,P,M,T,R)}var S=function(){function E(D,P,M,T,R,B){var N=this;this.asyncFeatureSwitchService=D,this.promiseFactory=P,this.resourceLoader=M,this.telemetryService=T,this.options=R,this.publicCustomVisualService=B,this.storage=new n.ZM;var x=y(!0,2,!1),A=y(!0,4,!0),I=y(!1,3,!0);this.properties={cardSmallViewportProperties:{cardSmallViewportWidth:x},textboxSmallViewportProperties:{minWidthToScaleFontSize:A,minHeightToScaleFontSize:I}},this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(function(w){for(var F in V.L)N.storage.loadPlugin(F,C(F,N.options,N.properties,w))})}return E.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},E.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},E.prototype.ensureTrustedVisualPlugins=function(D){(0,n.Os)(this.storage,D)},E.prototype.ensurePlugins=function(D,P){m.fF.assertValue(this.promiseFactory,"promiseFactory");var M=[];if(D&&D.length)for(var T=0,R=D;T<R.length;T++){var B=R[T];(0,u.JZ)(B)&&M.push(this.ensurePlugin(B,!1))}return this.promiseFactory.allSettled(M)},E.prototype.ensurePlugin=function(D,P){var M=this;return this.asyncFeatureSwitchService.getFeatureSwitches().then(function(T){return T.consumePublicCvsWithoutRps?M.publicCustomVisualService.getPublicVisualTypes([D.name]).then(function(R){return D.name!==R[0]||D.isPublic?(0,n.wl)(M.storage,M.promiseFactory,M.resourceLoader,D,!1,M.telemetryService):M.promiseFactory.resolve()}):(0,n.wl)(M.storage,M.promiseFactory,M.resourceLoader,D,!1,M.telemetryService)})},E.prototype.getPlugin=function(D){var P=this.storage.getLoadedPlugin(D);return!P&&V.L[D]&&(this.storage.loadPlugin(D,C(D,this.options,this.properties,this.asyncFeatureSwitchService.featureSwitches)),P=this.storage.getLoadedPlugin(D)),P},E.prototype.capabilities=function(D){var P=this.getPlugin(D);return P?P.capabilities:void 0},E.prototype.isCustomVisual=function(D){return(0,h.vh)(this.getPlugin(D),D)},E.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!1}},E.prototype.getTelemetryHostInformation=function(){return{name:"Dashboard"}},E.prototype.isScriptVisual=function(D){return(0,h.ww)(this.getPlugin(D))},E.prototype.isScriptVisualQueryable=function(D){return(0,h.Se)(D,this.asyncFeatureSwitchService.featureSwitches)},E.prototype.isLightWeightRenderingVisual=function(D){return(0,h.vt)(this.getPlugin(D))},E.prototype.getStorage=function(){return this.storage},E}();function y(E,D,P){var T=0;return P&&(T=E?20:8),(E?c.I:c.Zg)*D+2*c.lV*(D-1)-T-(E?0:42)}function C(E,D,P,M){var T=this,R=D.tooltipsEnabled;M=M?_.clone(M):{};var B=V.L,N=function(){throw new Error("dashboardVisualPluginService: 'Create' function is deprecated")};switch(E){case V.L.barChart.name:return(0,o.i8)(V.L.barChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return x=I.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return A=I.sent().ColumnChartAnimator,[2,new x({chartType:7,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.clusteredBarChart.name:return(0,o.i8)(V.L.clusteredBarChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return x=I.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return A=I.sent().ColumnChartAnimator,[2,new x({chartType:6,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.clusteredColumnChart.name:return(0,o.i8)(V.L.clusteredColumnChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return x=I.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return A=I.sent().ColumnChartAnimator,[2,new x({chartType:4,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.columnChart.name:return(0,o.i8)(V.L.columnChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return x=I.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return A=I.sent().ColumnChartAnimator,[2,new x({chartType:5,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.donutChart.name:return(0,o.i8)(V.L.donutChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("donutChart").then(r.bind(r,900172))];case 1:return[2,new(0,A.sent().DonutChart)({tooltipsEnabled:R})]}})})});case V.L.funnel.name:return(0,o.i8)(V.L.funnel,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("funnelChart").then(r.bind(r,819239))];case 1:return[2,new(0,A.sent().FunnelChart)({tooltipsEnabled:R})]}})})});case V.L.gauge.name:return(0,o.i8)(V.L.gauge,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("gauge").then(r.bind(r,80168))];case 1:return[2,new(0,A.sent().Gauge)({animator:new i.r5,tooltipsEnabled:R},M)]}})})});case V.L.hundredPercentStackedBarChart.name:return(0,o.i8)(V.L.hundredPercentStackedBarChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:8,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.hundredPercentStackedColumnChart.name:return(0,o.i8)(V.L.hundredPercentStackedColumnChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:9,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.lineChart.name:return(0,o.i8)(V.L.lineChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:0,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.areaChart.name:return(0,o.i8)(V.L.areaChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:1,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.stackedAreaChart.name:return(0,o.i8)(V.L.stackedAreaChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:2,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.hundredPercentStackedAreaChart.name:return(0,o.i8)(V.L.hundredPercentStackedAreaChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:3,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.lineClusteredColumnComboChart.name:return(0,o.i8)(V.L.lineClusteredColumnComboChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:13,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.lineStackedColumnComboChart.name:return(0,o.i8)(V.L.lineStackedColumnComboChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:14,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.pieChart.name:return(0,o.i8)(V.L.pieChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("donutChart").then(r.bind(r,900172))];case 1:return[2,new(0,A.sent().DonutChart)({sliceWidthRatio:0,tooltipsEnabled:R})]}})})});case V.L.ribbonChart.name:return(0,o.i8)(V.L.ribbonChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return x=I.sent().CartesianChart,[4,r.e("columnChartAnimator").then(r.bind(r,385137))];case 2:return A=I.sent().ColumnChartAnimator,[2,new x({chartType:10,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.scatterChart.name:return(0,o.i8)(V.L.scatterChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:11,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.treemap.name:return(0,o.i8)(V.L.treemap,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("treemap").then(r.bind(r,80062))];case 1:return[2,new(0,A.sent().Treemap)({isScrollable:!1,tooltipsEnabled:R})]}})})});case V.L.waterfallChart.name:return(0,o.i8)(V.L.waterfallChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:12,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.map.name:return(0,o.i8)(V.L.map,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return[2,new(0,A.sent().Map)({tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case V.L.filledMap.name:return(0,o.i8)(V.L.filledMap,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("map").then(r.bind(r,982174))];case 1:return[2,new(0,A.sent().Map)({filledMap:!0,tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case V.L.azureMap.name:return(0,o.i8)(V.L.azureMap,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("azureMap").then(r.bind(r,720748))];case 1:return[2,new(0,A.sent().AzureMap)({tooltipsEnabled:R,disableZooming:!0,disablePanning:!0,featureSwitches:M})]}})})});case V.L.actionButton.name:return(0,o.i8)(V.L.actionButton,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("actionButton").then(r.bind(r,555972))];case 1:return[2,new(0,A.sent().ActionButton)]}})})});case V.L.shapeMap.name:return(0,o.i8)(V.L.shapeMap,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("shapeMap").then(r.bind(r,693363))];case 1:return[2,new(0,A.sent().ShapeMap)({tooltipsEnabled:R})]}})})});case V.L.matrix.name:return(0,o.i8)(V.L.matrix,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("matrix").then(r.bind(r,50039))];case 1:return[2,new(0,A.sent().Matrix)]}})})});case V.L.tableEx.name:return(0,o.i8)(V.L.tableEx,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("tableEx").then(r.bind(r,453890))];case 1:return[2,new(0,A.sent().TableEx)((0,p.ss)(),M)]}})})});case V.L.pivotTable.name:return(0,o.i8)(V.L.pivotTable,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("pivotTable").then(r.bind(r,911025))];case 1:return[2,new(0,A.sent().PivotTable)((0,s.ss)(),M)]}})})});case V.L.realTimeLineChart.name:return(0,o.i8)(V.L.realTimeLineChart,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("cartesianChart").then(r.bind(r,260482))];case 1:return x=I.sent().CartesianChart,[4,r.e("realTimeLineChartAnimator").then(r.bind(r,382631))];case 2:return A=I.sent().RealTimeLineChartAnimator,[2,new x({chartType:15,animator:new A,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:M})]}})})});case V.L.table.name:return(0,o.i8)(V.L.table,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("table").then(r.bind(r,180939))];case 1:return[2,new(0,A.sent().Table)]}})})});case V.L.card.name:return(0,o.i8)(V.L.card,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cardModule").then(r.bind(r,870930))];case 1:return[2,(0,A.sent().createCard)({cardSmallViewportProperties:P.cardSmallViewportProperties,tooltipsEnabled:R,featureSwitches:M})]}})})});case V.L.cardVisual.name:return(0,o.i8)(V.L.cardVisual,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("cardVisual").then(r.bind(r,97040))];case 1:return[2,new(0,A.sent().CardVisual)({isScrollable:!1,animator:new i.r5,tooltipsEnabled:R,featureSwitches:M})]}})})});case V.L.textbox.name:return(0,o.i8)(V.L.textbox,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){var x,A;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return[4,r.e("textbox").then(r.bind(r,772849))];case 1:return x=I.sent().Textbox,[4,r.e("textboxModule").then(r.bind(r,803377))];case 2:return A=I.sent().createTextboxViewModelAdapter,[2,new x({viewModelAdapter:A(P.textboxSmallViewportProperties),disableScrollingInViewMode:!0,supportsNarrativeExpressions:M.daxTransformEnabled})]}})})});case e.Jo:return B[e.Jo]?(0,o.i8)(B[e.Jo],N,M,B[e.Jo].createES6):null;case V.L.keyDriversVisual.name:return(0,o.i8)(V.L.keyDriversVisual,function(x){return x.module.createAnalysisVisual()},M,void 0);case V.L.qnaVisual.name:return(0,o.i8)(V.L.qnaVisual,function(x){return x.module.createQnaVisual()},M,void 0);case V.L.decompositionTreeVisual.name:return(0,o.i8)(V.L.decompositionTreeVisual,N,M,function(){return(0,t.__awaiter)(T,void 0,void 0,function(){return(0,t.__generator)(this,function(A){switch(A.label){case 0:return[4,r.e("decompositionTree").then(r.bind(r,231966))];case 1:return[2,new(0,A.sent().DecompositionTree)]}})})});default:return(0,v.ED)(B[E])}}},921374:function(ze,K,r){r.d(K,{$Z:function(){return t},AH:function(){return c},RM:function(){return V},W3:function(){return i},wt:function(){return s}});var t={name:"resetPersistentUserStateDone",type:3},c={name:"activeBookmarkChanged",type:4},i={name:"onReportSaved",type:3},s={name:"personalizeArtifact",type:4},V={name:"invitationClaimed",type:4}},916789:function(ze,K,r){r.d(K,{$3:function(){return _e},$5:function(){return ir},$9:function(){return f},$h:function(){return He},AB:function(){return a},B2:function(){return O},BY:function(){return se},Bo:function(){return o},C1:function(){return Dt},CZ:function(){return Cr},D2:function(){return mt},Db:function(){return W},Ex:function(){return h},HA:function(){return ur},Hg:function(){return j},I0:function(){return N},KE:function(){return Ie},Lt:function(){return Ge},Mn:function(){return Lt},Tu:function(){return De},Tv:function(){return Je},UT:function(){return Xt},Ul:function(){return M},WJ:function(){return Bt},WS:function(){return oe},Wv:function(){return Xe},XB:function(){return we},XJ:function(){return de},Y6:function(){return ar},YR:function(){return Be},Ys:function(){return Q},ZP:function(){return c},ZX:function(){return w},Zu:function(){return Ke},_r:function(){return ft},aH:function(){return Pt},ag:function(){return A},bL:function(){return Le},bk:function(){return Tt},bm:function(){return Er},cx:function(){return Te},e3:function(){return Zt},eP:function(){return zr},eZ:function(){return ue},e_:function(){return Qe},eo:function(){return me},fW:function(){return je},gs:function(){return it},hk:function(){return v},i6:function(){return nr},lT:function(){return Kt},lY:function(){return Mt},mM:function(){return sr},mZ:function(){return yt},mw:function(){return d},nd:function(){return Z},o9:function(){return ee},ou:function(){return Gt},pV:function(){return ae},uT:function(){return J},vi:function(){return xe},wy:function(){return Ze},x5:function(){return hr},yE:function(){return lt},yP:function(){return Et},yb:function(){return ne},yw:function(){return et}});var t=r(853811),c=function(Ar){return Ar.Normal="Normal",Ar.EmailSubscription="EmailSubscription",Ar.SubscribeOthers="SubscribeOthers",Ar.Commenting="Commenting",Ar.DDAlert="DDAlert",Ar.SmartAlerts="SmartAlerts",Ar.CopyVisualImage="CopyVisualImage",Ar.Invalid="Invalid",Ar}({}),i="PBI.Navigation.Toggle",p=(t.cx[i]=(0,t.b1)(i),"DashboardTileMenuAction"),m=(t.cx[p]=(0,t.b1)(p),"PBI.Dashboard.ClaimInvitation"),v=t.cx[m]=(0,t.b1)(m),e="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",h=t.cx[e]=(0,t.b1)(e),n="PBI.Dashboard.DeleteDashboard",o=t.cx[n]=(0,t.b1)(n),u="PBI.Dashboard.DeleteTile",a=t.cx[u]=(0,t.b1)(u),l="PBI.Dashboard.TileLayoutChanged",d=t.cx[l]=(0,t.b1)(l),b="PBI.Dashboard.InFocusWorkbook",f=t.cx[b]=(0,t.b1)(b),g="PBI.Dashboard.OpenDashboard",y=(t.cx[g]=(0,t.b1)(g,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.Dashboard.LockedTilesDisplayed"),E=(t.cx[y]=(0,t.b1)(y),"PBI.Dashboard.LoadDashboardTileVisual"),P=(t.cx[E]=(0,t.b1)(E),"PBI.Dashboard.PinTile"),M=t.cx[P]=(0,t.b1)(P),T="PBI.Dashboard.InitializeContainer",B=(t.cx[T]=(0,t.b1)(T),"PBI.Dashboard.OpenTile"),N=t.cx[B]=(0,t.b1)(B),x="PBI.Dashboard.SettingGroupChanged",A=t.cx[x]=(0,t.b1)(x),I="PBI.Dashboard.RenameDashboard",w=t.cx[I]=(0,t.b1)(I),F="PBI.Dashboard.ViewWorkbook",O=t.cx[F]=(0,t.b1)(F,{logExpAssignment:!0}),L="PBI.Dashboard.EditWorkbook",W=t.cx[L]=(0,t.b1)(L),U="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",j=t.cx[U]=(0,t.b1)(U),z="PBI.Dashboard.UpdateActiveDashboard",te=(t.cx[z]=(0,t.b1)(z),"PBI.Dashboard.RefreshTileData"),Q=t.cx[te]=(0,t.b1)(te),H="PBI.Dashboard.RefreshDashboardTiles",de=t.cx[H]=(0,t.b1)(H),Y="PBI.Groups.SwitchGroup",se=t.cx[Y]=(0,t.b1)(Y),ce="PBI.Folders.GetWorkspaceFolders",ve=(t.cx[ce]=(0,t.b1)(ce),"PBI.Dashboard.ShowGettingStartedPopup"),De=t.cx[ve]=(0,t.b1)(ve),We="PBI.Dashboard.WorkbookClickScheduleRefresh",je=t.cx[We]=(0,t.b1)(We),Ae="PBI.Dashboard.WorkbookClickRefreshNow",_e=t.cx[Ae]=(0,t.b1)(Ae),le="PBI.Dashboard.ClickPersonalize",Z=t.cx[le]=(0,t.b1)(le,{logExpAssignment:!0}),ie="PBI.Dashboard.ContentPackDirty",me=t.cx[ie]=(0,t.b1)(ie),ye="PBI.Dashboard.FirstUse",oe=t.cx[ye]=(0,t.b1)(ye),X="PBI.Dashboard.InFocusModeSelected",ue=t.cx[X]=(0,t.b1)(X),Se="PBI.Dashboard.SaveDashboardSettings",Be=t.cx[Se]=(0,t.b1)(Se),Ke="PBI.Dashboard.GetDashboardSettings",Ze=t.cx[Ke]=(0,t.b1)(Ke),qe="PBI.Dashboard.TestDataSourceConnection",it=t.cx[qe]=(0,t.b1)(qe),be="PBI.Dashboard.LoadTileData",ee=(t.cx[be]=(0,t.b1)(be),"PBI.App.InitialAppLoad"),Ce=(t.cx[ee]=(0,t.b1)(ee,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),J=t.cx[Ce]=(0,t.b1)(Ce),re="PBI.GroupEditor.UserLeaveGroup",Ie=t.cx[re]=(0,t.b1)(re),ot="PBI.Quota.OpenManageStoragePage",we=t.cx[ot]=(0,t.b1)(ot),he="PBI.Quota.StorageUsage",Te=t.cx[he]=(0,t.b1)(he),Oe="PBI.Quota.ManageStorageDelete",Je=t.cx[Oe]=(0,t.b1)(Oe),fe="PBI.Quota.Exceeded",ne=t.cx[fe]=(0,t.b1)(fe),Ne="PBI.Quota.AccessCustomizedProperties",et=t.cx[Ne]=(0,t.b1)(Ne),tt="PBI.Privacy.InitializeSettingsModel",xe=t.cx[tt]=(0,t.b1)(tt),Ve="PBI.Privacy.SaveSettingsModel",Le=t.cx[Ve]=(0,t.b1)(Ve),at="PBI.Settings.TakeoverDatasources",ft=t.cx[at]=(0,t.b1)(at),ht="PBI.Settings.LoadSettingsData",Ge=t.cx[ht]=(0,t.b1)(ht),Re="PBI.QRCode.QRCodeDialogShown",Xe=t.cx[Re]=(0,t.b1)(Re),Me="PBI.QRCode.ShortUrlCreated",He=t.cx[Me]=(0,t.b1)(Me),ct="PBI.QRCode.ShortUrlFailed",Mt=t.cx[ct]=(0,t.b1)(ct),It="PBI.QRCode.QRCodeReportDialogShown",Bt=t.cx[It]=(0,t.b1)(It),jt="PBI.QRCode.ReportShortUrlCreated",Kt=t.cx[jt]=(0,t.b1)(jt),Yt="PBI.Dashboard.AddWidget",Zt=t.cx[Yt]=(0,t.b1)(Yt),or="PBI.DataAlerts.TileBadgeClicked",Pr=(t.cx[or]=(0,t.b1)(or),"PBI.DataAlerts.NotificationAction"),mt=t.cx[Pr]=(0,t.b1)(Pr),Rt="PBI.UsageMetrics.Http.GetPackage",Xt=t.cx[Rt]=(0,t.b1)(Rt),dr="PBI.UsageMetrics.Http.UsageReportUpgrade",ar=t.cx[dr]=(0,t.b1)(dr),gr="PBI.UserNotifications.LinkClicked",Cr=t.cx[gr]=(0,t.b1)(gr,{logExpAssignment:!0}),pr="PBI.Dashboard.RegisterAndLoadResourcePackages",Ir=(t.cx[pr]=(0,t.b1)(pr),"PBI.Dashboard.LoadDashboard"),Kr=(t.cx[Ir]=(0,t.b1)(Ir),"PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles"),zr=t.cx[Kr]=(0,t.b1)(Kr),Ur="PBI.ArtifactNotFound",hr=t.cx[Ur]=(0,t.b1)(Ur),Rr="PBI.AppModel.InitializeContentProviders",Tt=t.cx[Rr]=(0,t.b1)(Rr),Ut="PBI.NPS.ShowDialog",Et=t.cx[Ut]=(0,t.b1)(Ut),Ct="PBI.Dashboard.LoadTileVisualTimedOut",st=(t.cx[Ct]=(0,t.b1)(Ct),"PBI.Dashboard.AddDashboard"),lt=t.cx[st]=(0,t.b1)(st,{logExpAssignment:!0}),ut="PBI.UsageMetrics.ViewUsageMetricsReport",yt=t.cx[ut]=(0,t.b1)(ut),Ft="PBI.PersistentState.Reset",Lt=t.cx[Ft]=(0,t.b1)(Ft),kt="PBI.Theming.SaveTheme",Gt=t.cx[kt]=(0,t.b1)(kt),er="PBI.Dashboard.GetResourcePackageItem",sr=t.cx[er]=(0,t.b1)(er),tr="PBI.Apps.GuestUserWithNoAccessError",nr=t.cx[tr]=(0,t.b1)(tr),Dr="PBI.Tutorial.Close",Dt=t.cx[Dr]=(0,t.b1)(Dr),nt="PBI.Landing.BindToPowerViewReport",ae=t.cx[nt]=(0,t.b1)(nt),q="PBI.UsageMetrics.UpdateNewReportSetting",Qe=t.cx[q]=(0,t.b1)(q),dt="PBI.ChangeDetectionMeasure.LongPollError",Pt=t.cx[dt]=(0,t.b1)(dt),Qt="PBI.ChangeDetectionMeasure.GetCDMConfigError",ir=t.cx[Qt]=(0,t.b1)(Qt),yr="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",ur=t.cx[yr]=(0,t.b1)(yr),wr="PBI.Dashboard.RealtimeModelLoad",Er=t.cx[wr]=(0,t.b1)(wr)},832089:function(ze,K,r){r.d(K,{F:function(){return p},J:function(){return s}});var t=r(972817),c=r(629925),i=r(565146);function s(V,m){var v,e;if(void 0===m&&(m=!1),V&&V.tiles){if(m)return(v={})[c.CB]=V.tiles.background,v[c.dj]=V.tiles.color,v[c.vp]=V.tiles.opacity,v;var h=(0,t.cD)(V.tiles.background,V.tiles.opacity);return(e={})[c.CB]=h,e[c.dj]=V.tiles.color,e}}function p(V){var m;if(V){var v=V.tiles?V.tiles[c.dj]:c.G7,e=((m={})[c.CB]=V.background,m[c.dj]=v,m);return(0,i.gU)(V.backgroundImage)?(e[c.Xn]="url(".concat(V.backgroundImage,")"),e[c.k2]=c.hy):e[c.Xn]=c.zu,e}}},587318:function(ze,K,r){r.d(K,{$7:function(){return y},AF:function(){return P},AW:function(){return A},BP:function(){return V},C:function(){return p},G1:function(){return s},IQ:function(){return B},Jh:function(){return N},Jo:function(){return t},OS:function(){return E},P_:function(){return m},VT:function(){return T},Z8:function(){return C},al:function(){return o},ay:function(){return f},b0:function(){return v},b7:function(){return i},c2:function(){return D},cV:function(){return e},i9:function(){return b},j:function(){return R},jt:function(){return l},rR:function(){return S},s0:function(){return d},t2:function(){return u},t4:function(){return g},uT:function(){return w},wn:function(){return n},x5:function(){return h},xC:function(){return c},xm:function(){return a},xp:function(){return I},zW:function(){return M}});var t="esriVisual",c="esriVisual_TEST",i="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",s="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",p="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",V="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",m="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",v="MapboxVisual_TEST",e="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",h="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",n="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",o="charticulator58556A88422D44A99D9BF0052B958F87",u="charticulatorTest5CA7DEC756074797A2410E6A64934779",a="vPMenu6454E8C4E1BD492A83084AB46B0C248B",l="DataEntryMatrix1444757060245",d="PBI_CV_37C750F9_7BBF_4518_A963_9E199AB98EFD",b="detailReport1E51681FC15F46F9B4275CE593BECB98",f="SmartFilterBySQLBI1458262140626",g="PBI_CV_5A618254_2118_4618_8D38_64C70BBFB181",S="tableeditor_v2",y="PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21E",C="PBI_CV_5A618254_2118_4618_8D38_64C70BBFB182",E="PBI_CV_37C750F9_7BBF_4518_A963_9E199AB98EFD_TEST",D="_OrgStore",P="1.2.0",M=[t,c,i,s,p,V,m,e,v,h,n,a,l,d,b,f,g,S,y,C,E,o,u],T="Esri is not supported in Embedded scenario.",R="CV_Warning_Code",B=70,N=2e3,A="SharedResources",I=[];I[1]="RegisteredResources",I[2]=A;var w={1:!0,2:!0}},355607:function(ze,K,r){r.d(K,{W:function(){return t},z:function(){return c}});var t={type:4,name:"reloadEmptyVisuals"},c={type:4,name:"applyPendingChanges"}},138363:function(ze,K,r){r.d(K,{IG:function(){return i},Ut:function(){return s}});var i="ShapeMap",s=function(p){return p[p.CustomVisualJavascript=0]="CustomVisualJavascript",p[p.CustomVisualsCss=1]="CustomVisualsCss",p[p.CustomVisualScreenshot=2]="CustomVisualScreenshot",p[p.CustomVisualIcon=3]="CustomVisualIcon",p[p.CustomVisualWatermark=4]="CustomVisualWatermark",p[p.CustomVisualMetadata=5]="CustomVisualMetadata",p[p.Image=100]="Image",p[p.ShapeMap=200]="ShapeMap",p[p.CustomTheme=201]="CustomTheme",p[p.BaseTheme=202]="BaseTheme",p[p.DashboardTheme=203]="DashboardTheme",p[p.DashboardBaseTheme=204]="DashboardBaseTheme",p[p.HighContrastTheme=205]="HighContrastTheme",p[p.AppNavigation=206]="AppNavigation",p[p.AppTheme=207]="AppTheme",p[p.AppBaseTheme=208]="AppBaseTheme",p}({})},682427:function(ze,K,r){r.d(K,{u:function(){return m}});var t=r(832867),c=r(787941),i=r(319887),s=r(497593),p=r(675905),V=r(266419);function m(e,h,n,o,u){return new v(e,h,n,o,u)}var v=function(){function e(h,n,o,u,a){this.approvedResourceService=n,this.telemetryService=o,this.featureSwitchService=u,this.onlyApprovedForServerRenderResources=a,this.locale=h&&h.locale,this.promiseFactory=h.promiseFactory}return e.prototype.loadTrustedResourcePackages=function(h){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},e.prototype.loadResourcePackages=function(h){c.fF.assertValue(h,"resourcePackages");for(var n=[],o=0,u=h;o<u.length;o++)n.push(this.loadResourcePackage(u[o]));return this.promiseFactory.all(n)},e.prototype.loadResourcePackage=function(h){var n=this;c.fF.assertValue(h,"resourcePackage");var o=function(a,l,d,b,f){n.telemetryService.logEvent(i.d7,{visualType:h.name,fileName:a,isClientGenerated:!!f,start:d,end:b,parentId:n.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:l})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(function(u){return n.promiseFactory.reject(u)}).then(function(){var u=[];return n.approvedResourceService.isApprovedResource(h.name)?(u.push(n.loadResourcesWithVisualApi(h,o)),n.promiseFactory.all(u)):n.promiseFactory.reject("Visual is not an approved visual")})},e.prototype.loadResourcePackageItem=function(h,n){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},e.prototype.loadSharedResource=function(h){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},e.prototype.loadVisualPlugins=function(h){c.fF.assertValue(h,"resourcePackages");var n=[];if(h)for(var o=0,u=h;o<u.length;o++)n.push(this.loadVisualPlugin(u[o]));return this.promiseFactory.all(n)},e.prototype.loadVisualPlugin=function(h){c.fF.assertValue(h,"resourcePackage");var n=this.promiseFactory.defer();return h&&h.items&&h.items.length>0?this.loadResourcePackage(h).then(function(){var o=t.N[h.name];o?(o.iconUrl=(0,p.dA)(h.name),n.resolve(o)):n.reject("Unable to load visual plugin from resource package: "+h.name)}).catch(function(){n.reject("failed to resolve all promises")}):n.resolve(null),n.promise},e.prototype.destroy=function(){},e.prototype.loadResourcesWithVisualApi=function(h,n){var o=this,u=this.promiseFactory.defer(),a=(new Date).toISOString(),l=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(h.name).then(function(d){var b=(new Date).toISOString();o.handleLoadResourceResponse(d.data,h),o.telemetryService.logEvent(i.EB,{visualType:h.name,fileName:o.approvedResourceService.customVisualJsonUrlBuilder(h.name),isClientGenerated:!!h.isPublic,consumePublicCvsWithoutRps:l,start:a,end:b,parentId:o.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),u.resolve(null)},function(d){var b=JSON.stringify(d),f=(new Date).toISOString();n(o.approvedResourceService.customVisualJsonUrlBuilder(h.name),b,a,f,h.isPublic),u.reject(b)}),u.promise},e.prototype.handleLoadResourceResponse=function(h,n){n.items&&n.items[0]&&(n.items[0].content=JSON.stringify(h));var o=(0,V.S)(h,this.locale,2);o&&(o.isDeprecated=this.approvedResourceService.isDeprecated(n.name),o.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(n.name)),(0,s.L)(o);var u=t.N[o.name];u&&(o.favoriteId=u.favoriteId,o.isOutOfBox=u.isOutOfBox),t.N[o.name]=o},e}()},346865:function(ze,K,r){r.d(K,{Z:function(){return e}});var t=r(319887),c=r(587318),i=r(596122),s=r(778186),p=r(693825),V=r(838302),m=r(210107),v=window;function e(n,o,u,a,l){return new h(n,o,u,a,l)}var h=function(){function n(o,u,a,l,d){this.featureSwitchService=o,this.httpService=u,this.options=l,this.telemetryService=d,this.trustedVisuals=c.zW,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=a.getCustomVisualsEndpointAsync()}return n.prototype.getCustomVisualPbivizJson=function(o){var u=this.customVisualJsonUrlBuilder(o);return this.httpService.get(u,{responseType:"json",timeout:m.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})},n.prototype.getCustomVisualVersion=function(o){var u=this.getCompatibleVisualVersion(o);return u?u.version:null},n.prototype.getCustomVisualApiVersion=function(o){var u=this.getCompatibleApiVersion(o);return u&&u!==this.legacy?u:null},n.prototype.customVisualJsonUrlBuilder=function(o){var u=this.getCompatibleVisualVersion(o);if(u)return this.customVisualsEndpoint+"/"+o+"."+u.version+"."+u.hash+".pbiviz.json"},n.prototype.getVisualIdFromAssetId=function(o){for(var u in this.approvedVisuals)if(this.approvedVisuals[u]&&this.approvedVisuals[u].assetId===o)return u;return null},n.prototype.isApprovedVisualsDefined=function(){return!!this.approvedVisuals},n.prototype.isApprovedResource=function(o){return!!this.approvedVisuals&&!!this.approvedVisuals[o]},n.prototype.isApprovedResourceByAssetId=function(o){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[o]},n.prototype.isApprovedResourceServerRender=function(o){var u=this.getCompatibleVisualVersion(o);return this.isApprovedResource(o)&&!!u&&!!u.approvedForServerRender},n.prototype.isApprovedForNoIframe=function(o){if(this.onlyApprovedForServerRenderResources||(0,V.rO)())return!1;var u=this.getCompatibleVisualVersion(o);return!!u&&!!u.approvedForNoIframe},n.prototype.isTrustedResource=function(o){return!!_.find(this.trustedVisuals,function(u){return u===o})},n.prototype.addTrustedVisual=function(o){this.isTrustedResource(o)||this.trustedVisuals.push(o)},n.prototype.isDeprecated=function(o){var u=this.getCompatibleVisualVersion(o);return this.isApprovedResource(o)&&!!u&&(!!u.isDeprecated||u.apiVersion&&(0,p.lt)(u.apiVersion,c.AF))},n.prototype.usesExternalResourcesInAirGappedEnv=function(o){var u=this.getCompatibleVisualVersion(o);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&u&&u.usesExternalResources},n.prototype.canUseLocalStorage=function(o){if(this.onlyApprovedForServerRenderResources)return!1;var u=this.getCompatibleVisualVersion(o);return!(!u||!this.isApprovedResource(o))&&u.canUseLocalStorage},n.prototype.removeApprovedResource=function(o){this.approvedVisuals&&(this.approvedVisuals[o]=void 0)},n.prototype.getCdnEnvEndpointName=function(o){var u=(0,s.tm)()||m.un;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(u=m.cL),o+u},n.prototype.loadApprovedResourcesMetadata=function(o,u){var a=this;return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=o.defer(),this.approvedResourceJsonInProccess=!0,(u?"boolean"==typeof u?o.resolve(u):u:o.resolve(!1)).then(function(d){var b,f;if(d&&(a.onlyApprovedForServerRenderResources=!!d),a.approvedVisuals)return a.setApprovedResources(),a.approvedResourceJsonRequest.resolve(null),a.approvedResourceJsonRequest.promise;var g=null!==(f=null===(b=a.options)||void 0===b?void 0:b.isApprovedLoadingDisabled())&&void 0!==f?f:o.resolve(!1);o.allSettled([a.featureSwitchService.getFeatureSwitches(),g,a.customVisualsEndpointPromise]).then(function(S){a.approvedResourcesDisabled=S[1].value,a.customVisualsEndpoint=S[2].value}).finally(function(){if(a.approvedResourcesDisabled)a.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var S=(new Date).toISOString();a.httpService.get(a.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:m.JZ,retryCount:a.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(function(C){var E=(new Date).toISOString();a.telemetryService&&a.telemetryService.logEvent(t.LU,{endpoint:a.customVisualsEndpoint,allEndpointDown:!1,start:S,end:E,parentId:a.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),a.setApprovedResources(C.data),a.approvedResourceJsonRequest.resolve(null),a.approvedResourceJsonInProccess=!1},function(C){var E=(new Date).toISOString();a.telemetryService&&a.telemetryService.logEvent(t.LU,{endpoint:a.customVisualsEndpoint,allEndpointDown:!0,start:S,end:E,parentId:a.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:JSON.stringify(C)}),a.approvedResourceJsonRequest.reject(JSON.stringify(C)),a.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise},n.prototype.cdnUrlBuilder=function(o,u,a){var l=this.getCompatibleApiVersion(u);return l?this.getCdnEnvEndpointName(o)+"/"+l+"/"+u+a:this.getCdnEnvEndpointName(o)+"/"+u+a},n.prototype.getTrustedResources=function(){return this.trustedVisuals},n.prototype.hasApi=function(o){var u=this.getCompatibleVisualVersion(o);return!!(u&&this.approvedVisuals&&u&&u.apiVersion&&u.apiVersion!==this.legacy)},n.prototype.getTelemetryUsageLimit=function(o){var u=this.getCompatibleVisualVersion(o);return u&&this.isApprovedResource(o)&&u.telemetryUsageLimit||0},n.prototype.canRefreshHostData=function(o){var u=this.getCompatibleVisualVersion(o);return!(!u||!this.isApprovedResource(o))&&u.canRefreshHostData},n.prototype.canGetAADToken=function(o){var u=this.getCompatibleVisualVersion(o);return!(!u||this.blockedAccessToken(o))&&!!this.isApprovedResource(o)&&u.canGetAADToken},n.prototype.blockedAccessToken=function(o){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(t.eb,{visualType:o,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var d=JSON.parse(atob(v.powerBIAccessToken.split(".")[1])).scp;return!(d.indexOf("user_impersonation")>=0||d.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(t.eb,{visualType:o,reason:"Access Token is blocked due to insufficient scope"}),0))}catch(b){return!1}},n.prototype.canGetWACToken=function(o){var u=this.getCompatibleVisualVersion(o);return!(!u||this.blockedAccessToken(o))&&!!this.isApprovedResource(o)&&u.canGetWACToken},n.prototype.getAllApprovedForServerRenderResourcesTypes=function(){var o=this;if(!this.approvedVisuals)return[];var u=Object.keys(this.approvedVisuals);return _.filter(u,function(l){return o.isApprovedResourceServerRender(l)})},n.prototype.getPublicId=function(o){return this.isApprovedResource(o)&&this.approvedVisuals[o].assetId?this.approvedVisuals[o].assetId:null},n.prototype.isMsVisual=function(o){return!(!this.isApprovedResource(o)||!this.approvedVisuals[o].isMsVisual)},n.prototype.canManageAsyncUpdate=function(o){if(this.isApprovedResource(o)){var u=this.getCompatibleVisualVersion(o);if(u&&u.callsRenderingCompleted)return!0}return!1},n.prototype.getCompatibleApiVersion=function(o){if(!this.isApprovedResource(o)||!this.approvedVisuals[o].allVersions)return null;var u=this.approvedVisuals[o].allVersions;u.sort(function(S,y){return!S.apiVersion||y.apiVersion&&!(0,p.gt)(S.apiVersion,y.apiVersion)?1:-1});for(var a=function(y){if((0,i.HB)().some(function(C){return C.version===y.apiVersion})&&!l.shouldSkipVersion(y))return{value:y.apiVersion}},l=this,d=0,b=u;d<b.length;d++){var g=a(b[d]);if("object"==typeof g)return g.value}return this.legacy},n.prototype.shouldSkipVersion=function(o){if(null==o.gradualExposureFSNumber)return!1;var u="".concat(this.gradualExposureFSPrefix).concat(o.gradualExposureFSNumber);return!this.featureSwitchService.featureSwitches[u]},n.prototype.getCompatibleVisualVersion=function(o){var u=this.getCompatibleApiVersion(o);if(u)for(var a=0,l=this.approvedVisuals[o].allVersions;a<l.length;a++){var d=l[a];if(d.apiVersion===u)return d}return null},n.prototype.setApprovedResources=function(o){if(o&&(this.approvedVisuals=o,this.approvedVisualsAssetIds=n.buildApprovedVisualsAssetIds(o)),this.onlyApprovedForServerRenderResources){var u=this.getAllApprovedForServerRenderResourcesTypes(),a=_.pick(this.approvedVisuals,u);this.approvedVisuals=a}},n.buildApprovedVisualsAssetIds=function(o){return _.reduce(o,function(a,l){return l.assetId&&(a[l.assetId]=!0),a},{})},n}()},138368:function(ze,K,r){r.d(K,{N5:function(){return a},fQ:function(){return o}});var t=r(226514),c=r(795120),i=r(832867),s=r(787941),p=r(826691),V=r(138363),m=r(319887),v=r(926201),e=r(497593),h=r(675905),n=r(266419);function o(l,d,b){return new a(l,d,b||new u(l.promiseFactory))}var u=function(){function l(d){this.promiseFactory=d}return l.prototype.get=function(d,b,f){return s.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},l.prototype.getBlob=function(d,b,f){return s.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},l}(),a=function(){function l(d,b,f){this.provider=b,this.sharedResourceItemProxy=f,this.promiseFactory=d&&d.promiseFactory,this.locale=d&&d.locale,this.telemetryV2Enabled=d&&d.telemetryV2Enabled}return l.prototype.loadTrustedResourcePackages=function(d){return s.fF.assertFail("Not supported"),this.promiseFactory.reject()},l.prototype.loadResourcePackages=function(d){s.fF.assertValue(d,"resourcePackages");for(var b=[],f=0,g=d;f<g.length;f++)b.push(this.loadResourcePackage(g[f]));return this.promiseFactory.all(b)},l.prototype.loadResourcePackage=function(d){s.fF.assertValue(d,"resourcePackage");var b=[];if(d&&d.items)for(var f=0,g=d.items;f<g.length;f++)b.push(this.loadCustomVisualResourcePackageItem(g[f],d));return this.promiseFactory.all(b)},l.prototype.loadResourcePackageItem=function(d,b){var f=(0,v.NW)(d,b);return f?f.content?this.promiseFactory.resolve(f.content):this.loadBlob(d.id,d.name,f):(p.f.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))},l.prototype.loadSharedResource=function(d,b){return b===V.Ut.Image?this.sharedResourceItemProxy.getBlob(null,(0,v.RJ)(2),d,{retries:1}):this.sharedResourceItemProxy.get(null,(0,v.RJ)(2),d,{retries:1})},l.prototype.loadVisualPlugin=function(d){var b=this;s.fF.assertValue(d,"resourcePackage");var f=this.promiseFactory.defer();return d&&d.items&&d.items.length>0?this.loadResourcePackage(d).then(function(){var g=i.N[d.name];g?(g.iconUrl=b.getIconUrl(d),f.resolve(g)):f.reject("Unable to load visual plugin from resource package")}).catch(function(){f.reject("failed to resolve all promises")}):f.resolve(null),f.promise},l.prototype.destroy=function(){},l.prototype.loadVisualPlugins=function(d){s.fF.assertValue(d,"resourcePackages");var b=[];if(d)for(var f=0,g=d;f<g.length;f++)b.push(this.loadVisualPlugin(g[f]));return this.promiseFactory.all(b)},l.prototype.getIconUrl=function(d){var f=$("#css-"+d.name)[0],g=_.find(document.styleSheets,function(C){return C.ownerNode===f});if(!g)return"";for(var S=0;S<g.cssRules.length;S++){var y=g.cssRules[S];if(y.selectorText&&y.selectorText===".visual-icon."+d.name)return y.style.backgroundImage}return""},l.prototype.loadCustomVisualResourcePackageItem=function(d,b){switch(d.type){case V.Ut.CustomVisualJavascript:return this.loadCustomVisualJS(b.id,b.name,d);case V.Ut.CustomVisualsCss:return this.loadCustomVisualCss(b.id,b.name,d);case V.Ut.CustomVisualMetadata:return this.loadCustomVisualMetadata(b.id,b.name,d)}},l.prototype.loadCustomVisualJS=function(d,b,f){var g=this,S=this.promiseFactory.defer();return f.content?((0,h.yO)(b,f.content),S.resolve(f.content)):(s.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(d,b,f.path,{retries:1}).then(function(y){(0,h.yO)(b,y),f.content=y,g.transformPlugin(b).then(function(){return S.resolve(y)},function(C){return S.reject(C)})}).catch(function(y){S.reject(y)})),S.promise},l.prototype.transformPlugin=function(d){var b=i.N[d];return b?((0,e.L)(b),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+d)},l.prototype.loadCustomVisualCss=function(d,b,f){var g=this.promiseFactory.defer();return f.content?((0,h.QO)(b,f.content),g.resolve(f.content)):(s.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(d,b,f.path,{retries:1}).then(function(S){(0,h.QO)(b,S),f.content=S,g.resolve(S)}).catch(function(S){g.reject(S)})),g.promise},l.prototype.loadCustomVisualMetadata=function(d,b,f){var g=this,S=this.promiseFactory.defer();try{f.content?S.resolve(this.createPlugin(b,f.content)):this.provider.get(d,b,f.path,{retries:1}).then(function(y){f.content=y,S.resolve(g.createPlugin(b,y))}).catch(function(y){S.reject(y)})}catch(y){S.reject(y)}return S.promise},l.prototype.createPlugin=function(d,b){s.fF.assertAnyValue(b,"pbivizJsonString");var f=b;"object"!=typeof b&&(f=JSON.parse(b));var g=(0,n.S)(f,this.locale,0);(0,e.L)(g);var S=i.N[g.name];return S&&!S.custom&&(g.custom=!1),S&&(g.favoriteId=S.favoriteId,g.isOutOfBox=S.isOutOfBox),i.N[g.name]=g,g},l.prototype.loadBlob=function(d,b,f){var g=this.promiseFactory.defer(this.telemetryV2Enabled);return f.contentBlob?g.resolve(f.contentBlob):f.promise?f.promise.then(function(S){return g.resolve(S)}):(f.promise=this.provider.getBlob(d,b,f.path,{retries:1}),f.promise.then(function(S){f.contentBlob=S,g.resolve(S)}).catch(function(S){g.reject(S)}).finally(function(){delete f.promise})),g.promise},(0,t.__decorate)([(0,c.U)(m.XH),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object,String]),(0,t.__metadata)("design:returntype",Object)],l.prototype,"loadResourcePackageItem",null),l}()},823344:function(ze,K,r){function t(V,m){var v=V.capabilities,e=c(V,m)||c(V,"en-US");return v&&e&&i(v,e),V}function c(V,m){var v=p(m);return V&&V.stringResources?V.stringResources[v]:null}function i(V,m){for(var v in V)V.hasOwnProperty(v)&&("object"==typeof V[v]?i(V[v],m):"displayNameKey"===v&&V.displayName?V.displayName=s(m,V.displayNameKey)||V.displayName:"descriptionKey"===v&&V.description?V.description=s(m,V.descriptionKey)||V.description:"placeHolderTextKey"===v&&V.placeHolderText&&(V.placeHolderText=s(m,V.placeHolderTextKey)||V.placeHolderText))}function s(V,m){return V[m]}function p(V){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[V]||V||navigator.language}r.d(K,{Kd:function(){return p},qL:function(){return c},zQ:function(){return t}})},625442:function(ze,K,r){r.d(K,{A:function(){return p}});var t=r(226514),c=r(787941),i=r(431325);function p(m,v,e,h,n,o,u,a){return new V(m,v,h,n,o,u,e,a)}var V=function(m){function v(e,h,n,o,u,a,l,d){var b=m.call(this,e,h,n,o,u,a)||this;return b.resourcePackagesService=l,b.resourcePackageResolver=d,b.resourcePackagesService.getAllPackages(),b}return(0,t.__extends)(v,m),v.prototype.loadResourcePackage=function(e){var h=this;if(c.fF.assertValue(e,"resourcePackage"),e)return this.resourcePackageResolver(e).then(function(n){var o=[];if(n&&n.items&&!n.disabled)for(var a,u=function(g){a=(0,i.dR)(n,g.name,h,h.promiseFactory).then(function(S){g.content=S}),o.push(a)},l=0,d=n.items;l<d.length;l++)u(d[l]);else if(!n||n.disabled)return h.resourcePackagesService.delete(e.name),null;return h.promiseFactory.all(o).then(function(){return m.prototype.loadResourcePackage.call(h,n,!0)})}).catch(function(){return h.resourcePackagesService.delete(e.name),null})},v}(r(786105).Ls)},675905:function(ze,K,r){r.d(K,{QO:function(){return i},dA:function(){return V},yO:function(){return c}});var t=r(693825);function c(e,h,n,o){void 0===n&&(n=!1),void 0===o&&(o=null);var u={major:1,minor:8,patch:0},a=document.createElement("script");a.innerHTML=n?o&&(0,t.gt)(o,u)||(0,t.eq)(o,u)?function(e){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(e,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ===\"window\" || key === \"self\"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(h):function(e){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(e,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(h):h,a.id="js-"+e,a.setAttribute("name",e),document.body.appendChild(a)}function i(e,h){var n=$("<style></style>",{html:h,id:"css-"+e});n.attr("name",e),$("head").append(n)}function V(e){var n=$("#css-"+e)[0],o=_.find(document.styleSheets,function(l){return l.ownerNode===n});if(o&&o.cssRules)for(var u=0;u<o.cssRules.length;u++){var a=o.cssRules[u];if(a.selectorText&&_.includes(a.selectorText,e))return a.style.backgroundImage}return""}},210107:function(ze,K,r){r.d(K,{JZ:function(){return t},cL:function(){return s},io:function(){return c},un:function(){return i}});var t=3e4,c="dev",i="prod",s="app-store"},99413:function(ze,K,r){r.d(K,{v:function(){return s}});var t=r(787941),c=r(587318),i=r(926201);function s(){return new p}var p=function(){function V(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:c.AW,type:2,items:[]}]}return V.prototype.getAllPackages=function(){return this.packages},V.prototype.registerPackages=function(m){if(t.fF.assertValue(m,"packages"),m)for(var v=0,e=m;v<e.length;v++){var h=e[v];if(h.items&&0!==h.items.length&&(3!==h.type||!h.disabled)){this.resourcePackageNameIdLookupTable[h.id]=h.name;var n=(0,i.pd)(this.packages,h.type,h.name);if(n)(0,i.In)(h)?(0,i.wq)(n,h):_.merge(n,h);else{var o=_.clone(h);o.items=_.clone(h.items),this.packages.push(o)}}}},V.prototype.getPackage=function(m){return t.fF.assertValue(m,"name"),_.find(this.packages,function(v){return v.name===m})},V.prototype.delete=function(m){t.fF.assertValue(m,"name"),_.remove(this.packages,function(v){return v.name===m})},V.prototype.getPackageById=function(m){var v=this.resourcePackageNameIdLookupTable[m];return v&&this.getPackage(v)},V.prototype.clear=function(){this.packages=[],this.resourcePackageNameIdLookupTable={}},V}()},786105:function(ze,K,r){r.d(K,{KG:function(){return l},Ls:function(){return E}});var t=r(226514),c=r(258323),i=r(37743),s=r(776791),p=r(693825),V=r(832867),m=r(787941),v=r(587318),e=r(138363),h=r(431325),n=r(926201),o=r(497593),u=r(138368),a=r(266419);function l(D,P,M,T,R,B,N){return new E(D,P,M,T,R,B,N)}var E=function(D){function P(M,T,R,B,N,x,A){var I=D.call(this,M,B,null)||this;return m.fF.assertValue(M.promiseFactory,"promiseFactory"),m.fF.assertValue(T,"messageProxy"),m.fF.assertValue(R,"sandboxLoaderUri"),I.approvedResourceService=A,I.featureSwitchService=N,I.locale=M&&M.locale,I.promiseFactory=M.promiseFactory,I.frontEndUrl=null!=x?x:"'self'",I.messageProxy=T,I.sandboxLoaderUri=R,I.provider=B,I.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||I.initIFrame(),I}return(0,t.__extends)(P,D),P.prototype.loadResourcePackage=function(M,T){return m.fF.assertValue((0,n.JZ)(M),"resourcePackage is for a custom visual"),this.loadVisualPlugin(M,T)},P.prototype.loadResourcePackages=function(M){m.fF.assertValue(M,"resourcePackages");for(var T=[],R=0,B=M;R<B.length;R++)T.push(this.loadResourcePackage(B[R]));return this.promiseFactory.all(T)},P.prototype.loadTrustedResourcePackages=function(M){return m.fF.assertFail("Not supported"),this.promiseFactory.reject()},P.prototype.loadSharedResource=function(M){return m.fF.assertFail("Not supported"),this.promiseFactory.reject()},P.prototype.loadVisualPlugin=function(M,T){var R=this;m.fF.assertValue(M,"resourcePackage");var B=this.promiseFactory.defer();return this.loadResourcesContent(M).then(function(N){if(N&&!_.isEmpty(N)){var x=_.keyBy(N,"type"),A=x[e.Ut.CustomVisualMetadata];if(A)try{var F=(0,s.K)(A.content),O=(0,a.S)(F,R.locale,T?1:0);(0,o.L)(O);var L=V.N[O.name];L&&(O.favoriteId=L.favoriteId,O.isOutOfBox=L.isOutOfBox),O.developerModeVisual=M.developerModeVisual,O.apiVersion&&(0,p.lt)(O.apiVersion,v.AF)&&(O.isDeprecated=!0),V.N[O.name]=O,B.resolve(O)}catch(W){B.reject(W)}else{if(!R.iframe)return m.fF.assertFail("Legacy visuals are not supported"),R.promiseFactory.reject();R.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:M.name,mappedPluginContent:x}]}).then(function(W){var U=W,j=V.N[U.name];j&&!j.custom||(U.custom=!0,U.capabilities.objects=(0,c.vB)(U.capabilities.objects),(0,o.L)(U),R.approvedResourceService&&R.approvedResourceService.isApprovedVisualsDefined()&&(U.isDeprecated=!0),V.N[U.name]=U,B.resolve(U))}).catch(function(W){B.reject(W)})}}else B.resolve(null)}).catch(function(N){B.reject(N)}),B.promise},P.prototype.loadVisualPlugins=function(M){m.fF.assertValue(M,"resourcePackages");var T=[];if(M)for(var R=0,B=M;R<B.length;R++)T.push(this.loadVisualPlugin(B[R]));return this.promiseFactory.all(T)},P.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)},P.prototype.initIFrame=function(){var M=this,T=this.sandboxLoaderUri,R={};if(i.s.getQueryStringValue("unmin")&&(R.unmin="1"),R.emCVBundle=this.featureSwitchService.featureSwitches.emCVBundle?"1":"0",this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP){var N="default-src ".concat(this.frontEndUrl," 'unsafe-inline'");R.csp=btoa(N)}T+=i.s.rebuildQueryString(R),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",T).one("load",function(){return M.onIFrameLoad()}).appendTo(document.body)},P.prototype.onIFrameLoad=function(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()},P.prototype.loadResourcesContent=function(M){for(var T=[],R=M.id,B=M.name,N=0,x=M.items;N<x.length;N++){var A=x[N];A.type!==e.Ut.CustomVisualIcon&&T.push(this.loadResourceContent(R,B,A,M))}return this.promiseFactory.all(T)},P.prototype.loadResourceContent=function(M,T,R,B){var N=this,x=this.promiseFactory.defer();return R.content?x.resolve(this.getItemContent(R.content,R)):this.provider.get(M,T,R.path).then(function(A){A?x.resolve(N.getItemContent(A,R)):M<0?x.reject("no blob content for client generated rps"):(0,h.dR)(B,R.name,N,N.promiseFactory).then(function(I){x.resolve(N.getItemContent(I,R))})}).catch(function(A){x.reject(A)}),x.promise},P.prototype.getItemContent=function(M,T){var R=_.isString(M)?M:JSON.stringify(M);return T.content=T.type===e.Ut.CustomVisualMetadata?R:void 0,{type:T.type,content:R}},P}(u.N5)},687705:function(ze,K,r){r.d(K,{DQ:function(){return v},S4:function(){return e},qC:function(){return V},vB:function(){return m}});var t=r(415859),c=r(322487),i=r(787941),s=r(734287),p=r(13106);function V(d){return i.fF.assertValue(d,"instances"),0===d.length?[]:_.map(d,h)}function m(d){return i.fF.assertValue(d,"instances"),0===d.length?[]:_.map(d,n)}function v(d,b){return i.fF.assertValue(d,"containers"),_.map(d,function(f){return{displayName:(0,s.G)(f.displayName,b)}})}function e(d){return i.fF.assertValue(d,"containers"),_.map(d,function(b){return{displayName:b.displayName}})}function h(d){return{objectName:d.objectName,displayName:d.displayName,properties:o(d.properties),selector:(0,t.UZ)(d.selector),altConstantValueSelector:(0,t.UZ)(d.altConstantValueSelector),validValues:d.validValues,containerIdx:d.containerIdx,propertyInstanceKind:d.propertyInstanceKind}}function n(d){return{objectName:d.objectName,displayName:d.displayName,properties:u(d.properties),selector:(0,t.L1)(d.selector),altConstantValueSelector:(0,t.L1)(d.altConstantValueSelector),validValues:d.validValues,containerIdx:d.containerIdx,propertyInstanceKind:d.propertyInstanceKind}}function o(d){var b={};for(var f in d)b[f]=a(d[f]);return b}function u(d){var b={};for(var f in d)b[f]=l(d[f]);return b}function a(d){return d instanceof p.yl?c.ib.serializeFilter(d):void 0===d?null:d}function l(d){return d&&d.From&&d.Where?c.ib.deserializeFilter(d):d}},885855:function(ze,K,r){r.d(K,{qC:function(){return i},vB:function(){return s}});var t=r(415859),c=r(787941);function i(m){return c.fF.assertValue(m,"repetitions"),_.isEmpty(m)?[]:_.map(m,p)}function s(m){return c.fF.assertValue(m,"repetitions"),_.isEmpty(m)?[]:_.map(m,V)}function p(m){var v={selector:(0,t.UZ)(m.selector),altStaticSelector:(0,t.UZ)(m.altStaticSelector),objects:m.objects};return void 0!==m.allowOverrideSubtotalMatching&&(v.allowOverrideSubtotalMatching=m.allowOverrideSubtotalMatching),v}function V(m){var v={selector:(0,t.L1)(m.selector),altStaticSelector:(0,t.L1)(m.altStaticSelector),objects:m.objects};return void 0!==m.allowOverrideSubtotalMatching&&(v.allowOverrideSubtotalMatching=m.allowOverrideSubtotalMatching),v}},175491:function(ze,K,r){r.d(K,{DP:function(){return p},NO:function(){return s},_8:function(){return c},th:function(){return i}});var t=r(433992);function c(v){return{colorPalette:s(v.colorPalette),isHighContrast:v.isHighContrast,icons:v.icons}}function i(v){return{colorPalette:p(v.colorPalette),isHighContrast:v.isHighContrast,icons:v.icons}}function s(v){return{dataColors:V(v.dataColors),foreground:v.foreground,foregroundLight:v.foregroundLight,foregroundDark:v.foregroundDark,foregroundNeutralLight:v.foregroundNeutralLight,foregroundNeutralDark:v.foregroundNeutralDark,foregroundNeutralSecondary:v.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:v.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:v.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:v.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:v.foregroundNeutralTertiaryAlt,foregroundSelected:v.foregroundSelected,foregroundButton:v.foregroundButton,background:v.background,backgroundLight:v.backgroundLight,backgroundNeutral:v.backgroundNeutral,backgroundDark:v.backgroundDark,hyperlink:v.hyperlink,tableAccent:v.tableAccent,visitedHyperlink:v.visitedHyperlink,mapPushpin:v.mapPushpin,shapeStroke:v.shapeStroke,disabledText:v.disabledText,selection:v.selection,separator:v.separator}}function p(v){return{dataColors:m(v.dataColors),foreground:v.foreground,foregroundLight:v.foregroundLight,foregroundDark:v.foregroundDark,foregroundNeutralLight:v.foregroundNeutralLight,foregroundNeutralDark:v.foregroundNeutralDark,foregroundNeutralSecondary:v.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:v.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:v.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:v.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:v.foregroundNeutralTertiaryAlt,foregroundSelected:v.foregroundSelected,foregroundButton:v.foregroundButton,background:v.background,backgroundLight:v.backgroundLight,backgroundNeutral:v.backgroundNeutral,backgroundDark:v.backgroundDark,hyperlink:v.hyperlink,visitedHyperlink:v.visitedHyperlink,mapPushpin:v.mapPushpin,shapeStroke:v.shapeStroke,disabledText:v.disabledText,tableAccent:v.tableAccent,selection:v.selection,separator:v.separator}}function V(v){return{colors:v.getAllColors(),sentimentColors:v.getSentimentColors(),gradientColors:v.getGradientColors()}}function m(v){return new t.fJ(v.colors,v.sentimentColors,v.gradientColors)}},154222:function(ze,K,r){r.d(K,{G:function(){return v},k:function(){return e}});var t=r(832867),c=r(787941),i=r(587318),s=r(138363),p=r(319887),V=r(497593),m=r(266419);function v(n,o,u,a,l,d,b){return new h(n,o,u,a,l,d,b)}var e=".pbiviz.json",h=function(){function n(o,u,a,l,d,b,f){this.approvedResourceService=u,this.resourcePackagesService=a,this.featureSwitchService=l,this.telemetryService=d,this.onlyApprovedForServerRenderResources=b,this.resourceLoaderInitOptions=f,this.locale=o&&o.locale,this.promiseFactory=o.promiseFactory}return n.prototype.loadTrustedResourcePackages=function(o){var u=[];if(o&&o.length>0)for(var a=9999,l=0,d=o;l<d.length;l++){var b=d[l];if(t.N[b])u.push(this.promiseFactory.resolve([t.N[b]]));else{var f={id:a++,name:b,type:0,items:[{name:b,type:s.Ut.CustomVisualMetadata,path:b+e}]};this.resourcePackagesService.registerPackages([f]),u.push(this.loadResourcePackage(f))}}return this.promiseFactory.all(u)},n.prototype.loadResourcePackages=function(o){c.fF.assertValue(o,"resourcePackages");for(var u=[],a=0,l=o;a<l.length;a++)u.push(this.loadResourcePackage(l[a]));return this.promiseFactory.all(u)},n.prototype.loadResourcePackage=function(o){var u=this;return c.fF.assertValue(o,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(function(l){return u.promiseFactory.reject(l)}).then(function(){var l=[];if(u.onlyApprovedForServerRenderResources&&!u.approvedResourceService.isApprovedResource(o.name))return u.promiseFactory.reject("Visual is not an approved visual");if(!u.approvedResourceService.hasApi(o.name))return u.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var d=u.loadCustomVisualJson(o.name,o.isPublic);return d.catch(function(b){return u.promiseFactory.reject(b)}),l.push(d),u.promiseFactory.all(l)})},n.prototype.loadResourcePackageItem=function(o,u){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.loadSharedResource=function(o){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.loadVisualPlugins=function(o){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.loadVisualPlugin=function(o){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.destroy=function(){},n.prototype.loadCustomVisualJson=function(o,u){var a=this,l=this.promiseFactory.defer(),d=(new Date).toISOString(),b=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(o).then(function(f){var g=(new Date).toISOString();a.telemetryService.logEvent(p.EB,{visualType:o,fileName:a.approvedResourceService.customVisualJsonUrlBuilder(o),isClientGenerated:!!u,consumePublicCvsWithoutRps:b,start:d,end:g,parentId:a.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});var S=a.handleLoadResourceResponse(f.data);l.resolve(S)},function(f){var g=(new Date).toISOString(),S=a.handleLoadResourceError(f,o,a.approvedResourceService.customVisualJsonUrlBuilder(o),d,g,u);l.reject(S),l.reject(f.data)}),l.promise},n.prototype.handleLoadResourceError=function(o,u,a,l,d,b){var f=JSON.stringify(o);return this.telemetryService.logEvent(p.d7,{visualType:u,fileName:a,isClientGenerated:!!b,start:l,end:d,parentId:this.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:f}),f},n.prototype.handleLoadResourceResponse=function(o){var u;try{u=(0,m.S)(o,this.locale,2)}catch(l){return null}u.custom=!0,u.isDeprecated=this.approvedResourceService.isDeprecated(u.name),(u.name===i.Jo||u.name===i.C||u.name===i.x5&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(u.custom=!1);var a=t.N[u.name];return a&&(u.favoriteId=a.favoriteId,u.isOutOfBox=a.isOutOfBox),(0,V.L)(u),t.N[u.name]=u,u},n}()},821904:function(ze,K,r){r.d(K,{R:function(){return c}});var t=r(787941),c=function(){function i(s){this.promiseFactory=s,t.fF.assertValue(s,"promiseFactory"),this.promiseFactory=s}return i.prototype.loadResourcePackage=function(s){return this.promiseFactory.resolve()},i.prototype.loadResourcePackages=function(s){return this.promiseFactory.resolve()},i.prototype.loadTrustedResourcePackages=function(s){return this.promiseFactory.resolve()},i.prototype.loadResourcePackageItem=function(s,p){return this.promiseFactory.resolve()},i.prototype.loadSharedResource=function(s){return this.promiseFactory.resolve()},i.prototype.loadVisualPlugin=function(s){return this.promiseFactory.resolve(null)},i.prototype.loadVisualPlugins=function(s){return this.promiseFactory.resolve()},i.prototype.destroy=function(){},i}()},861579:function(ze,K,r){r.d(K,{F:function(){return s},X:function(){return p}});var t=r(787941),c=r(587318),i=r(319887),s=function(m){return m[m.NotRequired=0]="NotRequired",m[m.Declined=1]="Declined",m[m.Approved=2]="Approved",m}({});function p(m,v){return new V(m,v)}var V=function(){function m(v,e){this.promiseFactory=v,this.telemetryService=e,this.cachedConsentMap={},this.visualConsentOptionsMap={}}return m.prototype.registerVisualConsent=function(v,e){var h=this;t.fF.assertValue(e,"VisualConsentService: registerVisualConsent was called with missing options object"),t.fF.assert(function(){return!h.visualConsentOptionsMap[v]},"VisualConsentService: registerVisual was already called for visual "+v),this.visualConsentOptionsMap[v]=e,this.telemetryService.logEvent(i.MU,{visualType:v,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),this.loadConsentAsync(v)},m.prototype.hasConsent=function(v){return this.cachedConsentMap[v]},m.prototype.setConsent=function(v,e){if(!this.isConsentRequiringVisual(v))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[v]=e;var h=this.visualConsentOptionsMap[v]&&this.visualConsentOptionsMap[v].consentPersistencyProvider;return this.telemetryService.logEvent(i.tH,{visualType:v,userConsent:e,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),h?h.saveConsent(e):this.promiseFactory.reject("No persistencyProvider was set for visual "+v)},m.prototype.getConsent=function(v){var e=this,h=[];v=_.uniq(v),this.telemetryService.logEvent(i.Jf,{visualTypes:v.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});for(var n=function(b){if(!o.isConsentRequiringVisual(b))return h.push(o.promiseFactory.resolve({visualType:b,consent:s.NotRequired})),"continue";h.push(o.loadConsentAsync(b).then(function(g){return g?e.promiseFactory.resolve({visualType:b,consent:s.Approved}):e.showConsentDialog(b)}))},o=this,u=0,a=v;u<a.length;u++)n(a[u]);return this.promiseFactory.allSettled(h).then(function(d){return _.map(_.filter(d,function(b){return 0===b.type}),function(b){return b.value})})},m.prototype.isConsentRequiringVisual=function(v){return!!this.visualConsentOptionsMap[v]},m.prototype.loadConsentAsync=function(v){var e=this;if(t.fF.assertValue(this.visualConsentOptionsMap[v],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[v])return this.promiseFactory.resolve(this.cachedConsentMap[v]);var h=this.visualConsentOptionsMap[v]&&this.visualConsentOptionsMap[v].consentPersistencyProvider;return h?h.loadConsent().then(function(n){return e.cachedConsentMap[v]=n,e.promiseFactory.resolve(n)}).catch(function(n){if(n!==c.VT)return e.promiseFactory.reject(n)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+v)},m.prototype.showConsentDialog=function(v){var e=this;if(!this.isConsentRequiringVisual(v))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var h=this.visualConsentOptionsMap[v]&&this.visualConsentOptionsMap[v].consentDialogProvider;return h?h.showConsentDialog().then(function(n){return e.setConsent(v,n),e.promiseFactory.resolve({visualType:v,consent:n?s.Approved:s.Declined})}).catch(function(n){return e.promiseFactory.reject(n)}):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+v)},m}()},352371:function(ze,K,r){function t(){return new c}r.d(K,{z:function(){return t}});var c=function(){function i(){this.listeners=[]}return i.prototype.associate=function(s,p){for(var V=0,m=this.listeners;V<m.length;V++)m[V].onInstanceAssociated(s,p)},i.prototype.subscribeToInstanceIdAssociation=function(s){_.includes(this.listeners,s)||this.listeners.push(s)},i}()},123694:function(ze,K,r){r.d(K,{Os:function(){return v},ZM:function(){return V},wl:function(){return m}});var t=r(832867),c=r(787941),i=r(587318),s=r(319887),p=r(780760),V=function(){function e(){this.visualPlugins={},this.loadedVisualPlugins={}}return e.prototype.getLoadedPlugins=function(){return _.map(this.loadedVisualPlugins,function(h){return h})},e.prototype.getLoadedPlugin=function(h){return this.loadedVisualPlugins[h]},e.prototype.hasPlugin=function(h){return!!this.visualPlugins[h]},e.prototype.loadPlugin=function(h,n){if(n){var o=this.visualPlugins[h];(null==o||!0===o.custom||n.developerModeVisual)&&(this.visualPlugins[h]=n)}this.loadedVisualPlugins[h]=this.visualPlugins[h]},e.prototype.unloadPlugin=function(h){delete this.loadedVisualPlugins[h]},e}();function m(e,h,n,o,u,a){c.fF.assertValue(h,"promiseFactory"),c.fF.assertValue(o,"resourcePackage");var l=h.defer();if(o.name===i.C&&!o.isPublic)return l.resolve(null),l.promise;if(!u&&e.hasPlugin(o.name))e.loadPlugin(o.name),l.resolve(null);else if(!u&&t.N[o.name])e.loadPlugin(o.name,t.N[o.name]),l.resolve(null);else if(_.isEmpty(o.items))l.reject("Resource package does not contain any items");else{var d;c.fF.assertValue(n,"resourceLoader"),a&&(d=a.startEvent(s.F$,{resourcePackageName:o.name})),n.loadResourcePackage(o).catch(function(b){c.fF.assertFail("Custom visual "+o.name+" failed to load: "+b)}).finally(function(){var b=t.N[o.name];b?(b.iconUrl||(b.iconUrl=(0,p.sG)(o.name)),e.loadPlugin(b.name,b),l.resolve(null),d&&d.resolve()):(l.reject("Unable to load visual plugin from resource package"),d&&d.reject())})}return l.promise}function v(e,h){c.fF.assertValue(e,"storage"),c.fF.assertValue(h,"plugins");for(var n=0,o=h;n<o.length;n++){var u=o[n];e.loadPlugin(u.name,u)}}},780760:function(ze,K,r){r.d(K,{i8:function(){return D},sG:function(){return M}});var t=r(914285),c=r(663406),i=r(37584),s=r(108333),p=r(464925),V=r(719661),m=r(525963),v=r(635491),e=r(935270),h=r(424420),n=r(939523),o=r(551493),u=r(674430),a=r(36629),l=r(292638),d=r(761565),b=r(173761),f=r(55397),g=r(826335),S=r(103819),y=r(600348),C=r(299747);function D(T,R,B,N){return function(T,R,B,N){var x=(0,C.ED)(T);return x.create=R,x.createES6=B,N&&N(x),x}(T,R,N,function(x){return function(T,R){if(R)switch(T.name){case y.D.actionButton:T.capabilities=(0,t.mx)(R);break;case y.D.scatterChart:T.capabilities=(0,a.r4)(R);break;case y.D.areaChart:T.capabilities=(0,n.yg)(!1,!0,R);break;case y.D.lineChart:T.capabilities=(0,n.yg)(!1,!1,R);break;case y.D.stackedAreaChart:case y.D.hundredPercentStackedAreaChart:T.capabilities=(0,n.yg)(!0,!0,R);break;case y.D.waterfallChart:T.capabilities=(0,S.GJ)(R);break;case y.D.lineStackedColumnComboChart:T.capabilities=(0,s.p5)(!0,R);break;case y.D.lineClusteredColumnComboChart:T.capabilities=(0,s.p5)(!1,R);break;case y.D.columnChart:case y.D.hundredPercentStackedColumnChart:T.capabilities=(0,i.nn)(!1,!0,!1,R);break;case y.D.barChart:case y.D.hundredPercentStackedBarChart:T.capabilities=(0,i.nn)(!0,!0,!1,R);break;case y.D.clusteredBarChart:T.capabilities=(0,i.nn)(!0,!1,!1,R);break;case y.D.clusteredColumnChart:T.capabilities=(0,i.nn)(!1,!1,!1,R);break;case y.D.ribbonChart:T.capabilities=(0,i.nn)(!1,!0,!0,R);break;case y.D.pivotTable:T.capabilities=(0,u.R)(R);break;case y.D.filledMap:T.capabilities=(0,m.XN)(R);break;case y.D.azureMap:T.capabilities=(0,c.$E)(R);break;case y.D.map:T.capabilities=(0,o.NC)(R);break;case y.D.donutChart:case y.D.pieChart:T.capabilities=(0,V.cw)(R);break;case y.D.kpi:T.capabilities=(0,h.pW)(R);break;case y.D.funnel:T.capabilities=(0,v.qW)(R);break;case y.D.shapeMap:T.capabilities=(0,l.x)();break;case y.D.table:T.capabilities=(0,b.Y)(R);break;case y.D.tableEx:T.capabilities=(0,f.k)(R);break;case y.D.treemap:T.capabilities=(0,g.cB)(R);break;case y.D.slicer:T.capabilities=(0,d.st)(R);break;case y.D.keyDriversVisual:T.capabilities=(0,e.yM)();break;case y.D.decompositionTreeVisual:T.capabilities=(0,p.Sd)(R)}}(x,B)})}function M(T){var B=$("#css-"+T)[0],N=_.find(document.styleSheets,function(I){return I.ownerNode===B});if(N&&N.cssRules)for(var x=0;x<N.cssRules.length;x++){var A=N.cssRules[x];if(A.selectorText&&A.selectorText===".visual-icon."+T)return A.style.backgroundImage}return""}},713937:function(ze,K,r){r.d(K,{R:function(){return i},w:function(){return s}});var t=r(832867),c=r(978611);function i(p){return!!t.N[p]}function s(p,V,m,v,e,h,n){var o;e&&e.isRunning()&&(o=e.createChildActivity({name:"Visual Container Module Load"}));var u=function(){var d=V.getPlugin(p);return d&&d.module?d.createES6&&!d.module.css?(o&&o.resolve(),v.resolve(d)):m.require({javascript:d.createES6?void 0:d.module.javascript,css:d.module.css}).then(function(){return o&&o.resolve(),d},function(){return o&&o.reject(),null}):(o&&(d?o.resolve():o.reject()),h?c.a.resolve(d):v.resolve(d))};if(n){var a=n.ensureCustomVisual(p);if(a)return a.then(u)}return u()}},731479:function(ze,K,r){r.d(K,{Se:function(){return v},vh:function(){return V},vt:function(){return e},ww:function(){return m}});var t=r(166851),c=r(454262),i=r(600348),s=["play","subview","smallMultiple"],p=new t.o(function(){var h;return(h={})[i.D.card]=!0,h[i.D.gauge]=!0,h[i.D.image]=!0,h[i.D.kpi]=!0,h[i.D.textbox]=!0,h});function V(h,n){return h?!!h.custom:!_.includes(s,n)}function m(h){return h&&h.capabilities&&h.capabilities.dataViewMappings&&!!(0,c.oy)(h.capabilities.dataViewMappings)}function v(h,n){return"pythonVisual"===h||!(!n||!n.scriptVisualEnabled)}function e(h){return!!h&&!!p.getValue()[h.name]}},266419:function(ze,K,r){r.d(K,{S:function(){return y}});var t=r(238435),c=r(787941),i=r(474505),s=r(129035),V=3e4;function a(C){return!!(C&&C.propertyIdentifier&&C.propertyIdentifier.objectName&&C.propertyIdentifier.propertyName)}var f=function(){function C(E){this.expectedContext=E,this._items=[]}return Object.defineProperty(C.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),C.prototype.visitRole=function(E,D){var P;D===this.expectedContext&&(P=this._items).push.apply(P,E.items||[])},C.fromMatrixRows=function(E){if(!E.rows)return[];var D=new this("MatrixRowsGroup");return(0,t.Ay)(E.rows,D),D.items},C.fromMatrixColumns=function(E){if(!E.columns)return[];var D=new this("MatrixColumnsGroup");return(0,t.yL)(E.columns,D),D.items},C}();function g(C,E){var D;if(E)return C&&(D=C[E.propertyIdentifier.objectName]),(0,s.N)(D,E.propertyIdentifier.propertyName,E.defaultValue)}var S=r(823344);function y(C,E,D){c.fF.assertAnyValue(C,"pbivizjson"),c.fF.assertAnyValue(C.content,"content"),c.fF.assertAnyValue(C.content.iconBase64,"iconBase64"),C=E?(0,S.zQ)(C,E):C;var P=E?(0,S.qL)(C,E):null,M=(0,S.qL)(C,"en-US"),R={name:C.visual.guid,apiVersion:C.apiVersion,class:C.visual.visualClassName,displayName:C.visual.displayName,capabilities:C.capabilities,custom:!0,iconUrl:'url("'+C.content.iconBase64+'")',content:C.content,version:C.visual.version,create:function(){return null},customizeQuery:function(N){return null},localizationResources:P||M?{enUSStrings:M,localizedStrings:P}:null,supportUrl:C.visual.supportUrl,source:D,publisher:C.author?C.author.name:void 0};return C.capabilities&&(C.capabilities.subtotals||C.capabilities.dataReductionCustomization)&&(R.customizeQuery=function(B){return function(C,E){E&&E.subtotals&&E.subtotals.matrix&&function(C){return C&&function(C){return C&&a(C.columnSubtotals)&&a(C.columnSubtotalsPerLevel)&&a(C.levelSubtotalEnabled)&&a(C.rowSubtotals)&&a(C.rowSubtotalsPerLevel)}(C.matrix)}(E.subtotals)&&function(C,E){c.fF.assert(function(){return!!C},"options not defined"),c.fF.assert(function(){return!!C.dataViewMappings},"dataViewMappings not defined");var D=C.dataViewMappings[0];if(D&&D.matrix&&D.metadata){var P=D.matrix;(function(C,E,D){var P=C.metadata.objects,M=C.metadata.columns,T=f.fromMatrixRows(E),R=g(P,D.rowSubtotals),B=g(P,D.rowSubtotalsPerLevel),N=2;if(null!=D.rowSubtotalsType&&"Top"===g(P,D.rowSubtotalsType)&&(N=1),!_.isEmpty(T))for(var A=function(L){var W=_.find(M,function(j){return j.queryName===L.queryName});if(!W)return"continue";var U=g(W.objects,D.levelSubtotalEnabled);L.subtotalType=!R||B&&!U?0:N},I=0,w=T;I<w.length;I++)A(w[I])})(D,P,E),function(C,E,D){var P=C.metadata.objects,M=C.metadata.columns,T=f.fromMatrixColumns(E),R=g(P,D.columnSubtotals),B=g(P,D.columnSubtotalsPerLevel);if(!_.isEmpty(T))for(var N=function(F){var O=_.find(M,function(W){return W.queryName===F.queryName});if(!O)return"continue";var L=g(O.objects,D.levelSubtotalEnabled);F.subtotalType=!R||B&&!L?0:2},x=0,A=T;x<A.length;x++)N(A[x])}(D,P,E)}}(C,E.subtotals.matrix),E&&E.dataReductionCustomization&&function(C,E){var D,P,M,T,R,B,N,x,A,I,w,F,O,L=null===(D=null==C?void 0:C.dataViewMappings)||void 0===D?void 0:D[0],W=null===(P=null==L?void 0:L.metadata)||void 0===P?void 0:P.objects,U=(0,i._1)(C.dataViewMappings);if(function(C,E,D){var P=!0;if(!E||!E.dataReductionCustomization)return!1;switch(C){case 2:if(D.matrix){var M=g(E,D.matrix.rowCount),T=g(E,D.matrix.columnCount);void 0!==M&&(P=P&&M>=15&&M<=V),void 0!==T&&(P=P&&T>=1&&T<=2e3)}break;case 8:D.table&&void 0!==(M=g(E,D.table.rowCount))&&(P=P&&M>=15&&M<=V);break;case 1:if(D.categorical){var R=g(E,D.categorical.categoryCount),B=g(E,D.categorical.groupedValuesCount);void 0!==R&&(P=P&&R>=15&&R<=V),void 0!==B&&(P=P&&B>=1&&B<=2e3)}}return P}(U,W,E))switch(U){case 2:var z=g(W,E.matrix.rowCount),G=g(W,E.matrix.columnCount),te=null===(T=null===(M=L.matrix)||void 0===M?void 0:M.columns)||void 0===T?void 0:T.dataReductionAlgorithm,Q=null===(B=null===(R=L.matrix)||void 0===R?void 0:R.rows)||void 0===B?void 0:B.dataReductionAlgorithm;G&&te&&(te[(0,i.Xs)(te)].count=G),z&&Q&&(Q[(0,i.Xs)(Q)].count=z);break;case 8:z=g(W,E.table.rowCount),Q=null===(x=null===(N=null==L?void 0:L.table)||void 0===N?void 0:N.rows)||void 0===x?void 0:x.dataReductionAlgorithm,z&&Q&&(Q[(0,i.Xs)(Q)].count=z);break;case 1:var Y=g(W,E.categorical.categoryCount),se=g(W,E.categorical.groupedValuesCount);te=null===(w=null===(I=null===(A=null==L?void 0:L.categorical)||void 0===A?void 0:A.values)||void 0===I?void 0:I.group)||void 0===w?void 0:w.dataReductionAlgorithm,Q=null===(O=null===(F=null==L?void 0:L.categorical)||void 0===F?void 0:F.categories)||void 0===O?void 0:O.dataReductionAlgorithm,se&&te&&(te[(0,i.Xs)(te)].count=se),Y&&Q&&(Q[(0,i.Xs)(Q)].count=Y)}}(C,E.dataReductionCustomization)}(B,C.capabilities)}),R}},661885:function(ze,K,r){r.d(K,{et:function(){return i},zC:function(){return m},zM:function(){return s}});var t=r(787941),c=r(690016),i="message",s="error",p="message",V="onMessageProxyAsyncComplete";function m(e,h){return new v(e,h)}var v=function(){function e(h,n){var o=this;this.promiseFactory=h,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,n&&(this._contentWindow=n),this.deferredCache={},this.windowMessageHandler=function(u){return o.onMessageReceived(u.originalEvent)},$(window).on(p,this.windowMessageHandler)}return Object.defineProperty(e.prototype,"allowSameWindow",{get:function(){return this._allowSameWindow},set:function(n){this._allowSameWindow=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentWindow",{get:function(){return this._contentWindow},set:function(n){t.fF.assertValue(n,"value"),this._contentWindow=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queue",{get:function(){return jQuery.extend([],this._queue)},enumerable:!1,configurable:!0}),e.prototype.postMessage=function(h){this.contentWindow?this.sendMessage(h):this.queueMessage(h)},e.prototype.postMessageAsync=function(h){var n=this,o=this.promiseFactory.defer(),u=this.createRandomString();return this.deferredCache[u]=o,h.id=u,this.postMessage(h),o.promise.finally(function(){delete n.deferredCache[u]}),o.promise},e.prototype.queueMessage=function(h,n){void 0===n&&(n=this._queue.length);var o=this.prepareMessage(h);this._queue.splice(n,0,o)},e.prototype.on=function(h,n){t.fF.assertValue(h,"type"),t.fF.assertValue(n,"handler"),this.handlers[h]&&(this.handlers[h].indexOf(n)>-1||this.handlers[h].push(n))},e.prototype.off=function(h,n){if(t.fF.assertValue(h,"type"),this.handlers[h]){if(!n)return void(this.handlers[h].length=0);var o=this.handlers[h].indexOf(n);o>-1&&this.handlers[h].splice(o,1)}},e.prototype.flushQueue=function(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)},e.prototype.sendMessage=function(h){var n=this.prepareMessage(h);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(n,"*"):t.fF.assertFail("contentWindow not set")},e.prototype.prepareMessage=function(h){var n;try{n=JSON.stringify(h)}catch(o){throw n=null,c.b$.ensureError(o)}return n},e.prototype.onMessageReceived=function(h){if(this.allowSameWindow||h.source!==window){var n;try{n="string"==typeof h.data?JSON.parse(h.data):h.data}catch(f){n=null}if(n)for(var u=0,a=jQuery.isArray(n)?n:[n];u<a.length;u++){var l=a[u],d=void 0,b=void 0;try{"string"==typeof l?(d=JSON.parse(l),b=l.length):(d=l,b=h.data.length)}catch(f){d=null}if(!d)return;this.dispatchMessage(h,d,b)}}},e.prototype.dispatchMessage=function(h,n,o){var u={message:n,source:h.source,origin:h.origin,packedSize:o};if(n.id&&(n.eventName===V||n.result||n.error)){var a=this.deferredCache[n.id];return a?n.error?a.reject(n.error):a.resolve(n.result):void 0}for(var d=0,b=n.error?this.handlers.error:this.handlers.message;d<b.length;d++)this.invokeHandler(b[d],u)},e.prototype.invokeHandler=function(h,n){var u,a,o=this;n.message.id&&(a={id:n.message.id,eventName:V,arguments:[]});try{u=h.call(null,n),a&&this.promiseFactory.when(u).then(function(l){a.result=l,o.postMessage(a)}).catch(function(l){a.error=l,o.postMessage(a)})}catch(l){a&&(a.error={message:l.message},this.postMessage(a))}},e.prototype.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},e.prototype.destroy=function(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(p,this.windowMessageHandler),this.windowMessageHandler=null},e}()},319887:function(ze,K,r){r.d(K,{B0:function(){return z},Cl:function(){return T},Cq:function(){return n},Cx:function(){return de},EB:function(){return p},F$:function(){return e},FM:function(){return H},IX:function(){return j},JT:function(){return B},Jf:function(){return b},LU:function(){return m},MU:function(){return u},OO:function(){return g},Qr:function(){return y},XH:function(){return N},bn:function(){return Y},d7:function(){return i},eb:function(){return I},ek:function(){return Q},fU:function(){return L},hZ:function(){return te},jN:function(){return P},ok:function(){return W},sT:function(){return E},tH:function(){return l},w9:function(){return U},wY:function(){return F}});var t=r(853811),c="PBI.ApprovedResource.FailLoaded",i=t.cx[c]=(0,t.b1)(c),s="PBI.ApprovedResource.SuccessfulLoad",p=t.cx[s]=(0,t.b1)(s),V="PBI.ApprovedResource.EndpointDown",m=t.cx[V]=(0,t.b1)(V),v="PBI.ApproveResource.LoadResourcePackage",e=t.cx[v]=(0,t.b1)(v),h="PBI.AppSourceResource.EndpointDown",n=t.cx[h]=(0,t.b1)(h),o="PBI.VisualConsent.Register",u=t.cx[o]=(0,t.b1)(o),a="PBI.VisualConsent.Set",l=t.cx[a]=(0,t.b1)(a),d="PBI.VisualConsent.Get",b=t.cx[d]=(0,t.b1)(d),f="PBI.VisualEvent.DownloadContentEvent",g=t.cx[f]=(0,t.b1)(f),S="PBI.TrustedVisual.Load",y=t.cx[S]=(0,t.b1)(S),C="PBI.TrustedVisual.GetConsent",E=t.cx[C]=(0,t.b1)(C),D="PBI.VisualAuthentication.GetResourceUrl",P=t.cx[D]=(0,t.b1)(D),M="PBI.VisualAuthentication.GetAADToken",T=t.cx[M]=(0,t.b1)(M),R="PBI.VisualAuthentication.GetWACToken",B=t.cx[R]=(0,t.b1)(R),N="PBI.LocalResource.LoadResourcePackageItem",A=(t.cx[N]=(0,t.b1)(N),"PBI.VisualAuthentication.BlockAccessToken"),I=t.cx[A]=(0,t.b1)(A),w="PBI.AdminControl.Initialized",F=t.cx[w]=(0,t.b1)(w),O="PBI.Pbiviz.UnzipFailed",L=t.cx[O]=(0,t.b1)(O),W="PBI.CustomVisualsLicense.LicensesLoaded",U=t.cx[W]=(0,t.b1)(W),j="PBI.CustomVisualsLicense.GetServicePlansCalled",z=t.cx[j]=(0,t.b1)(j),G="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",te=t.cx[G]=(0,t.b1)(G),Q="PBI.VisualEvent.LocalStorageV2Event",H=t.cx[Q]=(0,t.b1)(Q),de="PBI.VisualEvent.AcquireAADToken",Y=t.cx[de]=(0,t.b1)(de)},477898:function(ze,K,r){r.d(K,{Mm:function(){return v},Ro:function(){return V},Xf:function(){return y},aM:function(){return C},bL:function(){return l},cg:function(){return S},fA:function(){return a},jK:function(){return o},nn:function(){return g},oq:function(){return u},qe:function(){return d},st:function(){return b},ul:function(){return n},wn:function(){return E}});var h,t=r(319887),c=r(587318),i=r(620108),s=r(693825),p=r(600348),V={objectName:"general",propertyName:"filter"},m=function(D){return D[D.FeatureIsDisabled=0]="FeatureIsDisabled",D[D.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",D[D.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",D[D.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",D[D.FailedEvaluatingState=4]="FailedEvaluatingState",D}({}),v=function(D){return D[D.Unclassified=0]="Unclassified",D[D.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",D[D.NonCdnCustomVisual=2]="NonCdnCustomVisual",D[D.CertifiedCustomVisual=3]="CertifiedCustomVisual",D[D.OrganizationalStore=4]="OrganizationalStore",D[D.Native=5]="Native",D}({}),e=[c.Jo,c.C,c.x5];function n(D,P,M){if(void 0===h)try{if(!(P&&D&&D.featureSwitches&&D.featureSwitches.customVisualsTenantSwitch))return h=m.FeatureIsDisabled;P.logChildEvent(M&&M.event,t.wY,{AdminControlState:m[h=D.featureSwitches.customVisualsTenantEnabled?D.featureSwitches.certifiedCustomVisualsTenantEnabled?m.NonCertifiedCustomVisualsAreDisabled:m.AllCustomVisualsAreEnabled:m.AllCustomVisualsAreDisabled]})}catch(T){h=m.FailedEvaluatingState}return h}function o(D,P,M,T,R,B,N){return B||N?f(P,!0,B,N,M,T,R):f(P,D.featureSwitches.customVisualsTenantSwitch,!D.featureSwitches.customVisualsTenantEnabled,D.featureSwitches.certifiedCustomVisualsTenantEnabled,M,T,R)}function u(D){return!(!D||!D.capabilities)&&(D.custom?D.apiVersion&&(0,s.gt)(D.apiVersion,"3.5.0")&&D.capabilities.supportsEmptyDataView:D.capabilities.supportsEmptyDataView)}function a(D){return!(!D||!D.apiVersion)&&(0,s.ge)(D.apiVersion,"2.0.0")}function l(D,P){return P||D.featureSwitches.customVisualsTenantSwitch&&!D.featureSwitches.customVisualsTenantEnabled}function d(D){return D&&_.endsWith(D,c.c2)}function b(D){return e.includes(D)}function f(D,P,M,T,R,B,N){return!(!P||D===c.Jo||b(D)||d(D)||N)&&(!!M||!(!T||R.isApprovedResourceServerRender(D))&&(!B||R.isApprovedVisualsDefined()))}function g(D,P,M){return M?d(P)?v.OrganizationalStore:D.isApprovedVisualsDefined()?D.isApprovedResourceServerRender(P)?v.CertifiedCustomVisual:D.isApprovedResource(P)?v.NonCertifiedCustomVisual:v.NonCdnCustomVisual:v.Unclassified:v.Native}function S(D){switch(D){case 0:return"allow-scripts";case 1:return"allow-popups";case 2:return"allow-same-origin";case 3:return"allow-forms";case 4:return"allow-top-navigation-by-user-activation";case 5:return"allow-downloads"}}function y(D){return D&&D===p.D.debugVisual}function C(D,P){return P?D.substring(0,D.lastIndexOf("_DEBUG")):D}function E(D){var P=(0,i.VM)(D.objects,V),M=null==P?void 0:P.type;return!(!M||!M.filter||M.filter.selfFilter)}},431325:function(ze,K,r){r.d(K,{PR:function(){return b},z_:function(){return l},dR:function(){return g},sQ:function(){return a},yl:function(){return d},FD:function(){return f},CJ:function(){return u},k4:function(){return y},_q:function(){return C}});var t=r(415859),c=r(787941),i=r(826691),s=r(565146),p=r(668268),V=r(324356),m=r(636490),v=r(138363);function e(P,M){return n(P,M,!1)}function h(P,M){return n(P,M,!0)}function n(P,M,T){if(void 0!==P){var R=M.defer(),B=new FileReader;return B.onload=function(){R.resolve(B.result)},B.onerror=function(){R.reject(B.error)},T?B.readAsText(P):B.readAsDataURL(P),R.promise}}var o=r(926201);function u(P,M,T,R,B,N){if(c.fF.assertValue(B,"promiseFactory"),!P)return B.resolve(null);for(var A=[],I=0,w=D(P,M,N);I<w.length;I++){var F=w[I],O=F.getRefValue();A.push(d(O,T(),R,B,{itemTypeFromReference:F.itemType}))}return B.all(A)}function a(P,M,T,R,B,N,x){if(c.fF.assertValue(B,"promiseFactory"),!P)return B.resolve(null);for(var A=(0,t.xF)(P,M,void 0,!1),I=(0,t.wN)(A,M),w=D(I,M),F=[],O=function(G){var te=G.getRefValue(),Q=null!=x&&x.isRunning()?x.createChildActivity({name:"Visual Container Resource Load",resourceType:te.packageType}):void 0,H=d(te,T,R,B,{usePersistableFormat:N,itemTypeFromReference:G.itemType}).then(function(de){G.setRefValue(de),Q&&Q.resolve()}).catch(function(){Q&&Q.reject()});F.push(H)},L=0,W=w;L<W.length;L++)O(W[L]);var j=B.defer();return B.all(F).then(function(){return j.resolve(I)}),j.promise}function l(P,M){return!!P&&D(P,M).length>0}function d(P,M,T,R,B){return f(M,{packageType:P.packageType,packageName:P.packageName,itemName:P.itemName},T,R,B).then(function(x){return null==x?(0,V.IF)():(0,V.fL)(x)},function(x){return(0,V.IF)()})}function b(P){return c.fF.assertValue(P,"getLoadAndResolveErrorReason: No reason given"),P?"string"==typeof P?P:null!=P.status?P.status.toString():P.stack?P.stack.toString():P.message?P.message.toString():"Unknown reason":"No reason given"}function f(P,M,T,R,B){var N=(0,o.pd)(P,M.packageType,M.packageName);if(!N){i.f.error("Missing resource package ".concat(M.packageType),!0);var x=void 0;if(2===M.packageType&&B&&null!=(x=B.itemTypeFromReference)){var A=(0,o.np)(M.itemName,x);return T.loadSharedResource(A,x).catch(function(I){i.f.error("Error loading shared resource from app ".concat(A," ").concat(b(I)),!1)})}return R.resolve()}return g(N,M.itemName,T,R,B)}function g(P,M,T,R,B){var N=B&&B.usePersistableFormat,x=B&&B.itemTypeFromReference;if(c.fF.assertValue(P,"resource package should exist"),!P)return R.reject(new Error("loadAndResolveContent: no package"));var I,A=(0,o.NW)(P,M);if(!A&&2===P.type&&x&&P&&x&&(A=(0,o.x_)(M,x),P.items.push(A)),c.fF.assertValue(A&&A.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!A||!A.path)return i.f.error("Missing resource item or path !resourcePackageItem=".concat(!A,", resourcePackageItem.path=").concat(A&&A.path),!0),R.resolve();I=2===P.type?A.content?R.resolve(A.content):A.promise?A.promise:A.promise=T.loadSharedResource(A.path,A.type).finally(function(){delete A.promise}).then(function(F){return F instanceof Blob?A.contentBlob=F:(_.isString(F)||(F=JSON.stringify(F)),A.content=F)},function(F){throw i.f.error("Error loading shared resource from app ".concat(A.path," ").concat(b(F)),!1),F}):T.loadResourcePackageItem(P,M);var w=R.defer();return I.then(function(){(function(P,M,T,R,B){var N=null;if(M){var x=B===v.Ut.ShapeMap||M.type===v.Ut.ShapeMap,A=M.type===v.Ut.BaseTheme||M.type===v.Ut.CustomTheme||M.type===v.Ut.HighContrastTheme,I=3===P.type||0===P.type,w=M.content;if(w)x&&(0,s.pU)(w)&&(w=(0,s.Fj)((0,s.DJ)(w))),N=w;else if(M.contentBlob){if(2===P.type&&M.type===v.Ut.Image||R||x||I||A){var F=T.defer();return(x||I||A?h:e)(M.contentBlob,T).then(function(L){return F.resolve(L)},function(L){return F.resolve(null)}),F.promise}M.contentBlobUrl||(M.contentBlobUrl=window.URL.createObjectURL(M.contentBlob)),N=M.contentBlobUrl}}return T.resolve(N)})(P,A,R,N,x).then(function(F){return w.resolve(F)})}).catch(function(F){return w.reject(F)}),w.promise}function S(P,M,T,R){if(T){var B=(0,o.pd)(T,1);return B?M.loadResourcePackageItem(B,R):P.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return P.reject(new Error("loadRegisteredResource: no packages"))}function y(P,M,T,R){return S(P,M,T,R).then(function(N){return c.fF.assert(function(){return N instanceof Blob||null==N||"string"==typeof N},"resource item content expected to be Blob or string"),N instanceof Blob?e(N,P):("string"==typeof N&&!(0,s.pU)(N)&&(N=(0,s.wo)(N)),N)})}function C(P,M,T,R){return S(P,M,T,R).then(function(N){return c.fF.assert(function(){return N instanceof Blob||null==N||"string"==typeof N},"resource item content expected to be Blob or string"),N instanceof Blob?h(N,P):N}).then(function(N){try{"string"==typeof N&&(0,s.pU)(N)&&(N=(0,s.Fj)((0,s.DJ)(N)))}catch(x){throw i.f.error("Error decoding registeredResource: ".concat(JSON.stringify(x)),!!x.stack),x}return N})}function D(P,M,T){c.fF.assertValue(P,"definitions");var R=[];return(0,p.Vj)({definitions:P,descriptors:M,visitor:function(N,x,A,I,w){var F=I&&I.geoJson&&1===w.length&&"content"===w[0];if(F){var O=x;if(17===O.type.kind&&17===O.name.kind&&17===O.content.kind&&O.type.value===m.c1){var W=O.name.value;"string"==typeof W&&null==O.content.value&&(T&&T(W,v.Ut.ShapeMap),N=(0,V.nF)((0,o.RJ)(2),2,W),O.content=N)}}if(N instanceof V.nd){var j={getRefValue:function(){return x[A]},setRefValue:function(G){x[A]=G}};F&&(j.itemType=v.Ut.ShapeMap),R.push(j)}}}),R}},926201:function(ze,K,r){r.d(K,{EK:function(){return d},In:function(){return v},JZ:function(){return l},Jp:function(){return m},NM:function(){return e},NW:function(){return o},RJ:function(){return u},Yu:function(){return n},np:function(){return p},pd:function(){return h},wq:function(){return a},x_:function(){return V}});var t=r(787941),c=r(587318),i=r(138363),s={};function p(f,g){return s[g](f)}function V(f,g,S){return{type:g,path:p(f,g),name:f,content:S}}function m(f){return _.keyBy(_.filter(f,function(g){return v(g)}),function(g){return g.name})}function v(f){return t.fF.assertValue(f,"resourcePackage should exist in order to verify if it's a static resource"),t.fF.assertValue(f.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!c.uT[f.type]}function e(f,g,S){t.fF.assert(function(){return _.isArray(f)},"resourcePackages should be an array"),S=u(g,S);var y=h(f,g,S);return y||f.push(y={id:void 0,name:S,type:g,items:[]}),y}function h(f,g,S){return t.fF.assert(function(){return null==f||_.isArray(f)},"Resource packages should be: null, undefined or an array"),S=u(g,S),_.find(f,function(y){return y.type===g&&y.name===S})}function n(f,g,S,y){return o(h(f,g,y),S)}function o(f,g){return t.fF.assertAnyValue(f,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(f&&f.items,function(S){return S.name===g})}function u(f,g){var S=c.xp[f]||g;return t.fF.assertValue(S,"Invalid package name for resource package"),S}function a(f,g){t.fF.assert(function(){return v(f)},"mergeStaticResourcePackages - package1 should be a static resource."),t.fF.assert(function(){return v(g)},"mergeStaticResourcePackages - package2 should be a static resource."),t.fF.assert(function(){return f.type===g.type},"In order to merge resource packages, their types should be equal"),t.fF.assert(function(){return f.name===g.name},"In order to merge resource packages, their names should be equal"),null==f.id&&null!=g.id&&(f.id=g.id);for(var S=0,y=g.items;S<y.length;S++){var C=y[S],E=o(f,C.name);E?b(E,C):f.items.push(C)}}function l(f){return f&&(0===f.type||3===f.type)}function d(f){return _.chain(f).filter(function(g){return l(g)}).map(function(g){return g.name}).uniq().value()}function b(f,g){t.fF.assert(function(){return f.name===g.name},"In order to merge resource package items, their names should be equal"),t.fF.assertAnyValue(f.path===g.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),t.fF.assert(function(){return f.type===g.type},"In order to merge resource package items, their types should be equal"),null==f.id&&null!=g.id&&(f.id=g.id),!f.content&&g.content&&(f.content=g.content),!f.contentBlob&&g.contentBlob&&(f.contentBlob=g.contentBlob),!f.contentBlobUrl&&g.contentBlobUrl&&(f.contentBlobUrl=g.contentBlobUrl),!f.content&&!f.contentBlob&&!f.promise&&g.promise&&(f.promise=g.promise),t.fF.assert(function(){return!f.content||!f.contentBlob},"A resource package item can't have content and contentBlob at the same time.")}s[i.Ut.BaseTheme]=function(f){return"BaseThemes/".concat(f,".json")},s[i.Ut.CustomTheme]=function(f){return"BuiltInThemes/".concat(f,".json")},s[i.Ut.HighContrastTheme]=function(f){return"HighContrastThemes/".concat(f,".json")},s[i.Ut.Image]=function(f){return"Images/".concat(f)},s[i.Ut.ShapeMap]=function(f){return"Shapemaps/".concat(f,".json")}},596122:function(ze,K,r){r.d(K,{td:function(){return cr},Vh:function(){return Hr},nm:function(){return Jr},HB:function(){return br},lm:function(){return Fr}});var t=r(226514),c=r(145315);function i(Ot){var Ee=Ot.type||c.EP.Data;return Ee&c.EP.Resize&&2===Ot.resizeMode&&(Ee|=c.EP.ResizeEnd),Ee}var V={version:"1.0.0",overloads:function(Ee,Vt){return{update:function(rt){Ee.update&&Ee.update({viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,type:i(rt)})},destroy:function(){Ee.destroy&&Ee.destroy()},enumerateObjectInstances:function(rt){return Ee.enumerateObjectInstances&&Ee.enumerateObjectInstances(rt)||[]}}},hostAdapter:function(Ee){return{}}},m=r(433992),v=r(161414);function e(Ot,Ee){for(var Vt,wt=Ee.split(".");Vt=wt.shift();){if(!Ot||null==Ot[Vt])return!1;Ot=Ot[Vt]}return!0}var h=r(398155),u={version:"1.1.0",overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,type:i(rt)},_t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colors:e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors()}}},a=r(405416),b={version:"1.2.0",overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,type:i(rt)};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)}}}},f=r(233445),S={version:"1.3.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host})}}},C={version:"1.4.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),locale:Ee.host.locale()}}},D={version:"1.5.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive}}},T={version:"1.6.0",overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,editMode:rt.editMode,type:i(rt)};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive}}},R=r(220111),N={version:"1.7.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t){if(rt){var Wt=[];Wt.push(rt),Ee.host.applyJsonFilter(Wt,xt,_t)}else Ee.host.applyJsonFilter(null,xt,_t)}}}},A={version:"1.8.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()}}}};function I(Ot){return new w(Ot)}var w=function(){function Ot(Ee){this.hostServices=Ee.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}return Ot.prototype.getResourceUrl=function(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()},Ot.prototype.getAADAuthenticationToken=function(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()},Ot.prototype.getAADToken=function(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()},Ot.prototype.getWACToken=function(Ee,Vt){return this.authenticationService?this.authenticationService.getWACToken(Ee,Vt):this.promiseFactory.reject()},Ot.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},Ot.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},Ot}(),O={version:"1.9.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()}}}},L=function(){function Ot(Ee){this.localizationResources=Ee}return Ot.prototype.getDisplayName=function(Ee){var Vt=this.localizationResources;return Vt&&Vt.localizedStrings&&Vt.localizedStrings.hasOwnProperty(Ee)?Vt.localizedStrings[Ee]:Vt&&Vt.enUSStrings&&Vt.enUSStrings.hasOwnProperty(Ee)?Vt.enUSStrings[Ee]:Ee},Ot}(),U={version:"1.10.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return new h.Z({hostServices:Ee.host})},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)}}}},z={version:"1.11.0",hostAdapter:function(Ee){var Vt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){var rt=Ee.host;return rt.selectionManager=new h.Z({hostServices:rt}),rt.selectionManager},colorPalette:(0,a.D)(Vt),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)}}}},Q={version:"1.12.0",overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,editMode:rt.editMode,operationKind:rt.operationKind,type:i(rt)};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){var Vt=Ee.host,wt=e(Ee,"style.colorPalette.dataColors.getAllColors")?Ee.style.colorPalette.dataColors.getAllColors():m.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return Vt.selectionManager=new h.Z({hostServices:Vt}),Vt.selectionManager},colorPalette:(0,a.D)(wt),persistProperties:function(xt){return Ee.host.persistProperties(xt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(xt,_t,Wt,Ht){if(xt){var Vr=[];Vr.push(xt),Ee.host.applyJsonFilter(Vr,_t,Wt,Ht)}else Ee.host.applyJsonFilter(null,_t,Wt,Ht)},launchUrl:function(xt){return Ee.host.launchUrl(xt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()}}}},de={version:"1.13.0",hostAdapter:function(Ee){var Vt=Ee.host;return{createSelectionIdBuilder:function(){return new v.dw},createSelectionManager:function(){return Vt.selectionManager=new h.Z({hostServices:Vt}),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()}}}},Y=r(336667),se="2.0.0",pe={version:se,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=se,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=new h.Z({hostServices:Vt,apiVersion:se}),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:(0,f.r)({hostServices:Ee.host}),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()}}}},ve="2.1.0",je={version:ve,overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,editMode:rt.editMode,operationKind:rt.operationKind,type:i(rt),jsonFilters:rt.jsonFilters};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=ve,{createSelectionIdBuilder:function(){return Vt.createSelectionIdBuilder()},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(ve),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()}}}},Ae="2.2.0",le={version:Ae,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=Ae,{createSelectionIdBuilder:function(){return Vt.createSelectionIdBuilder()},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(Ae),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt){var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()}}}};function Z(Ot){return new ie(Ot)}var ie=function(){function Ot(Ee){this.eventService=Ee&&Ee.eventService&&Ee.eventService()}return Ot.prototype.renderingStarted=function(Ee){this.eventService&&this.eventService.renderingStarted(Ee)},Ot.prototype.renderingFinished=function(Ee){this.eventService&&this.eventService.renderingFinished(Ee)},Ot.prototype.renderingFailed=function(Ee,Vt){this.eventService&&this.eventService.renderingFailed(Ee,Vt)},Ot}();function me(Ot){return new ye(Ot)}var ye=function(){function Ot(Ee){this.storageService=Ee&&Ee.localStorageService&&Ee.localStorageService(),this.promiseFactory=Ee.promiseFactory()}return Ot.prototype.status=function(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(2)},Ot.prototype.get=function(Ee){return null!=this.storageService&&Ee?this.storageService.getStorageData(Ee):this.promiseFactory.reject()},Ot.prototype.set=function(Ee,Vt){return null!=this.storageService&&Ee&&Vt?this.storageService.setStorageData(Ee,Vt):this.promiseFactory.reject()},Ot.prototype.remove=function(Ee){null!=this.storageService&&Ee&&this.storageService.removeStorageData(Ee)},Ot}(),oe="2.3.0",Se={version:oe,overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,editMode:rt.editMode,operationKind:rt.operationKind,jsonFilters:rt.jsonFilters,type:i(rt),updateId:rt.updateId};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=oe,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(oe),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()},storageService:me(Vt),eventService:Z(Vt)}}},Be="2.4.0",Ze={version:Be,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=Be,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(Be),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()},storageService:me(Vt),eventService:Z(Vt)}}},qe="2.5.0",be={version:qe,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=qe,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(qe),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()},storageService:me(Vt),eventService:Z(Vt)}}},Fe="2.6.0",Ce={version:Fe,overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,editMode:rt.editMode,isInFocus:!!rt.isInFocus,operationKind:rt.operationKind,jsonFilters:rt.jsonFilters,type:i(rt),updateId:rt.updateId};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}}}},hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=Fe,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(Fe),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)}}}},J="3.2.0",Ie={version:J,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=J,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(J),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)},hostEnv:Ee.hostEnv}}},ot="3.3.0",he={version:ot,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=ot,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(ot),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(){return Vt.fetchMoreData()},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)},hostEnv:Ee.hostEnv}}},Te="3.4.0",Je={version:Te,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=Te,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(Te),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(rt){return Vt.fetchMoreData(rt)},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)},hostEnv:Ee.hostEnv}}},fe="3.5.0",Ne={version:fe,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=fe,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(fe),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(rt){return Vt.fetchMoreData(rt)},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)},hostEnv:Ee.hostEnv}}},et="3.6.0",xe={version:et,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=et,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(et),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(rt){return Vt.fetchMoreData(rt)},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)},hostEnv:Ee.hostEnv}}},Ve="3.7.0",at={version:Ve,hostAdapter:function(Ee){var Vt=Ee.host;return Vt.apiVersion=Ve,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return Vt.selectionManager=Vt.createSelectionManager(Ve),Vt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(rt){return Ee.host.persistProperties(rt)},tooltipService:Vt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),allowInteractions:!(!Ee||!Ee.interactivity)&&Ee.interactivity.isVisualInteractive,applyJsonFilter:function(rt,xt,_t,Wt){if(rt)if(Array.isArray(rt))Ee.host.applyJsonFilter(rt,xt,_t,Wt);else{var Ht=[];Ht.push(rt),Ee.host.applyJsonFilter(Ht,xt,_t,Wt)}else Ee.host.applyJsonFilter(null,xt,_t,Wt)},launchUrl:function(rt){return Ee.host.launchUrl(rt)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(rt){return Vt.fetchMoreData(rt)},storageService:me(Vt),eventService:Z(Vt),switchFocusModeState:function(rt){return Vt.switchFocusModeState(rt)},hostEnv:Ee.hostEnv,displayWarningIcon:function(rt,xt){return Vt.displayWarningIcon(rt,xt)}}}},ft="3.8.0",Ge={version:ft,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=ft,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(ft),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)}}}};function Re(Ot){return new Xe(Ot)}var Xe=function(){function Ot(Ee){this.downloadService=Ee&&Ee.downloadService&&Ee.downloadService(),this.promiseFactory=Ee.promiseFactory()}return Ot.prototype.exportStatus=function(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(2)},Ot.prototype.exportVisualsContent=function(Ee,Vt,wt,rt){return null!=this.downloadService?this.downloadService.exportVisualsContent(Ee,Vt,wt,rt).then(function(xt){return xt.downloadCompleted}):this.promiseFactory.reject()},Ot.prototype.exportVisualsContentExtended=function(Ee,Vt,wt,rt){return null!=this.downloadService?this.downloadService.exportVisualsContent(Ee,Vt,wt,rt):this.promiseFactory.reject()},Ot}(),Me="3.9.0",ct={version:Me,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Me,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Me),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)}}}},Mt="4.0.0",Bt={version:Mt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Mt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Mt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)}}}},jt="4.1.0",Yt={version:jt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=jt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(jt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)}}}},Zt="4.2.0",_r={version:Zt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Zt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Zt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)}}}},Pr="4.3.0",Rt={version:Pr,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Pr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Pr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)}}}};function Xt(Ot){return new dr(Ot)}var dr=function(){function Ot(Ee){this.licenseManagerService=Ee&&Ee.licenseManagerService&&Ee.licenseManagerService(),this.promiseFactory=Ee.promiseFactory()}return Ot.prototype.getAvailableServicePlans=function(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()},Ot.prototype.notifyLicenseRequired=function(Ee){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(Ee):this.promiseFactory.reject()},Ot.prototype.notifyFeatureBlocked=function(Ee){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(Ee):this.promiseFactory.reject()},Ot.prototype.clearLicenseNotification=function(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()},Ot}(),ar="4.4.0",Cr={version:ar,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=ar,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(ar),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt)}}},pr="4.5.0",Ir={version:pr,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=pr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(pr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt)}}};function Or(Ot){return new Kr(Ot)}var Kr=function(){function Ot(Ee){this.webAccessService=Ee&&Ee.webAccessService&&Ee.webAccessService(),this.promiseFactory=Ee.promiseFactory()}return Ot.prototype.webAccessStatus=function(Ee){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(Ee):this.promiseFactory.resolve(2)},Ot}(),zr="4.6.0",hr={version:zr,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=zr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(zr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt)}}},Rr="4.7.0",Ut={version:Rr,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Rr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Rr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)}}}},Et="5.0.0",Nt={version:Et,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Et,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Et),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)}}}},st="5.1.0",ut={version:st,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=st,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(st),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)}}}},yt="5.2.0",Lt={version:yt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=yt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(yt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)}}}},kt="5.3.0",er={version:kt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=kt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(kt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)}}}},sr="5.4.0",nr={version:sr,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=sr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(sr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)}}}};function Dr(Ot){return new Dt(Ot)}var Dt=function(){function Ot(Ee){this.storageV2Service=Ee&&Ee.localStorageV2Service&&Ee.localStorageV2Service(),this.promiseFactory=Ee.promiseFactory()}return Ot.prototype.status=function(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(2)},Ot.prototype.get=function(Ee){return null!=this.storageV2Service&&Ee?this.storageV2Service.getStorageData(Ee):this.promiseFactory.reject()},Ot.prototype.set=function(Ee,Vt){return null!=this.storageV2Service&&Ee&&Vt?this.storageV2Service.setStorageData(Ee,Vt):this.promiseFactory.reject()},Ot.prototype.remove=function(Ee){null!=this.storageV2Service&&Ee&&this.storageV2Service.removeStorageData(Ee)},Ot}(),nt="5.5.0",q={version:nt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=nt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(nt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)},storageV2Service:Dr(rt)}}};function Qe(Ot){return new dt(Ot)}var dt=function(){function Ot(Ee){this.acquireAADTokenService=Ee&&Ee.acquireAADTokenService&&Ee.acquireAADTokenService(),this.promiseFactory=Ee.promiseFactory()}return Ot.prototype.acquireAADToken=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()},Ot.prototype.acquireAADTokenstatus=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(2)},Ot}(),Pt="5.6.0",ir={version:Pt,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Pt,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Pt),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)},storageV2Service:Dr(rt),acquireAADTokenService:Qe(rt)}}},yr="5.7.0",wr={version:yr,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=yr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(yr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)},storageV2Service:Dr(rt),acquireAADTokenService:Qe(rt),setCanDrill:function(_t){return rt.setCanDrill(_t)}}}};function Er(Ot){return new Ar(Ot)}var Ar=function(){function Ot(Ee){var Vt;this.subSelectionService=null===(Vt=null==Ee?void 0:Ee.visualHostSubSelectionService)||void 0===Vt?void 0:Vt.call(Ee)}return Ot.prototype.subSelect=function(Ee){this.subSelectionService&&this.subSelectionService.subSelect(Ee)},Ot.prototype.updateRegionOutlines=function(Ee){this.subSelectionService&&this.subSelectionService.updateRegionOutlines(Ee)},Ot}(),Lr="5.8.0",Ue={version:Lr,overloads:function(Ee,Vt){return{update:function(rt){if(Ee.update){var xt={viewport:rt.viewport,dataViews:rt.dataViews,viewMode:rt.viewMode,editMode:rt.editMode,isInFocus:!!rt.isInFocus,operationKind:rt.operationKind,jsonFilters:rt.jsonFilters,type:i(rt),updateId:rt.updateId,subSelections:rt.subSelections,formatMode:rt.formatMode};Vt.colorPalette.reset();var _t=Ee.constructor.__transform__;_.isFunction(_t)?Ee.update(xt,_t(xt.dataViews)):Ee.update(xt)}},getSubSelectionStyles:function(rt){if(Ee.visualOnObjectFormatting&&_.isFunction(Ee.visualOnObjectFormatting.getSubSelectionStyles))return Ee.visualOnObjectFormatting.getSubSelectionStyles(rt)},getSubSelectionShortcuts:function(rt,xt){if(Ee.visualOnObjectFormatting&&_.isFunction(Ee.visualOnObjectFormatting.getSubSelectionShortcuts))return Ee.visualOnObjectFormatting.getSubSelectionShortcuts(rt,xt)},getSubSelectables:function(rt){if(Ee.visualOnObjectFormatting&&Ee.visualOnObjectFormatting.getSubSelectables&&_.isFunction(Ee.visualOnObjectFormatting.getSubSelectables))return Ee.visualOnObjectFormatting.getSubSelectables(rt)}}},hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Lr,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Lr),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)},storageV2Service:Dr(rt),acquireAADTokenService:Qe(rt),setCanDrill:function(_t){return rt.setCanDrill(_t)},subSelectionService:Er(rt)}}},Pe=r(472727),ke=function(){function Ot(){}return Ot.prototype.compareCustomVisualOpaqueIdentities=function(Ee,Vt){return(0,Pe.fS)(Ee,Vt)},Ot}(),Ye="5.9.0",bt=[V,u,b,S,C,D,T,N,A,O,U,z,Q,de,pe,je,le,Se,Ze,be,Ce,Ie,he,Je,Ne,xe,at,Ge,ct,Bt,Yt,_r,Rt,Cr,Ir,hr,Ut,Nt,ut,Lt,er,nr,q,ir,wr,Ue,{version:Ye,hostAdapter:function(Ee){var Vt,wt,rt=Ee.host;return rt.apiVersion=Ye,{createSelectionIdBuilder:function(){return new Y.r},createSelectionManager:function(){return rt.selectionManager=rt.createSelectionManager(Ye),rt.selectionManager},colorPalette:(0,a.o)(Ee.style),persistProperties:function(_t){return Ee.host.persistProperties(_t)},tooltipService:rt.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Ee.host}),authenticationService:I({hostServices:Ee.host}),locale:Ee.host.locale(),hostCapabilities:{allowInteractions:!(null===(Vt=Ee.interactivity)||void 0===Vt||!Vt.isVisualInteractive),allowModalDialog:!(null===(wt=Ee.interactivity)||void 0===wt||!wt.allowModalDialog)},applyJsonFilter:function(_t,Wt,Ht,Vr){if(_t)if(Array.isArray(_t))Ee.host.applyJsonFilter(_t,Wt,Ht,Vr);else{var Tr=[];Tr.push(_t),Ee.host.applyJsonFilter(Tr,Wt,Ht,Vr)}else Ee.host.applyJsonFilter(null,Wt,Ht,Vr)},launchUrl:function(_t){return Ee.host.launchUrl(_t)},instanceId:Ee.host.instanceId,refreshHostData:function(){return Ee.host.refreshHostData()},createLocalizationManager:function(){return new L(Ee.localizationResources)},fetchMoreData:function(_t){return rt.fetchMoreData(_t)},storageService:me(rt),downloadService:Re(rt),eventService:Z(rt),switchFocusModeState:function(_t){return rt.switchFocusModeState(_t)},hostEnv:Ee.hostEnv,openModalDialog:function(_t,Wt,Ht){return rt.openModalDialog(_t,Wt,Ht)},displayWarningIcon:function(_t,Wt){return rt.displayWarningIcon(_t,Wt)},licenseManager:Xt(rt),webAccessService:Or(rt),drill:function(_t){return rt.drill(_t)},applyCustomSort:function(_t){return rt.applyCustomSort(_t)},storageV2Service:Dr(rt),acquireAADTokenService:Qe(rt),setCanDrill:function(_t){return rt.setCanDrill(_t)},subSelectionService:Er(rt),createOpaqueUtils:function(){return new ke}}}}],vt=r(787941),At=r(299747),zt=r(477898),Jt=function(){function Ot(Ee,Vt){var wt=this;this.wrappedVisual=Ee,this.run=Vt,vt.fF.assertValue(Vt,"run must be defined in VisualOutsideZoneAdapter"),Ee.update&&(this.update=function(rt){return wt.apply(wt.wrappedVisual.update,rt)}),Ee.onResizing&&(this.onResizing=function(rt,xt){wt.apply(wt.wrappedVisual.onResizing,rt,xt)}),Ee.onDataChanged&&(this.onDataChanged=function(rt){wt.apply(wt.wrappedVisual.onDataChanged,rt)}),Ee.onSelectionStateChanged&&(this.onSelectionStateChanged=function(rt){wt.apply(function(){return wt.wrappedVisual.onSelectionStateChanged(rt)})})}return Ot.prototype.init=function(Ee){return this.apply(this.wrappedVisual.init,Ee)},Ot.prototype.destroy=function(){this.apply(this.wrappedVisual.destroy)},Ot.prototype.onViewModeChanged=function(Ee){this.apply(this.wrappedVisual.onViewModeChanged,Ee)},Ot.prototype.onClearSelection=function(){this.apply(this.wrappedVisual.onClearSelection)},Ot.prototype.onRestoreSelection=function(Ee){return this.apply(this.wrappedVisual.onRestoreSelection,Ee)},Ot.prototype.canResizeTo=function(Ee){return this.apply(this.wrappedVisual.canResizeTo,Ee)},Ot.prototype.enumerateObjectInstances=function(Ee){return this.apply(this.wrappedVisual.enumerateObjectInstances,Ee)},Ot.prototype.enumerateObjectInstancesAsync=function(Ee){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,Ee)},Ot.prototype.enumerateObjectRepetition=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)},Ot.prototype.enumerateObjectRepetitionAsync=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)},Ot.prototype.visualHasMethod=function(Ee){return this.apply(this.wrappedVisual.visualHasMethod,Ee)},Ot.prototype.unwrap=function(){var Ee=this.wrappedVisual;return Ee.unwrap?Ee.unwrap():Ee},Object.defineProperty(Ot.prototype,"sandbox",{get:function(){var Vt;return null===(Vt=this.wrappedVisual)||void 0===Vt?void 0:Vt.sandbox},enumerable:!1,configurable:!0}),Ot.prototype.getTelemetryInformation=function(){return this.apply(this.wrappedVisual.getTelemetryInformation)},Ot.prototype.getFormattingModel=function(){return this.apply(this.wrappedVisual.getFormattingModel)},Ot.prototype.getFormattingModelAsync=function(){return this.apply(this.wrappedVisual.getFormattingModelAsync)},Ot.prototype.resolveFormattingPlaceholder=function(Ee){var Vt=this;return this.run(function(){return Vt.wrappedVisual.resolveFormattingPlaceholder(Ee)})},Ot.prototype.getSubSelectionStyles=function(Ee){var Vt=this;return this.run(function(){return Vt.wrappedVisual.getSubSelectionStyles(Ee)})},Ot.prototype.getSubSelectionShortcuts=function(Ee,Vt){var wt=this;return this.run(function(){return wt.wrappedVisual.getSubSelectionShortcuts(Ee,Vt)})},Ot.prototype.getSubSelectables=function(Ee){var Vt=this;return this.run(function(){return Vt.wrappedVisual.getSubSelectables(Ee)})},Ot.prototype.getNextSubSelectable=function(Ee,Vt){var wt=this;return this.run(function(){return wt.wrappedVisual.getNextSubSelectable(Ee,Vt)})},Ot.prototype.getSubSelectionStylesAsync=function(Ee){var Vt=this;return this.run(function(){return Vt.wrappedVisual.getSubSelectionStylesAsync(Ee)})},Ot.prototype.getSubSelectionShortcutsAsync=function(Ee,Vt){var wt=this;return this.run(function(){return wt.wrappedVisual.getSubSelectionShortcutsAsync(Ee,Vt)})},Ot.prototype.getSubSelectablesAsync=function(Ee){var Vt=this;return this.run(function(){return Vt.wrappedVisual.getSubSelectablesAsync(Ee)})},Ot.prototype.onDataViewObjectChanged=function(Ee,Vt){return this.apply(this.wrappedVisual.onDataViewObjectChanged,Ee,Vt)},Ot.prototype.apply=function(Ee){for(var Vt=[],wt=1;wt<arguments.length;wt++)Vt[wt-1]=arguments[wt];var rt=this.wrappedVisual;return this.run(function(){return Ee.apply(rt,Vt)})},Ot}(),$t=r(810702),qt=r(144900),rr=function(){function Ot(Ee){var Vt=this;this.wrappedVisual=Ee,Ee.update&&(this.update=function(wt){return Vt.trackVisualTime(function(){return Vt.wrappedVisual.update(wt)},function(){return wt&&wt.parentContextActivity?wt.parentContextActivity.createChildActivity({name:"Visual Update"}):void 0})}),Ee.onResizing&&(this.onResizing=function(wt,rt){Vt.trackVisualTime(function(){return Vt.wrappedVisual.onResizing(wt,rt)})}),Ee.onDataChanged&&(this.onDataChanged=function(wt){Vt.trackVisualTime(function(){return Vt.wrappedVisual.onDataChanged(wt)})}),Ee.onSelectionStateChanged&&(this.onSelectionStateChanged=function(wt){Vt.trackVisualTime(function(){return Vt.wrappedVisual.onSelectionStateChanged(wt)})})}return Ot.prototype.init=function(Ee){var Vt=this;if(this.wrappedVisual.init)return this.trackVisualTime(function(){return Vt.wrappedVisual.init(Ee)})},Ot.prototype.destroy=function(){var Ee=this;this.wrappedVisual.destroy&&this.trackVisualTime(function(){return Ee.wrappedVisual.destroy()})},Ot.prototype.onViewModeChanged=function(Ee){var Vt=this;this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(function(){return Vt.wrappedVisual.onViewModeChanged(Ee)})},Ot.prototype.onClearSelection=function(){var Ee=this;this.wrappedVisual.onClearSelection&&this.trackVisualTime(function(){return Ee.wrappedVisual.onClearSelection()})},Ot.prototype.onRestoreSelection=function(Ee){var Vt=this;return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(function(){return Vt.wrappedVisual.onRestoreSelection(Ee)})},Ot.prototype.canResizeTo=function(Ee){var Vt=this;if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(function(){return Vt.wrappedVisual.canResizeTo(Ee)})},Ot.prototype.enumerateObjectInstances=function(Ee){var Vt=this;if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(function(){return Vt.wrappedVisual.enumerateObjectInstances(Ee)})},Ot.prototype.enumerateObjectRepetition=function(){var Ee=this;if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(function(){return Ee.wrappedVisual.enumerateObjectRepetition()})},Ot.prototype.enumerateObjectInstancesAsync=function(Ee){var Vt=this;return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(function(){return Vt.visualAdapter.enumerateObjectInstancesAsync(Ee)}):qt.J.resolve(this.enumerateObjectInstances(Ee))},Ot.prototype.enumerateObjectRepetitionAsync=function(){var Ee=this;return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(function(){return Ee.visualAdapter.enumerateObjectRepetitionAsync()}):qt.J.resolve(this.enumerateObjectRepetition())},Object.defineProperty(Ot.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(Ot.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),Ot.prototype.unwrap=function(){var Ee=this.wrappedVisual;return Ee.unwrap?Ee.unwrap():Ee},Ot.prototype.visualHasMethod=function(Ee){var Vt=this.wrappedVisual;return Vt&&Vt.visualHasMethod(Ee)},Ot.prototype.getTelemetryInformation=function(){var Ee=this;if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(function(){return Ee.wrappedVisual.getTelemetryInformation()})},Ot.prototype.getFormattingModel=function(){var Ee=this;if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(function(){return Ee.wrappedVisual.getFormattingModel()})},Ot.prototype.getFormattingModelAsync=function(){var Ee=this;return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(function(){return Ee.visualAdapter.getFormattingModelAsync()}):qt.J.resolve(this.getFormattingModel())},Ot.prototype.resolveFormattingPlaceholder=function(Ee){var Vt=this;if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(function(){return Vt.wrappedVisual.resolveFormattingPlaceholder(Ee)})},Ot.prototype.getSubSelectionStyles=function(Ee){var Vt=this;if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(function(){return Vt.wrappedVisual.getSubSelectionStyles(Ee)})},Ot.prototype.getSubSelectionShortcuts=function(Ee,Vt){var wt=this;if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(function(){return wt.wrappedVisual.getSubSelectionShortcuts(Ee,Vt)})},Ot.prototype.getSubSelectables=function(Ee){var Vt=this;if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(function(){return Vt.wrappedVisual.getSubSelectables(Ee)})},Ot.prototype.getNextSubSelectable=function(Ee,Vt){var wt=this;if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(function(){return wt.wrappedVisual.getNextSubSelectable(Ee,Vt)})},Ot.prototype.getSubSelectionStylesAsync=function(Ee){var Vt=this;return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(function(){return Vt.wrappedVisual.getSubSelectionStylesAsync(Ee)}):qt.J.resolve(this.getSubSelectionStyles(Ee))},Ot.prototype.getSubSelectionShortcutsAsync=function(Ee,Vt){var wt=this;return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(function(){return wt.wrappedVisual.getSubSelectionShortcutsAsync(Ee,Vt)}):qt.J.resolve(this.getSubSelectionShortcuts(Ee))},Ot.prototype.getSubSelectablesAsync=function(Ee){var Vt=this;return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(function(){return Vt.wrappedVisual.getSubSelectablesAsync(Ee)}):qt.J.resolve(this.getSubSelectables(Ee))},Ot.prototype.onDataViewObjectChanged=function(Ee,Vt){var wt=this;if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(function(){return wt.wrappedVisual.onDataViewObjectChanged(Ee,Vt)})},Ot.prototype.trackVisualTime=function(Ee,Vt){var wt=Vt&&Vt();try{return Ee()}finally{wt&&wt.resolve()}},Ot}(),vr=[];function cr(){return function(Ot,Ee,Vt){Object.defineProperty(Vt.value,"approvedMessage",{value:!0})}}function br(){return vr}function Fr(Ot,Ee){return Ot&&(Ot=new rr(Ot),Ee&&(Ot=new Jt(Ot,Ee))),Ot}function Jr(Ot,Ee,Vt,wt,rt,xt,_t){var Wt=new Hr(Ot,Ee,Vt,wt,rt,_t),Ht=Fr(Wt,xt);return new $t.a(Ht,Ot,Vt,wt,Wt.isPluginInError,_t)}bt.forEach(function(Ot){return function(Ot){br().push(Ot)}(Ot)});var Hr=function(){function Ot(Vt,wt,rt,xt,_t,Wt){this.plugin=Vt,this.creator=wt,this.promiseFactory=rt,this.telemetryService=xt,this.module=_t,this.certifiedEventsService=Wt,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,vt.fF.assertValue(Vt,"plugin"),vt.fF.assertValue(wt||this.plugin.createES6,"creator"),vt.fF.assertValue(rt,"promiseFactory"),vt.fF.assertAnyValue(this.telemetryService,"telemetryService"),vt.fF.assertAnyValue(_t,"module"),vt.fF.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var Ht=Vt.apiVersion,Vr=this.getVersionIndex(Ht);Ht?Vr>-1?(this.apiVersionIndex=Vr,this.legacy=!1):(vt.fF.assertFail("The API version '"+Ht+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}var Ee;return Ot.prototype.init=function(Vt){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(wt){return this.initializedPromise=this.initImpl(Vt),[2,this.initializedPromise]})})},Ot.prototype.initImpl=function(Vt){return(0,t.__awaiter)(this,void 0,void 0,function(){var wt,rt,xt,_t,Wt=this;return(0,t.__generator)(this,function(Ht){switch(Ht.label){case 0:return vt.fF.assert(function(){return!Wt.initialized},"Unexpected `init` after already initialized"),vt.fF.assertValue(Vt.element,"options.element"),vt.fF.assertValue(Vt.host,"options.host"),Vt.element.empty(),Vt=(0,At.ED)(Vt),this.legacy?(xt={module:this.module,featureSwitches:Vt.featureSwitches},this.plugin.createES6?(wt=this,[4,this.plugin.createES6(xt)]):[3,2]):[3,5];case 1:return wt.visual=Ht.sent(),this.destroyed?[2]:[3,3];case 2:this.visual=this.creator(xt),Ht.label=3;case 3:return[4,this.visualLegacy.init(Vt)];case 4:return Ht.sent(),this.destroyed?[2]:[3,9];case 5:return rt=this.host=vr[this.apiVersionIndex].hostAdapter(Vt),xt={element:Vt.element.get(0),host:rt,module:this.module,featureSwitches:Vt.featureSwitches},this.plugin.createES6?(_t=this,[4,this.plugin.createES6(xt)]):[3,7];case 6:return _t.visual=Ht.sent(),this.destroyed?[2]:[3,8];case 7:this.visual=this.creator(xt),Ht.label=8;case 8:this.overloadMethods(),Ht.label=9;case 9:return this.initialized=!0,[2]}})})},Ot.prototype.update=function(Vt){return(0,t.__awaiter)(this,void 0,void 0,function(){var wt,rt=this;return(0,t.__generator)(this,function(xt){switch(xt.label){case 0:return vt.fF.assertValue(function(){return rt.initialized},"Expected `init` before `update`"),wt=this.initializedPromise,[4,this.initializedPromise];case 1:return xt.sent(),vt.fF.assert(function(){return rt.initializedPromise===wt},"Unexpected re-initialize during update"),this.destroyed||!this.initialized?[2]:(this.plugin.systemVisual||((Vt=(0,At.ED)(Vt)).visualDefinitionData=void 0,Vt.dataTransforms=void 0),(Vt.type&c.EP.Resize)===c.EP.Resize&&this.visualHasMethod("onResizing")?this.plugin.custom&&this.visualHasMethod("update")?[4,this.visualLegacy.update(Vt)]:[3,3]:[3,4]);case 2:if(xt.sent(),this.destroyed)return[2];xt.label=3;case 3:return this.onResizing(Vt.viewport,Vt.resizeMode),[3,7];case 4:return this.visualHasMethod("update")?[4,this.visualLegacy.update(Vt)]:[3,6];case 5:return xt.sent(),this.destroyed?[2]:[3,7];case 6:(!Vt.type||Vt.type&c.EP.Data)&&this.onDataChanged(_.pick(Vt,["dataViews","operationKind"])),Vt.type&c.EP.ViewMode&&this.onViewModeChanged(Vt.viewMode),xt.label=7;case 7:return[2]}})})},Ot.prototype.destroy=function(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0},Ot.prototype.enumerateObjectInstances=function(Vt){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(Vt)},Ot.prototype.enumerateObjectRepetition=function(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()},Ot.prototype.enumerateObjectInstancesAsync=function(Vt){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(Vt):this.promiseFactory.resolve(this.enumerateObjectInstances(Vt))},Ot.prototype.enumerateObjectRepetitionAsync=function(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(Ot.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Ot.prototype.onResizing=function(Vt,wt){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(Vt,wt)},Ot.prototype.onDataChanged=function(Vt){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(Vt)},Ot.prototype.onViewModeChanged=function(Vt){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(Vt)},Ot.prototype.onSelectionStateChanged=function(Vt){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(Vt)},Ot.prototype.onClearSelection=function(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()},Ot.prototype.onRestoreSelection=function(Vt){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(Vt)},Ot.prototype.canResizeTo=function(Vt){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(Vt)},Ot.prototype.unwrap=function(){return this.visual},Ot.prototype.getTelemetryInformation=function(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()},Ot.prototype.getFormattingModel=function(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()},Ot.prototype.getFormattingModelAsync=function(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},Ot.prototype.resolveFormattingPlaceholder=function(Vt){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(Vt)},Ot.prototype.getSubSelectionStyles=function(Vt){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(Vt)},Ot.prototype.getSubSelectionShortcuts=function(Vt,wt){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(Vt,wt)},Ot.prototype.getSubSelectables=function(Vt){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(Vt)},Ot.prototype.getNextSubSelectable=function(Vt,wt){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(Vt,wt)},Ot.prototype.getSubSelectionStylesAsync=function(Vt){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(Vt):this.promiseFactory.resolve(this.getSubSelectionStyles(Vt))},Ot.prototype.getSubSelectionShortcutsAsync=function(Vt,wt){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(Vt,wt):this.promiseFactory.resolve(this.getSubSelectionShortcuts(Vt,wt))},Ot.prototype.getSubSelectablesAsync=function(Vt){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(Vt):this.promiseFactory.resolve(this.getSubSelectables(Vt))},Ot.prototype.onDataViewObjectChanged=function(Vt,wt){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(Vt,wt)},Object.defineProperty(Ot.prototype,"visualNew",{get:function(){if(!this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(Ot.prototype,"visualLegacy",{get:function(){if(this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(Ot.prototype,"visualAdapter",{get:function(){return this.visual},enumerable:!1,configurable:!0}),Ot.prototype.visualHasMethod=function(Vt){var wt=this.legacy?this.visualLegacy:this.visualNew;return(0,zt.Xf)(this.plugin.name)?wt&&_.isFunction(wt[Vt])&&wt.visualHasMethod(Vt):wt&&_.isFunction(wt[Vt])},Ot.prototype.getVersionIndex=function(Vt){if(Vt)for(var wt=br().length,rt=0;rt<wt;rt++)if(br()[rt].version===Vt)return rt;return-1},Ot.prototype.overloadMethods=function(){var Vt=this.getCompiledOverloads();for(var wt in Vt)this[wt]=Vt[wt]},Ot.prototype.getCompiledOverloads=function(){for(var Vt={},wt=this.apiVersionIndex,rt=this.visualNew,xt=0;xt<=wt;xt++){var _t=br()[xt].overloads;_.isFunction(_t)&&_.assign(Vt,_t(rt,this.host))}return Vt},(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"enumerateObjectInstancesAsync",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"enumerateObjectRepetitionAsync",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object,Number]),(0,t.__metadata)("design:returntype",void 0)],Ot.prototype,"onResizing",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ot.prototype,"onDataChanged",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],Ot.prototype,"onViewModeChanged",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Boolean]),(0,t.__metadata)("design:returntype",void 0)],Ot.prototype,"onSelectionStateChanged",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",void 0)],Ot.prototype,"onClearSelection",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",Boolean)],Ot.prototype,"canResizeTo",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getTelemetryInformation",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getFormattingModelAsync",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",["function"==typeof(Ee="undefined"!=typeof TFormattingPlaceholder&&TFormattingPlaceholder)?Ee:Object]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"resolveFormattingPlaceholder",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getSubSelectionStyles",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array,String]),(0,t.__metadata)("design:returntype",Array)],Ot.prototype,"getSubSelectionShortcuts",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",Array)],Ot.prototype,"getSubSelectables",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object,Boolean]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getNextSubSelectable",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getSubSelectionStylesAsync",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array,String]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getSubSelectionShortcutsAsync",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",Object)],Ot.prototype,"getSubSelectablesAsync",null),(0,t.__decorate)([cr(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array,Number]),(0,t.__metadata)("design:returntype",Array)],Ot.prototype,"onDataViewObjectChanged",null),Ot}()},497593:function(ze,K,r){r.d(K,{L:function(){return V}});var t=r(145315),c=r(734287),i=r(149362),s=["displayName","description","placeHolderText"],p={get:function(g){return g},getOptional:function(g){return g},format:function(g){return g}};function V(f){f.apiVersion?function(f){!function(f){f&&(function(f){for(var g in f){var S=f[g];if(S){var y=S.properties;if(y)for(var C in y){var E=y[C];if(E){var D=E.type;D&&D.enumeration&&(D.enumeration=(0,i.i)(D.enumeration))}}}}}(f.objects),function(f){for(var g in f){var S=f[g];S&&S.kind&&(S.kind=o(S.kind.toString()))}}(f.dataRoles),function(f){for(var g in f){var S=f[g];if(S){var y=S.conditions;if(y)for(var C in y){var E=y[C];if(E)for(var D in E){var P=E[D];P&&P.kind&&(E[D].kind=o(P.kind.toString()))}}}}}(f.dataViewMappings))}(f.capabilities)}(f):function(f){!function(f){f&&(function(f){for(var g in f){var S=f[g];if(S){var y=(S=f[g]=_.mapValues(S,b)).properties;if(y)for(var C in y){var E=y[C];if(E){var D=(E=y[C]=_.mapValues(E,b)).type;if(D&&D.enumeration&&_.isFunction(D.enumeration.members)){var P=D.enumeration.members().map(function(M){return _.mapValues(M,b)});D.enumeration=(0,i.i)(P)}}}}}}(f.objects),function(f){for(var g in f){var S=f[g];S&&(f[g]=_.mapValues(S,b))}}(f.dataRoles))}(f.capabilities)}(f)}function o(f){switch(f.toLowerCase()){case"grouping":case t.DW.Grouping.toString():return t.DW.Grouping;case"measure":case t.DW.Measure.toString():return t.DW.Measure;case"groupingormeasure":case t.DW.GroupingOrMeasure.toString():return t.DW.GroupingOrMeasure}}function b(f,g){return _.isString(f)||-1===_.indexOf(s,g)?f:(0,c.G)(f,p)}},810702:function(ze,K,r){r.d(K,{H:function(){return v},a:function(){return m}});var t=r(226514),c=r(712174),i=r(509775),s=r(16062),p=r(826691),V=r(693825),m=function(){function e(h,n,o,u,a,l,d){this.wrappedVisual=h,this.visualPlugin=n,this.promiseFactory=o,this.telemetryService=u,this.isPluginInError=a,this.certifiedEventsService=l,this.silent=d,this.initCalled=!1,this.visualLoadStartTime=(0,s.z)(),this.startTimeISO=(new Date).toISOString()}return e.prototype.init=function(h){var n=this;if(this.initCalled=!0,h&&h.host&&h.host.telemetry){var o=h.host.telemetry();this.visualName=o&&o.visualName,this.instanceId=o&&o.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(function(){return n.wrappedVisual.init(h)})},e.prototype.checkInit=function(){return!!this.initCalled||(p.f.assertFail("Another visual method was called before init"),!1)},e.prototype.destroy=function(){var h=this;this.wrappedVisual.destroy&&this.executeSafely(function(){return h.wrappedVisual.destroy()})},e.prototype.update=function(h){var n=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync(function(){return(0,t.__awaiter)(n,void 0,void 0,function(){var o,u,a,l,d,b,f,g,S,y,C;return(0,t.__generator)(this,function(E){switch(E.label){case 0:return[4,this.wrappedVisual.update(h)];case 1:return E.sent(),this.telemetryService&&this.startTimeISO&&this.visualPlugin.custom&&(u=(o=this.visualPlugin).version,a=o.apiVersion,l=(new Date).toISOString(),this.telemetryService.logEvent(i.ZX,{name:this.visualPlugin.name,apiVersion:a,custom:!!this.visualPlugin.custom,visualVersion:u,visualName:this.visualName,instanceId:this.instanceId,start:this.startTimeISO,end:l,isError:this.isPluginInError,errorSource:"User"}),this.startTimeISO=null,this.visualLoadStartTime&&(null===(d=this.certifiedEventsService)||void 0===d||d.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:a&&(null===(b=(0,V.OA)(a))||void 0===b?void 0:b.major),apiMinorVersion:a&&(null===(f=(0,V.OA)(a))||void 0===f?void 0:f.minor),visualMajorVersion:u&&(null===(g=(0,V.OA)(u))||void 0===g?void 0:g.major),visualMinorVersion:u&&(null===(S=(0,V.OA)(u))||void 0===S?void 0:S.minor)},activityName:i.py,correlationId:null===(C=null===(y=this.telemetryService)||void 0===y?void 0:y.root)||void 0===C?void 0:C.id,operationEndTime:(0,s.z)(),operationStartTime:this.visualLoadStartTime,visualId:this.visualPlugin.name}),this.visualLoadStartTime=null)),[2]}})})})},e.prototype.onResizing=function(h,n){var o=this;this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(function(){return o.wrappedVisual.onResizing(h,n)})},e.prototype.onDataChanged=function(h){var n=this;this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(function(){return n.wrappedVisual.onDataChanged(h)})},e.prototype.onViewModeChanged=function(h){var n=this;this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(function(){return n.wrappedVisual.onViewModeChanged(h)})},e.prototype.onSelectionStateChanged=function(h){var n=this;this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(function(){return n.wrappedVisual.onSelectionStateChanged(h)})},e.prototype.onClearSelection=function(){var h=this;this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(function(){return h.wrappedVisual.onClearSelection()})},e.prototype.onRestoreSelection=function(h){var n=this;return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(function(){return n.wrappedVisual.onRestoreSelection(h)})},e.prototype.canResizeTo=function(h){var n=this;if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(function(){return n.wrappedVisual.canResizeTo(h)})},e.prototype.enumerateObjectInstances=function(h){var n=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(function(){return n.wrappedVisual.enumerateObjectInstances(h)})},e.prototype.enumerateObjectRepetition=function(){var h=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(function(){return h.wrappedVisual.enumerateObjectRepetition()})},e.prototype.enumerateObjectInstancesAsync=function(h){var n=this;return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(function(){return n.visualAdapter.enumerateObjectInstancesAsync(h)}):this.promiseFactory.resolve(this.enumerateObjectInstances(h))},e.prototype.enumerateObjectRepetitionAsync=function(){var h=this;return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(function(){return h.visualAdapter.enumerateObjectRepetitionAsync()}):this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(e.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),e.prototype.unwrap=function(){var h=this.wrappedVisual;return h.unwrap?h.unwrap():h},e.prototype.visualHasMethod=function(h){var n=this.wrappedVisual;return n&&n.visualHasMethod(h)},e.prototype.getTelemetryInformation=function(){var h=this;if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(function(){return h.wrappedVisual.getTelemetryInformation()})},e.prototype.getFormattingModel=function(){var h=this;if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(function(){return h.wrappedVisual.getFormattingModel()})},e.prototype.getFormattingModelAsync=function(){var h=this;return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(function(){return h.visualAdapter.getFormattingModelAsync()}):this.promiseFactory.resolve(this.getFormattingModel())},e.prototype.resolveFormattingPlaceholder=function(h){var n=this;if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(function(){return n.wrappedVisual.resolveFormattingPlaceholder(h)})},e.prototype.getSubSelectionStyles=function(h){var n=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(function(){return n.wrappedVisual.getSubSelectionStyles(h)})},e.prototype.getSubSelectionShortcuts=function(h,n){var o=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(function(){return o.wrappedVisual.getSubSelectionShortcuts(h,n)})},e.prototype.getSubSelectables=function(h){var n=this;if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(function(){return n.wrappedVisual.getSubSelectables(h)})},e.prototype.getNextSubSelectable=function(h,n){var o=this;if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(function(){return o.wrappedVisual.getNextSubSelectable(h,n)})},e.prototype.getSubSelectionStylesAsync=function(h){var n=this;return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(function(){return n.wrappedVisual.getSubSelectionStylesAsync(h)}):this.promiseFactory.resolve(this.getSubSelectionStyles(h))},e.prototype.getSubSelectionShortcutsAsync=function(h,n){var o=this;return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(function(){return o.wrappedVisual.getSubSelectionShortcutsAsync(h,n)}):this.promiseFactory.resolve(this.getSubSelectionShortcuts(h,n))},e.prototype.getSubSelectablesAsync=function(h){var n=this;return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(function(){return n.wrappedVisual.getSubSelectablesAsync(h)}):this.promiseFactory.resolve(this.getSubSelectables(h))},e.prototype.onDataViewObjectChanged=function(h,n){var o=this;if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(function(){return o.wrappedVisual.onDataViewObjectChanged(h,n)})},e.prototype.executeSafely=function(h){try{return h()}catch(n){this.telemetryService&&this.logVisualExceptionEvent(n)}},e.prototype.executeSafelyAsync=function(h){return(0,t.__awaiter)(this,void 0,void 0,function(){var n;return(0,t.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,h()];case 1:return[2,o.sent()];case 2:return n=o.sent(),this.telemetryService&&this.logVisualExceptionEvent(n),[3,3];case 3:return[2]}})})},e.prototype.logVisualExceptionEvent=function(h){v(h,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)},e}();function v(e,h,n,o,u,a){var l,d,b,f,g,S=!(null==h||!h.custom),y=h||{},C=y.version,E=y.apiVersion;u.logEvent(i.Lj,{visualType:h.name,isCustom:S,apiVersion:E,visualName:n,instanceId:o,isDeprecated:!!h.isDeprecated,source:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:S?void 0:(0,c.CX)(e),stack:S?void 0:(0,c.bL)(e)}),S&&(null==a||a.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:E&&(null===(l=(0,V.OA)(E))||void 0===l?void 0:l.major),apiMinorVersion:E&&(null===(d=(0,V.OA)(E))||void 0===d?void 0:d.minor),visualMajorVersion:C&&(null===(b=(0,V.OA)(C))||void 0===b?void 0:b.major),visualMinorVersion:C&&(null===(f=(0,V.OA)(C))||void 0===f?void 0:f.minor),isDeprecated:!(null==h||!h.isDeprecated)},activityName:i.d3,activityStatus:"Failed",correlationId:null===(g=null==u?void 0:u.root)||void 0===g?void 0:g.id,visualId:null==h?void 0:h.name}))}},405416:function(ze,K,r){r.d(K,{D:function(){return c},o:function(){return i}});var t=r(226514);function c(V){return new s(V)}function i(V){return new p(V)}var s=function(){function V(m){this.colorPalette={},this.colorIndex=0,this.colors=m}return V.prototype.getColor=function(m){var v=this.colorPalette[m];if(v)return v;var e=this.colors;return v=this.colorPalette[m]=e[this.colorIndex++],this.colorIndex>=e.length&&(this.colorIndex=0),v},V.prototype.reset=function(){return this.colorIndex=0,this.colorPalette={},this},V}(),p=function(V){function m(v){var e=this,h=v.colorPalette.dataColors;(e=V.call(this,h.getAllColors())||this).isHighContrast=v.isHighContrast,e.foreground=v.colorPalette.foreground,e.foregroundLight=v.colorPalette.foregroundLight,e.foregroundDark=v.colorPalette.foregroundDark,e.foregroundNeutralLight=v.colorPalette.foregroundNeutralLight,e.foregroundNeutralDark=v.colorPalette.foregroundNeutralDark,e.foregroundNeutralSecondary=v.colorPalette.foregroundNeutralSecondary,e.foregroundNeutralSecondaryAlt=v.colorPalette.foregroundNeutralSecondaryAlt,e.foregroundNeutralSecondaryAlt2=v.colorPalette.foregroundNeutralSecondaryAlt2,e.foregroundNeutralTertiary=v.colorPalette.foregroundNeutralTertiary,e.foregroundNeutralTertiaryAlt=v.colorPalette.foregroundNeutralTertiaryAlt,e.foregroundSelected=v.colorPalette.foregroundSelected,e.foregroundButton=v.colorPalette.foregroundButton,e.background=v.colorPalette.background,e.backgroundLight=v.colorPalette.backgroundLight,e.backgroundNeutral=v.colorPalette.backgroundNeutral,e.backgroundDark=v.colorPalette.backgroundDark,e.hyperlink=v.colorPalette.hyperlink,e.visitedHyperlink=v.colorPalette.visitedHyperlink,e.mapPushpin=v.colorPalette.mapPushpin,e.shapeStroke=v.colorPalette.shapeStroke;var n=h.getSentimentColors();e.bad=n.bad,e.neutral=n.neutral,e.good=n.good;var o=h.getGradientColors();return e.minimum=o.minColor,e.center=o.midColor,e.maximium=o.maxColor,e.null=o.nullColor,e.negative=n.bad,e.positive=n.good,e.selection=v.colorPalette.selection,e.separator=v.colorPalette.separator,e}return(0,t.__extends)(m,V),m}(s)},398155:function(ze,K,r){r.d(K,{Z:function(){return s}});var t=r(336667),c=r(693825),i=r(989516),s=function(){function p(V,m){void 0===m&&(m=!1),this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=V.hostServices,this.apiVersion=V.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=m}return p.prototype.select=function(V,m){void 0===m&&(m=!1);var v=this.promiseFactory.defer();return V?(V instanceof Array||(V=[V]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(V,m):(this.selectInternal(V,m),this.sendSelectionToHost(this.selectedIds,m)),v.resolve(this.selectedIds),v.promise):(v.reject(),v.promise)},p.prototype.showContextMenu=function(V,m,v){var e=this.promiseFactory.defer();return V||(V={}),this.sendContextMenuToHost(V,m,v),e.resolve(null),e.promise},p.prototype.toggleExpandCollapse=function(V,m){var v=this.promiseFactory.defer();return this.sendExpandCollapseToHost(V,!0===m),v.resolve(null),v.promise},p.prototype.hasSelection=function(){return this.selectedIds.length>0},p.prototype.clear=function(){var V=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),V.resolve(null),V.promise},p.prototype.getSelectionIds=function(){return this.selectedIds},p.prototype.setSelectionIds=function(V){this.selectedIds=V},p.prototype.sendSelectionToHost=function(V,m){if(this.noIframe||!this.apiVersion||(0,c.lt)(this.apiVersion,"2.0.0")){var v=this.dataPointObjectName,e={type:0,visualObjects:_.chain(V).filter(function(n){return n.hasIdentity()}).map(function(n){return{objectName:v,selectorsByColumn:n.getSelectorsByColumn()}}).value(),selectors:void 0,selectionMode:m?3:0},h=!1;_.isEmpty(V)||(h=V[0].getSelector()&&!V[0].getSelectorsByColumn()),h&&(e.selectors=_.chain(V).filter(function(n){return n.hasIdentity()}).map(function(n){return n.getSelector()}).value()),this.hostServices.onSelect(e)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(V,m))},p.prototype.sendContextMenuToHost=function(V,m,v){V&&m&&this.hostServices.customVisualOnContextMenu({data:[V],position:m,dataRoles:v?[v]:void 0})},p.prototype.sendExpandCollapseToHost=function(V,m){V&&null!=V.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:V,entireLevel:m})},p.prototype.selectInternal=function(V,m){var v=this;V.length<1||(V.length>1?this.selectedIds=m?V.filter(function(e){return!v.selectedIds.some(function(h){return h.equals(e)})}).concat(this.selectedIds.filter(function(e){return!V.some(function(h){return h.equals(e)})})):V:p.containsSelection(this.selectedIds,V[0])?this.selectedIds=m?this.selectedIds.filter(function(e){return!V[0].equals(e)}):this.selectedIds.length>1?V:[]:m?this.selectedIds.push(V[0]):this.selectedIds=V)},p.containsSelection=function(V,m){return V.some(function(v){return m.equals(v)})},p.getSelectorsByColumn=function(V){return V&&V[0]instanceof t.r?V:_(V).filter(function(m){return m&&m.hasIdentity}).map(function(m){return m.getSelectorsByColumn()}).compact().value()},p.createChangeForFilterProperty=function(V,m){var v={},e={objectName:V.objectName,selector:void 0,properties:v};return null==m?(v[V.propertyName]={},{remove:[e]}):(v[V.propertyName]=m,{merge:[e]})},p.prototype.getFilterFromSelectors=function(){if(this.hasSelection()){var V=_.chain(this.selectedIds).filter(function(m){return m.hasIdentity()}).map(function(m){return m.getSelector()}).value();return(0,i.mV)(V,!1)}},p.prototype.prepareCustomVisualSelectEventArgs=function(V,m){var v={selectionIds:[],multiSelect:m};if(V&&V[0]&&(V[0].dataMap||V[0].measures))for(var e=0,h=V;e<h.length;e++)v.selectionIds.push(h[e]);return v},p.prototype.applySelectionFilter=function(){this.hostServices.persistProperties(p.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))},p.prototype.registerOnSelectCallback=function(V){this.onSelectCallback=V},p.prototype.invokeOnSelectCallback=function(V){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(V)},p}()},220111:function(ze,K,r){r.d(K,{Zm:function(){return c},gU:function(){return p},s$:function(){return s}});var t=r(787941);function c(V){return new i(V)}var i=function(){function V(m){this.hostServices=m.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}return V.prototype.trace=function(m,v){this.telemetryService&&this.telemetryService.trace(m,v)},V}();function s(V){switch(V){case 3:return"VisualEventError";case 2:return"VisualEventTrace";case 0:return"VisualEventRenderStarted";case 1:return"VisualEventRenderCompleted";default:return void t.fF.assertFail("Unknown VisualEventType: "+V)}}function p(V){switch(V){case"VisualEventError":return 3;case"VisualEventTrace":return 2;case"VisualEventRenderStarted":return 0;case"VisualEventRenderCompleted":return 1;default:return void t.fF.assertFail("Unknown VisualEventType: "+V)}}},233445:function(ze,K,r){r.d(K,{r:function(){return c}});var t=r(398155);function c(s){return new i(s)}var i=function(){function s(p){this.hostServices=p.hostServices,this.tooltipService=this.hostServices.tooltips()}return s.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},s.prototype.show=function(p){if(this.enabled()){var V={coordinates:p.coordinates,dataItems:p.dataItems,isTouchEvent:p.isTouchEvent,identities:t.Z.getSelectorsByColumn(p.identities)};this.tooltipService.show(V)}},s.prototype.move=function(p){if(this.enabled()){var V={coordinates:p.coordinates,dataItems:p.dataItems,isTouchEvent:p.isTouchEvent,identities:t.Z.getSelectorsByColumn(p.identities)};this.tooltipService.move(V)}},s.prototype.hide=function(p){this.enabled()&&this.tooltipService.hide(p)},s}()},880921:function(ze,K,r){r.d(K,{FE:function(){return i},UG:function(){return s},Ug:function(){return V}});var t=r(787941),c=r(989516);function i(m){var e=null!=m.data||null!=m.selectors,h=_.some(m.visualObjects,function(n){return n.selectorsByColumn&&n.selectorsByColumn.metadata&&!_.isArray(n.selectorsByColumn.metadata)});return e||h}function s(m){var v;if(m.data2)v=m.data2;else{if(m.selectors||m.data)return t.fF.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(m.selectors||m.data,function(u){return function(m){if(m){var v={};return v[""]=m.data,{dataMap:v,metadata:[m.metadata]}}}(u)});if(!m.visualObjects)return[];v=_.map(m.visualObjects,function(u){return u.selectorsByColumn})}for(var e=0,h=v;e<h.length;e++){var n=h[e],o=n.metadata;o&&!_.isArray(o)&&(n.metadata=[o])}return v}function V(m){return null!=m.selectors?m.selectors:m.data?m.data:m.visualObjects?_.map(m.visualObjects,function(v){return(0,c.tV)(v.selectorsByColumn)}):m.data}},60082:function(ze,K,r){r.d(K,{LG:function(){return e},dg:function(){return h}});var t=r(787941),c=r(690016),i=r(210107),v=window;function e(u){return n(u,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===v.resourceLoaderIncludePackageId)}function h(u){var a=u.getAbsoluteUri("/sharedresources");return n(u,a,!1)}function n(u,a,l){return t.fF.assertValue(u,"httpService"),t.fF.assertValue(a,"uri"),t.fF.assertValue(l,"includePackageIdInUri"),new o(u,a,l)}var o=function(){function u(a,l,d){this.httpService=a,this.uri=l,this.includePackageIdInUri=d}return u.prototype.get=function(a,l,d,b){var f=this.uri;this.includePackageIdInUri&&(f=this.uri+a+"/");var g=c.b$.urlCombine(f,_.map(d.split("/"),function(y){return encodeURIComponent(y)}).join("/")),S=this.httpService.powerbiRequestOptions();return S.timeout=i.JZ,S.responseType="text",b&&null!=b.retries&&(S.retryCount=b.retries),this.httpService.get(g,S).then(function(y){return y.data})},u.prototype.getBlob=function(a,l,d,b){var f=this.uri;this.includePackageIdInUri&&(f=this.uri+a+"/");var g=c.b$.urlCombine(f,encodeURIComponent(d)),S=this.httpService.powerbiRequestOptions();return S.responseType=c.t6,b&&null!=b.retries&&(S.retryCount=b.retries),this.httpService.get(g,S).then(function(y){return y.data})},u}()},413064:function(ze,K,r){r.d(K,{C:function(){return n}});var t=r(226514),c=r(596122),i=r(220111),s=r(787941),p=r(661885),V=r(477898),m=r(327011),v=r(144900),e=r(509775);function n(a,l,d,b,f,g,S,y,C){return s.fF.assertValue(a,"messageProxy"),new u(a,l,d,b,f,g,S,y,C)}var u=function(){function a(l,d,b,f,g,S,y,C,E){void 0===E&&(E=15e3);var D=this;this.messageProxy=l,this.telemetryService=d,this.certifiedEventsService=b,this.approvedResourcesService=f,this.featureSwitchService=g,this.isDebugVisual=S,this.promiseFactory=y,this.privilegeService=C,this.updateTimeOut=E,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,s.fF.assertValue(l,"messageProxy"),this.deferredCache={},this.messageProxy.on(p.et,function(P){return D.onMessageReceived(P)}),this.messageProxy.on(p.zM,function(P){return D.onMessageError(P)})}return Object.defineProperty(a.prototype,"plugin",{get:function(){return this._plugin},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isDebug",{get:function(){return this.isDebugVisual},enumerable:!1,configurable:!0}),a.prototype.init=function(l,d){this.visualDelegate=l,d&&(this._plugin=d,this.isSandboxReady=!0)},a.prototype.setPluginReadyHandler=function(l){this.pluginReadyHandler=l},a.prototype.logEvent=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];if(!this.telemetryService)return null;var f,b=l.shift();return f="string"==typeof b?this.getEventFactory(b):b,this.telemetryService.logEvent.apply(this.telemetryService,(0,t.__spreadArray)([f],l,!0))},a.prototype.logStandardizedFeatureEvent=function(l){var d;l.correlationId=null===(d=this.telemetryService.root)||void 0===d?void 0:d.id,this.certifiedEventsService.logStandardizedFeatureEvent(l)},a.prototype.logTimedStandardizedFeatureEvent=function(l){var d;l.correlationId=null===(d=this.telemetryService.root)||void 0===d?void 0:d.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(l)},a.prototype.getEventFactory=function(l){switch(l){case"VisualEventError":return m.aW;case"VisualEventTrace":return m.qz;case"VisualException":return e.Lj;case"VisualEventRenderStarted":return m.JT;case"VisualEventRenderCompleted":return m.GL;case"VisualApiUsage":return e.ZX;default:return void s.fF.assertFail("Unknown eventType: "+l)}},a.prototype.logVisualEvent=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var b=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(b)||this.approvedResourcesService.isTrustedResource(b))){var f=l,g=f[0],S=f[1],y=f[2],C={visualType:b,instanceId:S instanceof Object?S.instanceId:S};y=S instanceof Object?S.payload:y;var E=(0,i.gU)(g);switch(E){case 0:case 1:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;y="";break;case 2:case 3:var D=this.approvedResourcesService.getTelemetryUsageLimit(b);if(this.telemetryUsageCount>=D)return;this.telemetryUsageCount++,this.telemetryUsageCount===D&&this.telemetryService.logEvent(m.Hv,C),y=y?y.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void s.fF.assertFail("Invalid visual event type: "+E)}return this.logEvent.apply(this,[g,(0,t.__assign)((0,t.__assign)({},C),{payload:y})])}},a.prototype.ready=function(l){s.fF.assertValue(l,"proxyInitOptions"),this.contentWindow=l,this.messageProxy.contentWindow=l,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0},a.prototype.update=function(l){var d=this;if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&l.updateId){var f=this.promiseFactory.defer();this.deferredCache[l.updateId]=f;var g=setTimeout(function(){f.resolve(null),d.telemetryService.logEvent(m.Tk,{visualType:d.plugin.name,timeOut:d.updateTimeOut,parentId:d.telemetryService.root.id})},this.updateTimeOut);l.updateCallBack=function(){return f.resolve(null)};var S=this.invoke("update",[l]);return S&&S.catch(function(y){return f.reject(y)}),f.promise.catch(function(y){return y}).finally(function(){clearTimeout(g),l.updateId&&delete d.deferredCache[l.updateId]}),f.promise}return this.invoke("update",[l]),v.J.resolve(void 0)},a.prototype.invoke=function(l,d){if(s.fF.assertValue(l,"eventName"),this.isSandboxReady)return this.execute(l,d);this.methodQueue.push({methodName:l,arguments:d})},a.prototype.postMessage=function(l,d){this.messageProxy.postMessage({eventName:l,arguments:d})},a.prototype.postMessageAsync=function(l,d){return this.messageProxy.postMessageAsync({eventName:l,arguments:d})},a.prototype.onPluginReady=function(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)},a.prototype.destroy=function(){this.messageProxy.off(p.et),this.messageProxy.off(p.zM),this.messageProxy.destroy(),this.contentWindow=null},a.prototype.execute=function(l,d){if(_.isFunction(this.visualDelegate[l]))return this.visualDelegate[l].apply(this.visualDelegate,d);this.postMessage(l,d)},a.prototype.flushCallStack=function(){for(;this.methodQueue.length>0;){var l=this.methodQueue.shift();this.execute(l.methodName,l.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()},a.prototype.onMessageReceived=function(l){var d=this;if(this.validateMessageSource(l)){var b=function(){d.telemetryService.logEvent(m.rZ,{visualType:d._plugin.name,environment:d.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:l.message.eventName})},f=this[l.message.eventName];if("function"==typeof f)return f.approvedMessage?f.apply(this,l.message.arguments):b();if(this.visualDelegate)return"function"==typeof(f=this.visualDelegate[l.message.eventName])&&f.approvedMessage?f.apply(this.visualDelegate,l.message.arguments):b()}},a.prototype.onMessageError=function(l){this.validateMessageSource(l)&&l.message&&l.message.error&&!_.isEqual(l.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(e.Fd,{visualName:this._plugin.name,debugErrorInfo:l.message.error.eventName+";"+l.message.error.message}),this.lastErrorMessage=_.cloneDeep(l.message))},a.prototype.refreshHostData=function(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()},a.prototype.getResourceUrl=function(l){var d=(0,V.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(d)?this.visualDelegate.getResourceUrl(d,l):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+d+"] is not authorized.",isError:!0,promiseId:l}])},a.prototype.getAADAuthenticationToken=function(l){var d=(0,V.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(d)?this.visualDelegate.getAADAuthenticationToken(d,l):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+d+"] is not authorized.",isError:!0,promiseId:l}])},a.prototype.getAADToken=function(l){var d=(0,V.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(d)?this.visualDelegate.getAADToken(d,l):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+d+"] is not authorized.",isError:!0,promiseId:l}])},a.prototype.getWACToken=function(l){var d=(0,V.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(d)?this.visualDelegate.getWACToken(l.resourceSiteUrl,l.resourceEtag,d,l.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+d+"] is not authorized.",isError:!0,promiseId:l.promiseId}])},a.prototype.renderingStarted=function(l,d){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(m.hD,{visualType:this.plugin.name,instanceId:l,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})},a.prototype.renderingFinished=function(l,d){if(this.deferredCache[d]&&this.deferredCache[d].resolve(null),void 0!==this.renderEventStartTime){var b=(new Date).toISOString();this.telemetryService.logEvent(m.RP,{visualType:this.plugin.name,instanceId:l,start:this.renderEventStartTime,end:b,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}},a.prototype.renderingFailed=function(l,d,b){this.deferredCache[d]&&this.deferredCache[d].reject(b),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(m.Wv,{visualType:this.plugin.name,instanceId:l,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)},a.prototype.getWebAccessStatus=function(l,d){var b=this.privilegeService.getWebAccessStatus(this.plugin,l);this.postMessage("handleGetWebAccessStatus",[{promiseId:d,status:b}])},a.prototype.validateMessageSource=function(l){return s.fF.assertValue(l,"message"),!!l.source&&!!this.contentWindow&&this.contentWindow===l.source},(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",Object)],a.prototype,"logEvent",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"logStandardizedFeatureEvent",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"logTimedStandardizedFeatureEvent",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",Object)],a.prototype,"logVisualEvent",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"onPluginReady",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"refreshHostData",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"getResourceUrl",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"getAADAuthenticationToken",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"getAADToken",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"getWACToken",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"renderingStarted",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"renderingFinished",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String,String]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"renderingFailed",null),(0,t.__decorate)([(0,c.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,Number]),(0,t.__metadata)("design:returntype",void 0)],a.prototype,"getWebAccessStatus",null),a}()},730244:function(ze,K,r){r.d(K,{s:function(){return c}});var t=r(226514);function c(){return new i}var i=function(){function s(){this.suppressAnimations=!1}return s.prototype.deferRenderOperation=function(p,V){return(0,t.__awaiter)(this,void 0,void 0,function(){var m;return(0,t.__generator)(this,function(v){return m=$.Deferred(),setTimeout(function(){V(),m.resolve()}),[2,m.promise()]})})},s.prototype.clearOperationsQueue=function(){},s}()},341:function(ze,K,r){r.d(K,{z:function(){return p}});var t=r(235635),c=r(787941),i=r(731479),s=r(596122),p=function(e,h){c.fF.assertValue(e,"options");var n=e.promiseFactory.defer(h),o=e.visualPlugin;if(e.visualSandbox&&function(v){var e=v.visualPlugin,h=v.featureSwitches||{},n=v.approvedResourceService;return!!e&&(!!(v.approvedResourceService&&v.approvedResourceService.isTrustedResource&&v.approvedResourceService.isTrustedResource(e.name))||!(!(0,i.vh)(e)||!h.approvedResourcesDisabled&&!e.apiVersion&&n&&n.isApprovedResource(e.name))&&h.sandboxVisualsEnabled)}(e)){var u=e.visualSandbox.getVisualPlugin(o,e.telemetryService,e.isDebugVisual);u.createES6?u.createES6().then(function(a){return n.resolve(a)}):u.create?n.resolve((0,s.lm)(u.create(),e.run)):n.reject("either create or createES6 must be defined")}else o.module?o.createES6&&!o.module.css?n.resolve((0,s.nm)(o,o.create,e.promiseFactory,e.telemetryService,void 0,e.run,e.certifiedEventsService)):e.moduleLoader.require({javascript:o.createES6?void 0:o.module.javascript,css:o.module.css}).then(function(a){return n.resolve((0,s.nm)(o,o.create,e.promiseFactory,e.telemetryService,a,e.run,e.certifiedEventsService))},function(a){return n.reject(a)}):n.resolve((0,s.nm)(o,o.create,e.promiseFactory,e.telemetryService,void 0,e.run,e.certifiedEventsService));return(0,t.w)(n)}},548048:function(ze,K,r){r.d(K,{f:function(){return i}});var t=r(848625),c=r(135487);function i(p,V,m){return new s(p,V,m)}var s=function(){function p(V,m,v){this.telemetryService=V,this.visualPlugin=m,this.localizationService=v}return p.prototype.logWarnings=function(V,m){if(!_.isEmpty(V))for(var v=0,e=V;v<e.length;v++){var h=e[v];h instanceof t.x&&this.logDsrLimitsWarning(h,m)}},p.prototype.logDsrLimitsWarning=function(V,m){var o,u,a,v=V.limits,e=V.getDetails(this.localizationService).message,h=V.code,n=m.type;v.Primary&&(o=this.getLimitString(V.limits.Primary)),v.Secondary&&(u=this.getLimitString(V.limits.Secondary)),v.Intersection&&(a=this.getLimitString(V.limits.Intersection));var l=m.dataViews,d=m&&m.data&&m.data.isFirstSegment,b=d||_.some(l,function(A){return A&&A.metadata&&A.metadata.segment});if(!b||!1!==d)for(var f=0,g=l;f<g.length;f++){var S=g[f];if(S&&S.categorical){var y=_.head(S.categorical.categories),C=0;y&&(C=y.values&&y.values.length||0);var E=S.categorical.values&&S.categorical.values.grouped(),D=E&&E.length||0,P=!(!S.categorical.values||!S.categorical.values.source),M=this.visualPlugin.capabilities(m.type),T=M&&M.drilldown&&_.head(M.drilldown.roles),R=!1,B=m.dataTransforms;T&&B&&(R=_.filter(B.selects,function(A){return A.roles&&A.roles[T]}).length>1);var N=void 0,x=this.visualPlugin.getPlugin(m.type);x&&x.getAdditionalTelemetry&&(N=JSON.stringify(x.getAdditionalTelemetry(S))),this.telemetryService.logEvent(c.vE,{errorCode:h,targetVisualType:n,primaryDataReduction:o,secondaryDataReduction:u,intersectionDataReduction:a,primaryCount:C,secondaryCount:D,hasCategoryHierarchy:R,hasDynamicSeries:P,visualTelemetry:N,isSegmented:b,message:e})}}},p.prototype.getLimitString=function(V){switch(V.Type){case 0:return"Top:"+V.Count;case 1:return"Bottom:"+V.Count;case 2:return"Sample:"+V.Count}},p}()},327011:function(ze,K,r){r.d(K,{$7:function(){return T},Cr:function(){return z},Fh:function(){return F},GF:function(){return B},GL:function(){return p},Hv:function(){return g},IC:function(){return x},JT:function(){return i},KS:function(){return R},L1:function(){return I},Pp:function(){return H},Px:function(){return U},QC:function(){return W},RP:function(){return e},Tc:function(){return E},Tk:function(){return u},VN:function(){return L},Wv:function(){return n},Yv:function(){return w},aW:function(){return b},aw:function(){return de},az:function(){return y},hD:function(){return m},kd:function(){return P},qz:function(){return l},rY:function(){return O},rZ:function(){return te},s$:function(){return Y},th:function(){return M}});var t=r(853811),c="PBI.VisualEvent.RenderStarted",i=t.cx[c]=(0,t.b1)(c),s="PBI.VisualEvent.RenderCompleted",p=t.cx[s]=(0,t.b1)(s),V="PBI.VisualEvent.RenderingStarted",m=t.cx[V]=(0,t.b1)(V),v="PBI.VisualEvent.RenderingCompleted",e=t.cx[v]=(0,t.b1)(v),h="PBI.VisualEvent.RenderingFailed",n=t.cx[h]=(0,t.b1)(h),o="PBI.VisualEvent.UpdateTimeOut",u=t.cx[o]=(0,t.b1)(o),a="PBI.VisualEvent.Trace",l=t.cx[a]=(0,t.b1)(a),d="PBI.VisualEvent.Error",b=t.cx[d]=(0,t.b1)(d),f="PBI.VisualEvent.ReachedTelemetryUsageLimit",g=t.cx[f]=(0,t.b1)(f),S="PBI.VisualEvent.LaunchURL",y=t.cx[S]=(0,t.b1)(S),C="PBI.VisualEvent.DownloadContentValidationFailed",E=t.cx[C]=(0,t.b1)(C),D="PBI.VisualEvent.DownloadContent",P=t.cx[D]=(0,t.b1)(D),M="PBI.VisualEvent.GetAvailableServicePlans",T=t.cx[M]=(0,t.b1)(M),R="PBI.VisualEvent.LicenseIsUnsupportedEnv",B=t.cx[R]=(0,t.b1)(R),N="PBI.VisualEvent.LicenseServiceIsUndefined",x=t.cx[N]=(0,t.b1)(N),A="PBI.VisualEvent.ServicePlansResponseIsUndefined",I=t.cx[A]=(0,t.b1)(A),w="PBI.VisualEvent.NotifyLicenseRequired",F=t.cx[w]=(0,t.b1)(w),O="PBI.VisualEvent.ClearLicenseNotification",L=t.cx[O]=(0,t.b1)(O),W="PBI.VisualEvent.NotifyLicenseFeatureBlocked",U=t.cx[W]=(0,t.b1)(W),j="PBI.VisualEvent.Privileges",z=t.cx[j]=(0,t.b1)(j),G="PBI.VisualEvent.Privileges.Violation",te=t.cx[G]=(0,t.b1)(G),Q="PBI.VisualEvent.ExternalMigration.UndefinedGet",H=t.cx[Q]=(0,t.b1)(Q),de="PBI.VisualEvent.CapabilitiesTelemetry",Y=t.cx[de]=(0,t.b1)(de)},796899:function(ze,K,r){r.d(K,{P:function(){return V}});var t=r(227185),c=r(787941),i=r(826691),s=r(138363),p=r(431325),V=function(){function m(){}return m.cloneThemeCollection=function(v){return _.clone(v)},m.loadHighContrastTheme=function(v,e,h,n,o){return o&&!h.isThemeLoaded(o)?m.loadTheme(2,v,e,h,n,o):v.resolve()},m.loadThemeAndBaseTheme=function(v,e,h,n,o){try{var u=[],a=o.customTheme,l=o.baseTheme&&o.baseTheme.name;a&&a.name&&!h.isThemeLoaded(a.name)&&u.push(m.loadTheme(o.customTheme.type,v,e,h,n,a.name,a.version,!0)),l&&!h.isThemeLoaded(l)&&u.push(m.loadTheme(o.baseTheme.type,v,e,h,n,l));var d=v.defer();return v.all(u).finally(function(){var b=!0;a&&a.name&&!h.isThemeLoaded(a.name)&&(b=!1,i.f.error("Error loading custom theme",!1)),l&&!h.isThemeLoaded(l)&&(b=!1,i.f.error("Error loading base theme",!1)),d.resolve(b)}),d.promise}catch(b){return i.f.error("Error loading report theme - ".concat(m.getLoadError(b))),v.resolve(!1)}},m.loadTheme=function(v,e,h,n,o,u,a,l){return c.fF.assert(function(){return 1===v||2===v},"resource type should either be registered or shared"),1===v?m.loadRegisteredResourceTheme(e,h,n,o,u,a):2===v?m.loadSharedResourceTheme(u,o,n,h,e,a,l):void 0},m.getLoadError=function(v){return(0,p.PR)(v)},m.loadRegisteredResourceTheme=function(v,e,h,n,o,u){return(0,p._q)(v,e,n,o).then(function(a){m.resolveLoadedTheme(o,a,h,u)}).catch(function(a){i.f.error("Error loading theme - ".concat(m.getLoadError(a)))})},m.loadSharedResourceTheme=function(v,e,h,n,o,u,a){return(0,p.FD)(e,{packageType:2,itemName:v},n,o,{itemTypeFromReference:a?s.Ut.CustomTheme:s.Ut.BaseTheme}).then(function(l){m.resolveLoadedTheme(v,l,h,u)}).catch(function(l){i.f.error("Error loading base theme ".concat(v," - ").concat(m.getLoadError(l)))})},m.resolveLoadedTheme=function(v,e,h,n){if(!h.isThemeLoaded(v)){var o=(0,t.K)(e);c.fF.assertValue(o,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),o&&h.addCustomTheme(v,o,n)}},m}()},851954:function(ze,K,r){r.d(K,{p:function(){return nt}});var t=r(693825),c=r(787941),i=r(145315),s=r(161414),p=r(596122),V=r(35259),m=r(951467),v=r(121157),e=r(587318),h=r(398155),n=function(){function ae(q,Qe,dt){this.powerbiHost=q,this.visualHostTooltipService=dt,this.tooltipService=new o(Qe,this.visualHostTooltipService)}return ae.prototype.onSelecting=function(q){q.action=0},ae.prototype.onSelect=function(q){this.powerbiHost&&this.powerbiHost.onSelect(q)},ae.prototype.persistProperties=function(q){this.powerbiHost&&this.powerbiHost.persistProperties(q)},ae.prototype.tooltips=function(){return this.visualHostTooltipService},ae.prototype.applyJsonFilter=function(q,Qe,dt,Pt){this.powerbiHost.applyJsonFilter(q,Qe,dt,Pt)},ae.prototype.applyIdentityFilter=function(q,Qe,dt,Pt){this.powerbiHost.applyIdentityFilter(q,Qe,dt,Pt)},ae.prototype.getJSONFilter=function(q,Qe){return this.promiseFactory().reject()},ae.prototype.createSelectionIdBuilder=function(){return new s.dw},ae.prototype.createTooltipService=function(){return this.tooltipService},ae.prototype.createSelectionManager=function(q){return new h.Z({hostServices:this,apiVersion:q},!0)},ae.prototype.getLocalizedString=function(q){return null},ae.prototype.locale=function(){return navigator.language},ae.prototype.loader=function(){var q=this;return{require:function(){return q.promiseFactory().reject()}}},ae.prototype.onSwitchFocusModeState=function(q){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(q)},ae.prototype.onDisplayWarningIcon=function(q,Qe){if(this.powerbiHost){var Qt=e.Jh,ir=new m.VS(e.j,q.substr(0,e.IQ),Qe.substr(0,Qt));this.powerbiHost.setWarnings([ir])}},ae.prototype.loadMoreData=function(){},ae.prototype.loadWindow=function(q){},ae.prototype.setShouldDeferData=function(){},ae.prototype.fetchMoreData=function(q){return!0},ae.prototype.launchUrl=function(q){},ae.prototype.destroy=function(){},ae.prototype.refreshHostData=function(){},ae.prototype.onContextMenu=function(){},ae.prototype.authenticationService=function(){return null},ae.prototype.telemetry=function(){return null},ae.prototype.localStorageService=function(){return null},ae.prototype.eventService=function(){return null},ae.prototype.licenseManagerService=function(){return null},ae.prototype.acquireAADTokenService=function(){return null},ae.prototype.visualTimeSynchronization=function(){return null},ae.prototype.alertScreenReader=function(q){},ae.prototype.alertWithDebounce=function(q,Qe){},ae.prototype.requestFocus=function(){},ae.prototype.onDragStart=function(){},ae.prototype.getVisualLinkProperties=function(){},ae.prototype.canSelect=function(){return!1},ae.prototype.canExpandCollapse=function(){return!1},ae.prototype.setNodeExpansionState=function(q){},ae.prototype.setLevelExpansionState=function(q){},ae.prototype.setCanDrill=function(q){},ae.prototype.onCustomSort=function(q){},ae.prototype.getViewMode=function(){return 0},ae.prototype.getEditMode=function(){return 0},ae.prototype.setWarnings=function(q){},ae.prototype.getWarnings$=function(){},ae.prototype.setToolbar=function(q){},ae.prototype.shouldRetainSelection=function(){return!1},ae.prototype.geocoder=function(){return(0,V.Wy)()},ae.prototype.geolocation=function(){c.fF.assertFail("Not being used anywhere")},ae.prototype.promiseFactory=function(){return(0,v.p)()},ae.prototype.ignoreDefaultFilter=function(){return!1},ae.prototype.drill=function(q){},ae.prototype.getIdentityDisplayNames=function(q){},ae.prototype.setIdentityDisplayNames=function(q){},ae.prototype.setFilterExpressionMetadata=function(){},ae.prototype.getFilterExpressionMetadata=function(){},ae.prototype.getUIComponentFactory=function(){},ae.prototype.onHyperlinkClick=function(q,Qe){},ae.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},ae.prototype.dataMultiSelectMode=function(){return 0},ae.prototype.dropdown=function(){},ae.prototype.networkAvailability=function(){},ae.prototype.downloadService=function(){},ae.prototype.setAriaMetadata=function(q){},ae.prototype.artifactService=function(){},ae.prototype.getSectionsMetadata$=function(){},ae.prototype.getBookmarksMetadata$=function(){},ae.prototype.onNotifyLicense=function(q){},ae.prototype.onClearLicenseNotification=function(){},ae.prototype.onNotifyFeatureBlocked=function(q){},ae.prototype.getSubSelectionService=function(){},ae.prototype.webAccessService=function(){},ae.prototype.getAzureMapToken=function(){},ae.prototype.azureMapsEndpoint=function(){},ae.prototype.geocoderIndexedDB=function(){},ae.prototype.triggerUpdate=function(){},ae.prototype.isScreenshotWorkload=function(){return!1},ae.prototype.localStorageV2Service=function(){return null},ae.prototype.dateTimeFormatService=function(){},ae.prototype.visualExportService=function(){},ae.prototype.visualHostSubSelectionService=function(){return null},ae.prototype.enableLoadMoreData=function(q){},ae}(),o=function(){function ae(q,Qe){c.fF.assert(function(){return!!Qe},"visualHostTooltip should be defined"),this.tooltipService=Qe,this.element=q}return ae.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},ae.prototype.show=function(q){if(this.enabled()){var Qe={coordinates:this.fixCoordinates(q.coordinates),dataItems:q.dataItems,isTouchEvent:q.isTouchEvent,identities:h.Z.getSelectorsByColumn(q.identities)};this.tooltipService.show(Qe)}},ae.prototype.move=function(q){if(this.enabled()){var Qe={coordinates:this.fixCoordinates(q.coordinates),dataItems:q.dataItems,isTouchEvent:q.isTouchEvent,identities:h.Z.getSelectorsByColumn(q.identities)};this.tooltipService.move(Qe)}},ae.prototype.hide=function(q){this.enabled()&&this.tooltipService.hide(q)},ae.prototype.fixCoordinates=function(q){var Qe=this.element.offset();return q[0]=q[0]+Qe.left,q[1]=q[1]+Qe.top,q},ae}(),a=r(226514),d=(r(356673),r(195393)),b=r(912126),f=r(454869),g=r(138368),S=r(16062),C=function(){function ae(q){this.windowMessageProxy=q}return ae.prototype.logStandardizedFeatureEvent=function(q){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[q]})},ae.prototype.logTimedStandardizedFeatureEvent=function(q){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[q]})},ae.prototype.startTimedStandardizedFeatureEvent=function(q){return new E(this,q)},ae}(),E=function(){function ae(q,Qe){this.certifiedEventsService=q,this.event=_.cloneDeep(Qe),this.event.operationStartTime=(0,S.z)()}return ae.prototype.setAttributes=function(q){this.event.activityAttributes=(0,a.__assign)({},q)},ae.prototype.setAttribute=function(q,Qe){this.event.activityAttributes[q]=Qe},ae.prototype.getAttributes=function(){return this.event.activityAttributes},ae.prototype.complete=function(q,Qe){this.event.resultCode=Qe,this.event.activityStatus=q,this.event.operationEndTime=(0,S.z)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)},ae}(),D=r(509775),P=r(144900),B=function(){function ae(q){this.windowMessageProxy=q}return ae.prototype.getOpenActivityById=function(q){},ae.prototype.suspend=function(){},ae.prototype.resume=function(){},ae.prototype.flush=function(){},ae.prototype.restart=function(){},ae.prototype.stopActivity=function(q,Qe,dt){},ae.prototype.startPerfEventDeprecated=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt];var ir={info:{}};return new N(ir)},ae.prototype.logEvent=function(q,Qe){return c.fF.assert(function(){return!_.isArray(Qe)},"Parameters has to be an object and instance of some telemetry factory arguments"),q===D.ZX?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",Qe]}):q===D.Lj?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",Qe]}):c.fF.assertFail("Unknown eventFactory name ["+q+"]: sandboxTelemetryProxyService.ts#logEvent"),null},ae.prototype.logTelemetryData=function(q,Qe,dt){return null},ae.prototype.logChildEvent=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt]},ae.prototype.startActivity=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt];var ir={info:{}};return new N(ir)},ae.prototype.startChildActivity=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt]},ae.prototype.startEvent=function(q){for(var Qe=[],dt=1;dt<arguments.length;dt++)Qe[dt-1]=arguments[dt];var Qt={info:{}};return new N(Qt)},ae.prototype.startMonitoredActivity=function(q,Qe,dt){var Qt={info:{}};return{activityEvent:Qt,activityDeferred:new N(Qt)}},ae.prototype.startChildEvent=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt];var ir={info:{}};return new N(ir)},ae.prototype.logTrace=function(q){},Object.defineProperty(ae.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),ae.prototype.setHostInfo=function(q,Qe){},ae.prototype.getHostData=function(){},ae.prototype.setExpAssignmentContext=function(q){},ae}(),N=function(){function ae(q){var Qe=this;c.fF.assertValue(q,"event"),this.event=q,this.promise=new P.J(function(dt,Pt){Qe.onResolve=dt,Qe.onReject=Pt})}return ae.prototype.resolve=function(){this.isEnded=!0,this.onResolve()},ae.prototype.cancel=function(q){return q?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})},ae.prototype.reject=function(q){this.isEnded=!0,this.onReject()},ae.prototype.isActive=function(){return!this.isEnded},ae}(),A=function(){function ae(){}return ae.prototype.getOpenActivityById=function(q){},ae.prototype.suspend=function(){},ae.prototype.resume=function(){},ae.prototype.flush=function(){},ae.prototype.restart=function(){},ae.prototype.stopActivity=function(q,Qe,dt){},ae.prototype.startPerfEventDeprecated=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt];var ir={info:{}};return new N(ir)},ae.prototype.logEvent=function(q){for(var Qe=[],dt=1;dt<arguments.length;dt++)Qe[dt-1]=arguments[dt];return null},ae.prototype.logTelemetryData=function(q,Qe,dt){return null},ae.prototype.logChildEvent=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt]},ae.prototype.startActivity=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt];var ir={info:{}};return new N(ir)},ae.prototype.startChildActivity=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt]},ae.prototype.startEvent=function(q){for(var Qe=[],dt=1;dt<arguments.length;dt++)Qe[dt-1]=arguments[dt];var Qt={info:{}};return new N(Qt)},ae.prototype.startMonitoredActivity=function(q,Qe,dt){var Qt={info:{}};return{activityEvent:Qt,activityDeferred:new N(Qt)}},ae.prototype.startChildEvent=function(q,Qe){for(var dt=[],Pt=2;Pt<arguments.length;Pt++)dt[Pt-2]=arguments[Pt];var ir={info:{}};return new N(ir)},ae.prototype.logTrace=function(q){},Object.defineProperty(ae.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),ae.prototype.setHostInfo=function(q,Qe){},ae.prototype.getHostData=function(){},ae.prototype.setExpAssignmentContext=function(q){},ae}(),I=r(336667),w=r(563233),F=r(967908),O=r(95788),L=r(175491),W=r(46997),U=r(258323),j=r(832867),z=r(138363),G=r(675905),te=r(780760),Q=r(661885),H=r(497593);function de(){var ae=(0,v.p)(),Qe={messageProxy:(0,Q.zC)(ae,window.parent),promiseFactory:ae,resourceProvider:{get:function(Pt){return Pt},getOptional:function(Pt){return Pt},format:function(Pt){return Pt}}};return new Y(Qe)}var Y=function(){function ae(q){var Qe=this;c.fF.assertValue(q.messageProxy,"messageProxy"),c.fF.assertValue(q.promiseFactory,"promiseFactory"),this.messageProxy=q.messageProxy,this.promiseFactory=q.promiseFactory,this.resourceProvider=q.resourceProvider,this.messageProxy.on(Q.et,function(dt){return Qe.onMessageReceived(dt)}),this.hostOrigin=new URL(window.location.href).origin}return ae.prototype.onMessageReceived=function(q){if(q.source===parent&&q.origin===this.hostOrigin&&"loadVisualPluginWithContent"===q.message.eventName)return this.loadVisualPluginWithContent.apply(this,q.message.arguments)},ae.prototype.loadVisualPluginWithContent=function(q){var Qe=this.promiseFactory.defer(),dt=q.pluginName,Pt=q.mappedPluginContent,Qt=Pt[z.Ut.CustomVisualJavascript].content,ir=Pt[z.Ut.CustomVisualsCss].content;try{(0,G.yO)(dt,Qt),(0,G.QO)(dt,ir);var yr=j.N[dt];yr.iconUrl=(0,te.sG)(dt),yr.content={js:Qt,css:ir,iconBase64:yr.iconUrl},(0,H.L)(yr),yr.capabilities.objects=(0,U.qC)(yr.capabilities.objects,this.resourceProvider),Qe.resolve(yr)}catch(ur){Qe.reject(ur)}return Qe.promise},ae}();function se(){if(!ce){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var ae=de;window.powerbi.visualSandbox.createResourceLoaderHost=function(){return ae()},ce=!0}}var ce=!1;se();var pe=r(299747),ve=r(37743),De=r(831917),We=r(668268),je=r(499995),Ae=r(19632),_e=r(734287),le=r(448711),Z=r(44615),ie=r(998583),me=r(324356),ye=r(207598),oe=r(588659),X=r(779722),ue=r(474374),Se=r(435795),Be=r(350562);function Ke(){return window.powerbi||(window.powerbi={}),window.powerbi}var ee=r(405416),k=r(989516),Ce=r(326621),J=function(ae){return ae[ae.merge=0]="merge",ae[ae.remove=1]="remove",ae}({});var ot=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function he(ae,q){var Qe={get:function(Pt,Qt){var ir=Pt[Qt],yr="".concat(ae,".").concat(Qt.toString());return void 0===ir?ot.has(yr)||(function(ae){var Qe=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[ae]});window.parent.postMessage(Qe,"*")}(yr),ot.add(yr)):ir&&"object"==typeof ir&&q>0&&(ir=new Proxy(ir,he(yr,q-1))),ir},set:function(Pt,Qt,ir){return Pt[Qt]=ir,!0}};return Qe}function Oe(){var ae;window.powerbi=(ae=(0,De.wg)(),new Proxy(ae,he("powerbi",3)))}var fe=r(876128),ne=r(818204),Ne=r(415859),et=r(1010),tt=r(687705),xe=r(233445),Ve=r(880921),at=function(){function ae(q,Qe,dt){this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt}return ae.prototype.acquireAADToken=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[q.id]}),q.deferred.promise},ae.prototype.getAcquireAADTokenStatus=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[q.id]}),q.deferred.promise},ae}(),ht=function(){function ae(q,Qe,dt){c.fF.assertValue(q,"messageProxy"),c.fF.assertValue(Qe,"promiseFactory"),this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt}return ae.prototype.getResourceUrl=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[q.id]}),q.deferred.promise},ae.prototype.getAADAuthenticationToken=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[q.id]}),q.deferred.promise},ae.prototype.getAADToken=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[q.id]}),q.deferred.promise},ae.prototype.getWACToken=function(q,Qe){var dt=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:Qe,resourceSiteUrl:q,promiseId:dt.id}]}),dt.deferred.promise},ae.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},ae.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},ae}(),Re=function(){function ae(q,Qe,dt){c.fF.assertValue(q,"messageProxy"),c.fF.assertValue(Qe,"promiseFactory"),this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt}return ae.prototype.downloadFile=function(q,Qe,dt,Pt){throw new Error("Not implemented")},ae.prototype.getExportStatus=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[q.id]}),q.deferred.promise},ae.prototype.exportVisualsContent=function(q,Qe,dt,Pt){var Qt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return q&&Qe&&dt&&Pt?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[q,Qe,dt,Pt,Qt.id]}):Qt.deferred.reject(),Qt.deferred.promise},ae}(),Me=function(){function ae(q,Qe){this.messageProxy=q,this.instanceId=Qe,c.fF.assertValue(q,"messageProxy")}return ae.prototype.renderingStarted=function(q){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,q.updateId]})},ae.prototype.renderingFinished=function(q){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,q.updateId]})},ae.prototype.renderingFailed=function(q,Qe){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,q.updateId,Qe]})},ae}(),ct=function(){function ae(q,Qe,dt){this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt,c.fF.assertValue(q,"messageProxy"),c.fF.assertValue(Qe,"promiseFactory")}return ae.prototype.getAvailableServicePlans=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[q.id]}),q.deferred.promise},ae.prototype.notifyLicenseRequired=function(q){var Qe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[q,Qe.id]}),Qe.deferred.promise},ae.prototype.notifyFeatureBlocked=function(q){var Qe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[q,Qe.id]}),Qe.deferred.promise},ae.prototype.clearLicenseNotification=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[q.id]}),q.deferred.promise},ae}(),It=function(){function ae(q,Qe,dt){c.fF.assertValue(q,"messageProxy"),c.fF.assertValue(Qe,"promiseFactory"),this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt}return ae.prototype.getStorageStatus=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[q.id]}),q.deferred.promise},ae.prototype.getStorageData=function(q){var Qe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[q,Qe.id]}),Qe.deferred.promise},ae.prototype.setStorageData=function(q,Qe){var dt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[q,Qe,dt.id]}),dt.deferred.promise},ae.prototype.removeStorageData=function(q){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[q]})},ae}(),jt=function(){function ae(q,Qe,dt){c.fF.assertValue(q,"messageProxy"),c.fF.assertValue(Qe,"promiseFactory"),this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt}return ae.prototype.getStorageStatus=function(){var q=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[q.id]}),q.deferred.promise},ae.prototype.getStorageData=function(q){var Qe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[q,Qe.id]}),Qe.deferred.promise},ae.prototype.setStorageData=function(q,Qe){var dt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[q,Qe,dt.id]}),dt.deferred.promise},ae.prototype.removeStorageData=function(q){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[q]})},ae}(),Kt=r(220111),Zt=function(){function ae(q,Qe){this.messageProxy=q,c.fF.assertValue(q,"messageProxy"),this.instanceId=Qe}return ae.prototype.trace=function(q,Qe){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,Kt.s$)(q),{instanceId:this.instanceId,payload:Qe}]})},ae.prototype.logStandardizedFeatureEvent=function(){},ae}(),_r=function(){function ae(q){c.fF.assertValue(q,"messageProxy"),this.messageProxy=q,this.rootElement=window.document.body}return ae.prototype.serializeIdentities=function(q){return q&&q[0]instanceof I.r?q:q&&_(q).map(function(dt){return(0,Ne.U9)(dt)}).compact().value()},ae.prototype.show=function(q){var Qe=q&&{coordinates:q.coordinates,dataItems:q.dataItems,identities:this.serializeIdentities(q.identities),isTouchEvent:q.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[Qe]})},ae.prototype.move=function(q){var Qe=q&&{coordinates:q.coordinates,dataItems:q.dataItems,identities:this.serializeIdentities(q.identities),isTouchEvent:q.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[Qe]})},ae.prototype.hide=function(q){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[q]})},ae.prototype.visible=function(){return!1},ae.prototype.isTouchOptimized=function(){return!1},ae.prototype.container=function(){return this.rootElement},ae.prototype.enabled=function(){return!0},ae}(),mt=function(){function ae(q,Qe,dt){c.fF.assertValue(q,"messageProxy"),c.fF.assertValue(Qe,"promiseFactory"),this.messageProxy=q,this.promiseFactory=Qe,this.sandboxPromiseHandler=dt}return ae.prototype.getWebAccessStatus=function(q){var Qe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[q,Qe.id]}),Qe.deferred.promise},ae}(),Xt=function(){function ae(q){c.fF.assertValue(q,"messageProxy"),this.messageProxy=q}return ae.prototype.subSelect=function(q){q&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[q]})},ae.prototype.updateRegionOutlines=function(q){q&&this.messageProxy.postMessage({eventName:"updateRegionOutlines",arguments:[q]})},ae}(),dr={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},ar={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},gr=function(){function ae(q,Qe){this.messageProxy=q,this.sandboxPromiseHandler=Qe,this.loadMoreDataEnabled=!0,c.fF.assertValue(q,"messageProxy"),this.visualHostTooltipService=function(ae){return new _r(ae)}(q),this.queryDictionary=ae.parseUrlParameters(),this.authService=function(ae,q,Qe){return new ht(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.storageService=function(ae,q,Qe){return new It(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.hostWebAccessService=function(ae,q,Qe){return new mt(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.contentDownloadService=function(ae,q,Qe){return new Re(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.licensesManagerService=function(ae,q,Qe){return new ct(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.acquireTokenService=function(ae,q,Qe){return new at(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.storageV2Service=function(ae,q,Qe){return new jt(ae,q,Qe)}(q,this.promiseFactory(),Qe),this.hostSubSelectionService=function(ae){return new Xt(ae)}(q),this.dialogPromiseFactory=this.promiseFactory()}return ae.prototype.initInstanceId=function(q){this._instanceId=q,this.telemetryService=function(ae,q){return new Zt(ae,q)}(this.messageProxy,q),this.eventsService=function(ae,q){return new Me(ae,q)}(this.messageProxy,q)},ae.initialize=function(){et.I6&&(et.I6.localizationOptions=ae.createTooltipLocaleOptions())},ae.createLocaleOptions=function(){return{null:ar.NullValue,true:ar.BooleanTrue,false:ar.BooleanFalse,NaN:ar.NaNValue,infinity:ar.InfinityValue,negativeInfinity:ar.NegativeInfinityValue,beautify:function(Qe){return ae.beautify(Qe)},describe:function(Qe){return ae.describeUnit(Qe)},restatementComma:ar.Restatement_Comma,restatementCompoundAnd:ar.Restatement_CompoundAnd,restatementCompoundOr:ar.Restatement_CompoundOr}},ae.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:ar.Tooltip_HighlightedValueDisplayName}},ae.prototype.getLocalizedString=function(q){return ar[q]},ae.prototype.onSelecting=function(q){q.action=0},ae.prototype.onSelect=function(q){var Qe;if((0,Ve.FE)(q)){var dt=q;Qe={data:(0,Ne.OR)(dt.data),data2:(0,Ne.U9)(dt.data2),selectors:(0,Ne.OR)(dt.selectors)}}else Qe={type:q.type,visualObjects:(0,Ne.kW)(q.visualObjects)};this.messageProxy.postMessage({eventName:"onSelect",arguments:[Qe]})},ae.prototype.customVisualOnContextMenu=function(q){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[q]})},ae.prototype.customVisualOnExpandCollapse=function(q){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[q]})},ae.prototype.switchFocusModeState=function(q){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[q]})},ae.prototype.displayWarningIcon=function(q,Qe){null!=q&&null!=Qe&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[q,Qe]})},ae.prototype.persistProperties=function(q){var Qe,dt=q;Qe=this.apiVersion&&((0,t.gt)(this.apiVersion,"2.0.0")||(0,t.eq)(this.apiVersion,"2.0.0"))?q:dt.merge||dt.remove||dt.replace?{merge:dt.merge?(0,tt.qC)(dt.merge):null,replace:dt.replace?(0,tt.qC)(dt.replace):null,remove:dt.remove?(0,tt.qC)(dt.remove):null}:(0,tt.qC)(q),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[Qe]})},ae.prototype.sendSelectionIdsToHost=function(q){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[q]})},ae.prototype.loadMoreData=function(){this.fetchMoreData(!0)},ae.prototype.loadWindow=function(q){},ae.prototype.fetchMoreData=function(q){return!!this.loadMoreDataEnabled&&(!1!==q&&(q=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[q]}),!0)},ae.prototype.launchUrl=function(q){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[q]})},ae.prototype.setCanDrill=function(q){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[q]})},ae.prototype.drill=function(q){this.messageProxy.postMessage({eventName:"drill",arguments:[q]})},ae.prototype.openModalDialog=function(q,Qe,dt){var Pt=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[q,Qe,dt,Pt.id]}),Pt.deferred.promise},ae.prototype.tooltips=function(){return this.visualHostTooltipService},ae.prototype.telemetry=function(){return this.telemetryService},ae.prototype.authenticationService=function(){return this.authService},ae.prototype.localStorageService=function(){return this.storageService},ae.prototype.localStorageV2Service=function(){return this.storageV2Service},ae.prototype.eventService=function(){return this.eventsService},ae.prototype.licenseManagerService=function(){return this.licensesManagerService},ae.prototype.acquireAADTokenService=function(){return this.acquireTokenService},ae.prototype.visualTimeSynchronization=function(){return this.visualTimeSynchronizationService},ae.prototype.networkAvailability=function(){return this.networkAvailabilityService},ae.prototype.webAccessService=function(){return this.hostWebAccessService},ae.prototype.visualHostSubSelectionService=function(){return this.hostSubSelectionService},ae.prototype.getSectionsMetadata$=function(){},ae.prototype.getBookmarksMetadata$=function(){},ae.prototype.downloadService=function(){return this.contentDownloadService},ae.prototype.artifactService=function(){},ae.prototype.getQueryStringValue=function(q){return this.queryDictionary&&this.queryDictionary[q]},ae.prototype.locale=function(){var q=this.queryDictionary&&this.queryDictionary.locale;return c.fF.assert(function(){return!!q},"custom visual locale parameter is not valid"),q||navigator.language},ae.prototype.loader=function(){var q=this;return{require:function(){return q.promiseFactory().reject()}}},ae.prototype.applyJsonFilter=function(q,Qe,dt,Pt){var Qt=[q,Qe,dt];return Pt&&Qt.push(Pt),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:Qt}),!0},ae.prototype.applyIdentityFilter=function(q,Qe,dt,Pt){var Qt=[q,Qe,dt];return Pt&&Qt.push(Pt),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:Qt}),!0},ae.prototype.getJSONFilter=function(q,Qe){return this.promiseFactory().reject()},ae.parseUrlParameters=function(q){void 0===q&&(q=window.location.search);var Qe={},dt=q;if(dt&&"?"===dt.substr(0,1))for(var Qt=0,ir=dt.substr(1).split("&");Qt<ir.length;Qt++){var yr=ir[Qt],ur=yr&&yr.split("=");ur&&2===ur.length&&(Qe[decodeURIComponent(ur[0])]=decodeURIComponent(ur[1]))}return Qe},ae.prototype.destroy=function(){this.messageProxy.destroy(),this.messageProxy=null},ae.prototype.refreshHostData=function(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})},ae.prototype.createSelectionIdBuilder=function(){return new I.r},ae.prototype.createTooltipService=function(){return(0,xe.r)({hostServices:this})},ae.prototype.createSelectionManager=function(q){return new h.Z({hostServices:this,apiVersion:q})},ae.prototype.applyCustomSort=function(q){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[q]})},ae.prototype.alertScreenReader=function(q){},ae.prototype.alertWithDebounce=function(q,Qe){},ae.prototype.requestFocus=function(){},ae.prototype.setShouldDeferData=function(){},ae.prototype.onDragStart=function(){},ae.prototype.onContextMenu=function(){},ae.prototype.onSwitchFocusModeState=function(){},ae.prototype.onDisplayWarningIcon=function(){},ae.prototype.onClearCustomizedWarningIcon=function(){},ae.prototype.getVisualLinkProperties=function(){},ae.prototype.canSelect=function(){return!1},ae.prototype.canExpandCollapse=function(q){return!1},ae.prototype.setNodeExpansionState=function(q){},ae.prototype.setLevelExpansionState=function(q){},ae.prototype.onCustomSort=function(q){},ae.prototype.getViewMode=function(){return 0},ae.prototype.getEditMode=function(){return 0},ae.prototype.setWarnings=function(q){},ae.prototype.getWarnings$=function(){},ae.prototype.setToolbar=function(q){},ae.prototype.shouldRetainSelection=function(){return!1},ae.prototype.geocoder=function(){return(0,V.Wy)()},ae.prototype.geolocation=function(){c.fF.assertFail("Not being used anywhere")},ae.prototype.promiseFactory=function(){return(0,v.p)()},ae.prototype.ignoreDefaultFilter=function(){return!1},ae.prototype.getIdentityDisplayNames=function(q){},ae.prototype.setIdentityDisplayNames=function(q){},ae.prototype.setFilterExpressionMetadata=function(){},ae.prototype.getFilterExpressionMetadata=function(){},ae.prototype.getUIComponentFactory=function(){},ae.prototype.onHyperlinkClick=function(q,Qe){},ae.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},ae.prototype.dataMultiSelectMode=function(){return 0},ae.prototype.dropdown=function(){},ae.prototype.setAriaMetadata=function(q){},ae.prototype.onNotifyLicense=function(q){},ae.prototype.onClearLicenseNotification=function(){},ae.prototype.onNotifyFeatureBlocked=function(q){},ae.prototype.getSubSelectionService=function(){},ae.prototype.getAzureMapToken=function(){},ae.prototype.azureMapsEndpoint=function(){},ae.prototype.geocoderIndexedDB=function(){},ae.prototype.triggerUpdate=function(){},ae.prototype.isScreenshotWorkload=function(){return!1},ae.prototype.dateTimeFormatService=function(){},ae.prototype.visualExportService=function(){},Object.defineProperty(ae.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!1,configurable:!0}),ae.beautify=function(q){var Qe=dr[q];return Qe&&ar[Qe]||q},ae.describeUnit=function(q){var Qe=-1===q?"Auto":q.toString(),dt=ar["DisplayUnitSystem_E"+Qe+"_Title"],Pt=q<=0?"{0}":ar["DisplayUnitSystem_E"+Qe+"_LabelFormat"];if(dt||Pt)return{title:dt,format:Pt}},ae.prototype.enableLoadMoreData=function(q){this.loadMoreDataEnabled=q},ae}(),pr=r(283427),Br=r(885855),Ir=function(ae){return ae.Click="click",ae.MouseUp="mouseup",ae.MSPointerUp="MSPointerUp",ae.PointerUp="pointerup",ae.Dblclick="dblclick",ae}({}),Or=function(ae){return ae.Tap="tap",ae.TouchCancel="touchcancel",ae.Touchend="touchend",ae}({}),Kr=function(ae){return ae.KeyDown="keydown",ae}({}),zr=function(ae){return ae.KeyDown="keydown",ae}({}),Ur=Object.values(Ir),hr=Object.values(Or),Rr=Object.values(Kr),Tt=Ur.concat(hr),Ut=Object.values(zr),Et=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],Ct={Escape:[]},Nt={Escape:[],y:["ctrlKey"],z:["ctrlKey"]},lt=function(){function ae(q){this.id=++ae.counter,this.deferred=q}return ae.getLastId=function(){return ae.counter},ae.counter=0,ae}(),ut=function(){function ae(q){this.id=++ae.counter,this.deferred=q}return ae.getLastId=function(){return ae.counter},ae.counter=0,ae}(),yt=function(){function ae(){this.promises={},this.promises2={}}return ae.prototype.CreatePromise=function(q){var Qe=new lt(q);return this.promises[Qe.id]=Qe,Qe},ae.prototype.ResolvePromise=function(q,Qe){var dt=this.promises[q];dt&&(dt.deferred.resolve(Qe),this.promises[q]=null)},ae.prototype.RejectPromise=function(q,Qe){var dt=this.promises[q];dt&&(dt.deferred.reject(Qe),this.promises[q]=null)},ae.prototype.CreatePromise2=function(q){var Qe=new ut(q);return this.promises2[Qe.id]=Qe,Qe},ae.prototype.ResolvePromise2=function(q,Qe){var dt=this.promises2[q];dt&&(dt.deferred.resolve(Qe),this.promises2[q]=null)},ae.prototype.RejectPromise2=function(q,Qe){var dt=this.promises2[q];dt&&(dt.deferred.reject(Qe),this.promises2[q]=null)},ae}();function Ft(){return window.powerbi.visuals.plugins}function Lt(ae){var Qe=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[ae.blockedURI,ae.violatedDirective,ae.originalPolicy]});window.parent.postMessage(Qe,"*")}function kt(ae,q){void 0===q&&(q=!1);var Qe=(0,v.p)(),dt=(0,Q.zC)(Qe);gr.initialize(),ve.s.getQueryStringValue("pbiglobals")&&function(){var ae=(0,De.wg)();ae.FilterAction=J,ae.VisualDataRoleKind=i.DW,ae.VisualDataChangeOperationKind=i.su,ae.VisualUpdateType=i.EP,ae.VisualPermissions=i.NI,ae.formattingService=Ce.dx;var q=function(){var ae=Ke();return ae.data||(ae.data={}),ae.data}();me.nw&&(q.SQExprBuilder={},q.SQExprBuilder.entity=me.nw,q.SQExprBuilder.subqueryRef=me.v5,q.SQExprBuilder.namedQueryRef=me.kD,q.SQExprBuilder.columnRef=me.Oh,q.SQExprBuilder.measureRef=me.mv,q.SQExprBuilder.nativeMeasure=me.PB,q.SQExprBuilder.nativeColumn=me.sl,q.SQExprBuilder.aggregate=me.m_,q.SQExprBuilder.selectRef=me.xA,q.SQExprBuilder.percentile=me.Pe,q.SQExprBuilder.rangePercent=me.Mj,q.SQExprBuilder.arithmetic=me.Y8,q.SQExprBuilder.floor=me.GW,q.SQExprBuilder.scopedEval=me.ed,q.SQExprBuilder.filteredEval=me.Xw,q.SQExprBuilder.withRef=me.Oe,q.SQExprBuilder.groupRef=me.Wp,q.SQExprBuilder.hierarchy=me.bT,q.SQExprBuilder.propertyVariationSource=me.yU,q.SQExprBuilder.hierarchyLevel=me.os,q.SQExprBuilder.transformTableRef=me.GB,q.SQExprBuilder.transformOutputRoleRef=me.hu,q.SQExprBuilder.roleRef=me.Wu,q.SQExprBuilder.summaryValueRef=me.bO,q.SQExprBuilder.allRolesRef=me.lI,q.SQExprBuilder.and=me.xD,q.SQExprBuilder.between=me.vX,q.SQExprBuilder.inValues=me.Sh,q.SQExprBuilder.inTable=me.dY,q.SQExprBuilder.or=me.or,q.SQExprBuilder.compare=me.qu,q.SQExprBuilder.conditional=me.u7,q.SQExprBuilder.contains=me.r3,q.SQExprBuilder.exists=me.Gg,q.SQExprBuilder.equal=me.Dg,q.SQExprBuilder.not=me.ff,q.SQExprBuilder.startsWith=me.Ny,q.SQExprBuilder.nullConstant=me.IF,q.SQExprBuilder.emptyString=me.$t,q.SQExprBuilder.now=me.zO,q.SQExprBuilder.defaultValue=me.LS,q.SQExprBuilder.anyValue=me.n7,q.SQExprBuilder.boolean=me.O7,q.SQExprBuilder.dateAdd=me.sO,q.SQExprBuilder.dateTime=me.CQ,q.SQExprBuilder.dateSpan=me.uQ,q.SQExprBuilder.decimal=me.gH,q.SQExprBuilder.double=me.tx,q.SQExprBuilder.integer=me.cA,q.SQExprBuilder.text=me.fL,q.SQExprBuilder.typedConstant=me.kQ,q.SQExprBuilder.fromRawValue=me.f7,q.SQExprBuilder.sparklineData=me.Zy,q.SQExprBuilder.setAggregate=oe.k,q.SQExprBuilder.removeAggregate=Se.n,q.SQExprBuilder.setPercentOfGrandTotal=ye.F,q.SQExprBuilder.removePercentOfGrandTotal=ue.H,q.SQExprBuilder.setPercentOfRoleTotal=Be.z,q.SQExprBuilder.removePercentOfRoleTotal=X.E,q.SQExprBuilder.removeEntityVariables=me.p7,q.SQExprBuilder.setVisualCalcExpression=me.eu,q.SQExprBuilder.fillRule=me.x5,q.SQExprBuilder.themeDataColor=me.e7,q.SQExprBuilder.resourcePackageItem=me.nF,q.SQExprBuilder.discretize=me.h5,q.SQExprBuilder.member=me.fP,q.SQExprBuilder.color=me.$_,q.SQExprBuilder.nativeVisualCalc=me.YU,q.SQExprBuilder.fieldExpr=ie.B,q.SQExprBuilder.fromColumnAggr=Z.dR,q.SQExprBuilder.fromColumn=Z.tg,q.SQExprBuilder.fromGroupingColumnAggr=Z.ym,q.SQExprBuilder.fromGroupingColumn=Z.Gk,q.SQExprBuilder.fromEntity=Z.TI,q.SQExprBuilder.fromEntityAggr=Z.R$,q.SQExprBuilder.fromColumnHierarchyVariation=Z.qP,q.SQExprBuilder.fromColumnHierarchyLevelVariation=Z.$x,q.SQExprBuilder.fromColumnSubquery=Z.W2,q.SQExprBuilder.fromColumnAggrSubquery=Z.vH,q.SQExprBuilder.fromColumnTransformRef=Z.U5,q.SQExprBuilder.fromHierarchyLevelAggr=Z.vf,q.SQExprBuilder.fromHierarchyLevel=Z.lH,q.SQExprBuilder.fromHierarchy=Z.Ig,q.SQExprBuilder.fromArithmetic=Z.jS,q.SQExprBuilder.fromConstant=Z.Bn,q.SQExprBuilder.fromSparklineData=Z.a4,q.SQExprBuilder.fromNativeVisualCalc=Z.Sr),q.Selector={},q.Selector.AllEncompasingKey=k.xO,q.Selector.isScopeIdentity=k.yN,q.Selector.isScopeWildcard=k.QV,q.Selector.isScopeTotal=k.tQ,q.Selector.isRoleWildcard=k.j9,q.Selector.isWildcard=k.qm,q.Selector.isWildcardSelector=k.N6,q.Selector.toScopeIdentities=k.CT,q.Selector.getScopeIdentities=k.gU,q.Selector.filterFromSelector=k.mV,q.Selector.filterFromSelectorsByColumn=k.k_,q.Selector.filterExprsFromSelectors=k.Li,q.Selector.hasIdentities=k.Yw,q.Selector.equals=k.fS,q.Selector.equalsDataArray=k.hp,q.Selector.equalsSelectorsByColumn=k.Ic,q.Selector.equalsSelectorsByColumnArray=k.Or,q.Selector.equalsData=k.cY,q.Selector.getKey=k.km,q.Selector.getDecomposedKeys=k.AZ,q.Selector.containsWildcard=k.GT,q.Selector.hasRoleWildcard=k._Q,q.Selector.convertSelectorsByColumnToSelector=k.tV,q.Selector.getSelectorTargetExpr=k.AV,q.Selector.normalizeSelector=k.fd,q.Selector.clone=k.d9,q.SQCompareExpr=me.wU,q.createDataViewScopeIdentity=Ae.TZ,q.createDisplayNameGetter=_e.V,q.DataViewObjectDefinitions={},q.DataViewObjectDefinitions.allPropertiesAreEqual=We.Pg,q.DataViewObjectDefinitions.clone=We.d9,q.DataViewObjectDefinitions.cloneDefinitions=We.dn,q.DataViewObjectDefinitions.deleteObjectDefinition=We.AV,q.DataViewObjectDefinitions.deleteProperties=We.Gc,q.DataViewObjectDefinitions.deleteProperty=We.E2,q.DataViewObjectDefinitions.encodePropertyValue=We.Lo,q.DataViewObjectDefinitions.ensure=We.zx,q.DataViewObjectDefinitions.extend=We.l7,q.DataViewObjectDefinitions.getDataBoundExprs=je.oA,q.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=je.Sz,q.DataViewObjectDefinitions.getObjectDefinition=We.my,q.DataViewObjectDefinitions.getObjectDefinitions=We.GQ,q.DataViewObjectDefinitions.getPropertyContainer=We.ug,q.DataViewObjectDefinitions.getUnequalProperties=We.hu,q.DataViewObjectDefinitions.getValue=We.NA,q.DataViewObjectDefinitions.getValueFormatting=We.hO,q.DataViewObjectDefinitions.isEmpty=We.xb,q.DataViewObjectDefinitions.isObjectPropertySQExpr=We.Rc,q.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=We.er,q.DataViewObjectDefinitions.isPropertyDefinition=We.e4,q.DataViewObjectDefinitions.moveProperty=We.TX,q.DataViewObjectDefinitions.propertiesAreEqual=We.ES,q.DataViewObjectDefinitions.reduce=We.u4,q.DataViewObjectDefinitions.setValue=We.sO,q.DataViewObjectDefinitions.setValueFormatting=We.On,q.DataViewObjectDefinitions.updateSelector=We.xl,q.DataViewObjectDefinitions.visitPropertyDefinitions=We.rQ,q.DataViewObjectDefinitions.visitPropertyExprs=We.Vj;var Qe=function(){var ae=Ke();return ae.extensibility||(ae.extensibility={}),ae.extensibility}();Qe.createColorPalette=ee.D,Qe.createExtendedColorPalette=ee.o,Qe.getVisualApiVersions=p.HB,Qe.visualApiVersions=(0,p.HB)();var dt=(0,De.Z7)();dt.buildValueDetailsForColumnValue=s.Y,dt.SelectionId=s.l0,dt.SelectionIdBuilder=s.dw;var Pt=function(){var ae=(0,De.Z7)();return ae.valueFormatter||(ae.valueFormatter={}),ae.valueFormatter}();Pt.beautifyTrace=le.J6,Pt.allowFormatBeautificationTraced=le.CH,Pt.getLocalizedString=le.Z,Pt.getFormatMetadata=le.G2,Pt.setLocaleOptions=le.X0,Pt.createDefaultFormatter=le.E3,Pt.create=le.Ue,Pt.format=le.WU,Pt.formatVariantMeasureValueWithDataPointObjects=le.kA,Pt.createDisplayUnitSystem=le.Ym,Pt.getDisplayUnits=le.p$,Pt.getFormatString=le.EO,Pt.getDefaultFormatString=le.v1,Pt.getLabelPrecision=le.h1,Pt.getFormatStringWithDataPointObjects=le.eU,Pt.formatListAnd=le.aY,Pt.formatListOr=le.KF}(),(0,De.Z7)().plugins={},Oe();var Qt={promiseFactory:Qe},ir=function(ae){return new B(ae)}(dt),yr=function(ae){return new C(ae)}(dt),ur=new yt,wr=function(ae,q){return c.fF.assertValue(ae,"messageProxy"),new gr(ae,q)}(dt,ur),Lr={$element:ae,hostServices:wr,hostServicesControl:wr,dataProxy:Gt(Qe),promiseFactory:Qe,messageProxy:dt,resourceLoader:(0,g.fQ)(Qt,null),resourceProvider:{get:function(Ue){return Ue},getOptional:function(Ue){return Ue},format:function(Ue){return Ue}},telemetryProxyService:ir,certifiedEventsProxyService:yr,instanceId:"",sandboxPromiseHandler:ur},$e=wr.getQueryStringValue("cspiframe");return dt.contentWindow=$e?window.parent.parent:window.parent,new sr(Lr,q)}function Gt(ae){var q=new A,dt={promiseFactory:function(){return ae}},Pt=(0,f.I)((0,b.k2)({dsr:{name:"dsr",reader:function(ir){return new W.i(ir,{execute:function(){return ae.reject()}},q,{dsrV2:!1},null,void 0,void 0)}}},{}),dt);return(0,w.M2)(ae,Pt,q)}function er(ae,q,Qe){var Qt,dt=ae.content,Pt=ae.hasBeenInjected||Ft()&&Ft().hasOwnProperty(ae.name)&&Ft()[ae.name].hasBeenInjected;return(!q||!Pt)&&((0,G.yO)(ae.name,dt.js,Qe,ae.apiVersion),(0,G.QO)(ae.name,dt.css)),!ae.apiVersion||(0,t.lt)(ae.apiVersion,{major:3,minor:0,patch:0})?(c.fF.assertValue(Ft()[ae.name],"Visual does not have a plugin"),Qt=Ft()[ae.name]):(c.fF.assertValue(window[ae.name],"Visual does not have a plugin"),Qt=window[ae.name].default),ae.apiVersion&&(Qt.iconUrl=ae.iconUrl,Qt.capabilities=ae.capabilities,Qt.localizationResources=ae.localizationResources,Qt.isDeprecated=ae.isDeprecated,Qt.version=ae.version),q&&(Qt.hasBeenInjected=!0,Qt.approvedForNoIframe=!0,Ft()[ae.name]=Qt),Qt}var sr=function(){function ae(q,Qe){void 0===Qe&&(Qe=!1);var dt=this;this.isolate=Qe,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=function(Pt){var Qt=_.pick(Pt.originalEvent,Et);dt.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Qt]})},this.relayKeyboardEventListener=function(Pt){var Qt=_.pick(Pt.originalEvent,Et);dt.isSupportedKeyBoardEvent(Pt.originalEvent)&&dt.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Qt]})},this.container=q.$element,this.hostServices=q.hostServices,this.hostServicesControl=q.hostServicesControl,this.dataProxy=q.dataProxy,this.promiseFactory=q.promiseFactory,this.messageProxy=q.messageProxy,this.resourceLoader=q.resourceLoader,this.resourceProvider=q.resourceProvider,this.telemetryProxyService=q.telemetryProxyService,this.certifiedEventsProxyService=q.certifiedEventsProxyService,this.sandboxPromiseHandler=q.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new ne.n,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(Q.et,function(Pt){return dt.onMessageReceived(Pt)})}return Object.defineProperty(ae.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),ae.prototype.init=function(q){this.hostServices.initInstanceId(q.instanceId),this.hostServicesControl.initInstanceId(q.instanceId),this.style=(0,L.th)(q.style);var Qe={animation:q.animation,element:this.container,host:this.hostServices,interactivity:q.interactivity,style:this.style,viewport:q.viewport,localizationResources:this.plugin.localizationResources,hostEnv:q.hostEnv,dataMultiSelectMode:q.dataMultiSelectMode};return this.featureSwitches=q.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(Qe)},ae.prototype.destroy=function(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(Q.et),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()},ae.prototype.categoriesExists=function(q){return!!(q&&q.dataViews&&q.dataViews.length>0&&q.dataViews[0].categorical&&q.dataViews[0].categorical.categories&&q.dataViews[0].categorical.categories.length>0&&q.dataViews[0].categorical.categories[0]&&q.dataViews[0].categorical.categories[0].values)},ae.prototype.getHostCategoriesValues=function(q,Qe,dt){try{if(q){if(dt)for(var Pt=0;Pt<q.length;Pt++)q[Pt]&&(q[Pt]=new Date(q[Pt]));Qe.dataViews[0].categorical.categories[0].values=q}}catch(Qt){this.sendError(Qt)}return Qe},ae.prototype.update=function(q){var Pt,Qe=this,dt=q.message.arguments[0];if(this.formatMode!==!!dt.formatMode&&(this.formatMode=dt.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,t.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=dt.serializedDataView?dt.serializedDataView.stringifiedDataView:null;var Qt=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),ir=dt.serializedDataView?[this.dataViewSerializer.deserializeDataView(dt.serializedDataView,(0,t.gt)(this.plugin.apiVersion,"3.5.9"),Qt,[],(0,t.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(dt.subSelections);var yr=this.lastVisualUpdateOptions={dataViews:ir,suppressAnimations:dt.suppressAnimations,viewMode:dt.viewMode,editMode:dt.editMode,viewport:dt.viewport,type:dt.type,operationKind:i.su.Create,resizeMode:dt.resizeMode,isInFocus:dt.isInFocus,jsonFilters:dt.jsonFilters?dt.jsonFilters:null,updateId:dt.updateId,formatMode:dt.formatMode,subSelections:dt.subSelections};this.plugin&&this.plugin.apiVersion&&!(0,t.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(dt.selections,!(0,t.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(yr,q,dt)):(this.fixUpdateOptionsAndUpdateVisual(yr,q,dt),this.onRestoreCvSelectionIds(dt.selections,!(0,t.gt)(this.plugin.apiVersion,"2.4.0")))}else dt.dataTransforms&&(Pt=O.F.deserializeDataViewTransformActions(dt.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(dt.dataViewSource,Pt,!0).then(function(ur){var wr=Qe.lastVisualUpdateOptions={dataViews:ur.dataViews,suppressAnimations:dt.suppressAnimations,viewMode:dt.viewMode,editMode:dt.editMode,viewport:dt.viewport,type:dt.type,operationKind:i.su.Create,resizeMode:dt.resizeMode,isInFocus:dt.isInFocus,jsonFilters:dt.jsonFilters?dt.jsonFilters:null,updateId:dt.updateId};Qe.visualHasNullFilter(Pt)&&Qe.onRestoreSelection(null),Qe.fixUpdateOptionsAndUpdateVisual(wr,q,dt)}).catch(function(ur){return Qe.sendError(ur)})},ae.prototype.visualHasNullFilter=function(q){var Qe,dt,Pt,Qt,ir,yr,ur;if(null!==(ir=null===(Qt=null===(Pt=null===(dt=null===(Qe=this.plugin)||void 0===Qe?void 0:Qe.capabilities)||void 0===dt?void 0:dt.objects)||void 0===Pt?void 0:Pt.general)||void 0===Qt?void 0:Qt.properties)&&void 0!==ir&&ir.filter){var wr=null===(yr=null==q?void 0:q.objects)||void 0===yr?void 0:yr.general;if(wr&&wr.length>0&&null!==(ur=wr[0])&&void 0!==ur&&ur.properties&&!wr[0].properties.filter)return!0}return!1},ae.prototype.updateWithCachedData=function(q){var dt,Pt,Qt,Qe=q.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,t.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var ir=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=Qe.dataViewMetadata?JSON.parse(Qe.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=ir}Pt=this.lastVisualUpdateOptions.dataViews,Qt=!0}else Qe.dataTransforms&&(dt=O.F.deserializeDataViewTransformActions(Qe.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=dt,Pt=(0,F.nn)(this.lastDataViewTransformApplyOptions).dataViews;var yr=this.lastVisualUpdateOptions={dataViews:Pt,suppressAnimations:Qe.suppressAnimations,viewMode:Qe.viewMode,editMode:Qe.editMode,viewport:Qe.viewport,type:Qe.type,operationKind:i.su.Create,resizeMode:Qe.resizeMode,isInFocus:Qe.isInFocus,jsonFilters:Qe.jsonFilters?Qe.jsonFilters:null,updateId:Qe.updateId,formatMode:Qe.formatMode,subSelections:Qe.subSelections};this.fixUpdateOptionsAndUpdateVisual(yr,q,Qe,Qt)},ae.prototype.loadResourcePackage=function(q){var Qe=this;c.fF.assertValue(q,"resourcePackage"),this.resourceLoader.loadVisualPlugin(q).then(function(dt){Qe.plugin=dt,Qe.createAdapter()}).catch(function(){var dt=new Error("Unable to load plugin, resource package id: "+q.id);return Qe.sendError(dt)})},ae.prototype.createAdapter=function(){var q=this.plugin;if(this.container.addClass("visual-"+q.name),this._visual=(0,p.nm)(q,q.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!q||!this.visual){var Qe=new Error("Unable to create visual from plugin "+q.name);return this.sendError(Qe)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()},ae.prototype.loadWithoutResourcePackage=function(q){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var dt=q.apiVersion?this.isolate&&(0,t.lt)(q.apiVersion,"3.0.0"):this.isolate;this.plugin=er(q,!1,dt),(0,H.L)(this.plugin),this.createAdapter()}},ae.prototype.enumerateObjectInstances=function(q){if(this.visual.enumerateObjectInstances){var Qe=this.visual.enumerateObjectInstances(q);if(Qe){var dt=Qe,Pt=this.plugin&&this.plugin.apiVersion&&!(0,t.lt)(this.plugin.apiVersion,"2.0.0");return dt&&dt.instances?Pt?{instances:dt.instances,containers:dt.containers}:{instances:(0,tt.qC)(dt.instances),containers:dt.containers?(0,tt.DQ)(dt.containers,this.resourceProvider):null}:Pt?Qe:(0,tt.qC)(Qe)}}},ae.prototype.enumerateObjectRepetition=function(){if(this.visual.enumerateObjectRepetition){var q=this.visual.enumerateObjectRepetition();return q?(0,Br.qC)(q):void 0}},ae.prototype.getFormattingModel=function(){var q,Qe;return null===(Qe=(q=this.visual).getFormattingModel)||void 0===Qe?void 0:Qe.call(q)},ae.prototype.getSubSelectionStyles=function(q){var Qe,dt;return this.reCreateSelectionIds(q),null===(dt=(Qe=this.visual).getSubSelectionStyles)||void 0===dt?void 0:dt.call(Qe,q)},ae.prototype.getSubSelectionShortcuts=function(q,Qe){var dt,Pt;return this.reCreateSelectionIds(q),null===(Pt=(dt=this.visual).getSubSelectionShortcuts)||void 0===Pt?void 0:Pt.call(dt,q,Qe)},ae.prototype.getSubSelectables=function(q){var Qe,dt;return null===(dt=(Qe=this.visual).getSubSelectables)||void 0===dt?void 0:dt.call(Qe,q)},ae.prototype.focusVisualIframeWindow=function(){window.focus()},ae.prototype.sendUpdateResult=function(){var q=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[q]})},ae.prototype.sendSandboxReady=function(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})},ae.prototype.flushQueue=function(){for(;this.messageQueue.length>0;){var q=this.messageQueue.shift();this.executeMessage(q)}},ae.prototype.sendError=function(q,Qe){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:Qe?Qe.id:null,eventName:Qe?Qe.eventName:null,name:q.name,message:q.message,pluginName:this.plugin.name}})},ae.prototype.sendErrorMessage=function(q,Qe){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:q,message:Qe,pluginName:this.plugin.name}})},ae.prototype.onMessageReceived=function(q){if(this.isVisualInitialized||"loadResourcePackage"===q.message.eventName||"loadWithoutResourcePackage"===q.message.eventName)return this.executeMessage(q);this.messageQueue.push(q)},ae.prototype.validateSandboxHostMessage=function(q){var dt=this[q.message.eventName];return dt?"function"!=typeof dt?{error:"not a function"}:dt.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},ae.prototype.validateVisualMessage=function(q){var Qe=q.message;if(!this.visual)return{error:"unset visual"};var dt=this.visual[Qe.eventName];return dt?"function"!=typeof dt?{error:"not a function"}:p.Vh.prototype[Qe.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},ae.prototype.executeMessage=function(q){var dt,Pt,Qe=q.message,Qt="SandboxHost.executeMessage rejected message:";if(q.source===window||q.source.parent!==window){if(q.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(Qe.eventName,"".concat(Qt," invalid source"));if(q.origin!==this.hostOrigin)return this.sendErrorMessage(Qe.eventName,"".concat(Qt," invalid origin"));try{if((dt=this.validateSandboxHostMessage(q)).ok)return"update"===Qe.eventName||"updateWithCachedData"===Qe.eventName||"handleLoadMoreDataResult"===Qe.eventName?this[Qe.eventName].call(this,q):this[Qe.eventName].apply(this,Qe.arguments);if((Pt=this.validateVisualMessage(q)).ok)return this.visual[Qe.eventName].apply(this.visual,Qe.arguments)}catch(ir){return void this.sendError(ir,Qe)}this.sendErrorMessage(Qe.eventName,"".concat(Qt," ").concat(null==dt?void 0:dt.error,", ").concat(null==Pt?void 0:Pt.error))}},ae.prototype.reCreateSelectionIds=function(q){q&&q.forEach(function(Qe){var dt=Qe.customVisualObjects[0].selectionId;Qe.customVisualObjects[0].selectionId=dt&&new I.r(dt.dataMap,dt.measures)})},ae.prototype.transformDataViewSource=function(q,Qe,dt){var Pt=this,Qt=this.promiseFactory.defer();return(q?this.createDataView(q):this.promiseFactory.resolve({dataView:null})).then(function(yr){var ur=(0,F.nn)(Pt.lastDataViewTransformApplyOptions={prototype:yr.dataView,objectDescriptors:Pt.plugin.capabilities?Pt.plugin.capabilities.objects:void 0,dataViewMappings:Pt.plugin.capabilities?Pt.plugin.capabilities.dataViewMappings:void 0,dataRoles:Pt.plugin.capabilities?Pt.plugin.capabilities.dataRoles:void 0,drillCapabilities:Pt.plugin.capabilities&&Pt.plugin.capabilities.drilldown,expandCollapseCapabilties:Pt.plugin.capabilities&&Pt.plugin.capabilities.expandCollapse,transforms:Qe,colorAllocatorFactory:(0,d.V)(),bypassConcatenation:dt,visualStyle:Pt.style,keepAllMetadataColumnsCapability:!!Pt.plugin.capabilities&&Pt.plugin.capabilities.keepAllMetadataColumns,featureSwitches:Pt.featureSwitches}).dataViews;Qt.resolve({dataViews:ur})}).catch(function(yr){return Pt.sendError(yr)}),Qt.promise},ae.prototype.createDataView=function(q){var Qe=this;c.fF.assertValue(q,"dataViewSource");var dt=this.promiseFactory.defer();return this.dataProxy.execute({type:q.type,query:{dataSources:null,command:q.data}}).then(function(Qt){var yr=(0,pr.ul)(Qt&&Qt.dataReaderResult?Qt.dataReaderResult.dataView:null,Qe.plugin.capabilities?Qe.plugin.capabilities.dataViewMappings:null);dt.resolve({dataView:yr.dataView})}).catch(function(Qt){return Qe.sendError(Qt)}),dt.promise},ae.prototype.attachWindowResizeListener=function(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")},ae.prototype.detachWindowResizeListener=function(){$(window).off("resize")},ae.prototype.windowResizeListener=function(){if(this.lastVisualUpdateOptions){var q=$(window).height(),Qe=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(Qe-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(q-this.lastVisualUpdateOptions.viewport.height)<=1)){var dt=(0,pe.ED)(this.lastVisualUpdateOptions);dt.viewport={width:Qe,height:q,scale:this.lastVisualUpdateOptions.viewport.scale},dt.type=i.EP.Resize,dt.resizeMode=1,this.visual.update(dt)}}},ae.prototype.attachRelayUIEventListener=function(){$(window).on(Rr.join(" "),this.relayKeyboardEventListener),this.container.on(Tt.join(" "),this.relayUIEventListener)},ae.prototype.detachRelayUIEventListener=function(){$(window).off(Rr.join(" "),this.relayKeyboardEventListener),this.container.off(Tt.join(" "),this.relayUIEventListener)},ae.prototype.attachFormatModeRelayUIEventListener=function(){$(window).on(Ut.join(" "),this.relayKeyboardEventListener)},ae.prototype.detachFormatModeRelayUIEventListener=function(){$(window).off(Ut.join(" "),this.relayKeyboardEventListener)},ae.prototype.handleAttachingEventListeners=function(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())},ae.prototype.isSupportedKeyBoardEvent=function(q){var Qe=this.formatMode?Nt:Ct;return q.key in Qe&&_.every(Qe[q.key],function(Pt){return Pt in q&&q[Pt]})},ae.prototype.handleLoadMoreDataResult=function(q){return(0,a.__awaiter)(this,void 0,void 0,function(){var Qe,dt,Pt,Qt,ir,yr,ur,Er=this;return(0,a.__generator)(this,function(Ar){switch(Ar.label){case 0:return Qe=q.message.arguments[1],this.plugin&&this.plugin.apiVersion&&!(0,t.lt)(this.plugin.apiVersion,"2.0.0")?(Pt=q.message.arguments[2],(dt=q.message.arguments[0])&&this.stringifiedDataView!==dt.stringifiedDataView?(this.stringifiedDataView=dt.stringifiedDataView,Qt=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),ir=[this.dataViewSerializer.deserializeDataView(dt,(0,t.gt)(this.plugin.apiVersion,"3.5.9"),Qt,Pt,(0,t.ge)(this.plugin.apiVersion,"5.3.0"))],this.lastVisualUpdateOptions.type=i.EP.Data,Qe?((0,fe.$n)(this.lastVisualUpdateOptions.dataViews[0],ir[0]),this.lastVisualUpdateOptions.operationKind=i.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(q.packedSize)]):[3,2]):[3,4]):[3,5];case 1:return Ar.sent(),[3,4];case 2:return this.lastVisualUpdateOptions.dataViews[0]=ir[0],this.lastVisualUpdateOptions.operationKind=i.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 3:Ar.sent(),Ar.label=4;case 4:return[3,9];case 5:return c.fF.assert(function(){return Er.lastDataViewTransformApplyOptions&&!!Er.lastDataViewTransformApplyOptions.prototype},"Expected to have previous segment already"),(ur=(yr=q.message.arguments[0])?yr.dataReaderResult.dataView:null)?(this.lastVisualUpdateOptions.type=i.EP.Data,Qe?((0,fe.$n)(this.lastDataViewTransformApplyOptions.prototype,ur),this.lastVisualUpdateOptions.dataViews=(0,F.nn)(this.lastDataViewTransformApplyOptions).dataViews,this.lastVisualUpdateOptions.operationKind=i.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(q.packedSize)]):[3,7]):[3,9];case 6:return Ar.sent(),[3,9];case 7:return this.lastVisualUpdateOptions.dataViews[0]=ur,this.lastVisualUpdateOptions.operationKind=i.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 8:Ar.sent(),Ar.label=9;case 9:return this.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]}),[2]}})})},ae.prototype.aggregateDataViewSizeAndUpdateVisual=function(q){return(0,a.__awaiter)(this,void 0,void 0,function(){return(0,a.__generator)(this,function(Qe){switch(Qe.label){case 0:return this.aggregatedDataViewSize+=q,this.hostServicesControl.enableLoadMoreData(!(this.aggregatedDataViewSize>=104857600)),[4,this.visual.update(this.lastVisualUpdateOptions)];case 1:return Qe.sent(),[2]}})})},ae.prototype.handleGetResourceUrlResult=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise(q.promiseId,q.payload):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.payload)},ae.prototype.handleGetAADAuthenticationTokenResult=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise(q.promiseId,q.payload):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q)},ae.prototype.handleGetAADTokenResult=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise(q.promiseId,q.payload):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.payload)},ae.prototype.handleGetWACTokenResult=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise2(q.promiseId,q.payload?q.payload:""):this.sandboxPromiseHandler.ResolvePromise2(q.promiseId,q.wacToken)},ae.prototype.handleGetStorageStatus=function(q){this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.status)},ae.prototype.handleGetStorageData=function(q){q.data?this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.data):this.sandboxPromiseHandler.RejectPromise(q.promiseId)},ae.prototype.handleSetStorageData=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise(q.promiseId):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.freeSpace)},ae.prototype.handleGetStorageV2Data=function(q){q.isError||!q.data?this.sandboxPromiseHandler.RejectPromise(q.promiseId):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.data)},ae.prototype.handleSetStorageV2Data=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise(q.promiseId):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.resultInfo)},ae.prototype.handleExportVisualsContentStatus=function(q){void 0!==q.status?this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.status):this.sandboxPromiseHandler.RejectPromise(q.promiseId)},ae.prototype.handleExportVisualsContent=function(q){void 0!==q.data?this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.data):this.sandboxPromiseHandler.RejectPromise(q.promiseId)},ae.prototype.handleGetWebAccessStatus=function(q){void 0!==q.status?this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.status):this.sandboxPromiseHandler.RejectPromise(q.promiseId)},ae.prototype.handleModalDialogResult=function(q){q.isError?this.sandboxPromiseHandler.RejectPromise(q.promiseId,q.data):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.data)},ae.prototype.handleAcquireAADTokenResult=function(q){this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.data)},ae.prototype.handleGetAcquireAADTokenStatus=function(q){this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.status)},ae.prototype.handleLicenseResult=function(q){q.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(q.promiseId)},ae.prototype.handleLicenseNotificationResult=function(q){null==q.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(q.promiseId):this.sandboxPromiseHandler.ResolvePromise(q.promiseId,q.licenseNotificationResult)},ae.prototype.onRestoreSelection=function(q){var Qe=this.hostServices.selectionManager;if(Qe)if(q&&q.selection){var dt=q.selection.map(function(Pt){return s.l0.fromSelectorsByColumn((0,Ne.JF)(Pt))});Qe.setSelectionIds(dt),Qe.invokeOnSelectCallback(dt)}else Qe.setSelectionIds([]),Qe.invokeOnSelectCallback([])},ae.prototype.onRestoreCvSelectionIds=function(q,Qe){void 0===Qe&&(Qe=!0);var dt=this.hostServices.selectionManager;if(dt){var Pt=[];q?(Pt=_.map(q,function(Qt){return new I.r(Qt.serializedDataMap,Qt.measures)}),dt.setSelectionIds(Pt)):dt.setSelectionIds([]),Qe&&dt.invokeOnSelectCallback(Pt)}},ae.prototype.fixUpdateOptionsAndUpdateVisual=function(q,Qe,dt,Pt){void 0===Pt&&(Pt=!1),Pt||(q=this.categoriesExists(q)?this.getHostCategoriesValues(dt.categoriesValues,q,dt.isCategoryDate):q,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=Qe.packedSize),this.visual.update(q),this.sendUpdateResult()},(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],ae.prototype,"init",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"destroy",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"update",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"updateWithCachedData",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"loadWithoutResourcePackage",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],ae.prototype,"enumerateObjectInstances",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",Array)],ae.prototype,"enumerateObjectRepetition",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",Object)],ae.prototype,"getFormattingModel",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Array]),(0,a.__metadata)("design:returntype",Object)],ae.prototype,"getSubSelectionStyles",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Array,String]),(0,a.__metadata)("design:returntype",Array)],ae.prototype,"getSubSelectionShortcuts",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",Array)],ae.prototype,"getSubSelectables",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"focusVisualIframeWindow",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Promise)],ae.prototype,"handleLoadMoreDataResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetResourceUrlResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetAADAuthenticationTokenResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetAADTokenResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetWACTokenResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetStorageStatus",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetStorageData",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleSetStorageData",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetStorageV2Data",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleSetStorageV2Data",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleExportVisualsContentStatus",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleExportVisualsContent",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetWebAccessStatus",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleModalDialogResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleAcquireAADTokenResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleGetAcquireAADTokenStatus",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleLicenseResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"handleLicenseNotificationResult",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"onRestoreSelection",null),(0,a.__decorate)([(0,p.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Array,Object]),(0,a.__metadata)("design:returntype",void 0)],ae.prototype,"onRestoreCvSelectionIds",null),ae}(),nr=!1;!function(){if(!nr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var ae=kt;window.powerbi.visualSandbox.createSandboxHost=function(q,Qe){return void 0===Qe&&(Qe=!1),ae(q,Qe)},nr=!0}}();var Dt=!1;(function(){if(!Dt){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var ae=Lt;window.powerbi.visualSandbox.onSecurityPolicyViolation=function(q){return ae(q)},Dt=!0}})(),se();var nt=function(){function ae(q){this.isolate=!0,this.promiseFactory=q.promiseFactory,this.plugin=q.plugin,this.tooltipService=q.visualHostTooltip}return ae.prototype.init=function(q){var Qe=q.host.tooltips();Qe&&(this.tooltipService=Qe),this.cvContainer=q.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(ae,q,Qe){return new n(ae,q,Qe)}(q.host,this.cvContainer,this.tooltipService),this.visual.init({animation:q.animation,element:this.cvContainer,host:this.hostServices,interactivity:q.interactivity,style:q.style,viewport:q.viewport,localizationResources:this.plugin.localizationResources})},ae.prototype.update=function(q){return this.visual.update({dataViews:q.dataViews,suppressAnimations:q.suppressAnimations,viewMode:q.viewMode,editMode:q.editMode,viewport:q.viewport,type:q.type,operationKind:i.su.Create,resizeMode:q.resizeMode,isInFocus:q.isInFocus,jsonFilters:q.jsonFilters?q.jsonFilters:null})},ae.prototype.enumerateObjectInstancesAsync=function(q){var Qe=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var dt=this.visual.enumerateObjectInstances(q);return dt&&dt.instances&&Qe.resolve({instances:dt.instances,containers:dt.containers}),Qe.resolve(dt),Qe.promise}},ae.prototype.enumerateObjectRepetitionAsync=function(){var q=this.promiseFactory.defer(),Qe=this.visual.enumerateObjectRepetition();return q.resolve(Qe),q.promise},ae.prototype.getFormattingModelAsync=function(){if(this.visual.getFormattingModel){var q=this.promiseFactory.defer();return q.resolve(this.visual.getFormattingModel()),q.promise}},ae.prototype.onRestoreSelection=function(q){var Qe=this.hostServices.selectionManager;if(Qe){if(q&&q.selection){var dt=q.selection.map(function(Pt){return s.l0.fromSelectorsByColumn(Pt)});Qe.setSelectionIds(dt),Qe.invokeOnSelectCallback(dt)}return!0}},ae.prototype.onClearSelection=function(){var q=this.hostServices.selectionManager;q&&(q.setSelectionIds([]),q.invokeOnSelectCallback([]))},ae.prototype.loadWithoutResourcePackage=function(q){var dt=q.apiVersion?this.isolate&&(0,t.lt)(q.apiVersion,"3.0.0"):this.isolate;this.plugin=er(q,!0,dt),this.createAdapter()},ae.prototype.visualHasMethod=function(q){return _.isFunction(this[q])},ae.prototype.destroy=function(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()},ae.prototype.createAdapter=function(){c.fF.assertValue(this.plugin,"Visual does not have a plugin");var q=this.plugin;this.visual=(0,p.nm)(q,q.create,this.promiseFactory,null),c.fF.assertValue(this.visual,"Unable to create visual from plugin ")},ae.prototype.hideTooltip=function(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})},ae}()},400060:function(ze,K,r){r.d(K,{W:function(){return u}});for(var t=r(690016),c=r(787941),i=r(693825),s=r(823344),p=r(37743),V=r(505590),m=r(477898),v=r(415859),e=r(144900),h=r(327011),n=function(){function f(g,S,y){var C=this;this.proxy=g,this.plugin=S,this.telemetryService=y,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new e.B,this.proxy.setPluginReadyHandler(function(){C.isPluginReady=!0,C.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new e.B,e.J.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(function(){C.postUpdateMessage()})}return f.prototype.update=function(g){var S;if(this.firstUpdateMessageSent)return this.proxy.update(g);if(this.updateMessage){this.updateMessage.type|=g.type,(null===(S=g.dataViews)||void 0===S?void 0:S.length)>0&&(this.updateMessage.dataViews=g.dataViews);var y=g,C=_.clone(this.updateMessage);for(var E in y)"type"!==E&&"dataViews"!==E&&void 0!==y[E]&&(C[E]=y[E]);this.updateMessage=C}else this.updateMessage=g,this.updateMessageSentDeferred=new e.B;return(0,V.dy)(g,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise},f.prototype.postUpdateMessage=function(){var g=this;this.updateMessage&&this.proxy.update(this.updateMessage).then(function(){g.updateMessage=void 0,g.firstUpdateMessageSent=!0,g.updateMessageSentDeferred.resolve()}).catch(function(S){g.updateMessage=void 0,g.firstUpdateMessageSent=!0,g.updateMessageSentDeferred.reject(S)})},f.prototype.destroy=function(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(h.Tk,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0},f}(),u=function(){function f(g){var S;this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=g.plugin.name,this.proxy=g.proxy,this.featureSwitchService=g.featureSwitchService,this.visualSandboxUri=g.visualSandboxUri,this.frontEndUrl=g.frontEndUrl?g.frontEndUrl:"'self'",this.hostEnv=g.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null;var y=_.map(g.sandboxProperties,function(M){return(0,m.cg)(M)}).join(" "),C="";g.plugin.capabilities&&g.plugin.capabilities.supportsKeyboardFocus&&(C=" tabindex=0"),this.iframeHtml='<iframe style="border:none;" class="visual-sandbox empty-sandbox-visual" sandbox="'.concat(y,'" name="visual-sandbox"').concat(C,' aria-label="').concat(g.localizationService.get("CustomVisualIframeAriaLabel"),'"></iframe>'),this.plugin=g.plugin,this.telemetryService=g.telemetryService,this.certifiedEventsService=g.certifiedEventsService,this.localizationService=g.localizationService,this.privilegeService=g.privilegeService;var E={urlLauncher:g.urlLauncher,visualHostTooltip:g.visualHostTooltip,hostEnv:g.hostEnv,dataMultiSelectMode:g.dataMultiSelectMode,sandboxPropertiesString:y,allowModalDialog:_.isFunction(g.openIFrameDialog),dialogSandboxUri:g.dialogSandboxUri,openIFrameDialog:g.openIFrameDialog,getEmbedHostType:g.getEmbedHostType},D=new V._E(this.proxy,g.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,g.approvedResourcesService,g.visualsLicenseService,g.visualDownloadService,g.visualLocalStorageV2ProxyService,g.privilegeService,g.customVisualsTokenManagerService,E,g.instanceId);this.proxy.init(D,g.plugin);var P=window.powerbi.visuals.plugins[this.pluginName];c.fF.assertValue(P.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[P]),null!==(S=this.plugin.capabilities)&&void 0!==S&&S.privileges&&this.telemetryService.logEvent(h.Cr,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}return Object.defineProperty(f.prototype,"sandbox",{get:function(){return!0},enumerable:!1,configurable:!0}),f.prototype.init=function(g){var y,S=this;this.element=g.element,this.tooltipService=g.host.tooltips();var C=null!==(y=this.plugin.apiVersion)&&void 0!==y?y:"2.0.0";g.featureSwitches&&(!this.updateMessagesProcessor&&g.featureSwitches.cvAggregateUpdateMessages&&(0,i.ge)(C,"4.2.0")&&(this.updateMessagesProcessor=new n(this.proxy,this.plugin,this.telemetryService)),g.featureSwitches=this.filterFeatureSwitches(g.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(function(){S.initializeContainerTimerId=void 0,S.element&&S.initContainer(g.viewport)},0),this.proxy.invoke("init",[g])},f.prototype.update=function(g){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(g):this.proxy.update(g)},f.prototype.enumerateObjectInstancesAsync=function(g){return this.proxy.invoke("enumerateObjectInstancesAsync",[g])},f.prototype.getFormattingModelAsync=function(){return this.proxy.invoke("getFormattingModelAsync",[])},f.prototype.getSubSelectionStylesAsync=function(g){return this.proxy.invoke("getSubSelectionStylesAsync",[g])},f.prototype.getSubSelectionShortcutsAsync=function(g,S){return this.proxy.invoke("getSubSelectionShortcutsAsync",[g,S])},f.prototype.getSubSelectablesAsync=function(g){return this.proxy.invoke("getSubSelectablesAsync",[g])},f.prototype.enumerateObjectRepetitionAsync=function(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])},f.prototype.onRestoreSelection=function(g){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[g]);var S=g.selection.map(function(y){return(0,v.U9)(y)});return this.proxy.invoke("onRestoreSelection",[{selection:S}])},f.prototype.visualHasMethod=function(g){return _.isFunction(this[g])},f.prototype.destroy=function(){var g,S;void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),null===(g=this.accessibilityUpperIndicator)||void 0===g||g.remove(),null===(S=this.accessibilityLowerIndicator)||void 0===S||S.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])},f.prototype.hideTooltip=function(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})},f.prototype.initContainer=function(g){var S,y="customVisual:".concat(this.pluginName,":initContainer");this.marker=(0,t.BL)(y);var C=g.width,E=g.height,D=this.getCSP();this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(C,E,D):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,C,E,D)),null!==(S=this.plugin.capabilities)&&void 0!==S&&S.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)},f.prototype.createCspIframe=function(g,S,y){var C=this,D="<html><head>".concat("<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'\">",'</head><body style="margin:0;overflow:hidden;">').concat(this.iframeHtml,"</body></html>"),P=$(document.createElement("iframe"));return P.attr({class:"visual-sandbox",width:g,height:S,srcdoc:D,csp:y}),P.one("load",function(){var R=$(P[0].contentWindow.document.querySelectorAll(".visual-sandbox"));C.initSandboxIframe(R,g,S,y)}),P},f.prototype.getCSP=function(){var g=null,S=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==S&&!this.isAsterisk(S)){var y=S.join(" ");g="default-src ".concat(this.frontEndUrl," ").concat("data: blob: 'unsafe-inline' 'unsafe-eval'"," ").concat(y,";")}return g},f.prototype.isAsterisk=function(g){return 1===g.length&&"*"===g[0]},f.prototype.initSandboxIframe=function(g,S,y,C){var E=this,D=this.generateIFrameUrl();g.attr({width:S,height:y,src:D,csp:C}),g.one("load",function(){return E.onIFrameLoad(g)}),g.on("mouseout",function(){return E.hideTooltip()})},f.prototype.initAccessibilityIndicators=function(){var g=this,S={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(S),this.accessibilityLowerIndicator.css(S),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0"),this.accessibilityUpperIndicator.on("focus",function(y){return g.handleIndicatorFocus(y)}),this.accessibilityLowerIndicator.on("focus",function(y){return g.handleIndicatorFocus(y)})},f.prototype.handleIndicatorFocus=function(g){g.preventDefault(),this.proxy.postMessage("focusVisualIframeWindow",[])},f.prototype.initWithAccessibilityIndicators=function(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)},f.prototype.onIFrameLoad=function(g){this.proxy.ready(g[0].contentWindow),this.marker()},f.prototype.generateIFrameUrl=function(){var g=this;c.fF.assert(function(){return!!g.localizationService.currentLanguageLocale},"current language locale is not valid");var S=p.s.clearAllQueriesFromUrl(this.visualSandboxUri),y={locale:(0,s.Kd)(this.localizationService.currentLanguageLocale)};4===this.hostEnv&&(y.plugin=this.pluginName),p.s.getQueryStringValue("unmin")&&(y.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(y.cspiframe="1");var C=this.featureSwitchService.featureSwitches.emCVBundle;y.emCVBundle=C?"1":"0",C&&!this.featureSwitchService.featureSwitches.emCVDisableGlobals&&(y.pbiglobals="1");var E=this.getCSP();return E&&(y.csp=btoa(E)),S+p.s.rebuildQueryString(y)},f.prototype.filterFeatureSwitches=function(g,S){var y={};return g&&S&&(y=_.reduce(Object.keys(g),function(C,E){return S.indexOf(E)>-1&&(C[E]=g[E]),C},{})),y},f.prototype.supportCustomVisualSelectionId=function(){var g;return(null===(g=this.proxy.plugin)||void 0===g?void 0:g.apiVersion)&&(0,i.ge)(this.proxy.plugin.apiVersion,"2.0.0")},f}(),l=0,d=["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"];l<d.length;l++)!function(f){u.prototype[f]||(u.prototype[f]=function(){return this.proxy.invoke(f,_.toArray(arguments))})}(d[l])},505590:function(ze,K,r){r.d(K,{x_:function(){return Le},v2:function(){return Ve},oc:function(){return at},_E:function(){return ht},dy:function(){return ft}});var i,t=r(226514),c=r(415859);function s(Ge,Re){if(Re)return Ge.convertCVSelectionIdToPowerbiSelctionId(Re).getSelectorsByColumn()}function p(Ge,Re){return Re&&0!==Re.length&&Re[0].objectName?_.map(Re,function(Xe){return{objectName:Xe.objectName,selectorsByColumn:s(Ge,Xe.selectionId)}}):[{objectName:"visual-area",selectorsByColumn:{}}]}function V(Ge,Re){if(Re){var Xe=[];return Re.forEach(function(Me){(function(Ge){if(!Ge||!Ge.selectionOrigin||Ge.selectionOrigin.x<0||Ge.selectionOrigin.y<0)return!1;var Re=Ge.customVisualObjects;return!(!Re||Re.some(function(Xe){return!Xe}))})(Me)&&Xe.push({visualObjects:p(Ge,Me.customVisualObjects),displayName:Me.displayName,subSelectionType:Me.subSelectionType,selectionOrigin:{x:Me.selectionOrigin.x,y:Me.selectionOrigin.y},showUI:Me.showUI,immediateDirectEdit:Me.immediateDirectEdit,metadata:Me.metadata,target:Me.target})}),Xe}}function n(Ge,Re){Re.destinationInfo&&d(Ge,Re.destinationInfo)}function u(Ge,Re){l(Ge,Re.relatedToggledFormattingIds),d(Ge,Re)}function l(Ge,Re){null==Re||Re.forEach(function(Xe){d(Ge,Xe)})}function d(Ge,Re){null!=Re&&Re.selector&&(Re.selector=function(Ge,Re){return Ge.deserializeOpaqueIdentity(Re),(0,c.L1)(Re)}(Ge,Re.selector))}var g=((i={})[4]=function(Ge,Re){return!!(P(Ge.center,Re)&&null!=Ge.innerRadius&&null!=Ge.outerRadius)&&(Ge.innerRadius=Ge.innerRadius*Re.scale,Ge.outerRadius=Ge.outerRadius*Re.scale,!T(Ge)||y(Ge.clipPath,Re))},i[0]=void 0,i[2]=E,i[3]=E,i[1]=function(Ge,Re){if(null!=Ge.x&&null!=Ge.y&&null!=Ge.width&&null!=Ge.height){var Mt=Re.fixCoordinates([Ge.x,Ge.y]);Ge.x=Mt[0],Ge.y=Mt[1],Ge.width=Ge.width*Re.scale,Ge.height=Ge.height*Re.scale;var It=Ge,Bt=It.cVDirectEdit;return Bt&&(It.directEdit=function(){return Bt},delete It.cVDirectEdit),!It.clipPath||y(It.clipPath,Re)}return!1},i);function y(Ge,Re){for(var Xe=[Ge],Me=Re.loopLimit,He=!1,ct=0;Xe.length&&ct<Me;){var Mt=Xe.pop();if(He=!1,ct++,Mt){if(M(Mt)){Mt.outlines.forEach(function(Bt){return Xe.push(Bt)});continue}He=(0,g[Mt.type])(Mt,Re)}if(!He)return!1}return He&&ct<Me}function E(Ge,Re){for(var Xe=0,Me=Ge.points;Xe<Me.length;Xe++)if(!P(Me[Xe],Re))return!1;return!T(Ge)||y(Ge.clipPath,Re)}function P(Ge,Re){if(null!=Ge.x&&null!=Ge.y){var Xe=Re.fixCoordinates([Ge.x,Ge.y]);return Ge.x=Xe[0],Ge.y=Xe[1],!0}return!1}function M(Ge){return Ge&&0===Ge.type}function T(Ge){return!!Ge.clipPath}var R=r(596122),B=r(287027),N=r(472727);function x(Ge,Re){return(0,t.__assign)((0,t.__assign)({},Ge),{hierarchyData:Ge.hierarchyData.map(function(Me){return A(Me,Re)})})}function A(Ge,Re){var Xe,Me={identity:Re.getCustomVisualOpaqueIdentityByDataViewScopeIdentity(Ge.identity),operator:Ge.operator};return!(null===(Xe=Ge.children)||void 0===Xe)&&Xe.length&&(Me.children=Ge.children.map(function(He){return A(He,Re)})),Me}function I(Ge,Re){return(0,t.__assign)((0,t.__assign)({},Ge),{hierarchyData:Ge.hierarchyData.map(function(Me){return w(Me,Re)})})}function w(Ge,Re){var Xe;if(!(0,N.Ye)(Ge.identity))throw new Error("invalid CustomVisualOpaqueIdentity");var Me={identity:Re.getDataViewScopeIdentityByCustomVisualOpaqueIdentity(Ge.identity),value:Re.getDataViewValueByCustomVisualOpaqueIdentity(Ge.identity),operator:Ge.operator};return!(null===(Xe=Ge.children)||void 0===Xe)&&Xe.length&&(Me.children=Ge.children.map(function(He){return w(He,Re)})),Me}var F=r(195393),O=r(661885),L=r(951467),W=r(818204),U=r(336667),j=r(477898),z=r(795120),G=r(967908),te=r(95788),Q=r(787941),H=r(880921);function Y(Ge,Re){var Xe;if(function(Ge){var Re,Xe,Me;return null!=(null===(Me=null===(Xe=null===(Re=null==Ge?void 0:Ge.control)||void 0===Re?void 0:Re.properties)||void 0===Xe?void 0:Xe.descriptor)||void 0===Me?void 0:Me.objectName)}(Ge)){var Me=Ge.control.properties;Me.descriptor=se(Re,Me.descriptor)}else{var He=null===(Xe=null==Ge?void 0:Ge.control)||void 0===Xe?void 0:Xe.properties;Object.keys(He).forEach(function(ct){var Mt=He[ct];Mt.descriptor=se(Re,Mt.descriptor)})}}function se(Ge,Re){return Ge.deserializeOpaqueIdentity(null==Re?void 0:Re.altConstantValueSelector),Ge.deserializeOpaqueIdentity(null==Re?void 0:Re.selector),function(Ge){return(0,t.__assign)((0,t.__assign)({},Ge),{selector:(0,c.L1)(Ge.selector),altConstantValueSelector:(0,c.L1)(Ge.altConstantValueSelector)})}(Re)}var et,tt,xe,ve=r(693825),De=r(145315),We=r(169849),je=r(886442),Ae=r(668268),_e=r(698129),le=r(376461),me=102400,oe=(0,le.T5)("LVSTORAGE:","1",me,43200),Se=new(function(){function Ge(){}return Ge.prototype.loadDictionary=function(Re,Xe,Me){void 0===Me&&(Me=!1);var He=this.getStorageKey(Re,Xe,Me),ct=oe.getData(He);return ct||(ct={}),ct},Ge.prototype.saveDictionary=function(Re,Xe,Me,He){void 0===He&&(He=!1);var ct=this.getStorageKey(Re,Xe,He);oe.setData(ct,_(Me).isEmpty()?void 0:Me)},Ge.prototype.getStorageKey=function(Re,Xe,Me){return Me?Xe:btoa((null!=Re?Re:"NA")+"|"+Xe)},Ge.prototype.getData=function(Re,Xe,Me){var He=null;try{var ct=this.loadDictionary(Re,Xe);He=atob(ct[btoa(Me)])}catch(Mt){He=this.getAndRemoveLegacyData(Re,Xe,Me)}return He},Ge.prototype.setData=function(Re,Xe,Me,He){try{var Mt=this.loadDictionary(Re,Xe);Mt[btoa(Me)]=btoa(He);var It=JSON.stringify(Mt).length;return It<=me&&this.saveDictionary(Re,Xe,Mt),me-It}catch(Bt){}return 0},Ge.prototype.remove=function(Re,Xe,Me){try{var He=this.loadDictionary(Re,Xe);He[btoa(Me)]=void 0,this.saveDictionary(Re,Xe,He)}catch(ct){}},Ge.prototype.getAndRemoveLegacyData=function(Re,Xe,Me){var He=this.loadDictionary("",Xe,!0),ct=He[Me];return void 0!==ct&&(He[Me]=void 0,this.saveDictionary("",Xe,He,!0),this.setData(Re,Xe,Me,ct)),ct},Ge}()),Be=r(26526),Ke=r(474505),Ze=r(327011),J=function(){function Ge(Re,Xe,Me,He){var ct=this;this.messageProxy=Re,this.telemetryService=Xe,this.plugin=Me,this.instanceId=He,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,Q.fF.assertValue(Re,"messageProxy"),setTimeout(function(){ct._minDisplayDurationReached=!0},2e3),this.messageProxy.on(O.et,function(Mt){return ct.onMessageReceived(Mt)}),this.messageProxy.on(O.zM,function(Mt){return ct.onMessageError(Mt)})}return Object.defineProperty(Ge.prototype,"dialog",{set:function(Xe){this._dialog=Xe},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"iframe",{set:function(Xe){this._iframe=Xe},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"modalDialogState",{get:function(){return this._modalDialogState},enumerable:!1,configurable:!0}),Ge.prototype.postMessage=function(Re,Xe){this.messageProxy.postMessage({eventName:Re,arguments:Xe})},Ge.prototype.postMessageAsync=function(Re,Xe){return this.messageProxy.postMessageAsync({eventName:Re,arguments:Xe})},Ge.prototype.destroy=function(){this.messageProxy.off(O.et),this.messageProxy.off(O.zM),this.messageProxy.destroy(),this._dialog=null,this._iframe=null},Ge.prototype.onMessageReceived=function(Re){this.validateMessageSource(Re)&&(_.isFunction(this[Re.message.eventName])?this[Re.message.eventName].apply(this,Re.message.arguments):this.telemetryService.logEvent(Ze.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))},Ge.prototype.onMessageError=function(Re){this.validateMessageSource(Re)&&Re.message&&Re.message.error&&this.telemetryService.logEvent(Ze.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:Re.message.error})},Ge.prototype.onDialogSetState=function(Re){this._modalDialogState=Re},Ge.prototype.onDialogClose=function(Re,Xe){Xe&&(this._modalDialogState=Xe),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(Re)},Ge.prototype.onDialogResize=function(Re,Xe){if(this._dialog){var Me=_.clamp(Re,200,Math.ceil(.9*window.innerWidth))+2,He=_.clamp(Xe,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(Me,He)}},Ge.prototype.validateMessageSource=function(Re){return Q.fF.assertValue(Re,"message"),!(!Re.source||!this._iframe||this._iframe.contentWindow!==Re.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],Re.message.eventName))},Ge}(),re=r(144900),Ie=r(690016),ot=["txt","csv","json","tmplt","xml","pdf","xlsx"],he=31457280,Te=function(){function Ge(Re,Xe,Me,He){this.visualDownloadService=Re,this.telemetryService=Xe,this.plugin=Me,this.instanceId=He}return Ge.prototype.exportVisualsContent=function(Re,Xe,Me,He,ct){var Mt=this,It=Xe.split(".").pop();Me=Me.toLowerCase();var Bt=this.getBlobSize(Re,Me);return this.validateContentSource(Re,Xe,Me,He,Bt)?this.visualDownloadService.exportVisualsContent(Re,Xe,Me,He,this.plugin.name,Bt).then(function(jt){return Mt.telemetryService.logEvent(Ze.kd,{isFileSaved:jt,contentSize:Bt,visualType:Mt.plugin.name,instanceId:Mt.instanceId,extension:It}),{promiseId:ct,data:{downloadCompleted:jt,fileName:jt?Xe:void 0}}},function(){return{promiseId:ct,data:{downloadCompleted:!1}}}):this.handleInvalidRequest(Bt,It,ct)},Ge.prototype.validateContentSource=function(Re,Xe,Me,He,ct){var Mt=Xe.split(".").pop().toLowerCase(),It=ot.filter(function(jt){return Mt===jt}).length>0,Bt=null===Xe.match(/[:/\\]/);return!(!Re||!Me||!He||!Bt||!It||ct>he)},Ge.prototype.getBlobSize=function(Re,Xe){if(!Re)return 0;if(Re.length>he)return he+1;var He=new Blob([Re],{type:Ie.nH});return He?"base64"===Xe?3*He.size/4:He.size:0},Ge.prototype.handleInvalidRequest=function(Re,Xe,Me){return this.telemetryService.logEvent(Ze.Tc,{contentSize:Re,visualType:this.plugin.name,instanceId:this.instanceId,extension:Xe}),re.J.resolve({promiseId:Me,data:{downloadCompleted:!1}})},Ge}(),Oe=r(175491),Je=function(Ge){return Ge[Ge.AlreadyOpen=1]="AlreadyOpen",Ge[Ge.NotAllowed=2]="NotAllowed",Ge[Ge.BlockedByUser=3]="BlockedByUser",Ge}({}),fe=r(687705),ne=r(885855),Ne=r(587318),Ve=((et={})[0]="icon",et[1]="unsupported environment blocker",et[2]="blocker",et),Le=((tt={})[1]="Web",tt[2]="PublishToWeb",tt[4]="Desktop",tt[8]="Embed",tt[16]="ReportServer",tt[32]="ExportReportHost",tt[64]="Mobile",tt[128]="DashboardHost",tt[256]="Unknown",tt),at=((xe={})[0]="Allowed",xe[3]="DisabledByAdmin",xe[2]="NotSupported",xe[1]="NotDeclared",xe);function ft(Ge,Re){if(Ge.visualHasData&&(!Ge.dataViews||0===Ge.dataViews.length))return!0;var Xe=Re.capabilities;return Ge.visualRequiresData&&Ge.dataViews&&0===Ge.dataViews.length&&!(Xe&&Xe.supportsLandingPage&&(Xe&&Xe.supportsEmptyDataView||1===Ge.viewMode))}var ht=function(){function Ge(Re,Xe,Me,He,ct,Mt,It,Bt,jt,Kt,Yt,Zt,or){this.proxy=Re,this.promiseFactory=Xe,this.telemetryService=Me,this.certifiedEventsService=He,this.featureSwitchService=ct,this.approvedResourcesService=Mt,this.licenseService=It,this.visualDownloadService=Bt,this.visualLocalStorageV2ProxyService=jt,this.privilegeService=Kt,this.customVisualsTokenManagerService=Yt,this.visualSandboxOptions=Zt,this.instanceId=or,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new W.n,this.visualSelections=[],this.asyncSerializer=new B.W}return Object.defineProperty(Ge.prototype,"sandbox",{get:function(){return!0},enumerable:!1,configurable:!0}),Ge.prototype.init=function(Re){var Xe,Me,He;this.visualHostServices=Re.host,this.visualAdapterHostServices=Re.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=Re.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=Re.element,this.resize(Re.viewport),this.visualStyle=Re.style;var ct=null===(Xe=this.visualSandboxOptions)||void 0===Xe?void 0:Xe.hostEnv;this.isExportVisualsContentSupported=!!ct&&!!(5&ct)&&!(null===(Me=Re.interactivity)||void 0===Me||!Me.isVisualInteractive),Re.interactivity=Re.interactivity||{},Re.interactivity.allowModalDialog=(null===(He=this.visualSandboxOptions)||void 0===He?void 0:He.allowModalDialog)&&Re.interactivity.isVisualInteractive,this.initOptions=Re;var Mt={animation:Re.animation,interactivity:Re.interactivity,viewport:Re.viewport,style:(0,Oe._8)(Re.style),featureSwitches:Re.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[Mt])},Ge.prototype.getHostEnvString=function(){var Re;return null!==(Re=this.visualSandboxOptions)&&void 0!==Re&&Re.hostEnv?Le[this.visualSandboxOptions.hostEnv]:"Undefined"},Ge.prototype.update=function(Re){var Xe=this;this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(Re));var Me=this.promiseFactory.defer(),He=function(Mt,It){return Xe.proxy.postMessageAsync(Mt,It)};return ft(Re,this.proxy.plugin)?(Re.updateCallBack&&Re.updateCallBack(),Me.resolve(null),Me.promise):this.asyncSerializer.enqueue(function(){return Xe.updateCore(Re,He)})},Ge.prototype.updateCore=function(Re,Xe){var Me,He,ct;return(0,t.__awaiter)(this,void 0,void 0,function(){var Mt,It,Bt,jt,Kt,Yt,Zt,or,_r,Pr,mt,Xt,dr=this;return(0,t.__generator)(this,function(ar){switch(ar.label){case 0:if(jt=[],this.formatMode=Re.formatMode,(Re.type&De.EP.All)!==De.EP.All&&(Re.type&De.EP.Resize)===De.EP.Resize&&2!==Re.resizeMode)return[3,11];if(Kt=this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,Re.dataViews&&Re.dataViews[0]&&(0,j.fA)(null===(Me=this.proxy)||void 0===Me?void 0:Me.plugin)){Q.fF.assert(function(){return Re.dataViews.length<=1},"Custom Visuals should only use one dataView");try{null!==(ct=null===(He=null==Re?void 0:Re.dataViews[0])||void 0===He?void 0:He.metadata)&&void 0!==ct&&ct.columns&&(Re.dataViews[0].metadata.columns=_.filter(Re.dataViews[0].metadata.columns,function(gr){return gr.roles||""!==gr.displayName}))}catch(gr){Q.fF.assertFail("failed to filter columns: "+gr)}this.shouldUpdateWithCachedData(Re)?Bt=this.dataViewSerializer.serializeDataViewMetadata(Re.dataViews[0]):It=this.dataViewSerializer.serializeDataViewForCv(Re.dataViews[0],this.proxy.plugin.capabilities,!1,(0,ve.gt)(Kt,"3.5.9"),[],(0,ve.ge)(Kt,"5.3.0"),(0,ve.ge)(Kt,"5.9.0")),jt=this.RestoreCvSelectionIds(this.visualSelections)}if(Zt=[],or=void 0,(Yt=!!(Re.dataViews&&Re.dataViews.length>0&&Re.dataViews[0].categorical&&Re.dataViews[0].categorical.categories&&Re.dataViews[0].categorical.categories.length>0&&Re.dataViews[0].categorical.categories[0]&&Re.dataViews[0].categorical.categories[0].values))&&(Zt=Re.dataViews[0].categorical.categories[0].values,Re.dataViews[0].categorical.categories[0].source&&Re.dataViews[0].categorical.categories[0].source.type&&(or=Re.dataViews[0].categorical.categories[0].source.type.dateTime)),Pr=void 0,!(mt=(_r=Re&&Re.dataTransforms&&Re.dataTransforms.objects)&&(0,Ae.NA)(_r,j.Ro,null)))return[3,5];ar.label=1;case 1:return ar.trys.push([1,3,,4]),[4,this.getJSONFilter(mt)];case 2:return Pr=ar.sent(),[3,4];case 3:return ar.sent(),Pr=[],[3,4];case 4:return[3,6];case 5:Pr=[],ar.label=6;case 6:return this.dataTransforms=Re.dataTransforms,Xt={dataViewSource:Re.visualDefinitionData?Re.visualDefinitionData.dataViewSource:null,dataTransforms:te.F.serializeDataViewTransformActions(Re.dataTransforms,this.proxy.plugin.capabilities.objects||{}),suppressAnimations:Re.suppressAnimations,viewMode:Re.viewMode,editMode:Re.editMode,viewport:Re.viewport,type:Re.type,resizeMode:Re.resizeMode,isInFocus:Re.isInFocus,categoriesValues:Yt?Zt:null,isCategoryDate:or,serializedDataView:It,jsonFilters:Pr,dataViewMetadata:Bt,selections:jt,updateId:Re.updateId,formatMode:Re.formatMode,subSelections:this.convertToCustomVisualSubSelections(Re.subSelections)},this.shouldUpdateWithCachedData(Re)?(this.lastDataViewSource=Xt.dataViewSource,Xt.dataViewSource=null,[4,Xe("updateWithCachedData",[Xt])]):[3,8];case 7:return Mt=ar.sent(),[3,10];case 8:return this.lastDataViewSource=Xt.dataViewSource,[4,Xe("update",[Xt])];case 9:Mt=ar.sent(),ar.label=10;case 10:return[3,12];case 11:Re.updateCallBack&&Re.updateCallBack(),ar.label=12;case 12:return window.setTimeout(function(){return dr.resize(Re.viewport)}),[2,Mt]}})})},Ge.prototype.getJSONFilter=function(Re){return(0,t.__awaiter)(this,void 0,void 0,function(){var Xe,Me=this;return(0,t.__generator)(this,function(He){switch(He.label){case 0:return[4,this.visualHostServices.getJSONFilter(Re,this.dataViewSerializer.identitiesArray)];case 1:return Xe=He.sent(),[2,_.map(Xe,function(ct){return Me.processGetJsonFilter(ct)})]}})})},Ge.prototype.processGetJsonFilter=function(Re){return Re.filterType===We.FilterType.HierarchyIdentity?this.processGetHierarchyIdentityJsonFilter(Re):Re},Ge.prototype.processGetHierarchyIdentityJsonFilter=function(Re){return x(Re,this.dataViewSerializer)},Ge.prototype.logCapabilitiesTelemetry=function(Re){var Xe,Me,He,ct,Mt,It,Bt,jt,Kt,Yt,Zt,or,_r,Pr,mt,Rt,hr,Rr,Xt=this.proxy.plugin,dr=null==Xt?void 0:Xt.capabilities,ar=null===(He=null===(Me=null===(Xe=null==Re?void 0:Re.dataViews)||void 0===Xe?void 0:Xe[0])||void 0===Me?void 0:Me.metadata)||void 0===He?void 0:He.objects,gr={sorting:{implicit:!(null===(ct=null==dr?void 0:dr.sorting)||void 0===ct||!ct.implicit),default:!(null===(Mt=null==dr?void 0:dr.sorting)||void 0===Mt||!Mt.default),custom:!(null===(It=null==dr?void 0:dr.sorting)||void 0===It||!It.custom)},expandCollapse:Ir(ar,null===(Bt=null==dr?void 0:dr.expandCollapse)||void 0===Bt?void 0:Bt.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:Ir(ar,null===(Kt=null===(jt=null==dr?void 0:dr.subtotals)||void 0===jt?void 0:jt.matrix)||void 0===Kt?void 0:Kt.rowSubtotalsType,"Top"),Bottom:Ir(ar,null===(Zt=null===(Yt=null==dr?void 0:dr.subtotals)||void 0===Yt?void 0:Yt.matrix)||void 0===Zt?void 0:Zt.rowSubtotalsType,"Bottom")}}},Cr=function Or(Ur){for(var hr,Rr=[],Tt=new Map(Object.entries(Ur)),Ut=0,Et=Object.keys(Ur);Ut<Et.length;Ut++){var Ct=Et[Ut],Nt=Tt.get(Ct);if("boolean"==typeof Nt)Nt&&Rr.push(Ct);else{var st=Or(Nt);st.length&&Rr.push(((hr={})[Ct]=st,hr))}}return Rr}(gr);if(Cr.length){this.telemetryService.logEvent(Ze.s$,{visualType:Xt.name,existingCapabilities:JSON.stringify({apiVersion:Xt.apiVersion,visualVersion:Xt.version,existingTrackedCapabilities:Cr})});var Br={apiMajorVersion:Xt.apiVersion&&(null===(or=(0,ve.OA)(Xt.apiVersion))||void 0===or?void 0:or.major),apiMinorVersion:Xt.apiVersion&&(null===(_r=(0,ve.OA)(Xt.apiVersion))||void 0===_r?void 0:_r.minor),visualMajorVersion:Xt.version&&(null===(Pr=(0,ve.OA)(Xt.version))||void 0===Pr?void 0:Pr.major),visualMinorVersion:Xt.version&&(null===(mt=(0,ve.OA)(Xt.version))||void 0===mt?void 0:mt.minor)};hr=Br,function zr(Ur,hr,Rr){void 0===Rr&&(Rr="");for(var Tt=new Map(Object.entries(Ur)),Ut=0,Et=Object.keys(Ur);Ut<Et.length;Ut++){var Ct=Et[Ut],Nt=Tt.get(Ct),st=""!==Rr?Rr+"."+Ct:Ct;"boolean"==typeof Nt?Nt&&hr.push(st):zr(Nt,hr,st)}}(gr,Rr=[]),Rr.forEach(function(Tt){var Ut=Tt.split("."),Et=Ut[0],Ct=1===Ut.length?Ut[0]:Ut.slice(1).join(".");hr[Et]=hr[Et]?hr[Et]+", "+Ct:Ct}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:(0,t.__assign)({},Br),activityName:Ze.aw,correlationId:null===(Rt=this.telemetryService.root)||void 0===Rt?void 0:Rt.id,visualId:Xt.name})}function Ir(Ur,hr,Rr){var Tt=!1;return hr&&(Tt=hr.propertyIdentifier?(0,_e.NA)(Ur,hr.propertyIdentifier,hr.defaultValue)===Rr:hr.defaultValue===Rr),Tt}},Ge.prototype.getFormattingModelAsync=function(){var Re=this;return this.asyncSerializer.enqueue(function(){var Xe=Re.promiseFactory.defer();return Re.proxy.postMessageAsync("getFormattingModel",[]).then(function(Me){var He=Me;if(!He)return Xe.resolve(null);var ct=function(Ge,Re){return null==Re||Re.cards.forEach(function(Xe){var Me;null===(Me=null==Xe?void 0:Xe.groups)||void 0===Me||Me.forEach(function(He){var ct,Mt,It;null===(ct=null==He?void 0:He.slices)||void 0===ct||ct.forEach(function(Bt){Y(Bt,Ge)}),null===(It=null===(Mt=null==He?void 0:He.container)||void 0===Mt?void 0:Mt.containerItems)||void 0===It||It.forEach(function(Bt){var jt,Kt;null===(jt=null==Bt?void 0:Bt.slices)||void 0===jt||jt.forEach(function(Yt){Y(Yt,Ge)}),null===(Kt=null==Bt?void 0:Bt.groups)||void 0===Kt||Kt.forEach(function(Yt){var Zt;null===(Zt=null==Yt?void 0:Yt.slices)||void 0===Zt||Zt.forEach(function(or){Y(or,Ge)})})})})}),Re}(Re.dataViewSerializer,He);Xe.resolve(ct)}).catch(function(Me){return Xe.reject(Me)}),Xe.promise})},Ge.prototype.getSubSelectionStylesAsync=function(Re){var Xe=this;return this.asyncSerializer.enqueue(function(){var Me=Xe.promiseFactory.defer(),He=Xe.convertToCustomVisualSubSelections(Re);return Xe.proxy.postMessageAsync("getSubSelectionStyles",[He]).then(function(ct){if(!ct)return Me.resolve(void 0);var Mt=function(Ge,Re){var Xe;if(Re)return function(Ge){var Re,Xe,Me;if(Ge.type=null!==(Re=Ge.type)&&void 0!==Re?Re:0,1===Ge.type||2===Ge.type){var He={label:"",reference:{objectName:"",propertyName:""}};"font"in Ge&&(Ge.font=null!==(Xe=Ge.font)&&void 0!==Xe?Xe:He),Ge.fontColor=null!==(Me=Ge.fontColor)&&void 0!==Me?Me:He}}(Re),null===(Xe=Object.values(Re))||void 0===Xe||Xe.forEach(function(Me){d(Ge,null==Me?void 0:Me.reference)}),Re}(Xe.dataViewSerializer,ct);Me.resolve(Mt)}).catch(function(ct){return Me.reject(ct)}),Me.promise})},Ge.prototype.getSubSelectionShortcutsAsync=function(Re,Xe){var Me=this;return this.asyncSerializer.enqueue(function(){var He=Me.promiseFactory.defer(),ct=Me.convertToCustomVisualSubSelections(Re);return Me.proxy.postMessageAsync("getSubSelectionShortcuts",[ct,Xe]).then(function(Mt){if(!Mt)return He.resolve(void 0);var It=function(Ge,Re){return null==Re||Re.forEach(function(Xe){if(Xe)switch(Xe.type){case 0:!function(Ge,Re){l(Ge,Re.relatedResetFormattingIds),l(Ge,Re.excludedResetFormattingIds)}(Ge,Xe);break;case 2:u(Ge,Xe);break;case 6:d(Ge,Xe);break;case 1:n(Ge,Xe);break;case 8:!function(Ge,Re){var Xe;null===(Xe=Re.shortcuts)||void 0===Xe||Xe.forEach(function(Me){if(Me)switch(Me.type){case 2:u(Ge,Me);break;case 1:n(Ge,Me);break;case 6:d(Ge,Me)}})}(Ge,Xe);break;case 9:!function(Ge,Re){Re.referencesAndValues?l(Ge,Re.referencesAndValues):Re.referencesAndValues=[]}(Ge,Xe)}}),Re}(Me.dataViewSerializer,Mt);He.resolve(It)}).catch(function(Mt){return He.reject(Mt)}),He.promise})},Ge.prototype.getSubSelectablesAsync=function(Re){var Xe=this;return this.asyncSerializer.enqueue(function(){var Me=Xe.promiseFactory.defer();return Xe.proxy.postMessageAsync("getSubSelectables",[Re]).then(function(He){if(!He)return Me.resolve(void 0);var ct=V(Xe.dataViewSerializer,He);Me.resolve(ct)}).catch(function(He){return Me.reject(He)}),Me.promise})},Ge.prototype.enumerateObjectInstancesAsync=function(Re){var Xe=this,Me=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[Re]).then(function(He){var ct,Mt,It=He;if(!It)return Me.resolve(null);if(It.instances){var Bt;if((0,j.fA)(null===(ct=Xe.proxy)||void 0===ct?void 0:ct.plugin)){var jt=Xe.dataViewSerializer.deserializeVisualObjectInstance(It.instances);Bt=(0,fe.vB)(jt)}else Bt=(0,fe.vB)(It.instances);var Kt={instances:Bt,containers:It.containers?(0,fe.S4)(It.containers):null};return Me.resolve(Kt)}(0,j.fA)(null===(Mt=Xe.proxy)||void 0===Mt?void 0:Mt.plugin)&&(He=Xe.dataViewSerializer.deserializeVisualObjectInstance(He));var Yt=(0,fe.vB)(He);Me.resolve(Yt)}).catch(function(He){return Me.reject(He)}),Me.promise},Ge.prototype.enumerateObjectRepetitionAsync=function(){var Re=this;return this.enumerateObjectRepetitionAsyncPromise=this.promiseFactory.defer(),this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(function(Xe){if(!Xe)return Re.enumerateObjectRepetitionAsyncPromise.resolve(null);var He=(0,ne.vB)(Xe);Re.enumerateObjectRepetitionAsyncPromise.resolve(He)}).catch(function(Xe){return Re.enumerateObjectRepetitionAsyncPromise.reject(Xe)}),this.enumerateObjectRepetitionAsyncPromise.promise},Ge.prototype.onSelect=function(Re){var Xe;if((0,H.FE)(Re)){var Me=Re;Xe={data:(0,c.UU)(Me.data),data2:(0,c.JF)(Me.data2),selectors:(0,c.UU)(Me.selectors)}}else Xe={type:0,visualObjects:(0,c.kg)(Re.visualObjects)};this.visualHostServices.onSelect(Xe)},Ge.prototype.subSelect=function(Re){if(this.formatMode&&Re){var Xe,Me=V(this.dataViewSerializer,[Re]);if(Me&&Me[0]){var He=this.fixCoordinates([Me[0].selectionOrigin.x,Me[0].selectionOrigin.y]);if(Xe=(0,t.__assign)((0,t.__assign)({},Me[0]),{type:1,selectionOrigin:{x:He[0],y:He[1]}}),this.visualHostServices.onSelect(Xe),Me[0].showUI){var ct=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2,clientX:He[0],clientY:He[1]});"visual-area"!==Me[0].visualObjects[0].objectName&&(0,Be.n)(ct),this.element.get(0).dispatchEvent(ct)}}}},Ge.prototype.updateRegionOutlines=function(Re){var Xe=this;if(this.formatMode&&Re){var He=function(Ge,Re){for(var Xe=[],Me=Math.min(Ge.length,Re.loopLimit),He=0;He<Me;He++)y(Ge[He].outline,Re)&&Xe.push(Ge[He]);return Xe}(Re,{fixCoordinates:function(It){return Xe.fixCoordinates(It)},loopLimit:1e5,scale:this.viewPortScale}),ct=this.visualHostServices.getSubSelectionService();null==ct||ct.updateRegionOutlines(He)}},Ge.prototype.convertToCustomVisualSubSelections=function(Re){var Me,He,Xe=this;if(Re){var ct=null===(He=null===(Me=this.proxy)||void 0===Me?void 0:Me.plugin)||void 0===He?void 0:He.apiVersion;return Re.map(function(Mt){var It=Mt.visualObjects.map(function(Bt){var jt=Bt.selectorsByColumn&&Xe.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(Bt.selectorsByColumn,(0,ve.ge)(ct,"5.8.0"));return{objectName:Bt.objectName,selectionId:jt&&new U.r(jt.serializedDataMap,jt.measures)}});return(0,t.__assign)((0,t.__assign)({},Mt),{visualObjects:[],customVisualObjects:It})})}},Ge.prototype.transformCvSelectionIdsAndSelect=function(Re){var Xe;if(this.visualSelections=[],Re.selectionIds){Xe={type:0,visualObjects:[]};for(var Me=0,He=Re.selectionIds;Me<He.length;Me++){var ct=He[Me];ct=new U.r(ct.dataMap,ct.measures);var It=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ct).getSelectorsByColumn();Xe.visualObjects.push({objectName:"dataPoint",selectorsByColumn:It}),this.visualSelections.push(It)}}else Xe={type:0,visualObjects:[]};Xe.selectionMode=Re.multiSelect?3:0,this.visualHostServices.onSelect(Xe)},Ge.prototype.onRestoreCvSelectionIds=function(Re){if(Re.selection){var Xe=this.RestoreCvSelectionIds(Re.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[Xe]),!0}},Ge.prototype.RestoreCvSelectionIds=function(Re){this.visualSelections=Re;for(var Xe=[],Me=0,He=Re;Me<He.length;Me++){var ct=He[Me];if(ct){var Mt=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(ct);Mt&&Xe.push(Mt)}}return Xe},Ge.prototype.onUpdateResult=function(Re){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!Re)},Ge.prototype.onRelayUIEvent=function(Re){var Xe=this.element.offset();if(null!=Xe){var Me;switch(Re.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":case"dblclick":Me=new MouseEvent(Re.type,{screenX:Re.screenX,screenY:Re.screenY,clientX:Re.clientX?Re.clientX+Xe.left:Xe.left,clientY:Re.clientY?Re.clientY+Xe.top:Xe.top,ctrlKey:Re.ctrlKey,shiftKey:Re.shiftKey,altKey:Re.altKey,metaKey:Re.metaKey,buttons:Re.buttons,relatedTarget:Re.relatedTarget,bubbles:Re.bubbles});break;case"tap":case"touchend":case"touchcancel":var It=Re,Bt=this.createTouchList(It.touches,Xe),jt=this.createTouchList(It.changedTouches,Xe),Kt=this.createTouchList(It.targetTouches,Xe);Me=new TouchEvent(It.type,{touches:Bt,targetTouches:Kt,changedTouches:jt,view:window,ctrlKey:It.ctrlKey,shiftKey:It.shiftKey,altKey:It.altKey,metaKey:It.metaKey});break;case"keydown":Me=new KeyboardEvent(Re.type,{altKey:Re.altKey,bubbles:Re.bubbles,cancelable:Re.cancelable,code:Re.code,composed:Re.composed,ctrlKey:Re.ctrlKey,key:Re.key,keyCode:Re.keyCode,metaKey:Re.metaKey,shiftKey:Re.shiftKey});break;default:return}this.element.get(0).dispatchEvent(Me)}},Ge.prototype.createTouchList=function(Re,Xe){var Me=[];if(null==Re)return Me;for(var He=0;He<Re.length;He++){var ct=Re.item(He),Mt=new Touch({identifier:ct.identifier,target:ct.target,clientX:ct.clientX?ct.clientX+Xe.left:Xe.left,clientY:ct.clientY?ct.clientY+Xe.top:Xe.top,screenX:ct.screenX,screenY:ct.screenY,pageX:ct.pageX?ct.pageX+Xe.left:Xe.left,pageY:ct.pageY?ct.pageY+Xe.top:Xe.top,radiusX:ct.radiusX,radiusY:ct.radiusY,rotationAngle:ct.rotationAngle,force:ct.force});Me.push(Mt)}return Me},Ge.prototype.persistProperties=function(Re){var Me,Xe=Re;Xe.merge||Xe.remove||Xe.replace?(this.deserilizePersistedSelectors(Xe),Me={merge:Xe.merge?(0,fe.vB)(Xe.merge):null,remove:Xe.remove?(0,fe.vB)(Xe.remove):null,replace:Xe.replace?(0,fe.vB)(Xe.replace):null}):Me=(0,fe.vB)(Re),this.visualHostServices.persistProperties(Me)},Ge.prototype.deserilizePersistedSelectors=function(Re){var Xe=this,Me=function(ct){null==ct||ct.map(function(Mt){return Xe.dataViewSerializer.deserializeOpaqueIdentity(Mt.selector),Mt})};Me(Re.merge),Me(Re.remove),Me(Re.replace)},Ge.prototype.applyJsonFilter=function(Re,Xe,Me,He){switch(Re&&Re.length>0&&Re[0].filterType){case We.FilterType.Identity:return this.applyIdentityFilter(Re,Xe,Me,He);case We.FilterType.HierarchyIdentity:return this.applyHierarchyIdentityFilter(Re,Xe,Me,He);default:return this.visualHostServices.applyJsonFilter(Re,Xe,Me,He)}},Ge.prototype.applyHierarchyIdentityFilter=function(Re,Xe,Me,He,ct){var Mt=this.proxy.plugin.apiVersion;if(Mt&&!(0,ve.lt)(Mt,"5.9.0")){try{Re[0]=I(Re[0],this.dataViewSerializer)}catch(It){return void ct({telemetryServiceArgs:{aborted:!0}})}this.visualHostServices.applyJsonFilter(Re,Xe,Me,He)}else ct({telemetryServiceArgs:{aborted:!0,invalidApiVersion:!0}})},Ge.prototype.refreshHostData=function(){this.visualHostServices.refreshHostData()},Ge.prototype.setCanDrill=function(Re,Xe){this.featureSwitchService.featureSwitches.drillStateToggleable&&(Xe({telemetryServiceArgs:{drillAllowed:Re}}),this.visualHostServices.setCanDrill(Re))},Ge.prototype.drill=function(Re){null==Re||!Re.roleName||null==Re||!Re.drillType||this.visualHostServices.drill(Re)},Ge.prototype.onCustomVisualContextMenu=function(Re,Xe){var Me,He;if(Re&&Re.data&&Re.position&&Re.data[0]){var jt,Mt=Re.data[0],It=new U.r(Mt.dataMap,Mt.measures,Mt.nodeIsCollapsed,Mt.nodeIndexes),Bt=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if((null===(Me=this.proxy)||void 0===Me?void 0:Me.isDebug)||(null===(He=this.proxy)||void 0===He?void 0:He.plugin),Bt&&Bt.expandCollapse){var Yt=this.getRowsRoles(Bt);Yt&&_.isEqual(Yt,Re.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(It)?(jt=this.dataViewSerializer.getNodeIndexOfSelectionId(It),_.isEmpty(jt)&&(Xe({telemetryServiceArgs:{expandCollapseAborted:!0}}),jt=void 0,Re.dataRoles=void 0)):(Xe({telemetryServiceArgs:{expandCollapseAborted:!0}}),Re.dataRoles=void 0))}var or=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(It),_r=this.fixCoordinates([Re.position.x,Re.position.y]),Pr=or.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:Pr?[Pr]:void 0,nodeIndex:jt,position:{x:_r[0],y:_r[1]},copyArgs:Re.copyArgs,dataRoles:Re.dataRoles})}},Ge.prototype.onCustomVisualExpandCollapse=function(Re,Xe){var Me,He,Mt=Re&&Re.data,It=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,Bt=this.getRowsRoles(It);if((null===(Me=this.proxy)||void 0===Me?void 0:Me.isDebug)||(null===(He=this.proxy)||void 0===He?void 0:He.plugin),Mt&&null!=Mt.nodeIsCollapsed&&It&&It.expandCollapse&&Bt)if(this.dataViewSerializer.sortSelectionIdAccordingToRows(Mt)){var Yt=this.dataViewSerializer.getNodeIndexOfSelectionId(Mt);if(_.isEmpty(Yt))Xe({telemetryServiceArgs:{aborted:!0}});else{var Zt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Mt).getSelectorsByColumn();Re.entireLevel?this.visualHostServices.setLevelExpansionState({data:Zt,dataRoles:Bt,isCollapse:!Mt.nodeIsCollapsed,nodeIndex:Yt}):this.visualHostServices.setNodeExpansionState({data:Zt,dataRoles:Bt,isCollapse:!Mt.nodeIsCollapsed,nodeIndex:Yt})}}else Xe({telemetryServiceArgs:{aborted:!0}});else Xe({telemetryServiceArgs:{aborted:!0}})},Ge.prototype.exportVisualsContentStatusInternal=function(){var Re=this.privilegeService.getExportContentStatus(this.proxy.plugin);return 0===Re&&!this.isExportVisualsContentSupported&&(Re=2),Re},Ge.prototype.exportVisualsContentStatus=function(Re){var Xe=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:Xe,promiseId:Re}])},Ge.prototype.exportVisualsContent=function(Re,Xe,Me,He,ct,Mt){var Bt,It=this,jt=this.exportVisualsContentStatusInternal();0===jt||3===jt?new Te(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(Re,this.proxy.plugin.name+"_"+Xe,Me,He,ct).then(function(Pr){It.proxy.postMessage("handleExportVisualsContent",[Pr])}):(Mt({telemetryServiceArgs:{cvHostEnvironment:null!==(Bt=this.visualSandboxOptions)&&void 0!==Bt&&Bt.hostEnv?Le[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",jt),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:ct}]))},Ge.prototype.onSwitchFocusModeState=function(Re){this.visualHostServices.onSwitchFocusModeState(Re)},Ge.prototype.onDisplayWarningIcon=function(Re,Xe,Me){var Mt=Ne.Jh,It=new L.VS(Ne.j,Re.substr(0,Ne.IQ),Xe.substr(0,Mt));this.visualHostServices.setWarnings([It]),Me({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})},Ge.prototype.getRowsRoles=function(Re){var Xe=Re&&Re.dataViewMappings&&Re.dataViewMappings[0]&&Re.dataViewMappings[0].matrix&&Re.dataViewMappings[0].matrix.rows;return Xe?Ke.nG.fromMatrixRows(Xe):void 0},Ge.prototype.fixCoordinates=function(Re){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return Re;var Xe=this.element.offset();return Re[0]=Re[0]*this.viewPortScale+Xe.left,Re[1]=Re[1]*this.viewPortScale+Xe.top,Re},Ge.prototype.deserializeIdentities=function(Re){var Xe;if(Re&&(0,j.fA)(null===(Xe=this.proxy)||void 0===Xe?void 0:Xe.plugin)){for(var Me=[],He=0,ct=Re;He<ct.length;He++)Me.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ct[He]));return Me&&_(Me).map(function(jt){return jt.getSelectorsByColumn()}).compact().value()}return Re&&_(Re).map(function(jt){return(0,c.JF)(jt)}).compact().value()},Ge.prototype.showTooltip=function(Re){if(this.tooltipService&&this.tooltipService.enabled()){var Xe=_.cloneDeep(Re);Xe.coordinates=this.fixCoordinates(Xe.coordinates),Xe.identities=this.deserializeIdentities(Re.identities),this.tooltipService.show(Xe)}},Ge.prototype.moveTooltip=function(Re){if(this.tooltipService&&this.tooltipService.enabled()){var Xe=_.cloneDeep(Re);Xe.coordinates=this.fixCoordinates(Xe.coordinates),Xe.identities=this.deserializeIdentities(Re.identities),this.tooltipService.move(Xe)}},Ge.prototype.hideTooltip=function(Re){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(Re)},Ge.prototype.getAvailableServicePlans=function(Re){var Xe=this;if(this.telemetryService.logEvent(Ze.$7,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(Ze.th),this.licenseService){var Me=(0,j.aM)(this.proxy.plugin.name,this.proxy.isDebug);this.licenseService.getServicePlans(Me).then(function(ct){if(!ct)throw Error("servicePlansResponse is undefined");Xe.proxy.postMessage("handleLicenseResult",[{promiseId:Re,licenseInfoResult:{plans:ct.servicePlans,isLicenseUnsupportedEnv:ct.isLicenseUnsupported,isLicenseInfoAvailable:ct.isLicenseInfoAvailable}}])}).catch(function(){Xe.telemetryService.logEvent(Ze.L1,{visualType:Xe.proxy.plugin.name}),Xe.proxy.postMessage("handleLicenseResult",[{promiseId:Re,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(Ze.IC,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:Re,licenseInfoResult:void 0}])},Ge.prototype.acquireAADToken=function(Re){return(0,t.__awaiter)(this,void 0,void 0,function(){var Xe,Me;return(0,t.__generator)(this,function(ct){switch(ct.label){case 0:return[4,this.customVisualsTokenManagerService.acquireTokenForCustomVisual(this.proxy.plugin,this.proxy.isDebug)];case 1:return Xe=ct.sent(),Me=this.getAcquireAADTokenResult(Xe),this.proxy.postMessage("handleAcquireAADTokenResult",[{promiseId:Re,data:Me}]),[2]}})})},Ge.prototype.getAcquireAADTokenResult=function(Re){return Re?{accessToken:Re.accessToken,expiresOn:Re.expiresOn,userInfo:{userId:Re.userId,tenantId:Re.tenantId},fabricInfo:{cloudName:Re.cloudName}}:{accessToken:null}},Ge.prototype.getAcquireAADTokenStatus=function(Re,Xe){return(0,t.__awaiter)(this,void 0,void 0,function(){var Me,He;return(0,t.__generator)(this,function(Mt){switch(Mt.label){case 0:return[4,this.getAcquireAADTokenPrivilegeStatus()];case 1:return Me=Mt.sent(),Xe({activityAttributesArgs:{status:He=at[Me]},telemetryServiceArgs:{status:He}}),this.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:Re,status:Me}]),[2]}})})},Ge.prototype.getAcquireAADTokenPrivilegeStatus=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var Re,Xe;return(0,t.__generator)(this,function(Me){switch(Me.label){case 0:return Re=this.privilegeService.getAcquireAADTokenStatus(this.proxy.plugin),(Xe=0===Re)?[4,this.isAcquireAADTokenSupported()]:[3,2];case 1:Xe=!Me.sent(),Me.label=2;case 2:return[2,Xe?2:Re]}})})},Ge.prototype.isAcquireAADTokenSupported=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var Re;return(0,t.__generator)(this,function(Xe){switch(Xe.label){case 0:return(Re=this.isDebugOrApprovedResource())?[4,this.privilegeService.getAcquireAADTokenAudience(this.proxy.plugin,this.proxy.isDebug)]:[3,2];case 1:Re=!!Xe.sent(),Xe.label=2;case 2:return[2,Re]}})})},Ge.prototype.isDebugOrApprovedResource=function(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)},Ge.prototype.notifyLicenseRequired=function(Re,Xe){return(0,t.__awaiter)(this,void 0,void 0,function(){var Me,He,ct;return(0,t.__generator)(this,function(Mt){switch(Mt.label){case 0:return Me={promiseId:Xe,licenseNotificationResult:void 0},[4,this.licenseService.isLicenseUnsupportedEnv()];case 1:return He=Mt.sent(),null==Re||He!==(1===Re)||0===Re&&1!==this.visualHostServices.getViewMode()?Me.licenseNotificationResult=!1:(this.visualHostServices.onNotifyLicense(Re),Me.licenseNotificationResult=!0),this.proxy.postMessage("handleLicenseNotificationResult",[Me]),this.telemetryService.logEvent(Ze.Fh,{visualType:this.proxy.plugin.name,notificationType:ct=null==Re?"null":Ve[Re],responseValue:Me.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ze.Yv,{notificationType:ct,responseValue:Me.licenseNotificationResult}),[2]}})})},Ge.prototype.notifyFeatureBlocked=function(Re,Xe){return(0,t.__awaiter)(this,void 0,void 0,function(){var Me;return(0,t.__generator)(this,function(ct){switch(ct.label){case 0:return Me={promiseId:Xe,licenseNotificationResult:void 0},[4,this.licenseService.isLicenseUnsupportedEnv()];case 1:return ct.sent()?Me.licenseNotificationResult=!1:(this.visualHostServices.onNotifyFeatureBlocked(Re),Me.licenseNotificationResult=!0),this.proxy.postMessage("handleLicenseNotificationResult",[Me]),this.telemetryService.logEvent(Ze.Px,{visualType:this.proxy.plugin.name,responseValue:Me.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ze.QC,{responseValue:Me.licenseNotificationResult}),[2]}})})},Ge.prototype.clearLicenseNotification=function(Re){var Xe={promiseId:Re,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[Xe]),this.telemetryService.logEvent(Ze.VN,{visualType:this.proxy.plugin.name,responseValue:Xe.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ze.rY,{responseValue:Xe.licenseNotificationResult})},Ge.prototype.logLicensingStandardizedFeatureEvent=function(Re,Xe){var Me;this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:Xe,activityName:Re,correlationId:null===(Me=this.telemetryService.root)||void 0===Me?void 0:Me.id,visualId:this.proxy.plugin.name})},Ge.prototype.loadMoreData=function(Re){var Xe=this;this.canHandleLoadMoreData&&(void 0===Re&&(Re=!0),this.visualAdapterHostServices&&(this.canHandleLoadMoreData=!1,this.visualAdapterHostServices.startProgressBar(),this.visualAdapterHostServices.getNextDataSegment().then(function(Me){if(Xe.proxy&&Xe.proxy.plugin&&(0,j.fA)(Xe.proxy.plugin)&&Me&&Me.result&&Me.result.dataReaderResult&&Me.result.dataReaderResult.dataView){Q.fF.assert(function(){return!!Xe.dataViewSerializer.identitiesArray},"identitiesArray should be defined because update was called");var He=Xe.proxy.plugin,ct=Me.result.dataReaderResult.dataView;ct=(0,G.nn)({prototype:ct,objectDescriptors:He.capabilities?He.capabilities.objects:null,dataViewMappings:He.capabilities?He.capabilities.dataViewMappings:null,transforms:Xe.dataTransforms,colorAllocatorFactory:(0,F.V)(),dataRoles:He.capabilities?He.capabilities.dataRoles:null,drillCapabilities:He.capabilities&&He.capabilities.drilldown,expandCollapseCapabilties:He.capabilities&&He.capabilities.expandCollapse,visualStyle:Xe.visualStyle,keepAllMetadataColumnsCapability:!!He.capabilities&&He.capabilities.keepAllMetadataColumns,featureSwitches:Xe.featureSwitches}).dataViews[0];var Mt=Xe.dataViewSerializer.serializeDataViewForCv(ct,He.capabilities,!0,(0,ve.gt)(He.apiVersion,"3.5.9"),Me.secondToLastNodesIndex,(0,ve.ge)(He.apiVersion,"5.3.0"),(0,ve.ge)(He.apiVersion,"5.9.0"));He.capabilities&&He.capabilities.expandCollapse&&Xe.visualAdapterHostServices.mergeNewSegmentDataView(Me),Xe.proxy.postMessageAsync("handleLoadMoreDataResult",[Mt,Re,Me.secondToLastNodesIndex]).then(function(){Me.performanceActivity&&Me.performanceActivity.resolve()})}else Xe.proxy.postMessageAsync("handleLoadMoreDataResult",[Me&&Me.result,Re,void 0]).then(function(){Me.performanceActivity&&Me.performanceActivity.resolve()});Xe.canHandleLoadMoreData=!0}).catch(function(Me){Xe.visualAdapterHostServices.stopProgressBar(),Xe.canHandleLoadMoreData=!0})))},Ge.prototype.getResourceUrl=function(Re,Xe){var Me=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(Re).then(function(He){Me.proxy.postMessage("handleGetResourceUrlResult",[{payload:He,isError:!1,promiseId:Xe}])}).catch(function(He){Me.proxy.postMessage("handleGetResourceUrlResult",[{payload:He,isError:!0,promiseId:Xe}])})},Ge.prototype.getAADAuthenticationToken=function(Re,Xe){var Me=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(Re).then(function(He){Me.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:He.payload,isError:!1,promiseId:Xe,resourceUrl:He.resourceUrl}])}).catch(function(He){Me.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:He,isError:!0,promiseId:Xe}])})},Ge.prototype.getAADToken=function(Re,Xe){var Me=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(Re).then(function(He){Me.proxy.postMessage("handleGetAADTokenResult",[{payload:He,isError:!1,promiseId:Xe}])}).catch(function(He){Me.proxy.postMessage("handleGetAADTokenResult",[{payload:He,isError:!0,promiseId:Xe}])})},Ge.prototype.getWACToken=function(Re,Xe,Me,He){var ct=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(Re,Xe,Me).then(function(Mt){ct.proxy.postMessage("handleGetWACTokenResult",[{payload:Mt.accessToken,wacToken:Mt,isError:!1,promiseId:He}])}).catch(function(Mt){ct.proxy.postMessage("handleGetWACTokenResult",[{payload:Mt,isError:!0,promiseId:He}])})},Ge.prototype.launchUrl=function(Re){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(Re,this.proxy.plugin.name)},Ge.prototype.openModalDialog=function(Re,Xe,Me,He){var ct,It,Bt,Mt=this;if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||null===(Bt=null===(It=this.initOptions)||void 0===It?void 0:It.interactivity)||void 0===Bt||!Bt.allowModalDialog||Re.length>80||/[^0-9a-zA-Z_ \.]/.test(Re))this.proxy.postMessage("handleModalDialogResult",[{promiseId:He,isError:!0,data:{error:Je.NotAllowed}}]);else if(Ge.dialogBlockedVisuals[this.proxy.plugin.name])this.proxy.postMessage("handleModalDialogResult",[{promiseId:He,isError:!0,data:{error:Je.BlockedByUser}}]);else{Xe.position&&1===Xe.position.type&&(ct=this.fixCoordinates([Xe.position.left,_.clamp(Xe.position.top,0,Xe.position.top)]),Xe.position.left=ct[0],Xe.position.top=ct[1]);var Kt=new J((0,O.zC)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),Yt=this.proxy.plugin.displayName,Zt=this.visualSandboxOptions.dialogSandboxUri,or=this.visualSandboxOptions.sandboxPropertiesString,_r=JSON.stringify(Me),Pr=this.generateDialogScript(Re,_r),mt=this.proxy.plugin.content.css,ar=this.visualSandboxOptions.openIFrameDialog({title:Yt,subTitle:Xe.title,iconUrl:this.proxy.plugin.iconUrl,size:Xe.size,position:Xe.position,actionButtons:Xe.actionButtons,sandboxProperties:or,iframeSrc:Zt,onIframeLoad:function(Cr){Cr.contentWindow&&(Kt.iframe=Cr,Cr.contentWindow.postMessage({messageType:"DialogContent",style:mt,scriptContent:Pr},"*"))},onBlockRequest:function(Cr){Ge.dialogBlockedVisuals[Mt.proxy.plugin.name]=Cr},onClose:function(Cr){Kt.dialog=null,Mt.proxy.postMessage("handleModalDialogResult",[{promiseId:He,data:{actionId:Cr,resultState:Kt.modalDialogState}}]),Kt.destroy()}});ar?Kt.dialog=ar:this.proxy.postMessage("handleModalDialogResult",[{promiseId:He,isError:!0,data:{error:Je.AlreadyOpen}}])}},Ge.prototype.getLocalStorageStatusInternal=function(){var Re=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return 0===Re&&(Re=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?0:3),Re},Ge.prototype.isLocalStoragePermitted=function(){var Re=this.getLocalStorageStatusInternal(),Xe=0===Re;return Xe||this.logPrivilegesViolation("LocalStorage",Re),Xe},Ge.prototype.getStorageStatus=function(Re,Xe){var He={promiseId:Re,status:this.getLocalStorageStatusInternal()};Xe({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[He])},Ge.prototype.getStorageData=function(Re,Xe){var Me;if(this.isLocalStoragePermitted()){var He=Se.getData(null===(Me=(0,je.bG)())||void 0===Me?void 0:Me.puid,this.proxy.plugin.name,Re);this.proxy.postMessage("handleGetStorageData",[{promiseId:Xe,data:He}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:Xe,data:null}])},Ge.prototype.setStorageData=function(Re,Xe,Me){var He;if(this.isLocalStoragePermitted()){var ct=Se.setData(null===(He=(0,je.bG)())||void 0===He?void 0:He.puid,this.proxy.plugin.name,Re,Xe);this.proxy.postMessage("handleSetStorageData",[{promiseId:Me,freeSpace:ct,isError:ct<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:Me,freeSpace:0,isError:!0}])},Ge.prototype.removeStorageData=function(Re){var Xe;this.isLocalStoragePermitted()&&Se.remove(null===(Xe=(0,je.bG)())||void 0===Xe?void 0:Xe.puid,this.proxy.plugin.name,Re)},Ge.prototype.getStorageV2Status=function(Re,Xe){return(0,t.__awaiter)(this,void 0,void 0,function(){var Me,He;return(0,t.__generator)(this,function(ct){switch(ct.label){case 0:return[4,this.visualLocalStorageV2ProxyService.getStorageV2Status(this.proxy.plugin)];case 1:return Me=ct.sent(),He={status:Me,promiseId:Re},Xe({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[He]),[2]}})})},Ge.prototype.getStorageV2Data=function(Re,Xe){return(0,t.__awaiter)(this,void 0,void 0,function(){var Me,He;return(0,t.__generator)(this,function(ct){switch(ct.label){case 0:return[4,this.visualLocalStorageV2ProxyService.getStorageV2Data(Re,this.proxy.plugin)];case 1:return Me=ct.sent(),He=(0,t.__assign)({promiseId:Xe},Me),this.proxy.postMessage("handleGetStorageV2Data",[He]),[2]}})})},Ge.prototype.setStorageV2Data=function(Re,Xe,Me){return(0,t.__awaiter)(this,void 0,void 0,function(){var He,ct;return(0,t.__generator)(this,function(Mt){switch(Mt.label){case 0:return[4,this.visualLocalStorageV2ProxyService.setStorageV2Data(Re,Xe,this.proxy.plugin)];case 1:return He=Mt.sent(),ct=(0,t.__assign)({promiseId:Me},He),this.proxy.postMessage("handleSetStorageV2Data",[ct]),[2]}})})},Ge.prototype.removeStorageV2Data=function(Re){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(Xe){return this.visualLocalStorageV2ProxyService.removeStorageV2Data(Re,this.proxy.plugin),[2]})})},Ge.prototype.onSecurityPolicyViolation=function(Re,Xe,Me){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,Re),'{"violatedDirective": "'.concat(Xe,'", "blockedURI": "').concat(Re,'"}'))},Ge.prototype.onGlobalUndefinedGet=function(Re){if(Re.length>256||/[^0-9a-zA-Z_\.]/.test(Re))Q.fF.assert(function(){return!1},"invalid property provided");else{var Xe="powerbi.visuals.plugins.".concat(this.proxy.plugin.name);if(!Re.startsWith(Xe)){var Me="".concat(this.proxy.plugin.name,":").concat(Re);Ge.globalUndefinedGets.has(Me)||(Ge.globalUndefinedGets.add(Me),this.logUndefinedGet(Re))}}},Ge.prototype.stopProgressBar=function(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()},Ge.prototype.onRestoreSelection=function(Re){return this.proxy.postMessage("onRestoreSelection",[Re]),!0},Ge.prototype.onClearSelection=function(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])},Ge.prototype.destroy=function(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.enumerateObjectRepetitionAsyncPromise&&this.enumerateObjectRepetitionAsyncPromise.resolve(null),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()},Ge.prototype.logPrivilegesViolation=function(Re,Xe,Me){var He,Mt=null!==(He=this.visualSandboxOptions)&&void 0!==He&&He.hostEnv?Le[this.visualSandboxOptions.hostEnv]:"Undefined";this.telemetryService.logEvent(Ze.rZ,{visualType:this.proxy.plugin.name,environment:Mt,privilege:Re,status:at[Xe],parameters:Me})},Ge.prototype.logUndefinedGet=function(Re){this.telemetryService.logEvent(Ze.Pp,{visualType:this.proxy.plugin.name,property:Re,externalMigration:!!this.featureSwitchService.featureSwitches.emCVBundle,emCVBundle:!!this.featureSwitchService.featureSwitches.emCVBundle,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})},Ge.prototype.resize=function(Re){this.viewPortScale=Re.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:Re.width,height:Re.height})},Ge.prototype.shouldUpdateWithCachedData=function(Re){return(!Re.visualDefinitionData||!Re.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),Re.visualDefinitionData&&Re.visualDefinitionData.dataViewSource&&Re.visualDefinitionData.dataViewSource===this.lastDataViewSource},Ge.prototype.generateDialogScript=function(Re,Xe){return this.proxy.plugin.content.js+"\n"+'const host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            '.concat(this.proxy.plugin.name,".default.createModalDialog('").concat(Re,"', dialogConstructionOptions, ").concat(Xe,');\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");')},Ge.prototype.applyIdentityFilter=function(Re,Xe,Me,He){var ct=Re[0].target;if(!(0,ve.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){He=ct&&ct.length>0?0:1;var It=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(ct);this.visualHostServices.applyIdentityFilter(It,Xe,Me,He)}},Ge.prototype.applyCustomSort=function(Re,Xe){var Me,He,ct,Mt,It,Bt,Kt=!(null===(Mt=null===(ct=null===(He=null===(Me=this.proxy)||void 0===Me?void 0:Me.plugin)||void 0===He?void 0:He.capabilities)||void 0===ct?void 0:ct.sorting)||void 0===Mt||!Mt.custom);Re&&Re.sortDescriptors&&Kt?this.visualHostServices.onCustomSort({sortDescriptors:Re.sortDescriptors,suppressAnnouncements:!0}):((null===(It=this.proxy)||void 0===It?void 0:It.isDebug)||(null===(Bt=this.proxy)||void 0===Bt?void 0:Bt.plugin),Xe({telemetryServiceArgs:{aborted:!0}}))},Ge.dialogBlockedVisuals={},Ge.globalUndefinedGets=new Set,(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onSelect",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"subSelect",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"updateRegionOutlines",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"transformCvSelectionIdsAndSelect",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onUpdateResult",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[UIEvent]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onRelayUIEvent",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"persistProperties",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"applyJsonFilter",null),(0,t.__decorate)([(0,z.V)("Apply HierarchyIdentityFilter",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array,String,String,Number,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"applyHierarchyIdentityFilter",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Dynamic Drill Control",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Boolean,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"setCanDrill",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"drill",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Context Menu",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onCustomVisualContextMenu",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Expand/Collapse",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onCustomVisualExpandCollapse",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"exportVisualsContentStatus",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Download a File From CV",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"exportVisualsContent",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Boolean]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onSwitchFocusModeState",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Informative Icon",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onDisplayWarningIcon",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Report Tooltips"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"showTooltip",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"moveTooltip",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"hideTooltip",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"getAvailableServicePlans",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Acquire AAD Token"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"acquireAADToken",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Acquire AAD Token Status",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number,Function]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"getAcquireAADTokenStatus",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number,Number]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"notifyLicenseRequired",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,Number]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"notifyFeatureBlocked",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"clearLicenseNotification",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Fetch More Data"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Boolean]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"loadMoreData",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"launchUrl",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Modal Dialog"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,Object,Object,Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"openModalDialog",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"getStorageStatus",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"getStorageData",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String,Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"setStorageData",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"removeStorageData",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage V2",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Number,Function]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"getStorageV2Status",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage V2"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,Number]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"getStorageV2Data",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage V2"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String,Number]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"setStorageV2Data",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Local Storage V2"),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String]),(0,t.__metadata)("design:returntype",Promise)],Ge.prototype,"removeStorageV2Data",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String,String,String]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onSecurityPolicyViolation",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[String]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"onGlobalUndefinedGet",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"stopProgressBar",null),(0,t.__decorate)([(0,R.td)(),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"applyIdentityFilter",null),(0,t.__decorate)([(0,R.td)(),(0,z.V)("Apply Custom Sort",!0),(0,t.__metadata)("design:type",Function),(0,t.__metadata)("design:paramtypes",[Object,Function]),(0,t.__metadata)("design:returntype",void 0)],Ge.prototype,"applyCustomSort",null),Ge}()},818204:function(ze,K,r){r.d(K,{n:function(){return v}});var t=r(787941),c=r(19632),i=r(161414),s=r(152200),p=r(477898),m="children",v=function(){function e(){this.serializeDataViewFromScrathTimes=0,this.matrixIdentityToValueMapper=new Map,this.initializeFields()}return e.prototype.serializeDataViewForCv=function(h,n,o,u,a,l,d){var b=this;if(void 0===l&&(l=!1),void 0===d&&(d=!1),o||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),h){h=this.filterDataViewsType(h,n),this.isExpandCollapseSupported=!!h.matrix&&!!n.expandCollapse,this.isExpandCollapseSupported&&(o&&(t.fF.assert(function(){return!_.isEmpty(a)},"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=a),h.matrix.rows.levels.forEach(function(y,C){y.sources&&y.sources[0]&&y.sources[0].queryName&&(b.rowsLevel.length>C?b.rowsLevel[C]=y.sources[0].queryName:b.rowsLevel.push(y.sources[0].queryName))}));var f=this.getValueSource(h),g=this.getValueGroups(h);this.shouldShareIdentityIndexStrategy=l&&!!h.matrix,d&&(d=!!h.matrix&&(0,p.wn)(n));var S=JSON.stringify(h,function(y,C){return b.replacer(y,C,u,d)});return t.fF.assert(function(){return _.isEmpty(b.stackNodeIndex)},"stackNodeIndex should be empty"),{valueSource:f,valueGroups:g,stringifiedDataView:S}}},e.prototype.serializeDataViewMetadata=function(h){var n=this;return h.metadata?JSON.stringify(h.metadata,function(o,u){return n.replacer(o,u)}):null},e.prototype.deserializeDataView=function(h,n,o,u,a){var d,l=this;return void 0===o&&(o=!1),void 0===u&&(u=[]),void 0===a&&(a=!1),this.isExpandCollapseSupported=o,this.lastNodeIndex=u,d=n||this.isExpandCollapseSupported&&a?JSON.parse(h.stringifiedDataView,function(b,f){return l.deserializeDataViewHelper(b,f,a)}):JSON.parse(h.stringifiedDataView),this.reconstructValuesGroups(d,h),this.reconstructValuesSource(d,h),d},e.prototype.convertOpaqueIdentitiesToScopeIds=function(h){var n=[];if(h&&h.length>0)for(var o=0,u=h;o<u.length;o++){var a=u[o],l=this.replaceOpaqueIndexWithScopeIds(a);l&&(l.opaqueIdentity={identityIndex:a},n.push(l))}return n},e.prototype.getDataViewScopeIdentityByCustomVisualOpaqueIdentity=function(h){return this.replaceOpaqueIndexWithScopeIds(h.identityIndex)},e.prototype.convertCVSelectionIdToPowerbiSelctionId=function(h){var n=this,o=JSON.parse(JSON.stringify(h),function(u,a){return n.replaceOpaqueIdentitiesWithDataViewScopeIdentities(u,a)});return i.l0.createWithSelectorForColumnAndMeasures(o.dataMap,o.measures)},e.prototype.restoreIdentitiesIndexesFromSelectionId=function(h,n){var o=this,u={serializedDataMap:{},measures:h.metadata};return _.map(h.dataMap,function(l,d){t.fF.assert(function(){return l.length<=1},"dataMap can only have one selector per column"),u.serializedDataMap[d]=[{identityIndex:o.ensureIdentityIsMapped(l[0])}]}),u.serializedDataMap=n&&!h.dataMap?null:u.serializedDataMap,u},e.prototype.getNodeIndexOfSelectionId=function(h){var n,o=[];if(h&&h.dataMap){if(null!==(n=h.nodeIndexes)&&void 0!==n&&n.length)return h.nodeIndexes;for(var u in h.dataMap){var a=_.first(h.dataMap[u]).identityIndex;null!=this.identityNodeIndexArray[a]&&o.push(this.identityNodeIndexArray[a])}}return o},e.prototype.sortSelectionIdAccordingToRows=function(h){var n=this;if(!h||!h.dataMap)return!1;var o=Object.keys(h.dataMap),u=Object.keys(h.dataMap).sort(function(d,b){return n.rowsLevel.indexOf(d)-n.rowsLevel.indexOf(b)}),a=!_.isEmpty(u)&&!_.isEmpty(this.rowsLevel)&&u.length<=this.rowsLevel.length&&u.every(function(d,b){return d===n.rowsLevel[b]});if(a){var l=h.nodeIndexes;null!=l&&l.length&&l.length===o.length&&(h.nodeIndexes=Object.entries(l).sort(function(d,b){var g=b[0];return n.rowsLevel.indexOf(o[Number(d[0])])-n.rowsLevel.indexOf(o[Number(g)])}).map(function(d){return d[1]})),h.dataMap=u.reduce(function(d,b){return d[b]=h.dataMap[b],d},{})}return a},e.prototype.deserializeVisualObjectInstance=function(h){var n=this;return JSON.parse(JSON.stringify(h,function(o,u){return n.replaceOpaqueIdentities(u)}))},e.prototype.deserializeOpaqueIdentity=function(h){var n=this;null!=h&&h.data&&(h.data=h.data.map(function(o){return n.replaceOpaqueIdentities(o)}))},e.prototype.flushIdentitiesArray=function(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(function(h){h.opaqueIdentity=void 0,h.serializeDataViewFromScrathTimes=void 0})},e.prototype.getCustomVisualOpaqueIdentityByDataViewScopeIdentity=function(h){return{identityIndex:this.ensureIdentityIsMapped(h)}},e.prototype.getDataViewValueByCustomVisualOpaqueIdentity=function(h){var n=h.identityIndex;if(n>=0)return this.matrixIdentityToValueMapper.get(n)},e.prototype.getValueGroups=function(h){var n=this;if(h&&h.categorical&&h.categorical.values&&h.categorical.values.grouped){var o=h.categorical.values.grouped();return JSON.stringify(o,function(u,a){return n.replacer(u,a)})}return null},e.prototype.getValueSource=function(h){return h&&h.categorical&&h.categorical.values&&h.categorical.values.source?h.categorical.values.source:null},e.prototype.deserializeDataViewHelper=function(h,n,o){var u,a,l;if(n&&(o&&this.isExpandCollapseSupported&&!isNaN(parseInt(h,10))&&null!=(null===(u=n.identity)||void 0===u?void 0:u.identityIndex)&&(n.nodeIndex=null!==(a=n.nodeIndex)&&void 0!==a?a:parseInt(h,10)),h===m&&n instanceof Array)){if(o&&this.isExpandCollapseSupported&&!_.isEmpty(n)&&_.first(n).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var d in n){var b=n[d];b.identity&&(b.nodeIndex=null!==(l=b.nodeIndex)&&void 0!==l?l:Number(d),b.nodeIndex+=this.lastNodeIndex[b.level])}for(var f=0;f<n.length;f++)if(n[f]&&(n[f].isDate&&(n[f].value=new Date(n[f].value)),n[f].values))for(var g in n[f].values)n[f].values[g].isDate&&(n[f].values[g].value=new Date(n[f].values[g].value))}return n},e.prototype.replacer=function(h,n,o,u){var l,d,a=this;if(void 0===u&&(u=!1),n){if(u&&n.levelValues&&this.isDataViewScopeIdentity(n.identity)&&this.valuesStack.push(null===(d=null===(l=n.levelValues)||void 0===l?void 0:l[0])||void 0===d?void 0:d.value),!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(h,10))&&n.identity&&this.isDataViewScopeIdentity(n.identity)&&(this.stackNodeIndex.push(parseInt(h,10)+this.getNodeIndexOffset(n)),n.needOffset&&delete n.needOffset),this.isDataViewScopeIdentity(n)){if(n.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&n.opaqueIdentity&&null!=n.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var b=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[n.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[n.opaqueIdentity.identityIndex]=b)}return{identityIndex:n.opaqueIdentity.identityIndex}}t.fF.assert(function(){return _.isEmpty(a.lastNodeIndex)||!_.isEmpty(a.lastNodeIndex)&&null==n.opaqueIdentity},"The new segment's values should not have opaqueIdentity"),n.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var f=-1;return this.shouldShareIdentityIndexStrategy&&(f=this.getIndexOfIdentity(n))>-1?(n.opaqueIdentity={identityIndex:f},this.valuesStack.pop()):(n.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[n.key]=this.identitiesArray.length),this.valuesStack.length&&this.matrixIdentityToValueMapper.set(this.identitiesArray.length,this.valuesStack.pop()),this.identitiesArray.push(n)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[n.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),n.opaqueIdentity}if(n instanceof Array){var g=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&h===m&&n.length&&n[0].isMerge)for(var S=0,y=n;S<y.length;S++){var C=y[S];C.identity&&(C.needOffset=!0)}if(o&&h===m)for(var E=0;E<n.length;E++)if(n[E]&&(n[E].value&&n[E].value instanceof Date&&(n[E].isDate=!0),n[E].values))for(var D in n[E].values)n[E].values[D].value&&n[E].values[D].value instanceof Date&&(n[E].values[D].isDate=!0);return g.push.apply(g,n||[]),g}if("object"==typeof n&&!this.dontNeedToClone(n)){var P={};for(var M in n)P[M]=n[M];return P}}return n},e.prototype.replaceOpaqueIdentities=function(h){if(h){var n=h.identityIndex;if(void 0!==n&&n>=0&&n<this.identitiesArray.length)return(0,s.m)(this.identitiesArray[h.identityIndex])}return h},e.prototype.getNodeIndexOffset=function(h){var n=this;return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&h.needOffset?(t.fF.assert(function(){return h.level<n.lastNodeIndex.length},"node's level is too high"),this.lastNodeIndex[h.level]):0},e.prototype.getIndexOfIdentity=function(h){if(this.shouldShareIdentityIndexStrategy){var n=this.identitiesIndexesMapper[h.key];return null!=n?n:-1}return _.findIndex(this.identitiesArray,function(o){return(0,c.fS)(o,h)})},e.prototype.ensureIdentityIsMapped=function(h){var n=this.getIndexOfIdentity(h);return-1===n&&(n=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[h.key]=n),this.identitiesArray.push(h)),n},e.prototype.replaceOpaqueIdentitiesWithDataViewScopeIdentities=function(h,n){return n&&void 0!==n.identityIndex?this.identitiesArray[n.identityIndex]:n},e.prototype.filterDataViewsType=function(h,n){return n.dataViewMappings&&(n.dataViewMappings[0].categorical||(h.categorical=null),n.dataViewMappings[0].matrix||(h.matrix=null),n.dataViewMappings[0].table||(h.table=null),n.dataViewMappings[0].tree||(h.tree=null),n.dataViewMappings[0].single||(h.single=null)),h},e.prototype.dontNeedToClone=function(h){return h._proto_===Object.prototype||h instanceof Date},e.prototype.isDataViewScopeIdentity=function(h){return!!(h&&h.expr&&h.key&&h.kind)},e.prototype.reconstructValuesSource=function(h,n){n&&n.valueSource&&(h.categorical.values.source=n.valueSource)},e.prototype.reconstructValuesGroups=function(h,n){h&&h.categorical&&h.categorical.values&&h.categorical.values[0]&&(h.categorical.values.grouped=function(){return JSON.parse(n.valueGroups)})},e.prototype.replaceOpaqueIndexWithScopeIds=function(h){return h>=0&&h<this.identitiesArray.length?this.identitiesArray[h]:null},e.prototype.initializeFields=function(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1,this.matrixIdentityToValueMapper.clear(),this.valuesStack=[]},e}()}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;